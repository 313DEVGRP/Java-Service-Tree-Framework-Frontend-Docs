{"version":3,"file":"js/chunk.1578.ab9641d9.js","mappings":"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","sources":["webpack://@affine/web/../core/src/components/share-page-not-found-error.tsx","webpack://@affine/web/../core/src/pages/share/share-footer.tsx","webpack://@affine/web/../core/src/pages/share/share-footer.css.ts","webpack://@affine/web/../core/src/components/cloud/share-header-right-item/authenticated-item.tsx","webpack://@affine/web/../core/src/components/cloud/share-header-right-item/styles.css.ts","webpack://@affine/web/../core/src/components/cloud/share-header-right-item/present.tsx","webpack://@affine/web/../core/src/components/cloud/share-header-right-item/user-avatar.tsx","webpack://@affine/web/../core/src/components/cloud/share-header-right-item/index.tsx","webpack://@affine/web/../core/src/pages/share/share-header.tsx","webpack://@affine/web/../core/src/pages/share/share-header.css.ts","webpack://@affine/web/../core/src/pages/share/share-detail-page.tsx","webpack://@affine/web/../core/src/pages/share/share-detail-page.css.ts"],"sourcesContent":["import { Empty } from '@affine/component';\nimport { Logo1Icon } from '@blocksuite/icons/rc';\n\nexport const SharePageNotFoundError = () => {\n  return (\n    <div\n      style={{\n        width: '100%',\n        height: '100vh',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n      }}\n    >\n      <a\n        href=\"https://affine.pro/\"\n        target=\"_blank\"\n        rel=\"noreferrer\"\n        style={{\n          position: 'absolute',\n          top: '16px',\n          left: '16px',\n          fontSize: '24px',\n          cursor: 'pointer',\n        }}\n      >\n        <Logo1Icon />\n      </a>\n      <Empty\n        description={'You do not have access or this content does not exist.'}\n      />\n    </div>\n  );\n};\n","import { useI18n } from '@affine/i18n';\nimport { ArrowRightBigIcon } from '@blocksuite/icons/rc';\n\nimport * as styles from './share-footer.css';\n\nexport const ShareFooter = () => {\n  const t = useI18n();\n  return (\n    <div className={styles.footerContainer}>\n      <div className={styles.footer}>\n        <div className={styles.description}>\n          {t['com.affine.share-page.footer.description']()}\n        </div>\n        <a\n          className={styles.getStartLink}\n          href=\"https://affine.pro/\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          {t['com.affine.share-page.footer.get-started']()}\n          <ArrowRightBigIcon fontSize={16} />\n        </a>\n      </div>\n    </div>\n  );\n};\n","import \"../core/src/pages/share/share-footer.css.ts.vanilla.css!=!../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/pages/share/share-footer.css.ts.vanilla.css\\\",\\\"source\\\":\\\"Ll8xeTAxM2VrMCB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgei1pbmRleDogMTsKICB3aWR0aDogMTAwJTsKICBtYXgtd2lkdGg6IHZhcigtLWFmZmluZS1lZGl0b3Itd2lkdGgpOwogIG1hcmdpbi1sZWZ0OiBhdXRvOwogIG1hcmdpbi1yaWdodDogYXV0bzsKICBwYWRkaW5nLWxlZnQ6IHZhcigtLWFmZmluZS1lZGl0b3Itc2lkZS1wYWRkaW5nKTsKICBwYWRkaW5nLXJpZ2h0OiB2YXIoLS1hZmZpbmUtZWRpdG9yLXNpZGUtcGFkZGluZyk7CiAgbWFyZ2luLWJvdHRvbTogMjAwcHg7Cn0KLl8xeTAxM2VrMSB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgZ2FwOiA4cHg7CiAgd2lkdGg6IDEwMCU7CiAgcGFkZGluZzogMTJweDsKICBiYWNrZ3JvdW5kOiB2YXIoLS1hZmZpbmUtYmFja2dyb3VuZC1vdmVybGF5LXBhbmVsLWNvbG9yKTsKfQouXzF5MDEzZWsyIHsKICBmb250LXNpemU6IHZhcigtLWFmZmluZS1mb250LXNtKTsKICBjb2xvcjogdmFyKC0tYWZmaW5lLXRleHQtc2Vjb25kYXJ5LWNvbG9yKTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KLl8xeTAxM2VrMyB7CiAgZGlzcGxheTogZmxleDsKICBwYWRkaW5nOiAwcHggNHB4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZ2FwOiA0cHg7CiAgY29sb3I6IHZhcigtLWFmZmluZS1ibGFjayk7Cn0KLl8xeTAxM2VrMzp2aXNpdGVkIHsKICBjb2xvcjogdmFyKC0tYWZmaW5lLWJsYWNrKTsKfQpAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA4MDBweCkgewogIC5fMXkwMTNlazAgewogICAgcGFkZGluZy1sZWZ0OiAyNHB4OwogICAgcGFkZGluZy1yaWdodDogMjRweDsKICB9Cn0=\\\"}!../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var description = '_1y013ek2';\nexport var footer = '_1y013ek1';\nexport var footerContainer = '_1y013ek0';\nexport var getStartLink = '_1y013ek3';","import { Button } from '@affine/component/ui/button';\nimport { useNavigateHelper } from '@affine/core/hooks/use-navigate-helper';\nimport { useI18n } from '@affine/i18n';\nimport {\n  useLiveData,\n  useService,\n  WorkspacesService,\n} from '@toeverything/infra';\nimport { useCallback, useEffect } from 'react';\n\nimport type { ShareHeaderRightItemProps } from './index';\nimport * as styles from './styles.css';\n\nexport const AuthenticatedItem = ({\n  setIsMember,\n  ...props\n}: { setIsMember: (value: boolean) => void } & ShareHeaderRightItemProps) => {\n  const { workspaceId, pageId } = props;\n\n  const workspacesService = useService(WorkspacesService);\n  const workspaces = useLiveData(workspacesService.list.workspaces$);\n  const isMember = workspaces?.some(workspace => workspace.id === workspaceId);\n  const t = useI18n();\n  const { jumpToPage } = useNavigateHelper();\n\n  const handleEdit = useCallback(() => {\n    jumpToPage(workspaceId, pageId);\n  }, [workspaceId, pageId, jumpToPage]);\n\n  useEffect(() => {\n    if (isMember) {\n      setIsMember(true);\n    }\n  }, [isMember, setIsMember]);\n\n  if (isMember) {\n    return (\n      <Button\n        className={styles.editButton}\n        onClick={handleEdit}\n        data-testid=\"share-page-edit-button\"\n      >\n        {t['Edit']()}\n      </Button>\n    );\n  }\n\n  return null;\n};\n","import \"../core/src/components/cloud/share-header-right-item/styles.css.ts.vanilla.css!=!../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/cloud/share-header-right-item/styles.css.ts.vanilla.css\\\",\\\"source\\\":\\\"#H4sIAAAAAAAACq1V246bMBB9z1dYkSotD14RctmUVaX+R7WqjD2AN8a2bJOwrfLvFQYSIJCm1T4yc5g5M3Nm/PxznUTvpAjR7wVCjFstyEeMUgHV6wKh99I6nn5gqqQD6WJEQTowtYsInknMHRS2b06VdNjyXxCjaKN9EFoaq0yMtOIdiipRW47EPGFM0pRLwA4qh7XhBTF1QqFM8Lo4L547hvGRW+6Aeab/EWA1XeJMHRnRMVrtmgo0YYzLLEYh2teWa9DIBz1x5vIYrRp0DjzLXYyisPlOCD1kRpWSjQgnyjAwF6o9clJJGKT5wYgjmFtcQJGA+bZ0poTl27CkRCh6mP4NWAYCrH3wx7X3zxMXhB6CuUGecu7Ae/sFjkC6NG0cvApbcIVtTpg6jbOVzimJuZRgWkQwJGuP2awqOjZX/MZjLzPd6Go81e20VHraHqTw9soGU8P3vlNr3IbhXNN8P3qdu7R+snuJIZ0nGAm0Xbq29YYwXtq4s/7rPl9bsptp2k2m1lraelgggLpOzhMdpUqUhcTNsoUzHK0mFHAC7gQgH6D60t/JaD9aymnW2/DL+Hq1dD7jJgqopW24PMQo7FPde6ren5la+KsaX3CJW/oD9NcHj3STzxHj7pDqblbYVO5HsBn1KhquBWnY3tsCWwQ3qt81qldHMKmoi8w5Y80k/cm+OkAIri23nl+9C9jPvhbQyRB9j1vyd27ths4+HRaokqz/eHwW6fGAh0fivPheAOMEWWoAJCKSoaeCVJ0GdptQV4Gvb/49SImwsHy7f/BvXhiEzr2o63nQ+Q9vFkgsKQgAAA==\\\"}!../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var accountCard = '_3b2jam6';\nexport var avatar = '_3b2jam7';\nexport var content = '_3b2jam8';\nexport var editButton = '_3b2jam4';\nexport var headerDivider = '_3b2jam2';\nexport var iconWrapper = '_3b2jam0';\nexport var nameContainer = '_3b2jam9';\nexport var presentButton = '_3b2jam3';\nexport var rightItemContainer = '_3b2jam1';\nexport var userEmail = '_3b2jamb';\nexport var userName = '_3b2jama';\nexport var userPlanButton = '_3b2jam5';","import { Button } from '@affine/component/ui/button';\nimport { useI18n } from '@affine/i18n';\nimport { PresentationIcon } from '@blocksuite/icons/rc';\n\nimport { usePresent } from '../../blocksuite/block-suite-header/present/use-present';\nimport * as styles from './styles.css';\n\nexport const PresentButton = () => {\n  const t = useI18n();\n  const { isPresent, handlePresent } = usePresent();\n\n  return (\n    <Button\n      prefix={<PresentationIcon />}\n      className={styles.presentButton}\n      onClick={() => handlePresent()}\n      disabled={isPresent}\n    >\n      {t['com.affine.share-page.header.present']()}\n    </Button>\n  );\n};\n","import { Avatar } from '@affine/component/ui/avatar';\nimport {\n  Menu,\n  MenuIcon,\n  MenuItem,\n  MenuSeparator,\n} from '@affine/component/ui/menu';\nimport { useAsyncCallback } from '@affine/core/hooks/affine-async-hooks';\nimport { useI18n } from '@affine/i18n';\nimport { SignOutIcon } from '@blocksuite/icons/rc';\nimport { useLiveData, useService } from '@toeverything/infra';\nimport { useEffect, useMemo } from 'react';\n\nimport { AuthService, SubscriptionService } from '../../../modules/cloud';\nimport * as styles from './styles.css';\n\nconst UserInfo = () => {\n  const authService = useService(AuthService);\n  const user = useLiveData(authService.session.account$);\n  const subscription = useService(SubscriptionService).subscription;\n  useEffect(() => {\n    subscription.revalidate();\n  }, [subscription]);\n  const plan = useLiveData(subscription.pro$)?.plan;\n\n  if (!user) {\n    // TODO(@eyhn): loading UI\n    return null;\n  }\n  return (\n    <div className={styles.accountCard}>\n      <Avatar\n        size={28}\n        name={user.label}\n        url={user.avatar}\n        className={styles.avatar}\n      />\n\n      <div className={styles.content}>\n        <div className={styles.nameContainer}>\n          <div className={styles.userName} title={user.label}>\n            {user.label}\n          </div>\n          {plan && <div className={styles.userPlanButton}>{plan}</div>}\n        </div>\n        <div className={styles.userEmail} title={user.email}>\n          {user.email}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport const PublishPageUserAvatar = () => {\n  const authService = useService(AuthService);\n  const user = useLiveData(authService.session.account$);\n  const t = useI18n();\n\n  const handleSignOut = useAsyncCallback(async () => {\n    await authService.signOut();\n  }, [authService]);\n\n  const menuItem = useMemo(() => {\n    return (\n      <>\n        <UserInfo />\n        <MenuSeparator />\n        <MenuItem\n          preFix={\n            <MenuIcon>\n              <SignOutIcon />\n            </MenuIcon>\n          }\n          data-testid=\"share-page-sign-out-option\"\n          onClick={handleSignOut}\n        >\n          {t['com.affine.workspace.cloud.account.logout']()}\n        </MenuItem>\n      </>\n    );\n  }, [handleSignOut, t]);\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <Menu\n      items={menuItem}\n      contentOptions={{\n        style: {\n          transform: 'translateX(-16px)',\n        },\n      }}\n    >\n      <div className={styles.iconWrapper} data-testid=\"share-page-user-avatar\">\n        <Avatar size={24} url={user.avatar} name={user.label} />\n      </div>\n    </Menu>\n  );\n};\n","import { AuthService } from '@affine/core/modules/cloud';\nimport { type DocMode, useLiveData, useService } from '@toeverything/infra';\nimport { useState } from 'react';\n\nimport { AuthenticatedItem } from './authenticated-item';\nimport { PresentButton } from './present';\nimport * as styles from './styles.css';\nimport { PublishPageUserAvatar } from './user-avatar';\n\nexport type ShareHeaderRightItemProps = {\n  workspaceId: string;\n  pageId: string;\n  publishMode: DocMode;\n};\n\nconst ShareHeaderRightItem = ({ ...props }: ShareHeaderRightItemProps) => {\n  const loginStatus = useLiveData(useService(AuthService).session.status$);\n  const { publishMode } = props;\n  const [isMember, setIsMember] = useState(false);\n\n  // TODO(@JimmFly): Add TOC\n  return (\n    <div className={styles.rightItemContainer}>\n      {loginStatus === 'authenticated' ? (\n        <AuthenticatedItem setIsMember={setIsMember} {...props} />\n      ) : null}\n      {publishMode === 'edgeless' ? <PresentButton /> : null}\n      {loginStatus === 'authenticated' ? (\n        <>\n          <div\n            className={styles.headerDivider}\n            data-is-member={isMember}\n            data-is-edgeless={publishMode === 'edgeless'}\n          />\n          <PublishPageUserAvatar />\n        </>\n      ) : null}\n    </div>\n  );\n};\n\nexport default ShareHeaderRightItem;\n","import { EditorModeSwitch } from '@affine/core/components/blocksuite/block-suite-mode-switch';\nimport ShareHeaderRightItem from '@affine/core/components/cloud/share-header-right-item';\nimport type { DocCollection } from '@blocksuite/store';\nimport type { DocMode } from '@toeverything/infra';\n\nimport { BlocksuiteHeaderTitle } from '../../components/blocksuite/block-suite-header/title/index';\nimport * as styles from './share-header.css';\n\nexport function ShareHeader({\n  pageId,\n  publishMode,\n  docCollection,\n}: {\n  pageId: string;\n  publishMode: DocMode;\n  docCollection: DocCollection;\n}) {\n  return (\n    <div className={styles.header}>\n      <EditorModeSwitch isPublic pageId={pageId} publicMode={publishMode} />\n      <BlocksuiteHeaderTitle\n        docCollection={docCollection}\n        pageId={pageId}\n        isPublic={true}\n      />\n      <div className={styles.spacer} />\n      <ShareHeaderRightItem\n        workspaceId={docCollection.id}\n        pageId={pageId}\n        publishMode={publishMode}\n      />\n    </div>\n  );\n}\n","import \"../core/src/pages/share/share-header.css.ts.vanilla.css!=!../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/pages/share/share-header.css.ts.vanilla.css\\\",\\\"source\\\":\\\"Ll8xbG9zZmRjMCB7CiAgZGlzcGxheTogZmxleDsKICBoZWlnaHQ6IDUycHg7CiAgd2lkdGg6IDEwMCU7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBmbGV4LXNocmluazogMDsKICBiYWNrZ3JvdW5kOiB2YXIoLS1hZmZpbmUtYmFja2dyb3VuZC1wcmltYXJ5LWNvbG9yKTsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYWZmaW5lLWJvcmRlci1jb2xvcik7CiAgcGFkZGluZzogMCAxNnB4Owp9Ci5fMWxvc2ZkYzEgewogIGZsZXgtZ3JvdzogMTsKICBtaW4td2lkdGg6IDEycHg7Cn0=\\\"}!../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var header = '_1losfdc0';\nexport var spacer = '_1losfdc1';","import { Scrollable } from '@affine/component';\nimport { useActiveBlocksuiteEditor } from '@affine/core/hooks/use-block-suite-editor';\nimport { usePageDocumentTitle } from '@affine/core/hooks/use-global-state';\nimport { AuthService } from '@affine/core/modules/cloud';\nimport { WorkspaceFlavour } from '@affine/env/workspace';\nimport { useI18n } from '@affine/i18n';\nimport { noop } from '@blocksuite/global/utils';\nimport { Logo1Icon } from '@blocksuite/icons/rc';\nimport type { AffineEditorContainer } from '@blocksuite/presets';\nimport type { Doc as BlockSuiteDoc } from '@blocksuite/store';\nimport type { Doc, DocMode, Workspace } from '@toeverything/infra';\nimport {\n  DocsService,\n  EmptyBlobStorage,\n  FrameworkScope,\n  ReadonlyDocStorage,\n  useLiveData,\n  useService,\n  WorkspaceFlavourProvider,\n  WorkspacesService,\n} from '@toeverything/infra';\nimport clsx from 'clsx';\nimport { useCallback, useEffect, useState } from 'react';\nimport type { LoaderFunction } from 'react-router-dom';\nimport {\n  isRouteErrorResponse,\n  redirect,\n  useLoaderData,\n  useRouteError,\n} from 'react-router-dom';\n\nimport { AppContainer } from '../../components/affine/app-container';\nimport { PageDetailEditor } from '../../components/page-detail-editor';\nimport { SharePageNotFoundError } from '../../components/share-page-not-found-error';\nimport { MainContainer } from '../../components/workspace';\nimport { PeekViewManagerModal } from '../../modules/peek-view';\nimport { CloudBlobStorage } from '../../modules/workspace-engine/impls/engine/blob-cloud';\nimport * as styles from './share-detail-page.css';\nimport { ShareFooter } from './share-footer';\nimport { ShareHeader } from './share-header';\n\ntype DocPublishMode = 'edgeless' | 'page';\n\nexport type CloudDoc = {\n  arrayBuffer: ArrayBuffer;\n  publishMode: DocPublishMode;\n};\n\nexport async function downloadBinaryFromCloud(\n  rootGuid: string,\n  pageGuid: string\n): Promise<CloudDoc | null> {\n  const response = await fetch(`/api/workspaces/${rootGuid}/docs/${pageGuid}`);\n  if (response.ok) {\n    const publishMode = (response.headers.get('publish-mode') ||\n      'page') as DocPublishMode;\n    const arrayBuffer = await response.arrayBuffer();\n\n    // return both arrayBuffer and publish mode\n    return { arrayBuffer, publishMode };\n  }\n\n  return null;\n}\n\ntype LoaderData = {\n  pageId: string;\n  workspaceId: string;\n  publishMode: DocMode;\n  pageArrayBuffer: ArrayBuffer;\n  workspaceArrayBuffer: ArrayBuffer;\n};\n\nfunction assertDownloadResponse(\n  value: CloudDoc | null\n): asserts value is CloudDoc {\n  if (\n    !value ||\n    !((value as CloudDoc).arrayBuffer instanceof ArrayBuffer) ||\n    typeof (value as CloudDoc).publishMode !== 'string'\n  ) {\n    throw new Error('value is not a valid download response');\n  }\n}\n\nexport const loader: LoaderFunction = async ({ params }) => {\n  const workspaceId = params?.workspaceId;\n  const pageId = params?.pageId;\n  if (!workspaceId || !pageId) {\n    return redirect('/404');\n  }\n\n  const [workspaceResponse, pageResponse] = await Promise.all([\n    downloadBinaryFromCloud(workspaceId, workspaceId),\n    downloadBinaryFromCloud(workspaceId, pageId),\n  ]);\n  assertDownloadResponse(workspaceResponse);\n  const { arrayBuffer: workspaceArrayBuffer } = workspaceResponse;\n  assertDownloadResponse(pageResponse);\n  const { arrayBuffer: pageArrayBuffer, publishMode } = pageResponse;\n\n  return {\n    workspaceId,\n    pageId,\n    publishMode,\n    workspaceArrayBuffer,\n    pageArrayBuffer,\n  } satisfies LoaderData;\n};\n\nexport const Component = () => {\n  const {\n    workspaceId,\n    pageId: docId,\n    publishMode,\n    workspaceArrayBuffer,\n    pageArrayBuffer,\n  } = useLoaderData() as LoaderData;\n  const workspacesService = useService(WorkspacesService);\n\n  const t = useI18n();\n  const [workspace, setWorkspace] = useState<Workspace | null>(null);\n  const [page, setPage] = useState<Doc | null>(null);\n  const [_, setActiveBlocksuiteEditor] = useActiveBlocksuiteEditor();\n\n  const defaultCloudProvider = workspacesService.framework.get(\n    WorkspaceFlavourProvider('CLOUD')\n  );\n\n  useEffect(() => {\n    // create a workspace for share page\n    const { workspace } = workspacesService.open(\n      {\n        metadata: {\n          id: workspaceId,\n          flavour: WorkspaceFlavour.AFFINE_CLOUD,\n        },\n        isSharedMode: true,\n      },\n      {\n        ...defaultCloudProvider,\n        getEngineProvider(workspaceId) {\n          return {\n            getDocStorage() {\n              return new ReadonlyDocStorage({\n                [workspaceId]: new Uint8Array(workspaceArrayBuffer),\n                [docId]: new Uint8Array(pageArrayBuffer),\n              });\n            },\n            getAwarenessConnections() {\n              return [];\n            },\n            getDocServer() {\n              return null;\n            },\n            getLocalBlobStorage() {\n              return EmptyBlobStorage;\n            },\n            getRemoteBlobStorages() {\n              return [new CloudBlobStorage(workspaceId)];\n            },\n          };\n        },\n      }\n    );\n\n    setWorkspace(workspace);\n\n    workspace.engine\n      .waitForRootDocReady()\n      .then(() => {\n        const { doc } = workspace.scope.get(DocsService).open(docId);\n\n        workspace.docCollection.awarenessStore.setReadonly(\n          doc.blockSuiteDoc.blockCollection,\n          true\n        );\n\n        setPage(doc);\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  }, [\n    defaultCloudProvider,\n    pageArrayBuffer,\n    docId,\n    workspaceArrayBuffer,\n    workspaceId,\n    workspacesService,\n  ]);\n\n  const pageTitle = useLiveData(page?.title$);\n\n  usePageDocumentTitle(pageTitle);\n  const authService = useService(AuthService);\n  const loginStatus = useLiveData(authService.session.status$);\n\n  const onEditorLoad = useCallback(\n    (_: BlockSuiteDoc, editor: AffineEditorContainer) => {\n      setActiveBlocksuiteEditor(editor);\n      return noop;\n    },\n    [setActiveBlocksuiteEditor]\n  );\n\n  if (!workspace || !page) {\n    return;\n  }\n\n  return (\n    <FrameworkScope scope={workspace.scope}>\n      <FrameworkScope scope={page.scope}>\n        <AppContainer>\n          <MainContainer>\n            <div className={styles.root}>\n              <div className={styles.mainContainer}>\n                <ShareHeader\n                  pageId={page.id}\n                  publishMode={publishMode}\n                  docCollection={page.blockSuiteDoc.collection}\n                />\n                <Scrollable.Root>\n                  <Scrollable.Viewport\n                    className={clsx(\n                      'affine-page-viewport',\n                      styles.editorContainer\n                    )}\n                  >\n                    <PageDetailEditor\n                      isPublic\n                      publishMode={publishMode}\n                      docCollection={page.blockSuiteDoc.collection}\n                      pageId={page.id}\n                      onLoad={onEditorLoad}\n                    />\n                    {publishMode === 'page' ? <ShareFooter /> : null}\n                  </Scrollable.Viewport>\n                  <Scrollable.Scrollbar />\n                </Scrollable.Root>\n                {loginStatus !== 'authenticated' ? (\n                  <a\n                    href=\"https://affine.pro\"\n                    target=\"_blank\"\n                    className={styles.link}\n                    rel=\"noreferrer\"\n                  >\n                    <span className={styles.linkText}>\n                      {t['com.affine.share-page.footer.built-with']()}\n                    </span>\n                    <Logo1Icon fontSize={20} />\n                  </a>\n                ) : null}\n              </div>\n            </div>\n          </MainContainer>\n          <PeekViewManagerModal />\n        </AppContainer>\n      </FrameworkScope>\n    </FrameworkScope>\n  );\n};\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n  return isRouteErrorResponse(error) ? (\n    <h1>\n      {error.status} {error.statusText}\n    </h1>\n  ) : (\n    <SharePageNotFoundError />\n  );\n}\n","import \"../core/src/pages/share/share-detail-page.css.ts.vanilla.css!=!../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/pages/share/share-detail-page.css.ts.vanilla.css\\\",\\\"source\\\":\\\"LmtkY2h0cjAgewogIGRpc3BsYXk6IGZsZXg7CiAgaGVpZ2h0OiAxMDAlOwogIG92ZXJmbG93OiBoaWRkZW47CiAgd2lkdGg6IDEwMCU7Cn0KLmtkY2h0cjEgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleDogMTsKICBoZWlnaHQ6IDEwMCU7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgbWluLXdpZHRoOiAwOwogIG92ZXJmbG93OiBoaWRkZW47CiAgYmFja2dyb3VuZDogdmFyKC0tYWZmaW5lLWJhY2tncm91bmQtcHJpbWFyeS1jb2xvcik7Cn0KLmtkY2h0cjIgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgZmxleC1zaHJpbms6IDA7CiAgei1pbmRleDogMDsKfQoua2RjaHRyMyB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHJpZ2h0OiA1MCU7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDUwJSk7CiAgYm90dG9tOiAyMHB4OwogIHotaW5kZXg6IHZhcigtLWFmZmluZS16LWluZGV4LXBvcG92ZXIpOwogIGN1cnNvcjogcG9pbnRlcjsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgYmFja2dyb3VuZDogdmFyKC0tYWZmaW5lLWJsYWNrKTsKICBib3JkZXItcmFkaXVzOiA4cHg7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYWZmaW5lLXB1cmUtYmxhY2stMTApOwogIGJveC1zaGFkb3c6IHZhcigtLWFmZmluZS1idXR0b24taW5uZXItc2hhZG93KTsKICBjb2xvcjogdmFyKC0tYWZmaW5lLXdoaXRlKTsKICBwYWRkaW5nOiA4cHggMThweDsKICBnYXA6IDRweDsKfQoua2RjaHRyNCB7CiAgcGFkZGluZzogMHB4IDRweDsKICBmb250LXNpemU6IHZhcigtLWFmZmluZS1mb250LWJhc2UpOwogIGZvbnQtd2VpZ2h0OiA3MDA7CiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKfQpAbWVkaWEgcHJpbnQgewogIC5rZGNodHIzIHsKICAgIGRpc3BsYXk6IG5vbmU7CiAgfQp9\\\"}!../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var editorContainer = 'kdchtr2';\nexport var link = 'kdchtr3';\nexport var linkText = 'kdchtr4';\nexport var mainContainer = 'kdchtr1';\nexport var root = 'kdchtr0';"],"names":["SharePageNotFoundError","div","style","width","height","display","flexDirection","justifyContent","alignItems","a","href","target","rel","position","top","left","fontSize","cursor","Logo1Icon","Empty","description","ShareFooter","t","useI18n","className","ArrowRightBigIcon","AuthenticatedItem","setIsMember","props","workspaceId","pageId","workspacesService","useService","WorkspacesService","workspaces","useLiveData","list","workspaces$","isMember","some","workspace","id","jumpToPage","useNavigateHelper","handleEdit","useCallback","useEffect","Button","onClick","data-testid","PresentButton","isPresent","handlePresent","usePresent","prefix","PresentationIcon","disabled","UserInfo","authService","AuthService","user","session","account$","subscription","SubscriptionService","revalidate","plan","pro$","Avatar","size","name","label","url","avatar","title","email","PublishPageUserAvatar","handleSignOut","useAsyncCallback","signOut","menuItem","useMemo","MenuSeparator","MenuItem","preFix","MenuIcon","SignOutIcon","Menu","items","contentOptions","transform","loginStatus","status$","publishMode","useState","data-is-member","data-is-edgeless","ShareHeader","docCollection","EditorModeSwitch","isPublic","publicMode","BlocksuiteHeaderTitle","ShareHeaderRightItem","downloadBinaryFromCloud","rootGuid","pageGuid","response","fetch","ok","headers","get","arrayBuffer","assertDownloadResponse","value","ArrayBuffer","loader","params","redirect","workspaceResponse","pageResponse","Promise","all","workspaceArrayBuffer","pageArrayBuffer","Component","docId","useLoaderData","setWorkspace","page","setPage","_","setActiveBlocksuiteEditor","useActiveBlocksuiteEditor","defaultCloudProvider","framework","WorkspaceFlavourProvider","open","metadata","flavour","WorkspaceFlavour","AFFINE_CLOUD","isSharedMode","getEngineProvider","getDocStorage","ReadonlyDocStorage","Uint8Array","getAwarenessConnections","getDocServer","getLocalBlobStorage","EmptyBlobStorage","getRemoteBlobStorages","CloudBlobStorage","engine","waitForRootDocReady","then","doc","scope","DocsService","awarenessStore","setReadonly","blockSuiteDoc","blockCollection","catch","err","console","error","pageTitle","title$","usePageDocumentTitle","onEditorLoad","editor","noop","FrameworkScope","AppContainer","MainContainer","collection","Scrollable","Root","Viewport","clsx","PageDetailEditor","onLoad","Scrollbar","span","PeekViewManagerModal","ErrorBoundary","useRouteError","isRouteErrorResponse","h1","status","statusText"],"sourceRoot":""}