{"version":3,"file":"js/chunk.3359.cfd8c922.js","mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAw1BV,CAAC,CCx1BP,GAAe,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MA00BV,CAAC,CCp0BMyN,GAA0B,KACrC,GAAM,CAAEC,cAAAA,CAAa,CAAE,CAAGjK,CAAAA,EAAAA,GAAAA,CAAAA,IAE1B,MACE,UAAC5c,MAAAA,CACCC,UCVY,UDWZmgB,wBAAyB,CACvBC,OAAQwG,SAAAA,EAA2BC,GAAUC,EAC/C,C,EAGN,EEMMC,GAA6B,CAAC,CAClCjnB,UAAAA,CAAS,CAGV,IACC,IAAMnC,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJ,CAAC2D,EAASmoB,EAAW,CAAGjqB,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAEjC6D,EAGMnC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,CAACyM,EAAGrM,KAC1BmoB,EAAWnoB,EACb,EAAG,EAAE,EAEL,MACE,WAACkB,MAAAA,CAAIC,UChCe,YDgCeO,cAAY,sB,UAC7C,UAACR,MAAAA,CAAIC,UChCc,Y,SDiChBrC,CAAC,CACA,oEACD,E,GAEH,UAACoC,MAAAA,CAAIC,UCzCY,Y,SD0Cf,UAAC2mB,GAAuBA,CAAAA,E,GAE1B,WAAC5mB,MAAAA,CAAIC,UCvCgB,Y,UDwCnB,UAACD,MAAAA,CAAIC,UCvCmB,Y,SDwCrBrC,CAAC,CACA,2EACD,E,GAEFA,CAAC,CACA,qEACD,G,GAGH,UAACoC,MAAAA,CAAIC,UC9CS,W,GDgDd,WAAC+U,QAAAA,CAAM/U,UCxDiB,Y,UDyDtB,UAACinB,EAAAA,EAAQA,CAAAA,CACPpoB,QAASA,EACT+B,SAAUA,EACVL,cAAY,gC,GAEb5C,CAAC,CACA,wEACD,G,GAGH,UAACoC,MAAAA,CAAIC,UClE0B,Y,SDmE7B,UAACgM,EAAAA,EAAMA,CAAAA,CACLpM,SAAU,CAACf,EACX4L,QAAS3K,EACTH,QAAQ,UACRY,cAAY,8B,SAEX5C,CAAC,CACA,kEACD,E,OAKX,EAEMupB,GAAe,CAAC,CAAE3hB,KAAAA,CAAI,CAA0B,IACpD,OAAQA,GACN,IAAK,UACH,MAAO,UAACkS,EAAAA,WAAWA,CAAAA,CAAC7G,SAAU,E,EAChC,KAAK,QACH,MAAO,UAACuW,EAAAA,SAASA,CAAAA,CAACvW,SAAU,E,EAC9B,KAAK,SACH,MAAO,UAAC0G,EAAAA,UAAUA,CAAAA,CAAC1G,SAAU,E,EAC/B,SACE,OAAO,IACX,CACF,EAEMwW,GAA6C,CACjDC,QAAS,gCACThZ,MAAO,mCACPiZ,OAAQ,+CACV,EAEMC,GAA2B,CAAC,CAChCjoB,MAAAA,CAAK,CACLC,YAAAA,CAAW,CACXioB,aAAAA,CAAY,CACZ/a,WAAAA,CAAU,CACV5N,QAAAA,CAAO,CACP+B,SAAAA,CAAQ,CACRic,OAAAA,CAAM,CASP,IACC,IAAMtF,EAAOiQ,EAAeJ,EAAY,CAACI,EAAa,CAAGvlB,KAAAA,EAEzD,MACE,WAAClC,MAAAA,CAAIC,UCpHiB,Y,UDqHpB,WAACD,MAAAA,CAAIC,UChHY,Y,UDiHdV,EACD,UAACwB,EAAAA,EAAMA,CAAAA,CACLjC,QAASA,EACT+B,SAAUA,EACVZ,UAAWyM,ECtHO,YDsH8B,GAChDlM,cAAasc,C,MAGhB,CAAC,CAACtd,GACD,UAACyU,EAAAA,EAAOA,CAAAA,CAACE,QAAS3U,E,SAChB,UAACQ,MAAAA,CAAIC,UCzIU,Y,SDyIsBT,C,KAGxC,CAAC,CAACioB,GACD,WAACxmB,IAAAA,CACChB,UC7IY,YD8IZiB,KAAMsW,EACNpW,OAAO,SACPC,IAAI,a,UAEJ,UAAC8lB,GAAAA,CAAa3hB,KAAMiiB,C,GACpB,UAAC3mB,OAAAA,C,SAAK,+B,GACN,UAACqW,EAAAA,mBAAmBA,CAAAA,CAClBtG,SAAU,GACV5Q,UCxJgB,W,QD8J5B,EAEMynB,GAAsB,KAC1B,GAAM,CAAE5N,YAAAA,CAAW,CAAEC,eAAAA,CAAc,CAAE,CAAGC,CAAAA,EAAAA,GAAAA,CAAAA,IAElC2N,EAAWjpB,CAAAA,EAAAA,EAAAA,WAAAA,EACf,IACEqb,EAAe,kBAAmBjb,EACpC,EACA,CAACib,EAAe,EAEZ6N,EAAsBC,GAAAA,EAAkB,CAAC,eAAkB,CAC3DC,EAAaF,GAAqBG,wBAExC,GAA6BD,EAK3B,UAACN,GAAAA,CACCjoB,MAAOqoB,EAAoBI,WAAW,CACtCxoB,YAAaooB,EAAoBpoB,WAAW,CAC5CioB,aAAcG,EAAoBH,YAAY,CAC9C3oB,QAASgb,EAAYmO,eAAe,CACpCpnB,SAAU8mB,C,GATL,IAYX,EAEMO,GAAgC,KACpC,GAAM,CAAEpO,YAAAA,CAAW,CAAEC,eAAAA,CAAc,CAAE,CAAGC,CAAAA,EAAAA,GAAAA,CAAAA,IAClCmO,EAAgBzpB,CAAAA,EAAAA,EAAAA,WAAAA,EACpB,CAAC0pB,EAA6BtpB,KAC5Bib,EAAe,cAAe,CAC5B,GAAGD,EAAYuO,WAAW,CAC1B,CAACD,EAAK,CAAEtpB,CACV,EACF,EACA,CAACgb,EAAYuO,WAAW,CAAEtO,EAAe,EAK3C,MACE,sB,SACGuO,OAAOC,OAAO,CAACC,GAAAA,EAAsBA,EAAE5sB,GAAG,CAAC,CAAC,CAACwD,EAAKoN,EAAM,GAGvD,EAFqBub,YAAY,EAAI,CAACvb,EAAMub,YAAY,GAG/C,KAGP,UAACP,GAAAA,CAECjoB,MAAO,gBAAkBiN,EAAMwb,WAAW,CAC1CxoB,YAAagN,EAAMhN,WAAW,CAC9BioB,aAAcjb,EAAMib,YAAY,CAChC3oB,QAAS,CAAC,CAACgb,EAAYuO,WAAW,EAAE,CAACjpB,EAAkB,CACvDyB,SAAU/B,GACRqpB,EAAc/oB,EAA8BN,E,EANzCM,G,EAajB,EAEMqpB,GAA2B,KAC/B,IAAM7qB,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IAEV,MACE,uB,UACE,UAACiP,EAAaA,CACZ7K,MAAO3B,CAAC,CACN,qEACD,GACDyM,SAAUzM,CAAC,CACT,sEACD,E,GAEH,WAACoC,MAAAA,CACCC,UCrOuB,YDsOvBO,cAAY,wB,UAEZ,UAACknB,GAAAA,CAAAA,GACD,UAACQ,GAAAA,CAAAA,G,KAIT,EAGMQ,GAAqCC,CAAAA,EAAAA,GAAAA,EAAAA,EACzC,0CACA,IAGWC,GAAuB,KAClC,GAAM,CAACC,EAASC,EAAW,CAAGpiB,CAAAA,EAAAA,EAAAA,EAAAA,EAAQgiB,IAChC5hB,EAAgB5K,CAAAA,EAAAA,EAAAA,CAAAA,EAAiB,UACrC4sB,EAAW,GACb,EAAG,CAACA,EAAW,SACf,EAII,UAAC3H,EAAAA,QAAQA,CAAAA,CAACC,SAAU,UAACjI,EAAAA,EAAOA,CAAAA,CAAAA,G,SAC1B,UAACsP,GAAAA,CAAAA,E,GAJE,UAACzB,GAAAA,CAA2BjnB,UAAW+G,C,EAQlD,EE7QaiiB,GAAc,CAAC,CAAEtlB,MAAAA,CAAK,CAAEM,OAAAA,CAAM,CAAwB,GAE/D,UAACD,MAAAA,CACC7D,UAAU,OACVwD,MAAOA,GAAS,GAChBM,OAAQA,GAAU,GAClBC,QAAQ,YACRC,KAAK,OACLC,MAAM,6B,SAEN,UAACU,OAAAA,CACCC,SAAS,UACTC,SAAS,UACTC,EAAE,opBACFd,KAAK,c,KAMA+kB,GAAc,CAAC,CAAEvlB,MAAAA,CAAK,CAAEM,OAAAA,CAAM,CAAwB,GAE/D,UAACD,MAAAA,CACC7D,UAAU,OACVwD,MAAOA,GAAS,GAChBM,OAAQA,GAAU,GAClBC,QAAQ,YACRC,KAAK,OACLC,MAAM,6B,SAEN,UAACU,OAAAA,CACCC,SAAS,UACTC,SAAS,UACTC,EAAE,0oBACFd,KAAK,c,KCzBN,IAAIglB,GAAiB,Y,oCCmCrB,IAAMC,GAAqB,CAAC,CACjC3pB,MAAAA,CAAK,CACL4pB,QAAAA,CAAO,CACP1e,SAAAA,CAAQ,CACgB,IACxB,GAAM,CAACvN,EAAMuJ,EAAQ,CAAGzJ,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC3BosB,EAAS1qB,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,IAAM+H,EAAQ4iB,GAAQ,CAACA,GAAO,EAAE,EAC3D,MACE,WAACC,GAAAA,EAAgB,EAACpsB,KAAMA,EAAMqG,aAAckD,E,UAC1C,WAAC8iB,UAAAA,CAAQtpB,UChDgB,W,UDiDvB,WAACD,MAAAA,CAAIC,UC/CyB,W,UDgD5B,UAACD,MAAAA,CAAIC,UC/CqB,W,SD+CsBV,C,GAChD,UAACS,MAAAA,CAAIC,UClDuB,W,SDkDsBkpB,C,MAEpD,UAACjE,EAAAA,EAAUA,CAAAA,CAACxa,QAAS0e,EAAQjpB,KAAK,K,SAChC,UAACqpB,EAAAA,gBAAgBA,CAAAA,CACf7lB,MAAO,CACL0C,UAAWnJ,EAAO,eAAiB,iBACnCusB,WAAY,sBACd,C,QAIN,UAACH,GAAAA,EAAmB,E,SAAE7e,C,KAG5B,EAQaif,GAAa,CAAC,CAAEC,MAAAA,CAAK,CAAE9F,GAAAA,CAAE,CAAE+F,SAAAA,CAAQ,CAAmB,IACjE,IAAMhsB,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJ,CAAC0uB,EAAOxY,EAAoB,CAAG3K,CAAAA,EAAAA,EAAAA,EAAAA,EAAQoC,EAAAA,EAAoBA,EAC3DG,EAAe4gB,UAAAA,EAAM7gB,SAAS,CAAe6gB,EAAM5gB,YAAY,CAAG,KAClE6gB,EAAe9d,CAAAA,EAAAA,EAAAA,MAAAA,EAAuB,MACtC+d,EAAoB/d,CAAAA,EAAAA,EAAAA,MAAAA,EAAuB,MAC3Cge,EAA8BC,CAAAA,EAAAA,EAAAA,EAAAA,EAClC7S,IAGI8S,EAAsBxrB,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACtC,GAAI,CAACkrB,EAAU,OACf,IAAMO,EACJL,EAAa3d,OAAO,EAAEie,cAAc,qBACtC,GAAI,CAACJ,GAA+B,CAACG,EAAgB,OAIrD,IAAME,EAAgBL,EAA4BM,qBAAqB,EAErEH,CAAAA,EAAeG,qBAAqB,GAAGC,GAAG,CAAGF,EAAcE,GAAG,CAC/BF,EAActmB,MAAM,CAL5B,IAOvBimB,CAAAA,EAA4BQ,OAAO,CAACC,YAAY,CAAG,EAAC,CAExD,EAAG,CAACb,EAAUI,EAA4B,EAG1CloB,CAAAA,EAAAA,EAAAA,eAAAA,EAAgB,KACTmH,GACLyhB,CAAAA,EAAAA,GAAAA,SAAAA,EAAU,KACR,IAAMtpB,EAAS0oB,EAAa3d,OAAO,EAAEie,cAAc,CAAC,CAAC,EAAEnhB,EAAa,CAAC,EACjE7H,IACFA,EAAOupB,cAAc,GACrBtZ,EAAoBgY,GAAS,EAAE,GAAGA,CAAI,CAAEpgB,aAAc/G,KAAAA,CAAU,IAEpE,EACF,EAAG,CAAC+G,EAAcoI,EAAoB,EAEtChV,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,GAAI,GAAiC0tB,EAAkB5d,OAAO,CAI9D,OAFA6d,EAA4Bna,gBAAgB,CAAC,SAAUqa,GACvDA,IACO,KACLF,EAA4Bla,mBAAmB,CAC7C,SACAoa,EAEJ,CACF,EAAG,CAACF,EAA6BE,EAAoB,EAErD,IAAMU,EAAiBlsB,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,IACjC,IAAM0C,EAAS0oB,EAAa3d,OAAO,EAAEie,cAAc,CAAC,CAAC,EAAES,EAAO,CAAC,CAC/DzpB,CAAAA,GAAUA,EAAOupB,cAAc,CAAC,CAAEG,SAAU,QAAS,EACvD,EAAG,EAAE,EAEL,MACE,WAAC9qB,MAAAA,CAAIC,UC/HoB,WD+HehD,IAAK6sB,E,UAE3C,UAAC1f,EAAaA,CACZzG,MAAO,CAAE6H,aAAc,KAAM,EAC7BjM,MAAO3B,CAAC,CAAC,2BAA2B,E,GAErCimB,EACC,uB,UACE,UAAC7jB,MAAAA,CAAIsD,GAAG,gB,SAAiBugB,C,GACzB,UAACkH,EAAAA,EAAOA,CAAAA,CAAC9qB,UCjJI,U,MDmJb,KACJ,UAACD,MAAAA,CAAIsD,GAAG,mB,SAAoBqmB,C,GAE3BC,GAAYI,EACTgB,CAAAA,EAAAA,GAAAA,YAAAA,EACE,WAAChrB,MAAAA,CAAIC,UCvJQ,WDuJuBhD,IAAK8sB,E,UACvC,WAAC/pB,MAAAA,C,UACC,UAACA,MAAAA,CAAIC,UCtJY,W,SDuJdrC,CAAC,CAAC,oCAAoC,E,GAEzC,UAACoC,MAAAA,CAAIC,UC1Jc,W,SD2JhBrC,CAAC,CAAC,sCAAsC,E,MAG7C,UAACqO,EAAAA,EAAMA,CAAAA,CACLvB,QAAS,IAAMkgB,EAAe,oBAC9BhrB,QAAQ,U,SAEPhC,CAAC,CAAC,gCAAgC,E,MAGvCosB,EACA,eAEF,K,EAGV,EAWaiB,GAAkB,CAAC,CAC9B1rB,MAAAA,EAAQ,cAAc,CACtB4pB,QAAAA,CAAO,CACP+B,OAAAA,CAAM,CACN9B,OAAAA,CAAM,CACN+B,OAAAA,CAAM,CACNC,SAAAA,CAAQ,CACRC,UAAAA,CAAS,CACK,GAEZ,WAACnC,GAAAA,CAAmB3pB,MAAOA,EAAO4pB,QAASA,E,UACzC,WAACnpB,MAAAA,CAAIC,UCrMoB,W,UDsMvB,UAACD,MAAAA,C,SAAKkrB,C,GACN,UAAClrB,MAAAA,C,SAAKopB,C,MAER,WAACkC,GAAAA,EAAe,E,UACd,UAACA,GAAAA,EAAmB,EAACruB,IAAKouB,EAAWprB,UC/LrB,W,SDgMbkrB,C,GAEH,UAACG,GAAAA,EAAoB,EACnBC,WAAU,GACVC,YAAY,aACZvrB,UCpMa,W,SDsMb,UAACqrB,GAAAA,EAAgB,EAACrrB,UCrMH,U,QDwMlBmrB,EACC,UAACprB,MAAAA,CAAI2D,MAAO,CAAE8nB,WAAY,EAAG,EAAGnoB,GAAG,sB,SAChC8nB,C,GAED,K,GEhNJM,GAAiB,GAAmC,CACxD,CACE5vB,KAAM8B,CAAC,CAAC,mCAAmC,GAC3CoR,KAAM,UAAC2c,EAAAA,QAAQA,CAAAA,CAAAA,GACfzP,MAAO,CACLte,CAAC,CAAC,qCAAqC,GACvCA,CAAC,CAAC,qCAAqC,GACvCA,CAAC,CAAC,qCAAqC,GACxC,EAEH,CACE9B,KAAM8B,CAAC,CAAC,mCAAmC,GAC3CoR,KAAM,UAAC4c,EAAAA,OAAOA,CAAAA,CAAAA,GACd1P,MAAO,CACLte,CAAC,CAAC,qCAAqC,GACvCA,CAAC,CAAC,qCAAqC,GACvCA,CAAC,CAAC,qCAAqC,GACxC,EAEH,CACE9B,KAAM8B,CAAC,CAAC,mCAAmC,GAC3CoR,KAAM,UAAC6c,EAAAA,uBAAuBA,CAAAA,CAAAA,GAC9B3P,MAAO,CACLte,CAAC,CAAC,qCAAqC,GACvCA,CAAC,CAAC,qCAAqC,GACvCA,CAAC,CAAC,qCAAqC,GACxC,EAEJ,CAEYkuB,GAAa,KACxB,IAAMluB,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJ4wB,EAAW1wB,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAAMqwB,GAAe9tB,GAAI,CAACA,EAAE,EACrD,MACE,UAACoC,MAAAA,CAAIC,UHpCa,Y,SGqCf8rB,EAASnwB,GAAG,CAAC,CAAC,CAAEE,KAAAA,CAAI,CAAEkT,KAAAA,CAAI,CAAEkN,MAAAA,CAAK,CAAE,GAEhC,WAAClc,MAAAA,CAAeC,UH3CA,Y,UG4Cd,WAACD,MAAAA,CAAIC,UHzCS,Y,UG0CX+O,EACAlT,E,GAGH,UAAC0kB,KAAAA,CAAGvgB,UH/CS,Y,SGgDVic,EAAMtgB,GAAG,CAACJ,GACT,UAAC8kB,KAAAA,CAAGrgB,UHlDK,Y,SGmDNzE,C,EADqCA,G,KARpCM,G,EAkBpB,ECrDakwB,GAAe,CAAC,CAC3B7C,QAAAA,CAAO,CACP8C,cAAAA,CAAa,CACb/H,WAAAA,CAAU,CACQ,IAClB,IAAMtmB,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJoE,EAAQ3B,CAAC,CAAC,2CAA2C,GAE3D,MACE,UAACsrB,GAAkBA,CAAC3pB,MAAOA,EAAO4pB,QAASA,E,SACzC,WAACnpB,MAAAA,CAAIC,UJbO,Y,UIcV,WAACD,MAAAA,CAAIC,UJVW,Y,UIWd,UAACspB,UAAAA,CAAQtpB,UJVQ,Y,SIWdrC,CAAC,CAAC,qDAAqD,E,GAE1D,UAAC2rB,UAAAA,CAAQtpB,UJfA,Y,SIgBNrC,CAAC,CAAC,2CAA2C,E,GAEhD,UAAC2rB,UAAAA,CAAQtpB,UJfQ,Y,SIgBdrC,CAAC,CAAC,qDAAqD,E,MAI5D,WAACoC,MAAAA,CAAIC,UJlCY,Y,UImCf,UAACD,MAAAA,CAAIC,UJlCY,Y,SIkCsBgsB,C,GACtC/H,EACC,UAAClkB,MAAAA,CAAIC,UJnCM,Y,SImCwBikB,C,GACjC,K,GAGN,UAAC4H,GAAUA,CAAAA,G,IAInB,ECpCaI,GAAS,KACpB,IAAMtuB,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IAEJ8R,EAAcrQ,CAAAA,EAAAA,EAAAA,EAAAA,EAAWsB,EAAAA,EAAWA,EACpCsR,EAAsB5S,CAAAA,EAAAA,EAAAA,EAAAA,EAAWoQ,EAAAA,EAAmBA,EACpDD,EAAe3O,CAAAA,EAAAA,EAAAA,CAAAA,EAAYoR,EAAoBzC,YAAY,CAACS,GAAG,EAC/DiC,EAAQrR,CAAAA,EAAAA,EAAAA,CAAAA,EAAYoR,EAAoBE,MAAM,CAACC,QAAQ,EACvDwc,EACJ/tB,kBAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAY6O,EAAYhP,OAAO,CAACI,OAAO,EAQzC,GANAhC,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACRmT,EAAoBzC,YAAY,CAACtK,UAAU,GAC3C+M,EAAoBE,MAAM,CAACjN,UAAU,EACvC,EAAG,CAAC+M,EAAoB,EAGpB,CAACC,GAAOe,aACV,OAAO,KAGT,IAAM0T,EAAanX,GAAcqW,WAC7BxlB,CAAC,CAAC,iDAAiD,CAAC,CAClDumB,IAAKC,CAAAA,EAAAA,EAAAA,EAAAA,EAASrX,EAAaqW,UAAU,CAAE,CACrCiB,SAAU,CAAEC,SAAU,KAAM,CAC9B,EACF,GACAvX,GAAcgG,YAAchG,EAAayW,GAAG,CAC1C5lB,CAAC,CAAC,2CAA2C,CAAC,CAC5C4lB,IAAKY,CAAAA,EAAAA,EAAAA,EAAAA,EAASrX,EAAayW,GAAG,CAAE,CAC9Ba,SAAU,CAAEC,SAAU,KAAM,CAC9B,EACF,GACA,KAEN,MACE,UAAC0H,GAAYA,CACX7C,QACEpc,EACInP,CAAC,CAAC,uDAAuD,GACzDA,CAAC,CAAC,kDAAkD,GAE1DquB,cACEE,EACEpf,EACEA,EAAagG,UAAU,CACrB,UAACrE,GAAQA,CAACzO,UAAWI,E,GAErB,UAACoM,GAAQA,CAACxM,UAAWI,E,GAGvB,uB,UACE,UAAC+O,GAAWA,CACVnP,UAAWI,GACXgP,mBAAmB,S,GAErB,UAACpO,IAAAA,CAAEC,KAAK,wBAAwBE,OAAO,SAASC,IAAI,a,SAClD,UAAC4K,EAAAA,EAAMA,CAAAA,CAAChM,ULxDG,sB,SKyDRrC,CAAC,CAAC,2CAA2C,E,QAMtD,UAAC4Q,GAAOA,CAACvO,UAAWI,E,GAGxB6jB,WAAYA,C,EAGlB,E,gBClDO,IAAMkI,GAAW,IACtB,GAAM,CAAEC,OAAAA,CAAM,CAAEte,UAAAA,CAAS,CAAE,CAAGpQ,EACxB2uB,EACJluB,kBAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAYxB,CAAAA,EAAAA,EAAAA,EAAAA,EAAWsB,EAAAA,EAAWA,EAAED,OAAO,CAACI,OAAO,EAC/CmR,EAAsB5S,CAAAA,EAAAA,EAAAA,EAAAA,EAAWoQ,EAAAA,EAAmBA,EACpD4G,EAAkBxV,CAAAA,EAAAA,EAAAA,CAAAA,EAAYoR,EAAoBzC,YAAY,CAAC8G,IAAI,EACnEkO,EAAcnO,GAAiBhG,MAAQC,GAAAA,EAAgBA,CAACmU,IAAI,CAE5DuK,EACJD,GACAD,EAAOze,IAAI,GAAKmU,GAChBhU,IAAc6F,GAAiB7F,UAC3Bye,EAAQH,EAAOze,IAAI,GAAKC,GAAAA,EAAgBA,CAACuI,GAAG,CAElD,MACE,WAACpW,MAAAA,CACCysB,eAAcF,EAEdtsB,UAAWusB,EvBnBQ,sBAZH,Y,UuBiChB,UAACxsB,MAAAA,CAAIC,UvBhCqB,W,GuBiC1B,WAACD,MAAAA,CAAIC,UvB5BY,Y,UuB6Bf,WAACD,MAAAA,CAAI2D,MAAO,CAAE+oB,cAAe,EAAG,E,UAC9B,UAACnD,UAAAA,CAAQtpB,UvB5BQ,Y,SuB4B0BosB,EAAOvwB,IAAI,GACtD,UAACytB,UAAAA,CAAQtpB,UvB9Be,Y,SuB+BrBosB,EAAO7sB,WAAW,GAErB,UAAC+pB,UAAAA,CAAQtpB,UvB9BS,Y,SuB+BfosB,EAAOM,aAAa,CAAC5e,EAAWse,E,MAGrC,UAACO,GAAAA,CAAc,GAAGjvB,CAAK,G,GAEzB,UAACqC,MAAAA,CAAIC,UvB/Ce,Y,SuBgDjBqoB,OAAOC,OAAO,CAAC8D,EAAON,QAAQ,EAAEnwB,GAAG,CAAC,CAAC,CAACixB,EAAWC,EAAY,GAE1D,WAACtM,KAAAA,CAAGvgB,UvBtDc,Y,UuBuDhB,WAACspB,UAAAA,CAAQtpB,UvBtDY,Y,UuBuDlB4sB,EAAU,I,GAEZC,EAAYlxB,GAAG,CAAC,CAAC,CAAEoT,KAAAA,CAAI,CAAEzP,MAAAA,CAAK,CAAE,CAAE6L,IAE/B,WAACkV,KAAAA,CAAGrgB,UvB7DG,Y,UuB8DL,UAACD,MAAAA,CAAIC,UvB3DI,Y,SuB4DN+O,GAAQ,UAAC+M,EAAAA,QAAQA,CAAAA,CAAAA,E,GAEpB,UAAC/b,MAAAA,CAAIC,UvB7DI,Y,SuB6DgCV,C,KAJH6L,I,EANDyhB,G,KAnB9CR,EAAOze,IAAI,CAuCtB,EAEMgf,GAAe,CAAC,CAAEP,OAAAA,CAAM,CAAEte,UAAAA,CAAS,CAAiB,IACxD,IAAMnQ,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJmxB,EACJluB,kBAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAYxB,CAAAA,EAAAA,EAAAA,EAAAA,EAAWsB,EAAAA,EAAWA,EAAED,OAAO,CAACI,OAAO,EAC/CmR,EAAsB5S,CAAAA,EAAAA,EAAAA,EAAAA,EAAWoQ,EAAAA,EAAmBA,EACpD0U,EAAatjB,CAAAA,EAAAA,EAAAA,CAAAA,EAAYoR,EAAoBzC,YAAY,CAAC4U,WAAW,EACrEoL,EAAsB3uB,CAAAA,EAAAA,EAAAA,CAAAA,EAC1BoR,EAAoBzC,YAAY,CAAC8G,IAAI,EAEjCkO,EAAcgL,GAAqBnf,MAAQC,GAAAA,EAAgBA,CAACmU,IAAI,CAChEC,EAAmB8K,GAAqBhf,UAkB9C,GAAIse,YAAAA,EAAO7mB,IAAI,CACb,MAAO,UAACwnB,GAAAA,CAASpf,KAAMye,EAAOze,IAAI,GAIpC,GAAI,CAAC0e,EACH,MACE,UAACW,GAAAA,C,SACEZ,EAAOze,IAAI,GAAKC,GAAAA,EAAgBA,CAACmU,IAAI,CAClCpkB,CAAC,CAAC,kCAAkC,GACpCA,CAAC,CAAC,6BAA6B,E,GAMzC,GAAI8jB,EACF,MACE,UAACzV,GAAAA,EAAMA,CAAAA,CAAChM,UAAWI,GAAmBR,SAAQ,G,SAC3CjC,CAAC,CAAC,6CAA6C,E,GAKtD,IAAMsvB,EAAa,CAAC,CAACH,GAAqBha,WACpCoa,EAASd,EAAOze,IAAI,GAAKC,GAAAA,EAAgBA,CAACmU,IAAI,QASpD,EAPSpU,IAAI,GAAKmU,GACfoL,CAAAA,GAEGlL,IAAqBlU,GACrBgf,GAAqBpT,SAAWsJ,GAAAA,EAAkBA,CAACC,MAAM,EAItDgK,EAAa,UAACE,GAAAA,CAAAA,GAAkB,UAACC,GAAAA,CAAAA,GAGtCF,EACK,UAACG,GAAAA,CAAUztB,SAAUqtB,C,GAGvBnL,IAAgBsK,EAAOze,IAAI,CAChC,UAAC2f,GAAAA,CACCtiB,KAAMgX,EACNza,GAAIuG,EACJoW,IAAK4I,GAAqB3J,YAAc,GACxCvjB,SAAUqtB,C,GAGZ,UAACM,GAAAA,CAAQzf,UAAWA,C,EAExB,EAEMsf,GAAc,KAClB,IAAMzvB,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACV,MACE,UAAC8Q,GAAAA,EAAMA,CAAAA,CAAChM,UAAWI,G,SAChBzC,CAAC,CAAC,kCAAkC,E,EAG3C,EAEM0vB,GAAY,CAAC,CAAEztB,SAAAA,CAAQ,CAA0B,IACrD,IAAMjC,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJ,CAAC+B,EAAMuJ,EAAQ,CAAGzJ,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAE3BywB,EAAiB5tB,EACnBjC,CAAC,CAAC,wCAAwC,GAC1C,KAEEgc,EAAclb,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAC9B+H,EAAQ,GACV,EAAG,EAAE,EAEL,MACE,UAACgZ,GAAYA,CAACviB,KAAMA,EAAMqG,aAAckD,E,SACtC,UAACwN,GAAAA,CAAOA,CAAAA,CAACE,QAASsZ,EAAgBC,YAAa,CAAEC,cAAe,CAAE,E,SAChE,UAAC3tB,MAAAA,CAAIC,UAAWI,G,SACd,UAAC4L,GAAAA,EAAMA,CAAAA,CACLhM,UAAWI,GACXT,QAAQ,UACR8K,QAASkP,EACT/Z,SAAUA,E,SAETjC,CAAC,CAAC,+BAA+B,E,QAM9C,EAEMovB,GAAW,CAAC,CAAEpf,KAAAA,CAAI,CAA8B,IACpD,IAAMhQ,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJ8Z,EAAM5Z,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KAClB,OAAQuS,GACN,KAAKC,GAAAA,EAAgBA,CAAC+f,IAAI,CACxB,MAAO,8CACT,MAAK/f,GAAAA,EAAgBA,CAACggB,UAAU,CAC9B,MAAO,8CACT,SACE,MAAO,4BACX,CACF,EAAG,CAACjgB,EAAK,EAET,MACE,UAAC3M,IAAAA,CACChB,UAAWI,GACXa,KAAM+T,EACN7T,OAAO,SACPC,IAAI,a,SAEJ,UAAC4K,GAAAA,EAAMA,CAAAA,CACLhM,UAAWI,GACXT,QAAQ,UACRmlB,mBAAiB,mCACjB+I,sBAAqB7Y,E,SAEpBrX,CAAC,CAAC,sCAAsC,E,IAIjD,EAEa4vB,GAAU,CAAC,CACtBvtB,UAAAA,CAAS,CACT8N,UAAAA,CAAS,CACTtD,SAAAA,CAAQ,CACR,GAAG8D,EAGJ,IACC,GAAM,CAAC7B,EAAYC,EAAY,CAAG3P,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACrC,CAACsS,EAAwBC,EAAwB,CAAGvS,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC7DY,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IAEJqU,EAAsB5S,CAAAA,EAAAA,EAAAA,EAAAA,EAAWoQ,EAAAA,EAAmBA,EACpDC,EAAcrQ,CAAAA,EAAAA,EAAAA,EAAAA,EAAWsB,EAAAA,EAAWA,EAEpC,CAAC0O,EAAgBC,EAAkB,CAAG7P,CAAAA,EAAAA,EAAAA,QAAAA,EAAS8P,CAAAA,EAAAA,GAAAA,EAAAA,KAErDzQ,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,GAAIiT,EAMF,OAJAM,OAAOC,gBAAgB,CACrB,QACAL,EAAoBzC,YAAY,CAACtK,UAAU,EAEtC,KACLmN,OAAOE,mBAAmB,CACxB,QACAN,EAAoBzC,YAAY,CAACtK,UAAU,CAE/C,CAGJ,EAAG,CAAC6M,EAAwBE,EAAoB,EAEhD,IAAMue,EAAU7xB,CAAAA,EAAAA,EAAAA,CAAAA,EAAiB,UAC/ByQ,EAAY,IACZ3J,EAAAA,EAAKA,CAACC,CAAC,CAACwK,aAAa,CAACC,KAAK,CAACsC,QAAQ,CAAC,CACnCpC,KAAMC,GAAAA,EAAgBA,CAACuI,GAAG,CAC1BrI,UAAWA,CACb,GACA,IAAMyJ,EAAO,MAAMhI,EAAoBW,qBAAqB,CAAC,CAC3DpC,UAAAA,EACAnB,eAAAA,EACAgB,KAAMC,GAAAA,EAAgBA,CAACuI,GAAG,CAC1BhG,OAAQ,KACRC,oBAAqBC,CAAAA,EAAAA,GAAAA,EAAAA,EACnBrD,EAAYhP,OAAO,CAACkQ,QAAQ,CAAC3B,KAAK,CAClCqB,GAAAA,EAAgBA,CAACuI,GAAG,CACpBrI,EAEJ,GACApB,EAAY,IACZE,EAAkBC,CAAAA,EAAAA,GAAAA,EAAAA,KAClByD,CAAAA,EAAAA,GAAAA,EAAAA,EAAYiH,GACZjI,EAAwB,GAC1B,EAAG,CACDxB,EACAd,EAAYhP,OAAO,CAACkQ,QAAQ,CAAC3B,KAAK,CAClCgD,EACA5C,EACD,EAED,MACE,UAACX,GAAAA,EAAMA,CAAAA,CACLhM,UAAW2K,CAAAA,EAAAA,EAAAA,CAAAA,EAAKvK,GAAmBJ,GACnCL,QAAQ,UACR8K,QAASqjB,EACTluB,SAAU6M,EACVjP,QAASiP,EACR,GAAG6B,CAAQ,C,SAEX9D,GAAY7M,CAAC,CAAC,6BAA6B,E,EAGlD,EAEM2vB,GAAkB,CAAC,CACvBtiB,KAAAA,CAAI,CACJzD,GAAAA,CAAE,CACF3H,SAAAA,CAAQ,CACRskB,IAAAA,CAAG,CAMJ,IACC,IAAMvmB,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJ,CAAC+B,EAAMuJ,EAAQ,CAAGzJ,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC3B,CAAC0P,EAAYiC,EAAc,CAAG3R,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAEvC,CAAC4P,EAAgBC,EAAkB,CAAG7P,CAAAA,EAAAA,EAAAA,QAAAA,EAAS8P,CAAAA,EAAAA,GAAAA,EAAAA,KAC/CC,EAAenQ,CAAAA,EAAAA,EAAAA,EAAAA,EAAWoQ,EAAAA,EAAmBA,EAAED,YAAY,CAE3DihB,EAAgBtvB,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAChCsE,EAAAA,EAAKA,CAACC,CAAC,CAACwK,aAAa,CAACC,KAAK,CAACugB,2BAA2B,CAAC,CACtDrgB,KAAMC,GAAAA,EAAgBA,CAACuI,GAAG,CAC1BrI,UAAWvG,CACb,GACAf,EAAQ,GACV,EAAG,CAACe,EAAG,EAED0mB,EAAShyB,CAAAA,EAAAA,EAAAA,CAAAA,EAAiB,UAC9ByS,EAAc,IACd,MAAM5B,EAAaohB,wBAAwB,CAACvhB,EAAgBpF,GAC5DqF,EAAkBC,CAAAA,EAAAA,GAAAA,EAAAA,KAClB6B,EAAc,GAChB,EAAG,CAAC5B,EAAcvF,EAAIoF,EAAe,EAE/BwhB,EACJ,WAACzL,EAAAA,EAAKA,CAAAA,CAACld,OAAQ,CAAEwF,KAAAA,EAAMzD,GAAAA,EAAI2c,IAAAA,CAAI,EAAGlkB,UAAWI,G,UAAyB,yBAC9C,UAACS,OAAAA,CAAKb,UAAWI,G,SAAsB4K,C,GAAa,IAAI,mBAC9D,UAACnK,OAAAA,CAAKb,UAAWI,G,SAAsBmH,C,GAAW,IAAI,kGAEjD,IACrB,UAAC1G,OAAAA,CAAKb,UAAWI,G,SACd,IAAIijB,KAAKa,GAAKZ,kBAAkB,E,GAC5B,I,GAKX,MACE,uB,UACE,UAACtX,GAAAA,EAAMA,CAAAA,CACLhM,UAAWI,GACXT,QAAQ,UACR8K,QAASsjB,EACTnuB,SAAUA,GAAY6M,EACtBjP,QAASiP,E,SAER9O,CAAC,CAAC,+BAA+B,CAAC,CAAE4J,GAAAA,CAAG,E,GAG1C,UAACyX,GAAmBA,CAClBzZ,KAAM,SACN/H,QAASiP,EACTxP,KAAMA,EACN6C,UAAWmuB,EACX3qB,aAAckD,EACd0N,QAASia,C,KAIjB,EAEMnB,GAAe,CAAC,CAAExiB,SAAAA,CAAQ,CAAqB,IACnD,IAAMhE,EAAUlI,CAAAA,EAAAA,EAAAA,EAAAA,EAAWC,EAAAA,EAAQA,EAE7BiQ,EAAgB/P,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAChC+H,EAAQ9H,GAAU,EAChB,GAAGA,CAAK,CACRC,UAAW,EACb,GACF,EAAG,CAAC6H,EAAQ,EAEZ,MACE,UAACwF,GAAAA,EAAMA,CAAAA,CACLvB,QAAS+D,EACTxO,UAAWI,GACXT,QAAQ,U,SAEP6K,C,EAGP,EAEM2iB,GAAe,KACnB,IAAMxvB,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJ,CAAC+B,EAAMuJ,EAAQ,CAAGzJ,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC3B+P,EAAenQ,CAAAA,EAAAA,EAAAA,EAAAA,EAAWoQ,EAAAA,EAAmBA,EAAED,YAAY,CAE3D6M,EAAclb,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAC9B+H,EAAQ,IACR,IAAMmd,EAAM7W,EAAa8G,IAAI,CAACrH,KAAK,CAC/BoX,GACF5gB,EAAAA,EAAKA,CAACC,CAAC,CAACwK,aAAa,CAACC,KAAK,CAACmB,kBAAkB,CAAC,CAC7CjB,KAAMC,GAAAA,EAAgBA,CAACuI,GAAG,CAC1BrI,UAAW6V,EAAI7V,SAAS,EAG9B,EAAG,CAAChB,EAAa8G,IAAI,CAACrH,KAAK,CAAC,EAE5B,MACE,UAACsT,GAAYA,CAAC5iB,KAAMA,EAAMqG,aAAckD,E,SACtC,WAACwF,GAAAA,EAAMA,CAAAA,CAAChM,UvBtYY,sBuBsYoByK,QAASkP,E,UAC/C,UAAC9Y,OAAAA,CAAKutB,kBAAgB,OAAOpuB,UAAW2K,CAAAA,EAAAA,EAAAA,CAAAA,EAAKvK,I,SAC1CzC,CAAC,CAAC,oCAAoC,E,GAEzC,UAACkD,OAAAA,CAAKutB,kBAAgB,QAAQpuB,UAAW2K,CAAAA,EAAAA,EAAAA,CAAAA,EAAKvK,I,SAC3CzC,CAAC,CAAC,kCAAkC,E,OAK/C,EC/aO,IAAI0wB,GAAW,YCOf,IAAMC,GAAe,KAC1B,IAAM3wB,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJqU,EAAsB5S,CAAAA,EAAAA,EAAAA,EAAAA,EAAWoQ,EAAAA,EAAmBA,EAEpD+W,EAAwB3lB,CAAAA,EAAAA,EAAAA,CAAAA,EAC5BoR,EAAoBE,MAAM,CAACsU,sBAAsB,EAE7CtC,EAAatjB,CAAAA,EAAAA,EAAAA,CAAAA,EAAYoR,EAAoBzC,YAAY,CAAC4U,WAAW,SAE3E,EAGE,WAAC1B,GAAYA,CAACza,KAAM,E,UAClB,UAACxF,MAAAA,CAAIC,UDvBW,Y,SCwBbrC,CAAC,CAAC,wCAAwC,E,GAG7C,UAACoC,MAAAA,CAAIC,UDvBQ,Y,SCwBVrC,CAAC,CAAC,oCAAoC,E,GAGzC,UAACoC,MAAAA,CAAIC,UD7BQ,Y,SC6BkB8jB,C,GAE9BrC,EACC,UAACzV,EAAAA,EAAMA,CAAAA,CAAChM,UAAWI,GAAiBF,KAAK,UAAUN,SAAQ,G,SACxDjC,CAAC,CAAC,wCAAwC,E,GAG7C,UAAC4vB,GAAOA,CACNvtB,UAAWI,GACX0N,UAAWkC,GAAAA,EAAqBA,CAACuW,QAAQ,C,SAExC5oB,CAAC,CAAC,uCAAuC,E,GAI9C,UAACoC,MAAAA,CAAIC,UD7CW,Y,SC8Cd,UAAC0iB,EAAAA,EAAKA,CAAAA,CACJC,QAAQ,wCACRC,WAAY,CACV5hB,EAAG,UAACA,IAAAA,CAAEhB,UD7CU,YC6CwBiB,KAAK,G,EAC/C,C,KAIJ,UAACqf,GAAgBA,CAAC5c,MAAO,CAAEC,QAAS,SAAU,C,MApCf,IAuCrC,ECTM4qB,GAA+B5wB,GAAM,EACzC,CAACA,CAAC,CAAC,2CAA2C,GAAG,CAAE,CAAE,EAAG,EAAG,EAAE,CAAWhC,GAAG,CACzE6yB,GAAM,EACJlvB,MAAO3B,CAAC,CAAC,CAAC,yCAAyC,EAAE6wB,EAAE,CAAC,CAAC,EAC3D,IAEF,CAAC7wB,CAAC,CAAC,2CAA2C,GAAG,CAAE,CAChD,EAAG,EAAG,EAAG,EAAG,EAAE,CACfhC,GAAG,CAAC6yB,GAAM,EACVlvB,MAAO3B,CAAC,CAAC,CAAC,yCAAyC,EAAE6wB,EAAE,CAAC,CAAC,EAC3D,GACF,GAEMC,GAA8B9wB,GAAM,EACxC,CAACA,CAAC,CAAC,0CAA0C,GAAG,CAAE,CAChD,CACE2B,MAAO3B,CAAC,CAAC,4CAA4C,GACrDoR,KAAM,UAACyR,EAAAA,UAAUA,CAAAA,CAAAA,EACnB,KACG,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAE,CAAW7kB,GAAG,CAAC6yB,GAAM,EAC5ClvB,MAAO3B,CAAC,CAAC,CAAC,wCAAwC,EAAE6wB,EAAE,CAAC,CAAC,EAC1D,IACD,CACH,EAEME,GAA+B/wB,GAAM,EACzC,CAACA,CAAC,CAAC,2CAA2C,GAAG,CAAE,CACjD,CACE2B,MAAO3B,CAAC,CAAC,6CAA6C,GACtDoR,KAAM,UAACyR,EAAAA,UAAUA,CAAAA,CAAAA,EACnB,KACG,CAAE,EAAG,EAAG,EAAE,CAAW7kB,GAAG,CAAC6yB,GAAM,EAChClvB,MAAO3B,CAAC,CAAC,CAAC,yCAAyC,EAAE6wB,EAAE,CAAC,CAAC,EAC3D,IACD,CACD,CAAC7wB,CAAC,CAAC,2CAA2C,GAAG,CAAE,CACjD,CAAE2B,MAAO3B,CAAC,CAAC,6CAA6C,EAAG,EAC3D,CAAE2B,MAAO3B,CAAC,CAAC,6CAA6C,EAAG,EAC3D,CAAE2B,MAAO3B,CAAC,CAAC,6CAA6C,EAAG,EAC5D,CACH,EA8DMgxB,GAAoB,CAAC,CACzB7gB,UAAAA,CAAS,CACTnQ,CAAC,CAIF,GACQmQ,IAAckC,GAAAA,EAAqBA,CAACiS,OAAO,CAC9CtkB,CAAC,CAAC,uCAAuC,GACzCA,CAAC,CAAC,sCAAsC,GAGjCixB,GAAa,KACxB,IAAMjxB,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJ2zB,EAAgB9iB,CAAAA,EAAAA,EAAAA,MAAAA,EAAuB,MAEvC,CAAEiB,YAAAA,CAAW,CAAEuC,oBAAAA,CAAmB,CAAE,CAAG8G,CAAAA,EAAAA,EAAAA,EAAAA,EAAY,CACvDpY,YAAWA,EAAAA,EAAAA,CACX8O,oBAAmBA,EAAAA,EAAAA,GAGf0C,EAAStR,CAAAA,EAAAA,EAAAA,CAAAA,EAAYoR,EAAoBE,MAAM,CAACqf,OAAO,EACvDzC,EAAWluB,kBAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAY6O,EAAYhP,OAAO,CAACI,OAAO,EAClDuV,EAAkBxV,CAAAA,EAAAA,EAAAA,CAAAA,EAAYoR,EAAoBzC,YAAY,CAAC8G,IAAI,EAEnE,CAAC9F,EAAWihB,EAAa,CAAGhyB,CAAAA,EAAAA,EAAAA,QAAAA,EAChC4W,GAAiB7F,WAAakC,GAAAA,EAAqBA,CAACC,MAAM,EAGtD+e,EAAa5zB,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KACzB,IAAM6zB,EAASC,SA1FWvxB,CAAI,EAChC,OAAO,IAAIwxB,IAAiD,CAC1D,CACEvhB,GAAAA,EAAgBA,CAACmU,IAAI,CACrB,CACExc,KAAM,QACNoI,KAAMC,GAAAA,EAAgBA,CAACmU,IAAI,CAC3BvS,MAAO,IACP4f,YAAa,IACbvzB,KAAM8B,CAAC,CAAC,qCAAqC,GAC7C4B,YAAa5B,CAAC,CAAC,4CAA4C,GAC3D+uB,cAAe,IAAM/uB,CAAC,CAAC,sCAAsC,GAC7DmuB,SAAUyC,GAAa5wB,EACzB,EACD,CACD,CACEiQ,GAAAA,EAAgBA,CAACuI,GAAG,CACpB,CACE5Q,KAAM,QACNoI,KAAMC,GAAAA,EAAgBA,CAACuI,GAAG,CAC1B3G,MAAO,IACP4f,YAAa,IACbvzB,KAAM8B,CAAC,CAAC,oCAAoC,GAC5C4B,YAAa5B,CAAC,CAAC,2CAA2C,GAC1D+uB,cAAe,CAAC5e,EAAWse,KACzB,IAAM5c,EACJ1B,IAAckC,GAAAA,EAAqBA,CAACC,MAAM,CACtCmc,EAAOgD,WAAW,CAClBhD,EAAO5c,KAAK,CAClB,MACE,uB,UACG7R,CAAC,CAAC,mDAAmD,CAAC,CACrD6R,MAAO,IAAMA,CACf,GACC1B,IAAckC,GAAAA,EAAqBA,CAACC,MAAM,CACzC,UAACpP,OAAAA,CAAKb,U1BpGa,Y,S0BqGhBrC,CAAC,CAAC,mDAAmD,E,GAEtD,K,EAGV,EACAmuB,SAAU2C,GAAY9wB,EACxB,EACD,CACD,CACEiQ,GAAAA,EAAgBA,CAAC+f,IAAI,CACrB,CACEpoB,KAAM,UACNoI,KAAMC,GAAAA,EAAgBA,CAAC+f,IAAI,CAC3B0B,QAAS,GACTxzB,KAAM8B,CAAC,CAAC,qCAAqC,GAC7C4B,YAAa5B,CAAC,CAAC,4CAA4C,GAC3D+uB,cAAe,IAAM/uB,CAAC,CAAC,sCAAsC,GAC7DmuB,SAAU4C,GAAa/wB,EACzB,EACD,CACF,CACH,EAgCiCA,GACvB2xB,EAAY,IAAIH,IAqBtB,OAnBAF,EAAOM,OAAO,CAAC,CAACnD,EAAQze,KACtB2hB,EAAUE,GAAG,CAAC7hB,EAAM,CAAE,GAAGye,CAAM,EACjC,GAEA3c,GAAQ8f,QAAQ/f,IACd,IAAM4c,EAASkD,EAAUnR,GAAG,CAAC3O,EAAM7B,IAAI,EAEnCye,GAAQ7mB,OAAS,UACnB6mB,EAAO5c,KAAK,CAAG,CAAC,CAACA,EAAM8S,MAAM,EAAI,GAAK,GAAE,EAAG5R,OAAO,CAAC,GACnD0b,EAAOgD,WAAW,CAAG,CAAC,CAAC5f,EAAMe,YAAY,EAAI,GAAK,IAAM,EAAC,EAAGG,OAAO,CAAC,GACpE0b,EAAOqD,QAAQ,CACbjgB,EAAMe,YAAY,EAAIf,EAAM8S,MAAM,CAC9B7P,KAAKid,KAAK,CACR,CAAC,EAAIlgB,EAAMe,YAAY,CAAG,GAAKf,EAAM8S,MAAM,EAAI,KAC/C1Y,QAAQ,GACV3H,KAAAA,EAEV,GAEOqtB,CACT,EAAG,CAAC7f,EAAQ9R,EAAE,EAERmkB,EAAcnO,GAAiBhG,MAAQC,GAAAA,EAAgBA,CAACmU,IAAI,CAC5DkL,EAAa,CAAC,CAACtZ,GAAiBb,WAChCkP,EACJrO,GAAiB7F,WAAakC,GAAAA,EAAqBA,CAACiS,OAAO,CACvD0N,EACJX,EAAW7Q,GAAG,CAACvQ,GAAAA,EAAgBA,CAACuI,GAAG,GAClCsZ,SAGHrzB,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,GAAI,CAACyyB,EAAc3iB,OAAO,CAAE,OAC5B,IAAM0jB,EAAkBf,EAAc3iB,OAAO,EAAEie,cAC7C,yBAEI0F,EAAuBC,iBAAiBjB,EAAc3iB,OAAO,EAC7D6jB,EAAOH,EACTA,EAAgBvF,qBAAqB,GAAG0F,IAAI,CAC5ClB,EAAc3iB,OAAO,CAACme,qBAAqB,GAAG0F,IAAI,CAClDC,SAASH,EAAqB9e,WAAW,EACzC,EACEkf,EAAWpB,SAAAA,EAAc3iB,OAAO,CAACqe,OAAO,CAAC0F,QAAQ,CACjDC,EAAmBC,sBAAsB,KAC7CtB,EAAc3iB,OAAO,EAAEkkB,SAAS,CAC9BvF,SAAUoF,EAAW,SAAW,UAChCF,KAAAA,CACF,GACAlB,EAAc3iB,OAAO,EAAEmkB,aAAa,gBAAiB,OACvD,GACA,MAAO,KACLC,qBAAqBJ,EACvB,CACF,EAAG,CAACpiB,EAAU,EAGd,IAAMyiB,EAAelE,EACnBY,EACE,UAAC5R,IAAAA,C,SACE1d,CAAC,CAAC,uCAAuC,CAAC,CACzCgQ,KAAM,CAAC,EAAEghB,GAAkB,CACzB7gB,UAAWkU,EACXrkB,EAAAA,CACF,GAAG,CAAC,EAAEmkB,EAAY,CAAC,E,GAIvB,UAACzG,IAAAA,C,SACC,WAACqH,EAAAA,EAAKA,CAAAA,CACJ/U,KAAMmU,EACNa,QAAQ,qCACRnd,OAAQ,CAAEsc,YAAAA,CAAY,E,UACvB,4BAC2B,CAAEA,YAAAA,CAAY,EAAE,wDAE1C,UAAC9gB,IAAAA,CACCC,KAAK,mCACLyC,MAAO,CAAEmP,MAAO,0BAA2B,E,SAC5C,kB,GAEG,I,KAMV,UAACwI,IAAAA,C,SAAG1d,CAAC,CAAC,4CAA4C,E,GAI9C6yB,EACJ,WAACzwB,MAAAA,CAAIC,U1BlP2B,Y,U0BmP9B,UAACD,MAAAA,C,SACE+N,IAAckC,GAAAA,EAAqBA,CAACC,MAAM,CACzC,UAAClQ,MAAAA,CAAIC,UAAWI,G,SACbzC,CAAC,CAAC,sDAAsD,E,GAG3D,uB,UACE,UAACoC,MAAAA,CAAIC,UAAWI,G,SACd,UAACS,OAAAA,C,SACElD,CAAC,CACA,6DACD,E,KAGJgyB,EACC,UAAC5vB,MAAAA,CAAIC,U1BpQkB,Y,S0BqQpBrC,CAAC,CAAC,wDAAwD,CAAC,CAC1D8xB,SAAUE,CACZ,E,GAEA,K,KAIV,UAAC7uB,EAAAA,EAAMA,CAAAA,CACLjC,QAASiP,IAAckC,GAAAA,EAAqBA,CAACC,MAAM,CACnDrP,SAAU/B,GACRkwB,EACElwB,EACImR,GAAAA,EAAqBA,CAACC,MAAM,CAC5BD,GAAAA,EAAqBA,CAACiS,OAAO,C,MAOrCwO,EACJ,UAAC1wB,MAAAA,CAAIC,U1BzSqB,Y0BySehD,IAAK6xB,E,SAC3C9jB,MAAMC,IAAI,CAACgkB,EAAWxpB,MAAM,IAAI7J,GAAG,CAACywB,GAC5B,UAACD,GAAQA,CAAyBC,OAAAA,EAAQte,UAAAA,C,EAA3Bse,EAAOze,IAAI,E,GAKjC+iB,EACJ,WAAC3wB,MAAAA,CAAIC,U1BlUgB,Y,U0BmUnB,UAAC2wB,IAAAA,C,SAAGhzB,CAAC,CAAC,qDAAqD,E,GAC3D,UAACkD,OAAAA,C,SAAMlD,CAAC,CAAC,uDAAuD,E,MAIpE,MACE,UAACqtB,GAAeA,CACd9B,QAASqH,EACTtF,OAAQyF,EACRvH,OAAQqH,EACRtF,OAAQuF,EACRrF,UAAWyD,EACX1D,SAAU,UAACmD,GAAYA,CAAAA,E,EAG7B,ECxUMsC,GAAkB,CAAC,CACvB3qB,OAAAA,EAAS,CAAC,CACV,GAAGvI,EAGoC,GACvC,UAACoN,EAAAA,EAAQA,CAAAA,CAAE,GAAGpN,CAAK,CAAEgG,MAAO,CAAE8M,aAAc,CAAC,EAAEvK,EAAO,EAAE,CAAC,C,GAGrD4qB,GAAe,IAInB,UAAC/lB,EAAAA,EAAQA,CAAAA,CAACnL,QAAQ,UAAU6D,MAAM,QAAQM,OAAO,M,GAG7CgtB,GAAmB,IACvB,WAAC/wB,MAAAA,CAAIC,UC3BmB,Y,UD4BtB,WAACgkB,SAAAA,CAAOhkB,UC1BgB,Y,UD2BtB,UAAC4wB,GAAAA,CAAgBjxB,QAAQ,UAAU6D,MAAM,OAAOM,OAAO,M,GACvD,UAAC8sB,GAAAA,CAAgBjxB,QAAQ,UAAU6D,MAAM,OAAOM,OAAO,M,MAGzD,UAACitB,OAAAA,CAAK/wB,UChCmB,Y,SDiCvB,UAAC4wB,GAAAA,CAAgBjxB,QAAQ,UAAU6D,MAAM,OAAOM,OAAO,M,QAKvDktB,GAAiB,IACrB,WAACjxB,MAAAA,CAAIC,UCrCmB,Y,UDsCtB,UAAC8wB,GAAAA,CAAAA,GACD,UAACA,GAAAA,CAAAA,GACD,UAACA,GAAAA,CAAAA,G,GAIQG,GAAgB,IAEzB,UAACxH,GAAUA,CACT7F,GACE,UAACmI,GAAYA,CACX7C,QACE,UAAC0H,GAAAA,CACCjxB,QAAQ,cACRsG,OAAQ,EACRzC,MAAM,QACNM,OAAO,M,GAGXkoB,cACE,uB,UACE,UAAC4E,GAAAA,CACCjxB,QAAQ,cACRsG,OAAQ,GACRzC,MAAM,QACNM,OAAO,M,GAET,UAAC8sB,GAAAA,CACCjxB,QAAQ,cACRsG,OAAQ,GACRzC,MAAM,QACNM,OAAO,M,QAMjB4lB,MACE,UAACsB,GAAeA,CACd7B,OACE,UAACyH,GAAAA,CAAgBjxB,QAAQ,UAAU6D,MAAM,OAAOM,OAAO,M,GAEzDmnB,OAAQ,UAAC4F,GAAAA,CAAAA,GACT3F,OAAQ,UAAC8F,GAAAA,CAAAA,E,KExEbE,GAAW,KACf,IAAM3hB,EAAsB5S,CAAAA,EAAAA,EAAAA,EAAAA,EAAWoQ,EAAAA,EAAmBA,EACpD0C,EAAStR,CAAAA,EAAAA,EAAAA,CAAAA,EAAYoR,EAAoBE,MAAM,CAACqf,OAAO,QAO7D,CALA1yB,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACRmT,EAAoBzC,YAAY,CAACtK,UAAU,GAC3C+M,EAAoBE,MAAM,CAACjN,UAAU,EACvC,EAAG,CAAC+M,EAAoB,EAEpBE,OAAAA,GACK,UAACwhB,GAAaA,CAAAA,GAGhB,UAACxH,GAAUA,CAACE,SAAQ,GAACD,MAAO,UAACkF,GAAUA,CAAAA,GAAKhL,GAAI,UAACqI,GAAMA,CAAAA,E,EAChE,EAEakF,GAAqB,IAE9B,UAAC1T,GAAgBA,CAACuD,kBAAmBoQ,G,SACnC,UAACF,GAAAA,CAAAA,E,GAKDE,GAAqB,CAAC,CAAEC,mBAAAA,CAAkB,CAAiB,IAC/D,IAAM1zB,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IAEJgwB,EACJ,WAACnrB,MAAAA,CAAIC,U7BlCa,a,U6BmChB,UAACa,OAAAA,C,SAAMlD,CAAC,CAAC,qCAAqC,E,GAC9C,UAACqD,IAAAA,CAAEyJ,QAAS4mB,EAAoBrxB,U7BnCX,a,S6BoClBrC,CAAC,CAAC,uCAAuC,E,MAKhD,MAAO,UAAC8rB,GAAUA,CAACC,MAAO,UAACsB,GAAeA,CAACE,OAAQA,C,IACrD,ECFMoG,GAA2B,KAC/B,IAAM3zB,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACV,MAAOuD,CAAAA,EAAAA,EAAAA,WAAAA,EACL,GACEd,CAAC,CAAC,CAAC,6BAA6B,EAAEwB,EAAI,CAAC,CAAC,GAC1C,CAACxB,EAAE,CAEP,EAGM4zB,GAAkC,KACtC,IAAM5zB,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACV,MAAOuD,CAAAA,EAAAA,EAAAA,WAAAA,EACL,GAAoBd,CAAC,CAAC,uCAAuC,CAAC,CAAE6zB,OAAAA,CAAO,GACvE,CAAC7zB,EAAE,CAEP,EAUa8zB,GAAiC,KAC5C,IAAM9zB,EAAI2zB,KACV,MAAOl2B,CAAAA,EAAAA,EAAAA,OAAAA,EACL,IAAO,EACL,CAACuC,EAAE,UAAU,CAAE,CAAC,MAAM,CACtB,CAACA,EAAE,eAAe,CAAE,CAAC,OAAQ,IAAI,CACjC,CAACA,EAAE,WAAW,CAAE,CAAC,OAAQ,IAAI,CAG7B,CAACA,EAAE,2BAA2B,CAAE,CAAC,OAAQ,IAAI,CAC7C,CAACA,EAAE,UAAU,CAAE,CAAC,OAAQ,IAAI,CAC5B,CAACA,EAAE,aAAa,CAAE,CAAC,OAAQ,IAAI,CAC/B,CAACA,EAAE,qBAAqB,CAAE,CAAC,IAAK,IAAK,IAAI,CAC3C,EACA,CAACA,EAAE,CAEP,EACa+zB,GAAiC,KAC5C,IAAM/zB,EAAI2zB,KACV,MAAOl2B,CAAAA,EAAAA,EAAAA,OAAAA,EACL,IAAO,EACL,CAACuC,EAAE,UAAU,CAAE,CAAC,MAAM,CACtB,CAACA,EAAE,eAAe,CAAE,CAAC,IAAK,IAAI,CAC9B,CAACA,EAAE,WAAW,CAAE,CAAC,IAAK,IAAI,CAG1B,CAACA,EAAE,2BAA2B,CAAE,CAAC,IAAK,IAAI,CAC1C,CAACA,EAAE,UAAU,CAAE,CAAC,KAAM,IAAI,CAC1B,CAACA,EAAE,aAAa,CAAE,CAAC,KAAM,IAAI,CAC7B,CAACA,EAAE,qBAAqB,CAAE,CAAC,IAAK,IAAK,IAAI,CAC3C,EACA,CAACA,EAAE,CAEP,EAEag0B,GAAkC,KAC7C,IAAMh0B,EAAI2zB,KACV,MAAOl2B,CAAAA,EAAAA,EAAAA,OAAAA,EACL,IAAO,EACL,CAACuC,EAAE,aAAa,CAAE,CAAC,IAAK,IAAI,CAC5B,CAACA,EAAE,QAAQ,CAAE,CAAC,IAAK,IAAI,CACvB,CAACA,EAAE,QAAQ,CAAE,CAAC,IAAK,IAAK,IAAI,CAC5B,CAACA,EAAE,UAAU,CAAE,CAAC,IAAK,IAAI,CACzB,CAACA,EAAE,WAAW,CAAE,CAAC,IAAK,IAAI,CAC1B,CAACA,EAAE,aAAa,CAAE,CAAC,IAAK,IAAI,CAC5B,CAACA,EAAE,aAAa,CAAE,CAAC,IAAK,IAAI,CAC5B,CAACA,EAAE,UAAU,CAAE,CAAC,IAAI,CACpB,CAACA,EAAE,QAAQ,CAAE,CAAC,IAAI,CAClB,CAACA,EAAE,SAAS,CAAE,CAAC,IAAI,CACnB,CAACA,EAAE,SAAS,CAAE,CAAC,IAAI,CACnB,CAACA,EAAE,qBAAqB,CAAE,CAAC,IAAI,CAC/B,CAACA,EAAE,oBAAoB,CAAE,CAAC,IAAI,CAG9B,CAACA,EAAE,OAAO,CAAE,CAAC,IAAI,CACjB,CAACA,EAAE,QAAQ,CAAE,CAAC,IAAI,CAClB,CAACA,EAAE,QAAQ,CAAE,CAAC,IAAI,CAIpB,EACA,CAACA,EAAE,CAEP,EACai0B,GAAkC,KAC7C,IAAMj0B,EAAI2zB,KACV,MAAOl2B,CAAAA,EAAAA,EAAAA,OAAAA,EACL,IAAO,EACL,CAACuC,EAAE,aAAa,CAAE,CAAC,OAAQ,IAAI,CAC/B,CAACA,EAAE,QAAQ,CAAE,CAAC,OAAQ,IAAI,CAC1B,CAACA,EAAE,QAAQ,CAAE,CAAC,OAAQ,SAAU,QAAS,IAAI,CAC7C,CAACA,EAAE,UAAU,CAAE,CAAC,OAAQ,IAAI,CAC5B,CAACA,EAAE,WAAW,CAAE,CAAC,OAAQ,IAAI,CAC7B,CAACA,EAAE,aAAa,CAAE,CAAC,OAAQ,IAAI,CAC/B,CAACA,EAAE,aAAa,CAAE,CAAC,OAAQ,IAAI,CAC/B,CAACA,EAAE,UAAU,CAAE,CAAC,IAAI,CACpB,CAACA,EAAE,QAAQ,CAAE,CAAC,IAAI,CAClB,CAACA,EAAE,SAAS,CAAE,CAAC,IAAI,CACnB,CAACA,EAAE,SAAS,CAAE,CAAC,IAAI,CACnB,CAACA,EAAE,qBAAqB,CAAE,CAAC,IAAI,CAC/B,CAACA,EAAE,oBAAoB,CAAE,CAAC,IAAI,CAG9B,CAACA,EAAE,OAAO,CAAE,CAAC,IAAI,CACjB,CAACA,EAAE,QAAQ,CAAE,CAAC,IAAI,CAClB,CAACA,EAAE,QAAQ,CAAE,CAAC,IAAI,CAClB,CAACA,EAAE,UAAU,CAAE,CAAC,OAAQ,GAAG,CAI7B,EACA,CAACA,EAAE,CAEP,EACak0B,GAA8B,KACzC,IAAMl0B,EAAI2zB,KACJQ,EAAKP,KACX,MAAOn2B,CAAAA,EAAAA,EAAAA,OAAAA,EACL,IAAO,EACL,CAACuC,EAAE,QAAQ,CAAE,CAAC,IAAK,IAAI,CACvB,CAACA,EAAE,QAAQ,CAAE,CAAC,IAAK,IAAK,IAAI,CAC5B,CAACA,EAAE,QAAQ,CAAE,CAAC,IAAK,IAAI,CACvB,CAACA,EAAE,UAAU,CAAE,CAAC,IAAK,IAAI,CACzB,CAACA,EAAE,aAAa,CAAE,CAAC,IAAK,IAAI,CAC5B,CAACA,EAAE,iBAAiB,CAAE,CAAC,IAAK,IAAK,IAAI,CACrC,CAACA,EAAE,cAAc,CAAE,CAAC,IAAK,IAAI,CAC7B,CAACA,EAAE,aAAa,CAAE,CAAC,IAAK,IAAK,IAAI,CACjC,CAACA,EAAE,QAAQ,CAAE,CAAC,IAAK,IAAI,CACvB,CAACA,EAAE,eAAe,CAAE,CAAC,IAAK,IAAI,CAC9B,CAACA,EAAE,YAAY,CAAE,CAAC,IAAK,IAAK,IAAI,CAChC,CAACm0B,EAAG,KAAK,CAAE,CAAC,IAAK,IAAK,IAAI,CAC1B,CAACA,EAAG,KAAK,CAAE,CAAC,IAAK,IAAK,IAAI,CAC1B,CAACA,EAAG,KAAK,CAAE,CAAC,IAAK,IAAK,IAAI,CAC1B,CAACA,EAAG,KAAK,CAAE,CAAC,IAAK,IAAK,IAAI,CAC1B,CAACA,EAAG,KAAK,CAAE,CAAC,IAAK,IAAK,IAAI,CAC1B,CAACA,EAAG,KAAK,CAAE,CAAC,IAAK,IAAK,IAAI,CAC1B,CAACn0B,EAAE,kBAAkB,CAAE,CAAC,MAAM,CAC9B,CAACA,EAAE,gBAAgB,CAAE,CAAC,IAAK,MAAM,CACjC,CAACA,EAAE,iBAAiB,CAAE,CAAC,IAAK,IAAI,CAChC,CAACA,EAAE,UAAU,CAAE,CAAC,IAAK,IAAI,CAI3B,EACA,CAACA,EAAGm0B,EAAG,CAEX,EAEaC,GAA0B,KACrC,IAAMp0B,EAAI2zB,KACJQ,EAAKP,KACX,MAAOn2B,CAAAA,EAAAA,EAAAA,OAAAA,EACL,IAAO,EACL,CAACuC,EAAE,QAAQ,CAAE,CAAC,WAAW,CACzB,CAACA,EAAE,UAAU,CAAE,CAAC,SAAS,CACzB,CAACA,EAAE,aAAa,CAAE,CAAC,SAAS,CAC5B,CAACA,EAAE,iBAAiB,CAAE,CAAC,WAAW,CAClC,CAACA,EAAE,WAAW,CAAE,CAAC,MAAM,CACvB,CAACA,EAAE,cAAc,CAAE,CAAC,UAAU,CAC9B,CAACA,EAAE,aAAa,CAAE,CAAC,YAAY,CAC/B,CAACm0B,EAAG,KAAK,CAAE,CAAC,SAAS,CACrB,CAACA,EAAG,KAAK,CAAE,CAAC,UAAU,CACtB,CAACA,EAAG,KAAK,CAAE,CAAC,WAAW,CACvB,CAACA,EAAG,KAAK,CAAE,CAAC,YAAY,CACxB,CAACA,EAAG,KAAK,CAAE,CAAC,aAAa,CACzB,CAACA,EAAG,KAAK,CAAE,CAAC,cAAc,CAC5B,EACA,CAACn0B,EAAGm0B,EAAG,CAEX,EAEaE,GAA8B,KACzC,IAAMr0B,EAAI2zB,KACJQ,EAAKP,KACX,MAAOn2B,CAAAA,EAAAA,EAAAA,OAAAA,EACL,IAAO,EACL,CAACuC,EAAE,QAAQ,CAAE,CAAC,OAAQ,IAAI,CAC1B,CAACA,EAAE,QAAQ,CAAE,CAAC,OAAQ,IAAI,CAC1B,CAACA,EAAE,QAAQ,CAAE,CAAC,OAAQ,IAAI,CAC1B,CAACA,EAAE,UAAU,CAAE,CAAC,OAAQ,IAAI,CAC5B,CAACA,EAAE,aAAa,CAAE,CAAC,OAAQ,IAAI,CAC/B,CAACA,EAAE,iBAAiB,CAAE,CAAC,OAAQ,QAAS,IAAI,CAC5C,CAACA,EAAE,cAAc,CAAE,CAAC,QAAS,IAAI,CACjC,CAACA,EAAE,aAAa,CAAE,CAAC,OAAQ,MAAO,IAAI,CACtC,CAACA,EAAE,QAAQ,CAAE,CAAC,MAAO,IAAI,CACzB,CAACA,EAAE,eAAe,CAAE,CAAC,OAAQ,IAAI,CACjC,CAACA,EAAE,YAAY,CAAE,CAAC,OAAQ,QAAS,IAAI,CACvC,CAACm0B,EAAG,KAAK,CAAE,CAAC,OAAQ,QAAS,IAAI,CACjC,CAACA,EAAG,KAAK,CAAE,CAAC,OAAQ,QAAS,IAAI,CACjC,CAACA,EAAG,KAAK,CAAE,CAAC,OAAQ,QAAS,IAAI,CACjC,CAACA,EAAG,KAAK,CAAE,CAAC,OAAQ,QAAS,IAAI,CACjC,CAACA,EAAG,KAAK,CAAE,CAAC,OAAQ,QAAS,IAAI,CACjC,CAACA,EAAG,KAAK,CAAE,CAAC,OAAQ,QAAS,IAAI,CACjC,CAACn0B,EAAE,kBAAkB,CAAE,CAAC,MAAM,CAC9B,CAACA,EAAE,gBAAgB,CAAE,CAAC,YAAY,CAClC,CAACA,EAAE,iBAAiB,CAAE,CAAC,WAAW,CACjC,OAAW,CAAC,UAAU,CAIzB,EACA,CAACA,EAAGm0B,EAAG,CAEX,EACaG,GAA0B,KACrC,IAAMt0B,EAAI2zB,KACJQ,EAAKP,KACX,MAAOn2B,CAAAA,EAAAA,EAAAA,OAAAA,EACL,IAAO,EACL,CAACuC,EAAE,QAAQ,CAAE,CAAC,YAAY,CAC1B,CAACA,EAAE,UAAU,CAAE,CAAC,UAAU,CAC1B,CAACA,EAAE,aAAa,CAAE,CAAC,UAAU,CAC7B,CAACA,EAAE,iBAAiB,CAAE,CAAC,YAAY,CACnC,CAACA,EAAE,WAAW,CAAE,CAAC,MAAM,CACvB,CAACA,EAAE,cAAc,CAAE,CAAC,UAAU,CAC9B,CAACA,EAAE,aAAa,CAAE,CAAC,WAAW,CAC9B,CAACm0B,EAAG,KAAK,CAAE,CAAC,SAAS,CACrB,CAACA,EAAG,KAAK,CAAE,CAAC,UAAU,CACtB,CAACA,EAAG,KAAK,CAAE,CAAC,WAAW,CACvB,CAACA,EAAG,KAAK,CAAE,CAAC,YAAY,CACxB,CAACA,EAAG,KAAK,CAAE,CAAC,aAAa,CACzB,CAACA,EAAG,KAAK,CAAE,CAAC,cAAc,CAC5B,EACA,CAACn0B,EAAGm0B,EAAG,CAEX,EAEaI,GAAuB,KAClC,IAAMv0B,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IAEJi3B,EAAuBJ,KACvBK,EAAuBH,KACvBI,EAAQtX,YAAYuX,SAAS,EAAIvX,YAAYwC,OAAO,CAC1D,MAAO,CACLje,MAAO3B,CAAC,CAAC,2CAA2C,GACpD40B,UAAWF,EAAQF,EAAuBC,CAC5C,CACF,EAEaI,GAAmB,KAC9B,IAAM70B,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IAEJu3B,EAAmBZ,KACnBa,EAAmBV,KACnBK,EAAQtX,YAAYuX,SAAS,EAAIvX,YAAYwC,OAAO,CAC1D,MAAO,CACLje,MAAO3B,CAAC,CAAC,iCAAiC,GAC1C40B,UAAWF,EAAQI,EAAmBC,CACxC,CACF,EAEaC,GAAuB,KAClC,IAAMh1B,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IAEJ03B,EAAuBjB,KACvBkB,EAAuBjB,KACvBS,EAAQtX,YAAYuX,SAAS,EAAIvX,YAAYwC,OAAO,CAC1D,MAAO,CACLje,MAAO3B,CAAC,CAAC,qCAAqC,GAC9C40B,UAAWF,EAAQO,EAAuBC,CAC5C,CACF,EAEaC,GAAsB,KACjC,IAAMn1B,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IAEJ63B,EAAsBrB,KACtBsB,EAAsBvB,KACtBY,EAAQtX,YAAYuX,SAAS,EAAIvX,YAAYwC,OAAO,CAC1D,MAAO,CACLje,MAAO3B,CAAC,CAAC,oCAAoC,GAC7C40B,UAAWF,EAAQU,EAAsBC,CAC3C,CACF,ECxTMC,GAAiB,CAAC,CACtBC,cAAAA,CAAa,CAGd,GAEG,UAACtoB,EAAcA,CAACtL,MAAO4zB,EAAc5zB,KAAK,C,SACvC+oB,OAAOC,OAAO,CAAC4K,EAAcX,SAAS,EAAE52B,GAAG,CAAC,CAAC,CAAC2D,EAAOizB,EAAU,GAE5D,WAACxyB,MAAAA,CAAgBC,UCrBF,U,UDsBb,UAACa,OAAAA,C,SAAMvB,C,GACP,UAACS,MAAAA,CAAIC,UCxBiB,U,SDyBnBuyB,EAAU52B,GAAG,CAACwD,GAEX,UAAC0B,OAAAA,CAAKb,UC5BC,U,SD6BJb,C,EADgCA,G,KALjCG,G,GAkBP6zB,GAAY,KACvB,IAAMx1B,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IAEJk4B,EAAwBlB,KACxBmB,EAAoBb,KACpBc,EAAwBX,KACxBY,EAAuBT,KAE7B,MACE,uB,UACE,UAAC3oB,EAAaA,CACZ7K,MAAO3B,CAAC,CAAC,qCAAqC,GAC9CyM,SAAUzM,CAAC,CAAC,wCAAwC,GACpD4C,cAAY,0B,GAEd,UAAC0yB,GAAAA,CAAeC,cAAeK,C,GAC/B,UAACN,GAAAA,CAAeC,cAAeG,C,GAC/B,UAACJ,GAAAA,CAAeC,cAAeI,C,GAC/B,UAACL,GAAAA,CAAeC,cAAeE,C,KAGrC,EEhCaI,GAAwB,KACnC,IAAM71B,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJ,CAAE8R,YAAAA,CAAW,CAAEqE,oBAAAA,CAAmB,CAAEoiB,mBAAAA,CAAkB,CAAE,CAAGpd,CAAAA,EAAAA,EAAAA,EAAAA,EAAY,CAC3EpY,YAAWA,EAAAA,EAAAA,CACXqT,oBAAmBA,EAAAA,EAAAA,CACnBoiB,mBAAkBA,GAAAA,CAAAA,GAEdha,EAASvb,CAAAA,EAAAA,EAAAA,CAAAA,EAAY6O,EAAYhP,OAAO,CAACI,OAAO,EAChDmT,EAAoBpT,CAAAA,EAAAA,EAAAA,CAAAA,EACxBkT,EAAoBG,YAAY,CAACC,SAAS,CAAC9V,GAAG,CAAC+V,GAAKA,GAAGC,UAGzDvV,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACRq3B,EAAmBE,WAAW,CAACnxB,UAAU,EAC3C,EAAG,CAACixB,EAAmB,EAEvB,IAAMG,EAAqC,CACzC,CACEz0B,IAAK,aACLG,MAAO3B,CAAC,CAAC,iCAAiC,GAC1CoR,KAAM8kB,EAAAA,cAAcA,CACpBhX,OAAQ,0BACV,EACA,CACE1d,IAAK,YACLG,MAAO3B,CAAC,CAAC,qCAAqC,GAC9CoR,KAAM+kB,EAAAA,YAAYA,CAClBjX,OAAQ,yBACV,EACA,CACE1d,IAAK,QACLG,MAAO3B,CAAC,CAAC,+BAA+B,GACxCoR,KAAMglB,EAAAA,eAAeA,CACrBlX,OAAQ,qBACV,EACD,QAEGtL,IACFqiB,EAASI,MAAM,CAAC,EAAG,EAAG,CACpB70B,IAAK,QACLG,MAAO3B,CAAC,CAAC,2BAA2B,GACpCoR,KAAM+Z,GACNjM,OAAQ,qBACV,GACe,kBAAXnD,GACFka,EAASI,MAAM,CAAC,EAAG,EAAG,CACpB70B,IAAK,UACLG,MAAO3B,CAAC,CAAC,2CAA2C,GACpDoR,KAAMga,GACNlM,OAAQ,uBACV,IAKF+W,EAASnV,IAAI,CAAC,CACZtf,IAAK,wBACLG,MAAO3B,CAAC,CAAC,sDAAsD,GAC/DoR,KAAMklB,EAAAA,cAAcA,CACpBpX,OAAQ,+BACV,GAGK+W,CACT,EAMaM,GAAiB,CAAC,CAAEC,WAAAA,CAAU,CAAuB,IAChE,OAAQA,GACN,IAAK,YACH,MAAO,UAAChB,GAASA,CAAAA,EACnB,KAAK,aACH,MAAO,UAAChW,GAAkBA,CAAAA,EAC5B,KAAK,QACH,MAAO,UAACvD,GAAWA,CAAAA,EACrB,KAAK,QACH,MAAO,UAACuX,GAAkBA,CAAAA,EAC5B,KAAK,UACH,MAAO,UAACpQ,GAAeA,CAAAA,EACzB,KAAK,wBACH,MAAO,UAAC4H,GAAoBA,CAAAA,EAC9B,SACE,OAAO,IACX,CACF,E,oDCrHWyL,GAAgB,UAIhBC,GAAsB,UACtBC,GAAoB,UAEpBC,GAAkB,UCmCtB,IAAMC,GAAW,CAAC,CAAEC,sBAAAA,CAAqB,CAAExb,OAAAA,CAAM,CAAiB,IACvE,IAAMhL,EAAU9P,CAAAA,EAAAA,EAAAA,CAAAA,EAAYxB,CAAAA,EAAAA,EAAAA,EAAAA,EAAWsB,EAAAA,EAAWA,EAAED,OAAO,CAACkQ,QAAQ,EACpE,GAAKD,EAIL,MACE,WAAClO,MAAAA,CACCQ,cAAY,iBACZP,UAAW2K,CAAAA,EAAAA,EAAAA,CAAAA,EAAKjH,GAAqB,CACnCuV,OAAQA,CACV,GACAxO,QAASgqB,E,UAET,UAACx0B,GAAAA,CAAMA,CAAAA,CACLC,KAAM,GACNw0B,QAAS,EACT74B,KAAMoS,EAAQ8G,KAAK,CACnBC,IAAK/G,EAAQgH,MAAM,CACnBjV,UAAU,Q,GAGZ,WAACD,MAAAA,CAAIC,UAAU,U,UACb,WAACD,MAAAA,CAAIC,UAAU,iB,UACb,UAACD,MAAAA,CAAIC,UAAU,OAAOV,MAAO2O,EAAQ8G,KAAK,C,SACvC9G,EAAQ8G,KAAK,GAEhB,UAAC4f,GAAAA,CAAcA,CAAAA,CAAAA,G,GAGjB,UAAC50B,MAAAA,CAAIC,UAAU,QAAQV,MAAO2O,EAAQI,KAAK,C,SACxCJ,EAAQI,KAAK,G,KAKxB,EAEaumB,GAAe,KAC1B,IAAMj3B,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJ,EAAGqb,EAAa,CAAG9P,CAAAA,EAAAA,EAAAA,EAAAA,EAAQlI,EAAAA,EAAQA,EAEzC,MACE,WAACwB,MAAAA,CACCC,UAAW0D,GACX+G,QAAShM,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACnB8X,EAAa,CAAE5X,UAAW,GAAMD,MAAO,QAAS,EAClD,EAAG,CAAC6X,EAAa,E,UAEjB,UAACxW,MAAAA,CAAIC,UAAU,kB,SACb,UAAC60B,EAAAA,SAASA,CAAAA,CAAAA,E,GAGZ,WAAC90B,MAAAA,CAAIC,UAAU,U,UACb,UAACD,MAAAA,CAAIC,UAAU,OAAOV,MAAO3B,CAAC,CAAC,2BAA2B,G,SACvDA,CAAC,CAAC,2BAA2B,E,GAEhC,UAACoC,MAAAA,CAAIC,UAAU,QAAQV,MAAO3B,CAAC,CAAC,kCAAkC,G,SAC/DA,CAAC,CAAC,kCAAkC,E,QAK/C,EAEam3B,GAAiB,CAAC,CAC7B/rB,UAAAA,CAAS,CACTgsB,YAAAA,CAAW,CACXC,oBAAAA,CAAmB,CAQpB,IACC,IAAMr3B,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJgD,EAAcC,CAAAA,EAAAA,EAAAA,CAAAA,EAAYxB,CAAAA,EAAAA,EAAAA,EAAAA,EAAWsB,EAAAA,EAAWA,EAAED,OAAO,CAACI,OAAO,EACjE62B,EAAczB,KACd0B,EAAUz2B,CAAAA,EAAAA,EAAAA,WAAAA,EACd,IACE,IAAM02B,EAAM7oB,EAAE8oB,aAAa,CAAC7K,OAAO,CAAC8K,QAAQ,CACvCF,IACLpyB,EAAAA,EAAKA,CAACC,CAAC,CAACwK,aAAa,CAAC8nB,IAAI,CAACC,YAAY,CAAC,CAAEhuB,GAAI4tB,CAAI,GAClDJ,EAAYI,EAAkB,MAChC,EACA,CAACJ,EAAY,EAETN,EAAwBh2B,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACxCsE,EAAAA,EAAKA,CAACC,CAAC,CAACwK,aAAa,CAAC8nB,IAAI,CAACC,YAAY,CAAC,CAAEhuB,GAAI,SAAU,GACxDwtB,EAAY,UAAW,KACzB,EAAG,CAACA,EAAY,EACVS,EAA0B/2B,CAAAA,EAAAA,EAAAA,WAAAA,EAC9B,CAACg3B,EAAyBC,KACxB3yB,EAAAA,EAAKA,CAACC,CAAC,CAACwK,aAAa,CAAC8nB,IAAI,CAACC,YAAY,CAAC,CACtChuB,GAAI,YACJouB,QAASF,CACX,GACAV,EAAY,CAAC,UAAU,EAAEU,EAAO,CAAC,CAAEC,EACrC,EACA,CAACX,EAAY,EAGf,MACE,WAACh1B,MAAAA,CAAIC,UDjJoB,UCiJcO,cAAY,mB,UACjD,UAACR,MAAAA,CAAIC,UD5Ie,U,SC6IjBrC,CAAC,CAAC,kCAAkC,E,GAEvC,UAACoC,MAAAA,CAAIC,UAAW0D,G,SACb/F,CAAC,CAAC,6CAA6C,E,GAElD,UAACoC,MAAAA,CAAIC,UAAW0D,G,SACbuxB,EAAYt5B,GAAG,CAAC,CAAC,CAAE2D,MAAAA,CAAK,CAAEyP,KAAAA,CAAI,CAAE5P,IAAAA,CAAG,CAAE0d,OAAAA,CAAM,CAAE,GAE1C,WAAC9c,MAAAA,CACCC,UAAW2K,CAAAA,EAAAA,EAAAA,CAAAA,EAAKjH,GAAyB,CACvCuV,OAAQ9Z,IAAQ4J,CAClB,GAEAzJ,MAAOA,EACPs2B,iBAAgBz2B,EAChBsL,QAASyqB,EACT30B,cAAasc,E,UAEZ9N,EAAK,CAAE/O,UAAW,MAAO,GAC1B,UAACa,OAAAA,CAAKb,UAAU,e,SAAgBV,C,KAP3BH,G,GAab,UAACY,MAAAA,CAAIC,UAAW0D,G,SACb/F,CAAC,CAAC,+CAA+C,E,GAEpD,UAACoC,MAAAA,CAAIC,UAAW2K,CAAAA,EAAAA,EAAAA,CAAAA,EAAKjH,GAA2B,U,SAC9C,UAACwd,EAAAA,QAAQA,CAAAA,CAACC,SAAU,UAACzV,EAAqBA,CAAAA,G,SACxC,UAACmqB,GAAAA,CACCL,wBAAyBA,EACzBR,oBAAqBA,EACrBc,aAAc/sB,EAAUgtB,KAAK,CAAC,IAAI,CAAC,EAAE,E,KAK3C,WAACh2B,MAAAA,CAAIC,UDxLgB,U,UCyLlB9B,oBAAAA,EAAoC,UAAC02B,GAAAA,CAAAA,GAAkB,KACvD12B,kBAAAA,EACC,UAACgjB,EAAAA,QAAQA,CAAAA,C,SACP,UAACsT,GAAAA,CACCC,sBAAuBA,EACvBxb,OAAQlQ,YAAAA,C,KAGV,K,KAIZ,EAEa8sB,GAAgB,CAAC,CAC5BL,wBAAAA,CAAuB,CACvBR,oBAAAA,CAAmB,CACnBc,aAAAA,CAAY,CAQb,IACC,IAAME,EAAa73B,CAAAA,EAAAA,EAAAA,CAAAA,EACjBxB,CAAAA,EAAAA,EAAAA,EAAAA,EAAWC,EAAAA,CAAiBA,EAAE2F,IAAI,CAAC0zB,WAAW,EAEhD,MACE,sB,SACGD,EAAWr6B,GAAG,CAACkB,GAEZ,UAACqkB,EAAAA,QAAQA,CAAAA,CAAoBC,SAAU,UAAC/V,EAAyBA,CAAAA,G,SAC/D,UAAC8qB,GAAAA,CACCz5B,KAAMI,EACN4N,QAASgrB,IACPD,EAAwBC,EAAQ54B,EAClC,EACAi5B,aACEj5B,EAAUwG,EAAE,GAAK2xB,EAAsBc,EAAe7zB,KAAAA,C,IAP7CpF,EAAUwG,EAAE,E,EAerC,EAEM8yB,GAAgB,CACpB,CACEh3B,IAAK,aACLG,MAAO,2CACT,EACA,CACEH,IAAK,aACLG,MAAO,0CACT,EACD,CAKK42B,GAAoB,CAAC,CACzBJ,aAAAA,CAAY,CACZr5B,KAAAA,CAAI,CACJgO,QAAAA,CAAO,CAKR,IACC,GAAM,CAAE2rB,iBAAAA,CAAgB,CAAE3C,mBAAAA,CAAkB,CAAE,CAAGpd,CAAAA,EAAAA,EAAAA,EAAAA,EAAY,CAC3D9P,iBAAgBA,EAAAA,CAAAA,CAChBmtB,mBAAkBA,GAAAA,CAAAA,GAEd2C,EAAcC,CAAAA,EAAAA,GAAAA,CAAAA,EAAiB75B,GAC/BZ,EAAOw6B,GAAax6B,MAAQ06B,GAAAA,EAAuBA,CAEnDjK,EAAYhmB,EADwBzJ,SAAS,CAChBwG,EAAE,GAAK5G,EAAK4G,EAAE,CAC3C1F,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IAEVkB,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACRq3B,EAAmBE,WAAW,CAACnxB,UAAU,EAC3C,EAAG,CAACixB,EAAmB,EAEvB,IAAM+C,EAAoB/3B,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACpCgM,EAAQ,aACV,EAAG,CAACA,EAAQ,EAENgsB,EAAUr7B,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACf+6B,GAAcx6B,GAAG,CAAC,CAAC,CAAEwD,IAAAA,CAAG,CAAEG,MAAAA,CAAK,CAAE,GAEpC,UAACS,MAAAA,CACCQ,cAAa,CAAC,oBAAoB,EAAEpB,EAAI,CAAC,CACzCsL,QAAS,KACPA,EAAQtL,EACV,EACAa,UAAW2K,CAAAA,EAAAA,EAAAA,CAAAA,EDzRa,UCyRoB,CAC1CsO,OAAQ6c,IAAiB32B,CAC3B,G,SAGCxB,CAAC,CAAC2B,EAAM,E,EAFJH,IAMV,CAAC22B,EAAcrrB,EAAS9M,EAAE,EAE7B,MACE,uB,UACE,WAACoC,MAAAA,CACCC,UAAW2K,CAAAA,EAAAA,EAAAA,CAAAA,EAAKjH,GAAyB,CAAEuV,OAAQ,CAAC,CAAC6c,CAAa,GAClEx2B,MAAOzD,EACP4O,QAAS+rB,EACTj2B,cAAY,sB,UAEZ,UAACm2B,GAAAA,CAAeA,CAAAA,CAEdj6B,KAAMA,EACNyD,KAAM,GACNrE,KAAMA,EACNsE,iBAAgB,GAChBuD,MAAO,CACL8H,YAAa,MACf,EACAkpB,QAAS,C,EARJj4B,EAAK4G,EAAE,EAUd,UAACxC,OAAAA,CAAKb,UAAU,e,SAAgBnE,C,GAC/BywB,EACC,UAACtY,GAAAA,CAAOA,CAAAA,CAACE,QAAQ,UAAUyiB,KAAK,M,SAC9B,UAAC52B,MAAAA,CACCC,UDhUqB,UCiUrBO,cAAY,yB,KAGd,K,GAELu1B,GAAgBW,EAAQxrB,MAAM,CAAG,EAAIwrB,EAAU,K,EAGtD,ECtUO,IAAI,GAAO,YCLX,IAAMG,GAAqB,CAChC,YACA,aACA,QACA,QACA,UACA,wBACD,C,oDCHU,GAAgB,UCapB,IAAMC,GAAuB,CAAC,CACnCnB,kBAAAA,CAAiB,CACjB,GAAGh4B,EACkB,IACrB,GAAM,CAAEoC,UAAAA,CAAS,CAAE,CAAGpC,EAChB,CAACo5B,EAAWC,EAAa,CAAGh6B,CAAAA,EAAAA,EAAAA,QAAAA,EAAiB,IAC7CiF,EAAOs0B,CAAAA,EAAAA,GAAAA,CAAAA,EAAiBZ,GACxB93B,EAAgBoE,GAAMnG,MAAQ06B,GAAAA,EAAuBA,CACrDS,EAAcF,IAAcl5B,EAC5BD,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IAEJ+7B,EAAgBx4B,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAChC,GAAIu4B,EACF,OAAOl3B,KAEX,EAAG,CAACk3B,EAAal3B,EAAU,EAE3B,MACE,WAACV,EAAAA,EAAYA,CAAAA,CACXE,MAAO,CAAC,EAAE3B,CAAC,CAAC,mCAAmC,GAAG,CAAC,CAAC,CACpD6B,WAAY7B,CAAC,CAAC,2CAA2C,GACzD8B,YAAa9B,CAAC,CAAC,2CAA2C,GAC1D+B,qBAAsB,CACpBC,QAAS,QACTC,SAAU,CAACo3B,EACV,cAA0B,iCAC7B,EACC,GAAGt5B,CAAK,C,UAERg4B,EAAkBxyB,OAAO,GAAKnE,EAAAA,CAAgBA,CAACE,KAAK,CACnD,WAACyjB,EAAAA,EAAKA,CAAAA,CAACC,QAAQ,yC,UAAyC,aAEtD,UAAC9hB,OAAAA,CAAKb,UAAWI,G,SACd,CAAEvD,UAAWe,CAAc,C,GACvB,8E,GAKT,WAAC8kB,EAAAA,EAAKA,CAAAA,CAACC,QAAQ,0C,UAA0C,aAEvD,UAAC9hB,OAAAA,CAAKb,UAAWI,G,SACd,CAAEvD,UAAWe,CAAc,C,GACvB,yG,GAKX,UAACmC,MAAAA,CAAIC,UDhEe,U,SCiElB,UAACK,EAAAA,EAAKA,CAAAA,CACJC,UAAS,GACTM,SAAUm2B,EACVx2B,cAAY,yBACZyV,QAASihB,EACTx2B,YAAa9C,CAAC,CAAC,yCAAyC,GACxDuC,KAAK,O,OAKf,ECpDag3B,GAAuB,KAClC,GAAM,CACJd,iBAAAA,CAAgB,CAChBe,qBAAAA,CAAoB,CACpBC,2BAAAA,CAA0B,CAC1Bz1B,kBAAAA,CAAiB,CAClB,CAAG0U,CAAAA,EAAAA,EAAAA,EAAAA,EAAY,CACd9P,iBAAgBA,EAAAA,CAAAA,CAChB8wB,qBAAoBA,GAAAA,CAAAA,CACpBpvB,2BAA0BA,EAAAA,CAAAA,CAC1BrL,kBAAiBA,EAAAA,CAAAA,GAEbe,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJ2B,EAAYu5B,EAAiBv5B,SAAS,CACtC,CAAEy6B,cAAAA,CAAa,CAAEC,YAAAA,CAAW,CAAE,CAAGC,CAAAA,EAAAA,GAAAA,CAAAA,IAEjC,CAACC,EAAYC,EAAc,CAAG36B,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACvC,CAAC46B,EAAWC,EAAa,CAAG76B,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACrC86B,EAAkBv5B,CAAAA,EAAAA,EAAAA,EAAAA,EAAWuK,EAAAA,EAAoBA,EAEjDivB,EAAgB35B,CAAAA,EAAAA,EAAAA,CAAAA,EAAYwD,EAAkBY,IAAI,CAAC0zB,WAAW,EAC9D8B,EAAqB55B,CAAAA,EAAAA,EAAAA,CAAAA,EACzBg5B,EAAqBa,aAAa,CAAC31B,WAAW,CAACW,CAAC,EAG5CkF,EAAU/J,CAAAA,EAAAA,EAAAA,CAAAA,EAAYi5B,EAA2BjvB,UAAU,CAACC,QAAQ,EAC1EhM,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACRg7B,EAA2BjvB,UAAU,CAAC3F,UAAU,EAClD,EAAG,CAAC40B,EAA2B,EAE/B,IAAMa,EAAkBx5B,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAClB,OAAZyJ,IACEA,EACFwvB,EAAc,IAEdE,EAAa,IAGnB,EAAG,CAAC1vB,EAAQ,EAENgwB,EAAkBj8B,CAAAA,EAAAA,EAAAA,CAAAA,EAAiB,UAGvC,GAFA47B,EAAgBzO,GAAS,EAAE,GAAGA,CAAI,CAAEnsB,KAAM,GAAOoF,YAAa,IAAK,IAE/D01B,IAAuBl7B,EAAUwG,EAAE,CAAE,CACvC,IAAM80B,EAAgBL,EAAcx8B,IAAI,CACtC88B,GAAMA,EAAG/0B,EAAE,GAAK00B,GAGdI,EACFb,EACEa,GAAe90B,IAAM,GACrBg1B,GAAAA,EAAgBA,CAACC,GAAG,CACpBC,GAAAA,CAAUA,CAACC,OAAO,EAGpBjB,EAAYgB,GAAAA,CAAUA,CAACC,OAAO,CAElC,CAEItwB,EACF,MAAMvG,EAAkB82B,eAAe,CAAC57B,EAAUJ,IAAI,EAEtD,MAAM26B,EAA2BsB,cAAc,GAEjD5pB,EAAAA,EAAMA,CAAC4F,OAAO,CAAC,CAAEpV,MAAO3B,CAAC,CAAC,uBAAuB,EAAG,EACtD,EAAG,CACDk6B,EACAE,EACAl7B,EAAUwG,EAAE,CACZxG,EAAUJ,IAAI,CACdyL,EACAvK,EACAm6B,EACAR,EACAC,EACA51B,EACAy1B,EACD,EAED,MACE,uB,UACE,UAAC9sB,EAAUA,CACTzO,KACE,UAACgF,OAAAA,CAAK6C,MAAO,CAAEmP,MAAO,2BAA4B,E,SAC/C3K,EACGvK,CAAC,CAAC,mCAAmC,GACrCA,CAAC,CAAC,wCAAwC,E,GAGlD4M,KAAM5M,CAAC,CAAC,8CAA8C,GACtD+F,MAAO,CAAEuT,OAAQ,SAAU,EAC3BxM,QAASwtB,EACT13B,cAAY,0B,SAEZ,UAAC2W,EAAAA,mBAAmBA,CAAAA,CAAAA,E,GAErBhP,EACC,UAAC2uB,GAAoBA,CACnB/2B,UAAWo4B,EACXj7B,KAAMw6B,EACNn0B,aAAco0B,EACdhC,kBAAmB74B,EAAUJ,IAAI,GAGnC,UAAC2C,EAAAA,EAAYA,CAAAA,CACXnC,KAAM06B,EACNn4B,WAAY7B,CAAC,CAAC,wCAAwC,GACtDmC,UAAWo4B,EACX50B,aAAcs0B,EACdt4B,MAAO,CAAC,EAAE3B,CAAC,CAAC,wCAAwC,GAAG,CAAC,CAAC,CACzD4B,YAAa5B,CAAC,CAAC,mDAAmD,GAClE8B,YAAa9B,EAAE,KAAQ,GACvB+B,qBAAsB,CACpBC,QAAS,OACX,C,KAKV,EC3Hag5B,GAAmB,KAC9B,IAAMh7B,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJyL,EAAqBC,CAAAA,EAAAA,EAAAA,CAAAA,IAErB/J,EAAYF,CAAAA,EAAAA,EAAAA,EAAAA,EAAW4J,EAAAA,CAAgBA,EAAE1J,SAAS,CAClDhB,EAAOsC,CAAAA,EAAAA,EAAAA,CAAAA,EAAYtB,EAAU+7B,KAAK,EAClC11B,EAAUrG,EAAUqG,OAAO,CAE3B20B,EAAkBv5B,CAAAA,EAAAA,EAAAA,EAAAA,EAAWuK,EAAAA,EAAoBA,EAEjDgwB,EAA6Bp6B,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACxC5B,GACL8J,EAAmB9J,EAAW,CAC5B8nB,UAAW,KACTkT,EAAgBjE,GAAa,EAAE,GAAGA,CAAQ,CAAE32B,KAAM,EAAM,GAC1D,CACF,EACF,EAAG,CAAC0J,EAAoBkxB,EAAiBh7B,EAAU,SAEnD,IAAgBkC,EAAAA,CAAgBA,CAACE,KAAK,CAC7B,KAIP,UAACqL,EAAUA,CACTzO,KAAM8B,CAAC,CAAC,0BAA0B,CAAC,CACjC9B,KAAMA,GAAQ06B,GAAAA,EAAuBA,GAEvChsB,KAAM5M,CAAC,CAAC,oBAAoB,GAC5B+M,UAAW,GACXhH,MAAO,CACLC,QAAS,OACTm1B,WAAY,0CACd,E,SAEA,UAAC9sB,GAAAA,EAAMA,CAAAA,CACLzL,cAAY,qCACZZ,QAAQ,UACR8K,QAASouB,EACTn1B,MAAO,CAAEq1B,UAAW,MAAO,E,SAE1Bp7B,CAAC,CAAC,sBAAsB,E,IAIjC,E,gBCnDO,IAAMq7B,GAAc,CAAC,CAC1BtD,kBAAAA,CAAiB,CACjB74B,UAAAA,CAAS,CACQ,IACjB,IAAMwF,EAAcqzB,EAAkBryB,EAAE,CAClC1F,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJ,CAAC+9B,EAAQC,EAAU,CAAGn8B,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC/Bo8B,EAAWC,CAAAA,EAAAA,GAAAA,CAAAA,IAEXC,EAAWp9B,CAAAA,EAAAA,EAAAA,CAAAA,EAAiB,UAChC,GAAIg9B,CAAAA,GAAWp8B,GAGfq8B,EAAU,IACV,GAAI,CACEC,IACF,MAAMt8B,EAAU2M,MAAM,CAAC8vB,gBAAgB,GACvC,MAAMz8B,EAAU2M,MAAM,CAACC,IAAI,CAAC8vB,IAAI,IAGlC,IAAMr3B,EAAS,MAAMH,EAAAA,EAAIA,EAAEI,OAAOq3B,aAAan3B,GAC/C,GAAIH,GAAQO,MACV,MAAM,MAAUP,EAAOO,KAAK,EAClBP,GAAQJ,UAClBgN,EAAAA,EAAMA,CAAC4F,OAAO,CAAC,CAAEpV,MAAO3B,CAAC,CAAC,iBAAiB,EAAG,EAElD,CAAE,MAAO2O,EAAQ,CACfwC,EAAAA,EAAMA,CAACrM,KAAK,CAAC,CAAEnD,MAAO3B,CAAC,CAAC,gBAAgB,GAAIuR,QAAS5C,EAAE4C,OAAO,EAChE,QAAU,CACRgqB,EAAU,GACZ,EACF,EAAG,CAACC,EAAUF,EAAQt7B,EAAGd,EAAWwF,EAAY,EAEhD,MACE,UAACiI,EAAUA,CAACzO,KAAM8B,EAAE,MAAS,GAAI4M,KAAM5M,CAAC,CAAC,qBAAqB,G,SAC5D,UAACqO,GAAAA,EAAMA,CAAAA,CACLzL,cAAY,uBACZkK,QAAS4uB,EACTz5B,SAAUq5B,E,SAETt7B,EAAE,MAAS,E,IAIpB,EC9CO,IAAI87B,GAAa,YAEbC,GAAe,YCY1B,IAAMC,GAAQ,CAAC,CAAEptB,MAAAA,CAAK,CAAEusB,WAAAA,CAAU,CAAc,GAE5C,UAAC/4B,MAAAA,C,SACC,UAACA,MAAAA,CAAIC,UDViB,YCUgB0D,MAAO,CAAEo1B,WAAYA,CAAW,E,SACnEvsB,C,KAKIqtB,GAAc,KACzB,IAAM/8B,EAAYF,CAAAA,EAAAA,EAAAA,EAAAA,EAAW4J,EAAAA,CAAgBA,EAAE1J,SAAS,CAClDmL,EAAoBrL,CAAAA,EAAAA,EAAAA,EAAAA,EAAWsL,EAAAA,CAA0BA,EACzDC,EAAU/J,CAAAA,EAAAA,EAAAA,CAAAA,EAAY6J,EAAkBG,UAAU,CAACC,QAAQ,EACjEhM,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR4L,EAAkBG,UAAU,CAAC3F,UAAU,EACzC,EAAG,CAACwF,EAAkB,EACtB,IAAM6xB,EAAqBz+B,CAAAA,EAAAA,EAAAA,OAAAA,EACzB,IAAO,EACL0+B,MAAO,CACLvtB,MAAO,QACPusB,WAAY,0BACd,EACAiB,UAAW,CACTxtB,MAAO,yBACPusB,WAAY,wBACd,EACAkB,WAAY,CACVztB,MAAO,0BACPusB,WAAY,yBACd,EACAmB,WAAY,CACV1tB,MAAO,qBACPusB,WAAY,0BACd,EACAoB,gBAAiB,CACf3tB,MAAO,mBACPusB,WAAY,0BACd,EACAqB,iBAAkB,CAChB5tB,MAAO,oBACPusB,WAAY,yBACd,EACAsB,eAAgB,CACd7tB,MAAO,mBACPusB,WAAY,wBACd,CACF,GACA,EAAE,EAEEuB,EAA0C,CAC9C,CAAEC,UAAW,CAACpyB,EAAS6M,MAAO,iBAAkB,EAChD,CAAEulB,UAAWz9B,UAAAA,EAAUqG,OAAO,CAAc6R,MAAO,OAAQ,EAC3D,CACEulB,UAAWz9B,iBAAAA,EAAUqG,OAAO,CAC5B6R,MAAO,WACT,EACD,CAED,MACE,UAAChV,MAAAA,CAAIC,UD9EiB,Y,SC+EnBq6B,EAAgB1+B,GAAG,CAClB,CAAC,CAAE2+B,UAAAA,CAAS,CAAEvlB,MAAAA,CAAK,CAAE,GACnBulB,GACE,UAACX,GAAAA,CAECptB,MAAOstB,CAAQ,CAAC9kB,EAAM,CAACxI,KAAK,CAC5BusB,WAAYe,CAAQ,CAAC9kB,EAAM,CAAC+jB,UAAU,EAFjC/jB,G,EAQnB,E,gBChGO,SAASwlB,KACd,GAAM,CAAEC,OAAAA,CAAM,CAAE,CAAG1c,CAAAA,EAAAA,GAAAA,EAAAA,IACnB,MAAOrf,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,SAEV+7B,EAAOr7B,GACZ,EAAI4L,MAAM0vB,OAAO,CAACt7B,IACTA,UAAAA,CAAG,CAAC,EAAE,EAIhB,CAACq7B,EAAO,CACb,CCRO,SAASE,GAAgBC,CAAc,EAC5C,IAAMC,EAAmB,CACvB,CAACC,GAAAA,EAAUA,CAACC,KAAK,CAAC,CAAE,EACpB,CAACD,GAAAA,EAAUA,CAACE,KAAK,CAAC,CAAE,EACpB,CAACF,GAAAA,EAAUA,CAACG,KAAK,CAAC,CAAE,EACpB,CAACH,GAAAA,EAAUA,CAACI,IAAI,CAAC,CAAE,CACrB,EAQA,MAAOC,CALLtoB,OAAO+nB,EAAOxyB,UAAU,GAAK0yB,GAAAA,EAAUA,CAACC,KAAK,EAC7CloB,OAAO,CAAC+nB,EAAOQ,QAAQ,EACvBP,CAAgB,CAACD,EAAOxyB,UAAU,CAAC,EAAI,EACxC,CAEcizB,MAAM,CAAC,CAACC,EAAKC,EAAQnwB,EAAOowB,IAClCF,EAAMC,EAAS7oB,KAAK+oB,GAAG,CAAC,GAAID,EAAItwB,MAAM,CAAG,EAAIE,GACnD,EACL,CCoCA,IAAMswB,GAAoB,KACxB,IAAM99B,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACV,MACE,UAAC8Y,GAAAA,CAAOA,CAAAA,CAACE,QAASvW,CAAC,CAAC,qCAAqC,G,SACvD,UAACoC,MAAAA,CAAIC,UJ5Dc,Y,SI6DjB,UAACsK,EAAUA,CAACzO,KAAM,CAAC,EAAE8B,EAAE,OAAU,GAAG,IAAI,CAAC,CAAE4M,KAAM5M,CAAC,CAAC,eAAe,G,SAChE,UAACqO,GAAAA,EAAMA,CAAAA,C,SAAErO,CAAC,CAAC,iBAAiB,E,QAKtC,EAEa+9B,GAA6B,KACxC,IAAMlqB,EAAe7U,CAAAA,EAAAA,EAAAA,EAAAA,EAAW2U,EAAAA,EAAmBA,EAAEE,YAAY,CAC3DD,EAAoBpT,CAAAA,EAAAA,EAAAA,CAAAA,EACxBqT,EAAaC,SAAS,CAAC9V,GAAG,CAAC+V,GAAKA,GAAGC,UAE/B9U,EAAYF,CAAAA,EAAAA,EAAAA,EAAAA,EAAW4J,EAAAA,CAAgBA,EAAE1J,SAAS,CAClD8+B,EAAcC,SC1ESv5B,CAAmB,EAChD,GAAM,CAAEuiB,KAAAA,CAAI,CAAE,CAAGQ,CAAAA,EAAAA,GAAAA,EAAAA,EAAS,CACxBC,MAAOwW,GAAAA,EAAgCA,CACvClW,UAAW,CACTtjB,YAAAA,CACF,CACF,GAEA,OAAOuiB,EAAK/nB,SAAS,CAAC8+B,WAAW,EDkEE9+B,EAAUwG,EAAE,EAEzC2E,EAAoBrL,CAAAA,EAAAA,EAAAA,EAAAA,EAAWsL,EAAAA,CAA0BA,EACzDC,EAAU/J,CAAAA,EAAAA,EAAAA,CAAAA,EAAY6J,EAAkBG,UAAU,CAACC,QAAQ,EACjEhM,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR4L,EAAkBG,UAAU,CAAC3F,UAAU,EACzC,EAAG,CAACwF,EAAkB,EAEtB,IAAM8zB,EAAwBr9B,CAAAA,EAAAA,EAAAA,WAAAA,EAC5B,CAACk9B,EAAqBI,IACpB,KAAoB95B,IAAhB85B,GACGJ,GAAeI,EAExB,EAAE,EAGEp0B,EAAwBhL,CAAAA,EAAAA,EAAAA,EAAAA,EAAWiL,EAAAA,CAAqBA,EAC9DxL,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACRuL,EAAsBE,KAAK,CAACrF,UAAU,EACxC,EAAG,CAACmF,EAAsB,EAC1B,IAAMG,EAAiB3J,CAAAA,EAAAA,EAAAA,CAAAA,EAAYwJ,EAAsBE,KAAK,CAACE,MAAM,EAC/DwH,EAAsB5S,CAAAA,EAAAA,EAAAA,EAAAA,EAAWoQ,EAAAA,EAAmBA,EACpDY,EAAOxP,CAAAA,EAAAA,EAAAA,CAAAA,EACXoR,EAAoBzC,YAAY,CAAC8G,IAAI,CAACjY,GAAG,CAACqgC,GAAKA,GAAGruB,OAE9CsuB,EAAYn0B,EACdg0B,EAAsBH,EAAa7zB,EAAei0B,WAAW,EAC7D,KAEEp+B,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJ,CAAEghC,OAAAA,CAAM,CAAEzvB,WAAAA,CAAU,CAAE,CAAG0vB,SErGD95B,CAAmB,EACjD,GAAM,CAAEiiB,QAAAA,CAAO,CAAE7X,WAAAA,CAAU,CAAE,CAAG8X,CAAAA,EAAAA,GAAAA,CAAAA,EAAY,CAC1CC,SAAU4X,GAAAA,EAAqBA,GAE3B5B,EAASD,KACf,MAAO,CACL2B,OAAQz9B,CAAAA,EAAAA,EAAAA,WAAAA,EACN,MAAO4P,EAAelG,EAAwBk0B,EAAiB,EAAK,IAClE,IAAMC,EAAM,MAAMhY,EAAQ,CACxBjiB,YAAAA,EACAgM,MAAAA,EACAlG,WAAAA,EACAk0B,eAAAA,CACF,GAGA,OAFA,MAAM7B,IAEC8B,GAAKJ,MACd,EACA,CAAC1B,EAAQlW,EAASjiB,EAAY,EAEhCoK,WAAAA,CACF,CACF,EF+EiD5P,EAAUwG,EAAE,EACrDk5B,EAAyBC,SGvGSn6B,CAAmB,EAC3D,IAAMm4B,EAASD,KACT,CAAEjW,QAAAA,CAAO,CAAE,CAAGC,CAAAA,EAAAA,GAAAA,CAAAA,EAAY,CAC9BC,SAAUiY,GAAAA,EAA8BA,GAG1C,MAAOh+B,CAAAA,EAAAA,EAAAA,WAAAA,EACL,MAAOi+B,IACL,IAAMJ,EAAM,MAAMhY,EAAQ,CACxBjiB,YAAAA,EACAq6B,OAAAA,CACF,GAEA,OADA,MAAMlC,IACC8B,CACT,EACA,CAAC9B,EAAQlW,EAASjiB,EAAY,CAElC,EHsF2DxF,EAAUwG,EAAE,EAE/D,CAACpG,EAAMuJ,EAAQ,CAAGzJ,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC3B,CAAC4/B,EAAYC,EAAc,CAAG7/B,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,GAEvC4B,EAAYF,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAC5B+H,EAAQ,GACV,EAAG,EAAE,EAEC6f,EAAe5nB,CAAAA,EAAAA,EAAAA,WAAAA,EAA6C0Z,IAChEykB,EAAczkB,EAChB,EAAG,EAAE,EAEC0kB,EAAkBp+B,CAAAA,EAAAA,EAAAA,WAAAA,EACtB,MAAO,CAAE4P,MAAAA,CAAK,CAAElG,WAAAA,CAAU,CAAE,IACV,MAAM+zB,EACpB7tB,EACAlG,EAEA,MAGA2G,EAAAA,EAAMA,CAAC4F,OAAO,CAAC,CACbpV,MAAO3B,CAAC,CAAC,kBAAkB,GAC3BuR,QAASvR,CAAC,CAAC,uBAAuB,EACpC,GACA6I,EAAQ,IAEZ,EACA,CAAC01B,EAAQv+B,EAAE,EAGPiL,EAAsBtK,CAAAA,EAAAA,EAAAA,EAAAA,EAAWuK,EAAAA,EAAoBA,EACrDC,EAAuBrK,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACvCmK,EAAoB,CAClB3L,KAAM,GACN8L,UAAW,QACXC,aAAc,kBAChB,GACAjG,EAAAA,EAAKA,CAACC,CAAC,CAACwK,aAAa,CAAC3Q,SAAS,CAACsM,SAAS,CAAC,CACxCwsB,QAAS,cACX,EACF,EAAG,CAAC/sB,EAAoB,EAElBk0B,EAAmB/wB,CAAAA,EAAAA,EAAAA,MAAAA,EAA8B,MACjD,CAACgxB,EAAkBC,EAAoB,CAAGjgC,CAAAA,EAAAA,EAAAA,QAAAA,EAAwB,MAExE8E,CAAAA,EAAAA,EAAAA,eAAAA,EAAgB,KAEZ85B,EArGiB,GAsGjBmB,EAAiB5wB,OAAO,EACxB6wB,OAAAA,GAGAC,EAAoB34B,EADU6H,OAAO,CAACme,qBAAqB,GAClCvmB,MAAM,CAEnC,EAAG,CAACg5B,EAAkBnB,EAAaoB,EAAiB,EAEpD,IAAME,EAAWx+B,CAAAA,EAAAA,EAAAA,WAAAA,EACf,MAAMy+B,IACJ,IAAMZ,EAAM,MAAMC,EAAuBW,GACrCZ,GAAKa,QACPruB,EAAAA,EAAMA,CAAC4F,OAAO,CAAC,CAAEpV,MAAO3B,CAAC,CAAC,uBAAuB,EAAG,EAExD,EACA,CAAC4+B,EAAwB5+B,EAAE,EAGvB4M,EAAOnP,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACnB,EAEE,WAACyF,OAAAA,C,UACElD,CAAC,CAAC,yCAAyC,GAC3C4T,EACC,UAACxR,MAAAA,CACCC,UJnLkB,YIoLlByK,QAAS3B,E,SAET,UAACjI,OAAAA,CAAKb,UJvLK,Y,SIwLRrC,CAAC,CAAC,oDAAoD,E,KAGzD,K,GAboB,KAgB3B,CAACmL,EAAsByI,EAAmB5T,EAAGmK,EAAe,SAE/D,OAAIA,EAEK,KAIP,uB,UACE,UAACwC,EAAUA,CACTzO,KAAM,CAAC,EAAE8B,EAAE,OAAU,GAAG,EAAE,EAAEg+B,EAAY,CAAC,EAAE7zB,EAAeW,aAAa,CAACszB,WAAW,CAAC,CAAC,CAAC,CACtFxxB,KAAMA,EACNG,UAAW,CAAC,CAACxC,E,SAEZA,EACC,uB,UACE,UAAC8D,GAAAA,EAAMA,CAAAA,CAACvB,QAAS9L,E,SAAYhB,CAAC,CAAC,iBAAiB,E,GAC/Cs+B,EACC,UAACmB,GAAAA,EAAgBA,CAAAA,CACfC,WAAY,CAAC,CAAC1vB,EACd1Q,KAAMA,EACN0Q,KAAM7F,EAAeW,aAAa,CAAC5M,IAAI,EAAI,GAC3CgM,MAAOC,EAAeW,aAAa,CAACszB,WAAW,EAAI,GACnDv1B,QAASA,EACT1G,UAAWgJ,C,GAGb,UAACw0B,GAAAA,EAAWA,CAAAA,CACVrgC,KAAMA,EACNuJ,QAASA,EACT1G,UAAW+8B,EACXpwB,WAAYA,C,MAIhB,I,GAGN,WAAC1M,MAAAA,CACCC,UAAW0D,GACX1G,IAAK8/B,EACLp5B,MAAOq5B,EAAmB,CAAEj5B,OAAQi5B,CAAiB,EAAI,CAAC,E,UAE1D,UAAC7b,EAAAA,QAAQA,CAAAA,CAACC,SAAU,UAACoc,GAAAA,CAAmB5B,YAAaA,C,YACnD,UAAC6B,GAAAA,CACCn7B,YAAaxF,EAAUwG,EAAE,CACzB6E,QAAS,CAAC,CAACA,EACXqd,KAAMoX,EACNM,SAAUA,C,KAIbtB,EA7Lc,GA8Lb,UAACzV,GAAAA,EAAUA,CAAAA,CACTC,WAAYwV,EACZvV,aAhMW,EAiMXC,aAAcA,C,QAM1B,EACaoX,GAAuB,KAClC,IAAM9/B,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IAEV,MACE,uB,UACE,UAACoP,EAAUA,CACTzO,KAAM8B,EAAE,OAAU,GAClB4M,KAAM5M,CAAC,CAAC,yCAAyC,E,GAEnD,UAACoC,MAAAA,CAAIC,UAAW0D,G,SACd,UAAC65B,GAAAA,CAAmB5B,YAAa,C,OAIzC,EAEM4B,GAAqB,CAAC,CAAE5B,YAAAA,CAAW,CAA2B,IAElE,IAAM73B,EAAS1I,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACrB,EA3NmB,EA6NVsiC,IAEF,OACN,CAAC/B,EAAY,EACVh+B,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IAEV,MACE,WAAC6E,MAAAA,CACC2D,MAAO,CACLI,OAAAA,CACF,EACA9D,UJnRuB,Y,UIqRvB,UAACkZ,GAAAA,CAAOA,CAAAA,CAAChZ,KAAM,E,GACf,UAACW,OAAAA,C,SAAMlD,CAAC,CAAC,qCAAqC,E,KAGpD,EAEM6/B,GAAa,CAAC,CAClBn7B,YAAAA,CAAW,CACX6F,QAAAA,CAAO,CACPqd,KAAAA,CAAI,CACJ0X,SAAAA,CAAQ,CAMT,IACC,IAAMU,EAAUC,SDtRhBv7B,CAAmB,CACnBkjB,CAAY,CACZK,EAAe,CAAC,EAEhB,GAAM,CAAEhB,KAAAA,CAAI,CAAE,CAAGQ,CAAAA,EAAAA,GAAAA,EAAAA,EAAS,CACxBC,MAAOwY,GAAAA,EAA4BA,CACnClY,UAAW,CACTtjB,YAAAA,EACAkjB,KAAAA,EACAK,KAAAA,CACF,CACF,GAEM+X,EAAU/Y,EAAK/nB,SAAS,CAAC8gC,OAAO,CAEtC,MAAOviC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAENuiC,EAAQG,IAAI,CAAC,CAAC98B,EAAG2vB,KACtB,IAAMoN,EAAmBrD,GAAgB/J,GAAK+J,GAAgB15B,UAC9D,IAAI+8B,EACKA,EAGL/8B,OAAAA,EAAEnF,IAAI,CAAkB,EACxB80B,OAAAA,EAAE90B,IAAI,CAAkB,GACrBmF,EAAEnF,IAAI,CAACmiC,aAAa,CAACrN,EAAE90B,IAAI,CACpC,GACC,CAAC8hC,EAAQ,CACd,EC0P6Bt7B,EAAakjB,EA3PnB,GA4PfvnB,EAAUrB,CAAAA,EAAAA,EAAAA,EAAAA,EAAWsB,EAAAA,EAAWA,EAAED,OAAO,CACzCiQ,EAAUoG,CAAAA,EAAAA,EAAAA,CAAAA,EAAkBrW,EAAQkQ,QAAQ,EAElD,MACE,UAACnO,MAAAA,CAAIC,UJ9Se,Y,SI+SjB29B,EAAQhiC,GAAG,CAACg/B,GACX,UAACsD,GAAAA,CACCC,eAAgBjwB,EAEhB0sB,OAAQA,EACRzyB,QAASA,EACT+0B,SAAUA,C,EAHLtC,EAAOt3B,EAAE,E,EAQxB,EAEM46B,GAAa,CAAC,CAClBtD,OAAAA,CAAM,CACNzyB,QAAAA,CAAO,CACPg2B,eAAAA,CAAc,CACdjB,SAAAA,CAAQ,CAMT,IACC,IAAMt/B,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IAEJijC,EAAe1/B,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAC/Bw+B,EAAStC,EAAOt3B,EAAE,CACpB,EAAG,CAAC45B,EAAUtC,EAAOt3B,EAAE,CAAC,EAElB+6B,EAAsBhjC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAC3B,EACLijC,KAAMn2B,GAAWg2B,EAAe76B,EAAE,GAAKs3B,EAAOt3B,EAAE,CAChDi7B,kBAAmB3gC,CAAC,CAAC,wBAAwB,EAC/C,GACC,CAACugC,EAAe76B,EAAE,CAAE6E,EAASyyB,EAAOt3B,EAAE,CAAE1F,EAAE,EAE7C,MACE,WAACoC,MAAAA,CAECC,UJtVsB,YIuVtBO,cAAY,c,UAEZ,UAACN,GAAAA,CAAMA,CAAAA,CACLC,KAAM,GACN8U,IAAK2lB,EAAO4D,SAAS,CACrB1iC,KAAO8+B,EAAO9+B,IAAI,CAAG8+B,EAAO9+B,IAAI,CAAG8+B,EAAOtsB,KAAK,GAEjD,UAACtO,MAAAA,CAAIC,UJjWkB,Y,SIkWpB26B,EAAO9+B,IAAI,CACV,uB,UACE,UAACkE,MAAAA,CAAIC,UAAW0D,G,SAAmBi3B,EAAO9+B,IAAI,GAC9C,UAACkE,MAAAA,CAAIC,UJpWQ,Y,SIoWuB26B,EAAOtsB,KAAK,G,GAGlD,UAACtO,MAAAA,CAAIC,UAAW0D,G,SAAmBi3B,EAAOtsB,KAAK,E,GAGnD,UAACtO,MAAAA,CACCC,UAAW2K,CAAAA,EAAAA,EAAAA,CAAAA,EJnWO,YImWkB,CAClC6zB,QAAS,CAAC7D,EAAOQ,QAAQ,G,SAG1BR,EAAOQ,QAAQ,CACZR,EAAOxyB,UAAU,GAAK0yB,GAAAA,EAAUA,CAACC,KAAK,CACpC,kBACA,SACF,S,GAEN,UAAC9e,GAAAA,EAAIA,CAAAA,CACHC,MACE,UAACP,GAAAA,EAAQA,CAAAA,CAAC+iB,iBAAgB9D,EAAOt3B,EAAE,CAAEoH,QAAS0zB,E,SAC3CC,EAAoBE,iBAAiB,G,SAI1C,UAACrZ,GAAAA,EAAUA,CAAAA,CACTrlB,SAAU,CAACw+B,EAAoBC,IAAI,CACnC36B,MAAO,CACLg7B,WAAYN,EAAoBC,IAAI,CAAG,UAAY,SACnDM,WAAY,CACd,E,SAEA,UAACC,EAAAA,gBAAgBA,CAAAA,CAAAA,E,OA5ChBjE,EAAOt3B,EAAE,CAiDpB,EAEaw7B,GAAe,IAE1B,CADkBliC,EAAAA,EAAAA,EAAAA,EAAW4J,EAAAA,CAAgBA,EAAE1J,SAAS,CAC1CqG,OAAO,GAAKnE,EAAAA,CAAgBA,CAACE,KAAK,CACvC,UAACw8B,GAAAA,CAAAA,GAGR,UAACqD,GAAAA,CAAmBA,CAAAA,C,SAClB,UAAC5d,EAAAA,QAAQA,CAAAA,CAACC,SAAU,UAACsc,GAAAA,CAAAA,G,SACnB,UAAC/B,GAAAA,CAAAA,E,qBI5YF,IAAMqD,GAAe,KAC1B,IAAMphC,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IAEJ2B,EAAYF,CAAAA,EAAAA,EAAAA,EAAAA,EAAW4J,EAAAA,CAAgBA,EAAE1J,SAAS,CAClDmL,EAAoBrL,CAAAA,EAAAA,EAAAA,EAAAA,EAAWsL,EAAAA,CAA0BA,EACzDC,EAAU/J,CAAAA,EAAAA,EAAAA,CAAAA,EAAY6J,EAAkBG,UAAU,CAACC,QAAQ,EACjEhM,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR4L,EAAkBG,UAAU,CAAC3F,UAAU,EACzC,EAAG,CAACwF,EAAkB,EACtB,IAAMg3B,EAAmB7gC,EAAAA,CAAAA,CAAYtB,GAAW2M,OAAOy1B,gBAAgBC,MAEjE,CAACrjC,EAAMsjC,EAAQ,CAAGpiC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAEjCX,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,GAAIS,GAAWuiC,cAAe,CAC5BD,EAAQtiC,EAAUuiC,aAAa,CAAC3iC,IAAI,CAACZ,IAAI,EAAI06B,GAAAA,EAAuBA,EACpE,IAAMp5B,EAAUN,EAAUuiC,aAAa,CAAC3iC,IAAI,CAAC4iC,mBAAmB,CAACt1B,EAAE,CACjE,KACEo1B,EAAQtiC,EAAUuiC,aAAa,CAAC3iC,IAAI,CAACZ,IAAI,EAAI06B,GAAAA,EAAuBA,CACtE,GAEF,MAAO,KACLp5B,EAAQA,OAAO,EACjB,CACF,CACEgiC,EAAQ5I,GAAAA,EAAuBA,CAGnC,EAAG,CAAC15B,EAAU,EAEd,IAAMyiC,EAAqB7gC,CAAAA,EAAAA,EAAAA,WAAAA,EACzB,MAAO8V,IACL,GAAK1X,GAGL,GAAI,CAAC0X,EAAM,CACT1X,EAAUuiC,aAAa,CAAC3iC,IAAI,CAAC8iC,SAAS,CAAC,IACvC,MACF,CACA,GAAI,CACF,IAAMC,EAAc,MAAMC,CAAAA,EAAAA,GAAAA,CAAAA,EAAuBlrB,GAC3CmrB,EAAQ7iC,EAAUuiC,aAAa,CAACO,QAAQ,CACxCC,EAAS,MAAMF,EAAMlQ,GAAG,CAACgQ,GAC/B3iC,EAAUuiC,aAAa,CAAC3iC,IAAI,CAAC8iC,SAAS,CAACK,EACzC,CAAE,MAAOn9B,EAAO,CAEd,MADAI,QAAQJ,KAAK,CAACA,GACRA,CACR,EACF,EACA,CAAC5F,EAAU,EAGPgB,EAAmBY,CAAAA,EAAAA,EAAAA,WAAAA,EACvB,IACO5B,GAGLA,EAAUuiC,aAAa,CAAC3iC,IAAI,CAAC0iC,OAAO,CAACtjC,EACvC,EACA,CAACgB,EAAU,EAGP,CAACuP,EAAOqJ,EAAS,CAAG1Y,CAAAA,EAAAA,EAAAA,QAAAA,EAAiB,IAC3CX,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACRqZ,EAAS5Z,EACX,EAAG,CAACA,EAAK,EAET,IAAMgkC,EAA4BphC,CAAAA,EAAAA,EAAAA,WAAAA,EAChC,IACEZ,EAAiBhC,GACjBiT,EAAAA,EAAMA,CAAC4F,OAAO,CAAC,CAAEpV,MAAO3B,CAAC,CAAC,gCAAgC,EAAG,EAC/D,EACA,CAACE,EAAkBF,EAAE,EAGjBmiC,EAAiBrhC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,IACjCgX,EAASlJ,EACX,EAAG,EAAE,EAECwzB,EAActhC,CAAAA,EAAAA,EAAAA,WAAAA,EAClB,IACiB,UAAX6N,EAAE0zB,IAAI,EAAgBnkC,IAASuQ,GACjCyzB,EAA0BzzB,EAE9B,EACA,CAACyzB,EAA2BzzB,EAAOvQ,EAAK,EAGpC8d,EAAclb,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAC9BohC,EAA0BzzB,EAC5B,EAAG,CAACyzB,EAA2BzzB,EAAM,EAE/BwI,EAAyBC,CAAAA,EAAAA,GAAAA,CAAAA,EAAsB,UACnD,MAAMyqB,EAAmB,KAC3B,EAAG,CAACA,EAAmB,EAEjBW,EAAqBxhC,CAAAA,EAAAA,EAAAA,WAAAA,EACzB,IACE6gC,EAAmB/qB,GAChB2rB,IAAI,CAAC,KACJpxB,EAAAA,EAAMA,CAAC4F,OAAO,CAAC,CAAEpV,MAAO,iCAAkC,EAC5D,GACCqD,KAAK,CAACF,IACLqM,EAAAA,EAAMA,CAACrM,KAAK,CAAC,CACXnD,MAAO,iCACP4P,QAASzM,CACX,EACF,EACJ,EACA,CAAC68B,EAAmB,EAGhBa,EAAkBnB,GAAoB92B,EAE5C,MACE,WAACnI,MAAAA,CAAIC,URlHmB,Y,UQmHtB,UAAC2L,GAAMA,CACLE,OAAO,qDACPD,WAAYq0B,EACZ1/B,cAAY,gBACZX,SAAU,CAACsI,E,SAEX,UAACwuB,GAAAA,CAAeA,CAAAA,CACdj6B,KAAMI,EAAUJ,IAAI,CACpByD,KAAM,GACNrE,KAAMA,EACN64B,QAAS,EACTv0B,iBAAgB,GAChB+U,UAAWhN,EAAU,UAACiN,EAAAA,UAAUA,CAAAA,CAAAA,GAAMlT,KAAAA,EACtCmT,SAAU+qB,EAAkBvrB,EAAyB3S,KAAAA,EACrDoT,qBACE8qB,EACI,CAAEjsB,QAASvW,CAAC,CAAC,yBAAyB,EAAG,EACzCsE,KAAAA,EAENqT,qBACE6qB,EAAkB,CAAEjsB,QAASvW,CAAC,CAAC,eAAe,EAAG,EAAIsE,KAAAA,EAEvD1B,cAAY,2BACZgV,kBAAmB,CAChB,cAA0B,wCAC7B,C,KAIJ,WAAC6qB,EAAAA,EAAOA,CAAAA,CAACnqB,WAAY,G,UACnB,UAAClW,MAAAA,CAAIC,UR3JM,Y,SQ2JmBrC,CAAC,CAAC,iBAAiB,E,GACjD,WAAC0N,EAAAA,EAAWA,CAAAA,CAACC,WAAW,SAASG,SAAS,I,UACxC,UAACpL,EAAAA,EAAKA,CAAAA,CACJT,SAAU,CAACo/B,GAAoB,CAAC92B,EAChCqE,MAAOH,EACP1I,MAAO,CAAEF,MAAO,IAAKM,OAAQ,EAAG,EAChCvD,cAAY,uBACZE,YAAa9C,CAAC,CAAC,iBAAiB,GAChC+C,UAAW,GACXC,UAAW,EACXC,SAAUk/B,EACVO,QAASN,C,GAEV3zB,IAAUvQ,EAAO,KAChB,UAACmQ,GAAAA,EAAMA,CAAAA,CACLzL,cAAY,sBACZkK,QAASkP,EACTjW,MAAO,CACLuS,WAAY,MACd,E,SAECtY,CAAC,CAAC,iCAAiC,E,WAOlD,ECzKa2iC,GAAyB,CAAC,CACrC5K,kBAAAA,CAAiB,CACW,IAC5B,IAAM/3B,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IAIJ2B,EAAYL,CAAAA,EAAAA,GAAAA,CAAAA,EAAak5B,GAEzB6K,EAAgBjK,CAAAA,EAAAA,GAAAA,CAAAA,EAAiBZ,GAEjC8K,EAAwB/hC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACxC5B,GAAW2M,OAAOi3B,IACfC,kBACAR,KAAK,KACJvwB,OAAOgxB,QAAQ,CAACC,MAAM,EACxB,GACCj+B,MAAMC,IACLC,QAAQJ,KAAK,CAACG,EAChB,EACJ,EAAG,CAAC/F,EAAU,SAEd,EAKE,WAACgkC,EAAAA,EAAcA,CAAAA,CAACC,MAAOjkC,EAAUikC,KAAK,C,UACpC,UAAC32B,EAAaA,CACZ7K,MAAO3B,CAAC,CAAC,+BAA+B,CAAC,CACvC9B,KAAM0kC,GAAe1kC,MAAQ06B,GAAAA,EAAuBA,GAEtDnsB,SAAUzM,CAAC,CAAC,4CAA4C,E,GAE1D,UAACiN,EAAcA,CAACtL,MAAO3B,EAAE,IAAO,G,SAC9B,WAAC2M,EAAUA,CACTzO,KAAM8B,CAAC,CAAC,oBAAoB,GAC5B4M,KAAM5M,CAAC,CAAC,0CAA0C,GAClD+M,UAAW,G,UAEX,UAACq0B,GAAYA,CAAAA,GACb,UAACnF,GAAWA,CAAAA,G,KAGhB,WAAChvB,EAAcA,CAACtL,MAAO3B,CAAC,CAAC,+BAA+B,G,UACtD,UAACg7B,GAAgBA,CAAAA,GACjB,UAACkG,GAAYA,CAAAA,G,GAEd9jB,YAAYC,SAAS,EACpB,UAACpQ,EAAcA,CAACtL,MAAO3B,CAAC,CAAC,qBAAqB,G,SAC5C,UAACq7B,GAAWA,CACVn8B,UAAWA,EACX64B,kBAAmBA,C,KAIzB,WAAC9qB,EAAcA,C,UACb,UAACssB,GAAoBA,CAAAA,GACrB,UAAC5sB,EAAUA,CACTzO,KACE,UAACgF,OAAAA,CAAK6C,MAAO,CAAEmP,MAAO,oCAAqC,E,SACxDlV,CAAC,CAAC,oCAAoC,E,GAG3C4M,KAAM5M,CAAC,CAAC,yCAAyC,GACjD+F,MAAO,CAAEuT,OAAQ,SAAU,EAC3BxM,QAAS+1B,EACTjgC,cAAY,oB,SAEZ,UAAC2W,EAAAA,mBAAmBA,CAAAA,CAAAA,E,SA9CnB,IAmDX,E,oDClFW6pB,GAAgB,UC2B3B,IAAMC,GAAiBC,CAAAA,EAAAA,EAAAA,aAAAA,IAEjBC,GAA+B,KAInC,IAAMC,EAAUC,CAAAA,EAAAA,GAAAA,CAAAA,IAIhB,MAHgBhmC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACf,IAAIimC,GAAAA,EAAyBA,CAACF,GACpC,CAACA,EAAQ,CAEd,EAEMrW,GAAU,IACP,UAAC/qB,MAAAA,CAAIC,UDrDO,S,GCwDfshC,GAAqB,CAAC,CAC1BC,SAAAA,CAAQ,CAGT,IACC,IAAM5jC,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJsmC,EAAUC,CAAAA,EAAAA,EAAAA,UAAAA,EAAWT,IACrB,CAACU,EAAmBC,EAAqB,CAAG5kC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAAO,EAChE,GAAGwkC,CAAQ,CACb,GACAnlC,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACRulC,EAAqBJ,EACvB,EAAG,CAACA,EAAS,EACb,IAAMK,EAAuBnjC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACvC+iC,EAAQK,kBAAkB,CAACH,EAAkBr+B,EAAE,CAAE,CAC/Cy+B,SAAU,CAACJ,EAAkBI,QAAQ,EAEzC,EAAG,CAACN,EAASE,EAAkBr+B,EAAE,CAAEq+B,EAAkBI,QAAQ,CAAC,EACxDC,EAAetjC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAC/B+iC,EAAQQ,kBAAkB,CAACN,EAAkBr+B,EAAE,CACjD,EAAG,CAACm+B,EAASE,EAAkBr+B,EAAE,CAAC,EAC5B,CAACpG,EAAMuJ,EAAQ,CAAGzJ,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC3B,CAACklC,EAASC,EAAW,CAAGnlC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACjC,CAAColC,EAAiBC,EAAmB,CAAGrlC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAEjDslC,EAAsB5jC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACtC+H,EAAQ,IACR07B,EAAW,IACXV,EAAQK,kBAAkB,CAACH,EAAkBr+B,EAAE,CAAEq+B,EACnD,EAAG,CAACA,EAAmBF,EAAQ,EAEzBc,EAAmBlnC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KAC/B,IAAM6Y,EAA4B,EAAE,CAoBpC,OAnBAA,EAAQwK,IAAI,CAAC,CACX8jB,KAAM5kC,CAAC,CAAC,2DAA2D,GACnE8M,QAASm3B,EACT/iC,QAAS6iC,EAAkBI,QAAQ,GAErC7tB,EAAQwK,IAAI,CAAC,KACbxK,EAAQwK,IAAI,CAAC,CACX8jB,KAAM5kC,CAAC,CAAC,yDAAyD,GACjE8M,QAAS6B,IACPA,EAAEk2B,cAAc,GAChBN,EAAW,GACb,CACF,GACAjuB,EAAQwK,IAAI,CAAC,CACX8jB,KAAM5kC,CAAC,CAAC,2DAA2D,GACnE8M,QAAS,IAAM23B,EAAmB,IAClC78B,KAAM,SACNwJ,KAAM,UAAC0zB,EAAAA,UAAUA,CAAAA,CAAAA,EACnB,GACOC,CAAAA,EAAAA,GAAAA,EAAAA,EAAsBzuB,EAC/B,EAAG,CAAC2tB,EAAsBF,EAAkBI,QAAQ,CAAEnkC,EAAE,EAElDglC,EAAiBlkC,CAAAA,EAAAA,EAAAA,WAAAA,EACrB,IACE+iC,EAAQK,kBAAkB,CAACH,EAAkBr+B,EAAE,CAAE,CAC/CxH,KAAMyQ,CACR,EACF,EACA,CAACk1B,EAASE,EAAkBr+B,EAAE,CAAC,EAE3Bu/B,EAAmBnkC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,IACnCkjC,EAAqBvY,GAAS,EAC5B,GAAGA,CAAI,CACPvtB,KAAMyQ,CACR,GACF,EAAG,EAAE,EACCu2B,EAAmBpkC,CAAAA,EAAAA,EAAAA,WAAAA,EACvB,IACEkjC,EAAqBvY,GAAS,EAC5B,GAAGA,CAAI,CACPra,KAAAA,CACF,IACAyyB,EAAQK,kBAAkB,CAACH,EAAkBr+B,EAAE,CAAE,CAC/C0L,KAAAA,CACF,EACF,EACA,CAAC2yB,EAAkBr+B,EAAE,CAAEm+B,EAAQ,EAE3BsB,EAAgB1nC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KAC5B,IAAM6Y,EAA4B,EAAE,CAiBpC,OAhBAA,EAAQwK,IAAI,CACV,UAACskB,GAAAA,EAAwBA,CAAAA,CACvBxB,SAAUG,EACVsB,aAAcH,EACdI,WAAYN,EACZO,aAAcN,C,IAGlB3uB,EAAQwK,IAAI,CAAC,UAAC0kB,GAAAA,EAAoBA,CAAAA,CAAC5B,SAAUG,C,IAC7CztB,EAAQwK,IAAI,CAAC,KACbxK,EAAQwK,IAAI,CAAC,CACX8jB,KAAM5kC,CAAC,CAAC,2DAA2D,GACnE8M,QAASs3B,EACTx8B,KAAM,SACNwJ,KAAM,UAAC0zB,EAAAA,UAAUA,CAAAA,CAAAA,EACnB,GACOC,CAAAA,EAAAA,GAAAA,EAAAA,EAAsBzuB,EAC/B,EAAG,CACD8tB,EACAc,EACAF,EACAC,EACAlB,EACA/jC,EACD,EAED,MACE,uB,UACE,UAACqe,EAAAA,EAAIA,CAAAA,CACHyR,YAAa,CACXxwB,KAAAA,EACAqG,aAAc++B,CAChB,EACApmB,MAAOgmB,EAAUa,EAAgBR,E,SAEjC,UAACrd,EAAAA,EAAUA,CAAAA,CAACxa,QAAS,IAAMjE,EAAQ,IAAOtG,KAAK,K,SAC7C,UAACkjC,EAAAA,kBAAkBA,CAAAA,CAAAA,E,KAGvB,UAACC,GAAAA,CAA0BA,CAAAA,CACzBvjC,UAAW,KACTsiC,EAAmB,IACnBL,GACF,EACA3iB,SAAU,IAAMgjB,EAAmB,IACnC/D,KAAM8D,EACNZ,SAAUA,C,KAIlB,EAEM+B,GAAoB,CAAC,CACzB/B,SAAAA,CAAQ,CACRgC,aAAAA,CAAY,CAIb,IACC,IAAMC,EAAOC,CAAAA,EAAAA,GAAAA,CAAAA,EAAWlC,EAASxyB,IAAI,CAAEwyB,EAASh8B,IAAI,EAC9Cu8B,EAAWP,EAASO,QAAQ,CAC5BnkC,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACV,MACE,WAAC6E,MAAAA,CACCC,UDlMmB,UCmMnB0jC,mBAAkBnC,EAASl+B,EAAE,CAC7B9C,cAAY,sB,UAEZ,UAACijC,EAAAA,CAAKxjC,UD1Mc,S,GC2MpB,UAACD,MAAAA,CAAI4jC,eAAc,CAACpC,EAAS1lC,IAAI,CAAEmE,UD1Mf,U,SC2MjBuhC,EAAS1lC,IAAI,EAAI8B,EAAE,OAAU,E,GAE/B4lC,EAAat4B,MAAM,CAAG,EACrB,WAAClL,MAAAA,CAAIC,UDhNiB,U,UCgNmB,IACrC,IACF,WAAC0iB,EAAAA,EAAKA,CAAAA,CACJC,QACE4gB,EAAat4B,MAAM,CAAG,EAClB,sDACA,+CAEN24B,MAAOL,EAAat4B,MAAM,C,UAE1B,UAACpK,OAAAA,C,SAAM,CAAE+iC,MAAOL,EAAat4B,MAAM,C,GAAiB,O,MAGtD,KACJ,UAAClL,MAAAA,CAAIC,UDvNS,S,GCwNb8hC,EACC,UAAC/hC,MAAAA,CAAIC,UD5NiB,U,SC6NnBrC,CAAC,CAAC,+CAA+C,E,GAElD,KACJ,UAAC2jC,GAAAA,CAAmBC,SAAUA,C,KAGpC,EAKMsC,GAAqB,CAAC,CAC1BC,WAAAA,CAAU,CACVC,WAAAA,CAAU,CAIX,GAEG,UAAChkC,MAAAA,CAAIC,UDrPa,U,SCsPf8jC,EAAWnoC,GAAG,CAAC4lC,IACd,IAAMyC,EAAQ,IAAKD,EAAW5lB,GAAG,CAACojB,EAASl+B,EAAE,GAAK,EAAE,CAAE,CACtD,MACE,WAAC4gC,EAAAA,QAAQA,CAAAA,C,UACP,UAACX,GAAAA,CAAkB/B,SAAUA,EAAUgC,aAAcS,C,GACrD,UAAClZ,GAAAA,CAAAA,G,EAFYyW,EAASl+B,EAAE,CAK9B,E,GAKA6gC,GAAyB,CAAC,CAC9BC,WAAAA,CAAU,CAGX,IACC,IAAM3C,EAAUC,CAAAA,EAAAA,EAAAA,UAAAA,EAAWT,IACrB8C,EAAatC,EAAQ4C,0BAA0B,GAC/CL,EAAavC,EAAQ6C,qBAAqB,GAC1C1mC,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IAEV,GAAIipC,QAAAA,EAAsB,CACxB,IAAMG,EAAWR,EAAW1/B,MAAM,CAACm9B,IACjC,IAAMqC,EAAQG,EAAW5lB,GAAG,CAACojB,EAASl+B,EAAE,GAAGnD,MAAQ,EACnD,MAAOikC,WAAAA,EAA0BP,EAAQ,EAAIA,IAAAA,CAC/C,GAEA,MAAO,UAACC,GAAAA,CAAmBC,WAAYQ,EAAUP,WAAYA,C,EAC/D,CAAO,CACL,IAAMjC,EAAWgC,EAAW1/B,MAAM,CAACm9B,GAAYA,EAASO,QAAQ,EAC1DyC,EAAWT,EAAW1/B,MAAM,CAACm9B,GAAY,CAACA,EAASO,QAAQ,EACjE,MACE,uB,UACGA,EAAS72B,MAAM,CAAG,EACjB,uB,UACE,UAAClL,MAAAA,CAAIC,UAAWI,G,SACbzC,CAAC,CACA,+DACD,E,GAEH,UAACkmC,GAAAA,CAAmBC,WAAYhC,EAAUiC,WAAYA,C,MAEtD,KAEHQ,EAASt5B,MAAM,CAAG,EACjB,uB,UACE,UAAClL,MAAAA,CAAIC,UAAWI,G,SACbzC,CAAC,CACA,8DACD,E,GAEH,UAACkmC,GAAAA,CAAmBC,WAAYS,EAAUR,WAAYA,C,MAEtD,K,EAGV,CACF,EAEMS,GAAiC,KACrC,IAAM7mC,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJsmC,EAAUC,CAAAA,EAAAA,EAAAA,UAAAA,EAAWT,IACrB,CAACmD,EAAYM,EAAc,CAAG1nC,CAAAA,EAAAA,EAAAA,QAAAA,EAA6B,OAC3D+mC,EAAatC,EAAQ4C,0BAA0B,GAC/CM,EAAkBtpC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KAC9B,IAAM6Y,EAA4B,CAC/B,MAAO,IAAK,SAAU,SAAS,CAChCtY,GAAG,CAAC2F,GACGA,MAAAA,EACH,IACA,CACEihC,KAAM5kC,CAAC,CAAC,CAAC,yCAAyC,EAAE2D,EAAK,CAAC,CAAC,GAC3DmJ,QAAS,IAAMg6B,EAAcnjC,GAC7BzC,QAASslC,IAAe7iC,CAC1B,GAEN,MAAOohC,CAAAA,EAAAA,GAAAA,EAAAA,EAAsBzuB,EAC/B,EAAG,CAACkwB,EAAYxmC,EAAE,EAEZgnC,EAAoBlmC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,CAACmmC,EAAgBvhC,KACrDwhC,WAAW,KACT,IAAMC,EAASzoC,SAAS8tB,aAAa,CACnC,CAAC,sDAAsD,EAAE9mB,EAAG,EAAE,CAAC,EAE7DyhC,IACFA,EAAOpa,cAAc,CAAC,CAAEG,SAAU,QAAS,GAC3Cia,EAAOva,OAAO,CAACwa,SAAS,CAAG,GAC3BF,WAAW,KACT,OAAOC,EAAOva,OAAO,CAACwa,SAAS,EAC9B,KAEP,EACF,EAAG,EAAE,EACL,MACE,WAAChlC,MAAAA,CAAIC,UDvVS,U,UCwVZ,WAACD,MAAAA,CAAIC,UDzVa,U,UC0Vf8jC,EAAW74B,MAAM,CAAG,EACnB,UAAC+Q,EAAAA,EAAIA,CAAAA,CAACC,MAAOyoB,E,SACX,UAAC14B,EAAAA,EAAMA,CAAAA,CAACg5B,OAAQ,UAACC,EAAAA,UAAUA,CAAAA,CAAAA,G,SACxBd,QAAAA,EACGxmC,CAAC,CAAC,oBAAoB,GACtBA,CAAC,CAAC,CAAC,yCAAyC,EAAEwmC,EAAW,CAAC,CAAC,E,KAGjE,KACJ,UAACnoB,EAAAA,EAAIA,CAAAA,CACHC,MACE,UAACipB,GAAAA,EAAqCA,CAAAA,CACpCC,UAAWR,EACXS,YAAa5D,C,YAIjB,UAACx1B,EAAAA,EAAMA,CAAAA,CAACrM,QAAQ,U,SACbhC,CAAC,CAAC,wDAAwD,E,QAIjE,UAACumC,GAAAA,CAAuBC,WAAYA,C,KAG1C,EAEMkB,GAAkC,KACtC,IAAM7D,EAAUN,KAChB,MACE,UAACF,GAAesE,QAAQ,EAAC/4B,MAAOi1B,E,SAC9B,UAACgD,GAAAA,CAAAA,E,EAGP,EAEae,GAA6B,CAAC,CACzC7P,kBAAAA,CAAiB,CAGlB,IACC,IAAM/3B,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJ2B,EAAYL,CAAAA,EAAAA,GAAAA,CAAAA,EAAak5B,GACzB6K,EAAgBjK,CAAAA,EAAAA,GAAAA,CAAAA,EAAiBZ,GACjCp2B,EAAQihC,GAAe1kC,MAAQ,kBAErC,OAAIgB,EACK,KAIP,WAACgkC,EAAAA,EAAcA,CAAAA,CAACC,MAAOjkC,EAAUikC,KAAK,C,UACpC,UAAC32B,EAAaA,CACZ7K,MAAO3B,CAAC,CAAC,wDAAwD,GACjEyM,SACE,WAACsY,EAAAA,EAAKA,CAAAA,CACJld,OAAQ,CACN3J,KAAMyD,CACR,EACAqjB,QAAQ,2D,UACT,oBACkB,UAAC6iB,SAAAA,C,SAAO,M,GAAa,c,KAI5C,UAACH,GAAAA,CAAAA,G,EAGP,EC1ZaI,GAAmB,CAAC,CAC/B/P,kBAAAA,CAAiB,CACjBD,OAAAA,CAAM,CAIP,IACC,OAAQA,GACN,IAAK,aACH,MAAO,UAAC6K,GAAsBA,CAAC5K,kBAAmBA,C,EACpD,KAAK,aACH,MACE,UAAC6P,GAA0BA,CAAC7P,kBAAmBA,C,EAErD,CACF,ECuBMgQ,GAAmB,GACvB9O,GAAmBxY,QAAQ,CAACjf,GAExBwmC,GAAkB,IAEpB,UAAC5lC,MAAAA,CAAIC,UpB/CoB,Y,SoBgDvB,UAACkZ,EAAAA,EAAOA,CAAAA,CAAChZ,KAAM,E,KAKf0lC,GAAoB,CAAC,CACzB78B,UAAAA,EAAY,YAAY,CACxB2sB,kBAAAA,EAAoB,IAAI,CACxBmQ,eAAAA,CAAc,CACd,GAAGC,EACU,IACb,IAAM5nC,EAAcC,CAAAA,EAAAA,EAAAA,CAAAA,EAAYxB,CAAAA,EAAAA,EAAAA,EAAAA,EAAWsB,EAAAA,EAAWA,EAAED,OAAO,CAACI,OAAO,EAEjE2nC,EAAkBh6B,CAAAA,EAAAA,EAAAA,MAAAA,EAAuB,MACzCi6B,EAAyBj6B,CAAAA,EAAAA,EAAAA,MAAAA,EAAuB,MAChDk6B,EAAiC3nC,CAAAA,EAAAA,EAAAA,EAAAA,EACrC6Y,IAGFtV,CAAAA,EAAAA,EAAAA,eAAAA,EAAgB,SAEVquB,EADJ,GAAI,CAAC4V,EAAW7oC,IAAI,CAAE,OAEtB,IAAMipC,EAAWC,CAAAA,EAAAA,EAAAA,CAAAA,EAAS,KACxB7V,qBAAqBJ,GACrBA,EAAmBC,sBAAsB,KACvC,GAAI,CAAC4V,EAAgB75B,OAAO,EAAI,CAAC85B,EAAuB95B,OAAO,CAAE,OAEjE,IAAMk6B,EAAeJ,EAAuB95B,OAAO,CAACm6B,WAAW,CACzDC,EAAgBN,EAAuB95B,OAAO,CAACq6B,YAAY,CAC3DC,EAAeT,EAAgB75B,OAAO,CAACm6B,WAAW,CAElDI,EAAUT,EAAuB95B,OAAO,CAE9Cu6B,GAAS/iC,MAAMgjC,YACb,wBACA,CAAC,EAAEN,EAAa,EAAE,CAAC,EAErBK,GAAS/iC,MAAMgjC,YACb,yBACA,CAAC,EAAEJ,EAAc,EAAE,CAAC,EAEtBG,GAAS/iC,MAAMgjC,YACb,gCACA,CAAC,EAAEF,EAAa,EAAE,CAAC,EAErBC,GAAS/iC,MAAMgjC,YACb,wBACA,CAAC,EAAE,CAACN,EAAeI,CAAW,EAAK,EAAE,EAAE,CAAC,CAE5C,EACF,EAAG,KAIH,OAHA72B,OAAOC,gBAAgB,CAAC,SAAUs2B,GAClCA,IAEO,KACL5V,qBAAqBJ,GACrBvgB,OAAOE,mBAAmB,CAAC,SAAUq2B,EACvC,CACF,EAAG,CAACJ,EAAW7oC,IAAI,CAAC,EAEpBb,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR6pC,EAA+BD,EAAuB95B,OAAO,EACtD,KACL+5B,EAA+B,KACjC,GACC,CAACA,EAA+B,EAEnC,IAAMlR,EAAct2B,CAAAA,EAAAA,EAAAA,WAAAA,EAClB,CAACU,EAAgB1C,KACfopC,EAAe,CAAE98B,UAAW5J,EAAKu2B,kBAAmBj5B,CAAK,EAC3D,EACA,CAACopC,EAAe,EAEZc,EAA4BroC,CAAAA,EAAAA,EAAAA,EAAAA,EAAW2I,EAAAA,EAA0BA,EACjE2/B,EAAyBtoC,CAAAA,EAAAA,EAAAA,EAAAA,EAAWuoC,EAAAA,EAAuBA,EAE3DC,EAA+BroC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAC/CkoC,EAA0B,GAC5B,EAAG,CAACA,EAA0B,EAExBI,EAA4BtoC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAC5CmoC,EAAuB,GACzB,EAAG,CAACA,EAAuB,EAE3B,MACE,uB,UACE,UAAC9R,GAAcA,CACb/rB,UAAWA,EACXgsB,YAAaA,EACbC,oBAAqBU,GAAmBryB,IAAM,I,GAEhD,UAAC2jC,EAAAA,EAAUA,CAACC,IAAI,E,SACd,WAACD,EAAAA,EAAUA,CAACE,QAAQ,EAClB3mC,cAAY,wBACZP,UpBxIW,YoByIXhD,IAAKgpC,E,UAEL,WAACjmC,MAAAA,CAAI/C,IAAK+oC,EAAiB/lC,UpBlJR,Y,UoBmJjB,UAACD,MAAAA,CAAIC,UpBjJI,Y,SoBkJP,WAACkhB,EAAAA,QAAQA,CAAAA,CAACC,SAAU,UAACtW,EAAuBA,CAAAA,G,UACzC9B,EAAUo+B,UAAU,CAAC,eAAiBzR,EACrC,UAAC+P,GAAgBA,CACfhQ,OAAQ1sB,EAAUgtB,KAAK,CAAC,IAAI,CAAC,EAAE,CAE/BL,kBAAmBA,C,EADdA,EAAkBryB,EAAE,EAGzB,KACHqiC,GAAiB38B,GAChB,UAACmrB,GAAcA,CAACC,WAAYprB,C,GAC1B,KACHA,YAAAA,GAA2B7K,kBAAAA,EAC1B,UAACkY,GAAcA,CAAAA,GACb,K,KAGR,WAACrW,MAAAA,CAAIC,UpBjKG,Y,UoBkKN,UAAConC,EAAAA,iBAAiBA,CAAAA,CAACx2B,SAAU,E,GAC7B,UAAC8R,EAAAA,EAAKA,CAAAA,CACJC,QAAS,mCACTC,WAAY,CACV,EACE,UAAC/hB,OAAAA,CACCb,UAAW0D,GACX+G,QAASs8B,C,GAGb,EACE,UAAClmC,OAAAA,CACCb,UAAW0D,GACX+G,QAASq8B,C,EAGf,C,SAIN,UAACE,EAAAA,EAAUA,CAACK,SAAS,K,OAK/B,EAEaC,GAAe,CAAC,CAC3Bv+B,UAAAA,EAAY,YAAY,CACxB2sB,kBAAAA,EAAoB,IAAI,CACxBmQ,eAAAA,CAAc,CACd,GAAGC,EACU,GAEX,UAACviC,EAAAA,EAAKA,CAAAA,CACJC,MAAO,KACPM,OAAQ,IACRL,eAAgB,CACb,cAA0B,gBAC3BC,MAAO,CACL6jC,UAAW,OACXC,SAAU,OACV7jC,QAAS,EACT8jC,SAAU,SACVx7B,QAAS,MACX,CACF,EACC,GAAG65B,CAAU,C,SAEd,UAAC5kB,EAAAA,QAAQA,CAAAA,CAACC,SAAU,UAACwkB,GAAAA,CAAAA,G,SACnB,UAACC,GAAAA,CACC78B,UAAWA,EACX2sB,kBAAmBA,EACnBmQ,eAAgBA,EACf,GAAGC,CAAU,E,qBCvNjB,IAAM4B,GAAkB,KAC7B,IAAM/pC,EAAIzC,CAAAA,EAAAA,EAAAA,EAAAA,IACJ,CAAC+B,EAAMuJ,EAAQ,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,EAAQogC,EAAAA,EAAuBA,EAEvD,MACE,UAAC//B,EAAAA,EAAYA,CAAAA,CACX7J,KAAMA,EACN8J,SACE,UAACG,QAAAA,CACC1D,MAAO,IACPM,OAAQ,IACRJ,MAAO,CAAEyD,UAAW,OAAQ,EAC5BC,IAAK,yBACLC,SAAQ,GACRC,KAAI,E,GAGRhI,MAAO3B,CAAC,CAAC,+BAA+B,GACxC2F,aAAckD,EACdjH,YAAa5B,CAAC,CAAC,qCAAqC,GACpD6B,WAAY7B,CAAC,CAAC,gCAAgC,GAC9C4J,GAAIrG,yCACJxB,qBAAsB,CACpBC,QAAS,SACX,EACAF,YAAa9B,CAAC,CAAC,iCAAiC,GAChD6J,SAAQ,E,EAGd,E,2EChCWmgC,GAAc,WC0BzB,IAAMC,GAAW,CACfC,EACAtF,EACAuF,KAEA,IAAMC,EAAMF,EAAOG,UAAU,CAAC,MAC9B,GAAI,CAACD,EACH,OAGF,IAAME,EAAMt4B,OAAOu4B,gBAAgB,EAAI,CACvCL,CAAAA,EAAOrkC,KAAK,CAAGqkC,EAAOxd,qBAAqB,GAAG7mB,KAAK,CAAGykC,EACtDJ,EAAO/jC,MAAM,CAAG+jC,EAAOxd,qBAAqB,GAAGvmB,MAAM,CAAGmkC,EAGxD,IAAME,EAAYC,iBADkB/rC,SAASC,eAAe,EAEzD+rC,gBAAgB,CAAC,+BACjBC,IAAI,GAEPP,EAAIQ,KAAK,CAACN,EAAKA,GACfF,EAAIS,SAAS,CAAC,EAAG,EAAGX,EAAOrkC,KAAK,CAAEqkC,EAAO/jC,MAAM,EAC/CikC,EAAIU,SAAS,CAAGN,EAChBJ,EAAIW,IAAI,CAAG,aAIXX,EAAIY,QAAQ,CAACpG,EAFG,CAACuF,EAEW,IAE5BC,EAAIa,SAAS,CAAG,OAChBb,EAAIc,YAAY,CAAG,QACrB,EAEMC,GAAa,CAAC,CAClBvG,KAAAA,CAAI,CACJuF,WAAAA,CAAU,CACV9nC,UAAAA,CAAS,CAKV,IACC,IAAMhD,EAAM+O,CAAAA,EAAAA,EAAAA,MAAAA,EAA0B,MAWtC,MATA3P,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,IAAMyrC,EAAS7qC,EAAIkP,OAAO,CAC1B,GAAK27B,EAIL,OADAD,GAASC,EAAQtF,EAAMuF,GAChBiB,CAAAA,EAAAA,EAAAA,EAAAA,EAAclB,EAAQ,IAAMD,GAASC,EAAQtF,EAAMuF,GAC5D,EAAG,CAACvF,EAAMuF,EAAW,EAEd,UAACD,SAAAA,CAAO7nC,UAAWA,EAAWhD,IAAKA,C,EAC5C,EAEagsC,GAAkB,KAC7B,GAAM,CAACz8B,EAAO08B,EAAS,CAAGlsC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAE7BmsC,EAAavsC,CAAAA,EAAAA,EAAAA,EAAAA,EAAWwsC,GAAAA,CAAiBA,EAAED,UAAU,CACrDE,EAAUjrC,CAAAA,EAAAA,EAAAA,CAAAA,EAAY+qC,EAAWG,QAAQ,EACzCnnC,EAAS/D,CAAAA,EAAAA,EAAAA,CAAAA,EAAY+qC,EAAWI,OAAO,EACvCC,EAAcprC,CAAAA,EAAAA,EAAAA,CAAAA,EAAY+qC,EAAWM,YAAY,EAEjDC,EAAW19B,CAAAA,EAAAA,EAAAA,MAAAA,EAAyB,MACpC,CAACkN,EAAQywB,EAAU,CAAG3sC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC/B,CAAC+qC,EAAY6B,EAAc,CAAG5sC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,GACvC,CAAC6sC,EAAWC,EAAa,CAAG9sC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAErC,CAAC,CAAE2c,OAAAA,CAAM,CAAE,CAAEyP,EAAO,CAAG2gB,CAAAA,EAAAA,GAAAA,CAAAA,EAAc,CACzCC,QAvEqB,GAwEvB,GAEA3tC,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR+sB,EAAOigB,EACT,EAAG,CAACA,EAAQ,EAEZ,IAAMY,EAA0DvrC,CAAAA,EAAAA,EAAAA,WAAAA,EAC9D6N,IACE,IAAMC,EAAQD,EAAEnL,MAAM,CAACoL,KAAK,CAC5B08B,EAAS18B,GACJq9B,GACHV,EAAWA,UAAU,CAAC38B,GAEH,IAAjBA,EAAMtB,MAAM,EACdi+B,EAAWe,KAAK,GAElBR,EAASv9B,OAAO,EAAEg+B,OACpB,EACA,CAACN,EAAWV,EAAW,EAGnBiB,EAAc1rC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAC9BirC,EAAU,GACZ,EAAG,EAAE,EAECU,EAAa3rC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAC7BirC,EAAU,GACZ,EAAG,EAAE,EAELttC,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,GAAIgtC,EAAS,CACXH,EAASC,EAAWmB,WAAW,CAAC99B,KAAK,EAAI,IACzC,IAAM+9B,EAAQ,IACE,WAAVh+B,EAAEnN,GAAG,EACP+pC,EAAWqB,eAAe,CAAC,GAE/B,EAEA,OADA56B,OAAOC,gBAAgB,CAAC,UAAW06B,GAC5B,KACL36B,OAAOE,mBAAmB,CAAC,UAAWy6B,EACxC,CACF,CACA,MAAO,KAAO,CAChB,EAAG,CAACpB,EAAYA,EAAWmB,WAAW,CAAC99B,KAAK,CAAE68B,EAAQ,EAEtDhtC,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,IAAMouC,EAAQtB,EAAWM,YAAY,CAAC15B,SAAS,CAAC,KAC9C25B,EAASv9B,OAAO,EAAEg+B,QAClBrF,WAAW,KACT4E,EAASv9B,OAAO,EAAEg+B,OACpB,EACF,GAEA,MAAO,KACLM,EAAMC,WAAW,EACnB,CACF,EAAG,CAACvB,EAAWM,YAAY,CAAC,EAE5B,IAAMkB,EAAiBjsC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACjCyqC,EAAWyB,QAAQ,EACrB,EAAG,CAACzB,EAAW,EAET0B,EAAgBnsC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAChCyqC,EAAW2B,OAAO,EACpB,EAAG,CAAC3B,EAAW,EAETqB,EAAkB9rC,CAAAA,EAAAA,EAAAA,WAAAA,EACtB,IACO2qC,GACHF,EAAWe,KAAK,GAElBf,EAAWqB,eAAe,CAACnB,EAC7B,EACA,CAACF,EAAW,EAER4B,EAAarsC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAC7B8rC,EAAgB,GAClB,EAAG,CAACA,EAAgB,EAEdQ,EAAsCtsC,CAAAA,EAAAA,EAAAA,WAAAA,EAC1C6N,IACMA,CAAAA,UAAAA,EAAEnN,GAAG,EAAgBmN,cAAAA,EAAEnN,GAAG,GAC5ByrC,IAEY,YAAVt+B,EAAEnN,GAAG,EACPurC,GAEJ,EACA,CAACA,EAAgBE,EAAc,EAG3BI,EAAevsC,CAAAA,EAAAA,EAAAA,WAAAA,EACnB,IACEkrC,EAAcr9B,EAAE8oB,aAAa,CAAC0S,UAAU,CAC1C,EACA,EAAE,EAGEmD,EACJxsC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACVorC,EAAa,GACf,EAAG,EAAE,EAEDqB,EACJzsC,CAAAA,EAAAA,EAAAA,WAAAA,EACE6N,IACEu9B,EAAa,IACbX,EAAWA,UAAU,CAAC58B,EAAE8oB,aAAa,CAAC7oB,KAAK,CAC7C,EACA,CAAC28B,EAAW,EAGhB,MACE,UAACiC,GAAAA,EAAW,EAACluC,KAAMyc,WAAAA,E,SACjB,WAACyxB,GAAAA,EAAa,E,UACZ,UAACA,GAAAA,EAAc,EAACnrC,UD1ME,U,GC2MlB,UAACD,MAAAA,CAAIC,UD5MoB,W,SC6MvB,WAACmrC,GAAAA,EAAc,EACbznC,MAAO0nC,CAAAA,EAAAA,GAAAA,CAAAA,EAAiB,CDvNN,kBCwNW,OAC7B,GACAprC,UDlNc,WCmNdqrC,aAAY3xB,E,UAEZ,WAAC3Z,MAAAA,CACCC,UAAW2K,CAAAA,EAAAA,EAAAA,CAAAA,ED1NG,WC0NyB,CACrCsO,OAAQA,GAAUswB,CACpB,G,UAEA,UAAC+B,EAAAA,UAAUA,CAAAA,CAACtrC,UDvNF,U,GCwNV,WAACD,MAAAA,CAAIC,UD7NI,W,UC8NP,UAACoM,QAAAA,CACC7G,KAAK,OACLjF,UAAS,GACTiM,MAAOA,EACPvP,IAAKysC,EACL/lC,MAAO,CACLg7B,WAAY6K,EAAc,SAAW,SACvC,EACAgC,OAAQnB,EACRoB,QAASrB,EACTnqC,UD3OC,WC4ODQ,UAAWuqC,EACXnqC,SAAUopC,EACVyB,SAAUT,EACVU,mBAAoBT,EACpBU,iBAAkBT,C,GAEpB,UAACpC,GAAAA,CACC9oC,UDjPK,oBCkPLuiC,KAAMh2B,EACNu7B,WAAYA,C,MAGhB,UAAC/nC,MAAAA,CAAIC,UDzPA,W,SC0PFuM,EAAMtB,MAAM,CAAG,GAAK/I,GAAUA,IAAAA,EAAO0pC,OAAO,CAC3C,uB,UACE,UAAC/qC,OAAAA,C,SAAMqB,GAAQ2pC,oBAAsB,C,GACrC,UAAChrC,OAAAA,C,SAAK,G,GACN,UAACA,OAAAA,C,SAAMqB,GAAQ0pC,SAAW,C,MAE1Br/B,EAAMtB,MAAM,CACd,UAACpK,OAAAA,C,SAAK,Y,GACJ,I,MAIR,WAACd,MAAAA,C,UACC,UAACklB,EAAAA,EAAUA,CAAAA,CACT/kB,KAAK,KACLF,UAAW2K,CAAAA,EAAAA,EAAAA,CAAAA,EAAKvK,GAAoB,YACpCqK,QAASigC,EACT37B,KAAM,UAACwa,EAAAA,gBAAgBA,CAAAA,CAAAA,E,GAEzB,UAACtE,EAAAA,EAAUA,CAAAA,CACT/kB,KAAK,KACLF,UAAW2K,CAAAA,EAAAA,EAAAA,CAAAA,EAAKvK,GAAoB,WACpCqK,QAASmgC,EACT77B,KAAM,UAAC+8B,EAAAA,kBAAkBA,CAAAA,CAAAA,E,MAI7B,UAAC7mB,EAAAA,EAAUA,CAAAA,CAACxa,QAASqgC,EAAY/7B,KAAM,UAACg9B,EAAAA,SAASA,CAAAA,CAAAA,E,YAM7D,E,gBCpPO,IAAMC,GAAU,KACrB,GAAM,CAAC,CAAE/uC,KAAAA,CAAI,CAAEy4B,kBAAAA,CAAiB,CAAE3sB,UAAAA,CAAS,CAAE,CAAE8Y,EAAwB,CACrEpb,CAAAA,EAAAA,EAAAA,EAAAA,EAAQoC,EAAAA,EAAoBA,EAExBg9B,EAAiBpnC,CAAAA,EAAAA,EAAAA,WAAAA,EACrB,CAAC,CACCsK,UAAAA,CAAS,CACT2sB,kBAAAA,CAAiB,CACoC,IACrD7T,EAAwBuH,GAAS,EAC/B,GAAGA,CAAI,CACPrgB,UAAAA,EACA2sB,kBAAAA,CACF,GACF,EACA,CAAC7T,EAAwB,EAGrBve,EAAe7E,CAAAA,EAAAA,EAAAA,WAAAA,EACnB,IACEojB,EAAwBuH,GAAS,EAAE,GAAGA,CAAI,CAAEnsB,KAAAA,CAAK,GACnD,EACA,CAAC4kB,EAAwB,QAe3B,CAZAzlB,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,GAAI2e,YAAYC,SAAS,CACvB,OAAOixB,EAAAA,EAAMA,EAAEC,gBAAgBC,4BAA4B,IACzDtqB,EAAwB,CACtB9Y,UAAW,QACX9L,KAAM,EACR,GAIN,EAAG,CAAC4kB,EAAwB,EAEvB5kB,GAKH,UAACqqC,GAAYA,CACXrqC,KAAMA,EACN8L,UAAWA,EACX2sB,kBAAmBA,EACnBmQ,eAAgBA,EAChBviC,aAAcA,C,GATT,IAYX,EAEa8oC,GAAY,KACvB,GAAM,CACJ,CAAEztC,UAAAA,CAAS,CAAED,MAAAA,CAAK,CAAE2P,MAAAA,EAAQ,EAAE,CAAEsI,UAAAA,EAAY,gBAAgB,CAAE,CAC9D01B,EACD,CAAG5lC,CAAAA,EAAAA,EAAAA,EAAAA,EAAQlI,EAAAA,EAAQA,EAEpB,MACE,UAAC+tC,EAAAA,CAAIA,CAAAA,CACHrvC,KAAM0B,EACND,MAAOA,EACP2P,MAAOA,EACPsI,UAAWA,EACX41B,aAAc9tC,CAAAA,EAAAA,EAAAA,WAAAA,EACZkY,IACE01B,EAAYjjB,GAAS,EAAE,GAAGA,CAAI,CAAEzS,UAAAA,CAAU,GAC5C,EACA,CAAC01B,EAAY,EAEf7lC,QAAS/H,CAAAA,EAAAA,EAAAA,WAAAA,EACPxB,IACEovC,EAAYjjB,GAAS,EAAE,GAAGA,CAAI,CAAEzqB,UAAW1B,CAAK,GAClD,EACA,CAACovC,EAAY,EAEfG,aAAc/tC,CAAAA,EAAAA,EAAAA,WAAAA,EACZC,IACE2tC,EAAYjjB,GAAS,EAAE,GAAGA,CAAI,CAAE1qB,MAAAA,CAAM,GACxC,EACA,CAAC2tC,EAAY,EAEfI,aAAchuC,CAAAA,EAAAA,EAAAA,WAAAA,EACZ4P,IACEg+B,EAAYjjB,GAAS,EAAE,GAAGA,CAAI,CAAE/a,MAAAA,CAAM,GACxC,EACA,CAACg+B,EAAY,C,EAIrB,EAEO,SAASK,KACd,IAAMpmC,EAAmB3J,CAAAA,EAAAA,EAAAA,EAAAA,EAAW4J,EAAAA,CAAgBA,EAAE1J,SAAS,CAEzD,CAAE8vC,WAAAA,CAAU,CAAEC,cAAAA,CAAa,CAAEC,gBAAAA,CAAe,CAAE,CAAGC,CAAAA,EAAAA,GAAAA,CAAAA,EACrDxmC,EAAiB84B,aAAa,EAE1B2N,EAAmBJ,EAAWK,UAAU,CACxCC,EAAmBN,EAAW1vC,IAAI,CAClCiwC,EAA2BzuC,CAAAA,EAAAA,EAAAA,WAAAA,EAC/B,IACEmuC,EAAc,CACZ,GAAGD,CAAU,CACb1vC,KAAAA,CACF,EACF,EACA,CAAC0vC,EAAYC,EAAc,EAG7B,MACE,uB,UACE,UAAClF,GAAeA,CAAAA,GAChB,UAAC1gC,EAAkBA,CAAAA,GAClBV,EAAmB,UAAC0lC,GAAAA,CAAAA,GAAa,KACjC1lC,GAAkBpD,UAAYnE,EAAAA,CAAgBA,CAACE,KAAK,EACnD,uB,UACE,UAACiL,EAAeA,CAAAA,GAChB,UAAC7D,EAAgBA,CAAAA,G,GAGpBC,GAAkBpD,UAAYnE,EAAAA,CAAgBA,CAACC,YAAY,EAC1D,UAACyI,EAAeA,CAAAA,GAElB,UAAC0lC,EAAAA,CAAoBA,CAAAA,CAAAA,GACrB,UAACC,GAAAA,EAAoBA,CAAAA,CAAAA,GACpBryB,YAAYC,SAAS,EAAI,UAACguB,GAAeA,CAAAA,GAC1C,UAACqE,GAAAA,EAAWA,CAACjuC,YAAY,EACvBnC,KAAMgwC,EACNntC,UAAW+sC,EACXvpC,aAAc4pC,EACdI,OAAQP,C,KAIhB,CAEO,IAAMQ,GAAsB,KACjC,GAAM,CAAEC,SAAAA,CAAQ,CAAE,CAAGhW,CAAAA,EAAAA,GAAAA,CAAAA,IACfxqB,EAAcrQ,CAAAA,EAAAA,EAAAA,EAAAA,EAAWsB,GAAAA,EAAWA,EACpC,CAAChB,EAAMuJ,EAAQ,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,EAAQgQ,EAAAA,EAAoBA,EAC9CnQ,EAAmBmnC,EAAAA,EAAAA,CAAmBlnC,EAAAA,CAAgBA,GAAG1J,UACzDm5B,EAAa73B,CAAAA,EAAAA,EAAAA,CAAAA,EACjBxB,CAAAA,EAAAA,EAAAA,EAAAA,EAAWC,EAAAA,CAAiBA,EAAE2F,IAAI,CAAC0zB,WAAW,EAG1Cn2B,EAAY7D,CAAAA,EAAAA,EAAAA,CAAAA,EAAiB,UACjCuK,EAAQ,IACR,GAAI,CACF,MAAMwG,EAAY0gC,OAAO,EAC3B,CAAE,MAAO9qC,EAAK,CACZC,QAAQJ,KAAK,CAACG,GAEdkM,EAAAA,EAAMA,CAACrM,KAAK,CAAC,CACXnD,MAAO,oBACT,EACF,CAGA,GAAIgH,GAAkBpD,UAAYnE,EAAAA,CAAgBA,CAACC,YAAY,CAAE,CAC/D,IAAM2uC,EAAiB3X,EAAW16B,IAAI,CACpCsyC,GAAKA,EAAE1qC,OAAO,GAAKnE,EAAAA,CAAgBA,CAACE,KAAK,EAEvC0uC,GACFH,EAASG,EAAetqC,EAAE,CAAEg1B,GAAAA,EAAgBA,CAACC,GAAG,CAEpD,CACF,EAAG,CAACtrB,EAAa1G,EAAkBknC,EAAUhnC,EAASwvB,EAAW,EAEjE,MACE,UAAC6X,GAAAA,CAAYA,CAAAA,CAAC5wC,KAAMA,EAAMqG,aAAckD,EAAS1G,UAAWA,C,EAEhE,EAEaguC,GAAqB,KAChC,GAAM,CAACC,EAA4BC,EAA4B,CAAGvnC,CAAAA,EAAAA,EAAAA,EAAAA,EAChEwnC,EAAAA,EAA4BA,EAGxB,CAAE3W,cAAAA,CAAa,CAAE4W,WAAAA,CAAU,CAAE,CAAG1W,CAAAA,EAAAA,GAAAA,CAAAA,IAEtC,MACE,uB,UACE,UAACn2B,EAAoBA,CACnBC,KAAMysC,EACNxsC,QAAS9C,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACnBuvC,EAA4B,GAC9B,EAAG,CAACA,EAA4B,EAChCxsC,SAAU/C,CAAAA,EAAAA,EAAAA,WAAAA,EACR,CAAC4E,EAAIF,KACH6qC,EAA4B,IAG5BnJ,WAAW,KACJ1hC,EAGH+qC,EAAW7qC,EAAIF,GAFfm0B,EAAcj0B,EAAIg1B,GAAAA,EAAgBA,CAACC,GAAG,CAI1C,EACF,EACA,CAAC4V,EAAY5W,EAAe0W,EAA4B,C,GAG5D,UAAC5B,GAAAA,CAAAA,GACD,UAACmB,GAAAA,CAAAA,G,EAGP,C","sources":["webpack://@affine/web/../core/src/hooks/affine/use-language-helper.ts","webpack://@affine/web/../core/src/hooks/use-workspace.ts","webpack://@affine/web/../core/src/components/affine/create-workspace-modal/index.css.ts","webpack://@affine/web/../core/src/components/affine/create-workspace-modal/index.tsx","webpack://@affine/web/../core/src/components/affine/history-tips-modal/top-svg.tsx","webpack://@affine/web/../core/src/components/affine/history-tips-modal/index.tsx","webpack://@affine/web/../core/src/components/affine/issue-feedback-modal/index.tsx","webpack://@affine/web/../core/src/components/affine/quota-reached-modal/cloud-quota-modal.tsx","webpack://@affine/web/../core/src/components/affine/quota-reached-modal/local-quota-modal.tsx","webpack://@affine/web/../component/src/components/setting-components/setting-header.tsx","webpack://@affine/web/../component/src/components/setting-components/share.css.ts","webpack://@affine/web/../component/src/components/setting-components/setting-row.tsx","webpack://@affine/web/../component/src/components/setting-components/wrapper.tsx","webpack://@affine/web/../component/src/components/setting-components/workspace-detail-skeleton.tsx","webpack://@affine/web/../component/src/components/setting-components/workspace-list-skeleton.tsx","webpack://@affine/web/../core/src/components/pure/file-upload/index.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/ai/actions/cancel.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/ai/actions/login.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/ai/actions/resume.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/ai/actions/subscribe.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/account-setting/storage-progress.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/account-setting/ai-usage-panel.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/account-setting/storage-progress.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/account-setting/index.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/account-setting/style.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/atoms.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/about/config.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/about/icons.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/about/style.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/about/update-check-section.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/about/index.tsx","webpack://@affine/web/../core/src/components/affine/language-menu/index.tsx","webpack://@affine/web/../core/src/components/affine/language-menu/style.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/appearance/style.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/appearance/index.tsx","webpack://@affine/web/../core/src/components/pure/swr-error-bundary.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/style.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/modals.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/actions.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/lifetime/assets.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/lifetime/believer-card.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/lifetime/believer-card.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/lifetime/benefits.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/lifetime/benefits.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/billing/style.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/billing/index.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/experimental-features/dark-art-svg.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/experimental-features/light-art-svg.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/experimental-features/arts.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/experimental-features/arts.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/experimental-features/index.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/experimental-features/index.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/icons.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/ai/ai-plan.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/layout.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/layout.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/ai/benefits.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/ai/layout.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/ai/ai-plan.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/plan-card.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/lifetime/style.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/lifetime/lifetime-plan.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/cloud-plans.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/skeleton.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/skeleton.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/plans/index.tsx","webpack://@affine/web/../core/src/hooks/affine/use-shortcuts.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/shortcuts/index.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/shortcuts/style.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/general-setting/index.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/setting-sidebar/style.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/setting-sidebar/index.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/style.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/types.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/workspace-setting/new-workspace-setting-detail/delete-leave-workspace/delete/style.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/workspace-setting/new-workspace-setting-detail/delete-leave-workspace/delete/index.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/workspace-setting/new-workspace-setting-detail/delete-leave-workspace/index.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/workspace-setting/new-workspace-setting-detail/enable-cloud.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/workspace-setting/new-workspace-setting-detail/export.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/workspace-setting/new-workspace-setting-detail/style.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/workspace-setting/new-workspace-setting-detail/labels.tsx","webpack://@affine/web/../core/src/hooks/affine/use-mutate-cloud.ts","webpack://@affine/web/../core/src/hooks/affine/use-members.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/workspace-setting/new-workspace-setting-detail/members.tsx","webpack://@affine/web/../core/src/hooks/affine/use-member-count.ts","webpack://@affine/web/../core/src/hooks/affine/use-invite-member.ts","webpack://@affine/web/../core/src/hooks/affine/use-revoke-member-permission.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/workspace-setting/new-workspace-setting-detail/profile.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/workspace-setting/new-workspace-setting-detail/index.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/workspace-setting/properties/styles.css.ts","webpack://@affine/web/../core/src/components/affine/setting-modal/workspace-setting/properties/index.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/workspace-setting/index.tsx","webpack://@affine/web/../core/src/components/affine/setting-modal/index.tsx","webpack://@affine/web/../core/src/components/affine/star-affine-modal/index.tsx","webpack://@affine/web/../core/src/modules/find-in-page/view/find-in-page-modal.css.ts","webpack://@affine/web/../core/src/modules/find-in-page/view/find-in-page-modal.tsx","webpack://@affine/web/../core/src/providers/modal-provider.tsx"],"sourcesContent":["import { useAsyncCallback } from '@affine/core/hooks/affine-async-hooks';\nimport { LOCALES, useI18n } from '@affine/i18n';\nimport { useEffect, useMemo } from 'react';\n\nexport function useLanguageHelper() {\n  const i18n = useI18n();\n  const currentLanguage = useMemo(\n    () => LOCALES.find(item => item.tag === i18n.language),\n    [i18n.language]\n  );\n  const languagesList = useMemo(\n    () =>\n      LOCALES.map(item => ({\n        tag: item.tag,\n        originalName: item.originalName,\n        name: item.name,\n        Completeness: item.completeRate,\n      })),\n    []\n  );\n  const onLanguageChange = useAsyncCallback(\n    async (event: string) => {\n      await i18n.changeLanguage(event);\n    },\n    [i18n]\n  );\n\n  useEffect(() => {\n    if (currentLanguage) {\n      document.documentElement.lang = currentLanguage.tag;\n    }\n  }, [currentLanguage]);\n\n  return useMemo(\n    () => ({\n      currentLanguage,\n      languagesList,\n      onLanguageChange,\n    }),\n    [currentLanguage, languagesList, onLanguageChange]\n  );\n}\n","import type { Workspace, WorkspaceMetadata } from '@toeverything/infra';\nimport { useService, WorkspacesService } from '@toeverything/infra';\nimport { useEffect, useState } from 'react';\n\n/**\n * definitely be careful when using this hook, open workspace is a heavy operation\n */\nexport function useWorkspace(meta?: WorkspaceMetadata | null) {\n  const workspaceManager = useService(WorkspacesService);\n\n  const [workspace, setWorkspace] = useState<Workspace | null>(null);\n\n  useEffect(() => {\n    if (!meta) {\n      setWorkspace(null); // set to null if meta is null or undefined\n      return;\n    }\n    const ref = workspaceManager.open({ metadata: meta });\n    setWorkspace(ref.workspace);\n    return () => {\n      ref.dispose();\n    };\n  }, [meta, workspaceManager]);\n\n  return workspace;\n}\n","import \"../core/src/components/affine/create-workspace-modal/index.css.ts.vanilla.css!=!../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/create-workspace-modal/index.css.ts.vanilla.css\\\",\\\"source\\\":\\\"#H4sIAAAAAAAACrVT0W7bMAx8z1fwZcD2oMLO3DRTPmaQLdrhZlOCRCfOhv37IDurncZr0QF7MiCSd+Td+eFr8fh0sZjBzw2Ad5GEHGsI2BqhEx42AJ0JDbES5zUUhR8Om1+bh+tcPs7VjkVF+oEaTiZ8VMrUNTGq6b37lFAq17rwoi44iPKBOhMuamwYW8exM1JzFA27LFsSbkdCS9G35qKhbnGYd9SQZ36Am4HP6wPpqywFrKaDK9f2HadKY7yGvR+7vLGWuNGQb1/iFv+Eu7vBnTRNOy+RHycvltSHNSrTUsOKBLuooUIWDOm5dMFiUMFY6uPzJaWpvjfB9WzVmhOLcsTKsb11pCNWx6sheV5cj1hJy3zF7r36fOujUJ1YWZBledKZrByTUNmHZyUnWWa+p7eTWJqI783i3QF3a0ZvKlQlyhmRlxvt395oiK/vs+qFGdRVkO1+fyvCl/9BOcObEf6PG8XuL8G8k2g0Hdm+kto5TKaMru0FpyyLuE6nPw8gTPnLpnZKkwpPyBI1sOOUvt+tqdBRzwQAAA==\\\"}!../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var affineCloudWrapper = '_457yde4';\nexport var avatarWrapper = '_457yde2';\nexport var card = '_457yde5';\nexport var cardDescription = '_457yde8';\nexport var cardText = '_457yde6';\nexport var cardTitle = '_457yde7';\nexport var cloudSvgContainer = '_457ydea';\nexport var cloudTips = '_457yde9';\nexport var header = '_457yde0';\nexport var subTitle = '_457yde1';\nexport var workspaceNameWrapper = '_457yde3';","import { Avatar, Input, Switch, toast } from '@affine/component';\nimport type { ConfirmModalProps } from '@affine/component/ui/modal';\nimport { ConfirmModal, Modal } from '@affine/component/ui/modal';\nimport { authAtom } from '@affine/core/atoms';\nimport { useAsyncCallback } from '@affine/core/hooks/affine-async-hooks';\nimport { track } from '@affine/core/mixpanel';\nimport { DebugLogger } from '@affine/debug';\nimport { apis } from '@affine/electron-api';\nimport { WorkspaceFlavour } from '@affine/env/workspace';\nimport { useI18n } from '@affine/i18n';\nimport {\n  initEmptyPage,\n  useLiveData,\n  useService,\n  WorkspacesService,\n} from '@toeverything/infra';\nimport { useSetAtom } from 'jotai';\nimport type { KeyboardEvent } from 'react';\nimport { useCallback, useLayoutEffect, useState } from 'react';\n\nimport { buildShowcaseWorkspace } from '../../../bootstrap/first-app-data';\nimport { AuthService } from '../../../modules/cloud';\nimport { _addLocalWorkspace } from '../../../modules/workspace-engine';\nimport { CloudSvg } from '../share-page-modal/cloud-svg';\nimport * as styles from './index.css';\n\ntype CreateWorkspaceStep =\n  | 'set-db-location'\n  | 'name-workspace'\n  | 'set-syncing-mode';\n\nexport type CreateWorkspaceMode = 'add' | 'new' | false;\n\nconst logger = new DebugLogger('CreateWorkspaceModal');\n\ninterface ModalProps {\n  mode: CreateWorkspaceMode; // false means not open\n  onClose: () => void;\n  onCreate: (id: string, defaultDocId?: string) => void;\n}\n\ninterface NameWorkspaceContentProps extends ConfirmModalProps {\n  loading: boolean;\n  onConfirmName: (\n    name: string,\n    workspaceFlavour: WorkspaceFlavour,\n    avatar?: File\n  ) => void;\n}\n\nconst shouldEnableCloud = !runtimeConfig.allowLocalWorkspace;\n\nconst NameWorkspaceContent = ({\n  loading,\n  onConfirmName,\n  ...props\n}: NameWorkspaceContentProps) => {\n  const t = useI18n();\n  const [workspaceName, setWorkspaceName] = useState('');\n  const [enable, setEnable] = useState(shouldEnableCloud);\n  const session = useService(AuthService).session;\n  const loginStatus = useLiveData(session.status$);\n\n  const setOpenSignIn = useSetAtom(authAtom);\n\n  const openSignInModal = useCallback(() => {\n    setOpenSignIn(state => ({\n      ...state,\n      openModal: true,\n    }));\n  }, [setOpenSignIn]);\n\n  const onSwitchChange = useCallback(\n    (checked: boolean) => {\n      if (loginStatus !== 'authenticated') {\n        return openSignInModal();\n      }\n      return setEnable(checked);\n    },\n    [loginStatus, openSignInModal]\n  );\n\n  const handleCreateWorkspace = useCallback(() => {\n    onConfirmName(\n      workspaceName,\n      enable ? WorkspaceFlavour.AFFINE_CLOUD : WorkspaceFlavour.LOCAL\n    );\n  }, [enable, onConfirmName, workspaceName]);\n\n  const handleKeyDown = useCallback(\n    (event: KeyboardEvent<HTMLInputElement>) => {\n      if (event.key === 'Enter' && workspaceName) {\n        handleCreateWorkspace();\n      }\n    },\n    [handleCreateWorkspace, workspaceName]\n  );\n\n  // Currently, when we create a new workspace and upload an avatar at the same time,\n  // an error occurs after the creation is successful: get blob 404 not found\n  return (\n    <ConfirmModal\n      defaultOpen={true}\n      title={t['com.affine.nameWorkspace.title']()}\n      description={t['com.affine.nameWorkspace.description']()}\n      cancelText={t['com.affine.nameWorkspace.button.cancel']()}\n      confirmText={t['com.affine.nameWorkspace.button.create']()}\n      confirmButtonOptions={{\n        variant: 'primary',\n        loading,\n        disabled: !workspaceName,\n        ['data-testid' as string]: 'create-workspace-create-button',\n      }}\n      closeButtonOptions={{\n        ['data-testid' as string]: 'create-workspace-close-button',\n      }}\n      onConfirm={handleCreateWorkspace}\n      {...props}\n    >\n      <div className={styles.avatarWrapper}>\n        <Avatar size={56} name={workspaceName} colorfulFallback />\n      </div>\n\n      <div className={styles.workspaceNameWrapper}>\n        <div className={styles.subTitle}>\n          {t['com.affine.nameWorkspace.subtitle.workspace-name']()}\n        </div>\n        <Input\n          autoFocus\n          data-testid=\"create-workspace-input\"\n          onKeyDown={handleKeyDown}\n          placeholder={t['com.affine.nameWorkspace.placeholder']()}\n          maxLength={64}\n          minLength={0}\n          onChange={setWorkspaceName}\n          size=\"large\"\n        />\n      </div>\n      <div className={styles.affineCloudWrapper}>\n        <div className={styles.subTitle}>{t['AFFiNE Cloud']()}</div>\n        <div className={styles.card}>\n          <div className={styles.cardText}>\n            <div className={styles.cardTitle}>\n              <span>{t['com.affine.nameWorkspace.affine-cloud.title']()}</span>\n              <Switch\n                checked={enable}\n                onChange={onSwitchChange}\n                disabled={shouldEnableCloud}\n              />\n            </div>\n            <div className={styles.cardDescription}>\n              {t['com.affine.nameWorkspace.affine-cloud.description']()}\n            </div>\n          </div>\n          <div className={styles.cloudSvgContainer}>\n            <CloudSvg />\n          </div>\n        </div>\n        {shouldEnableCloud ? (\n          <a\n            className={styles.cloudTips}\n            href={runtimeConfig.downloadUrl}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            {t['com.affine.nameWorkspace.affine-cloud.web-tips']()}\n          </a>\n        ) : null}\n      </div>\n    </ConfirmModal>\n  );\n};\n\nexport const CreateWorkspaceModal = ({\n  mode,\n  onClose,\n  onCreate,\n}: ModalProps) => {\n  const [step, setStep] = useState<CreateWorkspaceStep>();\n  const t = useI18n();\n  const workspacesService = useService(WorkspacesService);\n  const [loading, setLoading] = useState(false);\n\n  // TODO(@Peng): maybe refactor using xstate?\n  useLayoutEffect(() => {\n    let canceled = false;\n    // if mode changed, reset step\n    if (mode === 'add') {\n      // a hack for now\n      // when adding a workspace, we will immediately let user select a db file\n      // after it is done, it will effectively add a new workspace to app-data folder\n      // so after that, we will be able to load it via importLocalWorkspace\n      (async () => {\n        if (!apis) {\n          return;\n        }\n        logger.info('load db file');\n        setStep(undefined);\n        const result = await apis.dialog.loadDBFile();\n        if (result.workspaceId && !canceled) {\n          _addLocalWorkspace(result.workspaceId);\n          workspacesService.list.revalidate();\n          onCreate(result.workspaceId);\n        } else if (result.error || result.canceled) {\n          if (result.error) {\n            toast(t[result.error]());\n          }\n          onClose();\n        }\n      })().catch(err => {\n        console.error(err);\n      });\n    } else if (mode === 'new') {\n      setStep('name-workspace');\n    } else {\n      setStep(undefined);\n    }\n    return () => {\n      canceled = true;\n    };\n  }, [mode, onClose, onCreate, t, workspacesService]);\n\n  const onConfirmName = useAsyncCallback(\n    async (name: string, workspaceFlavour: WorkspaceFlavour) => {\n      track.$.$.$.createWorkspace({ flavour: workspaceFlavour });\n      if (loading) return;\n      setLoading(true);\n\n      // this will be the last step for web for now\n      // fix me later\n      if (runtimeConfig.enablePreloading) {\n        const { meta, defaultDocId } = await buildShowcaseWorkspace(\n          workspacesService,\n          workspaceFlavour,\n          name\n        );\n        onCreate(meta.id, defaultDocId);\n      } else {\n        let defaultDocId: string | undefined = undefined;\n        const { id } = await workspacesService.create(\n          workspaceFlavour,\n          async workspace => {\n            workspace.meta.initialize();\n            workspace.meta.setName(name);\n            const page = workspace.createDoc();\n            defaultDocId = page.id;\n            initEmptyPage(page);\n          }\n        );\n        onCreate(id, defaultDocId);\n      }\n\n      setLoading(false);\n    },\n    [loading, onCreate, workspacesService]\n  );\n\n  const onOpenChange = useCallback(\n    (open: boolean) => {\n      if (!open) {\n        onClose();\n      }\n    },\n    [onClose]\n  );\n\n  if (step === 'name-workspace') {\n    return (\n      <NameWorkspaceContent\n        loading={loading}\n        open={mode !== false && !!step}\n        onOpenChange={onOpenChange}\n        onConfirmName={onConfirmName}\n      />\n    );\n  }\n\n  return (\n    <Modal\n      open={mode !== false && !!step}\n      width={560}\n      onOpenChange={onOpenChange}\n      contentOptions={{\n        style: { padding: '10px' },\n      }}\n    >\n      <div className={styles.header}></div>\n    </Modal>\n  );\n};\n","import { cssVar } from '@toeverything/theme';\n\nexport default function TopSvg() {\n  return (\n    <svg\n      width=\"400\"\n      height=\"220\"\n      viewBox=\"0 0 400 220\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g clipPath=\"url(#clip0_5877_92351)\">\n        <g filter=\"url(#filter0_d_5877_92351)\">\n          <rect\n            y=\"0.0753174\"\n            width=\"400\"\n            height=\"220\"\n            fill={cssVar('backgroundPrimaryColor')}\n          />\n        </g>\n        <rect\n          x=\"16\"\n          y=\"10\"\n          width=\"64\"\n          height=\"32\"\n          rx=\"12\"\n          fill={cssVar('backgroundSecondaryColor')}\n        />\n        <g filter=\"url(#filter1_d_5877_92351)\">\n          <rect\n            x=\"20\"\n            y=\"14\"\n            width=\"24\"\n            height=\"24\"\n            rx=\"8\"\n            fill={cssVar('backgroundPrimaryColor')}\n            shapeRendering=\"crispEdges\"\n          />\n          <g clipPath=\"url(#clip1_5877_92351)\">\n            <path\n              fillRule=\"evenodd\"\n              clipRule=\"evenodd\"\n              d=\"M27.8334 18.7084C26.5677 18.7084 25.5417 19.7344 25.5417 21V31C25.5417 32.2657 26.5677 33.2917 27.8334 33.2917H36.1667C37.4323 33.2917 38.4584 32.2657 38.4584 31V21C38.4584 19.7344 37.4323 18.7084 36.1667 18.7084H27.8334ZM26.7917 21C26.7917 20.4247 27.2581 19.9584 27.8334 19.9584H36.1667C36.742 19.9584 37.2084 20.4247 37.2084 21V31C37.2084 31.5753 36.742 32.0417 36.1667 32.0417H27.8334C27.2581 32.0417 26.7917 31.5753 26.7917 31V21ZM29.5 22.0417C29.1548 22.0417 28.875 22.3215 28.875 22.6667C28.875 23.0119 29.1548 23.2917 29.5 23.2917H32.4167C32.7619 23.2917 33.0417 23.0119 33.0417 22.6667C33.0417 22.3215 32.7619 22.0417 32.4167 22.0417H29.5ZM28.875 25.5834C28.875 25.2382 29.1548 24.9584 29.5 24.9584H34.5C34.8452 24.9584 35.125 25.2382 35.125 25.5834C35.125 25.9286 34.8452 26.2084 34.5 26.2084H29.5C29.1548 26.2084 28.875 25.9286 28.875 25.5834ZM29.5 27.875C29.1548 27.875 28.875 28.1549 28.875 28.5C28.875 28.8452 29.1548 29.125 29.5 29.125H33.6667C34.0119 29.125 34.2917 28.8452 34.2917 28.5C34.2917 28.1549 34.0119 27.875 33.6667 27.875H29.5Z\"\n              fill={cssVar('primaryColor')}\n            />\n          </g>\n        </g>\n        <g clipPath=\"url(#clip2_5877_92351)\">\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M59.9735 19.9584C59.1137 19.9584 58.4167 20.6554 58.4167 21.5152C58.4167 22.3751 59.1137 23.0721 59.9735 23.0721C60.8334 23.0721 61.5304 22.3751 61.5304 21.5152C61.5304 20.6554 60.8334 19.9584 59.9735 19.9584ZM57.1667 21.5152C57.1667 19.965 58.4234 18.7084 59.9735 18.7084C61.4604 18.7084 62.6772 19.8644 62.7742 21.3266C63.4762 21.3273 64.1503 21.3383 64.8517 21.5077C65.6295 21.6956 66.4061 22.0674 67.3305 22.7607L67.3475 22.7734L67.3636 22.7873C68.669 23.9126 69.3224 25.7317 69.326 27.4358H70.7084C71.0536 27.4358 71.3334 27.7156 71.3334 28.0608V31.9881C71.3334 32.3333 71.0536 32.6131 70.7084 32.6131H66.781C66.4359 32.6131 66.156 32.3333 66.156 31.9881V28.0608C66.156 27.7156 66.4359 27.4358 66.781 27.4358H68.076C68.0724 26.0148 67.5229 24.5853 66.563 23.7476C65.7506 23.1409 65.1313 22.8612 64.5582 22.7227C63.9652 22.5795 63.3858 22.5766 62.5918 22.5766V22.5289C62.2585 23.3891 61.5135 24.0442 60.5986 24.2523V27.5056C61.8479 27.7898 62.7804 28.9073 62.7804 30.2427C62.7804 31.7928 61.5237 33.0495 59.9735 33.0495C58.4234 33.0495 57.1667 31.7928 57.1667 30.2427C57.1667 28.9073 58.0992 27.7897 59.3486 27.5056V24.2523C58.0992 23.9682 57.1667 22.8506 57.1667 21.5152ZM59.9735 28.6858C59.1137 28.6858 58.4167 29.3828 58.4167 30.2427C58.4167 31.1025 59.1137 31.7995 59.9735 31.7995C60.8334 31.7995 61.5304 31.1025 61.5304 30.2427C61.5304 29.3828 60.8334 28.6858 59.9735 28.6858ZM67.406 31.3631V28.6858H70.0834V31.3631H67.406Z\"\n            fill={cssVar('iconColor')}\n          />\n        </g>\n        <rect\n          x=\"92\"\n          y=\"10\"\n          width=\"128.528\"\n          height=\"32\"\n          rx=\"12\"\n          fill={cssVar('backgroundSecondaryColor')}\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M238.998 23.4697C239.29 23.1768 239.765 23.1768 240.058 23.4697L244.174 27.5858C244.37 27.781 244.686 27.781 244.881 27.5858L248.998 23.4697C249.29 23.1768 249.765 23.1768 250.058 23.4697C250.351 23.7626 250.351 24.2374 250.058 24.5303L245.942 28.6464C245.161 29.4275 243.895 29.4275 243.114 28.6464L238.998 24.5303C238.705 24.2374 238.705 23.7626 238.998 23.4697Z\"\n          fill={cssVar('iconColor')}\n        />\n        <g filter=\"url(#filter2_di_5877_92351)\">\n          <rect\n            x=\"107.402\"\n            y=\"32.1934\"\n            width=\"211.325\"\n            height=\"221.308\"\n            rx=\"8\"\n            stroke={cssVar('borderColor')}\n            fill={cssVar('backgroundOverlayPanelColor')}\n          />\n        </g>\n        <rect\n          x=\"120\"\n          y=\"49\"\n          width=\"183.726\"\n          height=\"18\"\n          rx=\"4\"\n          fill={cssVar('backgroundSecondaryColor')}\n        />\n        <rect\n          x=\"120\"\n          y=\"77\"\n          width=\"183.726\"\n          height=\"18\"\n          rx=\"4\"\n          fill={cssVar('backgroundSecondaryColor')}\n        />\n        <rect\n          x=\"120\"\n          y=\"105\"\n          width=\"183.726\"\n          height=\"18\"\n          rx=\"4\"\n          fill={cssVar('backgroundSecondaryColor')}\n        />\n        <rect\n          x=\"120\"\n          y=\"133\"\n          width=\"183.726\"\n          height=\"18\"\n          rx=\"4\"\n          fill={cssVar('backgroundSecondaryColor')}\n        />\n        <g clipPath=\"url(#clip3_5877_92351)\">\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M137.973 171.496L137.972 171.497L136.958 172.412H138.25C138.595 172.412 138.875 172.692 138.875 173.037C138.875 173.382 138.595 173.662 138.25 173.662H135.333C134.988 173.662 134.708 173.382 134.708 173.037V170.167C134.708 169.822 134.988 169.542 135.333 169.542C135.678 169.542 135.958 169.822 135.958 170.167V171.631L137.139 170.565C138.428 169.411 140.133 168.708 142 168.708C146.027 168.708 149.292 171.973 149.292 176C149.292 180.027 146.027 183.292 142 183.292C138.529 183.292 135.626 180.867 134.889 177.62C134.813 177.283 135.024 176.948 135.36 176.872C135.697 176.796 136.032 177.007 136.108 177.343C136.719 180.034 139.125 182.042 142 182.042C145.337 182.042 148.042 179.337 148.042 176C148.042 172.663 145.337 169.958 142 169.958C140.453 169.958 139.043 170.539 137.973 171.496Z\"\n            fill={cssVar('iconColor')}\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M142 171.625C142.345 171.625 142.625 171.905 142.625 172.25V175.741L144.942 178.058C145.186 178.302 145.186 178.698 144.942 178.942C144.698 179.186 144.302 179.186 144.058 178.942L141.582 176.466C141.45 176.334 141.375 176.153 141.375 175.966V172.25C141.375 171.905 141.655 171.625 142 171.625Z\"\n            fill={cssVar('iconColor')}\n          />\n        </g>\n        <path\n          d=\"M161.651 170.818L164.673 179.389H164.793L167.815 170.818H169.108L165.369 181H164.097L160.358 170.818H161.651ZM170.535 181V173.364H171.708V181H170.535ZM171.131 172.091C170.903 172.091 170.705 172.013 170.54 171.857C170.377 171.701 170.296 171.514 170.296 171.295C170.296 171.077 170.377 170.889 170.54 170.734C170.705 170.578 170.903 170.5 171.131 170.5C171.36 170.5 171.556 170.578 171.718 170.734C171.884 170.889 171.967 171.077 171.967 171.295C171.967 171.514 171.884 171.701 171.718 171.857C171.556 172.013 171.36 172.091 171.131 172.091ZM177.059 181.159C176.323 181.159 175.688 180.997 175.155 180.672C174.624 180.344 174.215 179.886 173.927 179.3C173.642 178.71 173.499 178.024 173.499 177.241C173.499 176.459 173.642 175.77 173.927 175.173C174.215 174.573 174.616 174.106 175.13 173.771C175.647 173.433 176.25 173.264 176.939 173.264C177.337 173.264 177.73 173.33 178.118 173.463C178.506 173.596 178.858 173.811 179.177 174.109C179.495 174.404 179.748 174.795 179.937 175.283C180.126 175.77 180.221 176.37 180.221 177.082V177.58H174.334V176.565H179.028C179.028 176.134 178.941 175.75 178.769 175.412C178.6 175.074 178.358 174.807 178.043 174.612C177.732 174.416 177.364 174.318 176.939 174.318C176.472 174.318 176.068 174.434 175.726 174.666C175.388 174.895 175.128 175.193 174.946 175.561C174.764 175.929 174.672 176.323 174.672 176.744V177.42C174.672 177.997 174.772 178.486 174.971 178.887C175.173 179.285 175.453 179.588 175.811 179.797C176.169 180.002 176.585 180.105 177.059 180.105C177.367 180.105 177.645 180.062 177.894 179.976C178.146 179.886 178.363 179.754 178.545 179.578C178.728 179.399 178.868 179.177 178.968 178.912L180.101 179.23C179.982 179.615 179.782 179.953 179.5 180.244C179.218 180.533 178.87 180.758 178.456 180.92C178.041 181.08 177.576 181.159 177.059 181.159ZM183.736 181L181.409 173.364H182.642L184.292 179.21H184.372L186.003 173.364H187.256L188.866 179.19H188.946L190.596 173.364H191.829L189.503 181H188.349L186.679 175.134H186.559L184.889 181H183.736ZM197.477 181V170.818H198.71V175.352H204.139V170.818H205.372V181H204.139V176.446H198.71V181H197.477ZM207.681 181V173.364H208.855V181H207.681ZM208.278 172.091C208.049 172.091 207.852 172.013 207.686 171.857C207.524 171.701 207.443 171.514 207.443 171.295C207.443 171.077 207.524 170.889 207.686 170.734C207.852 170.578 208.049 170.5 208.278 170.5C208.507 170.5 208.702 170.578 208.865 170.734C209.03 170.889 209.113 171.077 209.113 171.295C209.113 171.514 209.03 171.701 208.865 171.857C208.702 172.013 208.507 172.091 208.278 172.091ZM216.413 175.074L215.359 175.372C215.292 175.196 215.195 175.026 215.065 174.86C214.939 174.691 214.767 174.552 214.548 174.442C214.33 174.333 214.049 174.278 213.708 174.278C213.241 174.278 212.851 174.386 212.54 174.602C212.232 174.814 212.077 175.084 212.077 175.412C212.077 175.704 212.183 175.934 212.396 176.103C212.608 176.272 212.939 176.413 213.39 176.526L214.523 176.804C215.206 176.97 215.715 177.223 216.05 177.565C216.384 177.903 216.552 178.339 216.552 178.872C216.552 179.31 216.426 179.701 216.174 180.045C215.925 180.39 215.577 180.662 215.13 180.861C214.683 181.06 214.162 181.159 213.569 181.159C212.79 181.159 212.145 180.99 211.635 180.652C211.125 180.314 210.801 179.82 210.665 179.17L211.779 178.892C211.885 179.303 212.086 179.611 212.381 179.817C212.679 180.022 213.068 180.125 213.549 180.125C214.096 180.125 214.53 180.009 214.852 179.777C215.176 179.542 215.339 179.26 215.339 178.932C215.339 178.667 215.246 178.445 215.06 178.266C214.875 178.083 214.59 177.947 214.205 177.858L212.933 177.56C212.233 177.394 211.719 177.137 211.391 176.789C211.067 176.438 210.904 175.999 210.904 175.472C210.904 175.041 211.025 174.66 211.267 174.328C211.512 173.997 211.845 173.737 212.266 173.548C212.691 173.359 213.171 173.264 213.708 173.264C214.464 173.264 215.057 173.43 215.488 173.761C215.922 174.093 216.23 174.53 216.413 175.074ZM221.639 173.364V174.358H217.682V173.364H221.639ZM218.835 171.534H220.008V178.812C220.008 179.144 220.056 179.393 220.153 179.558C220.252 179.721 220.378 179.83 220.53 179.886C220.686 179.939 220.85 179.966 221.023 179.966C221.152 179.966 221.258 179.959 221.341 179.946C221.424 179.929 221.49 179.916 221.54 179.906L221.778 180.96C221.699 180.99 221.588 181.02 221.445 181.05C221.303 181.083 221.122 181.099 220.903 181.099C220.572 181.099 220.247 181.028 219.929 180.886C219.614 180.743 219.352 180.526 219.143 180.234C218.938 179.943 218.835 179.575 218.835 179.131V171.534ZM226.424 181.159C225.735 181.159 225.13 180.995 224.61 180.667C224.093 180.339 223.688 179.88 223.396 179.29C223.108 178.7 222.964 178.01 222.964 177.222C222.964 176.426 223.108 175.732 223.396 175.138C223.688 174.545 224.093 174.085 224.61 173.756C225.13 173.428 225.735 173.264 226.424 173.264C227.114 173.264 227.717 173.428 228.234 173.756C228.754 174.085 229.159 174.545 229.447 175.138C229.739 175.732 229.884 176.426 229.884 177.222C229.884 178.01 229.739 178.7 229.447 179.29C229.159 179.88 228.754 180.339 228.234 180.667C227.717 180.995 227.114 181.159 226.424 181.159ZM226.424 180.105C226.948 180.105 227.379 179.971 227.717 179.702C228.055 179.434 228.305 179.081 228.468 178.643C228.63 178.206 228.711 177.732 228.711 177.222C228.711 176.711 228.63 176.236 228.468 175.795C228.305 175.354 228.055 174.998 227.717 174.726C227.379 174.454 226.948 174.318 226.424 174.318C225.901 174.318 225.47 174.454 225.132 174.726C224.794 174.998 224.543 175.354 224.381 175.795C224.218 176.236 224.137 176.711 224.137 177.222C224.137 177.732 224.218 178.206 224.381 178.643C224.543 179.081 224.794 179.434 225.132 179.702C225.47 179.971 225.901 180.105 226.424 180.105ZM231.675 181V173.364H232.809V174.517H232.888C233.028 174.139 233.28 173.833 233.644 173.597C234.009 173.362 234.42 173.244 234.877 173.244C234.963 173.244 235.071 173.246 235.2 173.249C235.33 173.253 235.427 173.258 235.494 173.264V174.457C235.454 174.447 235.363 174.433 235.22 174.413C235.081 174.389 234.933 174.378 234.778 174.378C234.406 174.378 234.075 174.456 233.783 174.612C233.495 174.764 233.266 174.976 233.097 175.248C232.932 175.516 232.849 175.823 232.849 176.168V181H231.675ZM237.873 183.864C237.674 183.864 237.496 183.847 237.341 183.814C237.185 183.784 237.077 183.754 237.017 183.724L237.316 182.69C237.601 182.763 237.853 182.79 238.071 182.77C238.29 182.75 238.484 182.652 238.653 182.477C238.825 182.304 238.983 182.024 239.125 181.636L239.344 181.04L236.52 173.364H237.793L239.901 179.449H239.98L242.088 173.364H243.361L240.12 182.114C239.974 182.508 239.793 182.835 239.578 183.093C239.362 183.355 239.112 183.549 238.827 183.675C238.545 183.801 238.227 183.864 237.873 183.864ZM249.424 170.818L252.447 179.389H252.566L255.589 170.818H256.881L253.143 181H251.87L248.131 170.818H249.424ZM260.799 181.159C260.063 181.159 259.429 180.997 258.895 180.672C258.365 180.344 257.955 179.886 257.667 179.3C257.382 178.71 257.239 178.024 257.239 177.241C257.239 176.459 257.382 175.77 257.667 175.173C257.955 174.573 258.356 174.106 258.87 173.771C259.387 173.433 259.99 173.264 260.68 173.264C261.077 173.264 261.47 173.33 261.858 173.463C262.246 173.596 262.599 173.811 262.917 174.109C263.235 174.404 263.489 174.795 263.678 175.283C263.866 175.77 263.961 176.37 263.961 177.082V177.58H258.075V176.565H262.768C262.768 176.134 262.682 175.75 262.509 175.412C262.34 175.074 262.098 174.807 261.783 174.612C261.472 174.416 261.104 174.318 260.68 174.318C260.212 174.318 259.808 174.434 259.467 174.666C259.129 174.895 258.868 175.193 258.686 175.561C258.504 175.929 258.413 176.323 258.413 176.744V177.42C258.413 177.997 258.512 178.486 258.711 178.887C258.913 179.285 259.193 179.588 259.551 179.797C259.909 180.002 260.325 180.105 260.799 180.105C261.107 180.105 261.386 180.062 261.634 179.976C261.886 179.886 262.103 179.754 262.286 179.578C262.468 179.399 262.609 179.177 262.708 178.912L263.842 179.23C263.722 179.615 263.522 179.953 263.24 180.244C262.958 180.533 262.61 180.758 262.196 180.92C261.782 181.08 261.316 181.159 260.799 181.159ZM265.746 181V173.364H266.879V174.517H266.959C267.098 174.139 267.35 173.833 267.714 173.597C268.079 173.362 268.49 173.244 268.947 173.244C269.034 173.244 269.141 173.246 269.271 173.249C269.4 173.253 269.498 173.258 269.564 173.264V174.457C269.524 174.447 269.433 174.433 269.29 174.413C269.151 174.389 269.004 174.378 268.848 174.378C268.477 174.378 268.145 174.456 267.854 174.612C267.565 174.764 267.337 174.976 267.168 175.248C267.002 175.516 266.919 175.823 266.919 176.168V181H265.746ZM276.364 175.074L275.31 175.372C275.244 175.196 275.146 175.026 275.017 174.86C274.891 174.691 274.718 174.552 274.499 174.442C274.281 174.333 274.001 174.278 273.659 174.278C273.192 174.278 272.802 174.386 272.491 174.602C272.183 174.814 272.029 175.084 272.029 175.412C272.029 175.704 272.135 175.934 272.347 176.103C272.559 176.272 272.89 176.413 273.341 176.526L274.475 176.804C275.157 176.97 275.666 177.223 276.001 177.565C276.336 177.903 276.503 178.339 276.503 178.872C276.503 179.31 276.377 179.701 276.125 180.045C275.877 180.39 275.529 180.662 275.081 180.861C274.634 181.06 274.113 181.159 273.52 181.159C272.741 181.159 272.097 180.99 271.586 180.652C271.076 180.314 270.753 179.82 270.617 179.17L271.73 178.892C271.836 179.303 272.037 179.611 272.332 179.817C272.63 180.022 273.02 180.125 273.5 180.125C274.047 180.125 274.481 180.009 274.803 179.777C275.128 179.542 275.29 179.26 275.29 178.932C275.29 178.667 275.197 178.445 275.012 178.266C274.826 178.083 274.541 177.947 274.156 177.858L272.884 177.56C272.184 177.394 271.671 177.137 271.343 176.789C271.018 176.438 270.855 175.999 270.855 175.472C270.855 175.041 270.976 174.66 271.218 174.328C271.463 173.997 271.797 173.737 272.218 173.548C272.642 173.359 273.122 173.264 273.659 173.264C274.415 173.264 275.008 173.43 275.439 173.761C275.873 174.093 276.182 174.53 276.364 175.074ZM278.269 181V173.364H279.442V181H278.269ZM278.866 172.091C278.637 172.091 278.44 172.013 278.274 171.857C278.112 171.701 278.031 171.514 278.031 171.295C278.031 171.077 278.112 170.889 278.274 170.734C278.44 170.578 278.637 170.5 278.866 170.5C279.094 170.5 279.29 170.578 279.452 170.734C279.618 170.889 279.701 171.077 279.701 171.295C279.701 171.514 279.618 171.701 279.452 171.857C279.29 172.013 279.094 172.091 278.866 172.091ZM284.694 181.159C284.004 181.159 283.399 180.995 282.879 180.667C282.362 180.339 281.958 179.88 281.666 179.29C281.378 178.7 281.233 178.01 281.233 177.222C281.233 176.426 281.378 175.732 281.666 175.138C281.958 174.545 282.362 174.085 282.879 173.756C283.399 173.428 284.004 173.264 284.694 173.264C285.383 173.264 285.986 173.428 286.503 173.756C287.024 174.085 287.428 174.545 287.716 175.138C288.008 175.732 288.154 176.426 288.154 177.222C288.154 178.01 288.008 178.7 287.716 179.29C287.428 179.88 287.024 180.339 286.503 180.667C285.986 180.995 285.383 181.159 284.694 181.159ZM284.694 180.105C285.217 180.105 285.648 179.971 285.986 179.702C286.324 179.434 286.575 179.081 286.737 178.643C286.899 178.206 286.981 177.732 286.981 177.222C286.981 176.711 286.899 176.236 286.737 175.795C286.575 175.354 286.324 174.998 285.986 174.726C285.648 174.454 285.217 174.318 284.694 174.318C284.17 174.318 283.739 174.454 283.401 174.726C283.063 174.998 282.813 175.354 282.65 175.795C282.488 176.236 282.407 176.711 282.407 177.222C282.407 177.732 282.488 178.206 282.65 178.643C282.813 179.081 283.063 179.434 283.401 179.702C283.739 179.971 284.17 180.105 284.694 180.105ZM291.118 176.406V181H289.945V173.364H291.078V174.557H291.178C291.357 174.169 291.629 173.857 291.993 173.622C292.358 173.384 292.828 173.264 293.405 173.264C293.922 173.264 294.375 173.37 294.762 173.582C295.15 173.791 295.452 174.109 295.667 174.537C295.883 174.961 295.99 175.498 295.99 176.148V181H294.817V176.227C294.817 175.627 294.661 175.16 294.35 174.825C294.038 174.487 293.611 174.318 293.067 174.318C292.693 174.318 292.358 174.399 292.063 174.562C291.771 174.724 291.541 174.961 291.372 175.273C291.203 175.584 291.118 175.962 291.118 176.406Z\"\n          fill={cssVar('textPrimaryColor')}\n        />\n        <rect\n          x=\"120\"\n          y=\"201\"\n          width=\"183.726\"\n          height=\"18\"\n          rx=\"4\"\n          fill={cssVar('backgroundSecondaryColor')}\n        />\n      </g>\n      <defs>\n        <filter\n          id=\"filter0_d_5877_92351\"\n          x=\"-7.65691\"\n          y=\"-7.5816\"\n          width=\"415.314\"\n          height=\"235.314\"\n          filterUnits=\"userSpaceOnUse\"\n          colorInterpolationFilters=\"sRGB\"\n        >\n          <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n          <feColorMatrix\n            in=\"SourceAlpha\"\n            type=\"matrix\"\n            values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n            result=\"hardAlpha\"\n          />\n          <feOffset />\n          <feGaussianBlur stdDeviation=\"3.82846\" />\n          <feComposite in2=\"hardAlpha\" operator=\"out\" />\n          <feColorMatrix\n            type=\"matrix\"\n            values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0\"\n          />\n          <feBlend\n            mode=\"normal\"\n            in2=\"BackgroundImageFix\"\n            result=\"effect1_dropShadow_5877_92351\"\n          />\n          <feBlend\n            mode=\"normal\"\n            in=\"SourceGraphic\"\n            in2=\"effect1_dropShadow_5877_92351\"\n            result=\"shape\"\n          />\n        </filter>\n        <filter\n          id=\"filter1_d_5877_92351\"\n          x=\"16\"\n          y=\"10\"\n          width=\"32\"\n          height=\"32\"\n          filterUnits=\"userSpaceOnUse\"\n          colorInterpolationFilters=\"sRGB\"\n        >\n          <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n          <feColorMatrix\n            in=\"SourceAlpha\"\n            type=\"matrix\"\n            values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n            result=\"hardAlpha\"\n          />\n          <feOffset />\n          <feGaussianBlur stdDeviation=\"2\" />\n          <feComposite in2=\"hardAlpha\" operator=\"out\" />\n          <feColorMatrix\n            type=\"matrix\"\n            values=\"0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.14 0\"\n          />\n          <feBlend\n            mode=\"normal\"\n            in2=\"BackgroundImageFix\"\n            result=\"effect1_dropShadow_5877_92351\"\n          />\n          <feBlend\n            mode=\"normal\"\n            in=\"SourceGraphic\"\n            in2=\"effect1_dropShadow_5877_92351\"\n            result=\"shape\"\n          />\n        </filter>\n        <filter\n          id=\"filter2_di_5877_92351\"\n          x=\"95.4016\"\n          y=\"20.1934\"\n          width=\"235.325\"\n          height=\"245.308\"\n          filterUnits=\"userSpaceOnUse\"\n          colorInterpolationFilters=\"sRGB\"\n        >\n          <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n          <feColorMatrix\n            in=\"SourceAlpha\"\n            type=\"matrix\"\n            values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n            result=\"hardAlpha\"\n          />\n          <feOffset />\n          <feGaussianBlur stdDeviation=\"6\" />\n          <feComposite in2=\"hardAlpha\" operator=\"out\" />\n          <feColorMatrix\n            type=\"matrix\"\n            values=\"0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.14 0\"\n          />\n          <feBlend\n            mode=\"normal\"\n            in2=\"BackgroundImageFix\"\n            result=\"effect1_dropShadow_5877_92351\"\n          />\n          <feBlend\n            mode=\"normal\"\n            in=\"SourceGraphic\"\n            in2=\"effect1_dropShadow_5877_92351\"\n            result=\"shape\"\n          />\n          <feColorMatrix\n            in=\"SourceAlpha\"\n            type=\"matrix\"\n            values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n            result=\"hardAlpha\"\n          />\n          <feMorphology\n            radius=\"0.5\"\n            operator=\"erode\"\n            in=\"SourceAlpha\"\n            result=\"effect2_innerShadow_5877_92351\"\n          />\n          <feOffset />\n          <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n          <feColorMatrix\n            type=\"matrix\"\n            values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\"\n          />\n          <feBlend\n            mode=\"normal\"\n            in2=\"shape\"\n            result=\"effect2_innerShadow_5877_92351\"\n          />\n        </filter>\n        <clipPath id=\"clip0_5877_92351\">\n          <rect width=\"400\" height=\"220\" fill=\"white\" />\n        </clipPath>\n        <clipPath id=\"clip1_5877_92351\">\n          <rect\n            width=\"20\"\n            height=\"20\"\n            fill=\"white\"\n            transform=\"translate(22 16)\"\n          />\n        </clipPath>\n        <clipPath id=\"clip2_5877_92351\">\n          <rect\n            width=\"20\"\n            height=\"20\"\n            fill=\"white\"\n            transform=\"translate(54 16)\"\n          />\n        </clipPath>\n        <clipPath id=\"clip3_5877_92351\">\n          <rect\n            width=\"20\"\n            height=\"20\"\n            fill=\"white\"\n            transform=\"translate(132 166)\"\n          />\n        </clipPath>\n      </defs>\n    </svg>\n  );\n}\n","import { OverlayModal } from '@affine/component';\nimport { openHistoryTipsModalAtom } from '@affine/core/atoms';\nimport { useEnableCloud } from '@affine/core/hooks/affine/use-enable-cloud';\nimport { useI18n } from '@affine/i18n';\nimport { useService, WorkspaceService } from '@toeverything/infra';\nimport { useAtom } from 'jotai';\nimport { useCallback } from 'react';\n\nimport TopSvg from './top-svg';\n\nexport const HistoryTipsModal = () => {\n  const t = useI18n();\n  const currentWorkspace = useService(WorkspaceService).workspace;\n  const [open, setOpen] = useAtom(openHistoryTipsModalAtom);\n  const confirmEnableCloud = useEnableCloud();\n\n  const handleConfirm = useCallback(() => {\n    setOpen(false);\n    confirmEnableCloud(currentWorkspace);\n  }, [confirmEnableCloud, currentWorkspace, setOpen]);\n\n  return (\n    <OverlayModal\n      open={open}\n      topImage={<TopSvg />}\n      title={t['com.affine.history-vision.tips-modal.title']()}\n      onOpenChange={setOpen}\n      description={t['com.affine.history-vision.tips-modal.description']()}\n      cancelText={t['com.affine.history-vision.tips-modal.cancel']()}\n      confirmButtonOptions={{\n        variant: 'primary',\n      }}\n      onConfirm={handleConfirm}\n      confirmText={t['com.affine.history-vision.tips-modal.confirm']()}\n    />\n  );\n};\n","import { OverlayModal } from '@affine/component';\nimport { openIssueFeedbackModalAtom } from '@affine/core/atoms';\nimport { useI18n } from '@affine/i18n';\nimport { useAtom } from 'jotai';\n\nexport const IssueFeedbackModal = () => {\n  const t = useI18n();\n  const [open, setOpen] = useAtom(openIssueFeedbackModalAtom);\n\n  return (\n    <OverlayModal\n      open={open}\n      topImage={\n        <video\n          width={400}\n          height={300}\n          style={{ objectFit: 'cover' }}\n          src={'/static/newIssue.mp4'}\n          autoPlay\n          loop\n        />\n      }\n      title={t['com.affine.issue-feedback.title']()}\n      onOpenChange={setOpen}\n      description={t['com.affine.issue-feedback.description']()}\n      cancelText={t['com.affine.issue-feedback.cancel']()}\n      to={`${runtimeConfig.githubUrl}/issues/new/choose`}\n      confirmText={t['com.affine.issue-feedback.confirm']()}\n      confirmButtonOptions={{\n        variant: 'primary',\n      }}\n      external\n    />\n  );\n};\n","import { ConfirmModal } from '@affine/component/ui/modal';\nimport { openQuotaModalAtom, openSettingModalAtom } from '@affine/core/atoms';\nimport { track } from '@affine/core/mixpanel';\nimport { UserQuotaService } from '@affine/core/modules/cloud';\nimport { WorkspacePermissionService } from '@affine/core/modules/permissions';\nimport { WorkspaceQuotaService } from '@affine/core/modules/quota';\nimport { useI18n } from '@affine/i18n';\nimport { useLiveData, useService, WorkspaceService } from '@toeverything/infra';\nimport bytes from 'bytes';\nimport { useAtom, useSetAtom } from 'jotai';\nimport { useCallback, useEffect, useMemo } from 'react';\n\nexport const CloudQuotaModal = () => {\n  const t = useI18n();\n  const currentWorkspace = useService(WorkspaceService).workspace;\n  const [open, setOpen] = useAtom(openQuotaModalAtom);\n  const workspaceQuotaService = useService(WorkspaceQuotaService);\n  useEffect(() => {\n    workspaceQuotaService.quota.revalidate();\n  }, [workspaceQuotaService]);\n  const workspaceQuota = useLiveData(workspaceQuotaService.quota.quota$);\n  const permissionService = useService(WorkspacePermissionService);\n  const isOwner = useLiveData(permissionService.permission.isOwner$);\n  useEffect(() => {\n    // revalidate permission\n    permissionService.permission.revalidate();\n  }, [permissionService]);\n\n  const quotaService = useService(UserQuotaService);\n  const userQuota = useLiveData(\n    quotaService.quota.quota$.map(q =>\n      q\n        ? {\n            name: q.humanReadable.name,\n            blobLimit: q.humanReadable.blobLimit,\n          }\n        : null\n    )\n  );\n\n  const isFreePlanOwner = useMemo(() => {\n    return isOwner && userQuota?.name === 'free';\n  }, [isOwner, userQuota]);\n\n  const setSettingModalAtom = useSetAtom(openSettingModalAtom);\n  const handleUpgradeConfirm = useCallback(() => {\n    setSettingModalAtom({\n      open: true,\n      activeTab: 'plans',\n      scrollAnchor: 'cloudPricingPlan',\n    });\n\n    track.$.paywall.storage.viewPlans();\n    setOpen(false);\n  }, [setOpen, setSettingModalAtom]);\n\n  const description = useMemo(() => {\n    if (userQuota && isFreePlanOwner) {\n      return t['com.affine.payment.blob-limit.description.owner.free']({\n        planName: userQuota.name,\n        currentQuota: userQuota.blobLimit,\n        upgradeQuota: '100MB',\n      });\n    }\n    if (isOwner && userQuota && userQuota.name.toLowerCase() === 'pro') {\n      return t['com.affine.payment.blob-limit.description.owner.pro']({\n        planName: userQuota.name,\n        quota: userQuota.blobLimit,\n      });\n    }\n    if (workspaceQuota) {\n      return t['com.affine.payment.blob-limit.description.member']({\n        quota: workspaceQuota.humanReadable.blobLimit,\n      });\n    } else {\n      // loading\n      return null;\n    }\n  }, [userQuota, isFreePlanOwner, isOwner, workspaceQuota, t]);\n\n  useEffect(() => {\n    if (!workspaceQuota) {\n      return;\n    }\n    currentWorkspace.engine.blob.singleBlobSizeLimit = bytes.parse(\n      workspaceQuota.blobLimit.toString()\n    );\n\n    const disposable = currentWorkspace.engine.blob.onAbortLargeBlob.on(() => {\n      setOpen(true);\n    });\n    return () => {\n      disposable?.dispose();\n    };\n  }, [currentWorkspace.engine.blob, setOpen, workspaceQuota]);\n\n  return (\n    <ConfirmModal\n      open={open}\n      title={t['com.affine.payment.blob-limit.title']()}\n      onOpenChange={setOpen}\n      description={description}\n      cancelButtonOptions={{\n        hidden: !isFreePlanOwner,\n      }}\n      onConfirm={handleUpgradeConfirm}\n      confirmText={\n        isFreePlanOwner ? t['com.affine.payment.upgrade']() : t['Got it']()\n      }\n      confirmButtonOptions={{\n        variant: 'primary',\n      }}\n    />\n  );\n};\n","import { ConfirmModal } from '@affine/component/ui/modal';\nimport { openQuotaModalAtom } from '@affine/core/atoms';\nimport { useI18n } from '@affine/i18n';\nimport { useService, WorkspaceService } from '@toeverything/infra';\nimport { useAtom } from 'jotai';\nimport { useCallback, useEffect } from 'react';\n\nexport const LocalQuotaModal = () => {\n  const t = useI18n();\n  const currentWorkspace = useService(WorkspaceService).workspace;\n  const [open, setOpen] = useAtom(openQuotaModalAtom);\n\n  const onConfirm = useCallback(() => {\n    setOpen(false);\n  }, [setOpen]);\n\n  useEffect(() => {\n    const disposable = currentWorkspace.engine.blob.onAbortLargeBlob.on(() => {\n      setOpen(true);\n    });\n    return () => {\n      disposable?.dispose();\n    };\n  }, [currentWorkspace.engine.blob.onAbortLargeBlob, setOpen]);\n\n  return (\n    <ConfirmModal\n      open={open}\n      title={t['com.affine.payment.blob-limit.title']()}\n      description={t['com.affine.payment.blob-limit.description.local']({\n        quota: '100MB',\n      })}\n      onOpenChange={setOpen}\n      cancelButtonOptions={{\n        hidden: true,\n      }}\n      onConfirm={onConfirm}\n      confirmText={t['Got it']()}\n      confirmButtonOptions={{\n        variant: 'primary',\n      }}\n    />\n  );\n};\n","import type { HTMLAttributes, ReactNode } from 'react';\n\nimport { settingHeader } from './share.css';\n\ninterface SettingHeaderProps\n  extends Omit<HTMLAttributes<HTMLDivElement>, 'title'> {\n  title: ReactNode;\n  subtitle?: ReactNode;\n}\n\nexport const SettingHeader = ({\n  title,\n  subtitle,\n  ...otherProps\n}: SettingHeaderProps) => {\n  return (\n    <div className={settingHeader} {...otherProps}>\n      <div className=\"title\">{title}</div>\n      {subtitle ? <div className=\"subtitle\">{subtitle}</div> : null}\n    </div>\n  );\n};\n","import \"../component/src/components/setting-components/share.css.ts.vanilla.css!=!../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../component/src/components/setting-components/share.css.ts.vanilla.css\\\",\\\"source\\\":\\\"#H4sIAAAAAAAACq1U0W6jMBB8z1dYlU5qpDMCLqki92MqgxeyV2Mje2lIT/33kw0hJeHatLoHJLza3RnP7Dp52vxqjW5S9mfFWGGdAscLS2QbwbK2Z95qVOxFunvOZVWhAT5mlVZbt35cMdZKpdDU57qHtg/xRroazRTONyH8tkomzISQNEToyhriHl9BzMFivJAeIlI8HQDrPQn2kKYhpkPafowtYPiuOMOcqJJtBdsMNC/p74bwh4x6v77CPl07CnNRRNAT91Bao6Q7TtqdiWb/04B8c5MBmdDSE7cVp2MLSwSMNbAEkC50T+fXudVb39zmbLb7srpXFAeHzizzSO9Spe0nQK3DZg4zquakws6PA/QOJaGDDdkRTaFvtTwKVmmIOL87T1iFdobAkGC+lSXwAugAYEKG1FgbjgSNF6wEQ+Bm/a9t/MiaPFHoZaFBDRthPRJaI5gDLQlfYDlZCFkRuFgzUb27e5y1kIW3uqM4MxoqGiclblv8O6CivWBZmv4Ix8nc8VzI8rl2tjOKj/K7upD3+Xb78/SlyXY99zAJSJO+QVbBssH9ns8Alzy5ruZ+79A8T1M+Ndld9GCJkc2i4PkNT8g/B3+GoMCXny/R+Bx96+XJWeIC+hcmNKoERr1/Gga7s3F5LnV8+wvnhGWuaQYAAA==\\\"}!../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var settingHeader = '_43pnlm0';\nexport var settingRow = '_43pnlm2';\nexport var wrapper = '_43pnlm1';","import clsx from 'clsx';\nimport type { CSSProperties, PropsWithChildren, ReactNode } from 'react';\n\nimport { settingRow } from './share.css';\n\nexport type SettingRowProps = PropsWithChildren<{\n  name: ReactNode;\n  desc: ReactNode;\n  style?: CSSProperties;\n  onClick?: () => void;\n  spreadCol?: boolean;\n  'data-testid'?: string;\n  disabled?: boolean;\n  className?: string;\n}>;\n\nexport const SettingRow = ({\n  name,\n  desc,\n  children,\n  onClick,\n  style,\n  spreadCol = true,\n  disabled = false,\n  className,\n  ...props\n}: PropsWithChildren<SettingRowProps>) => {\n  return (\n    <div\n      className={clsx(\n        settingRow,\n        {\n          'two-col': spreadCol,\n          disabled,\n        },\n        className\n      )}\n      style={style}\n      onClick={onClick}\n      data-testid={props['data-testid']}\n    >\n      <div className=\"left-col\">\n        <div className=\"name\">{name}</div>\n        <div className=\"desc\">{desc}</div>\n      </div>\n      {spreadCol ? <div className=\"right-col\">{children}</div> : children}\n    </div>\n  );\n};\n","import type { PropsWithChildren, ReactNode } from 'react';\n\nimport { wrapper } from './share.css';\n\ninterface SettingWrapperProps {\n  title?: ReactNode;\n}\n\nexport const SettingWrapper = ({\n  title,\n  children,\n}: PropsWithChildren<SettingWrapperProps>) => {\n  return (\n    <div className={wrapper}>\n      {title ? <div className=\"title\">{title}</div> : null}\n      {children}\n    </div>\n  );\n};\n","import { Skeleton } from '../../ui/skeleton';\nimport { SettingHeader } from './setting-header';\nimport { SettingRow } from './setting-row';\nimport { SettingWrapper } from './wrapper';\n\nexport const WorkspaceDetailSkeleton = () => {\n  return (\n    <>\n      <SettingHeader title={<Skeleton />} subtitle={<Skeleton />} />\n\n      {Array.from({ length: 3 }, (_, index) => (\n        <SettingWrapper title={<Skeleton />} key={index}>\n          <SettingRow\n            name={<Skeleton />}\n            desc={<Skeleton />}\n            spreadCol={false}\n          ></SettingRow>\n        </SettingWrapper>\n      ))}\n    </>\n  );\n};\n","import { FlexWrapper } from '../../ui/layout';\nimport { Skeleton } from '../../ui/skeleton';\n\nexport const WorkspaceListItemSkeleton = () => {\n  return (\n    <FlexWrapper\n      alignItems=\"center\"\n      style={{ padding: '0 24px', height: 30, marginBottom: 4 }}\n    >\n      <Skeleton\n        variant=\"circular\"\n        width={14}\n        height={14}\n        style={{ marginRight: 10 }}\n      />\n      <Skeleton\n        variant=\"rectangular\"\n        height={16}\n        width={0}\n        style={{ flexGrow: 1 }}\n      />\n    </FlexWrapper>\n  );\n};\n\nexport const WorkspaceListSkeleton = () => {\n  return (\n    <>\n      {Array.from({ length: 5 }, (_, index) => (\n        <WorkspaceListItemSkeleton key={index} />\n      ))}\n    </>\n  );\n};\n","import { Button } from '@affine/component/ui/button';\nimport { useI18n } from '@affine/i18n';\nimport type { ChangeEvent, PropsWithChildren } from 'react';\nimport { useRef } from 'react';\n\nexport interface UploadProps {\n  uploadType?: string;\n  accept?: string;\n  fileChange: (file: File) => void;\n  disabled?: boolean;\n}\n\nexport const Upload = ({\n  fileChange,\n  accept,\n  children,\n  disabled,\n  ...props\n}: PropsWithChildren<UploadProps>) => {\n  const t = useI18n();\n  const input_ref = useRef<HTMLInputElement>(null);\n  const _chooseFile = () => {\n    if (input_ref.current) {\n      input_ref.current.click();\n    }\n  };\n  const _handleInputChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files;\n    if (!files) {\n      return;\n    }\n    const file = files[0];\n    fileChange(file);\n    if (input_ref.current) {\n      input_ref.current.value = '';\n    }\n  };\n\n  if (disabled) {\n    return children ?? <Button>{t['Upload']()}</Button>;\n  }\n\n  return (\n    <div style={{ display: 'flex' }} onClick={_chooseFile}>\n      {children ?? <Button>{t['Upload']()}</Button>}\n      <input\n        ref={input_ref}\n        type=\"file\"\n        style={{ display: 'none' }}\n        onChange={_handleInputChange}\n        accept={accept}\n        {...props}\n      />\n    </div>\n  );\n};\n","import { Button, type ButtonProps, useConfirmModal } from '@affine/component';\nimport { useDowngradeNotify } from '@affine/core/components/affine/subscription-landing/notify';\nimport { getDowngradeQuestionnaireLink } from '@affine/core/hooks/affine/use-subscription-notify';\nimport { useAsyncCallback } from '@affine/core/hooks/affine-async-hooks';\nimport { track } from '@affine/core/mixpanel';\nimport { AuthService, SubscriptionService } from '@affine/core/modules/cloud';\nimport { SubscriptionPlan } from '@affine/graphql';\nimport { useI18n } from '@affine/i18n';\nimport { useService } from '@toeverything/infra';\nimport { nanoid } from 'nanoid';\nimport { useState } from 'react';\n\nexport const AICancel = (btnProps: ButtonProps) => {\n  const t = useI18n();\n  const [isMutating, setMutating] = useState(false);\n  const [idempotencyKey, setIdempotencyKey] = useState(nanoid());\n  const subscription = useService(SubscriptionService).subscription;\n  const authService = useService(AuthService);\n\n  const { openConfirmModal } = useConfirmModal();\n  const downgradeNotify = useDowngradeNotify();\n\n  const cancel = useAsyncCallback(async () => {\n    const aiSubscription = subscription.ai$.value;\n    if (aiSubscription) {\n      track.$.settingsPanel.plans.cancelSubscription({\n        plan: SubscriptionPlan.AI,\n        recurring: aiSubscription.recurring,\n      });\n    }\n    openConfirmModal({\n      title: t['com.affine.payment.ai.action.cancel.confirm.title'](),\n      description:\n        t['com.affine.payment.ai.action.cancel.confirm.description'](),\n      reverseFooter: true,\n      confirmText:\n        t['com.affine.payment.ai.action.cancel.confirm.confirm-text'](),\n      confirmButtonOptions: {\n        variant: 'secondary',\n      },\n      cancelText:\n        t['com.affine.payment.ai.action.cancel.confirm.cancel-text'](),\n      cancelButtonOptions: {\n        variant: 'primary',\n      },\n      onConfirm: async () => {\n        try {\n          setMutating(true);\n          await subscription.cancelSubscription(\n            idempotencyKey,\n            SubscriptionPlan.AI\n          );\n          setIdempotencyKey(nanoid());\n          track.$.settingsPanel.plans.confirmCancelingSubscription({\n            plan: SubscriptionPlan.AI,\n            recurring: aiSubscription?.recurring,\n          });\n          const account = authService.session.account$.value;\n          const prevRecurring = subscription.ai$.value?.recurring;\n          if (account && prevRecurring) {\n            downgradeNotify(\n              getDowngradeQuestionnaireLink({\n                email: account.email,\n                name: account.info?.name,\n                id: account.id,\n                plan: SubscriptionPlan.AI,\n                recurring: prevRecurring,\n              })\n            );\n          }\n        } finally {\n          setMutating(false);\n        }\n      },\n    });\n  }, [\n    subscription,\n    openConfirmModal,\n    t,\n    idempotencyKey,\n    authService.session.account$.value,\n    downgradeNotify,\n  ]);\n\n  return (\n    <Button\n      onClick={cancel}\n      loading={isMutating}\n      variant=\"primary\"\n      {...btnProps}\n    >\n      {t['com.affine.payment.ai.action.cancel.button-label']()}\n    </Button>\n  );\n};\n","import { Button, type ButtonProps } from '@affine/component';\nimport { authAtom } from '@affine/core/atoms';\nimport { useI18n } from '@affine/i18n';\nimport { useSetAtom } from 'jotai';\nimport { useCallback } from 'react';\n\nexport const AILogin = (btnProps: ButtonProps) => {\n  const t = useI18n();\n  const setOpen = useSetAtom(authAtom);\n\n  const onClickSignIn = useCallback(() => {\n    setOpen(state => ({\n      ...state,\n      openModal: true,\n    }));\n  }, [setOpen]);\n\n  return (\n    <Button onClick={onClickSignIn} variant=\"primary\" {...btnProps}>\n      {t['com.affine.payment.ai.action.login.button-label']()}\n    </Button>\n  );\n};\n","import {\n  Button,\n  type ButtonProps,\n  notify,\n  useConfirmModal,\n} from '@affine/component';\nimport { useAsyncCallback } from '@affine/core/hooks/affine-async-hooks';\nimport { track } from '@affine/core/mixpanel';\nimport { SubscriptionService } from '@affine/core/modules/cloud';\nimport { SubscriptionPlan } from '@affine/graphql';\nimport { useI18n } from '@affine/i18n';\nimport { SingleSelectSelectSolidIcon } from '@blocksuite/icons/rc';\nimport { useService } from '@toeverything/infra';\nimport { cssVar } from '@toeverything/theme';\nimport { nanoid } from 'nanoid';\nimport { useState } from 'react';\n\nexport const AIResume = (btnProps: ButtonProps) => {\n  const t = useI18n();\n  const [idempotencyKey, setIdempotencyKey] = useState(nanoid());\n  const subscription = useService(SubscriptionService).subscription;\n\n  const [isMutating, setIsMutating] = useState(false);\n\n  const { openConfirmModal } = useConfirmModal();\n\n  const resume = useAsyncCallback(async () => {\n    const aiSubscription = subscription.ai$.value;\n    if (aiSubscription) {\n      track.$.settingsPanel.plans.resumeSubscription({\n        plan: SubscriptionPlan.AI,\n        recurring: aiSubscription.recurring,\n      });\n    }\n\n    openConfirmModal({\n      title: t['com.affine.payment.ai.action.resume.confirm.title'](),\n      description:\n        t['com.affine.payment.ai.action.resume.confirm.description'](),\n      confirmText:\n        t['com.affine.payment.ai.action.resume.confirm.confirm-text'](),\n      confirmButtonOptions: {\n        variant: 'primary',\n      },\n      cancelText:\n        t['com.affine.payment.ai.action.resume.confirm.cancel-text'](),\n      onConfirm: async () => {\n        setIsMutating(true);\n        await subscription.resumeSubscription(\n          idempotencyKey,\n          SubscriptionPlan.AI\n        );\n        if (aiSubscription) {\n          track.$.settingsPanel.plans.confirmResumingSubscription({\n            plan: aiSubscription.plan,\n            recurring: aiSubscription.recurring,\n          });\n        }\n        notify({\n          icon: <SingleSelectSelectSolidIcon />,\n          iconColor: cssVar('processingColor'),\n          title:\n            t['com.affine.payment.ai.action.resume.confirm.notify.title'](),\n          message:\n            t['com.affine.payment.ai.action.resume.confirm.notify.msg'](),\n        });\n        setIdempotencyKey(nanoid());\n      },\n    });\n  }, [subscription, openConfirmModal, t, idempotencyKey]);\n\n  return (\n    <Button\n      loading={isMutating}\n      onClick={resume}\n      variant=\"primary\"\n      {...btnProps}\n    >\n      {t['com.affine.payment.ai.action.resume.button-label']()}\n    </Button>\n  );\n};\n","import { Button, type ButtonProps, Skeleton } from '@affine/component';\nimport { generateSubscriptionCallbackLink } from '@affine/core/hooks/affine/use-subscription-notify';\nimport { useAsyncCallback } from '@affine/core/hooks/affine-async-hooks';\nimport { track } from '@affine/core/mixpanel';\nimport { AuthService, SubscriptionService } from '@affine/core/modules/cloud';\nimport { popupWindow } from '@affine/core/utils';\nimport { SubscriptionPlan, SubscriptionRecurring } from '@affine/graphql';\nimport { useI18n } from '@affine/i18n';\nimport { useLiveData, useService } from '@toeverything/infra';\nimport { nanoid } from 'nanoid';\nimport { useEffect, useState } from 'react';\n\nexport interface AISubscribeProps extends ButtonProps {\n  displayedFrequency?: 'yearly' | 'monthly';\n}\n\nexport const AISubscribe = ({\n  displayedFrequency = 'yearly',\n  ...btnProps\n}: AISubscribeProps) => {\n  const [idempotencyKey, setIdempotencyKey] = useState(nanoid());\n  const [isMutating, setMutating] = useState(false);\n  const [isOpenedExternalWindow, setOpenedExternalWindow] = useState(false);\n  const authService = useService(AuthService);\n\n  const subscriptionService = useService(SubscriptionService);\n  const price = useLiveData(subscriptionService.prices.aiPrice$);\n  useEffect(() => {\n    subscriptionService.prices.revalidate();\n  }, [subscriptionService]);\n\n  const t = useI18n();\n\n  useEffect(() => {\n    if (isOpenedExternalWindow) {\n      // when the external window is opened, revalidate the subscription when window get focus\n      window.addEventListener(\n        'focus',\n        subscriptionService.subscription.revalidate\n      );\n      return () => {\n        window.removeEventListener(\n          'focus',\n          subscriptionService.subscription.revalidate\n        );\n      };\n    }\n    return;\n  }, [isOpenedExternalWindow, subscriptionService]);\n\n  const subscribe = useAsyncCallback(async () => {\n    setMutating(true);\n    track.$.settingsPanel.plans.checkout({\n      plan: SubscriptionPlan.AI,\n      recurring: SubscriptionRecurring.Yearly,\n    });\n    try {\n      const session = await subscriptionService.createCheckoutSession({\n        recurring: SubscriptionRecurring.Yearly,\n        idempotencyKey,\n        plan: SubscriptionPlan.AI,\n        coupon: null,\n        successCallbackLink: generateSubscriptionCallbackLink(\n          authService.session.account$.value,\n          SubscriptionPlan.AI,\n          SubscriptionRecurring.Yearly\n        ),\n      });\n      popupWindow(session);\n      setOpenedExternalWindow(true);\n      setIdempotencyKey(nanoid());\n    } finally {\n      setMutating(false);\n    }\n  }, [authService, idempotencyKey, subscriptionService]);\n\n  if (!price || !price.yearlyAmount) {\n    return (\n      <Skeleton\n        className={btnProps.className}\n        width={160}\n        height={36}\n        style={{\n          borderRadius: 18,\n          ...btnProps.style,\n        }}\n      />\n    );\n  }\n\n  const priceReadable = `$${(\n    price.yearlyAmount /\n    100 /\n    (displayedFrequency === 'yearly' ? 1 : 12)\n  ).toFixed(2)}`;\n  const priceFrequency =\n    displayedFrequency === 'yearly'\n      ? t['com.affine.payment.billing-setting.year']()\n      : t['com.affine.payment.billing-setting.month']();\n\n  return (\n    <Button\n      loading={isMutating}\n      onClick={subscribe}\n      variant=\"primary\"\n      {...btnProps}\n    >\n      {btnProps.children ?? `${priceReadable} / ${priceFrequency}`}\n      {displayedFrequency === 'monthly' ? (\n        <span\n          style={{\n            fontSize: 10,\n            opacity: 0.75,\n            letterSpacing: -0.2,\n            paddingLeft: 4,\n          }}\n        >\n          {t['com.affine.payment.ai.subscribe.billed-annually']()}\n        </span>\n      ) : null}\n    </Button>\n  );\n};\n","import \"../core/src/components/affine/setting-modal/account-setting/storage-progress.css.ts.vanilla.css!=!../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/account-setting/storage-progress.css.ts.vanilla.css\\\",\\\"source\\\":\\\"Lnhod25hZjAgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KLnhod25hZjEgewogIGZsZXgtZ3JvdzogMTsKICBtYXJnaW4tcmlnaHQ6IDIwcHg7Cn0KLnhod25hZjEgLnN0b3JhZ2UtcHJvZ3Jlc3MtZGVzYyB7CiAgZm9udC1zaXplOiB2YXIoLS1hZmZpbmUtZm9udC14cyk7CiAgY29sb3I6IHZhcigtLWFmZmluZS10ZXh0LXNlY29uZGFyeS1jb2xvcik7CiAgaGVpZ2h0OiAyMHB4OwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgbWFyZ2luLWJvdHRvbTogMnB4Owp9Ci54aHduYWYxIC5zdG9yYWdlLXByb2dyZXNzLWJhci13cmFwcGVyIHsKICBoZWlnaHQ6IDhweDsKICBib3JkZXItcmFkaXVzOiA0cHg7CiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYWZmaW5lLWJsYWNrLTEwKTsKICBvdmVyZmxvdzogaGlkZGVuOwp9Ci54aHduYWYyIHsKICBoZWlnaHQ6IDEwMCU7Cn0=\\\"}!../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var storageProgressBar = 'xhwnaf2';\nexport var storageProgressContainer = 'xhwnaf0';\nexport var storageProgressWrapper = 'xhwnaf1';","import { Button, ErrorMessage, Skeleton } from '@affine/component';\nimport { SettingRow } from '@affine/component/setting-components';\nimport { openSettingModalAtom } from '@affine/core/atoms';\nimport { track } from '@affine/core/mixpanel';\nimport {\n  ServerConfigService,\n  SubscriptionService,\n  UserCopilotQuotaService,\n} from '@affine/core/modules/cloud';\nimport { SubscriptionPlan } from '@affine/graphql';\nimport { useI18n } from '@affine/i18n';\nimport { useLiveData, useService } from '@toeverything/infra';\nimport { cssVar } from '@toeverything/theme';\nimport { useSetAtom } from 'jotai';\nimport { useCallback, useEffect } from 'react';\n\nimport { AIResume, AISubscribe } from '../general-setting/plans/ai/actions';\nimport * as styles from './storage-progress.css';\n\nexport const AIUsagePanel = () => {\n  const t = useI18n();\n  const setOpenSettingModal = useSetAtom(openSettingModalAtom);\n  const serverConfigService = useService(ServerConfigService);\n  const hasPaymentFeature = useLiveData(\n    serverConfigService.serverConfig.features$.map(f => f?.payment)\n  );\n  const subscriptionService = useService(SubscriptionService);\n  const aiSubscription = useLiveData(subscriptionService.subscription.ai$);\n  useEffect(() => {\n    // revalidate latest subscription status\n    subscriptionService.subscription.revalidate();\n  }, [subscriptionService]);\n  const copilotQuotaService = useService(UserCopilotQuotaService);\n  useEffect(() => {\n    copilotQuotaService.copilotQuota.revalidate();\n  }, [copilotQuotaService]);\n  const copilotActionLimit = useLiveData(\n    copilotQuotaService.copilotQuota.copilotActionLimit$\n  );\n  const copilotActionUsed = useLiveData(\n    copilotQuotaService.copilotQuota.copilotActionUsed$\n  );\n  const loading = copilotActionLimit === null || copilotActionUsed === null;\n  const loadError = useLiveData(copilotQuotaService.copilotQuota.error$);\n\n  const openBilling = useCallback(() => {\n    setOpenSettingModal({\n      open: true,\n      activeTab: 'billing',\n    });\n    track.$.settingsPanel.accountUsage.viewPlans({ plan: SubscriptionPlan.AI });\n  }, [setOpenSettingModal]);\n\n  if (loading) {\n    if (loadError) {\n      return (\n        <SettingRow\n          name={t['com.affine.payment.ai.usage-title']()}\n          desc={''}\n          spreadCol={false}\n        >\n          {/* TODO(@catsjuice): i18n */}\n          <ErrorMessage>Load error</ErrorMessage>\n        </SettingRow>\n      );\n    }\n    return (\n      <SettingRow\n        name={t['com.affine.payment.ai.usage-title']()}\n        desc={''}\n        spreadCol={false}\n      >\n        <Skeleton height={42} />\n      </SettingRow>\n    );\n  }\n\n  const percent =\n    copilotActionLimit === 'unlimited'\n      ? 0\n      : Math.min(\n          100,\n          Math.max(\n            0.5,\n            Number(((copilotActionUsed / copilotActionLimit) * 100).toFixed(4))\n          )\n        );\n\n  const color = percent > 80 ? cssVar('errorColor') : cssVar('processingColor');\n\n  return (\n    <SettingRow\n      spreadCol={aiSubscription ? true : false}\n      desc={\n        aiSubscription\n          ? t['com.affine.payment.ai.usage-description-purchased']()\n          : ''\n      }\n      name={t['com.affine.payment.ai.usage-title']()}\n    >\n      {copilotActionLimit === 'unlimited' ? (\n        hasPaymentFeature && aiSubscription?.canceledAt ? (\n          <AIResume />\n        ) : (\n          <Button onClick={openBilling}>\n            {t['com.affine.payment.ai.usage.change-button-label']()}\n          </Button>\n        )\n      ) : (\n        <div className={styles.storageProgressContainer}>\n          <div className={styles.storageProgressWrapper}>\n            <div className=\"storage-progress-desc\">\n              <span>{t['com.affine.payment.ai.usage.used-caption']()}</span>\n              <span>\n                {t['com.affine.payment.ai.usage.used-detail']({\n                  used: copilotActionUsed.toString(),\n                  limit: copilotActionLimit.toString(),\n                })}\n              </span>\n            </div>\n\n            <div className=\"storage-progress-bar-wrapper\">\n              <div\n                className={styles.storageProgressBar}\n                style={{ width: `${percent}%`, backgroundColor: color }}\n              ></div>\n            </div>\n          </div>\n\n          {hasPaymentFeature && (\n            <AISubscribe variant=\"primary\">\n              {t['com.affine.payment.ai.usage.purchase-button-label']()}\n            </AISubscribe>\n          )}\n        </div>\n      )}\n    </SettingRow>\n  );\n};\n","import { Button, ErrorMessage, Skeleton, Tooltip } from '@affine/component';\nimport { useI18n } from '@affine/i18n';\nimport { useLiveData, useService } from '@toeverything/infra';\nimport { cssVar } from '@toeverything/theme';\nimport { useEffect, useMemo } from 'react';\n\nimport {\n  ServerConfigService,\n  SubscriptionService,\n  UserQuotaService,\n} from '../../../../modules/cloud';\nimport * as styles from './storage-progress.css';\n\nexport interface StorageProgressProgress {\n  upgradable?: boolean;\n  onUpgrade: () => void;\n}\n\nenum ButtonType {\n  Primary = 'primary',\n  Default = 'secondary',\n}\n\nexport const StorageProgress = ({ onUpgrade }: StorageProgressProgress) => {\n  const t = useI18n();\n  const quota = useService(UserQuotaService).quota;\n\n  useEffect(() => {\n    // revalidate quota to get the latest status\n    quota.revalidate();\n  }, [quota]);\n  const color = useLiveData(quota.color$);\n  const usedFormatted = useLiveData(quota.usedFormatted$);\n  const maxFormatted = useLiveData(quota.maxFormatted$);\n  const percent = useLiveData(quota.percent$);\n\n  const serverConfigService = useService(ServerConfigService);\n  const hasPaymentFeature = useLiveData(\n    serverConfigService.serverConfig.features$.map(f => f?.payment)\n  );\n  const subscription = useService(SubscriptionService).subscription;\n  useEffect(() => {\n    // revalidate subscription to get the latest status\n    subscription.revalidate();\n  }, [subscription]);\n\n  const proSubscription = useLiveData(subscription.pro$);\n  const isFreeUser = !proSubscription;\n  const quotaName = useLiveData(\n    quota.quota$.map(q => (q !== null ? q?.humanReadable.name : null))\n  );\n\n  const loading =\n    proSubscription === null || percent === null || quotaName === null;\n  const loadError = useLiveData(quota.error$);\n\n  const buttonType = useMemo(() => {\n    if (isFreeUser) {\n      return ButtonType.Primary;\n    }\n    return ButtonType.Default;\n  }, [isFreeUser]);\n\n  if (loading) {\n    if (loadError) {\n      // TODO(@catsjuice): i18n\n      return <ErrorMessage>Load error</ErrorMessage>;\n    }\n    return <Skeleton height={42} />;\n  }\n\n  return (\n    <div className={styles.storageProgressContainer}>\n      <div className={styles.storageProgressWrapper}>\n        <div className=\"storage-progress-desc\">\n          <span>{t['com.affine.storage.used.hint']()}</span>\n          <span>\n            {usedFormatted}/{maxFormatted}\n            {` (${quotaName} ${t['com.affine.storage.plan']()})`}\n          </span>\n        </div>\n\n        <div className=\"storage-progress-bar-wrapper\">\n          <div\n            className={styles.storageProgressBar}\n            style={{\n              width: `${percent}%`,\n              backgroundColor: color ?? cssVar('processingColor'),\n            }}\n          ></div>\n        </div>\n      </div>\n\n      {hasPaymentFeature ? (\n        <Tooltip\n          options={{ hidden: percent < 100 }}\n          content={\n            isFreeUser\n              ? t['com.affine.storage.maximum-tips']()\n              : t['com.affine.storage.maximum-tips.pro']()\n          }\n        >\n          <span tabIndex={0}>\n            <Button variant={buttonType} onClick={onUpgrade}>\n              {isFreeUser\n                ? t['com.affine.storage.upgrade']()\n                : t['com.affine.storage.change-plan']()}\n            </Button>\n          </span>\n        </Tooltip>\n      ) : null}\n    </div>\n  );\n};\n","import { FlexWrapper, Input, notify } from '@affine/component';\nimport {\n  SettingHeader,\n  SettingRow,\n} from '@affine/component/setting-components';\nimport { Avatar } from '@affine/component/ui/avatar';\nimport { Button } from '@affine/component/ui/button';\nimport { useAsyncCallback } from '@affine/core/hooks/affine-async-hooks';\nimport { useCatchEventCallback } from '@affine/core/hooks/use-catch-event-hook';\nimport { track } from '@affine/core/mixpanel';\nimport { SubscriptionPlan } from '@affine/graphql';\nimport { useI18n } from '@affine/i18n';\nimport { ArrowRightSmallIcon, CameraIcon } from '@blocksuite/icons/rc';\nimport {\n  useEnsureLiveData,\n  useLiveData,\n  useService,\n  useServices,\n} from '@toeverything/infra';\nimport { useSetAtom } from 'jotai';\nimport type { FC } from 'react';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport {\n  authAtom,\n  openSettingModalAtom,\n  openSignOutModalAtom,\n} from '../../../../atoms';\nimport { AuthService, ServerConfigService } from '../../../../modules/cloud';\nimport { Upload } from '../../../pure/file-upload';\nimport { AIUsagePanel } from './ai-usage-panel';\nimport { StorageProgress } from './storage-progress';\nimport * as styles from './style.css';\n\nexport const UserAvatar = () => {\n  const t = useI18n();\n  const session = useService(AuthService).session;\n  const account = useEnsureLiveData(session.account$);\n\n  const handleUpdateUserAvatar = useAsyncCallback(\n    async (file: File) => {\n      try {\n        track.$.settingsPanel.accountSettings.uploadAvatar();\n        await session.uploadAvatar(file);\n        notify.success({ title: 'Update user avatar success' });\n      } catch (e) {\n        // TODO(@catsjuice): i18n\n        notify.error({\n          title: 'Update user avatar failed',\n          message: String(e),\n        });\n      }\n    },\n    [session]\n  );\n\n  const handleRemoveUserAvatar = useCatchEventCallback(async () => {\n    track.$.settingsPanel.accountSettings.removeAvatar();\n    await session.removeAvatar();\n  }, [session]);\n\n  return (\n    <Upload\n      accept=\"image/gif,image/jpeg,image/jpg,image/png,image/svg\"\n      fileChange={handleUpdateUserAvatar}\n      data-testid=\"upload-user-avatar\"\n    >\n      <Avatar\n        size={56}\n        name={account.label}\n        url={account.avatar}\n        hoverIcon={<CameraIcon />}\n        onRemove={account.avatar ? handleRemoveUserAvatar : undefined}\n        avatarTooltipOptions={{ content: t['Click to replace photo']() }}\n        removeTooltipOptions={{ content: t['Remove photo']() }}\n        data-testid=\"user-setting-avatar\"\n        removeButtonProps={{\n          ['data-testid' as string]: 'user-setting-remove-avatar-button',\n        }}\n      />\n    </Upload>\n  );\n};\n\nexport const AvatarAndName = () => {\n  const t = useI18n();\n  const session = useService(AuthService).session;\n  const account = useEnsureLiveData(session.account$);\n  const [input, setInput] = useState<string>(account.label);\n\n  const allowUpdate = !!input && input !== account.label;\n  const handleUpdateUserName = useAsyncCallback(async () => {\n    if (account === null) {\n      return;\n    }\n    if (!allowUpdate) {\n      return;\n    }\n\n    try {\n      track.$.settingsPanel.accountSettings.updateUserName();\n      await session.updateLabel(input);\n    } catch (e) {\n      notify.error({\n        title: 'Failed to update user name.',\n        message: String(e),\n      });\n    }\n  }, [account, allowUpdate, session, input]);\n\n  return (\n    <SettingRow\n      name={t['com.affine.settings.profile']()}\n      desc={t['com.affine.settings.profile.message']()}\n      spreadCol={false}\n    >\n      <FlexWrapper style={{ margin: '12px 0 24px 0' }} alignItems=\"center\">\n        <UserAvatar />\n\n        <div className={styles.profileInputWrapper}>\n          <label>{t['com.affine.settings.profile.name']()}</label>\n          <FlexWrapper alignItems=\"center\">\n            <Input\n              defaultValue={input}\n              data-testid=\"user-name-input\"\n              placeholder={t['com.affine.settings.profile.placeholder']()}\n              maxLength={64}\n              minLength={0}\n              style={{ width: 280, height: 32 }}\n              onChange={setInput}\n              onEnter={handleUpdateUserName}\n            />\n            {allowUpdate ? (\n              <Button\n                data-testid=\"save-user-name\"\n                onClick={handleUpdateUserName}\n                style={{\n                  marginLeft: '12px',\n                }}\n              >\n                {t['com.affine.editCollection.save']()}\n              </Button>\n            ) : null}\n          </FlexWrapper>\n        </div>\n      </FlexWrapper>\n    </SettingRow>\n  );\n};\n\nconst StoragePanel = () => {\n  const t = useI18n();\n\n  const setSettingModalAtom = useSetAtom(openSettingModalAtom);\n  const onUpgrade = useCallback(() => {\n    track.$.settingsPanel.accountUsage.viewPlans({\n      plan: SubscriptionPlan.Pro,\n    });\n    setSettingModalAtom({\n      open: true,\n      activeTab: 'plans',\n      scrollAnchor: 'cloudPricingPlan',\n    });\n  }, [setSettingModalAtom]);\n\n  return (\n    <SettingRow\n      name={t['com.affine.storage.title']()}\n      desc=\"\"\n      spreadCol={false}\n    >\n      <StorageProgress onUpgrade={onUpgrade} />\n    </SettingRow>\n  );\n};\n\nexport const AccountSetting: FC = () => {\n  const { authService, serverConfigService } = useServices({\n    AuthService,\n    ServerConfigService,\n  });\n  const serverFeatures = useLiveData(\n    serverConfigService.serverConfig.features$\n  );\n  const t = useI18n();\n  const session = authService.session;\n  useEffect(() => {\n    session.revalidate();\n  }, [session]);\n  const account = useEnsureLiveData(session.account$);\n  const setAuthModal = useSetAtom(authAtom);\n  const setSignOutModal = useSetAtom(openSignOutModalAtom);\n\n  const onChangeEmail = useCallback(() => {\n    setAuthModal({\n      openModal: true,\n      state: 'sendEmail',\n      email: account.email,\n      emailType: account.info?.emailVerified ? 'changeEmail' : 'verifyEmail',\n    });\n  }, [account.email, account.info?.emailVerified, setAuthModal]);\n\n  const onPasswordButtonClick = useCallback(() => {\n    setAuthModal({\n      openModal: true,\n      state: 'sendEmail',\n      email: account.email,\n      emailType: account.info?.hasPassword ? 'changePassword' : 'setPassword',\n    });\n  }, [account.email, account.info?.hasPassword, setAuthModal]);\n\n  const onOpenSignOutModal = useCallback(() => {\n    setSignOutModal(true);\n  }, [setSignOutModal]);\n\n  return (\n    <>\n      <SettingHeader\n        title={t['com.affine.setting.account']()}\n        subtitle={t['com.affine.setting.account.message']()}\n        data-testid=\"account-title\"\n      />\n      <AvatarAndName />\n      <SettingRow name={t['com.affine.settings.email']()} desc={account.email}>\n        <Button onClick={onChangeEmail}>\n          {account.info?.emailVerified\n            ? t['com.affine.settings.email.action.change']()\n            : t['com.affine.settings.email.action.verify']()}\n        </Button>\n      </SettingRow>\n      <SettingRow\n        name={t['com.affine.settings.password']()}\n        desc={t['com.affine.settings.password.message']()}\n      >\n        <Button onClick={onPasswordButtonClick}>\n          {account.info?.hasPassword\n            ? t['com.affine.settings.password.action.change']()\n            : t['com.affine.settings.password.action.set']()}\n        </Button>\n      </SettingRow>\n      <StoragePanel />\n      {serverFeatures?.copilot && <AIUsagePanel />}\n      <SettingRow\n        name={t[`Sign out`]()}\n        desc={t['com.affine.setting.sign.out.message']()}\n        style={{ cursor: 'pointer' }}\n        data-testid=\"sign-out-button\"\n        onClick={onOpenSignOutModal}\n      >\n        <ArrowRightSmallIcon />\n      </SettingRow>\n      {/*<SettingRow*/}\n      {/*  name={*/}\n      {/*    <span style={{ color: 'var(--affine-warning-color)' }}>*/}\n      {/*      {t['com.affine.setting.account.delete']()}*/}\n      {/*    </span>*/}\n      {/*  }*/}\n      {/*  desc={t['com.affine.setting.account.delete.message']()}*/}\n      {/*  style={{ cursor: 'pointer' }}*/}\n      {/*  onClick={useCallback(() => {*/}\n      {/*    toast('Function coming soon');*/}\n      {/*  }, [])}*/}\n      {/*  testId=\"delete-account-button\"*/}\n      {/*>*/}\n      {/*  <ArrowRightSmallIcon />*/}\n      {/*</SettingRow>*/}\n    </>\n  );\n};\n","import \"../core/src/components/affine/setting-modal/account-setting/style.css.ts.vanilla.css!=!../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/account-setting/style.css.ts.vanilla.css\\\",\\\"source\\\":\\\"Ll82bWZ0cTMwIHsKICBtYXJnaW4tbGVmdDogMjBweDsKfQouXzZtZnRxMzAgbGFiZWwgewogIGRpc3BsYXk6IGJsb2NrOwogIGZvbnQtc2l6ZTogdmFyKC0tYWZmaW5lLWZvbnQteHMpOwogIGNvbG9yOiB2YXIoLS1hZmZpbmUtdGV4dC1zZWNvbmRhcnktY29sb3IpOwogIG1hcmdpbi1ib3R0b206IDRweDsKfQouXzZtZnRxMzEgewogIHdpZHRoOiA1NnB4OwogIGhlaWdodDogNTZweDsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGN1cnNvcjogcG9pbnRlcjsKICBmbGV4LXNocmluazogMDsKfQouXzZtZnRxMzEuZGlzYWJsZSB7CiAgY3Vyc29yOiBkZWZhdWx0OwogIHBvaW50ZXItZXZlbnRzOiBub25lOwp9Ci5fNm1mdHEzMTpob3ZlciAuY2FtZXJhLWljb24td3JhcHBlciB7CiAgZGlzcGxheTogZmxleDsKfQouXzZtZnRxMzEgLmNhbWVyYS1pY29uLXdyYXBwZXIgewogIHdpZHRoOiA1NnB4OwogIGhlaWdodDogNTZweDsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGRpc3BsYXk6IG5vbmU7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDYwLCA2MSwgNjMsIDAuNSk7CiAgei1pbmRleDogMTsKICBjb2xvcjogdmFyKC0tYWZmaW5lLXdoaXRlKTsKICBmb250LXNpemU6IHZhcigtLWFmZmluZS1mb250LWgtNCk7Cn0=\\\"}!../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var avatarWrapper = '_6mftq31';\nexport var profileInputWrapper = '_6mftq30';","import { atom } from 'jotai';\n\nexport const settingModalScrollContainerAtom = atom<HTMLElement | null>(null);\n","import {\n  DiscordIcon,\n  GithubIcon,\n  RedditIcon,\n  TelegramIcon,\n  TwitterIcon,\n  YouTubeIcon,\n} from './icons';\n\nexport const relatedLinks = [\n  {\n    icon: <GithubIcon />,\n    title: 'GitHub',\n    link: 'https://github.com/toeverything/AFFiNE',\n  },\n  {\n    icon: <TwitterIcon />,\n    title: 'X',\n    link: 'https://twitter.com/AffineOfficial',\n  },\n  {\n    icon: <DiscordIcon />,\n    title: 'Discord',\n    link: 'https://discord.gg/whd5mjYqVw',\n  },\n  {\n    icon: <YouTubeIcon />,\n    title: 'YouTube',\n    link: 'https://www.youtube.com/@affinepro',\n  },\n  {\n    icon: <TelegramIcon />,\n    title: 'Telegram',\n    link: 'https://t.me/affineworkos',\n  },\n  {\n    icon: <RedditIcon />,\n    title: 'Reddit',\n    link: 'https://www.reddit.com/r/Affine/',\n  },\n];\n","// The icons here have been specially adjusted, they’re different from the ones in the @blocksuite/icons/rc.\n\nexport { TwitterIcon } from '@blocksuite/icons/rc';\nexport const LogoIcon = () => {\n  return (\n    <svg\n      width=\"50\"\n      height=\"50\"\n      viewBox=\"0 0 50 50\"\n      fill=\"currentColor\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M21.1996 0L4 50H14.0741L25.0146 15.4186L35.96 50H46L28.7978 0H21.1996Z\"\n      />\n    </svg>\n  );\n};\nexport const DocIcon = () => {\n  return (\n    <svg\n      width=\"50\"\n      height=\"50\"\n      viewBox=\"0 0 50 50\"\n      fill=\"currentColor\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M2 40.5353V9.46462C2 6.95444 2.99716 4.54708 4.77212 2.77212C6.54708 0.997163 8.95444 0 11.4646 0H37.7552C39.0224 0 40.0497 1.02726 40.0497 2.29445V33.3652C40.0497 33.4357 40.0465 33.5055 40.0403 33.5744C39.9882 34.1502 39.7234 34.6646 39.3251 35.0385C38.9147 35.4237 38.3625 35.6597 37.7552 35.6597H11.4646C11.0129 35.6597 10.5676 35.7224 10.1404 35.8429C8.60419 36.2781 7.37011 37.4505 6.85245 38.9541C6.67955 39.4584 6.58891 39.9922 6.58891 40.5354C6.58891 41.8285 7.1026 43.0687 8.01697 43.983C8.93134 44.8974 10.1715 45.4111 11.4646 45.4111H42.6309V4.68456C42.6309 3.41736 43.6582 2.3901 44.9254 2.3901C46.1926 2.3901 47.2198 3.41736 47.2198 4.68456V47.7055C47.2198 48.9727 46.1926 50 44.9254 50H11.4646C8.95445 50 6.54708 49.0028 4.77212 47.2279C2.99716 45.4529 2 43.0456 2 40.5353ZM12.6596 38.2409C11.3925 38.2409 10.3652 39.2682 10.3652 40.5354C10.3652 41.8026 11.3925 42.8298 12.6596 42.8298H36.5602C37.8274 42.8298 38.8546 41.8026 38.8546 40.5354C38.8546 39.2682 37.8274 38.2409 36.5602 38.2409H12.6596Z\"\n      />\n    </svg>\n  );\n};\n\nexport const GithubIcon = () => {\n  return (\n    <svg\n      width=\"25\"\n      height=\"24\"\n      viewBox=\"0 0 25 24\"\n      fill=\"currentColor\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g clipPath=\"url(#clip0_3073_4801)\">\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M12.667 2C7.14199 2 2.66699 6.58819 2.66699 12.2529C2.66699 16.7899 5.52949 20.6219 9.50449 21.9804C10.0045 22.0701 10.192 21.7625 10.192 21.4934C10.192 21.2499 10.1795 20.4425 10.1795 19.5838C7.66699 20.058 7.01699 18.9558 6.81699 18.3791C6.70449 18.0843 6.21699 17.1743 5.79199 16.9308C5.44199 16.7386 4.94199 16.2644 5.77949 16.2516C6.56699 16.2388 7.12949 16.9949 7.31699 17.3025C8.21699 18.8533 9.65449 18.4175 10.2295 18.1484C10.317 17.4819 10.5795 17.0334 10.867 16.777C8.64199 16.5207 6.31699 15.6364 6.31699 11.7147C6.31699 10.5997 6.70449 9.67689 7.34199 8.95918C7.24199 8.70286 6.89199 7.65193 7.44199 6.24215C7.44199 6.24215 8.27949 5.97301 10.192 7.29308C10.992 7.06239 11.842 6.94704 12.692 6.94704C13.542 6.94704 14.392 7.06239 15.192 7.29308C17.1045 5.9602 17.942 6.24215 17.942 6.24215C18.492 7.65193 18.142 8.70286 18.042 8.95918C18.6795 9.67689 19.067 10.5868 19.067 11.7147C19.067 15.6492 16.7295 16.5207 14.5045 16.777C14.867 17.0975 15.1795 17.7126 15.1795 18.6738C15.1795 20.0452 15.167 21.1474 15.167 21.4934C15.167 21.7625 15.3545 22.0829 15.8545 21.9804C17.8396 21.2932 19.5646 19.9851 20.7867 18.2401C22.0088 16.4951 22.6664 14.4012 22.667 12.2529C22.667 6.58819 18.192 2 12.667 2Z\"\n        />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_3073_4801\">\n          <rect width=\"25\" height=\"24\" fill=\"white\" />\n        </clipPath>\n      </defs>\n    </svg>\n  );\n};\nexport const DiscordIcon = () => {\n  return (\n    <svg\n      width=\"25\"\n      height=\"24\"\n      viewBox=\"0 0 25 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g clipPath=\"url(#clip0_3073_4801)\">\n        <path\n          d=\"M19.2565 5.64663C17.9898 5.05614 16.6183 4.62755 15.1897 4.37993C15.1772 4.37953 15.1647 4.38188 15.1532 4.38681C15.1417 4.39175 15.1314 4.39915 15.1231 4.4085C14.9516 4.72279 14.7516 5.13233 14.6183 5.44662C13.103 5.21804 11.562 5.21804 10.0467 5.44662C9.9134 5.1228 9.71339 4.72279 9.53243 4.4085C9.52291 4.38945 9.49434 4.37993 9.46576 4.37993C8.03715 4.62755 6.67521 5.05614 5.39899 5.64663C5.38946 5.64663 5.37994 5.65615 5.37041 5.66568C2.77987 9.54197 2.06556 13.3135 2.41795 17.0469C2.41795 17.066 2.42748 17.085 2.44652 17.0946C4.16086 18.3517 5.80852 19.1137 7.43714 19.6184C7.46571 19.628 7.49428 19.6184 7.50381 19.5994C7.88477 19.0756 8.22764 18.5232 8.52288 17.9422C8.54193 17.9041 8.52288 17.866 8.48479 17.8565C7.94191 17.647 7.42761 17.3993 6.92284 17.1136C6.88474 17.0946 6.88474 17.0374 6.91331 17.0088C7.01808 16.9327 7.12284 16.8469 7.22761 16.7707C7.24666 16.7517 7.27523 16.7517 7.29428 16.7612C10.5706 18.2565 14.104 18.2565 17.3422 16.7612C17.3612 16.7517 17.3898 16.7517 17.4088 16.7707C17.5136 16.8565 17.6184 16.9327 17.7231 17.0184C17.7612 17.0469 17.7612 17.1041 17.7136 17.1231C17.2184 17.4184 16.6945 17.6565 16.1517 17.866C16.1136 17.8755 16.104 17.9232 16.1136 17.9517C16.4183 18.5327 16.7612 19.0851 17.1326 19.6089C17.1612 19.6184 17.1898 19.628 17.2184 19.6184C18.8565 19.1137 20.5042 18.3517 22.2185 17.0946C22.2375 17.085 22.2471 17.066 22.2471 17.0469C22.6661 12.7325 21.5518 8.98958 19.2946 5.66568C19.2851 5.65615 19.2756 5.64663 19.2565 5.64663ZM9.01813 14.7707C8.03715 14.7707 7.21808 13.8659 7.21808 12.7516C7.21808 11.6373 8.01811 10.7325 9.01813 10.7325C10.0277 10.7325 10.8277 11.6468 10.8182 12.7516C10.8182 13.8659 10.0182 14.7707 9.01813 14.7707ZM15.6564 14.7707C14.6754 14.7707 13.8564 13.8659 13.8564 12.7516C13.8564 11.6373 14.6564 10.7325 15.6564 10.7325C16.666 10.7325 17.466 11.6468 17.4565 12.7516C17.4565 13.8659 16.666 14.7707 15.6564 14.7707Z\"\n          fill=\"#5865F2\"\n        />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_3073_4801\">\n          <rect width=\"25\" height=\"24\" fill=\"white\" />\n        </clipPath>\n      </defs>\n    </svg>\n  );\n};\n\nexport const TelegramIcon = () => {\n  return (\n    <svg\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M12 2C9.34844 2 6.80312 3.05422 4.92969 4.92891C3.05432 6.80434 2.00052 9.34778 2 12C2 14.6511 3.05469 17.1964 4.92969 19.0711C6.80312 20.9458 9.34844 22 12 22C14.6516 22 17.1969 20.9458 19.0703 19.0711C20.9453 17.1964 22 14.6511 22 12C22 9.34891 20.9453 6.80359 19.0703 4.92891C17.1969 3.05422 14.6516 2 12 2Z\"\n        fill=\"url(#paint0_linear_8233_169329)\"\n      />\n      <path\n        d=\"M6.5267 11.8943C9.44232 10.6243 11.3861 9.78694 12.3579 9.38241C15.1361 8.22726 15.7126 8.02663 16.0892 8.01983C16.172 8.01851 16.3564 8.03898 16.4767 8.13624C16.5767 8.21827 16.6048 8.32921 16.6189 8.4071C16.6314 8.48491 16.6486 8.66226 16.6345 8.80069C16.4845 10.3819 15.8329 14.2191 15.5017 15.9902C15.3626 16.7396 15.0861 16.9908 14.8189 17.0154C14.2376 17.0688 13.797 16.6316 13.2345 16.263C12.3548 15.686 11.8579 15.3269 11.0033 14.764C10.0158 14.1134 10.6564 13.7557 11.2189 13.1713C11.3658 13.0184 13.9251 10.691 13.9736 10.4799C13.9798 10.4535 13.9861 10.3551 13.9267 10.3032C13.8689 10.2512 13.7829 10.269 13.7204 10.283C13.6314 10.303 12.2267 11.2324 9.5017 13.071C9.10326 13.3451 8.74232 13.4787 8.41732 13.4716C8.06107 13.464 7.37357 13.2698 6.86264 13.1038C6.23764 12.9002 5.7392 12.7926 5.78295 12.4468C5.80482 12.2668 6.05326 12.0826 6.5267 11.8943Z\"\n        fill=\"white\"\n      />\n      <defs>\n        <linearGradient\n          id=\"paint0_linear_8233_169329\"\n          x1=\"1002\"\n          y1=\"2\"\n          x2=\"1002\"\n          y2=\"2002\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor=\"#2AABEE\" />\n          <stop offset=\"1\" stopColor=\"#229ED9\" />\n        </linearGradient>\n      </defs>\n    </svg>\n  );\n};\n\nexport const RedditIcon = () => {\n  return (\n    <svg\n      width=\"25\"\n      height=\"24\"\n      viewBox=\"0 0 25 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M12.334 22C17.8568 22 22.334 17.5228 22.334 12C22.334 6.47715 17.8568 2 12.334 2C6.81114 2 2.33398 6.47715 2.33398 12C2.33398 17.5228 6.81114 22 12.334 22Z\"\n        fill=\"#FF4500\"\n      />\n      <path\n        d=\"M18.9863 12.0954C18.9863 11.2848 18.3308 10.641 17.5319 10.641C17.1545 10.6404 16.7915 10.7857 16.5186 11.0463C15.5172 10.331 14.1461 9.86611 12.6202 9.8065L13.2877 6.68299L15.4574 7.14783C15.4814 7.69627 15.9343 8.13744 16.4948 8.13744C17.067 8.13744 17.5319 7.6726 17.5319 7.1001C17.5319 6.52791 17.067 6.06299 16.4948 6.06299C16.0895 6.06299 15.7316 6.30143 15.5648 6.64721L13.1448 6.13455C13.0732 6.12252 13.0016 6.13455 12.9539 6.17033C12.8943 6.20611 12.8586 6.26564 12.8468 6.33721L12.1074 9.8183C10.5577 9.86611 9.16273 10.331 8.14945 11.0583C7.87653 10.7976 7.51349 10.6524 7.13609 10.653C6.32539 10.653 5.68164 11.3085 5.68164 12.1074C5.68164 12.7035 6.03922 13.2041 6.54008 13.4308C6.51576 13.5766 6.50379 13.7241 6.5043 13.8719C6.5043 16.113 9.11524 17.9372 12.3341 17.9372C15.553 17.9372 18.1639 16.125 18.1639 13.8719C18.1638 13.7241 18.1519 13.5766 18.1281 13.4308C18.6288 13.2041 18.9863 12.6914 18.9863 12.0954ZM8.99586 13.1325C8.99586 12.5603 9.4607 12.0954 10.0332 12.0954C10.6054 12.0954 11.0703 12.5603 11.0703 13.1325C11.0703 13.7048 10.6055 14.1699 10.0332 14.1699C9.46078 14.1816 8.99586 13.7048 8.99586 13.1325ZM14.8019 15.8865C14.0866 16.6019 12.7274 16.6496 12.3341 16.6496C11.9288 16.6496 10.5697 16.5899 9.86609 15.8865C9.75898 15.7792 9.75898 15.6123 9.86609 15.505C9.97344 15.3979 10.1403 15.3979 10.2477 15.505C10.7008 15.9581 11.6545 16.113 12.3341 16.113C13.0137 16.113 13.9792 15.9581 14.4203 15.505C14.5277 15.3979 14.6945 15.3979 14.8019 15.505C14.8972 15.6123 14.8972 15.7792 14.8019 15.8865ZM14.611 14.1817C14.0387 14.1817 13.5739 13.7168 13.5739 13.1446C13.5739 12.5723 14.0387 12.1074 14.611 12.1074C15.1834 12.1074 15.6483 12.5723 15.6483 13.1446C15.6483 13.7047 15.1834 14.1817 14.611 14.1817Z\"\n        fill=\"white\"\n      />\n    </svg>\n  );\n};\n\nexport const LinkIcon = () => {\n  return (\n    <svg\n      width=\"16\"\n      height=\"16\"\n      viewBox=\"0 0 16 16\"\n      fill=\"currentColor\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M10.2917 1.33334C10.2917 0.988166 10.5715 0.708344 10.9167 0.708344H14.6667C15.0118 0.708344 15.2917 0.988166 15.2917 1.33334V5.08334C15.2917 5.42852 15.0118 5.70834 14.6667 5.70834C14.3215 5.70834 14.0417 5.42852 14.0417 5.08334V2.84223L8.44194 8.44195C8.19787 8.68603 7.80214 8.68603 7.55806 8.44195C7.31398 8.19787 7.31398 7.80215 7.55806 7.55807L13.1578 1.95834H10.9167C10.5715 1.95834 10.2917 1.67852 10.2917 1.33334ZM3.97464 1.54168L7.58334 1.54168C7.92851 1.54168 8.20834 1.8215 8.20834 2.16668C8.20834 2.51185 7.92851 2.79168 7.58334 2.79168H4C3.52298 2.79168 3.2028 2.79216 2.95623 2.81231C2.71697 2.83186 2.60256 2.86676 2.5271 2.90521C2.33109 3.00508 2.17174 3.16443 2.07187 3.36044C2.03342 3.4359 1.99852 3.55031 1.97897 3.78957C1.95882 4.03614 1.95834 4.35632 1.95834 4.83334V12C1.95834 12.477 1.95882 12.7972 1.97897 13.0438C1.99852 13.283 2.03342 13.3974 2.07187 13.4729C2.17174 13.6689 2.33109 13.8283 2.5271 13.9281C2.60256 13.9666 2.71697 14.0015 2.95623 14.021C3.2028 14.0412 3.52298 14.0417 4 14.0417H11.1667C11.6437 14.0417 11.9639 14.0412 12.2104 14.021C12.4497 14.0015 12.5641 13.9666 12.6396 13.9281C12.8356 13.8283 12.9949 13.6689 13.0948 13.4729C13.1333 13.3974 13.1682 13.283 13.1877 13.0438C13.2079 12.7972 13.2083 12.477 13.2083 12V8.41668C13.2083 8.0715 13.4882 7.79168 13.8333 7.79168C14.1785 7.79168 14.4583 8.0715 14.4583 8.41668V12.0254C14.4583 12.4705 14.4584 12.842 14.4336 13.1456C14.4077 13.4621 14.3518 13.7594 14.2086 14.0404C13.9888 14.4716 13.6383 14.8222 13.2071 15.0419C12.926 15.1851 12.6288 15.241 12.3122 15.2669C12.0087 15.2917 11.6372 15.2917 11.192 15.2917H3.97463C3.5295 15.2917 3.15797 15.2917 2.85444 15.2669C2.53787 15.241 2.24066 15.1851 1.95961 15.0419C1.5284 14.8222 1.17782 14.4716 0.958113 14.0404C0.81491 13.7594 0.758984 13.4621 0.733119 13.1456C0.70832 12.842 0.708327 12.4705 0.708336 12.0254V4.80798C0.708327 4.36285 0.70832 3.99131 0.733119 3.68779C0.758984 3.37121 0.81491 3.074 0.958113 2.79295C1.17782 2.36174 1.5284 2.01116 1.95961 1.79145C2.24066 1.64825 2.53787 1.59232 2.85444 1.56646C3.15797 1.54166 3.52951 1.54167 3.97464 1.54168Z\"\n      />\n    </svg>\n  );\n};\nexport const YouTubeIcon = () => {\n  return (\n    <svg\n      width=\"25\"\n      height=\"24\"\n      viewBox=\"0 0 25 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M21.7477 7.19232C21.6387 6.76858 21.4261 6.38227 21.1311 6.07186C20.8361 5.76145 20.4689 5.53776 20.0662 5.42308C18.5917 5 12.6575 5 12.6575 5C12.6575 5 6.72304 5.01281 5.24858 5.43589C4.84583 5.55057 4.47865 5.77427 4.18363 6.0847C3.88861 6.39512 3.67602 6.78145 3.56705 7.2052C3.12106 9.96155 2.94806 14.1616 3.5793 16.8077C3.68828 17.2314 3.90087 17.6177 4.19589 17.9281C4.49092 18.2386 4.85808 18.4622 5.26083 18.5769C6.73528 19 12.6696 19 12.6696 19C12.6696 19 18.6039 19 20.0783 18.5769C20.481 18.4623 20.8482 18.2386 21.1432 17.9282C21.4383 17.6177 21.6509 17.2314 21.7599 16.8077C22.2303 14.0474 22.3752 9.85004 21.7477 7.1924V7.19232Z\"\n        fill=\"#FF0000\"\n      />\n      <path d=\"M10.667 15L15.667 12L10.667 9V15Z\" fill=\"white\" />\n    </svg>\n  );\n};\n","import \"../core/src/components/affine/setting-modal/general-setting/about/style.css.ts.vanilla.css!=!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/general-setting/about/style.css.ts.vanilla.css\\\",\\\"source\\\":\\\"#H4sIAAAAAAAACpWTy47bMAxF9/kKbgboLGTYbiYoNB9TKBbtsJUlQWJeU/TfC8mvOMgEnUVghOIlD8Wr4ufO1O5jV8KfDcABqTuwhOqHv7xvADRFb9RVQmswB5Shzgpi7KOEBi1jSOHGGRcknFT4JoRqW7IoGC8sfKBehavICa8ptXWWRaQPvEsf4v2Scx5ZdmWZYr0KHVmxd8yul1DVifDvppj4pVGRhWsFXz3mYe4U5SodCmqczXmP4NPh/0LvVcTXG0SDLUt4W/NVudV8n10gnSTpKxh7bxRjanjsbZRQvb08+mWF8hLql9vada69d0FjEEFpOkYJ4waHqITKXyA6Q3o9wChaJv3CJptjiCnXO5p84JXWZDsJO38ZCG4p46nLpGfSfJBQbwfEyXTT//mS9sY1v5eLlVCCOrKD+r6wz2WfLukSM3MeJZt4se9S6funfsi6iI2z+gt2HpvOA5E1+ez5Y/p1jExtamIZLQ+PT0RWgVewhWqYTvicGXt/UJHijHxbAENw4VN9Pn2kmxc5Gj4M+9uu17IdlpLYNQVsmJyVENxZBDxhiLhKLvjsUq8senwDaPW6fpEbz6rRfOP7K2/8OBHWZUb8B2crUfT0BAAA\\\"}!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var appImageRow = '_6l2oz64';\nexport var checkUpdateDesc = '_6l2oz63';\nexport var communityItem = '_6l2oz62';\nexport var communityWrapper = '_6l2oz61';\nexport var link = '_6l2oz60';","import { Loading } from '@affine/component';\nimport { SettingRow } from '@affine/component/setting-components';\nimport { Button } from '@affine/component/ui/button';\nimport { useAsyncCallback } from '@affine/core/hooks/affine-async-hooks';\nimport { useAppUpdater } from '@affine/core/hooks/use-app-updater';\nimport { useI18n } from '@affine/i18n';\nimport clsx from 'clsx';\nimport { useCallback, useMemo, useState } from 'react';\n\nimport * as styles from './style.css';\n\nenum CheckUpdateStatus {\n  UNCHECK = 'uncheck',\n  LATEST = 'latest',\n  UPDATE_AVAILABLE = 'update-available',\n  ERROR = 'error',\n}\n\nconst useUpdateStatusLabels = (checkUpdateStatus: CheckUpdateStatus) => {\n  const t = useI18n();\n  const { updateAvailable, downloadProgress, updateReady, checkingForUpdates } =\n    useAppUpdater();\n\n  const buttonLabel = useMemo(() => {\n    if (updateReady) {\n      return t['com.affine.aboutAFFiNE.checkUpdate.button.restart']();\n    }\n    if (updateAvailable && downloadProgress === null) {\n      return t['com.affine.aboutAFFiNE.checkUpdate.button.download']();\n    }\n    if (\n      checkUpdateStatus === CheckUpdateStatus.LATEST ||\n      checkUpdateStatus === CheckUpdateStatus.ERROR\n    ) {\n      return t['com.affine.aboutAFFiNE.checkUpdate.button.retry']();\n    }\n    return t['com.affine.aboutAFFiNE.checkUpdate.button.check']();\n  }, [checkUpdateStatus, downloadProgress, t, updateAvailable, updateReady]);\n\n  const subtitleLabel = useMemo(() => {\n    if (updateReady) {\n      return t['com.affine.aboutAFFiNE.checkUpdate.subtitle.restart']();\n    } else if (updateAvailable && downloadProgress === null) {\n      return t['com.affine.aboutAFFiNE.checkUpdate.subtitle.update-available']({\n        version: updateAvailable.version,\n      });\n    } else if (checkingForUpdates) {\n      return t['com.affine.aboutAFFiNE.checkUpdate.subtitle.checking']();\n    } else if (updateAvailable && downloadProgress !== null) {\n      return t['com.affine.aboutAFFiNE.checkUpdate.subtitle.downloading']();\n    } else if (checkUpdateStatus === CheckUpdateStatus.ERROR) {\n      return t['com.affine.aboutAFFiNE.checkUpdate.subtitle.error']();\n    } else if (checkUpdateStatus === CheckUpdateStatus.LATEST) {\n      return t['com.affine.aboutAFFiNE.checkUpdate.subtitle.latest']();\n    }\n    return t['com.affine.aboutAFFiNE.checkUpdate.subtitle.check']();\n  }, [\n    checkUpdateStatus,\n    downloadProgress,\n    checkingForUpdates,\n    t,\n    updateAvailable,\n    updateReady,\n  ]);\n\n  const subtitle = useMemo(() => {\n    return (\n      <span\n        className={clsx(styles.checkUpdateDesc, {\n          active:\n            updateReady ||\n            (updateAvailable && downloadProgress === null) ||\n            checkUpdateStatus === CheckUpdateStatus.LATEST,\n          error: checkUpdateStatus === CheckUpdateStatus.ERROR,\n        })}\n      >\n        {checkingForUpdates ? <Loading size={14} /> : null}\n        {subtitleLabel}\n      </span>\n    );\n  }, [\n    checkUpdateStatus,\n    downloadProgress,\n    checkingForUpdates,\n    subtitleLabel,\n    updateAvailable,\n    updateReady,\n  ]);\n\n  return { subtitle, buttonLabel };\n};\n\nexport const UpdateCheckSection = () => {\n  const t = useI18n();\n  const {\n    checkForUpdates,\n    downloadUpdate,\n    quitAndInstall,\n    updateAvailable,\n    downloadProgress,\n    updateReady,\n  } = useAppUpdater();\n  const [checkUpdateStatus, setCheckUpdateStatus] = useState<CheckUpdateStatus>(\n    CheckUpdateStatus.UNCHECK\n  );\n\n  const { buttonLabel, subtitle } = useUpdateStatusLabels(checkUpdateStatus);\n\n  const asyncCheckForUpdates = useAsyncCallback(async () => {\n    let statusCheck = CheckUpdateStatus.UNCHECK;\n    try {\n      const status = await checkForUpdates();\n\n      if (status === null) {\n        statusCheck = CheckUpdateStatus.ERROR;\n      } else if (status === false) {\n        statusCheck = CheckUpdateStatus.LATEST;\n      } else if (typeof status === 'string') {\n        statusCheck = CheckUpdateStatus.UPDATE_AVAILABLE;\n      }\n    } catch (e) {\n      console.error(e);\n      statusCheck = CheckUpdateStatus.ERROR;\n    } finally {\n      setCheckUpdateStatus(statusCheck);\n    }\n  }, [checkForUpdates]);\n\n  const handleClick = useCallback(() => {\n    if (updateAvailable && downloadProgress === null) {\n      return downloadUpdate();\n    }\n    if (updateReady) {\n      return quitAndInstall();\n    }\n    asyncCheckForUpdates();\n  }, [\n    asyncCheckForUpdates,\n    downloadProgress,\n    downloadUpdate,\n    quitAndInstall,\n    updateAvailable,\n    updateReady,\n  ]);\n\n  return (\n    <SettingRow\n      name={t['com.affine.aboutAFFiNE.checkUpdate.title']()}\n      desc={subtitle}\n    >\n      <Button\n        data-testid=\"check-update-button\"\n        onClick={handleClick}\n        disabled={downloadProgress !== null && !updateReady}\n      >\n        {buttonLabel}\n      </Button>\n    </SettingRow>\n  );\n};\n","import { Switch } from '@affine/component';\nimport {\n  SettingHeader,\n  SettingRow,\n  SettingWrapper,\n} from '@affine/component/setting-components';\nimport { useAppUpdater } from '@affine/core/hooks/use-app-updater';\nimport { mixpanel } from '@affine/core/mixpanel';\nimport { useI18n } from '@affine/i18n';\nimport { ArrowRightSmallIcon, OpenInNewIcon } from '@blocksuite/icons/rc';\nimport { useCallback } from 'react';\n\nimport { useAppSettingHelper } from '../../../../../hooks/affine/use-app-setting-helper';\nimport { appIconMap, appNames } from '../../../../../pages/open-app';\nimport { popupWindow } from '../../../../../utils';\nimport { relatedLinks } from './config';\nimport * as styles from './style.css';\nimport { UpdateCheckSection } from './update-check-section';\n\nexport const AboutAffine = () => {\n  const t = useI18n();\n  const { appSettings, updateSettings } = useAppSettingHelper();\n  const { toggleAutoCheck, toggleAutoDownload } = useAppUpdater();\n  const channel = runtimeConfig.appBuildType;\n  const appIcon = appIconMap[channel];\n  const appName = appNames[channel];\n\n  const onSwitchAutoCheck = useCallback(\n    (checked: boolean) => {\n      toggleAutoCheck(checked);\n      updateSettings('autoCheckUpdate', checked);\n    },\n    [toggleAutoCheck, updateSettings]\n  );\n\n  const onSwitchAutoDownload = useCallback(\n    (checked: boolean) => {\n      toggleAutoDownload(checked);\n      updateSettings('autoDownloadUpdate', checked);\n    },\n    [toggleAutoDownload, updateSettings]\n  );\n\n  const onSwitchTelemetry = useCallback(\n    (checked: boolean) => {\n      if (!checked) {\n        mixpanel.opt_out_tracking();\n      } else {\n        mixpanel.opt_in_tracking();\n      }\n      updateSettings('enableTelemetry', checked);\n    },\n    [updateSettings]\n  );\n\n  return (\n    <>\n      <SettingHeader\n        title={t['com.affine.aboutAFFiNE.title']()}\n        subtitle={t['com.affine.aboutAFFiNE.subtitle']()}\n        data-testid=\"about-title\"\n      />\n      <SettingWrapper title={t['com.affine.aboutAFFiNE.version.title']()}>\n        <SettingRow\n          name={appName}\n          desc={runtimeConfig.appVersion}\n          className={styles.appImageRow}\n        >\n          <img src={appIcon} alt={appName} width={56} height={56} />\n        </SettingRow>\n        <SettingRow\n          name={t['com.affine.aboutAFFiNE.version.editor.title']()}\n          desc={runtimeConfig.editorVersion}\n        />\n        {environment.isDesktop ? (\n          <>\n            <UpdateCheckSection />\n            <SettingRow\n              name={t['com.affine.aboutAFFiNE.autoCheckUpdate.title']()}\n              desc={t['com.affine.aboutAFFiNE.autoCheckUpdate.description']()}\n            >\n              <Switch\n                checked={appSettings.autoCheckUpdate}\n                onChange={onSwitchAutoCheck}\n              />\n            </SettingRow>\n            <SettingRow\n              name={t['com.affine.aboutAFFiNE.autoDownloadUpdate.title']()}\n              desc={t[\n                'com.affine.aboutAFFiNE.autoDownloadUpdate.description'\n              ]()}\n            >\n              <Switch\n                checked={appSettings.autoDownloadUpdate}\n                onChange={onSwitchAutoDownload}\n              />\n            </SettingRow>\n            <SettingRow\n              name={t['com.affine.aboutAFFiNE.changelog.title']()}\n              desc={t['com.affine.aboutAFFiNE.changelog.description']()}\n              style={{ cursor: 'pointer' }}\n              onClick={() => {\n                popupWindow(runtimeConfig.changelogUrl);\n              }}\n            >\n              <ArrowRightSmallIcon />\n            </SettingRow>\n          </>\n        ) : null}\n        <SettingRow\n          name={t['com.affine.telemetry.enable']()}\n          desc={t['com.affine.telemetry.enable.desc']()}\n        >\n          <Switch\n            checked={appSettings.enableTelemetry !== false}\n            onChange={onSwitchTelemetry}\n          />\n        </SettingRow>\n      </SettingWrapper>\n      <SettingWrapper title={t['com.affine.aboutAFFiNE.contact.title']()}>\n        <a\n          className={styles.link}\n          rel=\"noreferrer\"\n          href=\"https://affine.pro\"\n          target=\"_blank\"\n        >\n          {t['com.affine.aboutAFFiNE.contact.website']()}\n          <OpenInNewIcon className=\"icon\" />\n        </a>\n        <a\n          className={styles.link}\n          rel=\"noreferrer\"\n          href=\"https://community.affine.pro\"\n          target=\"_blank\"\n        >\n          {t['com.affine.aboutAFFiNE.contact.community']()}\n          <OpenInNewIcon className=\"icon\" />\n        </a>\n      </SettingWrapper>\n      <SettingWrapper title={t['com.affine.aboutAFFiNE.community.title']()}>\n        <div className={styles.communityWrapper}>\n          {relatedLinks.map(({ icon, title, link }) => {\n            return (\n              <div\n                className={styles.communityItem}\n                onClick={() => {\n                  popupWindow(link);\n                }}\n                key={title}\n              >\n                {icon}\n                <p>{title}</p>\n              </div>\n            );\n          })}\n        </div>\n      </SettingWrapper>\n      <SettingWrapper title={t['com.affine.aboutAFFiNE.legal.title']()}>\n        <a\n          className={styles.link}\n          rel=\"noreferrer\"\n          href=\"https://affine.pro/privacy\"\n          target=\"_blank\"\n        >\n          {t['com.affine.aboutAFFiNE.legal.privacy']()}\n          <OpenInNewIcon className=\"icon\" />\n        </a>\n        <a\n          className={styles.link}\n          rel=\"noreferrer\"\n          href=\"https://affine.pro/terms\"\n          target=\"_blank\"\n        >\n          {t['com.affine.aboutAFFiNE.legal.tos']()}\n          <OpenInNewIcon className=\"icon\" />\n        </a>\n      </SettingWrapper>\n    </>\n  );\n};\n","import { Menu, MenuItem, MenuTrigger } from '@affine/component/ui/menu';\nimport { DoneIcon } from '@blocksuite/icons/rc';\nimport type { ReactElement } from 'react';\nimport { memo } from 'react';\n\nimport { useLanguageHelper } from '../../../hooks/affine/use-language-helper';\nimport * as styles from './style.css';\n\n// Fixme: keyboard focus should be supported by Menu component\nconst LanguageMenuContent = memo(function LanguageMenuContent() {\n  const { currentLanguage, languagesList, onLanguageChange } =\n    useLanguageHelper();\n  return (\n    <>\n      {languagesList.map(option => {\n        const selected = currentLanguage?.originalName === option.originalName;\n        return (\n          <MenuItem\n            key={option.name}\n            title={option.name}\n            lang={option.tag}\n            onSelect={() => onLanguageChange(option.tag)}\n            endFix={(option.Completeness * 100).toFixed(0) + '%'}\n            data-selected={selected}\n            className={styles.menuItem}\n          >\n            <div className={styles.languageLabelWrapper}>\n              <div>{option.originalName}</div>\n              {selected && <DoneIcon fontSize={'16px'} />}\n            </div>\n          </MenuItem>\n        );\n      })}\n    </>\n  );\n});\n\nexport const LanguageMenu = () => {\n  const { currentLanguage } = useLanguageHelper();\n  return (\n    <Menu\n      items={(<LanguageMenuContent />) as ReactElement}\n      contentOptions={{\n        className: styles.menu,\n        align: 'end',\n      }}\n    >\n      <MenuTrigger\n        data-testid=\"language-menu-button\"\n        style={{ textTransform: 'capitalize', fontWeight: 600, width: '250px' }}\n        block={true}\n      >\n        {currentLanguage?.originalName || ''}\n      </MenuTrigger>\n    </Menu>\n  );\n};\n","import \"../core/src/components/affine/language-menu/style.css.ts.vanilla.css!=!../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/language-menu/style.css.ts.vanilla.css\\\",\\\"source\\\":\\\"Lmhvb2FrYjAgewogIGJhY2tncm91bmQ6IHZhcigtLWFmZmluZS13aGl0ZSk7CiAgd2lkdGg6IDI1MHB4OwogIG1heC1oZWlnaHQ6IDMwdmg7CiAgb3ZlcmZsb3cteTogYXV0bzsKfQouaG9vYWtiMSB7CiAgY29sb3I6IHZhcigtLWFmZmluZS10ZXh0LXByaW1hcnktY29sb3IpOwp9Ci5ob29ha2IxW2RhdGEtc2VsZWN0ZWQ9dHJ1ZV0gewogIGNvbG9yOiB2YXIoLS1hZmZpbmUtcHJpbWFyeS1jb2xvcik7Cn0KLmhvb2FrYjIgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgbWFyZ2luLXJpZ2h0OiA4cHg7Cn0=\\\"}!../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var languageLabelWrapper = 'hooakb2';\nexport var menu = 'hooakb0';\nexport var menuItem = 'hooakb1';","import \"../core/src/components/affine/setting-modal/general-setting/appearance/style.css.ts.vanilla.css!=!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/general-setting/appearance/style.css.ts.vanilla.css\\\",\\\"source\\\":\\\"Ll80OTdkMGQwIHsKICBmbGV4LWdyb3c6IDE7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogIG1pbi13aWR0aDogMTUwcHg7CiAgbWF4LXdpZHRoOiAyNTBweDsKfQ==\\\"}!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var settingWrapper = '_497d0d0';","import type { RadioItem } from '@affine/component';\nimport { RadioGroup, Switch } from '@affine/component';\nimport {\n  SettingHeader,\n  SettingRow,\n  SettingWrapper,\n} from '@affine/component/setting-components';\nimport { useI18n } from '@affine/i18n';\nimport type { AppSetting } from '@toeverything/infra';\nimport { fontStyleOptions, windowFrameStyleOptions } from '@toeverything/infra';\nimport { useTheme } from 'next-themes';\nimport { useCallback, useMemo } from 'react';\n\nimport { useAppSettingHelper } from '../../../../../hooks/affine/use-app-setting-helper';\nimport { LanguageMenu } from '../../../language-menu';\nimport { DateFormatSetting } from './date-format-setting';\nimport { settingWrapper } from './style.css';\nimport { ThemeEditorSetting } from './theme-editor-setting';\n\nexport const ThemeSettings = () => {\n  const t = useI18n();\n  const { setTheme, theme } = useTheme();\n\n  const radioItems = useMemo<RadioItem[]>(\n    () => [\n      {\n        value: 'system',\n        label: t['com.affine.themeSettings.system'](),\n        testId: 'system-theme-trigger',\n      },\n      {\n        value: 'light',\n        label: t['com.affine.themeSettings.light'](),\n        testId: 'light-theme-trigger',\n      },\n      {\n        value: 'dark',\n        label: t['com.affine.themeSettings.dark'](),\n        testId: 'dark-theme-trigger',\n      },\n    ],\n    [t]\n  );\n\n  return (\n    <RadioGroup\n      items={radioItems}\n      value={theme}\n      width={250}\n      className={settingWrapper}\n      onChange={useCallback(\n        (value: string) => {\n          setTheme(value);\n        },\n        [setTheme]\n      )}\n    />\n  );\n};\n\nconst FontFamilySettings = () => {\n  const t = useI18n();\n  const { appSettings, updateSettings } = useAppSettingHelper();\n\n  const radioItems = useMemo(() => {\n    return fontStyleOptions.map(({ key, value }) => {\n      const label =\n        key === 'Mono'\n          ? t[`com.affine.appearanceSettings.fontStyle.mono`]()\n          : key === 'Sans'\n            ? t['com.affine.appearanceSettings.fontStyle.sans']()\n            : key === 'Serif'\n              ? t['com.affine.appearanceSettings.fontStyle.serif']()\n              : '';\n      return {\n        value: key,\n        label,\n        testId: 'system-font-style-trigger',\n        style: { fontFamily: value },\n      } satisfies RadioItem;\n    });\n  }, [t]);\n\n  return (\n    <RadioGroup\n      items={radioItems}\n      value={appSettings.fontStyle}\n      width={250}\n      className={settingWrapper}\n      onChange={useCallback(\n        (value: AppSetting['fontStyle']) => {\n          updateSettings('fontStyle', value);\n        },\n        [updateSettings]\n      )}\n    />\n  );\n};\n\nexport const AppearanceSettings = () => {\n  const t = useI18n();\n\n  const { appSettings, updateSettings } = useAppSettingHelper();\n\n  return (\n    <>\n      <SettingHeader\n        title={t['com.affine.appearanceSettings.title']()}\n        subtitle={t['com.affine.appearanceSettings.subtitle']()}\n      />\n\n      <SettingWrapper title={t['com.affine.appearanceSettings.theme.title']()}>\n        <SettingRow\n          name={t['com.affine.appearanceSettings.color.title']()}\n          desc={t['com.affine.appearanceSettings.color.description']()}\n        >\n          <ThemeSettings />\n        </SettingRow>\n        <SettingRow\n          name={t['com.affine.appearanceSettings.font.title']()}\n          desc={t['com.affine.appearanceSettings.font.description']()}\n        >\n          <FontFamilySettings />\n        </SettingRow>\n        <SettingRow\n          name={t['com.affine.appearanceSettings.language.title']()}\n          desc={t['com.affine.appearanceSettings.language.description']()}\n        >\n          <div className={settingWrapper}>\n            <LanguageMenu />\n          </div>\n        </SettingRow>\n        {environment.isDesktop ? (\n          <SettingRow\n            name={t['com.affine.appearanceSettings.clientBorder.title']()}\n            desc={t['com.affine.appearanceSettings.clientBorder.description']()}\n            data-testid=\"client-border-style-trigger\"\n          >\n            <Switch\n              checked={appSettings.clientBorder}\n              onChange={checked => updateSettings('clientBorder', checked)}\n            />\n          </SettingRow>\n        ) : null}\n\n        <SettingRow\n          name={t['com.affine.appearanceSettings.fullWidth.title']()}\n          desc={t['com.affine.appearanceSettings.fullWidth.description']()}\n        >\n          <Switch\n            data-testid=\"full-width-layout-trigger\"\n            checked={appSettings.fullWidthLayout}\n            onChange={checked => updateSettings('fullWidthLayout', checked)}\n          />\n        </SettingRow>\n        {runtimeConfig.enableNewSettingUnstableApi && environment.isDesktop ? (\n          <SettingRow\n            name={t['com.affine.appearanceSettings.windowFrame.title']()}\n            desc={t['com.affine.appearanceSettings.windowFrame.description']()}\n          >\n            <RadioGroup\n              items={windowFrameStyleOptions.map(option => ({\n                value: option,\n                label:\n                  t[`com.affine.appearanceSettings.windowFrame.${option}`](),\n              }))}\n              value={appSettings.windowFrameStyle}\n              className={settingWrapper}\n              width={250}\n              onChange={(value: AppSetting['windowFrameStyle']) => {\n                updateSettings('windowFrameStyle', value);\n              }}\n            />\n          </SettingRow>\n        ) : null}\n        {runtimeConfig.enableThemeEditor ? <ThemeEditorSetting /> : null}\n      </SettingWrapper>\n      {runtimeConfig.enableNewSettingUnstableApi ? (\n        <SettingWrapper title={t['com.affine.appearanceSettings.date.title']()}>\n          <SettingRow\n            name={t['com.affine.appearanceSettings.dateFormat.title']()}\n            desc={t['com.affine.appearanceSettings.dateFormat.description']()}\n          >\n            <div className={settingWrapper}>\n              <DateFormatSetting />\n            </div>\n          </SettingRow>\n          <SettingRow\n            name={t['com.affine.appearanceSettings.startWeek.title']()}\n            desc={t['com.affine.appearanceSettings.startWeek.description']()}\n          >\n            <Switch\n              checked={appSettings.startWeekOnMonday}\n              onChange={checked => updateSettings('startWeekOnMonday', checked)}\n            />\n          </SettingRow>\n        </SettingWrapper>\n      ) : null}\n\n      {environment.isDesktop ? (\n        <SettingWrapper\n          title={t['com.affine.appearanceSettings.sidebar.title']()}\n        >\n          <SettingRow\n            name={t['com.affine.appearanceSettings.noisyBackground.title']()}\n            desc={t[\n              'com.affine.appearanceSettings.noisyBackground.description'\n            ]()}\n          >\n            <Switch\n              checked={appSettings.enableNoisyBackground}\n              onChange={checked =>\n                updateSettings('enableNoisyBackground', checked)\n              }\n            />\n          </SettingRow>\n          {environment.isMacOs && (\n            <SettingRow\n              name={t['com.affine.appearanceSettings.translucentUI.title']()}\n              desc={t[\n                'com.affine.appearanceSettings.translucentUI.description'\n              ]()}\n            >\n              <Switch\n                checked={appSettings.enableBlurBackground}\n                onChange={checked =>\n                  updateSettings('enableBlurBackground', checked)\n                }\n              />\n            </SettingRow>\n          )}\n        </SettingWrapper>\n      ) : null}\n    </>\n  );\n};\n","import type { ErrorInfo } from 'react';\nimport React, { useRef } from 'react';\nimport type { ErrorBoundaryProps } from 'react-error-boundary';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport { useSWRConfig } from 'swr';\n\n/**\n * If we use suspense mode in SWR, we need to preload or delete cache to retry request.\n * Or the error will be cached and the request will not be retried.\n *\n * Reference:\n * https://github.com/vercel/swr/issues/2740\n * https://github.com/vercel/swr/blob/main/core/src/use-swr.ts#L690\n * https://github.com/vercel/swr/tree/main/examples/suspense-retry\n */\nexport const SWRErrorBoundary = (props: ErrorBoundaryProps) => {\n  const { onReset, onError } = props;\n  const errorsRef = useRef<Error[]>([]);\n  const { cache } = useSWRConfig();\n\n  const clearErrorCache = React.useCallback(() => {\n    const errors = errorsRef.current;\n    errorsRef.current = [];\n\n    for (const key of cache.keys()) {\n      const item = cache.get(key);\n      if (errors.includes(item?.error)) {\n        cache.delete(key);\n      }\n    }\n  }, [cache]);\n\n  const onResetWithSWR = React.useCallback(\n    (details: any) => {\n      clearErrorCache();\n      onReset?.(details);\n    },\n    [clearErrorCache, onReset]\n  );\n\n  const onErrorWithSWR = React.useCallback(\n    (error: Error, info: ErrorInfo) => {\n      errorsRef.current.push(error);\n      onError?.(error, info);\n    },\n    [onError]\n  );\n\n  React.useEffect(() => clearErrorCache, [clearErrorCache]);\n\n  return (\n    <ErrorBoundary {...props} onReset={onResetWithSWR} onError={onErrorWithSWR}>\n      {props.children}\n    </ErrorBoundary>\n  );\n};\n","import \"../core/src/components/affine/setting-modal/general-setting/plans/style.css.ts.vanilla.css!=!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/general-setting/plans/style.css.ts.vanilla.css\\\",\\\"source\\\":\\\"#H4sIAAAAAAAACsVY227jNhB9z1cQWRSIsWEgObabZdB9KLBfURQFJY0kbihSS1K2nGL/vRB1o26+JF3kyQBFzhnOnDkz9MM//ppqozce+vcGoQOLTEqQ73m/Pd/8vHlov/r2a8R0zumRoJhD+XyDEOUsEZgZyDRBIQgDqlpOaE6Qv8vtnowJnAJLUkPQxqvWHLtrazeWwuBDt8d7btc0ewWC9lTdYUzjmAnAdr3Uq2oPrxZa22uvxgsll2p0yEBpsIZQioiqI7ZbVgNHHqeO7H6BI4GiIprD31j8jKqECcwhrgJxqZm5ADqmtyRmShvMwRhQFsfGwygqdCxVRlCR56BCqmFwcNfH5C33n7DF0uJpxIAd+op0ToXFelvufrdncxpFTCRY1V6ElId3tSENxlRfMhlRjhOa43KFPqNHLy9Xy462/G1KImYGh1IYEGYA/mTBAxq+JEoWbVbG+eo/54pl7j1GBbJ2qqZBXm+f6rVAqggUVjRihe4drJcJ8vMSaclZNMKuT/V4udTMMCkIUsCpYXuoVgsNCmvgEBqChBR20VKk2Uw5R97D+lEjGBPliZAAYqmgSaKNEkG3t0M4GmjJC2Mtu1mq1AZ9RsvJsm7rUEnOsRY0x1Z3CNKGqlE2/oqooTgslAJh/rg1qoDbv+sUOXEg9c1yqsbp/FJzadZnJjQYgryZXDCRgmKmvi+rdBDDHoTRfSxfMRMRlAT5Q0BCaNzW5UWhMzJvnKh1wnPi2fhmjMzOOtryZt3xZhAUl9TEVjhVOKnsgDB3/pMXQXK/LEv36JP/7cvu25+Pj6vWiUBawuIDBC/M4Izql6nlT3EcIw95q66iA1neL28bW8ShzGzggKAItGGCVjHEsrCXGm+BMuRFZAMrcxoyc2wC53K/+bLI/3nWzee4QxnyILhIR0a6P7fnkDIDdaHX8SPIy0u0m9WQpsd00r0ZSTcTVtoDLsOXgbvhab2GLE+pZtqVObe3NYo22zcuaTiDhrf15ph++ir9nSezTjQ/61S/OGIKwpoToeRFJiZTkN3WCJOTAr+qsk6xncJa6hNyD4rTI86pAO6E8Vw947r6bZy7Xd70uxWMExsu7ydzQ1PlfczlgaCURRGIpb4zCPtXRIQ0d90KrEZiPHsu/r8nN8d28qHjaVczbUbGs1P6tqsHVMOyg4vBYFO07QcEwxmOHee+1/OzM0qt5zTGn533pgUMIhqYfzk/Cqd467rZNORxyvi1c+4ZVJ0NZ+Hs5DNO1o1Kp/KA06pG21513zcrQewXdOpQTLlu56oumvWgcxqtOXglnDPFdWjTlpRf/Fy5Qtv7N8u8mDv4P67tG9b2mMjqQ6vMcUTPX8cNyCzaoJiEVBnlA7vmqr8SFtXIVO/GfbJYTosv7eJd7b33bDGq0xfe+cw5/u3d12zDNc/eHy09rM9QrDIxgDiMK8XfziV048xjo/Z38eUd1HKCuplDXb+HtMf55H4vtGHxEXfvq17kmxi17G3fHPaRNSHd65VTr/sPmvcu5ffXiyXngvj93zsRhFLRmhCFiEBVR59vfv4HkLErdPITAAA=\\\"}!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var cloudSelect = '_12asts46';\nexport var discountLabel = '_12asts4c';\nexport var downgradeCaption = '_12asts4x';\nexport var downgradeContent = '_12asts4w';\nexport var downgradeContentWrapper = '_12asts4v';\nexport var downgradeFooter = '_12asts4y';\nexport var errorTip = '_12asts410';\nexport var errorTipRetry = '_12asts411';\nexport var planAction = '_12asts4m';\nexport var planBenefit = '_12asts4s';\nexport var planBenefitGroup = '_12asts4q';\nexport var planBenefitGroupTitle = '_12asts4r';\nexport var planBenefitIcon = '_12asts4t';\nexport var planBenefitText = '_12asts4u';\nexport var planBenefits = '_12asts4p';\nexport var planCard = '_12asts48';\nexport var planCardBorderMock = '_12asts49';\nexport var planCardsWrapper = '_12asts47';\nexport var planPrice = '_12asts4k';\nexport var planPriceDesc = '_12asts4l';\nexport var planPriceWrapper = '_12asts4j';\nexport var planTitle = '_12asts4d';\nexport var planTitleDescription = '_12asts4g';\nexport var planTitleName = '_12asts4f';\nexport var planTitleSpotlight = '_12asts4e';\nexport var planTitleTitle = '_12asts4h';\nexport var planTitleTitleCaption = '_12asts4i';\nexport var proPlanCard = '_12asts4a _12asts48';\nexport var proPlanTitle = '_12asts4b';\nexport var radioButtonDiscount = '_12asts44';\nexport var radioButtonText = '_12asts45';\nexport var recurringToggleDiscount = '_12asts43';\nexport var recurringToggleRecurring = '_12asts42';\nexport var recurringToggleWrapper = '_12asts41';\nexport var resumeAction = '_12asts4n _12asts4m';\nexport var resumeContent = '_12asts4o';\nexport var textEmphasis = '_12asts4z';\nexport var wrapper = '_12asts40';","import { Button } from '@affine/component/ui/button';\nimport type { ConfirmModalProps } from '@affine/component/ui/modal';\nimport { ConfirmModal, Modal } from '@affine/component/ui/modal';\nimport { useI18n } from '@affine/i18n';\nimport { DialogTrigger } from '@radix-ui/react-dialog';\nimport type { ReactNode } from 'react';\nimport { useEffect, useRef } from 'react';\n\nimport * as styles from './style.css';\n\n/**\n *\n * @param param0\n * @returns\n */\nexport const ConfirmLoadingModal = ({\n  type,\n  loading,\n  open,\n  content,\n  onOpenChange,\n  onConfirm,\n  ...props\n}: {\n  type: 'resume' | 'change';\n  loading?: boolean;\n  content?: ReactNode;\n} & ConfirmModalProps) => {\n  const t = useI18n();\n  const confirmed = useRef(false);\n\n  const title = t[`com.affine.payment.modal.${type}.title`]();\n  const confirmText = t[`com.affine.payment.modal.${type}.confirm`]();\n  const cancelText = t[`com.affine.payment.modal.${type}.cancel`]();\n  const contentText =\n    type !== 'change' ? t[`com.affine.payment.modal.${type}.content`]() : '';\n\n  useEffect(() => {\n    if (!loading && open && confirmed.current) {\n      onOpenChange?.(false);\n      confirmed.current = false;\n    }\n  }, [loading, open, onOpenChange]);\n\n  return (\n    <ConfirmModal\n      title={title}\n      cancelText={cancelText}\n      confirmText={confirmText}\n      confirmButtonOptions={{\n        variant: 'primary',\n        loading,\n      }}\n      open={open}\n      onOpenChange={onOpenChange}\n      onConfirm={() => {\n        confirmed.current = true;\n        onConfirm?.()?.catch(console.error);\n      }}\n      {...props}\n    >\n      {content ?? contentText}\n    </ConfirmModal>\n  );\n};\n\n/**\n * Downgrade modal, confirm & cancel button are reversed\n * @param param0\n */\nexport const DowngradeModal = ({\n  open,\n  loading,\n  onOpenChange,\n  onCancel,\n}: {\n  loading?: boolean;\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  onCancel?: () => void;\n}) => {\n  const t = useI18n();\n  const canceled = useRef(false);\n\n  useEffect(() => {\n    if (!loading && open && canceled.current) {\n      onOpenChange?.(false);\n      canceled.current = false;\n    }\n  }, [loading, open, onOpenChange]);\n\n  return (\n    <Modal\n      title={t['com.affine.payment.modal.downgrade.title']()}\n      open={open}\n      contentOptions={{}}\n      width={480}\n      onOpenChange={onOpenChange}\n    >\n      <div className={styles.downgradeContentWrapper}>\n        <p className={styles.downgradeContent}>\n          {t['com.affine.payment.modal.downgrade.content']()}\n        </p>\n        <p className={styles.downgradeCaption}>\n          {t['com.affine.payment.modal.downgrade.caption']()}\n        </p>\n      </div>\n\n      <footer className={styles.downgradeFooter}>\n        <Button\n          onClick={() => {\n            canceled.current = true;\n            onCancel?.();\n          }}\n          loading={loading}\n        >\n          {t['com.affine.payment.modal.downgrade.cancel']()}\n        </Button>\n        <DialogTrigger asChild>\n          <Button\n            disabled={loading}\n            onClick={() => onOpenChange?.(false)}\n            variant=\"primary\"\n          >\n            {t['com.affine.payment.modal.downgrade.confirm']()}\n          </Button>\n        </DialogTrigger>\n      </footer>\n    </Modal>\n  );\n};\n","import { getDowngradeQuestionnaireLink } from '@affine/core/hooks/affine/use-subscription-notify';\nimport { useAsyncCallback } from '@affine/core/hooks/affine-async-hooks';\nimport { track } from '@affine/core/mixpanel';\nimport { SubscriptionPlan } from '@affine/graphql';\nimport { useLiveData, useService } from '@toeverything/infra';\nimport { nanoid } from 'nanoid';\nimport type { PropsWithChildren } from 'react';\nimport { useEffect, useState } from 'react';\n\nimport { AuthService, SubscriptionService } from '../../../../../modules/cloud';\nimport { useDowngradeNotify } from '../../../subscription-landing/notify';\nimport { ConfirmLoadingModal, DowngradeModal } from './modals';\n\n/**\n * Cancel action with modal & request\n * @param param0\n * @returns\n */\nexport const CancelAction = ({\n  children,\n  open,\n  onOpenChange,\n}: {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n} & PropsWithChildren) => {\n  const [idempotencyKey, setIdempotencyKey] = useState(nanoid());\n  const [isMutating, setIsMutating] = useState(false);\n  const subscription = useService(SubscriptionService).subscription;\n  const proSubscription = useLiveData(subscription.pro$);\n  const authService = useService(AuthService);\n  const downgradeNotify = useDowngradeNotify();\n\n  useEffect(() => {\n    if (!open || !proSubscription) return;\n    track.$.settingsPanel.plans.cancelSubscription({\n      plan: proSubscription.plan,\n      recurring: proSubscription.recurring,\n    });\n  }, [open, proSubscription]);\n\n  const downgrade = useAsyncCallback(async () => {\n    try {\n      const account = authService.session.account$.value;\n      const prevRecurring = subscription.pro$.value?.recurring;\n      setIsMutating(true);\n      await subscription.cancelSubscription(idempotencyKey);\n      subscription.revalidate();\n      await subscription.isRevalidating$.waitFor(v => !v);\n      // refresh idempotency key\n      setIdempotencyKey(nanoid());\n      onOpenChange(false);\n      const proSubscription = subscription.pro$.value;\n      if (proSubscription) {\n        track.$.settingsPanel.plans.confirmCancelingSubscription({\n          plan: proSubscription.plan,\n          recurring: proSubscription.recurring,\n        });\n      }\n      if (account && prevRecurring) {\n        downgradeNotify(\n          getDowngradeQuestionnaireLink({\n            email: account.email ?? '',\n            id: account.id,\n            name: account.info?.name ?? '',\n            plan: SubscriptionPlan.Pro,\n            recurring: prevRecurring,\n          })\n        );\n      }\n    } finally {\n      setIsMutating(false);\n    }\n  }, [\n    authService.session.account$.value,\n    subscription,\n    idempotencyKey,\n    onOpenChange,\n    downgradeNotify,\n  ]);\n\n  return (\n    <>\n      {children}\n      <DowngradeModal\n        open={open}\n        onCancel={downgrade}\n        onOpenChange={onOpenChange}\n        loading={isMutating}\n      />\n    </>\n  );\n};\n\n/**\n * Resume payment action with modal & request\n * @param param0\n * @returns\n */\nexport const ResumeAction = ({\n  children,\n  open,\n  onOpenChange,\n}: {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n} & PropsWithChildren) => {\n  // allow replay request on network error until component unmount or success\n  const [idempotencyKey, setIdempotencyKey] = useState(nanoid());\n  const [isMutating, setIsMutating] = useState(false);\n  const subscription = useService(SubscriptionService).subscription;\n\n  const resume = useAsyncCallback(async () => {\n    try {\n      setIsMutating(true);\n      await subscription.resumeSubscription(idempotencyKey);\n      subscription.revalidate();\n      await subscription.isRevalidating$.waitFor(v => !v);\n      // refresh idempotency key\n      setIdempotencyKey(nanoid());\n      onOpenChange(false);\n      const proSubscription = subscription.pro$.value;\n      if (proSubscription) {\n        track.$.settingsPanel.plans.confirmResumingSubscription({\n          plan: proSubscription.plan,\n          recurring: proSubscription.recurring,\n        });\n      }\n    } finally {\n      setIsMutating(false);\n    }\n  }, [subscription, idempotencyKey, onOpenChange]);\n\n  return (\n    <>\n      {children}\n      <ConfirmLoadingModal\n        type={'resume'}\n        open={open}\n        onConfirm={resume}\n        onOpenChange={onOpenChange}\n        loading={isMutating}\n      />\n    </>\n  );\n};\n","import {\n  affineIconGradientStart,\n  affineIconGradientStop,\n} from './believer-card.css';\n\nexport const bgAFFiNERaw = `<svg \n  width=\"352\" \n  height=\"320\" \n  viewBox=\"0 0 352 320\" \n  fill=\"none\" \n  xmlns=\"http://www.w3.org/2000/svg\"\n  class=\"affine-svg\"\n>\n  <g filter=\"url(#filter0_dddd_782_4147)\">\n    <path \n      fill=\"url(#believerAffineIconGradient)\"\n      class=\"affine\"\n      fill-rule=\"evenodd\" \n      clip-rule=\"evenodd\" \n      d=\"M116.696 47.3266C123.09 36.2513 127.89 27.9391 130.138 24.0455L130.131 24.0532C131.853 21.0201 136.347 21.0584 138.07 24.0532C138.899 25.4399 140.482 28.2114 142.109 31.0592L142.112 31.0646L142.113 31.0662C143.926 34.2404 145.793 37.5081 146.729 39.0578C159.768 61.6638 175.427 88.7902 191.338 116.352L191.353 116.378C198.777 129.239 206.256 142.194 213.548 154.829L116.696 47.3266ZM95.6843 83.7222C65.9312 135.266 27.4975 201.875 21.1035 213.078C19.9705 215.804 22.0605 219.243 25.031 219.297C25.6193 219.354 29.0911 219.347 31.3338 219.343H31.3345H31.3351H31.3356H31.3361C32.1278 219.342 32.766 219.341 33.0697 219.343C38.9111 219.345 45.1459 219.347 51.6934 219.348L95.6843 83.7222ZM94.8237 219.35C111.168 219.349 128.22 219.347 145.141 219.345C180.097 219.34 214.49 219.336 240.911 219.343L241.212 219.343H241.213C242.07 219.344 243.123 219.345 243.177 219.297C243.387 219.315 243.57 219.273 243.751 219.232C243.88 219.202 244.008 219.173 244.142 219.167C246.615 218.424 248.108 215.513 247.105 213.085C247.007 212.944 246.967 212.852 246.908 212.721C246.824 212.532 246.703 212.26 246.324 211.638C242.34 204.727 238.108 197.391 233.697 189.745L94.8237 219.35ZM144.914 11.4689C136.24 5.09634 123.501 7.80009 118.203 17.1521C113.965 24.553 101.087 46.8414 85.5332 73.7598C55.3395 126.015 15.0642 195.719 8.34886 207.831C4.21469 217.757 9.97191 229.53 20.3226 232.417C23.369 233.225 26.5304 233.17 29.5054 233.117C30.7322 233.095 31.9274 233.074 33.0697 233.114C60.2291 233.14 95.7969 233.126 131.767 233.111C171.174 233.095 211.065 233.078 240.911 233.114C242.565 233.145 245.451 233.114 247.886 232.425C255.396 230.334 260.977 223.188 261.199 215.398C261.284 212.817 260.801 210.236 259.867 207.846C259.015 205.998 258.311 204.797 257.619 203.617L257.619 203.617C257.354 203.164 257.09 202.714 256.82 202.232L251.048 192.229C238.163 169.9 221.518 141.059 204.873 112.217L204.167 110.993C187.749 82.5434 171.382 54.1817 158.672 32.1567L152.899 22.1537L150.013 17.1521C148.704 14.9845 146.989 13.0084 144.914 11.4689ZM215.983 167.938C213.319 165.616 210.582 163.395 207.767 161.299L113.985 206.625C113.754 206.788 113.522 206.95 113.289 207.111L226.643 179.013L215.983 167.938ZM134.763 187.748L196.966 154.14C193.36 152.042 189.636 150.163 185.788 148.543L134.763 187.748ZM144.168 170.768L174.282 144.611C172.663 144.183 171.023 143.802 169.362 143.469C166.442 142.936 163.506 142.562 160.552 142.374L144.168 170.768ZM129.17 179.638C127.529 182.104 125.738 184.462 123.815 186.722C122.704 187.988 121.561 189.211 120.388 190.394L112.8 151.268L129.17 179.638ZM112.596 133.826C111.282 131.172 110.136 128.44 109.139 125.639C108.601 124.047 108.115 122.449 107.679 120.846L145.334 133.826H112.596ZM105.342 83.7389L190.087 141.396C190.209 141.45 190.33 141.504 190.452 141.558C190.535 141.596 190.619 141.633 190.702 141.671L110.653 58.5003L108.898 64.5935C107.307 70.9253 106.076 77.3241 105.342 83.7389ZM88.0881 211.55C80.8724 214.586 73.3244 216.987 65.645 218.921L64.3555 219.241L95.4864 111.157L88.0881 211.55ZM111.196 198.43C107.536 201.207 103.681 203.696 99.6707 205.931L101.828 129.939C102 130.403 102.176 130.866 102.356 131.328L111.196 198.43ZM163.608 132.998L104.577 96.6275C104.573 100.712 104.808 104.79 105.317 108.847L163.608 132.998ZM119.438 145.959L131.963 167.657H131.97C132.927 169.312 135.308 169.312 136.265 167.657L148.79 145.959C149.74 144.304 148.545 142.236 146.639 142.236H121.589C119.675 142.236 118.481 144.304 119.438 145.959Z\" \n    />\n  </g>\n  <defs>\n    <linearGradient \n      id=\"believerAffineIconGradient\" \n      x1=\"0\" \n      y1=\"0\" \n      x2=\"352\" \n      y2=\"320\" \n      gradientUnits=\"userSpaceOnUse\"\n    >\n      <stop stop-color=\"${affineIconGradientStart}\"/>\n      <stop offset=\"1\" stop-color=\"${affineIconGradientStop}\"/>\n    </linearGradient>\n    <filter id=\"filter0_dddd_782_4147\" x=\"0\" y=\"0\" width=\"351.209\" height=\"319.144\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\n      <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\n      <feOffset dx=\"4\" dy=\"3\"/>\n      <feGaussianBlur stdDeviation=\"5.5\"/>\n      <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.34902 0 0 0 0 0.34902 0 0 0 0 0.34902 0 0 0 0.1 0\"/>\n      <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow_782_4147\"/>\n      <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\n      <feOffset dx=\"14\" dy=\"14\"/>\n      <feGaussianBlur stdDeviation=\"10\"/>\n      <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.34902 0 0 0 0 0.34902 0 0 0 0 0.34902 0 0 0 0.09 0\"/>\n      <feBlend mode=\"normal\" in2=\"effect1_dropShadow_782_4147\" result=\"effect2_dropShadow_782_4147\"/>\n      <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\n      <feOffset dx=\"32\" dy=\"30\"/>\n      <feGaussianBlur stdDeviation=\"13.5\"/>\n      <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.34902 0 0 0 0 0.34902 0 0 0 0 0.34902 0 0 0 0.05 0\"/>\n      <feBlend mode=\"normal\" in2=\"effect2_dropShadow_782_4147\" result=\"effect3_dropShadow_782_4147\"/>\n      <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\n      <feOffset dx=\"58\" dy=\"54\"/>\n      <feGaussianBlur stdDeviation=\"16\"/>\n      <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.34902 0 0 0 0 0.34902 0 0 0 0 0.34902 0 0 0 0.01 0\"/>\n      <feBlend mode=\"normal\" in2=\"effect3_dropShadow_782_4147\" result=\"effect4_dropShadow_782_4147\"/>\n      <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect4_dropShadow_782_4147\" result=\"shape\"/>\n    </filter>\n  </defs>\n</svg>\n`;\n\nexport const bgIconsRaw = `<svg\n  class=\"icons-svg\"\n  width=\"167\" \n  height=\"174\" \n  viewBox=\"0 0 167 174\" \n  fill=\"none\" \n  xmlns=\"http://www.w3.org/2000/svg\"\n>\n  <g class=\"icons\">\n    <path fill=\"currentColor\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M148.989 6.74753C145.221 5.58339 141.223 7.69404 140.059 11.4618C139.9 11.9777 139.802 12.4964 139.761 13.0105C139.706 13.704 139.099 14.2216 138.405 14.1667C135.915 13.9694 133.532 15.5142 132.764 17.9999C131.873 20.8811 133.487 23.9385 136.369 24.8287L150.816 29.2925C154.583 30.4566 158.581 28.3459 159.746 24.5782C160.91 20.8104 158.799 16.8123 155.031 15.6482C154.986 15.6341 154.94 15.6205 154.894 15.6073C154.309 15.439 153.928 14.8767 153.989 14.2711C154.319 10.9618 152.289 7.76701 148.989 6.74753ZM137.651 10.7178C139.226 5.62029 144.636 2.76471 149.733 4.33972C153.864 5.61605 156.521 9.40853 156.544 13.5133C161.155 15.3711 163.647 20.4868 162.153 25.3221C160.578 30.4197 155.169 33.2753 150.072 31.7003L135.625 27.2365C131.414 25.9354 129.055 21.467 130.356 17.256C131.356 14.0189 134.226 11.878 137.413 11.6499C137.476 11.3384 137.556 11.0274 137.651 10.7178Z\" />\n    <path fill=\"currentColor\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M123.676 148.269L128.617 149.932C129.889 146.577 131.619 143.709 133.495 141.716C133.878 141.31 134.28 140.927 134.697 140.58C129.985 140.892 125.67 143.774 123.676 148.269ZM140.477 138.924C132.398 136.205 123.644 140.549 120.924 148.628C118.205 156.707 122.549 165.46 130.628 168.18C138.706 170.9 147.46 166.555 150.18 158.477C152.9 150.398 148.555 141.644 140.477 138.924ZM139.699 141.234C138.714 140.903 137.144 141.396 135.269 143.387C133.669 145.087 132.106 147.632 130.929 150.71L140.953 154.085C141.877 150.921 142.172 147.949 141.925 145.628C141.636 142.909 140.684 141.566 139.699 141.234ZM143.264 154.863C144.281 151.422 144.638 148.091 144.348 145.37C144.289 144.815 144.2 144.267 144.078 143.738C147.642 146.836 149.336 151.741 148.206 156.526L143.264 154.863ZM140.175 156.394L130.151 153.02C129.227 156.183 128.932 159.155 129.179 161.477C129.469 164.196 130.42 165.539 131.405 165.871C132.39 166.202 133.96 165.708 135.835 163.717C137.436 162.018 138.998 159.473 140.175 156.394ZM136.407 166.525C136.824 166.177 137.226 165.795 137.609 165.388C139.485 163.396 141.215 160.528 142.487 157.173L147.428 158.836C145.435 163.331 141.119 166.213 136.407 166.525ZM127.026 163.367C126.904 162.838 126.815 162.29 126.756 161.734C126.467 159.013 126.823 155.683 127.84 152.242L122.899 150.578C121.768 155.364 123.462 160.269 127.026 163.367Z\" />\n    <g class=\"star\">\n      <path fill=\"currentColor\" d=\"M16.4781 27.0219C16.2651 26.4531 15.6593 26.1346 15.07 26.2816C14.4807 26.4286 14.0955 26.9944 14.1746 27.5965C14.6893 31.5122 14.222 34.4734 12.8463 36.769C11.4706 39.0645 9.07964 40.8729 5.38392 42.2654C4.81558 42.4796 4.49833 43.0861 4.64655 43.675C4.79477 44.264 5.36129 44.6481 5.9633 44.5677C9.81233 44.0538 12.8303 44.5064 15.1718 45.8808C17.5046 47.25 19.3365 49.6344 20.6191 53.3293C20.8222 53.9144 21.4388 54.2473 22.0395 54.0961C22.6401 53.9449 23.0256 53.3597 22.9275 52.7481C22.3179 48.9507 22.7939 45.9282 24.2039 43.5753C25.6139 41.2225 28.0549 39.3775 31.6911 38.1244C32.2767 37.9226 32.6109 37.3068 32.4611 36.7058C32.3112 36.1048 31.7269 35.718 31.1151 35.8148C27.252 36.426 24.2855 35.9348 21.9781 34.5233C19.662 33.1064 17.8399 30.6585 16.4781 27.0219Z\" />\n      <path fill=\"currentColor\" d=\"M27.5899 18.6428C27.5071 18.4216 27.2715 18.2978 27.0423 18.355C26.8132 18.4121 26.6634 18.6321 26.6941 18.8663C26.8943 20.3891 26.7125 21.5407 26.1776 22.4334C25.6426 23.3261 24.7128 24.0293 23.2755 24.5709C23.0545 24.6542 22.9311 24.89 22.9888 25.1191C23.0464 25.3481 23.2667 25.4975 23.5008 25.4662C24.9977 25.2664 26.1713 25.4424 27.0819 25.9769C27.9891 26.5093 28.7015 27.4366 29.2003 28.8735C29.2793 29.101 29.5191 29.2305 29.7527 29.1717C29.9863 29.1129 30.1362 28.8853 30.098 28.6475C29.861 27.1707 30.0461 25.9953 30.5944 25.0803C31.1427 24.1653 32.092 23.4478 33.5061 22.9605C33.7338 22.882 33.8638 22.6425 33.8055 22.4088C33.7472 22.1751 33.52 22.0247 33.2821 22.0623C31.7798 22.3 30.6261 22.109 29.7288 21.56C28.8281 21.009 28.1195 20.0571 27.5899 18.6428Z\" />\n    </g>\n    <path fill=\"currentColor\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M39.763 123.789C37.1323 124.113 35.508 126.75 36.1349 129.679L38.9392 142.784C39.5661 145.713 42.2069 147.826 44.8375 147.502L47.2471 147.206L48.676 153.883C48.7894 154.413 49.1784 154.855 49.6616 155.004C50.1447 155.153 50.6269 154.979 50.8832 154.562L56.0842 146.119L62.7695 145.298C65.4002 144.974 67.0246 142.337 66.3977 139.408L63.5933 126.304C62.9664 123.374 60.3257 121.262 57.695 121.585L39.763 123.789ZM38.4884 129.39C38.1713 127.908 38.993 126.574 40.3238 126.41L58.2559 124.206C59.5867 124.042 60.9226 125.111 61.2397 126.593L64.0441 139.697C64.3612 141.179 63.5395 142.513 62.2087 142.677L55.0359 143.559C54.7238 143.597 54.454 143.772 54.2859 144.045L50.3526 150.43L49.3203 145.606C49.1654 144.882 48.513 144.36 47.863 144.44L44.2766 144.881C42.9458 145.045 41.6099 143.976 41.2928 142.494L38.4884 129.39ZM46.0992 137.8C46.9663 137.693 47.5013 136.822 47.2942 135.855C47.0872 134.888 46.2165 134.191 45.3494 134.298C44.4824 134.405 43.9474 135.275 44.1544 136.242C44.3615 137.21 45.2322 137.907 46.0992 137.8ZM52.9661 134.72C53.1732 135.687 52.6381 136.558 51.7711 136.665C50.9041 136.772 50.0334 136.075 49.8263 135.108C49.6193 134.141 50.1543 133.27 51.0213 133.163C51.8884 133.056 52.7591 133.753 52.9661 134.72ZM57.443 135.53C58.31 135.423 58.8451 134.552 58.638 133.585C58.431 132.618 57.5602 131.921 56.6932 132.028C55.8262 132.135 55.2912 133.006 55.4982 133.973C55.7053 134.94 56.576 135.637 57.443 135.53Z\" />\n    <path fill=\"currentColor\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M93.966 64.4554L93.9641 64.4567L92.0333 65.8359L94.2622 66.0913C94.8579 66.1595 95.2854 66.6977 95.2172 67.2933C95.1489 67.889 94.6108 68.3165 94.0151 68.2483L88.9821 67.6717C88.3864 67.6035 87.9589 67.0653 88.0271 66.4697L88.5945 61.5165C88.6628 60.9209 89.2009 60.4933 89.7966 60.5616C90.3922 60.6298 90.8198 61.168 90.7515 61.7636L90.4621 64.2901L92.7097 62.6846C95.1632 60.9478 98.2435 60.0723 101.465 60.4414C108.415 61.2375 113.403 67.5162 112.607 74.4654C111.811 81.4146 105.532 86.4027 98.5826 85.6066C92.5931 84.9205 88.0626 80.1627 87.433 74.4134C87.3678 73.8175 87.798 73.2814 88.394 73.2162C88.9899 73.1509 89.526 73.5811 89.5912 74.1771C90.1129 78.9404 93.8694 82.8814 98.8297 83.4496C104.588 84.1092 109.79 79.9762 110.45 74.2183C111.109 68.4604 106.976 63.258 101.218 62.5984C98.5483 62.2926 96.0001 63.0161 93.966 64.4554Z\" />\n    <path fill=\"currentColor\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M100.889 65.4744C101.484 65.5427 101.912 66.0809 101.844 66.6765L101.154 72.7008L104.694 77.157C105.067 77.6264 104.989 78.3093 104.519 78.6822C104.05 79.0551 103.367 78.9769 102.994 78.5075L99.2113 73.7462C99.0083 73.4907 98.9152 73.1651 98.9523 72.8409L99.6868 66.4294C99.755 65.8338 100.293 65.4062 100.889 65.4744Z\" />\n  </g>\n</svg>\n`;\n","import clsx from 'clsx';\nimport type { HTMLAttributes } from 'react';\n\nimport { bgAFFiNERaw, bgIconsRaw } from './assets';\nimport { bg, card, content } from './believer-card.css';\n\nexport const BelieverCard = ({\n  children,\n  type,\n  className,\n  ...attrs\n}: HTMLAttributes<HTMLDivElement> & {\n  type: 1 | 2;\n}) => {\n  return (\n    <div className={clsx(card, className)} data-type={type} {...attrs}>\n      <div\n        className={bg}\n        dangerouslySetInnerHTML={{ __html: `${bgAFFiNERaw}${bgIconsRaw}` }}\n      />\n      <div className={content}>{children}</div>\n    </div>\n  );\n};\n","import \"../core/src/components/affine/setting-modal/general-setting/plans/lifetime/believer-card.css.ts.vanilla.css!=!../../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/general-setting/plans/lifetime/believer-card.css.ts.vanilla.css\\\",\\\"source\\\":\\\"#H4sIAAAAAAAACqVVYW/aMBD9zq84UaGChCM7QMWMui/TfsU0TSa+JFaDbTkGQqf+98khAUJTyjZZEHzY7917d3aiX2yx3Tu7jeH3AMCaUnllNAeHhfBqh6sBwF5Jn3NglI7CdKM0yVFluecQU2qrEFwbJ9ERJ6TalhzY0zFshZRKZ2GhrSCeXy7mwGwFpSmUhJ1wY0JEmiqNpMFKTGHcJKw3O3RpYfYcciUl6hpDJC+ZM1steXf3PlceJ6vB2yBqxc1uiHslSkusOMw6W+b1FkKk8RwevtMwerxofWjnZw6xLk2x9TWHN5ZDvb3A1Dc/zwKI2ogMOQTzREGy8ETtx4lySYHTRp40fgIsim01Be+ELq1wqP0xNLlCLNUrcmCxreqvq38dWhQ++BCeXd2ci9Sjq+UnRnvUnsNw+LG4Txzp1X4ynQXyH1J4QXyOG3weSuFehj+hvxAuW4txvFhM2w+NWLfUcQN2sPg8ZB2gS2WX3VMojcKdbY9nTGLWNZmOpn1dBks6usEf/xv/F3o3//yafw5fodxlUbOs3GWNf+0CyuEhTdNVJ8jOwf4inwpGrwv2GAr22CnYHRksv4XxPon4KYzA8R5QJUaXJ7z6dmg6gk7rUffCpwriuxX0El5U5d7G6zfEHc8JYYvmCq1PCmHHG/WvkLuJtsDxJS6bNTNjRaL8gQONFvd2br+Afp9PsuanN4P3ZhMibQq1halxGw5lIgoc02ixvPsY9Wq+mQubL7uptG+n//DiTB+VXhwPtVSlLcSBgzYaV4O3P2f8TgxdBwAA\\\"}!../../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var affineIconGradientStart = 'var(--_15uwrpu0)';\nexport var affineIconGradientStop = 'var(--_15uwrpu1)';\nexport var bg = '_15uwrpu4';\nexport var card = '_15uwrpu2';\nexport var content = '_15uwrpu3';","import \"../core/src/components/affine/setting-modal/general-setting/plans/lifetime/benefits.css.ts.vanilla.css!=!../../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/general-setting/plans/lifetime/benefits.css.ts.vanilla.css\\\",\\\"source\\\":\\\"Ll8xcWZyOHo3MCB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGdhcDogOHB4Owp9Ci5fMXFmcjh6NzEgewogIGRpc3BsYXk6IGZsZXg7CiAgZ2FwOiA4cHg7CiAgYWxpZ24taXRlbXM6IHN0YXJ0OwogIGZvbnQtc2l6ZTogdmFyKC0tYWZmaW5lLWZvbnQteHMpOwogIGxpbmUtaGVpZ2h0OiAyMHB4OwogIGZvbnQtd2VpZ2h0OiA0MDA7Cn0KLl8xcWZyOHo3MSBzdmcgewogIHdpZHRoOiAyMHB4OwogIGhlaWdodDogMjBweDsKICBjb2xvcjogdmFyKC0tYWZmaW5lLWJyYW5kLWNvbG9yKTsKfQ==\\\"}!../../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var benefits = '_1qfr8z70';\nexport var li = '_1qfr8z71';","import { useI18n } from '@affine/i18n';\nimport { AfFiNeIcon, DoneIcon } from '@blocksuite/icons/rc';\nimport clsx from 'clsx';\nimport type { HTMLAttributes } from 'react';\n\nimport { benefits, li } from './benefits.css';\n\nexport const BelieverBenefits = ({\n  className,\n  ...attrs\n}: HTMLAttributes<HTMLUListElement>) => {\n  const t = useI18n();\n\n  return (\n    <ul className={clsx(benefits, className)} {...attrs}>\n      <li className={li}>\n        <AfFiNeIcon />\n        <span>{t['com.affine.payment.lifetime.benefit-1']()}</span>\n      </li>\n\n      <li className={li}>\n        <DoneIcon />\n        <span>{t['com.affine.payment.lifetime.benefit-2']()}</span>\n      </li>\n\n      <li className={li}>\n        <DoneIcon />\n        <span>\n          {t['com.affine.payment.lifetime.benefit-3']({\n            capacity: '1T',\n          })}\n        </span>\n      </li>\n    </ul>\n  );\n};\n","import \"../core/src/components/affine/setting-modal/general-setting/billing/style.css.ts.vanilla.css!=!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/general-setting/billing/style.css.ts.vanilla.css\\\",\\\"source\\\":\\\"#H4sIAAAAAAAACq1UwXKbMBC9+yv20pnmIA+4juMqM/kXgdawLUgaScS4nf57B+EQgSEkaU+MtNr33u6+ZfuzynVNKfzeAEhyphIXDqcK28cNhC+TZDH3pBWHXFdNrbqIqKhQjDzWjkOOyqPtrgthOOz2pn3c/Nlse+xdwD6T9CWHNEm+RLFv87w/GufpdGG5Vh6V5+CMyJFl6M+Igd8IKUkVHNKdCSmZthIth9S04HRFEp6F/cqYOJ1IIevDLNeVtnev75kVkhrH4TiSvA+yOjUcUkggiWL3IVYLW5BiXptp7qHP1cozR7+Qj3WE+5IdgoZwOCMVpedwSGKWh3WUTDi8i1KON8KGQUihCrS6ccyh96QK2CpRY0gILZngo7X6tVkDw/fFBI+tZw5zraSwl6jNb1bQuhhdrJccEiZ9u+/69oYqrE0pHLlIVN5Y1z02mnrjDhqyj+7BnOHzj4LUpFh5Lefh6ueFBbvZjJfQwC4/u1JX52Tae11PXY3rw3H1gqkBqu7RS4W7a4WLEzOW6thFg4jTux0yJkx6wpGy/Yptbs0cyXgCsbgKmRVKTjdgZNYBqPinvy4qGWGV096kx5mqZ+dx+Ow86D/OY22NZ+bxFxB1Os28BgAA\\\"}!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var believerHeader = 'klcomid';\nexport var believerPrice = 'klcomih';\nexport var believerPriceCaption = 'klcomii';\nexport var believerPriceWrapper = 'klcomig';\nexport var believerSubtitle = 'klcomif';\nexport var believerTitle = 'klcomie';\nexport var billingFrequency = 'klcomi7';\nexport var billingHistorySkeleton = 'klcomic';\nexport var currentPlan = 'klcomi4';\nexport var currentPlanName = 'klcomia';\nexport var history = 'klcomi1';\nexport var historyContent = 'klcomi2';\nexport var noInvoice = 'klcomi9';\nexport var paymentMethod = 'klcomi8';\nexport var planAction = 'klcomi5';\nexport var planCard = 'klcomi3';\nexport var planPrice = 'klcomi6';\nexport var subscription = 'klcomi0';\nexport var subscriptionSettingSkeleton = 'klcomib';","import { Skeleton } from '@affine/component';\nimport { Pagination } from '@affine/component/member-components';\nimport {\n  SettingHeader,\n  SettingRow,\n  SettingWrapper,\n} from '@affine/component/setting-components';\nimport { Button, IconButton } from '@affine/component/ui/button';\nimport { Loading } from '@affine/component/ui/loading';\nimport { getUpgradeQuestionnaireLink } from '@affine/core/hooks/affine/use-subscription-notify';\nimport { useAsyncCallback } from '@affine/core/hooks/affine-async-hooks';\nimport { track } from '@affine/core/mixpanel';\nimport type { InvoicesQuery } from '@affine/graphql';\nimport {\n  createCustomerPortalMutation,\n  getInvoicesCountQuery,\n  invoicesQuery,\n  InvoiceStatus,\n  SubscriptionPlan,\n  SubscriptionRecurring,\n  SubscriptionStatus,\n} from '@affine/graphql';\nimport { i18nTime, Trans, useI18n } from '@affine/i18n';\nimport { ArrowRightSmallIcon } from '@blocksuite/icons/rc';\nimport { useLiveData, useService } from '@toeverything/infra';\nimport { useSetAtom } from 'jotai';\nimport { Suspense, useCallback, useEffect, useState } from 'react';\n\nimport {\n  openSettingModalAtom,\n  type PlansScrollAnchor,\n} from '../../../../../atoms';\nimport { useMutation } from '../../../../../hooks/use-mutation';\nimport { useQuery } from '../../../../../hooks/use-query';\nimport { AuthService, SubscriptionService } from '../../../../../modules/cloud';\nimport { popupWindow } from '../../../../../utils';\nimport { SWRErrorBoundary } from '../../../../pure/swr-error-bundary';\nimport { CancelAction, ResumeAction } from '../plans/actions';\nimport { AICancel, AIResume, AISubscribe } from '../plans/ai/actions';\nimport { BelieverCard } from '../plans/lifetime/believer-card';\nimport { BelieverBenefits } from '../plans/lifetime/benefits';\nimport * as styles from './style.css';\n\nenum DescriptionI18NKey {\n  Basic = 'com.affine.payment.billing-setting.current-plan.description',\n  Monthly = 'com.affine.payment.billing-setting.current-plan.description.monthly',\n  Yearly = 'com.affine.payment.billing-setting.current-plan.description.yearly',\n  Lifetime = 'com.affine.payment.billing-setting.current-plan.description.lifetime',\n}\n\nconst INVOICE_PAGE_SIZE = 12;\n\nconst getMessageKey = (\n  plan: SubscriptionPlan,\n  recurring: SubscriptionRecurring\n): DescriptionI18NKey => {\n  if (plan !== SubscriptionPlan.Pro) {\n    return DescriptionI18NKey.Basic;\n  }\n  return DescriptionI18NKey[recurring];\n};\n\nexport const BillingSettings = () => {\n  const t = useI18n();\n\n  return (\n    <>\n      <SettingHeader\n        title={t['com.affine.payment.billing-setting.title']()}\n        subtitle={t['com.affine.payment.billing-setting.subtitle']()}\n      />\n      <SWRErrorBoundary FallbackComponent={SubscriptionSettingSkeleton}>\n        <Suspense fallback={<SubscriptionSettingSkeleton />}>\n          <SettingWrapper\n            title={t['com.affine.payment.billing-setting.information']()}\n          >\n            <SubscriptionSettings />\n          </SettingWrapper>\n        </Suspense>\n      </SWRErrorBoundary>\n      <SWRErrorBoundary FallbackComponent={BillingHistorySkeleton}>\n        <Suspense fallback={<BillingHistorySkeleton />}>\n          <SettingWrapper\n            title={t['com.affine.payment.billing-setting.history']()}\n          >\n            <BillingHistory />\n          </SettingWrapper>\n        </Suspense>\n      </SWRErrorBoundary>\n    </>\n  );\n};\n\nconst SubscriptionSettings = () => {\n  const t = useI18n();\n  const subscriptionService = useService(SubscriptionService);\n  useEffect(() => {\n    subscriptionService.subscription.revalidate();\n    subscriptionService.prices.revalidate();\n  }, [subscriptionService]);\n\n  const proSubscription = useLiveData(subscriptionService.subscription.pro$);\n  const proPrice = useLiveData(subscriptionService.prices.proPrice$);\n  const isBeliever = useLiveData(subscriptionService.subscription.isBeliever$);\n\n  const [openCancelModal, setOpenCancelModal] = useState(false);\n  const setOpenSettingModalAtom = useSetAtom(openSettingModalAtom);\n\n  const currentPlan = proSubscription?.plan ?? SubscriptionPlan.Free;\n  const currentRecurring =\n    proSubscription?.recurring ?? SubscriptionRecurring.Monthly;\n\n  const openPlans = useCallback(\n    (scrollAnchor?: PlansScrollAnchor) => {\n      track.$.settingsPanel.billing.viewPlans();\n      setOpenSettingModalAtom({\n        open: true,\n        activeTab: 'plans',\n        scrollAnchor: scrollAnchor,\n      });\n    },\n    [setOpenSettingModalAtom]\n  );\n  const gotoCloudPlansSetting = useCallback(\n    () => openPlans('cloudPricingPlan'),\n    [openPlans]\n  );\n  const gotoAiPlanSetting = useCallback(\n    () => openPlans('aiPricingPlan'),\n    [openPlans]\n  );\n\n  const amount = proSubscription\n    ? proPrice\n      ? proSubscription.recurring === SubscriptionRecurring.Monthly\n        ? String((proPrice.amount ?? 0) / 100)\n        : String((proPrice.yearlyAmount ?? 0) / 100)\n      : '?'\n    : '0';\n\n  return (\n    <div className={styles.subscription}>\n      <AIPlanCard onClick={gotoAiPlanSetting} />\n      {/* loaded  */}\n      {proSubscription !== null ? (\n        isBeliever ? (\n          <BelieverIdentifier onOpenPlans={gotoCloudPlansSetting} />\n        ) : (\n          <div className={styles.planCard}>\n            <div className={styles.currentPlan}>\n              <SettingRow\n                spreadCol={false}\n                name={t['com.affine.payment.billing-setting.current-plan']()}\n                desc={\n                  <Trans\n                    i18nKey={getMessageKey(currentPlan, currentRecurring)}\n                    values={{\n                      planName: currentPlan,\n                    }}\n                    components={{\n                      1: (\n                        <span\n                          onClick={gotoCloudPlansSetting}\n                          className={styles.currentPlanName}\n                        />\n                      ),\n                    }}\n                  />\n                }\n              />\n              <PlanAction\n                plan={currentPlan}\n                gotoPlansSetting={gotoCloudPlansSetting}\n              />\n            </div>\n            <p className={styles.planPrice}>\n              ${amount}\n              <span className={styles.billingFrequency}>\n                /\n                {currentRecurring === SubscriptionRecurring.Monthly\n                  ? t['com.affine.payment.billing-setting.month']()\n                  : t['com.affine.payment.billing-setting.year']()}\n              </span>\n            </p>\n          </div>\n        )\n      ) : (\n        <SubscriptionSettingSkeleton />\n      )}\n\n      <TypeFormLink />\n\n      {proSubscription !== null ? (\n        proSubscription?.status === SubscriptionStatus.Active && (\n          <>\n            <SettingRow\n              className={styles.paymentMethod}\n              name={t['com.affine.payment.billing-setting.payment-method']()}\n              desc={t[\n                'com.affine.payment.billing-setting.payment-method.description'\n              ]()}\n            >\n              <PaymentMethodUpdater />\n            </SettingRow>\n            {proSubscription.nextBillAt && (\n              <SettingRow\n                name={t['com.affine.payment.billing-setting.renew-date']()}\n                desc={t[\n                  'com.affine.payment.billing-setting.renew-date.description'\n                ]({\n                  renewDate: new Date(\n                    proSubscription.nextBillAt\n                  ).toLocaleDateString(),\n                })}\n              />\n            )}\n            {isBeliever ? null : proSubscription.end &&\n              proSubscription.canceledAt ? (\n              <SettingRow\n                name={t['com.affine.payment.billing-setting.expiration-date']()}\n                desc={t[\n                  'com.affine.payment.billing-setting.expiration-date.description'\n                ]({\n                  expirationDate: new Date(\n                    proSubscription.end\n                  ).toLocaleDateString(),\n                })}\n              >\n                <ResumeSubscription />\n              </SettingRow>\n            ) : (\n              <CancelAction\n                open={openCancelModal}\n                onOpenChange={setOpenCancelModal}\n              >\n                <SettingRow\n                  style={{ cursor: 'pointer' }}\n                  onClick={() => {\n                    setOpenCancelModal(true);\n                  }}\n                  className=\"dangerous-setting\"\n                  name={t[\n                    'com.affine.payment.billing-setting.cancel-subscription'\n                  ]()}\n                  desc={t[\n                    'com.affine.payment.billing-setting.cancel-subscription.description'\n                  ]()}\n                >\n                  <CancelSubscription />\n                </SettingRow>\n              </CancelAction>\n            )}\n          </>\n        )\n      ) : (\n        <SubscriptionSettingSkeleton />\n      )}\n    </div>\n  );\n};\n\nconst TypeFormLink = () => {\n  const t = useI18n();\n  const subscriptionService = useService(SubscriptionService);\n  const authService = useService(AuthService);\n\n  const pro = useLiveData(subscriptionService.subscription.pro$);\n  const ai = useLiveData(subscriptionService.subscription.ai$);\n  const account = useLiveData(authService.session.account$);\n\n  if (!account) return null;\n  if (!pro && !ai) return null;\n\n  const plan = [];\n  if (pro) plan.push(SubscriptionPlan.Pro);\n  if (ai) plan.push(SubscriptionPlan.AI);\n\n  const link = getUpgradeQuestionnaireLink({\n    name: account.info?.name,\n    id: account.id,\n    email: account.email,\n    recurring: pro?.recurring ?? ai?.recurring ?? SubscriptionRecurring.Yearly,\n    plan,\n  });\n\n  return (\n    <SettingRow\n      className={styles.paymentMethod}\n      name={t['com.affine.payment.billing-type-form.title']()}\n      desc={t['com.affine.payment.billing-type-form.description']()}\n    >\n      <a target=\"_blank\" href={link} rel=\"noreferrer\">\n        <Button>{t['com.affine.payment.billing-type-form.go']()}</Button>\n      </a>\n    </SettingRow>\n  );\n};\n\nconst BelieverIdentifier = ({ onOpenPlans }: { onOpenPlans?: () => void }) => {\n  const t = useI18n();\n  const subscriptionService = useService(SubscriptionService);\n  const readableLifetimePrice = useLiveData(\n    subscriptionService.prices.readableLifetimePrice$\n  );\n\n  if (!readableLifetimePrice) return null;\n\n  return (\n    <BelieverCard type={2} style={{ borderRadius: 8, padding: 12 }}>\n      <header className={styles.believerHeader}>\n        <div>\n          <div className={styles.believerTitle}>\n            {t['com.affine.payment.billing-setting.believer.title']()}\n          </div>\n          <div className={styles.believerSubtitle}>\n            <Trans\n              i18nKey={\n                'com.affine.payment.billing-setting.believer.description'\n              }\n              components={{\n                a: <a href=\"#\" onClick={onOpenPlans} />,\n              }}\n            />\n          </div>\n        </div>\n        <div className={styles.believerPriceWrapper}>\n          <div className={styles.believerPrice}>{readableLifetimePrice}</div>\n          <div className={styles.believerPriceCaption}>\n            {t['com.affine.payment.billing-setting.believer.price-caption']()}\n          </div>\n        </div>\n      </header>\n      <BelieverBenefits />\n    </BelieverCard>\n  );\n};\n\nconst AIPlanCard = ({ onClick }: { onClick: () => void }) => {\n  const t = useI18n();\n  const subscriptionService = useService(SubscriptionService);\n  useEffect(() => {\n    subscriptionService.subscription.revalidate();\n    subscriptionService.prices.revalidate();\n  }, [subscriptionService]);\n  const price = useLiveData(subscriptionService.prices.aiPrice$);\n  const subscription = useLiveData(subscriptionService.subscription.ai$);\n\n  const priceReadable = price?.yearlyAmount\n    ? `$${(price.yearlyAmount / 100).toFixed(2)}`\n    : '?';\n  const priceFrequency = t['com.affine.payment.billing-setting.year']();\n\n  if (subscription === null) {\n    return <Skeleton height={100} />;\n  }\n\n  const billingTip =\n    subscription === undefined ? (\n      <Trans\n        i18nKey={'com.affine.payment.billing-setting.ai.free-desc'}\n        components={{\n          a: (\n            <a href=\"#\" onClick={onClick} className={styles.currentPlanName} />\n          ),\n        }}\n      />\n    ) : subscription?.nextBillAt ? (\n      t['com.affine.payment.ai.billing-tip.next-bill-at']({\n        due: i18nTime(subscription.nextBillAt, {\n          absolute: { accuracy: 'day' },\n        }),\n      })\n    ) : subscription?.canceledAt && subscription.end ? (\n      t['com.affine.payment.ai.billing-tip.end-at']({\n        end: i18nTime(subscription.end, { absolute: { accuracy: 'day' } }),\n      })\n    ) : null;\n\n  return (\n    <div className={styles.planCard} style={{ marginBottom: 24 }}>\n      <div className={styles.currentPlan}>\n        <SettingRow\n          spreadCol={false}\n          name={t['com.affine.payment.billing-setting.ai-plan']()}\n          desc={billingTip}\n        />\n        {price?.yearlyAmount ? (\n          subscription ? (\n            subscription.canceledAt ? (\n              <AIResume className={styles.planAction} />\n            ) : (\n              <AICancel className={styles.planAction} />\n            )\n          ) : (\n            <AISubscribe className={styles.planAction}>\n              {t['com.affine.payment.billing-setting.ai.purchase']()}\n            </AISubscribe>\n          )\n        ) : null}\n      </div>\n      <p className={styles.planPrice}>\n        {subscription ? priceReadable : '$0'}\n        <span className={styles.billingFrequency}>/{priceFrequency}</span>\n      </p>\n    </div>\n  );\n};\n\nconst PlanAction = ({\n  plan,\n  gotoPlansSetting,\n}: {\n  plan: string;\n  gotoPlansSetting: () => void;\n}) => {\n  const t = useI18n();\n\n  return (\n    <Button\n      className={styles.planAction}\n      variant=\"primary\"\n      onClick={gotoPlansSetting}\n    >\n      {plan === SubscriptionPlan.Pro\n        ? t['com.affine.payment.billing-setting.change-plan']()\n        : t['com.affine.payment.billing-setting.upgrade']()}\n    </Button>\n  );\n};\n\nconst PaymentMethodUpdater = () => {\n  const { isMutating, trigger } = useMutation({\n    mutation: createCustomerPortalMutation,\n  });\n  const t = useI18n();\n\n  const update = useAsyncCallback(async () => {\n    await trigger(null, {\n      onSuccess: data => {\n        popupWindow(data.createCustomerPortal);\n      },\n    });\n  }, [trigger]);\n\n  return (\n    <Button onClick={update} loading={isMutating} disabled={isMutating}>\n      {t['com.affine.payment.billing-setting.update']()}\n    </Button>\n  );\n};\n\nconst ResumeSubscription = () => {\n  const t = useI18n();\n  const [open, setOpen] = useState(false);\n  const subscription = useService(SubscriptionService).subscription;\n  const handleClick = useCallback(() => {\n    setOpen(true);\n  }, []);\n\n  return (\n    <ResumeAction open={open} onOpenChange={setOpen}>\n      <Button\n        onClick={handleClick}\n        data-event-props=\"$.settingsPanel.plans.resumeSubscription\"\n        data-event-args-type={subscription.pro$.value?.plan}\n        data-event-args-category={subscription.pro$.value?.recurring}\n      >\n        {t['com.affine.payment.billing-setting.resume-subscription']()}\n      </Button>\n    </ResumeAction>\n  );\n};\n\nconst CancelSubscription = ({ loading }: { loading?: boolean }) => {\n  return (\n    <IconButton\n      style={{ pointerEvents: 'none' }}\n      disabled={loading}\n      loading={loading}\n    >\n      <ArrowRightSmallIcon />\n    </IconButton>\n  );\n};\n\nconst BillingHistory = () => {\n  const t = useI18n();\n  const { data: invoicesCountQueryResult } = useQuery({\n    query: getInvoicesCountQuery,\n  });\n\n  const [skip, setSkip] = useState(0);\n\n  const { data: invoicesQueryResult } = useQuery({\n    query: invoicesQuery,\n    variables: { skip, take: INVOICE_PAGE_SIZE },\n  });\n\n  const invoices = invoicesQueryResult.currentUser?.invoices ?? [];\n  const invoiceCount = invoicesCountQueryResult.currentUser?.invoiceCount ?? 0;\n\n  return (\n    <div className={styles.history}>\n      <div className={styles.historyContent}>\n        {invoices.length === 0 ? (\n          <p className={styles.noInvoice}>\n            {t['com.affine.payment.billing-setting.no-invoice']()}\n          </p>\n        ) : (\n          invoices.map(invoice => (\n            <InvoiceLine key={invoice.id} invoice={invoice} />\n          ))\n        )}\n      </div>\n\n      {invoiceCount > INVOICE_PAGE_SIZE && (\n        <Pagination\n          totalCount={invoiceCount}\n          countPerPage={INVOICE_PAGE_SIZE}\n          onPageChange={skip => setSkip(skip)}\n        />\n      )}\n    </div>\n  );\n};\n\nconst InvoiceLine = ({\n  invoice,\n}: {\n  invoice: NonNullable<InvoicesQuery['currentUser']>['invoices'][0];\n}) => {\n  const t = useI18n();\n\n  const open = useCallback(() => {\n    if (invoice.link) {\n      popupWindow(invoice.link);\n    }\n  }, [invoice.link]);\n\n  const planText =\n    invoice.plan === SubscriptionPlan.AI\n      ? 'AFFiNE AI'\n      : invoice.plan === SubscriptionPlan.Pro\n        ? invoice.recurring === SubscriptionRecurring.Lifetime\n          ? 'AFFiNE Cloud Believer'\n          : 'AFFiNE Cloud'\n        : null;\n\n  return (\n    <SettingRow\n      key={invoice.id}\n      name={new Date(invoice.createdAt).toLocaleDateString()}\n      desc={`${\n        invoice.status === InvoiceStatus.Paid\n          ? t['com.affine.payment.billing-setting.paid']()\n          : ''\n      } $${invoice.amount / 100} - ${planText}`}\n    >\n      <Button onClick={open}>\n        {t['com.affine.payment.billing-setting.view-invoice']()}\n      </Button>\n    </SettingRow>\n  );\n};\n\nconst SubscriptionSettingSkeleton = () => {\n  const t = useI18n();\n  return (\n    <SettingWrapper\n      title={t['com.affine.payment.billing-setting.information']()}\n    >\n      <div className={styles.subscriptionSettingSkeleton}>\n        <Skeleton variant=\"rounded\" height=\"104px\" />\n        <Skeleton variant=\"rounded\" height=\"46px\" />\n      </div>\n    </SettingWrapper>\n  );\n};\n\nconst BillingHistorySkeleton = () => {\n  const t = useI18n();\n  return (\n    <SettingWrapper title={t['com.affine.payment.billing-setting.history']()}>\n      <div className={styles.billingHistorySkeleton}>\n        <Loading />\n      </div>\n    </SettingWrapper>\n  );\n};\n","export default `<svg\n  width=\"429\"\n  height=\"101\"\n  viewBox=\"0 0 429 101\"\n  fill=\"none\"\n  xmlns=\"http://www.w3.org/2000/svg\"\n>\n  <g opacity=\"0.3\" filter=\"url(#filter0_i_909_33931)\">\n    <g clip-path=\"url(#clip0_909_33931)\">\n      <rect\n        x=\"0.505859\"\n        y=\"30.9414\"\n        width=\"40\"\n        height=\"40\"\n        rx=\"6.06061\"\n        fill=\"#454545\"\n        fill-opacity=\"0.42\"\n      />\n      <g filter=\"url(#filter1_d_909_33931)\">\n        <rect\n          x=\"2.32397\"\n          y=\"32.7595\"\n          width=\"36.3636\"\n          height=\"36.3636\"\n          rx=\"3.96118\"\n          fill=\"url(#paint0_linear_909_33931)\"\n        />\n        <rect\n          x=\"2.47549\"\n          y=\"32.911\"\n          width=\"36.0606\"\n          height=\"36.0606\"\n          rx=\"3.80966\"\n          stroke=\"#757575\"\n          stroke-width=\"0.30303\"\n        />\n        <g filter=\"url(#filter2_i_909_33931)\">\n          <path\n            d=\"M29.6836 40.9414H20.0521C20.0521 43.3415 21.998 45.2874 24.398 45.2874H26.1719V47.0019C26.1739 49.3966 28.1125 51.3379 30.5052 51.3445H30.5059V41.7797C30.5059 41.7783 30.5059 41.7777 30.5059 41.7763C30.5059 41.3195 30.1391 40.9487 29.6843 40.9421H29.6836V40.9414ZM24.9182 45.7388H15.2866C15.2873 48.1389 17.2325 50.0841 19.6326 50.0841H21.4065V51.7993C21.4085 54.1987 23.353 56.1426 25.7524 56.1446V46.5738C25.7524 46.113 25.379 45.7395 24.9182 45.7395V45.7388ZM20.1488 50.5356H10.5059C10.5072 52.9363 12.4538 54.8816 14.8545 54.8816C14.8585 54.8816 14.8625 54.8816 14.8665 54.8816H16.641V56.5954C16.641 58.9948 18.5856 60.9401 20.985 60.9414V51.3732C20.985 50.9104 20.6102 50.5356 20.1474 50.5356H20.1488Z\"\n            fill=\"#D0CFCF\"\n          />\n        </g>\n      </g>\n    </g>\n  </g>\n  <g opacity=\"0.5\" filter=\"url(#filter3_i_909_33931)\">\n    <g clip-path=\"url(#clip1_909_33931)\">\n      <rect\n        x=\"72.5059\"\n        y=\"20.9414\"\n        width=\"60\"\n        height=\"60\"\n        rx=\"9.09091\"\n        fill=\"#454545\"\n        fill-opacity=\"0.42\"\n      />\n      <g filter=\"url(#filter4_d_909_33931)\">\n        <rect\n          x=\"75.2332\"\n          y=\"23.6687\"\n          width=\"54.5455\"\n          height=\"54.5455\"\n          rx=\"5.94177\"\n          fill=\"url(#paint1_linear_909_33931)\"\n        />\n        <rect\n          x=\"75.4604\"\n          y=\"23.896\"\n          width=\"54.0909\"\n          height=\"54.0909\"\n          rx=\"5.7145\"\n          stroke=\"#757575\"\n          stroke-width=\"0.454545\"\n        />\n        <g filter=\"url(#filter5_i_909_33931)\">\n          <path\n            d=\"M107.701 47.2596H101.514V35.1914H107.701C111.04 35.1914 113.756 37.8977 113.756 41.2248C113.756 44.552 111.04 47.2596 107.701 47.2596ZM103.498 45.283H107.701C109.947 45.283 111.772 43.4622 111.772 41.2262C111.772 38.9902 109.945 37.1694 107.701 37.1694H103.498V45.283ZM103.498 47.2596H97.3123C93.9734 47.2596 91.2575 44.5533 91.2575 41.2262C91.2575 37.8991 93.9734 35.1914 97.3123 35.1914H103.499V47.2596H103.498ZM97.3123 37.1681C95.067 37.1681 93.2411 38.9888 93.2411 41.2248C93.2411 43.4608 95.067 45.283 97.3123 45.283H101.516V37.1681H97.3123ZM103.498 57.3498H97.3123C93.9734 57.3498 91.2575 54.6435 91.2575 51.3164C91.2575 47.9893 93.9734 45.283 97.3123 45.283H103.499V57.3498H103.498ZM97.3123 47.2596C95.067 47.2596 93.2411 49.0804 93.2411 51.3164C93.2411 53.5524 95.0684 55.3732 97.3123 55.3732H101.516V47.2596H97.3123ZM97.3447 67.4414C93.9882 67.4414 91.2561 64.7351 91.2561 61.408C91.2561 58.0808 93.972 55.3745 97.3109 55.3745H103.498V61.3421C103.498 64.7055 100.738 67.4414 97.3447 67.4414ZM97.3123 57.3498C96.233 57.3513 95.1983 57.7791 94.4351 58.5396C93.6719 59.3001 93.2425 60.3311 93.2411 61.4066C93.2411 63.644 95.0818 65.4634 97.346 65.4634C99.6452 65.4634 101.517 63.6144 101.517 61.3408V57.3498H97.3123ZM107.701 57.3498H107.569C104.23 57.3498 101.514 54.6435 101.514 51.3164C101.514 47.9893 104.23 45.283 107.569 45.283H107.701C111.04 45.283 113.756 47.9893 113.756 51.3164C113.756 54.6435 111.04 57.3498 107.701 57.3498ZM107.57 47.2596C105.325 47.2596 103.499 49.0804 103.499 51.3164C103.499 53.5524 105.327 55.3732 107.57 55.3732H107.703C109.948 55.3732 111.774 53.5524 111.774 51.3164C111.774 49.0804 109.945 47.2596 107.701 47.2596H107.57Z\"\n            fill=\"#3E3E3E\"\n          />\n          <path\n            d=\"M107.701 47.2596H101.514V35.1914H107.701C111.04 35.1914 113.756 37.8977 113.756 41.2248C113.756 44.552 111.04 47.2596 107.701 47.2596ZM103.498 45.283H107.701C109.947 45.283 111.772 43.4622 111.772 41.2262C111.772 38.9902 109.945 37.1694 107.701 37.1694H103.498V45.283ZM103.498 47.2596H97.3123C93.9734 47.2596 91.2575 44.5533 91.2575 41.2262C91.2575 37.8991 93.9734 35.1914 97.3123 35.1914H103.499V47.2596H103.498ZM97.3123 37.1681C95.067 37.1681 93.2411 38.9888 93.2411 41.2248C93.2411 43.4608 95.067 45.283 97.3123 45.283H101.516V37.1681H97.3123ZM103.498 57.3498H97.3123C93.9734 57.3498 91.2575 54.6435 91.2575 51.3164C91.2575 47.9893 93.9734 45.283 97.3123 45.283H103.499V57.3498H103.498ZM97.3123 47.2596C95.067 47.2596 93.2411 49.0804 93.2411 51.3164C93.2411 53.5524 95.0684 55.3732 97.3123 55.3732H101.516V47.2596H97.3123ZM97.3447 67.4414C93.9882 67.4414 91.2561 64.7351 91.2561 61.408C91.2561 58.0808 93.972 55.3745 97.3109 55.3745H103.498V61.3421C103.498 64.7055 100.738 67.4414 97.3447 67.4414ZM97.3123 57.3498C96.233 57.3513 95.1983 57.7791 94.4351 58.5396C93.6719 59.3001 93.2425 60.3311 93.2411 61.4066C93.2411 63.644 95.0818 65.4634 97.346 65.4634C99.6452 65.4634 101.517 63.6144 101.517 61.3408V57.3498H97.3123ZM107.701 57.3498H107.569C104.23 57.3498 101.514 54.6435 101.514 51.3164C101.514 47.9893 104.23 45.283 107.569 45.283H107.701C111.04 45.283 113.756 47.9893 113.756 51.3164C113.756 54.6435 111.04 57.3498 107.701 57.3498ZM107.57 47.2596C105.325 47.2596 103.499 49.0804 103.499 51.3164C103.499 53.5524 105.327 55.3732 107.57 55.3732H107.703C109.948 55.3732 111.774 53.5524 111.774 51.3164C111.774 49.0804 109.945 47.2596 107.701 47.2596H107.57Z\"\n            fill=\"#D0CFCF\"\n          />\n        </g>\n      </g>\n    </g>\n  </g>\n  <g filter=\"url(#filter6_i_909_33931)\">\n    <g clip-path=\"url(#clip2_909_33931)\">\n      <rect\n        x=\"164.506\"\n        y=\"0.941406\"\n        width=\"100\"\n        height=\"100\"\n        rx=\"15.1515\"\n        fill=\"#454545\"\n        fill-opacity=\"0.42\"\n      />\n      <g filter=\"url(#filter7_d_909_33931)\">\n        <rect\n          x=\"169.051\"\n          y=\"5.48682\"\n          width=\"90.9091\"\n          height=\"90.9091\"\n          rx=\"9.90295\"\n          fill=\"url(#paint2_linear_909_33931)\"\n        />\n        <rect\n          x=\"169.43\"\n          y=\"5.8656\"\n          width=\"90.1515\"\n          height=\"90.1515\"\n          rx=\"9.52416\"\n          stroke=\"#595959\"\n          stroke-width=\"0.757576\"\n        />\n        <g filter=\"url(#filter8_i_909_33931)\">\n          <path\n            d=\"M194.424 41.464C194.424 39.6297 195.152 37.8706 196.449 36.5736C197.746 35.2766 199.506 34.548 201.34 34.548H207.917C208.602 34.548 209.023 33.8356 208.761 33.204C208.628 32.8934 208.523 32.5717 208.447 32.2426C207.684 28.8146 210.273 25.3267 214.019 25.3267C217.768 25.3267 220.354 28.8146 219.591 32.2426C219.515 32.5717 219.41 32.8934 219.278 33.204C219.012 33.8356 219.437 34.548 220.121 34.548H224.393C226.227 34.548 227.986 35.2766 229.283 36.5736C230.58 37.8706 231.309 39.6297 231.309 41.464V45.7357C231.309 46.4204 232.019 46.8423 232.653 46.5795C232.964 46.4504 233.282 46.3397 233.614 46.266C237.042 45.5029 240.53 48.0895 240.53 51.8379C240.53 55.5864 237.042 58.173 233.614 57.4099C233.285 57.3341 232.964 57.2291 232.653 57.0964C232.021 56.8313 231.309 57.2554 231.309 57.9401V64.5172C231.309 66.3515 230.58 68.1106 229.283 69.4076C227.986 70.7046 226.227 71.4332 224.393 71.4332H220.029C219.365 71.4332 218.939 70.7624 219.13 70.1284C219.225 69.8057 219.296 69.4737 219.326 69.1279C219.387 68.3938 219.296 67.655 219.057 66.9581C218.818 66.2613 218.437 65.6216 217.938 65.0795C217.439 64.5373 216.834 64.1046 216.159 63.8086C215.484 63.5126 214.756 63.3598 214.019 63.3598C213.282 63.3598 212.554 63.5126 211.879 63.8086C211.205 64.1046 210.599 64.5373 210.1 65.0795C209.601 65.6216 209.22 66.2613 208.982 66.9581C208.743 67.655 208.651 68.3938 208.712 69.1279C208.742 69.4737 208.814 69.8057 208.911 70.1284C209.1 70.7624 208.673 71.4332 208.011 71.4332H201.34C199.506 71.4332 197.746 70.7046 196.449 69.4076C195.152 68.1106 194.424 66.3515 194.424 64.5172V57.8479C194.424 57.184 195.095 56.7575 195.729 56.9488C196.051 57.0434 196.383 57.1148 196.729 57.1448C197.463 57.206 198.202 57.1143 198.899 56.8754C199.596 56.6366 200.235 56.2557 200.778 55.7569C201.32 55.2582 201.752 54.6523 202.048 53.9778C202.344 53.3032 202.497 52.5746 202.497 51.8379C202.497 51.1013 202.344 50.3726 202.048 49.6981C201.752 49.0235 201.32 48.4177 200.778 47.9189C200.235 47.4202 199.596 47.0393 198.899 46.8004C198.202 46.5615 197.463 46.4698 196.729 46.5311C196.383 46.561 196.051 46.6325 195.729 46.7293C195.095 46.9184 194.424 46.4919 194.424 45.8302V41.464Z\"\n            fill=\"#D0CFCF\"\n          />\n        </g>\n      </g>\n    </g>\n  </g>\n  <g opacity=\"0.5\" filter=\"url(#filter9_i_909_33931)\">\n    <g clip-path=\"url(#clip3_909_33931)\">\n      <rect\n        x=\"296.506\"\n        y=\"20.9414\"\n        width=\"60\"\n        height=\"60\"\n        rx=\"9.09091\"\n        fill=\"#454545\"\n        fill-opacity=\"0.42\"\n      />\n      <g filter=\"url(#filter10_d_909_33931)\">\n        <rect\n          x=\"299.233\"\n          y=\"23.6687\"\n          width=\"54.5455\"\n          height=\"54.5455\"\n          rx=\"5.94177\"\n          fill=\"url(#paint3_linear_909_33931)\"\n        />\n        <rect\n          x=\"299.46\"\n          y=\"23.896\"\n          width=\"54.0909\"\n          height=\"54.0909\"\n          rx=\"5.7145\"\n          stroke=\"#757575\"\n          stroke-width=\"0.454545\"\n        />\n        <g\n          clip-path=\"url(#clip4_909_33931)\"\n          filter=\"url(#filter11_i_909_33931)\"\n        >\n          <path\n            d=\"M326.539 32.9546C316.589 32.9546 308.519 41.023 308.519 50.9746C308.519 58.9364 313.682 65.6909 320.843 68.074C321.743 68.2407 322.034 67.6821 322.034 67.2076V63.8528C317.022 64.943 315.978 61.7265 315.978 61.7265C315.158 59.6437 313.976 59.0896 313.976 59.0896C312.341 57.9708 314.101 57.9948 314.101 57.9948C315.91 58.121 316.863 59.8524 316.863 59.8524C318.469 62.6065 321.078 61.8106 322.106 61.3496C322.267 60.1858 322.734 59.3899 323.251 58.9409C319.249 58.4829 315.041 56.9377 315.041 50.0345C315.041 48.0658 315.745 46.4591 316.897 45.1977C316.711 44.7427 316.094 42.9091 317.073 40.4284C317.073 40.4284 318.586 39.9448 322.03 42.2754C323.467 41.876 325.008 41.6763 326.539 41.6687C328.071 41.6763 329.613 41.876 331.053 42.2754C334.494 39.9448 336.004 40.4284 336.004 40.4284C336.985 42.9106 336.368 44.7442 336.181 45.1977C337.338 46.4591 338.036 48.0673 338.036 50.0345C338.036 56.9557 333.821 58.4799 329.808 58.9259C330.454 59.4845 331.044 60.5807 331.044 62.2626V67.2076C331.044 67.6866 331.333 68.2497 332.247 68.0725C339.403 65.6864 344.559 58.9334 344.559 50.9746C344.559 41.023 336.491 32.9546 326.539 32.9546Z\"\n            fill=\"#D0CFCF\"\n          />\n        </g>\n      </g>\n    </g>\n  </g>\n  <g opacity=\"0.3\" filter=\"url(#filter12_i_909_33931)\">\n    <g clip-path=\"url(#clip5_909_33931)\">\n      <rect\n        x=\"388.506\"\n        y=\"30.9414\"\n        width=\"40\"\n        height=\"40\"\n        rx=\"6.06061\"\n        fill=\"#454545\"\n        fill-opacity=\"0.42\"\n      />\n      <g filter=\"url(#filter13_d_909_33931)\">\n        <rect\n          x=\"390.324\"\n          y=\"32.7595\"\n          width=\"36.3636\"\n          height=\"36.3636\"\n          rx=\"3.96118\"\n          fill=\"url(#paint4_linear_909_33931)\"\n        />\n        <rect\n          x=\"390.475\"\n          y=\"32.911\"\n          width=\"36.0606\"\n          height=\"36.0606\"\n          rx=\"3.80966\"\n          stroke=\"#757575\"\n          stroke-width=\"0.30303\"\n        />\n        <g filter=\"url(#filter14_i_909_33931)\">\n          <path\n            fill-rule=\"evenodd\"\n            clip-rule=\"evenodd\"\n            d=\"M414.856 44.5774C411.355 41.0764 405.687 41.0628 402.169 44.5366L414.897 57.2642C418.37 53.7463 418.357 48.0785 414.856 44.5774ZM400.373 47.0514L412.382 59.06C413.005 58.7615 413.6 58.3872 414.155 57.937L401.496 45.278C401.046 45.8326 400.672 46.4284 400.373 47.0514ZM408.998 59.9272L399.506 50.4352C399.551 49.6297 399.704 48.8291 399.964 48.0569L411.376 59.4687C410.604 59.7293 409.803 59.8821 408.998 59.9272ZM402.128 57.3054C400.611 55.7882 399.748 53.8641 399.541 51.8845L407.549 59.8922C405.569 59.6848 403.645 58.8225 402.128 57.3054Z\"\n            fill=\"#D0CFCF\"\n          />\n        </g>\n      </g>\n    </g>\n  </g>\n  <defs>\n    <filter\n      id=\"filter0_i_909_33931\"\n      x=\"0.505859\"\n      y=\"30.7394\"\n      width=\"40\"\n      height=\"40.202\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"-0.20202\" />\n      <feGaussianBlur stdDeviation=\"0.707071\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_909_33931\"\n      />\n    </filter>\n    <filter\n      id=\"filter1_d_909_33931\"\n      x=\"0.808823\"\n      y=\"31.7494\"\n      width=\"39.3938\"\n      height=\"39.3938\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"0.505051\" />\n      <feGaussianBlur stdDeviation=\"0.757576\" />\n      <feComposite in2=\"hardAlpha\" operator=\"out\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"BackgroundImageFix\"\n        result=\"effect1_dropShadow_909_33931\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"effect1_dropShadow_909_33931\"\n        result=\"shape\"\n      />\n    </filter>\n    <filter\n      id=\"filter2_i_909_33931\"\n      x=\"8.51465\"\n      y=\"38.9502\"\n      width=\"24.2725\"\n      height=\"24.2725\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dx=\"0.245902\" dy=\"0.245902\" />\n      <feGaussianBlur stdDeviation=\"0.327869\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_909_33931\"\n      />\n    </filter>\n    <filter\n      id=\"filter3_i_909_33931\"\n      x=\"72.5059\"\n      y=\"20.6384\"\n      width=\"60\"\n      height=\"60.303\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"-0.30303\" />\n      <feGaussianBlur stdDeviation=\"1.06061\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_909_33931\"\n      />\n    </filter>\n    <filter\n      id=\"filter4_d_909_33931\"\n      x=\"72.9604\"\n      y=\"22.1535\"\n      width=\"59.0909\"\n      height=\"59.0909\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"0.757576\" />\n      <feGaussianBlur stdDeviation=\"1.13636\" />\n      <feComposite in2=\"hardAlpha\" operator=\"out\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"BackgroundImageFix\"\n        result=\"effect1_dropShadow_909_33931\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"effect1_dropShadow_909_33931\"\n        result=\"shape\"\n      />\n    </filter>\n    <filter\n      id=\"filter5_i_909_33931\"\n      x=\"84.5193\"\n      y=\"32.9546\"\n      width=\"36.4089\"\n      height=\"36.4089\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dx=\"0.368852\" dy=\"0.368852\" />\n      <feGaussianBlur stdDeviation=\"0.491803\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_909_33931\"\n      />\n    </filter>\n    <filter\n      id=\"filter6_i_909_33931\"\n      x=\"164.506\"\n      y=\"0.436356\"\n      width=\"100\"\n      height=\"100.505\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"-0.50505\" />\n      <feGaussianBlur stdDeviation=\"1.76768\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_909_33931\"\n      />\n    </filter>\n    <filter\n      id=\"filter7_d_909_33931\"\n      x=\"165.263\"\n      y=\"2.96156\"\n      width=\"98.4849\"\n      height=\"98.4849\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"1.26263\" />\n      <feGaussianBlur stdDeviation=\"1.89394\" />\n      <feComposite in2=\"hardAlpha\" operator=\"out\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"BackgroundImageFix\"\n        result=\"effect1_dropShadow_909_33931\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"effect1_dropShadow_909_33931\"\n        result=\"shape\"\n      />\n    </filter>\n    <filter\n      id=\"filter8_i_909_33931\"\n      x=\"194.424\"\n      y=\"25.3267\"\n      width=\"46.7212\"\n      height=\"46.7212\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dx=\"0.614754\" dy=\"0.614754\" />\n      <feGaussianBlur stdDeviation=\"0.819672\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_909_33931\"\n      />\n    </filter>\n    <filter\n      id=\"filter9_i_909_33931\"\n      x=\"296.506\"\n      y=\"20.6384\"\n      width=\"60\"\n      height=\"60.303\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"-0.30303\" />\n      <feGaussianBlur stdDeviation=\"1.06061\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_909_33931\"\n      />\n    </filter>\n    <filter\n      id=\"filter10_d_909_33931\"\n      x=\"296.96\"\n      y=\"22.1535\"\n      width=\"59.0909\"\n      height=\"59.0909\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"0.757576\" />\n      <feGaussianBlur stdDeviation=\"1.13636\" />\n      <feComposite in2=\"hardAlpha\" operator=\"out\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"BackgroundImageFix\"\n        result=\"effect1_dropShadow_909_33931\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"effect1_dropShadow_909_33931\"\n        result=\"shape\"\n      />\n    </filter>\n    <filter\n      id=\"filter11_i_909_33931\"\n      x=\"308.519\"\n      y=\"32.9546\"\n      width=\"36.4089\"\n      height=\"36.4089\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dx=\"0.368852\" dy=\"0.368852\" />\n      <feGaussianBlur stdDeviation=\"0.491803\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_909_33931\"\n      />\n    </filter>\n    <filter\n      id=\"filter12_i_909_33931\"\n      x=\"388.506\"\n      y=\"30.7394\"\n      width=\"40\"\n      height=\"40.202\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"-0.20202\" />\n      <feGaussianBlur stdDeviation=\"0.707071\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_909_33931\"\n      />\n    </filter>\n    <filter\n      id=\"filter13_d_909_33931\"\n      x=\"388.809\"\n      y=\"31.7494\"\n      width=\"39.3938\"\n      height=\"39.3938\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"0.505051\" />\n      <feGaussianBlur stdDeviation=\"0.757576\" />\n      <feComposite in2=\"hardAlpha\" operator=\"out\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"BackgroundImageFix\"\n        result=\"effect1_dropShadow_909_33931\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"effect1_dropShadow_909_33931\"\n        result=\"shape\"\n      />\n    </filter>\n    <filter\n      id=\"filter14_i_909_33931\"\n      x=\"396.515\"\n      y=\"38.9502\"\n      width=\"24.2725\"\n      height=\"24.2725\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dx=\"0.245902\" dy=\"0.245902\" />\n      <feGaussianBlur stdDeviation=\"0.327869\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_909_33931\"\n      />\n    </filter>\n    <linearGradient\n      id=\"paint0_linear_909_33931\"\n      x1=\"7.37448\"\n      y1=\"33.5171\"\n      x2=\"28.6876\"\n      y2=\"69.5777\"\n      gradientUnits=\"userSpaceOnUse\"\n    >\n      <stop stop-color=\"#383838\" />\n      <stop offset=\"0.260417\" stop-color=\"#2A2A2A\" />\n      <stop offset=\"0.619792\" stop-color=\"#393939\" />\n      <stop offset=\"1\" stop-color=\"#414141\" />\n    </linearGradient>\n    <linearGradient\n      id=\"paint1_linear_909_33931\"\n      x1=\"82.8089\"\n      y1=\"24.8051\"\n      x2=\"114.779\"\n      y2=\"78.896\"\n      gradientUnits=\"userSpaceOnUse\"\n    >\n      <stop stop-color=\"#383838\" />\n      <stop offset=\"0.260417\" stop-color=\"#2A2A2A\" />\n      <stop offset=\"0.619792\" stop-color=\"#393939\" />\n      <stop offset=\"1\" stop-color=\"#414141\" />\n    </linearGradient>\n    <linearGradient\n      id=\"paint2_linear_909_33931\"\n      x1=\"181.678\"\n      y1=\"7.38076\"\n      x2=\"234.96\"\n      y2=\"97.5323\"\n      gradientUnits=\"userSpaceOnUse\"\n    >\n      <stop stop-color=\"#383838\" />\n      <stop offset=\"0.260417\" stop-color=\"#2A2A2A\" />\n      <stop offset=\"0.619792\" stop-color=\"#393939\" />\n      <stop offset=\"1\" stop-color=\"#414141\" />\n    </linearGradient>\n    <linearGradient\n      id=\"paint3_linear_909_33931\"\n      x1=\"306.809\"\n      y1=\"24.8051\"\n      x2=\"338.779\"\n      y2=\"78.896\"\n      gradientUnits=\"userSpaceOnUse\"\n    >\n      <stop stop-color=\"#383838\" />\n      <stop offset=\"0.260417\" stop-color=\"#2A2A2A\" />\n      <stop offset=\"0.619792\" stop-color=\"#393939\" />\n      <stop offset=\"1\" stop-color=\"#414141\" />\n    </linearGradient>\n    <linearGradient\n      id=\"paint4_linear_909_33931\"\n      x1=\"395.374\"\n      y1=\"33.5171\"\n      x2=\"416.688\"\n      y2=\"69.5777\"\n      gradientUnits=\"userSpaceOnUse\"\n    >\n      <stop stop-color=\"#383838\" />\n      <stop offset=\"0.260417\" stop-color=\"#2A2A2A\" />\n      <stop offset=\"0.619792\" stop-color=\"#393939\" />\n      <stop offset=\"1\" stop-color=\"#414141\" />\n    </linearGradient>\n    <clipPath id=\"clip0_909_33931\">\n      <rect\n        x=\"0.505859\"\n        y=\"30.9414\"\n        width=\"40\"\n        height=\"40\"\n        rx=\"6.06061\"\n        fill=\"white\"\n      />\n    </clipPath>\n    <clipPath id=\"clip1_909_33931\">\n      <rect\n        x=\"72.5059\"\n        y=\"20.9414\"\n        width=\"60\"\n        height=\"60\"\n        rx=\"9.09091\"\n        fill=\"white\"\n      />\n    </clipPath>\n    <clipPath id=\"clip2_909_33931\">\n      <rect\n        x=\"164.506\"\n        y=\"0.941406\"\n        width=\"100\"\n        height=\"100\"\n        rx=\"15.1515\"\n        fill=\"white\"\n      />\n    </clipPath>\n    <clipPath id=\"clip3_909_33931\">\n      <rect\n        x=\"296.506\"\n        y=\"20.9414\"\n        width=\"60\"\n        height=\"60\"\n        rx=\"9.09091\"\n        fill=\"white\"\n      />\n    </clipPath>\n    <clipPath id=\"clip4_909_33931\">\n      <rect\n        width=\"36.0399\"\n        height=\"36.0399\"\n        fill=\"white\"\n        transform=\"translate(308.519 32.9546)\"\n      />\n    </clipPath>\n    <clipPath id=\"clip5_909_33931\">\n      <rect\n        x=\"388.506\"\n        y=\"30.9414\"\n        width=\"40\"\n        height=\"40\"\n        rx=\"6.06061\"\n        fill=\"white\"\n      />\n    </clipPath>\n  </defs>\n</svg>`;\n","export default `<svg\n  width=\"429\"\n  height=\"100\"\n  viewBox=\"0 0 429 100\"\n  fill=\"none\"\n  xmlns=\"http://www.w3.org/2000/svg\"\n>\n  <g opacity=\"0.6\" filter=\"url(#filter0_i_907_33313)\">\n    <g clip-path=\"url(#clip0_907_33313)\">\n      <rect\n        x=\"0.624512\"\n        y=\"30\"\n        width=\"40\"\n        height=\"40\"\n        rx=\"6.06061\"\n        fill=\"#F8F8F8\"\n      />\n      <g filter=\"url(#filter1_d_907_33313)\">\n        <rect\n          x=\"2.44263\"\n          y=\"31.8181\"\n          width=\"36.3636\"\n          height=\"36.3636\"\n          rx=\"3.96118\"\n          fill=\"url(#paint0_linear_907_33313)\"\n        />\n        <rect\n          x=\"2.59414\"\n          y=\"31.9697\"\n          width=\"36.0606\"\n          height=\"36.0606\"\n          rx=\"3.80966\"\n          stroke=\"#E4E4E4\"\n          stroke-width=\"0.30303\"\n        />\n        <g filter=\"url(#filter2_i_907_33313)\">\n          <path\n            d=\"M29.8023 40H20.1707C20.1707 42.4001 22.1166 44.346 24.5167 44.346H26.2905V46.0605C26.2925 48.4552 28.2311 50.3965 30.6238 50.4031H30.6245V40.8383C30.6245 40.8369 30.6245 40.8363 30.6245 40.8349C30.6245 40.3781 30.2577 40.0073 29.8029 40.0007H29.8023V40ZM25.0368 44.7974H15.4053C15.4059 47.1975 17.3512 49.1427 19.7512 49.1427H21.5251V50.8579C21.5271 53.2573 23.4717 55.2012 25.8711 55.2032V45.6324C25.8711 45.1716 25.4976 44.7981 25.0368 44.7981V44.7974ZM20.2674 49.5942H10.6245C10.6258 51.9949 12.5724 53.9402 14.9731 53.9402C14.9772 53.9402 14.9812 53.9402 14.9852 53.9402H16.7597V55.654C16.7597 58.0534 18.7043 59.9987 21.1037 60V50.4318C21.1037 49.969 20.7289 49.5942 20.2661 49.5942H20.2674Z\"\n            fill=\"#E2E5E6\"\n          />\n        </g>\n      </g>\n    </g>\n  </g>\n  <g opacity=\"0.8\" filter=\"url(#filter3_i_907_33313)\">\n    <g clip-path=\"url(#clip1_907_33313)\">\n      <rect\n        x=\"72.6245\"\n        y=\"20\"\n        width=\"60\"\n        height=\"60\"\n        rx=\"9.09091\"\n        fill=\"#F8F8F8\"\n      />\n      <g filter=\"url(#filter4_d_907_33313)\">\n        <rect\n          x=\"75.3518\"\n          y=\"22.7272\"\n          width=\"54.5455\"\n          height=\"54.5455\"\n          rx=\"5.94177\"\n          fill=\"url(#paint1_linear_907_33313)\"\n        />\n        <rect\n          x=\"75.5791\"\n          y=\"22.9545\"\n          width=\"54.0909\"\n          height=\"54.0909\"\n          rx=\"5.7145\"\n          stroke=\"#E4E4E4\"\n          stroke-width=\"0.454545\"\n        />\n        <g filter=\"url(#filter5_i_907_33313)\">\n          <path\n            d=\"M107.82 46.3182H101.633V34.25H107.82C111.159 34.25 113.875 36.9563 113.875 40.2834C113.875 43.6105 111.159 46.3182 107.82 46.3182ZM103.617 44.3415H107.82C110.065 44.3415 111.891 42.5208 111.891 40.2848C111.891 38.0488 110.064 36.228 107.82 36.228H103.617V44.3415ZM103.617 46.3182H97.4309C94.092 46.3182 91.3761 43.6119 91.3761 40.2848C91.3761 36.9576 94.092 34.25 97.4309 34.25H103.618V46.3182H103.617ZM97.4309 36.2266C95.1857 36.2266 93.3598 38.0474 93.3598 40.2834C93.3598 42.5194 95.1857 44.3415 97.4309 44.3415H101.634V36.2266H97.4309ZM103.617 56.4084H97.4309C94.092 56.4084 91.3761 53.7021 91.3761 50.375C91.3761 47.0478 94.092 44.3415 97.4309 44.3415H103.618V56.4084H103.617ZM97.4309 46.3182C95.1857 46.3182 93.3598 48.139 93.3598 50.375C93.3598 52.611 95.187 54.4318 97.4309 54.4318H101.634V46.3182H97.4309ZM97.4633 66.5C94.1069 66.5 91.3748 63.7937 91.3748 60.4665C91.3748 57.1394 94.0907 54.4331 97.4296 54.4331H103.617V60.4007C103.617 63.7641 100.856 66.5 97.4633 66.5ZM97.4309 56.4084C96.3516 56.4098 95.317 56.8377 94.5538 57.5982C93.7906 58.3587 93.3612 59.3897 93.3598 60.4652C93.3598 62.7025 95.2005 64.522 97.4647 64.522C99.7639 64.522 101.636 62.673 101.636 60.3993V56.4084H97.4309ZM107.82 56.4084H107.688C104.349 56.4084 101.633 53.7021 101.633 50.375C101.633 47.0478 104.349 44.3415 107.688 44.3415H107.82C111.159 44.3415 113.875 47.0478 113.875 50.375C113.875 53.7021 111.159 56.4084 107.82 56.4084ZM107.689 46.3182C105.444 46.3182 103.618 48.139 103.618 50.375C103.618 52.611 105.445 54.4318 107.689 54.4318H107.821C110.067 54.4318 111.892 52.611 111.892 50.375C111.892 48.139 110.064 46.3182 107.82 46.3182H107.689Z\"\n            fill=\"black\"\n          />\n          <path\n            d=\"M107.82 46.3182H101.633V34.25H107.82C111.159 34.25 113.875 36.9563 113.875 40.2834C113.875 43.6105 111.159 46.3182 107.82 46.3182ZM103.617 44.3415H107.82C110.065 44.3415 111.891 42.5208 111.891 40.2848C111.891 38.0488 110.064 36.228 107.82 36.228H103.617V44.3415ZM103.617 46.3182H97.4309C94.092 46.3182 91.3761 43.6119 91.3761 40.2848C91.3761 36.9576 94.092 34.25 97.4309 34.25H103.618V46.3182H103.617ZM97.4309 36.2266C95.1857 36.2266 93.3598 38.0474 93.3598 40.2834C93.3598 42.5194 95.1857 44.3415 97.4309 44.3415H101.634V36.2266H97.4309ZM103.617 56.4084H97.4309C94.092 56.4084 91.3761 53.7021 91.3761 50.375C91.3761 47.0478 94.092 44.3415 97.4309 44.3415H103.618V56.4084H103.617ZM97.4309 46.3182C95.1857 46.3182 93.3598 48.139 93.3598 50.375C93.3598 52.611 95.187 54.4318 97.4309 54.4318H101.634V46.3182H97.4309ZM97.4633 66.5C94.1069 66.5 91.3748 63.7937 91.3748 60.4665C91.3748 57.1394 94.0907 54.4331 97.4296 54.4331H103.617V60.4007C103.617 63.7641 100.856 66.5 97.4633 66.5ZM97.4309 56.4084C96.3516 56.4098 95.317 56.8377 94.5538 57.5982C93.7906 58.3587 93.3612 59.3897 93.3598 60.4652C93.3598 62.7025 95.2005 64.522 97.4647 64.522C99.7639 64.522 101.636 62.673 101.636 60.3993V56.4084H97.4309ZM107.82 56.4084H107.688C104.349 56.4084 101.633 53.7021 101.633 50.375C101.633 47.0478 104.349 44.3415 107.688 44.3415H107.82C111.159 44.3415 113.875 47.0478 113.875 50.375C113.875 53.7021 111.159 56.4084 107.82 56.4084ZM107.689 46.3182C105.444 46.3182 103.618 48.139 103.618 50.375C103.618 52.611 105.445 54.4318 107.689 54.4318H107.821C110.067 54.4318 111.892 52.611 111.892 50.375C111.892 48.139 110.064 46.3182 107.82 46.3182H107.689Z\"\n            fill=\"#E2E5E6\"\n          />\n        </g>\n      </g>\n    </g>\n  </g>\n  <g filter=\"url(#filter6_i_907_33313)\">\n    <g clip-path=\"url(#clip2_907_33313)\">\n      <rect x=\"164.625\" width=\"100\" height=\"100\" rx=\"15.1515\" fill=\"#F8F8F8\" />\n      <g filter=\"url(#filter7_d_907_33313)\">\n        <rect\n          x=\"169.17\"\n          y=\"4.54544\"\n          width=\"90.9091\"\n          height=\"90.9091\"\n          rx=\"9.90295\"\n          fill=\"url(#paint2_linear_907_33313)\"\n        />\n        <rect\n          x=\"169.549\"\n          y=\"4.92423\"\n          width=\"90.1515\"\n          height=\"90.1515\"\n          rx=\"9.52416\"\n          stroke=\"#E4E4E4\"\n          stroke-width=\"0.757576\"\n        />\n        <g filter=\"url(#filter8_i_907_33313)\">\n          <path\n            d=\"M194.542 40.5226C194.542 38.6884 195.271 36.9293 196.568 35.6323C197.865 34.3353 199.624 33.6066 201.458 33.6066H208.036C208.72 33.6066 209.142 32.8943 208.879 32.2626C208.747 31.9521 208.642 31.6304 208.566 31.3013C207.803 27.8733 210.392 24.3853 214.138 24.3853C217.886 24.3853 220.473 27.8733 219.71 31.3013C219.634 31.6304 219.529 31.9521 219.396 32.2626C219.131 32.8943 219.555 33.6066 220.24 33.6066H224.512C226.346 33.6066 228.105 34.3353 229.402 35.6323C230.699 36.9293 231.428 38.6884 231.428 40.5226V44.7944C231.428 45.4791 232.138 45.9009 232.772 45.6381C233.083 45.509 233.401 45.3984 233.733 45.3246C237.161 44.5615 240.649 47.1481 240.649 50.8966C240.649 54.645 237.161 57.2316 233.733 56.4686C233.404 56.3927 233.082 56.2878 232.772 56.155C232.14 55.8899 231.428 56.3141 231.428 56.9988V63.5759C231.428 65.4101 230.699 67.1692 229.402 68.4662C228.105 69.7632 226.346 70.4919 224.512 70.4919H220.148C219.484 70.4919 219.057 69.821 219.249 69.1871C219.343 68.8643 219.415 68.5323 219.445 68.1865C219.506 67.4524 219.414 66.7136 219.175 66.0168C218.936 65.3199 218.556 64.6802 218.057 64.1381C217.558 63.596 216.952 63.1633 216.278 62.8673C215.603 62.5713 214.874 62.4184 214.138 62.4184C213.401 62.4184 212.672 62.5713 211.998 62.8673C211.323 63.1633 210.718 63.596 210.219 64.1381C209.72 64.6802 209.339 65.3199 209.1 66.0168C208.861 66.7136 208.77 67.4524 208.831 68.1865C208.861 68.5323 208.932 68.8643 209.029 69.1871C209.218 69.821 208.792 70.4919 208.13 70.4919H201.458C199.624 70.4919 197.865 69.7632 196.568 68.4662C195.271 67.1692 194.542 65.4101 194.542 63.5759V56.9066C194.542 56.2426 195.213 55.8162 195.847 56.0075C196.17 56.102 196.502 56.1735 196.848 56.2034C197.582 56.2647 198.321 56.173 199.018 55.9341C199.714 55.6952 200.354 55.3143 200.896 54.8156C201.438 54.3168 201.871 53.711 202.167 53.0364C202.463 52.3619 202.616 51.6332 202.616 50.8966C202.616 50.1599 202.463 49.4313 202.167 48.7567C201.871 48.0822 201.438 47.4764 200.896 46.9776C200.354 46.4788 199.714 46.098 199.018 45.8591C198.321 45.6202 197.582 45.5285 196.848 45.5897C196.502 45.6197 196.17 45.6912 195.847 45.788C195.213 45.977 194.542 45.5505 194.542 44.8889V40.5226Z\"\n            fill=\"#DEE2E3\"\n          />\n        </g>\n      </g>\n    </g>\n  </g>\n  <g opacity=\"0.8\" filter=\"url(#filter9_i_907_33313)\">\n    <g clip-path=\"url(#clip3_907_33313)\">\n      <rect\n        x=\"296.625\"\n        y=\"20\"\n        width=\"60\"\n        height=\"60\"\n        rx=\"9.09091\"\n        fill=\"#F8F8F8\"\n      />\n      <g filter=\"url(#filter10_d_907_33313)\">\n        <rect\n          x=\"299.352\"\n          y=\"22.7272\"\n          width=\"54.5455\"\n          height=\"54.5455\"\n          rx=\"5.94177\"\n          fill=\"url(#paint3_linear_907_33313)\"\n        />\n        <rect\n          x=\"299.579\"\n          y=\"22.9545\"\n          width=\"54.0909\"\n          height=\"54.0909\"\n          rx=\"5.7145\"\n          stroke=\"#E4E4E4\"\n          stroke-width=\"0.454545\"\n        />\n        <g\n          clip-path=\"url(#clip4_907_33313)\"\n          filter=\"url(#filter11_i_907_33313)\"\n        >\n          <path\n            d=\"M326.658 32.0132C316.708 32.0132 308.638 40.0817 308.638 50.0332C308.638 57.995 313.801 64.7495 320.962 67.1327C321.862 67.2994 322.153 66.7407 322.153 66.2662V62.9115C317.14 64.0017 316.097 60.7851 316.097 60.7851C315.277 58.7023 314.095 58.1482 314.095 58.1482C312.46 57.0295 314.22 57.0535 314.22 57.0535C316.029 57.1796 316.981 58.9111 316.981 58.9111C318.588 61.6651 321.196 60.8692 322.225 60.4082C322.386 59.2444 322.853 58.4485 323.369 57.9995C319.367 57.5415 315.16 55.9963 315.16 49.0932C315.16 47.1245 315.864 45.5177 317.016 44.2563C316.83 43.8013 316.212 41.9678 317.191 39.487C317.191 39.487 318.705 39.0035 322.148 41.3341C323.586 40.9346 325.126 40.7349 326.658 40.7274C328.19 40.7349 329.732 40.9346 331.172 41.3341C334.612 39.0035 336.123 39.487 336.123 39.487C337.103 41.9693 336.486 43.8028 336.3 44.2563C337.456 45.5177 338.155 47.126 338.155 49.0932C338.155 56.0143 333.939 57.5385 329.927 57.9845C330.573 58.5432 331.163 59.6394 331.163 61.3212V66.2662C331.163 66.7452 331.451 67.3084 332.366 67.1312C339.521 64.745 344.678 57.992 344.678 50.0332C344.678 40.0817 336.609 32.0132 326.658 32.0132Z\"\n            fill=\"#E2E5E6\"\n          />\n        </g>\n      </g>\n    </g>\n  </g>\n  <g opacity=\"0.6\" filter=\"url(#filter12_i_907_33313)\">\n    <g clip-path=\"url(#clip5_907_33313)\">\n      <rect\n        x=\"388.625\"\n        y=\"30\"\n        width=\"40\"\n        height=\"40\"\n        rx=\"6.06061\"\n        fill=\"#F8F8F8\"\n      />\n      <g filter=\"url(#filter13_d_907_33313)\">\n        <rect\n          x=\"390.443\"\n          y=\"31.8181\"\n          width=\"36.3636\"\n          height=\"36.3636\"\n          rx=\"3.96118\"\n          fill=\"url(#paint4_linear_907_33313)\"\n        />\n        <rect\n          x=\"390.594\"\n          y=\"31.9697\"\n          width=\"36.0606\"\n          height=\"36.0606\"\n          rx=\"3.80966\"\n          stroke=\"#E4E4E4\"\n          stroke-width=\"0.30303\"\n        />\n        <g filter=\"url(#filter14_i_907_33313)\">\n          <path\n            fill-rule=\"evenodd\"\n            clip-rule=\"evenodd\"\n            d=\"M414.974 43.636C411.473 40.135 405.805 40.1214 402.287 43.5952L415.015 56.3228C418.489 52.8049 418.475 47.1371 414.974 43.636ZM400.492 46.1099L412.5 58.1186C413.123 57.8201 413.719 57.4458 414.274 56.9956L401.615 44.3365C401.165 44.8912 400.79 45.487 400.492 46.1099ZM409.117 58.9858L399.625 49.4938C399.67 48.6883 399.822 47.8877 400.083 47.1155L411.495 58.5273C410.723 58.7879 409.922 58.9407 409.117 58.9858ZM402.246 56.364C400.729 54.8468 399.867 52.9227 399.66 50.9431L407.667 58.9508C405.688 58.7434 403.763 57.8811 402.246 56.364Z\"\n            fill=\"#DEE2E3\"\n          />\n        </g>\n      </g>\n    </g>\n  </g>\n  <defs>\n    <filter\n      id=\"filter0_i_907_33313\"\n      x=\"0.624512\"\n      y=\"29.798\"\n      width=\"40\"\n      height=\"40.202\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"-0.20202\" />\n      <feGaussianBlur stdDeviation=\"0.707071\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_907_33313\"\n      />\n    </filter>\n    <filter\n      id=\"filter1_d_907_33313\"\n      x=\"0.927476\"\n      y=\"30.808\"\n      width=\"39.3938\"\n      height=\"39.394\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"0.505051\" />\n      <feGaussianBlur stdDeviation=\"0.757576\" />\n      <feComposite in2=\"hardAlpha\" operator=\"out\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"BackgroundImageFix\"\n        result=\"effect1_dropShadow_907_33313\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"effect1_dropShadow_907_33313\"\n        result=\"shape\"\n      />\n    </filter>\n    <filter\n      id=\"filter2_i_907_33313\"\n      x=\"8.6333\"\n      y=\"38.0088\"\n      width=\"24.2725\"\n      height=\"24.2725\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dx=\"0.245902\" dy=\"0.245902\" />\n      <feGaussianBlur stdDeviation=\"0.327869\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_907_33313\"\n      />\n    </filter>\n    <filter\n      id=\"filter3_i_907_33313\"\n      x=\"72.6245\"\n      y=\"19.697\"\n      width=\"60\"\n      height=\"60.303\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"-0.30303\" />\n      <feGaussianBlur stdDeviation=\"1.06061\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_907_33313\"\n      />\n    </filter>\n    <filter\n      id=\"filter4_d_907_33313\"\n      x=\"73.0791\"\n      y=\"21.2121\"\n      width=\"59.0909\"\n      height=\"59.0909\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"0.757576\" />\n      <feGaussianBlur stdDeviation=\"1.13636\" />\n      <feComposite in2=\"hardAlpha\" operator=\"out\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"BackgroundImageFix\"\n        result=\"effect1_dropShadow_907_33313\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"effect1_dropShadow_907_33313\"\n        result=\"shape\"\n      />\n    </filter>\n    <filter\n      id=\"filter5_i_907_33313\"\n      x=\"84.6379\"\n      y=\"32.0132\"\n      width=\"36.4089\"\n      height=\"36.4088\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dx=\"0.368852\" dy=\"0.368852\" />\n      <feGaussianBlur stdDeviation=\"0.491803\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_907_33313\"\n      />\n    </filter>\n    <filter\n      id=\"filter6_i_907_33313\"\n      x=\"164.625\"\n      y=\"-0.50505\"\n      width=\"100\"\n      height=\"100.505\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"-0.50505\" />\n      <feGaussianBlur stdDeviation=\"1.76768\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_907_33313\"\n      />\n    </filter>\n    <filter\n      id=\"filter7_d_907_33313\"\n      x=\"165.382\"\n      y=\"2.02019\"\n      width=\"98.4849\"\n      height=\"98.4848\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"1.26263\" />\n      <feGaussianBlur stdDeviation=\"1.89394\" />\n      <feComposite in2=\"hardAlpha\" operator=\"out\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"BackgroundImageFix\"\n        result=\"effect1_dropShadow_907_33313\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"effect1_dropShadow_907_33313\"\n        result=\"shape\"\n      />\n    </filter>\n    <filter\n      id=\"filter8_i_907_33313\"\n      x=\"194.542\"\n      y=\"24.3853\"\n      width=\"46.7212\"\n      height=\"46.7213\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dx=\"0.614754\" dy=\"0.614754\" />\n      <feGaussianBlur stdDeviation=\"0.819672\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_907_33313\"\n      />\n    </filter>\n    <filter\n      id=\"filter9_i_907_33313\"\n      x=\"296.625\"\n      y=\"19.697\"\n      width=\"60\"\n      height=\"60.303\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"-0.30303\" />\n      <feGaussianBlur stdDeviation=\"1.06061\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_907_33313\"\n      />\n    </filter>\n    <filter\n      id=\"filter10_d_907_33313\"\n      x=\"297.079\"\n      y=\"21.2121\"\n      width=\"59.0909\"\n      height=\"59.0909\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"0.757576\" />\n      <feGaussianBlur stdDeviation=\"1.13636\" />\n      <feComposite in2=\"hardAlpha\" operator=\"out\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"BackgroundImageFix\"\n        result=\"effect1_dropShadow_907_33313\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"effect1_dropShadow_907_33313\"\n        result=\"shape\"\n      />\n    </filter>\n    <filter\n      id=\"filter11_i_907_33313\"\n      x=\"308.638\"\n      y=\"32.0132\"\n      width=\"36.4089\"\n      height=\"36.4088\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dx=\"0.368852\" dy=\"0.368852\" />\n      <feGaussianBlur stdDeviation=\"0.491803\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_907_33313\"\n      />\n    </filter>\n    <filter\n      id=\"filter12_i_907_33313\"\n      x=\"388.625\"\n      y=\"29.798\"\n      width=\"40\"\n      height=\"40.202\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"-0.20202\" />\n      <feGaussianBlur stdDeviation=\"0.707071\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_907_33313\"\n      />\n    </filter>\n    <filter\n      id=\"filter13_d_907_33313\"\n      x=\"388.927\"\n      y=\"30.808\"\n      width=\"39.3938\"\n      height=\"39.394\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dy=\"0.505051\" />\n      <feGaussianBlur stdDeviation=\"0.757576\" />\n      <feComposite in2=\"hardAlpha\" operator=\"out\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"BackgroundImageFix\"\n        result=\"effect1_dropShadow_907_33313\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"effect1_dropShadow_907_33313\"\n        result=\"shape\"\n      />\n    </filter>\n    <filter\n      id=\"filter14_i_907_33313\"\n      x=\"396.633\"\n      y=\"38.0088\"\n      width=\"24.2725\"\n      height=\"24.2725\"\n      filterUnits=\"userSpaceOnUse\"\n      color-interpolation-filters=\"sRGB\"\n    >\n      <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n      <feBlend\n        mode=\"normal\"\n        in=\"SourceGraphic\"\n        in2=\"BackgroundImageFix\"\n        result=\"shape\"\n      />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n        result=\"hardAlpha\"\n      />\n      <feOffset dx=\"0.245902\" dy=\"0.245902\" />\n      <feGaussianBlur stdDeviation=\"0.327869\" />\n      <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\n      <feColorMatrix\n        type=\"matrix\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0\"\n      />\n      <feBlend\n        mode=\"normal\"\n        in2=\"shape\"\n        result=\"effect1_innerShadow_907_33313\"\n      />\n    </filter>\n    <linearGradient\n      id=\"paint0_linear_907_33313\"\n      x1=\"7.49313\"\n      y1=\"32.5757\"\n      x2=\"28.8063\"\n      y2=\"68.6363\"\n      gradientUnits=\"userSpaceOnUse\"\n    >\n      <stop stop-color=\"#F8F8F8\" />\n      <stop offset=\"0.348555\" stop-color=\"white\" />\n      <stop offset=\"0.672956\" stop-color=\"white\" />\n      <stop offset=\"1\" stop-color=\"#FAFAFA\" />\n      <stop offset=\"1\" stop-color=\"#F8F8F8\" />\n    </linearGradient>\n    <linearGradient\n      id=\"paint1_linear_907_33313\"\n      x1=\"82.9276\"\n      y1=\"23.8636\"\n      x2=\"114.897\"\n      y2=\"77.9545\"\n      gradientUnits=\"userSpaceOnUse\"\n    >\n      <stop stop-color=\"#F8F8F8\" />\n      <stop offset=\"0.348555\" stop-color=\"white\" />\n      <stop offset=\"0.672956\" stop-color=\"white\" />\n      <stop offset=\"1\" stop-color=\"#FAFAFA\" />\n      <stop offset=\"1\" stop-color=\"#F8F8F8\" />\n    </linearGradient>\n    <linearGradient\n      id=\"paint2_linear_907_33313\"\n      x1=\"181.796\"\n      y1=\"6.43938\"\n      x2=\"235.079\"\n      y2=\"96.5909\"\n      gradientUnits=\"userSpaceOnUse\"\n    >\n      <stop stop-color=\"#F8F8F8\" />\n      <stop offset=\"0.348555\" stop-color=\"white\" />\n      <stop offset=\"0.672956\" stop-color=\"white\" />\n      <stop offset=\"1\" stop-color=\"#FAFAFA\" />\n      <stop offset=\"1\" stop-color=\"#F8F8F8\" />\n    </linearGradient>\n    <linearGradient\n      id=\"paint3_linear_907_33313\"\n      x1=\"306.928\"\n      y1=\"23.8636\"\n      x2=\"338.897\"\n      y2=\"77.9545\"\n      gradientUnits=\"userSpaceOnUse\"\n    >\n      <stop stop-color=\"#F8F8F8\" />\n      <stop offset=\"0.348555\" stop-color=\"white\" />\n      <stop offset=\"0.672956\" stop-color=\"white\" />\n      <stop offset=\"1\" stop-color=\"#FAFAFA\" />\n      <stop offset=\"1\" stop-color=\"#F8F8F8\" />\n    </linearGradient>\n    <linearGradient\n      id=\"paint4_linear_907_33313\"\n      x1=\"395.493\"\n      y1=\"32.5757\"\n      x2=\"416.806\"\n      y2=\"68.6363\"\n      gradientUnits=\"userSpaceOnUse\"\n    >\n      <stop stop-color=\"#F8F8F8\" />\n      <stop offset=\"0.348555\" stop-color=\"white\" />\n      <stop offset=\"0.672956\" stop-color=\"white\" />\n      <stop offset=\"1\" stop-color=\"#FAFAFA\" />\n      <stop offset=\"1\" stop-color=\"#F8F8F8\" />\n    </linearGradient>\n    <clipPath id=\"clip0_907_33313\">\n      <rect\n        x=\"0.624512\"\n        y=\"30\"\n        width=\"40\"\n        height=\"40\"\n        rx=\"6.06061\"\n        fill=\"white\"\n      />\n    </clipPath>\n    <clipPath id=\"clip1_907_33313\">\n      <rect\n        x=\"72.6245\"\n        y=\"20\"\n        width=\"60\"\n        height=\"60\"\n        rx=\"9.09091\"\n        fill=\"white\"\n      />\n    </clipPath>\n    <clipPath id=\"clip2_907_33313\">\n      <rect x=\"164.625\" width=\"100\" height=\"100\" rx=\"15.1515\" fill=\"white\" />\n    </clipPath>\n    <clipPath id=\"clip3_907_33313\">\n      <rect\n        x=\"296.625\"\n        y=\"20\"\n        width=\"60\"\n        height=\"60\"\n        rx=\"9.09091\"\n        fill=\"white\"\n      />\n    </clipPath>\n    <clipPath id=\"clip4_907_33313\">\n      <rect\n        width=\"36.0399\"\n        height=\"36.0399\"\n        fill=\"white\"\n        transform=\"translate(308.638 32.0132)\"\n      />\n    </clipPath>\n    <clipPath id=\"clip5_907_33313\">\n      <rect\n        x=\"388.625\"\n        y=\"30\"\n        width=\"40\"\n        height=\"40\"\n        rx=\"6.06061\"\n        fill=\"white\"\n      />\n    </clipPath>\n  </defs>\n</svg>`;\n","import { useTheme } from 'next-themes';\n\nimport * as styles from './arts.css';\nimport DarkSvg from './dark-art-svg';\nimport LightSvg from './light-art-svg';\n\nexport const ExperimentalFeatureArts = () => {\n  const { resolvedTheme } = useTheme();\n\n  return (\n    <div\n      className={styles.root}\n      dangerouslySetInnerHTML={{\n        __html: resolvedTheme === 'dark' ? DarkSvg : LightSvg,\n      }}\n    />\n  );\n};\n","import \"../core/src/components/affine/setting-modal/general-setting/experimental-features/arts.css.ts.vanilla.css!=!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/general-setting/experimental-features/arts.css.ts.vanilla.css\\\",\\\"source\\\":\\\"LmJxY3h2dzAgewogIGhlaWdodDogMTAwcHg7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQ==\\\"}!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var root = 'bqcxvw0';","import { Button, Checkbox, Loading, Switch, Tooltip } from '@affine/component';\nimport { SettingHeader } from '@affine/component/setting-components';\nimport { useAppSettingHelper } from '@affine/core/hooks/affine/use-app-setting-helper';\nimport { useAsyncCallback } from '@affine/core/hooks/affine-async-hooks';\nimport { useI18n } from '@affine/i18n';\nimport {\n  ArrowRightSmallIcon,\n  DiscordIcon,\n  EmailIcon,\n  GithubIcon,\n} from '@blocksuite/icons/rc';\nimport {\n  affineFeatureFlags,\n  blocksuiteFeatureFlags,\n  type FeedbackType,\n} from '@toeverything/infra';\nimport { useAtom } from 'jotai';\nimport { atomWithStorage } from 'jotai/utils';\nimport { Suspense, useCallback, useState } from 'react';\n\nimport { ExperimentalFeatureArts } from './arts';\nimport * as styles from './index.css';\n\nconst ExperimentalFeaturesPrompt = ({\n  onConfirm,\n}: {\n  onConfirm: () => void;\n}) => {\n  const t = useI18n();\n  const [checked, setChecked] = useState(false);\n\n  const onChange: (\n    event: React.ChangeEvent<HTMLInputElement>,\n    checked: boolean\n  ) => void = useCallback((_, checked) => {\n    setChecked(checked);\n  }, []);\n\n  return (\n    <div className={styles.promptRoot} data-testid=\"experimental-prompt\">\n      <div className={styles.promptTitle}>\n        {t[\n          'com.affine.settings.workspace.experimental-features.prompt-header'\n        ]()}\n      </div>\n      <div className={styles.promptArt}>\n        <ExperimentalFeatureArts />\n      </div>\n      <div className={styles.promptWarning}>\n        <div className={styles.promptWarningTitle}>\n          {t[\n            'com.affine.settings.workspace.experimental-features.prompt-warning-title'\n          ]()}\n        </div>\n        {t[\n          'com.affine.settings.workspace.experimental-features.prompt-warning'\n        ]()}\n      </div>\n\n      <div className={styles.spacer} />\n\n      <label className={styles.promptDisclaimer}>\n        <Checkbox\n          checked={checked}\n          onChange={onChange}\n          data-testid=\"experimental-prompt-disclaimer\"\n        />\n        {t[\n          'com.affine.settings.workspace.experimental-features.prompt-disclaimer'\n        ]()}\n      </label>\n\n      <div className={styles.promptDisclaimerConfirm}>\n        <Button\n          disabled={!checked}\n          onClick={onConfirm}\n          variant=\"primary\"\n          data-testid=\"experimental-confirm-button\"\n        >\n          {t[\n            'com.affine.settings.workspace.experimental-features.get-started'\n          ]()}\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nconst FeedbackIcon = ({ type }: { type: FeedbackType }) => {\n  switch (type) {\n    case 'discord':\n      return <DiscordIcon fontSize={16} />;\n    case 'email':\n      return <EmailIcon fontSize={16} />;\n    case 'github':\n      return <GithubIcon fontSize={16} />;\n    default:\n      return null;\n  }\n};\n\nconst feedbackLink: Record<FeedbackType, string> = {\n  discord: 'https://discord.gg/whd5mjYqVw',\n  email: 'mailto:support@toeverything.info',\n  github: 'https://github.com/toeverything/AFFiNE/issues',\n};\n\nconst ExperimentalFeaturesItem = ({\n  title,\n  description,\n  feedbackType,\n  isMutating,\n  checked,\n  onChange,\n  testId,\n}: {\n  title: React.ReactNode;\n  description?: React.ReactNode;\n  feedbackType?: FeedbackType;\n  isMutating?: boolean;\n  checked: boolean;\n  onChange: (checked: boolean) => void;\n  testId?: string;\n}) => {\n  const link = feedbackType ? feedbackLink[feedbackType] : undefined;\n\n  return (\n    <div className={styles.rowContainer}>\n      <div className={styles.switchRow}>\n        {title}\n        <Switch\n          checked={checked}\n          onChange={onChange}\n          className={isMutating ? styles.switchDisabled : ''}\n          data-testid={testId}\n        />\n      </div>\n      {!!description && (\n        <Tooltip content={description}>\n          <div className={styles.description}>{description}</div>\n        </Tooltip>\n      )}\n      {!!feedbackType && (\n        <a\n          className={styles.feedback}\n          href={link}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <FeedbackIcon type={feedbackType} />\n          <span>Discussion about this feature</span>\n          <ArrowRightSmallIcon\n            fontSize={20}\n            className={styles.arrowRightIcon}\n          />\n        </a>\n      )}\n    </div>\n  );\n};\n\nconst SplitViewSettingRow = () => {\n  const { appSettings, updateSettings } = useAppSettingHelper();\n\n  const onToggle = useCallback(\n    (checked: boolean) => {\n      updateSettings('enableMultiView', checked);\n    },\n    [updateSettings]\n  );\n  const multiViewFlagConfig = affineFeatureFlags['enableMultiView'];\n  const shouldShow = multiViewFlagConfig?.precondition?.();\n\n  if (!multiViewFlagConfig || !shouldShow) {\n    return null;\n  }\n\n  return (\n    <ExperimentalFeaturesItem\n      title={multiViewFlagConfig.displayName}\n      description={multiViewFlagConfig.description}\n      feedbackType={multiViewFlagConfig.feedbackType}\n      checked={appSettings.enableMultiView}\n      onChange={onToggle}\n    />\n  );\n};\n\nconst BlocksuiteFeatureFlagSettings = () => {\n  const { appSettings, updateSettings } = useAppSettingHelper();\n  const toggleSetting = useCallback(\n    (flag: keyof BlockSuiteFlags, checked: boolean) => {\n      updateSettings('editorFlags', {\n        ...appSettings.editorFlags,\n        [flag]: checked,\n      });\n    },\n    [appSettings.editorFlags, updateSettings]\n  );\n\n  type EditorFlag = keyof typeof appSettings.editorFlags;\n\n  return (\n    <>\n      {Object.entries(blocksuiteFeatureFlags).map(([key, value]) => {\n        const hidden = value.precondition && !value.precondition();\n\n        if (hidden) {\n          return null;\n        }\n        return (\n          <ExperimentalFeaturesItem\n            key={key}\n            title={'Block Suite: ' + value.displayName}\n            description={value.description}\n            feedbackType={value.feedbackType}\n            checked={!!appSettings.editorFlags?.[key as EditorFlag]}\n            onChange={checked =>\n              toggleSetting(key as keyof BlockSuiteFlags, checked)\n            }\n          />\n        );\n      })}\n    </>\n  );\n};\n\nconst ExperimentalFeaturesMain = () => {\n  const t = useI18n();\n\n  return (\n    <>\n      <SettingHeader\n        title={t[\n          'com.affine.settings.workspace.experimental-features.header.plugins'\n        ]()}\n        subtitle={t[\n          'com.affine.settings.workspace.experimental-features.header.subtitle'\n        ]()}\n      />\n      <div\n        className={styles.settingsContainer}\n        data-testid=\"experimental-settings\"\n      >\n        <SplitViewSettingRow />\n        <BlocksuiteFeatureFlagSettings />\n      </div>\n    </>\n  );\n};\n\n// TODO(@Peng): save to workspace meta instead?\nconst experimentalFeaturesDisclaimerAtom = atomWithStorage(\n  'affine:experimental-features-disclaimer',\n  false\n);\n\nexport const ExperimentalFeatures = () => {\n  const [enabled, setEnabled] = useAtom(experimentalFeaturesDisclaimerAtom);\n  const handleConfirm = useAsyncCallback(async () => {\n    setEnabled(true);\n  }, [setEnabled]);\n  if (!enabled) {\n    return <ExperimentalFeaturesPrompt onConfirm={handleConfirm} />;\n  } else {\n    return (\n      <Suspense fallback={<Loading />}>\n        <ExperimentalFeaturesMain />\n      </Suspense>\n    );\n  }\n};\n","import \"../core/src/components/affine/setting-modal/general-setting/experimental-features/index.css.ts.vanilla.css!=!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/general-setting/experimental-features/index.css.ts.vanilla.css\\\",\\\"source\\\":\\\"#H4sIAAAAAAAACqVUwW7bMAy95yt0GbAeFDipm3XKxwyyRDtcFcmQ6MRpsX8fJC+LrdlFgp0Mi9QjH9+j1j82DZSq7wr2sWKsdQEJnRVMVsGZjmC/YkxjaI28CFYb6ONB/HKNHtSQrJzpjjZGDoDNgQTbFMWX/erXan3F3yT82lniAd9BsJP0XzmXdY0WeDo/8PJpf006/wHaFUU8O0rfoOWVI3JHwcrXtp/AbxN8lrXLs55TViXVW+NdZzVXzjif9TIKE3hC6S9D3q25JQZ9eHpwXj+7QFjHApbAkmAKLIGPoUa2gm3KNiG0Umu0TRzscFA5r8FzLzV2QbCcaZmYztED753PCU2mPYJ5GVSL7TfenQXbJDHQ8r9Cb7PKu3TlnxFIg43lSHAMY5Kf8M/EfN4OxNNYyqzot/miy3NPKNsc5nUeZrHJ0dXv/0c7tFIBr4DOAKnBM2o6zOyRTHVcKxXSRbBi/ZLs4TBCcziBpSCYdRYm16rb+mWbNecRgp54AOWsnro/0yR3nXpUhoXxDNYvMnS96OnFfu/ZVncCX5to7gNqPUw/Ad4CYAy2AcNkufkZqjckXrlE8vprIr4y8hgNNg5UrufOY5L7FB8WJc1nSkOiO4neb7B7iD80ySRJrnc9fnUN1CSY7MiNnOIHr8VX5Td+UzxrawYAAA==\\\"}!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var arrowRightIcon = '_1ge4cxuf';\nexport var description = '_1ge4cxud';\nexport var feedback = '_1ge4cxue';\nexport var promptArt = '_1ge4cxu2';\nexport var promptDisclaimer = '_1ge4cxu6';\nexport var promptDisclaimerConfirm = '_1ge4cxu8';\nexport var promptRoot = '_1ge4cxu0';\nexport var promptTitle = '_1ge4cxu1';\nexport var promptWarning = '_1ge4cxu3';\nexport var promptWarningTitle = '_1ge4cxu4';\nexport var rowContainer = '_1ge4cxuc';\nexport var settingsContainer = '_1ge4cxu7';\nexport var spacer = '_1ge4cxu5';\nexport var subHeader = '_1ge4cxub';\nexport var switchDisabled = '_1ge4cxua';\nexport var switchRow = '_1ge4cxu9';","import type { SVGProps } from 'react';\n\nexport const UpgradeIcon = ({ width, height }: SVGProps<SVGElement>) => {\n  return (\n    <svg\n      className=\"icon\"\n      width={width || 16}\n      height={height || 16}\n      viewBox=\"0 0 16 16\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M1.5 8C1.5 4.41022 4.41022 1.5 8 1.5C11.5898 1.5 14.5 4.41022 14.5 8C14.5 11.5898 11.5898 14.5 8 14.5C4.41022 14.5 1.5 11.5898 1.5 8ZM8 2.5C4.96251 2.5 2.5 4.96251 2.5 8C2.5 11.0375 4.96251 13.5 8 13.5C11.0375 13.5 13.5 11.0375 13.5 8C13.5 4.96251 11.0375 2.5 8 2.5ZM4.91917 7.64645L7.64645 4.91917C7.84171 4.72391 8.15829 4.72391 8.35355 4.91917L11.0808 7.64645C11.2761 7.84171 11.2761 8.15829 11.0808 8.35355C10.8856 8.54882 10.569 8.54882 10.3737 8.35355L8.5 6.47983V11C8.5 11.2761 8.27614 11.5 8 11.5C7.72386 11.5 7.5 11.2761 7.5 11V6.47983L5.62628 8.35355C5.43102 8.54882 5.11444 8.54882 4.91917 8.35355C4.72391 8.15829 4.72391 7.84171 4.91917 7.64645Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n};\n\nexport const PaymentIcon = ({ width, height }: SVGProps<SVGElement>) => {\n  return (\n    <svg\n      className=\"icon\"\n      width={width || 16}\n      height={height || 16}\n      viewBox=\"0 0 16 16\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M1.5 4.66634C1.5 3.65382 2.32081 2.83301 3.33333 2.83301H12.6667C13.6792 2.83301 14.5 3.65382 14.5 4.66634V11.333C14.5 12.3455 13.6792 13.1663 12.6667 13.1663H3.33333C2.32081 13.1663 1.5 12.3455 1.5 11.333V4.66634ZM3.33333 3.83301C2.8731 3.83301 2.5 4.2061 2.5 4.66634V5.49967H13.5V4.66634C13.5 4.2061 13.1269 3.83301 12.6667 3.83301H3.33333ZM13.5 6.49967H2.5V11.333C2.5 11.7932 2.8731 12.1663 3.33333 12.1663H12.6667C13.1269 12.1663 13.5 11.7932 13.5 11.333V6.49967ZM9.5 9.99967C9.5 9.72353 9.72386 9.49967 10 9.49967H12C12.2761 9.49967 12.5 9.72353 12.5 9.99967C12.5 10.2758 12.2761 10.4997 12 10.4997H10C9.72386 10.4997 9.5 10.2758 9.5 9.99967Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n};\n","import \"../core/src/components/affine/setting-modal/general-setting/plans/ai/ai-plan.css.ts.vanilla.css!=!../../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/general-setting/plans/ai/ai-plan.css.ts.vanilla.css\\\",\\\"source\\\":\\\"#H4sIAAAAAAAACq1UwW6jMBC99ytGlVbaPbgKlKaNK/XSD6mMPYC1YLO2SdNd9d9XGCeLgbRpNifkwZ73Zt68uXlJ8JcoN9UK/lwB5NoINBSSdgdW11LAlpnvhLCikArJ8JtwXWvz4/FwnxgmZGcpJOt214dbJoRUJYVbH3i/utnDJB5GSNvW7I1CUaN/0H+JkAa5k1pR4LruGtX/KVlL4WFI2zBTSkVy7ZxuKCTpJHnqkxdaOfKKsqwchbvV6nEfs/I30rggH99ZX0vdB6rwLl0NkL7UyaPcMCUOTRjh356Hb5sF/PQ4vsOdI62RDTNvSzQyT+PklxPG6xnjNLQ/IjhT9u4sZZNQJ6tlqYh02FgK1jHjFgRPswnmehlzlHl0+d5fbqQir1K4qp/WIPKhpvvhPJ3qUP9FhE2y0Ex0Dg2xLePeKST5FrF9+FhEbNqKWWlHKgbTkRoLN7MiMQF+Ktvm38x+4o+o/Gwo/2TPeNIWuVbiyNRu4AnYVyfXhwVybdgwXp0SaHpWUW72H7M5SpNfJg2/4Jr4rOXzls3oR9bjqByaA/ep4Tg8gd2WR2WKVyNAcFo6MdpwHuUVZ3V2yg7njc1O3/9fGNupClnstcGB+xXeaisH+gZr5uQ2nk2kNMdCGwxNVQ6Vo3B9PepfFrcvW1xTAS5n/GdpdKcEBd4Zg8o997RjKiy3uu4cDqvIL4ygkdPt/vD+Fz9rsnAeCAAA\\\"}!../../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var actionBlock = '_1eqdg9h5';\nexport var actionButtons = '_1eqdg9h6';\nexport var agreement = '_1eqdg9h9';\nexport var benefitGroup = '_1eqdg9hb';\nexport var benefitItem = '_1eqdg9he';\nexport var benefitList = '_1eqdg9hd';\nexport var benefitTitle = '_1eqdg9hc';\nexport var benefits = '_1eqdg9ha';\nexport var card = '_1eqdg9h0';\nexport var learnAIButton = '_1eqdg9h8 _1eqdg9h7';\nexport var purchaseButton = '_1eqdg9h7';\nexport var title = '_1eqdg9h4';\nexport var titleBlock = '_1eqdg9h1';\nexport var titleCaption1 = '_1eqdg9h2';\nexport var titleCaption2 = '_1eqdg9h3';","import { Button, Divider, IconButton } from '@affine/component';\nimport { SettingHeader } from '@affine/component/setting-components';\nimport {\n  openSettingModalAtom,\n  type PlansScrollAnchor,\n} from '@affine/core/atoms';\nimport { useI18n } from '@affine/i18n';\nimport { ArrowRightBigIcon, ArrowUpSmallIcon } from '@blocksuite/icons/rc';\nimport * as Collapsible from '@radix-ui/react-collapsible';\nimport * as ScrollArea from '@radix-ui/react-scroll-area';\nimport { useAtom, useAtomValue } from 'jotai';\nimport {\n  type HtmlHTMLAttributes,\n  type ReactNode,\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { createPortal, flushSync } from 'react-dom';\n\nimport { settingModalScrollContainerAtom } from '../../atoms';\nimport * as styles from './layout.css';\n\nexport const SeeAllLink = () => {\n  const t = useI18n();\n\n  return (\n    <a\n      className={styles.allPlansLink}\n      href=\"https://affine.pro/pricing\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      {t['com.affine.payment.see-all-plans']()}\n      {<ArrowRightBigIcon width=\"16\" height=\"16\" />}\n    </a>\n  );\n};\n\ninterface PricingCollapsibleProps\n  extends Omit<HtmlHTMLAttributes<HTMLDivElement>, 'title'> {\n  title?: ReactNode;\n  caption?: ReactNode;\n}\nexport const PricingCollapsible = ({\n  title,\n  caption,\n  children,\n}: PricingCollapsibleProps) => {\n  const [open, setOpen] = useState(true);\n  const toggle = useCallback(() => setOpen(prev => !prev), []);\n  return (\n    <Collapsible.Root open={open} onOpenChange={setOpen}>\n      <section className={styles.collapsibleHeader}>\n        <div className={styles.collapsibleHeaderContent}>\n          <div className={styles.collapsibleHeaderTitle}>{title}</div>\n          <div className={styles.collapsibleHeaderCaption}>{caption}</div>\n        </div>\n        <IconButton onClick={toggle} size=\"20\">\n          <ArrowUpSmallIcon\n            style={{\n              transform: open ? 'rotate(0deg)' : 'rotate(180deg)',\n              transition: 'transform 0.23s ease',\n            }}\n          />\n        </IconButton>\n      </section>\n      <Collapsible.Content>{children}</Collapsible.Content>\n    </Collapsible.Root>\n  );\n};\n\nexport interface PlanLayoutProps {\n  cloud?: ReactNode;\n  ai?: ReactNode;\n  cloudTip?: boolean;\n}\n\nexport const PlanLayout = ({ cloud, ai, cloudTip }: PlanLayoutProps) => {\n  const t = useI18n();\n  const [modal, setOpenSettingModal] = useAtom(openSettingModalAtom);\n  const scrollAnchor = modal.activeTab === 'plans' ? modal.scrollAnchor : null;\n  const plansRootRef = useRef<HTMLDivElement>(null);\n  const cloudScrollTipRef = useRef<HTMLDivElement>(null);\n  const settingModalScrollContainer = useAtomValue(\n    settingModalScrollContainerAtom\n  );\n\n  const updateCloudTipState = useCallback(() => {\n    if (!cloudTip) return;\n    const cloudContainer =\n      plansRootRef.current?.querySelector('#cloudPricingPlan');\n    if (!settingModalScrollContainer || !cloudContainer) return;\n\n    const minVisibleHeight = 30;\n\n    const containerRect = settingModalScrollContainer.getBoundingClientRect();\n    const cloudTop =\n      cloudContainer.getBoundingClientRect().top - containerRect.top;\n    const cloudIntoView = cloudTop < containerRect.height - minVisibleHeight;\n    if (cloudIntoView) {\n      settingModalScrollContainer.dataset.cloudVisible = '';\n    }\n  }, [cloudTip, settingModalScrollContainer]);\n\n  // TODO(@catsjuice): Need a better solution to handle this situation\n  useLayoutEffect(() => {\n    if (!scrollAnchor) return;\n    flushSync(() => {\n      const target = plansRootRef.current?.querySelector(`#${scrollAnchor}`);\n      if (target) {\n        target.scrollIntoView();\n        setOpenSettingModal(prev => ({ ...prev, scrollAnchor: undefined }));\n      }\n    });\n  }, [scrollAnchor, setOpenSettingModal]);\n\n  useEffect(() => {\n    if (!settingModalScrollContainer || !cloudScrollTipRef.current) return;\n\n    settingModalScrollContainer.addEventListener('scroll', updateCloudTipState);\n    updateCloudTipState();\n    return () => {\n      settingModalScrollContainer.removeEventListener(\n        'scroll',\n        updateCloudTipState\n      );\n    };\n  }, [settingModalScrollContainer, updateCloudTipState]);\n\n  const scrollToAnchor = useCallback((anchor: PlansScrollAnchor) => {\n    const target = plansRootRef.current?.querySelector(`#${anchor}`);\n    target && target.scrollIntoView({ behavior: 'smooth' });\n  }, []);\n\n  return (\n    <div className={styles.plansLayoutRoot} ref={plansRootRef}>\n      {/* TODO(@catsjuice): SettingHeader component shouldn't have margin itself  */}\n      <SettingHeader\n        style={{ marginBottom: '0px' }}\n        title={t['com.affine.payment.title']()}\n      />\n      {ai ? (\n        <>\n          <div id=\"aiPricingPlan\">{ai}</div>\n          <Divider className={styles.aiDivider} />\n        </>\n      ) : null}\n      <div id=\"cloudPricingPlan\">{cloud}</div>\n\n      {cloudTip && settingModalScrollContainer\n        ? createPortal(\n            <div className={styles.aiScrollTip} ref={cloudScrollTipRef}>\n              <div>\n                <div className={styles.cloudScrollTipTitle}>\n                  {t['com.affine.cloud-scroll-tip.title']()}\n                </div>\n                <div className={styles.cloudScrollTipCaption}>\n                  {t['com.affine.cloud-scroll-tip.caption']()}\n                </div>\n              </div>\n              <Button\n                onClick={() => scrollToAnchor('cloudPricingPlan')}\n                variant=\"primary\"\n              >\n                {t['com.affine.ai-scroll-tip.view']()}\n              </Button>\n            </div>,\n            settingModalScrollContainer,\n            'aiScrollTip'\n          )\n        : null}\n    </div>\n  );\n};\n\nexport interface PlanCardProps {\n  title?: ReactNode;\n  caption?: ReactNode;\n  select?: ReactNode;\n  toggle?: ReactNode;\n  scroll?: ReactNode;\n  lifetime?: ReactNode;\n  scrollRef?: React.RefObject<HTMLDivElement>;\n}\nexport const CloudPlanLayout = ({\n  title = 'AFFiNE Cloud',\n  caption,\n  select,\n  toggle,\n  scroll,\n  lifetime,\n  scrollRef,\n}: PlanCardProps) => {\n  return (\n    <PricingCollapsible title={title} caption={caption}>\n      <div className={styles.affineCloudHeader}>\n        <div>{select}</div>\n        <div>{toggle}</div>\n      </div>\n      <ScrollArea.Root>\n        <ScrollArea.Viewport ref={scrollRef} className={styles.scrollArea}>\n          {scroll}\n        </ScrollArea.Viewport>\n        <ScrollArea.Scrollbar\n          forceMount\n          orientation=\"horizontal\"\n          className={styles.scrollBar}\n        >\n          <ScrollArea.Thumb className={styles.scrollThumb}></ScrollArea.Thumb>\n        </ScrollArea.Scrollbar>\n      </ScrollArea.Root>\n      {lifetime ? (\n        <div style={{ paddingTop: 12 }} id=\"lifetimePricingPlan\">\n          {lifetime}\n        </div>\n      ) : null}\n    </PricingCollapsible>\n  );\n};\n","import \"../core/src/components/affine/setting-modal/general-setting/plans/layout.css.ts.vanilla.css!=!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/general-setting/plans/layout.css.ts.vanilla.css\\\",\\\"source\\\":\\\"#H4sIAAAAAAAACqVV227bMAx9z1dwDwOaYQrsNM1a92W/MQzDwFh0olWWDInOpUP/fbBk147nNB32FIOkDslDHubrE50KhyV5+LnCE5eHDfyeARTOluEDoES3VUZsLLMtMxBpklTHxxnAywyA7XRUEgNeZosWNglxUvlK4ymDQlPAaH6FVI5yVtZkkFtdl6bxbLHKYLlqUvUoaUBpc2kqOIMcdX4jUvgEe3Q3QnhiVmYrSitRiy1W4jifN4AVStk44rPLwU3sQUneTQcFVwiye3KFtgdxzABrtsMkHQ/LNHLV2dlWvbHtI9hENPatLqcJQ622Riim0meQk2Fyjbn25IQnTTlnYKyhxzCcOt8JbKntrDtS2x1n8BCLaFtNk+TjMP1tSC+EQ6mOwufOai3QEQre1eVGdCiriLLB/GnrbG1kxxoWhTIkVG6N8JRbI9GdIm8V5opPGSSL9ZDHDHZKSjLDIjt46yS5UEztW2tf6+qfqAqL1eLmVls3qlgr8ySCYz7ujB0aX6Ejw4OqWpCRs7CGhVfPNIIP9qOfDxu4e0cDntHxYGu6Dbs/52IdoNqhJp3EMkiHQV+ixptKDi3R6yS5WvUGPQVOdGPqRrRcnldw/zf46h3ggZIxdHJ5TExH7hfrdWB9HQ/TpP6qPauieWCYDGfgK8xJbIgPFHfvwt6MeB+fJgzp+t1ufN8lMopc21qKvfJqo+kHXHhwNqA8+CrrVdQubrzVNQf9PgtlZDvSZgdjOenyTM5Tl6vteHDBLqr2sFMcRz1S3v1Qjxmk1RG81UqePx8KI6AEbbS9hO/CuhKSxe3aA6EnSBYr/7kjo3H09rV/YyjXp9le3shQ2Kj4la67Vo7C71A29+esiWgU6Xxi+P2fIBpVYmzs9Q90WP6dh8K6Azrpr25EnPorPy1VGpm+3YSEo/PZAEq1P39+tvDwQZWVdYzNTerXS/YSvSRHX84fL9yICfW/IdHKqXJaoHS9ivYoTB2T/z4UfwCGdoP2+wgAAA==\\\"}!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var affineCloudHeader = '_4aytmw9';\nexport var aiDivider = '_4aytmwa';\nexport var aiScrollTip = '_4aytmwc';\nexport var allPlansLink = '_4aytmw4';\nexport var cloudScrollTipCaption = '_4aytmwe';\nexport var cloudScrollTipTitle = '_4aytmwd';\nexport var collapsibleHeader = '_4aytmw5';\nexport var collapsibleHeaderCaption = '_4aytmw8';\nexport var collapsibleHeaderContent = '_4aytmw6';\nexport var collapsibleHeaderTitle = '_4aytmw7';\nexport var plansLayoutRoot = '_4aytmw0';\nexport var scrollArea = '_4aytmw1';\nexport var scrollBar = '_4aytmw2';\nexport var scrollThumb = '_4aytmw3';","import { useI18n } from '@affine/i18n';\nimport {\n  CheckBoxCheckLinearIcon,\n  PenIcon,\n  TextIcon,\n} from '@blocksuite/icons/rc';\nimport { useMemo } from 'react';\n\nimport * as styles from './ai-plan.css';\n\nconst benefitsGetter = (t: ReturnType<typeof useI18n>) => [\n  {\n    name: t['com.affine.payment.ai.benefit.g1'](),\n    icon: <TextIcon />,\n    items: [\n      t['com.affine.payment.ai.benefit.g1-1'](),\n      t['com.affine.payment.ai.benefit.g1-2'](),\n      t['com.affine.payment.ai.benefit.g1-3'](),\n    ],\n  },\n  {\n    name: t['com.affine.payment.ai.benefit.g2'](),\n    icon: <PenIcon />,\n    items: [\n      t['com.affine.payment.ai.benefit.g2-1'](),\n      t['com.affine.payment.ai.benefit.g2-2'](),\n      t['com.affine.payment.ai.benefit.g2-3'](),\n    ],\n  },\n  {\n    name: t['com.affine.payment.ai.benefit.g3'](),\n    icon: <CheckBoxCheckLinearIcon />,\n    items: [\n      t['com.affine.payment.ai.benefit.g3-1'](),\n      t['com.affine.payment.ai.benefit.g3-2'](),\n      t['com.affine.payment.ai.benefit.g3-3'](),\n    ],\n  },\n];\n\nexport const AIBenefits = () => {\n  const t = useI18n();\n  const benefits = useMemo(() => benefitsGetter(t), [t]);\n  return (\n    <div className={styles.benefits}>\n      {benefits.map(({ name, icon, items }) => {\n        return (\n          <div key={name} className={styles.benefitGroup}>\n            <div className={styles.benefitTitle}>\n              {icon}\n              {name}\n            </div>\n\n            <ul className={styles.benefitList}>\n              {items.map(item => (\n                <li className={styles.benefitItem} key={item}>\n                  {item}\n                </li>\n              ))}\n            </ul>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","import { useI18n } from '@affine/i18n';\nimport type { ReactNode } from 'react';\n\nimport { PricingCollapsible } from '../layout';\nimport * as styles from './ai-plan.css';\nimport { AIBenefits } from './benefits';\n\nexport interface AIPlanLayoutProps {\n  caption?: ReactNode;\n  actionButtons?: ReactNode;\n  billingTip?: ReactNode;\n}\nexport const AIPlanLayout = ({\n  caption,\n  actionButtons,\n  billingTip,\n}: AIPlanLayoutProps) => {\n  const t = useI18n();\n  const title = t['com.affine.payment.ai.pricing-plan.title']();\n\n  return (\n    <PricingCollapsible title={title} caption={caption}>\n      <div className={styles.card}>\n        <div className={styles.titleBlock}>\n          <section className={styles.titleCaption1}>\n            {t['com.affine.payment.ai.pricing-plan.title-caption-1']()}\n          </section>\n          <section className={styles.title}>\n            {t['com.affine.payment.ai.pricing-plan.title']()}\n          </section>\n          <section className={styles.titleCaption2}>\n            {t['com.affine.payment.ai.pricing-plan.title-caption-2']()}\n          </section>\n        </div>\n\n        <div className={styles.actionBlock}>\n          <div className={styles.actionButtons}>{actionButtons}</div>\n          {billingTip ? (\n            <div className={styles.agreement}>{billingTip}</div>\n          ) : null}\n        </div>\n\n        <AIBenefits />\n      </div>\n    </PricingCollapsible>\n  );\n};\n","import { Button } from '@affine/component';\nimport { AuthService, SubscriptionService } from '@affine/core/modules/cloud';\nimport { i18nTime, useI18n } from '@affine/i18n';\nimport { useLiveData, useService } from '@toeverything/infra';\nimport { useEffect } from 'react';\n\nimport { AICancel, AILogin, AIResume, AISubscribe } from './actions';\nimport * as styles from './ai-plan.css';\nimport { AIPlanLayout } from './layout';\n\nexport const AIPlan = () => {\n  const t = useI18n();\n\n  const authService = useService(AuthService);\n  const subscriptionService = useService(SubscriptionService);\n  const subscription = useLiveData(subscriptionService.subscription.ai$);\n  const price = useLiveData(subscriptionService.prices.aiPrice$);\n  const isLoggedIn =\n    useLiveData(authService.session.status$) === 'authenticated';\n\n  useEffect(() => {\n    subscriptionService.subscription.revalidate();\n    subscriptionService.prices.revalidate();\n  }, [subscriptionService]);\n\n  // yearly subscription should always be available\n  if (!price?.yearlyAmount) {\n    return null;\n  }\n\n  const billingTip = subscription?.nextBillAt\n    ? t['com.affine.payment.ai.billing-tip.next-bill-at']({\n        due: i18nTime(subscription.nextBillAt, {\n          absolute: { accuracy: 'day' },\n        }),\n      })\n    : subscription?.canceledAt && subscription.end\n      ? t['com.affine.payment.ai.billing-tip.end-at']({\n          end: i18nTime(subscription.end, {\n            absolute: { accuracy: 'day' },\n          }),\n        })\n      : null;\n\n  return (\n    <AIPlanLayout\n      caption={\n        subscription\n          ? t['com.affine.payment.ai.pricing-plan.caption-purchased']()\n          : t['com.affine.payment.ai.pricing-plan.caption-free']()\n      }\n      actionButtons={\n        isLoggedIn ? (\n          subscription ? (\n            subscription.canceledAt ? (\n              <AIResume className={styles.purchaseButton} />\n            ) : (\n              <AICancel className={styles.purchaseButton} />\n            )\n          ) : (\n            <>\n              <AISubscribe\n                className={styles.purchaseButton}\n                displayedFrequency=\"monthly\"\n              />\n              <a href=\"https://ai.affine.pro\" target=\"_blank\" rel=\"noreferrer\">\n                <Button className={styles.learnAIButton}>\n                  {t['com.affine.payment.ai.pricing-plan.learn']()}\n                </Button>\n              </a>\n            </>\n          )\n        ) : (\n          <AILogin className={styles.purchaseButton} />\n        )\n      }\n      billingTip={billingTip}\n    />\n  );\n};\n","import { Button, type ButtonProps } from '@affine/component/ui/button';\nimport { Tooltip } from '@affine/component/ui/tooltip';\nimport { generateSubscriptionCallbackLink } from '@affine/core/hooks/affine/use-subscription-notify';\nimport { useAsyncCallback } from '@affine/core/hooks/affine-async-hooks';\nimport { track } from '@affine/core/mixpanel';\nimport { AuthService, SubscriptionService } from '@affine/core/modules/cloud';\nimport { popupWindow } from '@affine/core/utils';\nimport type { SubscriptionRecurring } from '@affine/graphql';\nimport { SubscriptionPlan, SubscriptionStatus } from '@affine/graphql';\nimport { Trans, useI18n } from '@affine/i18n';\nimport { DoneIcon } from '@blocksuite/icons/rc';\nimport { useLiveData, useService } from '@toeverything/infra';\nimport clsx from 'clsx';\nimport { useSetAtom } from 'jotai';\nimport { nanoid } from 'nanoid';\nimport type { PropsWithChildren } from 'react';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { authAtom } from '../../../../../atoms/index';\nimport { CancelAction, ResumeAction } from './actions';\nimport type { DynamicPrice, FixedPrice } from './cloud-plans';\nimport { ConfirmLoadingModal } from './modals';\nimport * as styles from './style.css';\n\ninterface PlanCardProps {\n  detail: FixedPrice | DynamicPrice;\n  recurring: SubscriptionRecurring;\n}\n\nexport const PlanCard = (props: PlanCardProps) => {\n  const { detail, recurring } = props;\n  const loggedIn =\n    useLiveData(useService(AuthService).session.status$) === 'authenticated';\n  const subscriptionService = useService(SubscriptionService);\n  const proSubscription = useLiveData(subscriptionService.subscription.pro$);\n  const currentPlan = proSubscription?.plan ?? SubscriptionPlan.Free;\n\n  const isCurrent =\n    loggedIn &&\n    detail.plan === currentPlan &&\n    recurring === proSubscription?.recurring;\n  const isPro = detail.plan === SubscriptionPlan.Pro;\n\n  return (\n    <div\n      data-current={isCurrent}\n      key={detail.plan}\n      className={isPro ? styles.proPlanCard : styles.planCard}\n    >\n      <div className={styles.planCardBorderMock} />\n      <div className={styles.planTitle}>\n        <div style={{ paddingBottom: 12 }}>\n          <section className={styles.planTitleName}>{detail.name}</section>\n          <section className={styles.planTitleDescription}>\n            {detail.description}\n          </section>\n          <section className={styles.planTitleTitle}>\n            {detail.titleRenderer(recurring, detail as any)}\n          </section>\n        </div>\n        <ActionButton {...props} />\n      </div>\n      <div className={styles.planBenefits}>\n        {Object.entries(detail.benefits).map(([groupName, benefitList]) => {\n          return (\n            <ul className={styles.planBenefitGroup} key={groupName}>\n              <section className={styles.planBenefitGroupTitle}>\n                {groupName}:\n              </section>\n              {benefitList.map(({ icon, title }, index) => {\n                return (\n                  <li className={styles.planBenefit} key={index}>\n                    <div className={styles.planBenefitIcon}>\n                      {icon ?? <DoneIcon />}\n                    </div>\n                    <div className={styles.planBenefitText}>{title}</div>\n                  </li>\n                );\n              })}\n            </ul>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nconst ActionButton = ({ detail, recurring }: PlanCardProps) => {\n  const t = useI18n();\n  const loggedIn =\n    useLiveData(useService(AuthService).session.status$) === 'authenticated';\n  const subscriptionService = useService(SubscriptionService);\n  const isBeliever = useLiveData(subscriptionService.subscription.isBeliever$);\n  const primarySubscription = useLiveData(\n    subscriptionService.subscription.pro$\n  );\n  const currentPlan = primarySubscription?.plan ?? SubscriptionPlan.Free;\n  const currentRecurring = primarySubscription?.recurring;\n\n  // branches:\n  //  if contact                                => 'Contact Sales'\n  //  if not signed in:\n  //    if free                                 => 'Sign up free'\n  //    else                                    => 'Buy Pro'\n  //  else\n  //    if isBeliever                           => 'Included in Lifetime'\n  //    if isCurrent\n  //      if canceled                           => 'Resume'\n  //      else                                  => 'Current Plan'\n  //    if isCurrent                            => 'Current Plan'\n  //    else if free                            => 'Downgrade'\n  //    else if currentRecurring !== recurring  => 'Change to {recurring} Billing'\n  //    else                                    => 'Upgrade'\n\n  // contact\n  if (detail.type === 'dynamic') {\n    return <BookDemo plan={detail.plan} />;\n  }\n\n  // not signed in\n  if (!loggedIn) {\n    return (\n      <SignUpAction>\n        {detail.plan === SubscriptionPlan.Free\n          ? t['com.affine.payment.sign-up-free']()\n          : t['com.affine.payment.buy-pro']()}\n      </SignUpAction>\n    );\n  }\n\n  // lifetime\n  if (isBeliever) {\n    return (\n      <Button className={styles.planAction} disabled>\n        {t['com.affine.payment.cloud.lifetime.included']()}\n      </Button>\n    );\n  }\n\n  const isCanceled = !!primarySubscription?.canceledAt;\n  const isFree = detail.plan === SubscriptionPlan.Free;\n  const isCurrent =\n    detail.plan === currentPlan &&\n    (isFree\n      ? true\n      : currentRecurring === recurring &&\n        primarySubscription?.status === SubscriptionStatus.Active);\n\n  // is current\n  if (isCurrent) {\n    return isCanceled ? <ResumeButton /> : <CurrentPlan />;\n  }\n\n  if (isFree) {\n    return <Downgrade disabled={isCanceled} />;\n  }\n\n  return currentPlan === detail.plan ? (\n    <ChangeRecurring\n      from={currentRecurring as SubscriptionRecurring}\n      to={recurring as SubscriptionRecurring}\n      due={primarySubscription?.nextBillAt || ''}\n      disabled={isCanceled}\n    />\n  ) : (\n    <Upgrade recurring={recurring as SubscriptionRecurring} />\n  );\n};\n\nconst CurrentPlan = () => {\n  const t = useI18n();\n  return (\n    <Button className={styles.planAction}>\n      {t['com.affine.payment.current-plan']()}\n    </Button>\n  );\n};\n\nconst Downgrade = ({ disabled }: { disabled?: boolean }) => {\n  const t = useI18n();\n  const [open, setOpen] = useState(false);\n\n  const tooltipContent = disabled\n    ? t['com.affine.payment.downgraded-tooltip']()\n    : null;\n\n  const handleClick = useCallback(() => {\n    setOpen(true);\n  }, []);\n\n  return (\n    <CancelAction open={open} onOpenChange={setOpen}>\n      <Tooltip content={tooltipContent} rootOptions={{ delayDuration: 0 }}>\n        <div className={styles.planAction}>\n          <Button\n            className={styles.planAction}\n            variant=\"primary\"\n            onClick={handleClick}\n            disabled={disabled}\n          >\n            {t['com.affine.payment.downgrade']()}\n          </Button>\n        </div>\n      </Tooltip>\n    </CancelAction>\n  );\n};\n\nconst BookDemo = ({ plan }: { plan: SubscriptionPlan }) => {\n  const t = useI18n();\n  const url = useMemo(() => {\n    switch (plan) {\n      case SubscriptionPlan.Team:\n        return 'https://6dxre9ihosp.typeform.com/to/niBcdkvs';\n      case SubscriptionPlan.Enterprise:\n        return 'https://6dxre9ihosp.typeform.com/to/rFfobTjf';\n      default:\n        return 'https://affine.pro/pricing';\n    }\n  }, [plan]);\n\n  return (\n    <a\n      className={styles.planAction}\n      href={url}\n      target=\"_blank\"\n      rel=\"noreferrer\"\n    >\n      <Button\n        className={styles.planAction}\n        variant=\"primary\"\n        data-event-props=\"$.settingsPanel.billing.bookDemo\"\n        data-event-args-url={url}\n      >\n        {t['com.affine.payment.tell-us-use-case']()}\n      </Button>\n    </a>\n  );\n};\n\nexport const Upgrade = ({\n  className,\n  recurring,\n  children,\n  ...btnProps\n}: ButtonProps & {\n  recurring: SubscriptionRecurring;\n}) => {\n  const [isMutating, setMutating] = useState(false);\n  const [isOpenedExternalWindow, setOpenedExternalWindow] = useState(false);\n  const t = useI18n();\n\n  const subscriptionService = useService(SubscriptionService);\n  const authService = useService(AuthService);\n\n  const [idempotencyKey, setIdempotencyKey] = useState(nanoid());\n\n  useEffect(() => {\n    if (isOpenedExternalWindow) {\n      // when the external window is opened, revalidate the subscription when window get focus\n      window.addEventListener(\n        'focus',\n        subscriptionService.subscription.revalidate\n      );\n      return () => {\n        window.removeEventListener(\n          'focus',\n          subscriptionService.subscription.revalidate\n        );\n      };\n    }\n    return;\n  }, [isOpenedExternalWindow, subscriptionService]);\n\n  const upgrade = useAsyncCallback(async () => {\n    setMutating(true);\n    track.$.settingsPanel.plans.checkout({\n      plan: SubscriptionPlan.Pro,\n      recurring: recurring,\n    });\n    const link = await subscriptionService.createCheckoutSession({\n      recurring,\n      idempotencyKey,\n      plan: SubscriptionPlan.Pro, // Only support prod plan now.\n      coupon: null,\n      successCallbackLink: generateSubscriptionCallbackLink(\n        authService.session.account$.value,\n        SubscriptionPlan.Pro,\n        recurring\n      ),\n    });\n    setMutating(false);\n    setIdempotencyKey(nanoid());\n    popupWindow(link);\n    setOpenedExternalWindow(true);\n  }, [\n    recurring,\n    authService.session.account$.value,\n    subscriptionService,\n    idempotencyKey,\n  ]);\n\n  return (\n    <Button\n      className={clsx(styles.planAction, className)}\n      variant=\"primary\"\n      onClick={upgrade}\n      disabled={isMutating}\n      loading={isMutating}\n      {...btnProps}\n    >\n      {children ?? t['com.affine.payment.upgrade']()}\n    </Button>\n  );\n};\n\nconst ChangeRecurring = ({\n  from,\n  to,\n  disabled,\n  due,\n}: {\n  from: SubscriptionRecurring;\n  to: SubscriptionRecurring;\n  disabled?: boolean;\n  due: string;\n}) => {\n  const t = useI18n();\n  const [open, setOpen] = useState(false);\n  const [isMutating, setIsMutating] = useState(false);\n  // allow replay request on network error until component unmount or success\n  const [idempotencyKey, setIdempotencyKey] = useState(nanoid());\n  const subscription = useService(SubscriptionService).subscription;\n\n  const onStartChange = useCallback(() => {\n    track.$.settingsPanel.plans.changeSubscriptionRecurring({\n      plan: SubscriptionPlan.Pro,\n      recurring: to,\n    });\n    setOpen(true);\n  }, [to]);\n\n  const change = useAsyncCallback(async () => {\n    setIsMutating(true);\n    await subscription.setSubscriptionRecurring(idempotencyKey, to);\n    setIdempotencyKey(nanoid());\n    setIsMutating(false);\n  }, [subscription, to, idempotencyKey]);\n\n  const changeCurringContent = (\n    <Trans values={{ from, to, due }} className={styles.downgradeContent}>\n      You are changing your <span className={styles.textEmphasis}>{from}</span>{' '}\n      subscription to <span className={styles.textEmphasis}>{to}</span>{' '}\n      subscription. This change will take effect in the next billing cycle, with\n      an effective date of{' '}\n      <span className={styles.textEmphasis}>\n        {new Date(due).toLocaleDateString()}\n      </span>\n      .\n    </Trans>\n  );\n\n  return (\n    <>\n      <Button\n        className={styles.planAction}\n        variant=\"primary\"\n        onClick={onStartChange}\n        disabled={disabled || isMutating}\n        loading={isMutating}\n      >\n        {t['com.affine.payment.change-to']({ to })}\n      </Button>\n\n      <ConfirmLoadingModal\n        type={'change'}\n        loading={isMutating}\n        open={open}\n        onConfirm={change}\n        onOpenChange={setOpen}\n        content={changeCurringContent}\n      />\n    </>\n  );\n};\n\nconst SignUpAction = ({ children }: PropsWithChildren) => {\n  const setOpen = useSetAtom(authAtom);\n\n  const onClickSignIn = useCallback(() => {\n    setOpen(state => ({\n      ...state,\n      openModal: true,\n    }));\n  }, [setOpen]);\n\n  return (\n    <Button\n      onClick={onClickSignIn}\n      className={styles.planAction}\n      variant=\"primary\"\n    >\n      {children}\n    </Button>\n  );\n};\n\nconst ResumeButton = () => {\n  const t = useI18n();\n  const [open, setOpen] = useState(false);\n  const subscription = useService(SubscriptionService).subscription;\n\n  const handleClick = useCallback(() => {\n    setOpen(true);\n    const pro = subscription.pro$.value;\n    if (pro) {\n      track.$.settingsPanel.plans.resumeSubscription({\n        plan: SubscriptionPlan.Pro,\n        recurring: pro.recurring,\n      });\n    }\n  }, [subscription.pro$.value]);\n\n  return (\n    <ResumeAction open={open} onOpenChange={setOpen}>\n      <Button className={styles.resumeAction} onClick={handleClick}>\n        <span data-show-hover=\"true\" className={clsx(styles.resumeContent)}>\n          {t['com.affine.payment.resume-renewal']()}\n        </span>\n        <span data-show-hover=\"false\" className={clsx(styles.resumeContent)}>\n          {t['com.affine.payment.current-plan']()}\n        </span>\n      </Button>\n    </ResumeAction>\n  );\n};\n","import \"../core/src/components/affine/setting-modal/general-setting/plans/lifetime/style.css.ts.vanilla.css!=!../../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/general-setting/plans/lifetime/style.css.ts.vanilla.css\\\",\\\"source\\\":\\\"Ll8xYXM2Y2x1MCB7CiAgZm9udC1zaXplOiB2YXIoLS1hZmZpbmUtZm9udC1zbSk7CiAgZm9udC13ZWlnaHQ6IDUwMDsKICBsaW5lLWhlaWdodDogMjJweDsKICBjb2xvcjogdmFyKC0tYWZmaW5lLXRleHQtc2Vjb25kYXJ5LWNvbG9yKTsKICBtYXJnaW4tYm90dG9tOiA4cHg7Cn0KLl8xYXM2Y2x1MSB7CiAgZm9udC1zaXplOiAxOHB4OwogIGZvbnQtd2VpZ2h0OiA2MDA7CiAgbGluZS1oZWlnaHQ6IDI2cHg7CiAgY29sb3I6IHZhcigtLWFmZmluZS10ZXh0LXByaW1hcnktY29sb3IpOwogIG1hcmdpbi1ib3R0b206IDRweDsKfQouXzFhczZjbHUyIHsKICBmb250LXNpemU6IDMwcHg7CiAgZm9udC13ZWlnaHQ6IDcwMDsKICBsaW5lLWhlaWdodDogbm9ybWFsOwogIGNvbG9yOiB2YXIoLS1hZmZpbmUtYnJhbmQtY29sb3IpOwogIG1hcmdpbi1ib3R0b206IDI0cHg7Cn0KLl8xYXM2Y2x1MyB7CiAgd2lkdGg6IGF1dG87CiAgaGVpZ2h0OiAzNnB4OwogIG1hcmdpbi1ib3R0b206IDhweDsKICBwYWRkaW5nOiA4cHggMThweDsKfQouXzFhczZjbHU0IHsKICBjb2xvcjogdmFyKC0tYWZmaW5lLXRleHQtc2Vjb25kYXJ5LWNvbG9yKTsKICBmb250LXNpemU6IHZhcigtLWFmZmluZS1mb250LXhzKTsKICBsaW5lLWhlaWdodDogMjBweDsKICBmb250LXdlaWdodDogNDAwOwogIG1hcmdpbi1ib3R0b206IDE2cHg7CiAgbWF4LXdpZHRoOiAzMjRweDsKfQouXzFhczZjbHU1IHsKICBjb2xvcjogaW5oZXJpdDsKICBjdXJzb3I6IHRleHQ7Cn0=\\\"}!../../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var caption1 = '_1as6clu0';\nexport var caption2 = '_1as6clu4';\nexport var price = '_1as6clu2';\nexport var purchase = '_1as6clu3';\nexport var title = '_1as6clu1';\nexport var userPolicyLink = '_1as6clu5';","import { Button } from '@affine/component';\nimport { SubscriptionService } from '@affine/core/modules/cloud';\nimport { SubscriptionRecurring } from '@affine/graphql';\nimport { Trans, useI18n } from '@affine/i18n';\nimport { useLiveData, useService } from '@toeverything/infra';\n\nimport { Upgrade } from '../plan-card';\nimport { BelieverCard } from './believer-card';\nimport { BelieverBenefits } from './benefits';\nimport * as styles from './style.css';\n\nexport const LifetimePlan = () => {\n  const t = useI18n();\n  const subscriptionService = useService(SubscriptionService);\n\n  const readableLifetimePrice = useLiveData(\n    subscriptionService.prices.readableLifetimePrice$\n  );\n  const isBeliever = useLiveData(subscriptionService.subscription.isBeliever$);\n\n  if (!readableLifetimePrice) return null;\n\n  return (\n    <BelieverCard type={1}>\n      <div className={styles.caption1}>\n        {t['com.affine.payment.lifetime.caption-1']()}\n      </div>\n\n      <div className={styles.title}>\n        {t['com.affine.payment.lifetime.title']()}\n      </div>\n\n      <div className={styles.price}>{readableLifetimePrice}</div>\n\n      {isBeliever ? (\n        <Button className={styles.purchase} size=\"default\" disabled>\n          {t['com.affine.payment.lifetime.purchased']()}\n        </Button>\n      ) : (\n        <Upgrade\n          className={styles.purchase}\n          recurring={SubscriptionRecurring.Lifetime}\n        >\n          {t['com.affine.payment.lifetime.purchase']()}\n        </Upgrade>\n      )}\n\n      <div className={styles.caption2}>\n        <Trans\n          i18nKey=\"com.affine.payment.lifetime.caption-2\"\n          components={{\n            a: <a className={styles.userPolicyLink} href=\"#\" />,\n          }}\n        />\n      </div>\n\n      <BelieverBenefits style={{ padding: '8px 6px' }} />\n    </BelieverCard>\n  );\n};\n","import { Switch } from '@affine/component';\nimport { AuthService, SubscriptionService } from '@affine/core/modules/cloud';\nimport { SubscriptionPlan, SubscriptionRecurring } from '@affine/graphql';\nimport { Trans, useI18n } from '@affine/i18n';\nimport { AfFiNeIcon } from '@blocksuite/icons/rc';\nimport { useLiveData, useServices } from '@toeverything/infra';\nimport { type ReactNode, useEffect, useMemo, useRef, useState } from 'react';\n\nimport { CloudPlanLayout } from './layout';\nimport { LifetimePlan } from './lifetime/lifetime-plan';\nimport { PlanCard } from './plan-card';\nimport { planTitleTitleCaption } from './style.css';\nimport * as styles from './style.css';\n\ntype T = ReturnType<typeof useI18n>;\n\nexport type Benefits = Record<\n  string,\n  Array<{\n    icon?: ReactNode;\n    title: ReactNode;\n  }>\n>;\ntype BenefitsGetter = (t: T) => Benefits;\ninterface BasePrice {\n  plan: SubscriptionPlan;\n  name: string;\n  description: string;\n  benefits: Benefits;\n}\nexport interface FixedPrice extends BasePrice {\n  type: 'fixed';\n  price: string;\n  yearlyPrice: string;\n  discount?: string;\n  titleRenderer: (\n    recurring: SubscriptionRecurring,\n    detail: FixedPrice\n  ) => ReactNode;\n}\n\nexport interface DynamicPrice extends BasePrice {\n  type: 'dynamic';\n  contact: boolean;\n  titleRenderer: (\n    recurring: SubscriptionRecurring,\n    detail: DynamicPrice\n  ) => ReactNode;\n}\n\nconst freeBenefits: BenefitsGetter = t => ({\n  [t['com.affine.payment.cloud.free.benefit.g1']()]: ([1, 2, 3] as const).map(\n    i => ({\n      title: t[`com.affine.payment.cloud.free.benefit.g1-${i}`](),\n    })\n  ),\n  [t['com.affine.payment.cloud.free.benefit.g2']()]: (\n    [1, 2, 3, 4, 5] as const\n  ).map(i => ({\n    title: t[`com.affine.payment.cloud.free.benefit.g2-${i}`](),\n  })),\n});\n\nconst proBenefits: BenefitsGetter = t => ({\n  [t['com.affine.payment.cloud.pro.benefit.g1']()]: [\n    {\n      title: t['com.affine.payment.cloud.pro.benefit.g1-1'](),\n      icon: <AfFiNeIcon />,\n    },\n    ...([2, 3, 4, 5, 6, 7, 8] as const).map(i => ({\n      title: t[`com.affine.payment.cloud.pro.benefit.g1-${i}`](),\n    })),\n  ],\n});\n\nconst teamBenefits: BenefitsGetter = t => ({\n  [t['com.affine.payment.cloud.team.benefit.g1']()]: [\n    {\n      title: t['com.affine.payment.cloud.team.benefit.g1-1'](),\n      icon: <AfFiNeIcon />,\n    },\n    ...([2, 3, 4] as const).map(i => ({\n      title: t[`com.affine.payment.cloud.team.benefit.g1-${i}`](),\n    })),\n  ],\n  [t['com.affine.payment.cloud.team.benefit.g2']()]: [\n    { title: t['com.affine.payment.cloud.team.benefit.g2-1']() },\n    { title: t['com.affine.payment.cloud.team.benefit.g2-2']() },\n    { title: t['com.affine.payment.cloud.team.benefit.g2-3']() },\n  ],\n});\n\nexport function getPlanDetail(t: T) {\n  return new Map<SubscriptionPlan, FixedPrice | DynamicPrice>([\n    [\n      SubscriptionPlan.Free,\n      {\n        type: 'fixed',\n        plan: SubscriptionPlan.Free,\n        price: '0',\n        yearlyPrice: '0',\n        name: t['com.affine.payment.cloud.free.name'](),\n        description: t['com.affine.payment.cloud.free.description'](),\n        titleRenderer: () => t['com.affine.payment.cloud.free.title'](),\n        benefits: freeBenefits(t),\n      },\n    ],\n    [\n      SubscriptionPlan.Pro,\n      {\n        type: 'fixed',\n        plan: SubscriptionPlan.Pro,\n        price: '1',\n        yearlyPrice: '1',\n        name: t['com.affine.payment.cloud.pro.name'](),\n        description: t['com.affine.payment.cloud.pro.description'](),\n        titleRenderer: (recurring, detail) => {\n          const price =\n            recurring === SubscriptionRecurring.Yearly\n              ? detail.yearlyPrice\n              : detail.price;\n          return (\n            <>\n              {t['com.affine.payment.cloud.pro.title.price-monthly']({\n                price: '$' + price,\n              })}\n              {recurring === SubscriptionRecurring.Yearly ? (\n                <span className={planTitleTitleCaption}>\n                  {t['com.affine.payment.cloud.pro.title.billed-yearly']()}\n                </span>\n              ) : null}\n            </>\n          );\n        },\n        benefits: proBenefits(t),\n      },\n    ],\n    [\n      SubscriptionPlan.Team,\n      {\n        type: 'dynamic',\n        plan: SubscriptionPlan.Team,\n        contact: true,\n        name: t['com.affine.payment.cloud.team.name'](),\n        description: t['com.affine.payment.cloud.team.description'](),\n        titleRenderer: () => t['com.affine.payment.cloud.team.title'](),\n        benefits: teamBenefits(t),\n      },\n    ],\n  ]);\n}\n\nconst getRecurringLabel = ({\n  recurring,\n  t,\n}: {\n  recurring: SubscriptionRecurring;\n  t: ReturnType<typeof useI18n>;\n}) => {\n  return recurring === SubscriptionRecurring.Monthly\n    ? t['com.affine.payment.recurring-monthly']()\n    : t['com.affine.payment.recurring-yearly']();\n};\n\nexport const CloudPlans = () => {\n  const t = useI18n();\n  const scrollWrapper = useRef<HTMLDivElement>(null);\n\n  const { authService, subscriptionService } = useServices({\n    AuthService,\n    SubscriptionService,\n  });\n\n  const prices = useLiveData(subscriptionService.prices.prices$);\n  const loggedIn = useLiveData(authService.session.status$) === 'authenticated';\n  const proSubscription = useLiveData(subscriptionService.subscription.pro$);\n\n  const [recurring, setRecurring] = useState<SubscriptionRecurring>(\n    proSubscription?.recurring ?? SubscriptionRecurring.Yearly\n  );\n\n  const planDetail = useMemo(() => {\n    const rawMap = getPlanDetail(t);\n    const clonedMap = new Map<SubscriptionPlan, FixedPrice | DynamicPrice>();\n\n    rawMap.forEach((detail, plan) => {\n      clonedMap.set(plan, { ...detail });\n    });\n\n    prices?.forEach(price => {\n      const detail = clonedMap.get(price.plan);\n\n      if (detail?.type === 'fixed') {\n        detail.price = ((price.amount ?? 0) / 100).toFixed(2);\n        detail.yearlyPrice = ((price.yearlyAmount ?? 0) / 100 / 12).toFixed(2);\n        detail.discount =\n          price.yearlyAmount && price.amount\n            ? Math.floor(\n                (1 - price.yearlyAmount / 12 / price.amount) * 100\n              ).toString()\n            : undefined;\n      }\n    });\n\n    return clonedMap;\n  }, [prices, t]);\n\n  const currentPlan = proSubscription?.plan ?? SubscriptionPlan.Free;\n  const isCanceled = !!proSubscription?.canceledAt;\n  const currentRecurring =\n    proSubscription?.recurring ?? SubscriptionRecurring.Monthly;\n  const yearlyDiscount = (\n    planDetail.get(SubscriptionPlan.Pro) as FixedPrice | undefined\n  )?.discount;\n\n  // auto scroll to current plan card\n  useEffect(() => {\n    if (!scrollWrapper.current) return;\n    const currentPlanCard = scrollWrapper.current?.querySelector(\n      '[data-current=\"true\"]'\n    );\n    const wrapperComputedStyle = getComputedStyle(scrollWrapper.current);\n    const left = currentPlanCard\n      ? currentPlanCard.getBoundingClientRect().left -\n        scrollWrapper.current.getBoundingClientRect().left -\n        parseInt(wrapperComputedStyle.paddingLeft)\n      : 0;\n    const appeared = scrollWrapper.current.dataset.appeared === 'true';\n    const animationFrameId = requestAnimationFrame(() => {\n      scrollWrapper.current?.scrollTo({\n        behavior: appeared ? 'smooth' : 'instant',\n        left,\n      });\n      scrollWrapper.current?.setAttribute('data-appeared', 'true');\n    });\n    return () => {\n      cancelAnimationFrame(animationFrameId);\n    };\n  }, [recurring]);\n\n  // caption\n  const cloudCaption = loggedIn ? (\n    isCanceled ? (\n      <p>\n        {t['com.affine.payment.subtitle-canceled']({\n          plan: `${getRecurringLabel({\n            recurring: currentRecurring,\n            t,\n          })} ${currentPlan}`,\n        })}\n      </p>\n    ) : (\n      <p>\n        <Trans\n          plan={currentPlan}\n          i18nKey=\"com.affine.payment.subtitle-active\"\n          values={{ currentPlan }}\n        >\n          You are currently on the {{ currentPlan }} plan. If you have any\n          questions, please contact our&nbsp;\n          <a\n            href=\"mailto:support@toeverything.info\"\n            style={{ color: 'var(--affine-link-color)' }}\n          >\n            customer support\n          </a>\n          .\n        </Trans>\n      </p>\n    )\n  ) : (\n    <p>{t['com.affine.payment.subtitle-not-signed-in']()}</p>\n  );\n\n  // toggle\n  const cloudToggle = (\n    <div className={styles.recurringToggleWrapper}>\n      <div>\n        {recurring === SubscriptionRecurring.Yearly ? (\n          <div className={styles.recurringToggleRecurring}>\n            {t['com.affine.payment.cloud.pricing-plan.toggle-yearly']()}\n          </div>\n        ) : (\n          <>\n            <div className={styles.recurringToggleRecurring}>\n              <span>\n                {t[\n                  'com.affine.payment.cloud.pricing-plan.toggle-billed-yearly'\n                ]()}\n              </span>\n            </div>\n            {yearlyDiscount ? (\n              <div className={styles.recurringToggleDiscount}>\n                {t['com.affine.payment.cloud.pricing-plan.toggle-discount']({\n                  discount: yearlyDiscount,\n                })}\n              </div>\n            ) : null}\n          </>\n        )}\n      </div>\n      <Switch\n        checked={recurring === SubscriptionRecurring.Yearly}\n        onChange={checked =>\n          setRecurring(\n            checked\n              ? SubscriptionRecurring.Yearly\n              : SubscriptionRecurring.Monthly\n          )\n        }\n      />\n    </div>\n  );\n\n  const cloudScroll = (\n    <div className={styles.planCardsWrapper} ref={scrollWrapper}>\n      {Array.from(planDetail.values()).map(detail => {\n        return <PlanCard key={detail.plan} {...{ detail, recurring }} />;\n      })}\n    </div>\n  );\n\n  const cloudSelect = (\n    <div className={styles.cloudSelect}>\n      <b>{t['com.affine.payment.cloud.pricing-plan.select.title']()}</b>\n      <span>{t['com.affine.payment.cloud.pricing-plan.select.caption']()}</span>\n    </div>\n  );\n\n  return (\n    <CloudPlanLayout\n      caption={cloudCaption}\n      select={cloudSelect}\n      toggle={cloudToggle}\n      scroll={cloudScroll}\n      scrollRef={scrollWrapper}\n      lifetime={<LifetimePlan />}\n    />\n  );\n};\n","import { Skeleton } from '@affine/component';\n\nimport { AIPlanLayout } from './ai/layout';\nimport { CloudPlanLayout, PlanLayout } from './layout';\nimport * as styles from './skeleton.css';\n\n/**\n * Customize Skeleton component with rounded border radius\n * @param param0\n * @returns\n */\nconst RoundedSkeleton = ({\n  radius = 8,\n  ...props\n}: {\n  radius?: number;\n} & React.ComponentProps<typeof Skeleton>) => (\n  <Skeleton {...props} style={{ borderRadius: `${radius}px` }} />\n);\n\nconst TabsSkeleton = () => (\n  // TODO(@catsjuice): height should be `32px` by design\n  // but the RadioGroup component is not matching with the design currently\n  // set to `24px` for now to avoid blinking\n  <Skeleton variant=\"rounded\" width=\"256px\" height=\"24px\" />\n);\n\nconst PlanItemSkeleton = () => (\n  <div className={styles.planItemCard}>\n    <header className={styles.planItemHeader}>\n      <RoundedSkeleton variant=\"rounded\" width=\"100%\" height=\"60px\" />\n      <RoundedSkeleton variant=\"rounded\" width=\"100%\" height=\"28px\" />\n    </header>\n\n    <main className={styles.planItemContent}>\n      <RoundedSkeleton variant=\"rounded\" width=\"100%\" height=\"100%\" />\n    </main>\n  </div>\n);\n\nconst ScrollSkeleton = () => (\n  <div className={styles.plansWrapper}>\n    <PlanItemSkeleton />\n    <PlanItemSkeleton />\n    <PlanItemSkeleton />\n  </div>\n);\n\nexport const PlansSkeleton = () => {\n  return (\n    <PlanLayout\n      ai={\n        <AIPlanLayout\n          caption={\n            <RoundedSkeleton\n              variant=\"rectangular\"\n              radius={2}\n              width=\"200px\"\n              height=\"20px\"\n            />\n          }\n          actionButtons={\n            <>\n              <RoundedSkeleton\n                variant=\"rectangular\"\n                radius={20}\n                width=\"206px\"\n                height=\"37px\"\n              />\n              <RoundedSkeleton\n                variant=\"rectangular\"\n                radius={20}\n                width=\"193px\"\n                height=\"37px\"\n              />\n            </>\n          }\n        />\n      }\n      cloud={\n        <CloudPlanLayout\n          toggle={\n            <RoundedSkeleton variant=\"rounded\" width=\"100%\" height=\"32px\" />\n          }\n          select={<TabsSkeleton />}\n          scroll={<ScrollSkeleton />}\n        />\n      }\n    />\n  );\n};\n","import \"../core/src/components/affine/setting-modal/general-setting/plans/skeleton.css.ts.vanilla.css!=!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/general-setting/plans/skeleton.css.ts.vanilla.css\\\",\\\"source\\\":\\\"Ll8xd2QyZmtyMCB7CiAgZGlzcGxheTogZmxleDsKICBnYXA6IDE2cHg7Cn0KLl8xd2QyZmtyMSB7CiAgd2lkdGg6IDI1OHB4OwogIGhlaWdodDogNDI2cHg7CiAgZmxleC1zaHJpbms6IDA7CiAgYm9yZGVyLXJhZGl1czogMTZweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1hZmZpbmUtYmFja2dyb3VuZC1wcmltYXJ5LWNvbG9yKTsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1hZmZpbmUtYm9yZGVyLWNvbG9yKTsKICBwYWRkaW5nOiAyMHB4OwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBnYXA6IDIwcHg7Cn0KLl8xd2QyZmtyMiB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGdhcDogMTBweDsKfQouXzF3ZDJma3IzIHsKICBmbGV4LWdyb3c6IDE7CiAgaGVpZ2h0OiAwOwp9\\\"}!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var planItemCard = '_1wd2fkr1';\nexport var planItemContent = '_1wd2fkr3';\nexport var planItemHeader = '_1wd2fkr2';\nexport var plansWrapper = '_1wd2fkr0';","import { useI18n } from '@affine/i18n';\nimport { useLiveData, useService } from '@toeverything/infra';\nimport { useEffect } from 'react';\nimport type { FallbackProps } from 'react-error-boundary';\n\nimport { SWRErrorBoundary } from '../../../../../components/pure/swr-error-bundary';\nimport { SubscriptionService } from '../../../../../modules/cloud';\nimport { AIPlan } from './ai/ai-plan';\nimport { CloudPlans } from './cloud-plans';\nimport { CloudPlanLayout, PlanLayout } from './layout';\nimport { PlansSkeleton } from './skeleton';\nimport * as styles from './style.css';\n\nconst Settings = () => {\n  const subscriptionService = useService(SubscriptionService);\n  const prices = useLiveData(subscriptionService.prices.prices$);\n\n  useEffect(() => {\n    subscriptionService.subscription.revalidate();\n    subscriptionService.prices.revalidate();\n  }, [subscriptionService]);\n\n  if (prices === null) {\n    return <PlansSkeleton />;\n  }\n\n  return <PlanLayout cloudTip cloud={<CloudPlans />} ai={<AIPlan />} />;\n};\n\nexport const AFFiNEPricingPlans = () => {\n  return (\n    <SWRErrorBoundary FallbackComponent={PlansErrorBoundary}>\n      <Settings />\n    </SWRErrorBoundary>\n  );\n};\n\nconst PlansErrorBoundary = ({ resetErrorBoundary }: FallbackProps) => {\n  const t = useI18n();\n\n  const scroll = (\n    <div className={styles.errorTip}>\n      <span>{t['com.affine.payment.plans-error-tip']()}</span>\n      <a onClick={resetErrorBoundary} className={styles.errorTipRetry}>\n        {t['com.affine.payment.plans-error-retry']()}\n      </a>\n    </div>\n  );\n\n  return <PlanLayout cloud={<CloudPlanLayout scroll={scroll} />} />;\n};\n","import { useI18n } from '@affine/i18n';\nimport { useCallback, useMemo } from 'react';\n\ntype KeyboardShortcutsI18NKeys =\n  | 'cancel'\n  | 'quickSearch'\n  | 'newPage'\n  | 'appendDailyNote'\n  | 'expandOrCollapseSidebar'\n  | 'goBack'\n  | 'goForward'\n  | 'selectAll'\n  | 'undo'\n  | 'redo'\n  | 'zoomIn'\n  | 'zoomOut'\n  | 'zoomTo100'\n  | 'zoomToFit'\n  | 'select'\n  | 'text'\n  | 'shape'\n  | 'image'\n  | 'straightConnector'\n  | 'elbowedConnector'\n  | 'curveConnector'\n  | 'pen'\n  | 'hand'\n  | 'note'\n  | 'group'\n  | 'unGroup'\n  | 'switch'\n  | 'bold'\n  | 'italic'\n  | 'underline'\n  | 'strikethrough'\n  | 'inlineCode'\n  | 'codeBlock'\n  | 'link'\n  | 'bodyText'\n  | 'increaseIndent'\n  | 'reduceIndent'\n  | 'groupDatabase'\n  | 'moveUp'\n  | 'moveDown'\n  | 'divider'\n  | 'copy-private-link';\n\n// TODO(550): remove this hook after 'useI18n' support scoped i18n\nconst useKeyboardShortcutsI18N = () => {\n  const t = useI18n();\n  return useCallback(\n    (key: KeyboardShortcutsI18NKeys) =>\n      t[`com.affine.keyboardShortcuts.${key}`](),\n    [t]\n  );\n};\n\n// TODO(550): remove this hook after 'useI18n' support scoped i18n\nconst useHeadingKeyboardShortcutsI18N = () => {\n  const t = useI18n();\n  return useCallback(\n    (number: string) => t['com.affine.keyboardShortcuts.heading']({ number }),\n    [t]\n  );\n};\n\ninterface ShortcutMap {\n  [x: string]: string[];\n}\nexport interface ShortcutsInfo {\n  title: string;\n  shortcuts: ShortcutMap;\n}\n\nexport const useWinGeneralKeyboardShortcuts = (): ShortcutMap => {\n  const t = useKeyboardShortcutsI18N();\n  return useMemo(\n    () => ({\n      [t('cancel')]: ['ESC'],\n      [t('quickSearch')]: ['Ctrl', 'K'],\n      [t('newPage')]: ['Ctrl', 'N'],\n      // not implement yet\n      // [t('appendDailyNote')]: 'Ctrl + Alt + A',\n      [t('expandOrCollapseSidebar')]: ['Ctrl', '/'],\n      [t('goBack')]: ['Ctrl', '['],\n      [t('goForward')]: ['Ctrl', ']'],\n      [t('copy-private-link')]: ['⌘', '⇧', 'C'],\n    }),\n    [t]\n  );\n};\nexport const useMacGeneralKeyboardShortcuts = (): ShortcutMap => {\n  const t = useKeyboardShortcutsI18N();\n  return useMemo(\n    () => ({\n      [t('cancel')]: ['ESC'],\n      [t('quickSearch')]: ['⌘', 'K'],\n      [t('newPage')]: ['⌘', 'N'],\n      // not implement yet\n      // [t('appendDailyNote')]: '⌘ + ⌥ + A',\n      [t('expandOrCollapseSidebar')]: ['⌘', '/'],\n      [t('goBack')]: ['⌘ ', '['],\n      [t('goForward')]: ['⌘ ', ']'],\n      [t('copy-private-link')]: ['⌘', '⇧', 'C'],\n    }),\n    [t]\n  );\n};\n\nexport const useMacEdgelessKeyboardShortcuts = (): ShortcutMap => {\n  const t = useKeyboardShortcutsI18N();\n  return useMemo(\n    () => ({\n      [t('selectAll')]: ['⌘', 'A'],\n      [t('undo')]: ['⌘', 'Z'],\n      [t('redo')]: ['⌘', '⇧', 'Z'],\n      [t('zoomIn')]: ['⌘', '+'],\n      [t('zoomOut')]: ['⌘', '-'],\n      [t('zoomTo100')]: ['⌘', '0'],\n      [t('zoomToFit')]: ['⌘', '1'],\n      [t('select')]: ['V'],\n      [t('text')]: ['T'],\n      [t('shape')]: ['S'],\n      [t('image')]: ['I'],\n      [t('straightConnector')]: ['L'],\n      [t('elbowedConnector')]: ['X'],\n      // not implement yet\n      // [t('curveConnector')]: 'C',\n      [t('pen')]: ['P'],\n      [t('hand')]: ['H'],\n      [t('note')]: ['N'],\n      // not implement yet\n      // [t('group')]: '⌘ + G',\n      // [t('unGroup')]: '⌘ + ⇧ + G',\n    }),\n    [t]\n  );\n};\nexport const useWinEdgelessKeyboardShortcuts = (): ShortcutMap => {\n  const t = useKeyboardShortcutsI18N();\n  return useMemo(\n    () => ({\n      [t('selectAll')]: ['Ctrl', 'A'],\n      [t('undo')]: ['Ctrl', 'Z'],\n      [t('redo')]: ['Ctrl', 'Y/Ctrl', 'Shift', 'Z'],\n      [t('zoomIn')]: ['Ctrl', '+'],\n      [t('zoomOut')]: ['Ctrl', '-'],\n      [t('zoomTo100')]: ['Ctrl', '0'],\n      [t('zoomToFit')]: ['Ctrl', '1'],\n      [t('select')]: ['V'],\n      [t('text')]: ['T'],\n      [t('shape')]: ['S'],\n      [t('image')]: ['I'],\n      [t('straightConnector')]: ['L'],\n      [t('elbowedConnector')]: ['X'],\n      // not implement yet\n      // [t('curveConnector')]: 'C',\n      [t('pen')]: ['P'],\n      [t('hand')]: ['H'],\n      [t('note')]: ['N'],\n      [t('switch')]: ['Alt ', ''],\n      // not implement yet\n      // [t('group')]: 'Ctrl + G',\n      // [t('unGroup')]: 'Ctrl + Shift + G',\n    }),\n    [t]\n  );\n};\nexport const useMacPageKeyboardShortcuts = (): ShortcutMap => {\n  const t = useKeyboardShortcutsI18N();\n  const tH = useHeadingKeyboardShortcutsI18N();\n  return useMemo(\n    () => ({\n      [t('undo')]: ['⌘', 'Z'],\n      [t('redo')]: ['⌘', '⇧', 'Z'],\n      [t('bold')]: ['⌘', 'B'],\n      [t('italic')]: ['⌘', 'I'],\n      [t('underline')]: ['⌘', 'U'],\n      [t('strikethrough')]: ['⌘', '⇧', 'S'],\n      [t('inlineCode')]: ['⌘', 'E'],\n      [t('codeBlock')]: ['⌘', '⌥', 'C'],\n      [t('link')]: ['⌘', 'K'],\n      [t('quickSearch')]: ['⌘', 'K'],\n      [t('bodyText')]: ['⌘', '⌥', '0'],\n      [tH('1')]: ['⌘', '⌥', '1'],\n      [tH('2')]: ['⌘', '⌥', '2'],\n      [tH('3')]: ['⌘', '⌥', '3'],\n      [tH('4')]: ['⌘', '⌥', '4'],\n      [tH('5')]: ['⌘', '⌥', '5'],\n      [tH('6')]: ['⌘', '⌥', '6'],\n      [t('increaseIndent')]: ['Tab'],\n      [t('reduceIndent')]: ['⇧', 'Tab'],\n      [t('groupDatabase')]: ['⌘', 'G'],\n      [t('switch')]: ['⌥', 'S'],\n      // not implement yet\n      // [t('moveUp')]: '⌘ + ⌥ + ↑',\n      // [t('moveDown')]: '⌘ + ⌥ + ↓',\n    }),\n    [t, tH]\n  );\n};\n\nexport const useMacMarkdownShortcuts = (): ShortcutMap => {\n  const t = useKeyboardShortcutsI18N();\n  const tH = useHeadingKeyboardShortcutsI18N();\n  return useMemo(\n    () => ({\n      [t('bold')]: ['**Text**'],\n      [t('italic')]: ['*Text*'],\n      [t('underline')]: ['~Text~'],\n      [t('strikethrough')]: ['~~Text~~'],\n      [t('divider')]: ['***'],\n      [t('inlineCode')]: ['`Text` '],\n      [t('codeBlock')]: ['``` Space'],\n      [tH('1')]: ['# Text'],\n      [tH('2')]: ['## Text'],\n      [tH('3')]: ['### Text'],\n      [tH('4')]: ['#### Text'],\n      [tH('5')]: ['##### Text'],\n      [tH('6')]: ['###### Text'],\n    }),\n    [t, tH]\n  );\n};\n\nexport const useWinPageKeyboardShortcuts = (): ShortcutMap => {\n  const t = useKeyboardShortcutsI18N();\n  const tH = useHeadingKeyboardShortcutsI18N();\n  return useMemo(\n    () => ({\n      [t('undo')]: ['Ctrl', 'Z'],\n      [t('redo')]: ['Ctrl', 'Y'],\n      [t('bold')]: ['Ctrl', 'B'],\n      [t('italic')]: ['Ctrl', 'I'],\n      [t('underline')]: ['Ctrl', 'U'],\n      [t('strikethrough')]: ['Ctrl', 'Shift', 'S'],\n      [t('inlineCode')]: [' Ctrl', 'E'],\n      [t('codeBlock')]: ['Ctrl', 'Alt', 'C'],\n      [t('link')]: ['Ctr', 'K'],\n      [t('quickSearch')]: ['Ctrl', 'K'],\n      [t('bodyText')]: ['Ctrl', 'Shift', '0'],\n      [tH('1')]: ['Ctrl', 'Shift', '1'],\n      [tH('2')]: ['Ctrl', 'Shift', '2'],\n      [tH('3')]: ['Ctrl', 'Shift', '3'],\n      [tH('4')]: ['Ctrl', 'Shift', '4'],\n      [tH('5')]: ['Ctrl', 'Shift', '5'],\n      [tH('6')]: ['Ctrl', 'Shift', '6'],\n      [t('increaseIndent')]: ['Tab'],\n      [t('reduceIndent')]: ['Shift+Tab'],\n      [t('groupDatabase')]: ['Ctrl + G'],\n      ['Switch']: ['Alt + S'],\n      // not implement yet\n      // [t('moveUp')]: 'Ctrl + Alt + ↑',\n      // [t('moveDown')]: 'Ctrl + Alt + ↓',\n    }),\n    [t, tH]\n  );\n};\nexport const useWinMarkdownShortcuts = (): ShortcutMap => {\n  const t = useKeyboardShortcutsI18N();\n  const tH = useHeadingKeyboardShortcutsI18N();\n  return useMemo(\n    () => ({\n      [t('bold')]: ['**Text** '],\n      [t('italic')]: ['*Text* '],\n      [t('underline')]: ['~Text~ '],\n      [t('strikethrough')]: ['~~Text~~ '],\n      [t('divider')]: ['***'],\n      [t('inlineCode')]: ['`Text` '],\n      [t('codeBlock')]: ['``` Text'],\n      [tH('1')]: ['# Text'],\n      [tH('2')]: ['## Text'],\n      [tH('3')]: ['### Text'],\n      [tH('4')]: ['#### Text'],\n      [tH('5')]: ['##### Text'],\n      [tH('6')]: ['###### Text'],\n    }),\n    [t, tH]\n  );\n};\n\nexport const useMarkdownShortcuts = (): ShortcutsInfo => {\n  const t = useI18n();\n\n  const macMarkdownShortcuts = useMacMarkdownShortcuts();\n  const winMarkdownShortcuts = useWinMarkdownShortcuts();\n  const isMac = environment.isBrowser && environment.isMacOs;\n  return {\n    title: t['com.affine.shortcutsTitle.markdownSyntax'](),\n    shortcuts: isMac ? macMarkdownShortcuts : winMarkdownShortcuts,\n  };\n};\n\nexport const usePageShortcuts = (): ShortcutsInfo => {\n  const t = useI18n();\n\n  const macPageShortcuts = useMacPageKeyboardShortcuts();\n  const winPageShortcuts = useWinPageKeyboardShortcuts();\n  const isMac = environment.isBrowser && environment.isMacOs;\n  return {\n    title: t['com.affine.shortcutsTitle.page'](),\n    shortcuts: isMac ? macPageShortcuts : winPageShortcuts,\n  };\n};\n\nexport const useEdgelessShortcuts = (): ShortcutsInfo => {\n  const t = useI18n();\n\n  const macEdgelessShortcuts = useMacEdgelessKeyboardShortcuts();\n  const winEdgelessShortcuts = useWinEdgelessKeyboardShortcuts();\n  const isMac = environment.isBrowser && environment.isMacOs;\n  return {\n    title: t['com.affine.shortcutsTitle.edgeless'](),\n    shortcuts: isMac ? macEdgelessShortcuts : winEdgelessShortcuts,\n  };\n};\n\nexport const useGeneralShortcuts = (): ShortcutsInfo => {\n  const t = useI18n();\n\n  const macGeneralShortcuts = useMacGeneralKeyboardShortcuts();\n  const winGeneralShortcuts = useWinGeneralKeyboardShortcuts();\n  const isMac = environment.isBrowser && environment.isMacOs;\n  return {\n    title: t['com.affine.shortcutsTitle.general'](),\n    shortcuts: isMac ? macGeneralShortcuts : winGeneralShortcuts,\n  };\n};\n","import {\n  SettingHeader,\n  SettingWrapper,\n} from '@affine/component/setting-components';\nimport { useI18n } from '@affine/i18n';\n\nimport type { ShortcutsInfo } from '../../../../../hooks/affine/use-shortcuts';\nimport {\n  useEdgelessShortcuts,\n  useGeneralShortcuts,\n  useMarkdownShortcuts,\n  usePageShortcuts,\n} from '../../../../../hooks/affine/use-shortcuts';\nimport { shortcutKey, shortcutKeyContainer, shortcutRow } from './style.css';\n\nconst ShortcutsPanel = ({\n  shortcutsInfo,\n}: {\n  shortcutsInfo: ShortcutsInfo;\n}) => {\n  return (\n    <SettingWrapper title={shortcutsInfo.title}>\n      {Object.entries(shortcutsInfo.shortcuts).map(([title, shortcuts]) => {\n        return (\n          <div key={title} className={shortcutRow}>\n            <span>{title}</span>\n            <div className={shortcutKeyContainer}>\n              {shortcuts.map(key => {\n                return (\n                  <span className={shortcutKey} key={key}>\n                    {key}\n                  </span>\n                );\n              })}\n            </div>\n          </div>\n        );\n      })}\n    </SettingWrapper>\n  );\n};\n\nexport const Shortcuts = () => {\n  const t = useI18n();\n\n  const markdownShortcutsInfo = useMarkdownShortcuts();\n  const pageShortcutsInfo = usePageShortcuts();\n  const edgelessShortcutsInfo = useEdgelessShortcuts();\n  const generalShortcutsInfo = useGeneralShortcuts();\n\n  return (\n    <>\n      <SettingHeader\n        title={t['com.affine.keyboardShortcuts.title']()}\n        subtitle={t['com.affine.keyboardShortcuts.subtitle']()}\n        data-testid=\"keyboard-shortcuts-title\"\n      />\n      <ShortcutsPanel shortcutsInfo={generalShortcutsInfo} />\n      <ShortcutsPanel shortcutsInfo={pageShortcutsInfo} />\n      <ShortcutsPanel shortcutsInfo={edgelessShortcutsInfo} />\n      <ShortcutsPanel shortcutsInfo={markdownShortcutsInfo} />\n    </>\n  );\n};\n","import \"../core/src/components/affine/setting-modal/general-setting/shortcuts/style.css.ts.vanilla.css!=!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/general-setting/shortcuts/style.css.ts.vanilla.css\\\",\\\"source\\\":\\\"Lmh3NWl5YzAgewogIGhlaWdodDogMzJweDsKICBtYXJnaW4tYm90dG9tOiAxMnB4OwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZm9udC1zaXplOiB2YXIoLS1hZmZpbmUtZm9udC1iYXNlKTsKfQouaHc1aXljMDpsYXN0LW9mLXR5cGUgewogIG1hcmdpbi1ib3R0b206IDA7Cn0KLmh3NWl5YzEgewogIGRpc3BsYXk6IGZsZXg7Cn0KLmh3NWl5YzIgewogIG1pbi13aWR0aDogMjRweDsKICBoZWlnaHQ6IDIwcHg7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIHBhZGRpbmc6IDAgNnB4OwogIGJvcmRlci1yYWRpdXM6IDRweDsKICBiYWNrZ3JvdW5kOiB2YXIoLS1hZmZpbmUtYmFja2dyb3VuZC10ZXJ0aWFyeS1jb2xvcik7CiAgZm9udC1zaXplOiB2YXIoLS1hZmZpbmUtZm9udC14cyk7Cn0KLmh3NWl5YzI6bm90KDpsYXN0LW9mLXR5cGUpIHsKICBtYXJnaW4tcmlnaHQ6IDJweDsKfQ==\\\"}!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var shortcutKey = 'hw5iyc2';\nexport var shortcutKeyContainer = 'hw5iyc1';\nexport var shortcutRow = 'hw5iyc0';","import { UserFeatureService } from '@affine/core/modules/cloud/services/user-feature';\nimport { useI18n } from '@affine/i18n';\nimport {\n  AppearanceIcon,\n  ExperimentIcon,\n  InformationIcon,\n  KeyboardIcon,\n} from '@blocksuite/icons/rc';\nimport { useLiveData, useServices } from '@toeverything/infra';\nimport type { ReactElement, SVGProps } from 'react';\nimport { useEffect } from 'react';\n\nimport { AuthService, ServerConfigService } from '../../../../modules/cloud';\nimport type { GeneralSettingKey } from '../types';\nimport { AboutAffine } from './about';\nimport { AppearanceSettings } from './appearance';\nimport { BillingSettings } from './billing';\nimport { ExperimentalFeatures } from './experimental-features';\nimport { PaymentIcon, UpgradeIcon } from './icons';\nimport { AFFiNEPricingPlans } from './plans';\nimport { Shortcuts } from './shortcuts';\n\ninterface GeneralSettingListItem {\n  key: GeneralSettingKey;\n  title: string;\n  icon: (props: SVGProps<SVGSVGElement>) => ReactElement;\n  testId: string;\n}\n\nexport type GeneralSettingList = GeneralSettingListItem[];\n\nexport const useGeneralSettingList = (): GeneralSettingList => {\n  const t = useI18n();\n  const { authService, serverConfigService, userFeatureService } = useServices({\n    AuthService,\n    ServerConfigService,\n    UserFeatureService,\n  });\n  const status = useLiveData(authService.session.status$);\n  const hasPaymentFeature = useLiveData(\n    serverConfigService.serverConfig.features$.map(f => f?.payment)\n  );\n\n  useEffect(() => {\n    userFeatureService.userFeature.revalidate();\n  }, [userFeatureService]);\n\n  const settings: GeneralSettingListItem[] = [\n    {\n      key: 'appearance',\n      title: t['com.affine.settings.appearance'](),\n      icon: AppearanceIcon,\n      testId: 'appearance-panel-trigger',\n    },\n    {\n      key: 'shortcuts',\n      title: t['com.affine.keyboardShortcuts.title'](),\n      icon: KeyboardIcon,\n      testId: 'shortcuts-panel-trigger',\n    },\n    {\n      key: 'about',\n      title: t['com.affine.aboutAFFiNE.title'](),\n      icon: InformationIcon,\n      testId: 'about-panel-trigger',\n    },\n  ];\n\n  if (hasPaymentFeature) {\n    settings.splice(3, 0, {\n      key: 'plans',\n      title: t['com.affine.payment.title'](),\n      icon: UpgradeIcon,\n      testId: 'plans-panel-trigger',\n    });\n    if (status === 'authenticated') {\n      settings.splice(3, 0, {\n        key: 'billing',\n        title: t['com.affine.payment.billing-setting.title'](),\n        icon: PaymentIcon,\n        testId: 'billing-panel-trigger',\n      });\n    }\n  }\n\n  if (runtimeConfig.enableExperimentalFeature) {\n    settings.push({\n      key: 'experimental-features',\n      title: t['com.affine.settings.workspace.experimental-features'](),\n      icon: ExperimentIcon,\n      testId: 'experimental-features-trigger',\n    });\n  }\n\n  return settings;\n};\n\ninterface GeneralSettingProps {\n  generalKey: GeneralSettingKey;\n}\n\nexport const GeneralSetting = ({ generalKey }: GeneralSettingProps) => {\n  switch (generalKey) {\n    case 'shortcuts':\n      return <Shortcuts />;\n    case 'appearance':\n      return <AppearanceSettings />;\n    case 'about':\n      return <AboutAffine />;\n    case 'plans':\n      return <AFFiNEPricingPlans />;\n    case 'billing':\n      return <BillingSettings />;\n    case 'experimental-features':\n      return <ExperimentalFeatures />;\n    default:\n      return null;\n  }\n};\n","import \"../core/src/components/affine/setting-modal/setting-sidebar/style.css.ts.vanilla.css!=!../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/setting-sidebar/style.css.ts.vanilla.css\\\",\\\"source\\\":\\\"#H4sIAAAAAAAACs1WbW+bMBD+nl9hVZq0SjMiNGWR82scOMCrsZFtAt3U/z7ZvBlCkrbppH1C2D7fc8/dPeegiTnlPER/Ngg1LDUFQdHzt8MGoZK2eFjZRVVr1440ecmVrEVK0Imq7xjTLGMC8LSBNSRSpFS94kRyqR6tXUXTlImcoCisWhR2lxXA8sIQtA1D5zDj0GJdKCZeCArtSsp0xekrcVvjkZQpSAyTgqBE8roUh83bJugC2bpAMikM1uw3LFC69QLHDpP7aXoMcegccntqwDUz9XbmEdmAtnEXFYp2NrQRTXQbjS4fP+bYkbo4Y6A113lfQWkzrHImsJFVlxhv7SiNkSVB/cmzRPyqtWGZdSUMCEOQrmgC+AimARD2BOUsF5gZKDVBCQgDymPmyTHz7vwilNOqRzPdEehESc47kq1lrmRD0NaelydQGZcNfiWI1kZ6drt136uAB0ImBs9o3c+r+akn8rya31MHR6lSUFjRlNWaDHcntdI26ZVkA6xag8IaOCSGICEF+AGSwobvwrzYse7IWCqTbUATw07wKePnL2fWfZ+i/4XiD7XfREvP6Q80LHgJunhhpVi5el2IApZI4Uv2QN8oqfGsm9UgtOu8+TdrMIaJHAtadjVQMjGMgdBvLIIKlqZdrzu80wZwzirNtN1qCmYAO3WwJDaKVoezdh0BxLM5tJgTw/9tMZpq7LoKxYTQzIyJ6K0fHg4TiEV397+LGnruBtjl6chr8DP40zmcar3P17i/n+/vJpW5r3jPmOv0FTtxHarjXmnf36E++3vUZ48CeqKGqlkRLRIYXc2gpx9fVm1X+m1EHAhp/ebioiTYjp805vFqubme8+f/OM4jP3iCtlWLtOQsveHLB9yHvTp051rhW1k5cYxRJvrauE1sx5uhylwhd1DA/hE5vRO8nEeL7gpGdXvPwFh7KH6NCl4GCCVl/DbCVn/8TfgvBHwp0m9/AR4leKBYDAAA\\\"}!../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var accountButton = 'w6lall8';\nexport var currentWorkspaceLabel = 'w6lall6';\nexport var settingSlideBar = 'w6lall0';\nexport var sidebarFooter = 'w6lall7';\nexport var sidebarItemsWrapper = 'w6lall3';\nexport var sidebarSelectItem = 'w6lall4';\nexport var sidebarSelectSubItem = 'w6lall5';\nexport var sidebarSubtitle = 'w6lall2';\nexport var sidebarTitle = 'w6lall1';","import {\n  WorkspaceListItemSkeleton,\n  WorkspaceListSkeleton,\n} from '@affine/component/setting-components';\nimport { Avatar } from '@affine/component/ui/avatar';\nimport { Tooltip } from '@affine/component/ui/tooltip';\nimport { WorkspaceAvatar } from '@affine/component/workspace-avatar';\nimport { useWorkspaceInfo } from '@affine/core/hooks/use-workspace-info';\nimport { track } from '@affine/core/mixpanel';\nimport { AuthService } from '@affine/core/modules/cloud';\nimport { UserFeatureService } from '@affine/core/modules/cloud/services/user-feature';\nimport { UNTITLED_WORKSPACE_NAME } from '@affine/env/constant';\nimport { useI18n } from '@affine/i18n';\nimport { Logo1Icon } from '@blocksuite/icons/rc';\nimport type { WorkspaceMetadata } from '@toeverything/infra';\nimport {\n  useLiveData,\n  useService,\n  useServices,\n  WorkspaceService,\n  WorkspacesService,\n} from '@toeverything/infra';\nimport clsx from 'clsx';\nimport { useAtom } from 'jotai/react';\nimport {\n  type MouseEvent,\n  Suspense,\n  useCallback,\n  useEffect,\n  useMemo,\n} from 'react';\n\nimport { authAtom } from '../../../../atoms';\nimport { UserPlanButton } from '../../auth/user-plan-button';\nimport { useGeneralSettingList } from '../general-setting';\nimport type { ActiveTab, WorkspaceSubTab } from '../types';\nimport * as style from './style.css';\n\nexport type UserInfoProps = {\n  onAccountSettingClick: () => void;\n  active?: boolean;\n};\n\nexport const UserInfo = ({ onAccountSettingClick, active }: UserInfoProps) => {\n  const account = useLiveData(useService(AuthService).session.account$);\n  if (!account) {\n    // TODO(@eyhn): loading ui\n    return;\n  }\n  return (\n    <div\n      data-testid=\"user-info-card\"\n      className={clsx(style.accountButton, {\n        active: active,\n      })}\n      onClick={onAccountSettingClick}\n    >\n      <Avatar\n        size={28}\n        rounded={2}\n        name={account.label}\n        url={account.avatar}\n        className=\"avatar\"\n      />\n\n      <div className=\"content\">\n        <div className=\"name-container\">\n          <div className=\"name\" title={account.label}>\n            {account.label}\n          </div>\n          <UserPlanButton />\n        </div>\n\n        <div className=\"email\" title={account.email}>\n          {account.email}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport const SignInButton = () => {\n  const t = useI18n();\n  const [, setAuthModal] = useAtom(authAtom);\n\n  return (\n    <div\n      className={style.accountButton}\n      onClick={useCallback(() => {\n        setAuthModal({ openModal: true, state: 'signIn' });\n      }, [setAuthModal])}\n    >\n      <div className=\"avatar not-sign\">\n        <Logo1Icon />\n      </div>\n\n      <div className=\"content\">\n        <div className=\"name\" title={t['com.affine.settings.sign']()}>\n          {t['com.affine.settings.sign']()}\n        </div>\n        <div className=\"email\" title={t['com.affine.setting.sign.message']()}>\n          {t['com.affine.setting.sign.message']()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport const SettingSidebar = ({\n  activeTab,\n  onTabChange,\n  selectedWorkspaceId,\n}: {\n  activeTab: ActiveTab;\n  onTabChange: (\n    key: ActiveTab,\n    workspaceMetadata: WorkspaceMetadata | null\n  ) => void;\n  selectedWorkspaceId: string | null;\n}) => {\n  const t = useI18n();\n  const loginStatus = useLiveData(useService(AuthService).session.status$);\n  const generalList = useGeneralSettingList();\n  const gotoTab = useCallback(\n    (e: MouseEvent<HTMLDivElement>) => {\n      const tab = e.currentTarget.dataset.eventArg;\n      if (!tab) return;\n      track.$.settingsPanel.menu.openSettings({ to: tab });\n      onTabChange(tab as ActiveTab, null);\n    },\n    [onTabChange]\n  );\n  const onAccountSettingClick = useCallback(() => {\n    track.$.settingsPanel.menu.openSettings({ to: 'account' });\n    onTabChange('account', null);\n  }, [onTabChange]);\n  const onWorkspaceSettingClick = useCallback(\n    (subTab: WorkspaceSubTab, workspaceMetadata: WorkspaceMetadata) => {\n      track.$.settingsPanel.menu.openSettings({\n        to: 'workspace',\n        control: subTab,\n      });\n      onTabChange(`workspace:${subTab}`, workspaceMetadata);\n    },\n    [onTabChange]\n  );\n\n  return (\n    <div className={style.settingSlideBar} data-testid=\"settings-sidebar\">\n      <div className={style.sidebarTitle}>\n        {t['com.affine.settingSidebar.title']()}\n      </div>\n      <div className={style.sidebarSubtitle}>\n        {t['com.affine.settingSidebar.settings.general']()}\n      </div>\n      <div className={style.sidebarItemsWrapper}>\n        {generalList.map(({ title, icon, key, testId }) => {\n          return (\n            <div\n              className={clsx(style.sidebarSelectItem, {\n                active: key === activeTab,\n              })}\n              key={key}\n              title={title}\n              data-event-arg={key}\n              onClick={gotoTab}\n              data-testid={testId}\n            >\n              {icon({ className: 'icon' })}\n              <span className=\"setting-name\">{title}</span>\n            </div>\n          );\n        })}\n      </div>\n\n      <div className={style.sidebarSubtitle}>\n        {t['com.affine.settingSidebar.settings.workspace']()}\n      </div>\n      <div className={clsx(style.sidebarItemsWrapper, 'scroll')}>\n        <Suspense fallback={<WorkspaceListSkeleton />}>\n          <WorkspaceList\n            onWorkspaceSettingClick={onWorkspaceSettingClick}\n            selectedWorkspaceId={selectedWorkspaceId}\n            activeSubTab={activeTab.split(':')[1] as WorkspaceSubTab}\n          />\n        </Suspense>\n      </div>\n\n      <div className={style.sidebarFooter}>\n        {loginStatus === 'unauthenticated' ? <SignInButton /> : null}\n        {loginStatus === 'authenticated' ? (\n          <Suspense>\n            <UserInfo\n              onAccountSettingClick={onAccountSettingClick}\n              active={activeTab === 'account'}\n            />\n          </Suspense>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport const WorkspaceList = ({\n  onWorkspaceSettingClick,\n  selectedWorkspaceId,\n  activeSubTab,\n}: {\n  onWorkspaceSettingClick: (\n    subTab: WorkspaceSubTab,\n    workspaceMetadata: WorkspaceMetadata\n  ) => void;\n  selectedWorkspaceId: string | null;\n  activeSubTab: WorkspaceSubTab;\n}) => {\n  const workspaces = useLiveData(\n    useService(WorkspacesService).list.workspaces$\n  );\n  return (\n    <>\n      {workspaces.map(workspace => {\n        return (\n          <Suspense key={workspace.id} fallback={<WorkspaceListItemSkeleton />}>\n            <WorkspaceListItem\n              meta={workspace}\n              onClick={subTab => {\n                onWorkspaceSettingClick(subTab, workspace);\n              }}\n              activeSubTab={\n                workspace.id === selectedWorkspaceId ? activeSubTab : undefined\n              }\n            />\n          </Suspense>\n        );\n      })}\n    </>\n  );\n};\n\nconst subTabConfigs = [\n  {\n    key: 'preference',\n    title: 'com.affine.settings.workspace.preferences',\n  },\n  {\n    key: 'properties',\n    title: 'com.affine.settings.workspace.properties',\n  },\n] satisfies {\n  key: WorkspaceSubTab;\n  title: keyof ReturnType<typeof useI18n>;\n}[];\n\nconst WorkspaceListItem = ({\n  activeSubTab,\n  meta,\n  onClick,\n}: {\n  meta: WorkspaceMetadata;\n  activeSubTab?: WorkspaceSubTab;\n  onClick: (subTab: WorkspaceSubTab) => void;\n}) => {\n  const { workspaceService, userFeatureService } = useServices({\n    WorkspaceService,\n    UserFeatureService,\n  });\n  const information = useWorkspaceInfo(meta);\n  const name = information?.name ?? UNTITLED_WORKSPACE_NAME;\n  const currentWorkspace = workspaceService.workspace;\n  const isCurrent = currentWorkspace.id === meta.id;\n  const t = useI18n();\n\n  useEffect(() => {\n    userFeatureService.userFeature.revalidate();\n  }, [userFeatureService]);\n\n  const onClickPreference = useCallback(() => {\n    onClick('preference');\n  }, [onClick]);\n\n  const subTabs = useMemo(() => {\n    return subTabConfigs.map(({ key, title }) => {\n      return (\n        <div\n          data-testid={`workspace-list-item-${key}`}\n          onClick={() => {\n            onClick(key);\n          }}\n          className={clsx(style.sidebarSelectSubItem, {\n            active: activeSubTab === key,\n          })}\n          key={key}\n        >\n          {t[title]()}\n        </div>\n      );\n    });\n  }, [activeSubTab, onClick, t]);\n\n  return (\n    <>\n      <div\n        className={clsx(style.sidebarSelectItem, { active: !!activeSubTab })}\n        title={name}\n        onClick={onClickPreference}\n        data-testid=\"workspace-list-item\"\n      >\n        <WorkspaceAvatar\n          key={meta.id}\n          meta={meta}\n          size={16}\n          name={name}\n          colorfulFallback\n          style={{\n            marginRight: '10px',\n          }}\n          rounded={2}\n        />\n        <span className=\"setting-name\">{name}</span>\n        {isCurrent ? (\n          <Tooltip content=\"Current\" side=\"top\">\n            <div\n              className={style.currentWorkspaceLabel}\n              data-testid=\"current-workspace-label\"\n            ></div>\n          </Tooltip>\n        ) : null}\n      </div>\n      {activeSubTab && subTabs.length > 1 ? subTabs : null}\n    </>\n  );\n};\n","import \"../core/src/components/affine/setting-modal/style.css.ts.vanilla.css!=!../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/style.css.ts.vanilla.css\\\",\\\"source\\\":\\\"Ll8xaGJ5ZWN5MCB7CiAgZmxleC1ncm93OiAxOwogIGhlaWdodDogMTAwJTsKICBwYWRkaW5nOiA0MHB4IDE1cHggMjBweCAxNXB4OwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7Cn0KLl8xaGJ5ZWN5MSB7CiAgd2lkdGg6IDEwMCU7CiAgbWF4LXdpZHRoOiA1NjBweDsKfQouXzFoYnllY3kyIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgd2lkdGg6IDEwMCU7CiAgbWFyZ2luLWJvdHRvbTogMjRweDsKICBtaW4taGVpZ2h0OiBjYWxjKDEwMCUgLSA0OHB4KTsKfQouXzFoYnllY3kzIHsKICBmb250LXNpemU6IHZhcigtLWFmZmluZS1mb250LXNtKTsKICBjb2xvcjogdmFyKC0tYWZmaW5lLXRleHQtcHJpbWFyeS1jb2xvcik7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogc3RhcnQ7CiAgbGluZS1oZWlnaHQ6IDIycHg7CiAgZ2FwOiAxMnB4Owp9Ci5fMWhieWVjeTQgewogIGNvbG9yOiB2YXIoLS1hZmZpbmUtaWNvbi1jb2xvcik7CiAgbWFyZ2luLXJpZ2h0OiAxMnB4OwogIGRpc3BsYXk6IGZsZXg7CiAgbWFyZ2luOiAzcHggMDsKfQouXzFoYnllY3k1IHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgcGFkZGluZy1ib3R0b206IDIwcHg7CiAgZ2FwOiA0cHg7CiAgZm9udC1zaXplOiB2YXIoLS1hZmZpbmUtZm9udC14cyk7CiAgZmxleC13cmFwOiB3cmFwOwp9Ci5fMWhieWVjeTYgewogIGNvbG9yOiB2YXIoLS1hZmZpbmUtbGluay1jb2xvcik7CiAgY3Vyc29yOiBwb2ludGVyOwp9Ci5fMWhieWVjeTcgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBoZWlnaHQ6IDEwMCU7CiAgd2lkdGg6IDEwMCU7Cn0=\\\"}!../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var centerContainer = '_1hbyecy1';\nexport var centeredLoading = '_1hbyecy7';\nexport var content = '_1hbyecy2';\nexport var footer = '_1hbyecy5';\nexport var link = '_1hbyecy6';\nexport var suggestionLink = '_1hbyecy3';\nexport var suggestionLinkIcon = '_1hbyecy4';\nexport var wrapper = '_1hbyecy0';","export const GeneralSettingKeys = [\n  'shortcuts',\n  'appearance',\n  'about',\n  'plans',\n  'billing',\n  'experimental-features',\n] as const;\n\nexport const WorkspaceSubTabs = ['preference', 'properties'] as const;\n\nexport type GeneralSettingKey = (typeof GeneralSettingKeys)[number];\n\nexport type WorkspaceSubTab = (typeof WorkspaceSubTabs)[number];\n\nexport type ActiveTab =\n  | GeneralSettingKey\n  | 'account'\n  | `workspace:${WorkspaceSubTab}`;\n","import \"../core/src/components/affine/setting-modal/workspace-setting/new-workspace-setting-detail/delete-leave-workspace/delete/style.css.ts.vanilla.css!=!../../../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/workspace-setting/new-workspace-setting-detail/delete-leave-workspace/delete/style.css.ts.vanilla.css\\\",\\\"source\\\":\\\"LmZ2a2JmazAgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBwYWRkaW5nOiAwcHg7CiAgd2lkdGg6IDU2MHB4OwogIGJhY2tncm91bmQ6IHZhcigtLWFmZmluZS1iYWNrZ3JvdW5kLW92ZXJsYXktcGFuZWwtY29sb3IpOwogIGJvcmRlci1yYWRpdXM6IDEycHg7Cn0KLmZ2a2JmazEgewogIG1hcmdpbjogNDRweCAwcHggMTJweCAwcHg7CiAgd2lkdGg6IDU2MHB4OwogIGZvbnQtd2VpZ2h0OiA2MDA7CiAgZm9udC1zaXplOiAyMHB4OzsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KLmZ2a2JmazIgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IHJvdzsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBtYXJnaW46IDI0cHggMDsKICBmb250LXNpemU6IHZhcigtLWFmZmluZS1mb250LWJhc2UpOwp9Ci5mdmtiZmszIHsKICBmb250LXdlaWdodDogNjAwOwp9\\\"}!../../../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var inputContent = 'fvkbfk2';\nexport var modalHeader = 'fvkbfk1';\nexport var modalWrapper = 'fvkbfk0';\nexport var workspaceName = 'fvkbfk3';","import { Input } from '@affine/component';\nimport type { ConfirmModalProps } from '@affine/component/ui/modal';\nimport { ConfirmModal } from '@affine/component/ui/modal';\nimport { useWorkspaceInfo } from '@affine/core/hooks/use-workspace-info';\nimport { UNTITLED_WORKSPACE_NAME } from '@affine/env/constant';\nimport { WorkspaceFlavour } from '@affine/env/workspace';\nimport { Trans, useI18n } from '@affine/i18n';\nimport type { WorkspaceMetadata } from '@toeverything/infra';\nimport { useCallback, useState } from 'react';\n\nimport * as styles from './style.css';\n\ninterface WorkspaceDeleteProps extends ConfirmModalProps {\n  workspaceMetadata: WorkspaceMetadata;\n  onConfirm?: () => void;\n}\n\nexport const WorkspaceDeleteModal = ({\n  workspaceMetadata,\n  ...props\n}: WorkspaceDeleteProps) => {\n  const { onConfirm } = props;\n  const [deleteStr, setDeleteStr] = useState<string>('');\n  const info = useWorkspaceInfo(workspaceMetadata);\n  const workspaceName = info?.name ?? UNTITLED_WORKSPACE_NAME;\n  const allowDelete = deleteStr === workspaceName;\n  const t = useI18n();\n\n  const handleOnEnter = useCallback(() => {\n    if (allowDelete) {\n      return onConfirm?.();\n    }\n  }, [allowDelete, onConfirm]);\n\n  return (\n    <ConfirmModal\n      title={`${t['com.affine.workspaceDelete.title']()}?`}\n      cancelText={t['com.affine.workspaceDelete.button.cancel']()}\n      confirmText={t['com.affine.workspaceDelete.button.delete']()}\n      confirmButtonOptions={{\n        variant: 'error',\n        disabled: !allowDelete,\n        ['data-testid' as string]: 'delete-workspace-confirm-button',\n      }}\n      {...props}\n    >\n      {workspaceMetadata.flavour === WorkspaceFlavour.LOCAL ? (\n        <Trans i18nKey=\"com.affine.workspaceDelete.description\">\n          Deleting (\n          <span className={styles.workspaceName}>\n            {{ workspace: workspaceName } as any}\n          </span>\n          ) cannot be undone, please proceed with caution. All contents will be\n          lost.\n        </Trans>\n      ) : (\n        <Trans i18nKey=\"com.affine.workspaceDelete.description2\">\n          Deleting (\n          <span className={styles.workspaceName}>\n            {{ workspace: workspaceName } as any}\n          </span>\n          ) will delete both local and cloud data, this operation cannot be\n          undone, please proceed with caution.\n        </Trans>\n      )}\n      <div className={styles.inputContent}>\n        <Input\n          autoFocus\n          onChange={setDeleteStr}\n          data-testid=\"delete-workspace-input\"\n          onEnter={handleOnEnter}\n          placeholder={t['com.affine.workspaceDelete.placeholder']()}\n          size=\"large\"\n        />\n      </div>\n    </ConfirmModal>\n  );\n};\n","import { notify } from '@affine/component';\nimport { SettingRow } from '@affine/component/setting-components';\nimport { ConfirmModal } from '@affine/component/ui/modal';\nimport { useAsyncCallback } from '@affine/core/hooks/affine-async-hooks';\nimport { WorkspacePermissionService } from '@affine/core/modules/permissions';\nimport { useI18n } from '@affine/i18n';\nimport { ArrowRightSmallIcon } from '@blocksuite/icons/rc';\nimport {\n  GlobalContextService,\n  useLiveData,\n  useServices,\n  WorkspaceService,\n  WorkspacesService,\n} from '@toeverything/infra';\nimport { useSetAtom } from 'jotai';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport { openSettingModalAtom } from '../../../../../../atoms';\nimport {\n  RouteLogic,\n  useNavigateHelper,\n} from '../../../../../../hooks/use-navigate-helper';\nimport { WorkspaceSubPath } from '../../../../../../shared';\nimport { WorkspaceDeleteModal } from './delete';\n\nexport const DeleteLeaveWorkspace = () => {\n  const {\n    workspaceService,\n    globalContextService,\n    workspacePermissionService,\n    workspacesService,\n  } = useServices({\n    WorkspaceService,\n    GlobalContextService,\n    WorkspacePermissionService,\n    WorkspacesService,\n  });\n  const t = useI18n();\n  const workspace = workspaceService.workspace;\n  const { jumpToSubPath, jumpToIndex } = useNavigateHelper();\n  // fixme: cloud regression\n  const [showDelete, setShowDelete] = useState(false);\n  const [showLeave, setShowLeave] = useState(false);\n  const setSettingModal = useSetAtom(openSettingModalAtom);\n\n  const workspaceList = useLiveData(workspacesService.list.workspaces$);\n  const currentWorkspaceId = useLiveData(\n    globalContextService.globalContext.workspaceId.$\n  );\n\n  const isOwner = useLiveData(workspacePermissionService.permission.isOwner$);\n  useEffect(() => {\n    workspacePermissionService.permission.revalidate();\n  }, [workspacePermissionService]);\n\n  const onLeaveOrDelete = useCallback(() => {\n    if (isOwner !== null) {\n      if (isOwner) {\n        setShowDelete(true);\n      } else {\n        setShowLeave(true);\n      }\n    }\n  }, [isOwner]);\n\n  const onDeleteConfirm = useAsyncCallback(async () => {\n    setSettingModal(prev => ({ ...prev, open: false, workspaceId: null }));\n\n    if (currentWorkspaceId === workspace.id) {\n      const backWorkspace = workspaceList.find(\n        ws => ws.id !== currentWorkspaceId\n      );\n      // TODO(@eyhn): if there is no workspace, jump to a new page(wait for design)\n      if (backWorkspace) {\n        jumpToSubPath(\n          backWorkspace?.id || '',\n          WorkspaceSubPath.ALL,\n          RouteLogic.REPLACE\n        );\n      } else {\n        jumpToIndex(RouteLogic.REPLACE);\n      }\n    }\n\n    if (isOwner) {\n      await workspacesService.deleteWorkspace(workspace.meta);\n    } else {\n      await workspacePermissionService.leaveWorkspace();\n    }\n    notify.success({ title: t['Successfully deleted']() });\n  }, [\n    setSettingModal,\n    currentWorkspaceId,\n    workspace.id,\n    workspace.meta,\n    isOwner,\n    t,\n    workspaceList,\n    jumpToSubPath,\n    jumpToIndex,\n    workspacesService,\n    workspacePermissionService,\n  ]);\n\n  return (\n    <>\n      <SettingRow\n        name={\n          <span style={{ color: 'var(--affine-error-color)' }}>\n            {isOwner\n              ? t['com.affine.workspaceDelete.title']()\n              : t['com.affine.deleteLeaveWorkspace.leave']()}\n          </span>\n        }\n        desc={t['com.affine.deleteLeaveWorkspace.description']()}\n        style={{ cursor: 'pointer' }}\n        onClick={onLeaveOrDelete}\n        data-testid=\"delete-workspace-button\"\n      >\n        <ArrowRightSmallIcon />\n      </SettingRow>\n      {isOwner ? (\n        <WorkspaceDeleteModal\n          onConfirm={onDeleteConfirm}\n          open={showDelete}\n          onOpenChange={setShowDelete}\n          workspaceMetadata={workspace.meta}\n        />\n      ) : (\n        <ConfirmModal\n          open={showLeave}\n          cancelText={t['com.affine.confirmModal.button.cancel']()}\n          onConfirm={onDeleteConfirm}\n          onOpenChange={setShowLeave}\n          title={`${t['com.affine.deleteLeaveWorkspace.leave']()}?`}\n          description={t['com.affine.deleteLeaveWorkspace.leaveDescription']()}\n          confirmText={t['Leave']()}\n          confirmButtonOptions={{\n            variant: 'error',\n          }}\n        />\n      )}\n    </>\n  );\n};\n","import { SettingRow } from '@affine/component/setting-components';\nimport { Button } from '@affine/component/ui/button';\nimport { useEnableCloud } from '@affine/core/hooks/affine/use-enable-cloud';\nimport { UNTITLED_WORKSPACE_NAME } from '@affine/env/constant';\nimport { WorkspaceFlavour } from '@affine/env/workspace';\nimport { useI18n } from '@affine/i18n';\nimport {\n  useLiveData,\n  useService,\n  type Workspace,\n  WorkspaceService,\n} from '@toeverything/infra';\nimport { useSetAtom } from 'jotai';\nimport { useCallback } from 'react';\n\nimport { openSettingModalAtom } from '../../../../../atoms';\n\nexport interface PublishPanelProps {\n  workspace: Workspace | null;\n}\n\nexport const EnableCloudPanel = () => {\n  const t = useI18n();\n  const confirmEnableCloud = useEnableCloud();\n\n  const workspace = useService(WorkspaceService).workspace;\n  const name = useLiveData(workspace.name$);\n  const flavour = workspace.flavour;\n\n  const setSettingModal = useSetAtom(openSettingModalAtom);\n\n  const confirmEnableCloudAndClose = useCallback(() => {\n    if (!workspace) return;\n    confirmEnableCloud(workspace, {\n      onSuccess: () => {\n        setSettingModal(settings => ({ ...settings, open: false }));\n      },\n    });\n  }, [confirmEnableCloud, setSettingModal, workspace]);\n\n  if (flavour !== WorkspaceFlavour.LOCAL) {\n    return null;\n  }\n\n  return (\n    <SettingRow\n      name={t['Workspace saved locally']({\n        name: name ?? UNTITLED_WORKSPACE_NAME,\n      })}\n      desc={t['Enable cloud hint']()}\n      spreadCol={false}\n      style={{\n        padding: '10px',\n        background: 'var(--affine-background-secondary-color)',\n      }}\n    >\n      <Button\n        data-testid=\"publish-enable-affine-cloud-button\"\n        variant=\"primary\"\n        onClick={confirmEnableCloudAndClose}\n        style={{ marginTop: '12px' }}\n      >\n        {t['Enable AFFiNE Cloud']()}\n      </Button>\n    </SettingRow>\n  );\n};\n","import { notify } from '@affine/component';\nimport { SettingRow } from '@affine/component/setting-components';\nimport { Button } from '@affine/component/ui/button';\nimport { useAsyncCallback } from '@affine/core/hooks/affine-async-hooks';\nimport { useSystemOnline } from '@affine/core/hooks/use-system-online';\nimport { apis } from '@affine/electron-api';\nimport { useI18n } from '@affine/i18n';\nimport type { Workspace, WorkspaceMetadata } from '@toeverything/infra';\nimport { useState } from 'react';\n\ninterface ExportPanelProps {\n  workspaceMetadata: WorkspaceMetadata;\n  workspace: Workspace | null;\n}\n\nexport const ExportPanel = ({\n  workspaceMetadata,\n  workspace,\n}: ExportPanelProps) => {\n  const workspaceId = workspaceMetadata.id;\n  const t = useI18n();\n  const [saving, setSaving] = useState(false);\n  const isOnline = useSystemOnline();\n\n  const onExport = useAsyncCallback(async () => {\n    if (saving || !workspace) {\n      return;\n    }\n    setSaving(true);\n    try {\n      if (isOnline) {\n        await workspace.engine.waitForDocSynced();\n        await workspace.engine.blob.sync();\n      }\n\n      const result = await apis?.dialog.saveDBFileAs(workspaceId);\n      if (result?.error) {\n        throw new Error(result.error);\n      } else if (!result?.canceled) {\n        notify.success({ title: t['Export success']() });\n      }\n    } catch (e: any) {\n      notify.error({ title: t['Export failed'](), message: e.message });\n    } finally {\n      setSaving(false);\n    }\n  }, [isOnline, saving, t, workspace, workspaceId]);\n\n  return (\n    <SettingRow name={t['Export']()} desc={t['Export Description']()}>\n      <Button\n        data-testid=\"export-affine-backup\"\n        onClick={onExport}\n        disabled={saving}\n      >\n        {t['Export']()}\n      </Button>\n    </SettingRow>\n  );\n};\n","import \"../core/src/components/affine/setting-modal/workspace-setting/new-workspace-setting-detail/style.css.ts.vanilla.css!=!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/workspace-setting/new-workspace-setting-detail/style.css.ts.vanilla.css\\\",\\\"source\\\":\\\"#H4sIAAAAAAAACrVX7W7bIBT936dAkya1UonsNMk2+hh7gAmba5uNAALSOKv67hNgJ5g4abd2fyKZj/tx7rmHm8WPkur1nukCPd8gxLjVgh4IagT0jzcIUcFbibmDrY2LGCTzG1tqWi6xU5qgcqn7x5uXm8VorAzGwvHWqD1B5eOrxmuQDkxiWkDjCFoWme1lsL3nzHUElUXx+R9Mh6iXKx2OttSnUMSPEPPe+CX/O/H8kHpeb+KFDnjbudN3pQwDgw1lfGcJWsf4tLLccSUJMiCo40/gV+udscoQpBUfAwz+bWe4/EVQMXW/YNzSSkAIY7zLoKE74aKTYAbDE0hnCZJKwtQC6dQTGLSo6RYMxbxWMiSrwcyV/4OuXr70TixpZZXYOZgwIGaN0M+ddbw54FpJB9KlLLhAjorWv1qjdpLhWgkPrmkrersp7tGmvEebh3tULNZ3/uhvzCWDfiD2cPqJmluMadNwCXjfcQfhbKOkw5b/hpFyCTarFIaaivrWMxphtFnpHmFUrnV/N5uN7w6/4aB3OCQ0rk3MW03lXMP4YjbCt2bHGQN5NHXaACG4ttz6rZANtprW4BGOrTGfuBa0hk4JX7mwfwJhP9a3mDJ7HSKc7xGlac3dgaBisZrv4NQQIbRxA7mOUH369HgOwMi18XueVVGDioCO91ikbSuVR16oPbBJFJt5KX0rIf35744adwnhUCcLtZKMmkMCclCyQdU0ZYzLlqCvg7CdWDgxFtZ7ezfJ4EssyGhiNduOUfXTtslMJ/2kDd9OY43GCCp1j6wSnGV3o6/T+TM4g1IybqCOZauV2G3lLNCBt7gCtwfP9CTRb9NEC58qKlCZC9IA4lkQGalmhSV1N6jo8zXYwpEzpI6wf804/41I5W6JoNZh1WB30HAXHAydUinn1JagTXaPprKwXBcXMrwMc/5UZQ/3SI9h0UQkz57zanZU+Bh5usp5u51yvlpokJ4Gg3jMKFtG4uRyHbN41d+Vhj5vkY8BQQRODURe5pMaez3wIA5/qUT/I/ScOWMzHRfiYHR8MMq5mYgKMTHS/J/8s95bZ6G3b5phz2bRfxpqpuqxyV6Hpe6Ps+8rkhyL9FDkQ83fI3ZO9ZlKX2BFgmL3/trBVnfUcpuEMjOUT3RtlQkllz74SWB8OgDEE/jqX5Pk9s88rfE1elcWL38AhvG3u+oNAAA=\\\"}!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var arrowRight = '_1ap5wdpj';\nexport var avatarWrapper = '_1ap5wdp3';\nexport var fakeWrapper = '_1ap5wdp5';\nexport var goUpgrade = '_1ap5wdph';\nexport var goUpgradeWrapper = '_1ap5wdpi';\nexport var iconButton = '_1ap5wdpe';\nexport var label = '_1ap5wdpf';\nexport var labelWrapper = '_1ap5wdp2';\nexport var memberContainer = '_1ap5wdpa';\nexport var memberEmail = '_1ap5wdpd';\nexport var memberList = '_1ap5wdp8';\nexport var memberListItem = '_1ap5wdp9';\nexport var memberName = '_1ap5wdpc';\nexport var membersFallback = '_1ap5wdp6';\nexport var membersPanel = '_1ap5wdp7';\nexport var profileHandlerWrapper = '_1ap5wdp1';\nexport var profileWrapper = '_1ap5wdp0';\nexport var roleOrStatus = '_1ap5wdpb';\nexport var urlButton = '_1ap5wdp4';\nexport var workspaceLabel = '_1ap5wdpg';","import { WorkspacePermissionService } from '@affine/core/modules/permissions';\nimport { useLiveData, useService, WorkspaceService } from '@toeverything/infra';\nimport { useEffect, useMemo } from 'react';\n\nimport * as style from './style.css';\n\ntype WorkspaceStatus =\n  | 'local'\n  | 'syncCloud'\n  | 'syncDocker'\n  | 'selfHosted'\n  | 'joinedWorkspace'\n  | 'availableOffline'\n  | 'publishedToWeb';\n\ntype LabelProps = {\n  value: string;\n  background: string;\n};\n\ntype LabelMap = {\n  [key in WorkspaceStatus]: LabelProps;\n};\ntype labelConditionsProps = {\n  condition: boolean;\n  label: WorkspaceStatus;\n};\nconst Label = ({ value, background }: LabelProps) => {\n  return (\n    <div>\n      <div className={style.workspaceLabel} style={{ background: background }}>\n        {value}\n      </div>\n    </div>\n  );\n};\nexport const LabelsPanel = () => {\n  const workspace = useService(WorkspaceService).workspace;\n  const permissionService = useService(WorkspacePermissionService);\n  const isOwner = useLiveData(permissionService.permission.isOwner$);\n  useEffect(() => {\n    permissionService.permission.revalidate();\n  }, [permissionService]);\n  const labelMap: LabelMap = useMemo(\n    () => ({\n      local: {\n        value: 'Local',\n        background: 'var(--affine-tag-orange)',\n      },\n      syncCloud: {\n        value: 'Sync with AFFiNE Cloud',\n        background: 'var(--affine-tag-blue)',\n      },\n      syncDocker: {\n        value: 'Sync with AFFiNE Docker',\n        background: 'var(--affine-tag-green)',\n      },\n      selfHosted: {\n        value: 'Self-Hosted Server',\n        background: 'var(--affine-tag-purple)',\n      },\n      joinedWorkspace: {\n        value: 'Joined Workspace',\n        background: 'var(--affine-tag-yellow)',\n      },\n      availableOffline: {\n        value: 'Available Offline',\n        background: 'var(--affine-tag-green)',\n      },\n      publishedToWeb: {\n        value: 'Published to Web',\n        background: 'var(--affine-tag-blue)',\n      },\n    }),\n    []\n  );\n  const labelConditions: labelConditionsProps[] = [\n    { condition: !isOwner, label: 'joinedWorkspace' },\n    { condition: workspace.flavour === 'local', label: 'local' },\n    {\n      condition: workspace.flavour === 'affine-cloud',\n      label: 'syncCloud',\n    },\n  ];\n\n  return (\n    <div className={style.labelWrapper}>\n      {labelConditions.map(\n        ({ condition, label }) =>\n          condition && (\n            <Label\n              key={label}\n              value={labelMap[label].value}\n              background={labelMap[label].background}\n            />\n          )\n      )}\n    </div>\n  );\n};\n","import { useCallback } from 'react';\nimport { useSWRConfig } from 'swr';\n\nexport function useMutateCloud() {\n  const { mutate } = useSWRConfig();\n  return useCallback(async () => {\n    // TODO(@eyhn): should not mutate all graphql cache\n    return mutate(key => {\n      if (Array.isArray(key)) {\n        return key[0] === 'cloud';\n      }\n      return false;\n    });\n  }, [mutate]);\n}\n","import type { GetMembersByWorkspaceIdQuery } from '@affine/graphql';\nimport { getMembersByWorkspaceIdQuery, Permission } from '@affine/graphql';\nimport { useMemo } from 'react';\n\nimport { useQuery } from '../use-query';\n\nexport function calculateWeight(member: Member) {\n  const permissionWeight = {\n    [Permission.Owner]: 4,\n    [Permission.Admin]: 3,\n    [Permission.Write]: 2,\n    [Permission.Read]: 1,\n  };\n\n  const factors = [\n    Number(member.permission === Permission.Owner), // Owner weight is the highest\n    Number(!member.accepted), // Unaccepted members are before accepted members\n    permissionWeight[member.permission] || 0,\n  ];\n\n  return factors.reduce((ret, factor, index, arr) => {\n    return ret + factor * Math.pow(10, arr.length - 1 - index);\n  }, 0);\n}\n\nexport type Member = Omit<\n  GetMembersByWorkspaceIdQuery['workspace']['members'][number],\n  '__typename'\n>;\nexport function useMembers(\n  workspaceId: string,\n  skip: number,\n  take: number = 8\n) {\n  const { data } = useQuery({\n    query: getMembersByWorkspaceIdQuery,\n    variables: {\n      workspaceId,\n      skip,\n      take,\n    },\n  });\n\n  const members = data.workspace.members;\n\n  return useMemo(() => {\n    // sort members by weight\n    return members.sort((a, b) => {\n      const weightDifference = calculateWeight(b) - calculateWeight(a);\n      if (weightDifference !== 0) {\n        return weightDifference;\n      }\n      // if weight is the same, sort by name\n      if (a.name === null) return 1;\n      if (b.name === null) return -1;\n      return a.name.localeCompare(b.name);\n    });\n  }, [members]);\n}\n","import { notify } from '@affine/component';\nimport type {\n  InviteModalProps,\n  PaginationProps,\n} from '@affine/component/member-components';\nimport {\n  InviteModal,\n  MemberLimitModal,\n  Pagination,\n} from '@affine/component/member-components';\nimport { SettingRow } from '@affine/component/setting-components';\nimport { Avatar } from '@affine/component/ui/avatar';\nimport { Button, IconButton } from '@affine/component/ui/button';\nimport { Loading } from '@affine/component/ui/loading';\nimport { Menu, MenuItem } from '@affine/component/ui/menu';\nimport { Tooltip } from '@affine/component/ui/tooltip';\nimport { openSettingModalAtom } from '@affine/core/atoms';\nimport { AffineErrorBoundary } from '@affine/core/components/affine/affine-error-boundary';\nimport { useInviteMember } from '@affine/core/hooks/affine/use-invite-member';\nimport { useMemberCount } from '@affine/core/hooks/affine/use-member-count';\nimport type { Member } from '@affine/core/hooks/affine/use-members';\nimport { useMembers } from '@affine/core/hooks/affine/use-members';\nimport { useRevokeMemberPermission } from '@affine/core/hooks/affine/use-revoke-member-permission';\nimport { track } from '@affine/core/mixpanel';\nimport { WorkspacePermissionService } from '@affine/core/modules/permissions';\nimport { WorkspaceQuotaService } from '@affine/core/modules/quota';\nimport { WorkspaceFlavour } from '@affine/env/workspace';\nimport { Permission } from '@affine/graphql';\nimport { useI18n } from '@affine/i18n';\nimport { MoreVerticalIcon } from '@blocksuite/icons/rc';\nimport {\n  useEnsureLiveData,\n  useLiveData,\n  useService,\n  WorkspaceService,\n} from '@toeverything/infra';\nimport clsx from 'clsx';\nimport { useSetAtom } from 'jotai';\nimport type { ReactElement } from 'react';\nimport {\n  Suspense,\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport {\n  type AuthAccountInfo,\n  AuthService,\n  ServerConfigService,\n  SubscriptionService,\n} from '../../../../../modules/cloud';\nimport * as style from './style.css';\n\nconst COUNT_PER_PAGE = 8;\ntype OnRevoke = (memberId: string) => void;\nconst MembersPanelLocal = () => {\n  const t = useI18n();\n  return (\n    <Tooltip content={t['com.affine.settings.member-tooltip']()}>\n      <div className={style.fakeWrapper}>\n        <SettingRow name={`${t['Members']()} (0)`} desc={t['Members hint']()}>\n          <Button>{t['Invite Members']()}</Button>\n        </SettingRow>\n      </div>\n    </Tooltip>\n  );\n};\n\nexport const CloudWorkspaceMembersPanel = () => {\n  const serverConfig = useService(ServerConfigService).serverConfig;\n  const hasPaymentFeature = useLiveData(\n    serverConfig.features$.map(f => f?.payment)\n  );\n  const workspace = useService(WorkspaceService).workspace;\n  const memberCount = useMemberCount(workspace.id);\n\n  const permissionService = useService(WorkspacePermissionService);\n  const isOwner = useLiveData(permissionService.permission.isOwner$);\n  useEffect(() => {\n    permissionService.permission.revalidate();\n  }, [permissionService]);\n\n  const checkMemberCountLimit = useCallback(\n    (memberCount: number, memberLimit?: number) => {\n      if (memberLimit === undefined) return false;\n      return memberCount >= memberLimit;\n    },\n    []\n  );\n\n  const workspaceQuotaService = useService(WorkspaceQuotaService);\n  useEffect(() => {\n    workspaceQuotaService.quota.revalidate();\n  }, [workspaceQuotaService]);\n  const workspaceQuota = useLiveData(workspaceQuotaService.quota.quota$);\n  const subscriptionService = useService(SubscriptionService);\n  const plan = useLiveData(\n    subscriptionService.subscription.pro$.map(s => s?.plan)\n  );\n  const isLimited = workspaceQuota\n    ? checkMemberCountLimit(memberCount, workspaceQuota.memberLimit)\n    : null;\n\n  const t = useI18n();\n  const { invite, isMutating } = useInviteMember(workspace.id);\n  const revokeMemberPermission = useRevokeMemberPermission(workspace.id);\n\n  const [open, setOpen] = useState(false);\n  const [memberSkip, setMemberSkip] = useState(0);\n\n  const openModal = useCallback(() => {\n    setOpen(true);\n  }, []);\n\n  const onPageChange = useCallback<PaginationProps['onPageChange']>(offset => {\n    setMemberSkip(offset);\n  }, []);\n\n  const onInviteConfirm = useCallback<InviteModalProps['onConfirm']>(\n    async ({ email, permission }) => {\n      const success = await invite(\n        email,\n        permission,\n        // send invite email\n        true\n      );\n      if (success) {\n        notify.success({\n          title: t['Invitation sent'](),\n          message: t['Invitation sent hint'](),\n        });\n        setOpen(false);\n      }\n    },\n    [invite, t]\n  );\n\n  const setSettingModalAtom = useSetAtom(openSettingModalAtom);\n  const handleUpgradeConfirm = useCallback(() => {\n    setSettingModalAtom({\n      open: true,\n      activeTab: 'plans',\n      scrollAnchor: 'cloudPricingPlan',\n    });\n    track.$.settingsPanel.workspace.viewPlans({\n      control: 'inviteMember',\n    });\n  }, [setSettingModalAtom]);\n\n  const listContainerRef = useRef<HTMLDivElement | null>(null);\n  const [memberListHeight, setMemberListHeight] = useState<number | null>(null);\n\n  useLayoutEffect(() => {\n    if (\n      memberCount > COUNT_PER_PAGE &&\n      listContainerRef.current &&\n      memberListHeight === null\n    ) {\n      const rect = listContainerRef.current.getBoundingClientRect();\n      setMemberListHeight(rect.height);\n    }\n  }, [listContainerRef, memberCount, memberListHeight]);\n\n  const onRevoke = useCallback<OnRevoke>(\n    async memberId => {\n      const res = await revokeMemberPermission(memberId);\n      if (res?.revoke) {\n        notify.success({ title: t['Removed successfully']() });\n      }\n    },\n    [revokeMemberPermission, t]\n  );\n\n  const desc = useMemo(() => {\n    if (!workspaceQuota) return null;\n    return (\n      <span>\n        {t['com.affine.payment.member.description2']()}\n        {hasPaymentFeature ? (\n          <div\n            className={style.goUpgradeWrapper}\n            onClick={handleUpgradeConfirm}\n          >\n            <span className={style.goUpgrade}>\n              {t['com.affine.payment.member.description.choose-plan']()}\n            </span>\n          </div>\n        ) : null}\n      </span>\n    );\n  }, [handleUpgradeConfirm, hasPaymentFeature, t, workspaceQuota]);\n\n  if (workspaceQuota === null) {\n    // TODO(@eyhn): loading ui\n    return null;\n  }\n\n  return (\n    <>\n      <SettingRow\n        name={`${t['Members']()} (${memberCount}/${workspaceQuota.humanReadable.memberLimit})`}\n        desc={desc}\n        spreadCol={!!isOwner}\n      >\n        {isOwner ? (\n          <>\n            <Button onClick={openModal}>{t['Invite Members']()}</Button>\n            {isLimited ? (\n              <MemberLimitModal\n                isFreePlan={!!plan}\n                open={open}\n                plan={workspaceQuota.humanReadable.name ?? ''}\n                quota={workspaceQuota.humanReadable.memberLimit ?? ''}\n                setOpen={setOpen}\n                onConfirm={handleUpgradeConfirm}\n              />\n            ) : (\n              <InviteModal\n                open={open}\n                setOpen={setOpen}\n                onConfirm={onInviteConfirm}\n                isMutating={isMutating}\n              />\n            )}\n          </>\n        ) : null}\n      </SettingRow>\n\n      <div\n        className={style.membersPanel}\n        ref={listContainerRef}\n        style={memberListHeight ? { height: memberListHeight } : {}}\n      >\n        <Suspense fallback={<MemberListFallback memberCount={memberCount} />}>\n          <MemberList\n            workspaceId={workspace.id}\n            isOwner={!!isOwner}\n            skip={memberSkip}\n            onRevoke={onRevoke}\n          />\n        </Suspense>\n\n        {memberCount > COUNT_PER_PAGE && (\n          <Pagination\n            totalCount={memberCount}\n            countPerPage={COUNT_PER_PAGE}\n            onPageChange={onPageChange}\n          />\n        )}\n      </div>\n    </>\n  );\n};\nexport const MembersPanelFallback = () => {\n  const t = useI18n();\n\n  return (\n    <>\n      <SettingRow\n        name={t['Members']()}\n        desc={t['com.affine.payment.member.description2']()}\n      />\n      <div className={style.membersPanel}>\n        <MemberListFallback memberCount={1} />\n      </div>\n    </>\n  );\n};\n\nconst MemberListFallback = ({ memberCount }: { memberCount: number }) => {\n  // prevent page jitter\n  const height = useMemo(() => {\n    if (memberCount > COUNT_PER_PAGE) {\n      // height and margin-bottom\n      return COUNT_PER_PAGE * 58 + (COUNT_PER_PAGE - 1) * 6;\n    }\n    return 'auto';\n  }, [memberCount]);\n  const t = useI18n();\n\n  return (\n    <div\n      style={{\n        height,\n      }}\n      className={style.membersFallback}\n    >\n      <Loading size={20} />\n      <span>{t['com.affine.settings.member.loading']()}</span>\n    </div>\n  );\n};\n\nconst MemberList = ({\n  workspaceId,\n  isOwner,\n  skip,\n  onRevoke,\n}: {\n  workspaceId: string;\n  isOwner: boolean;\n  skip: number;\n  onRevoke: OnRevoke;\n}) => {\n  const members = useMembers(workspaceId, skip, COUNT_PER_PAGE);\n  const session = useService(AuthService).session;\n  const account = useEnsureLiveData(session.account$);\n\n  return (\n    <div className={style.memberList}>\n      {members.map(member => (\n        <MemberItem\n          currentAccount={account}\n          key={member.id}\n          member={member}\n          isOwner={isOwner}\n          onRevoke={onRevoke}\n        />\n      ))}\n    </div>\n  );\n};\n\nconst MemberItem = ({\n  member,\n  isOwner,\n  currentAccount,\n  onRevoke,\n}: {\n  member: Member;\n  isOwner: boolean;\n  currentAccount: AuthAccountInfo;\n  onRevoke: OnRevoke;\n}) => {\n  const t = useI18n();\n\n  const handleRevoke = useCallback(() => {\n    onRevoke(member.id);\n  }, [onRevoke, member.id]);\n\n  const operationButtonInfo = useMemo(() => {\n    return {\n      show: isOwner && currentAccount.id !== member.id,\n      leaveOrRevokeText: t['Remove from workspace'](),\n    };\n  }, [currentAccount.id, isOwner, member.id, t]);\n\n  return (\n    <div\n      key={member.id}\n      className={style.memberListItem}\n      data-testid=\"member-item\"\n    >\n      <Avatar\n        size={36}\n        url={member.avatarUrl}\n        name={(member.name ? member.name : member.email) as string}\n      />\n      <div className={style.memberContainer}>\n        {member.name ? (\n          <>\n            <div className={style.memberName}>{member.name}</div>\n            <div className={style.memberEmail}>{member.email}</div>\n          </>\n        ) : (\n          <div className={style.memberName}>{member.email}</div>\n        )}\n      </div>\n      <div\n        className={clsx(style.roleOrStatus, {\n          pending: !member.accepted,\n        })}\n      >\n        {member.accepted\n          ? member.permission === Permission.Owner\n            ? 'Workspace Owner'\n            : 'Member'\n          : 'Pending'}\n      </div>\n      <Menu\n        items={\n          <MenuItem data-member-id={member.id} onClick={handleRevoke}>\n            {operationButtonInfo.leaveOrRevokeText}\n          </MenuItem>\n        }\n      >\n        <IconButton\n          disabled={!operationButtonInfo.show}\n          style={{\n            visibility: operationButtonInfo.show ? 'visible' : 'hidden',\n            flexShrink: 0,\n          }}\n        >\n          <MoreVerticalIcon />\n        </IconButton>\n      </Menu>\n    </div>\n  );\n};\n\nexport const MembersPanel = (): ReactElement | null => {\n  const workspace = useService(WorkspaceService).workspace;\n  if (workspace.flavour === WorkspaceFlavour.LOCAL) {\n    return <MembersPanelLocal />;\n  }\n  return (\n    <AffineErrorBoundary>\n      <Suspense fallback={<MembersPanelFallback />}>\n        <CloudWorkspaceMembersPanel />\n      </Suspense>\n    </AffineErrorBoundary>\n  );\n};\n","import { getMemberCountByWorkspaceIdQuery } from '@affine/graphql';\n\nimport { useQuery } from '../use-query';\n\nexport function useMemberCount(workspaceId: string) {\n  const { data } = useQuery({\n    query: getMemberCountByWorkspaceIdQuery,\n    variables: {\n      workspaceId,\n    },\n  });\n\n  return data.workspace.memberCount;\n}\n","import type { Permission } from '@affine/graphql';\nimport { inviteByEmailMutation } from '@affine/graphql';\nimport { useCallback } from 'react';\n\nimport { useMutation } from '../use-mutation';\nimport { useMutateCloud } from './use-mutate-cloud';\n\nexport function useInviteMember(workspaceId: string) {\n  const { trigger, isMutating } = useMutation({\n    mutation: inviteByEmailMutation,\n  });\n  const mutate = useMutateCloud();\n  return {\n    invite: useCallback(\n      async (email: string, permission: Permission, sendInviteMail = false) => {\n        const res = await trigger({\n          workspaceId,\n          email,\n          permission,\n          sendInviteMail,\n        });\n        await mutate();\n        // return is successful\n        return res?.invite;\n      },\n      [mutate, trigger, workspaceId]\n    ),\n    isMutating,\n  };\n}\n","import { revokeMemberPermissionMutation } from '@affine/graphql';\nimport { useCallback } from 'react';\n\nimport { useMutation } from '../use-mutation';\nimport { useMutateCloud } from './use-mutate-cloud';\n\nexport function useRevokeMemberPermission(workspaceId: string) {\n  const mutate = useMutateCloud();\n  const { trigger } = useMutation({\n    mutation: revokeMemberPermissionMutation,\n  });\n\n  return useCallback(\n    async (userId: string) => {\n      const res = await trigger({\n        workspaceId,\n        userId,\n      });\n      await mutate();\n      return res;\n    },\n    [mutate, trigger, workspaceId]\n  );\n}\n","import { FlexWrapper, Input, notify, Wrapper } from '@affine/component';\nimport { Button } from '@affine/component/ui/button';\nimport { WorkspaceAvatar } from '@affine/component/workspace-avatar';\nimport { Upload } from '@affine/core/components/pure/file-upload';\nimport { useCatchEventCallback } from '@affine/core/hooks/use-catch-event-hook';\nimport { WorkspacePermissionService } from '@affine/core/modules/permissions';\nimport { validateAndReduceImage } from '@affine/core/utils/reduce-image';\nimport { UNTITLED_WORKSPACE_NAME } from '@affine/env/constant';\nimport { useI18n } from '@affine/i18n';\nimport { CameraIcon } from '@blocksuite/icons/rc';\nimport { useLiveData, useService, WorkspaceService } from '@toeverything/infra';\nimport type { KeyboardEvent } from 'react';\nimport { useCallback, useEffect, useState } from 'react';\n\nimport * as style from './style.css';\n\nexport const ProfilePanel = () => {\n  const t = useI18n();\n\n  const workspace = useService(WorkspaceService).workspace;\n  const permissionService = useService(WorkspacePermissionService);\n  const isOwner = useLiveData(permissionService.permission.isOwner$);\n  useEffect(() => {\n    permissionService.permission.revalidate();\n  }, [permissionService]);\n  const workspaceIsReady = useLiveData(workspace?.engine.rootDocState$)?.ready;\n\n  const [name, setName] = useState('');\n\n  useEffect(() => {\n    if (workspace?.docCollection) {\n      setName(workspace.docCollection.meta.name ?? UNTITLED_WORKSPACE_NAME);\n      const dispose = workspace.docCollection.meta.commonFieldsUpdated.on(\n        () => {\n          setName(workspace.docCollection.meta.name ?? UNTITLED_WORKSPACE_NAME);\n        }\n      );\n      return () => {\n        dispose.dispose();\n      };\n    } else {\n      setName(UNTITLED_WORKSPACE_NAME);\n    }\n    return;\n  }, [workspace]);\n\n  const setWorkspaceAvatar = useCallback(\n    async (file: File | null) => {\n      if (!workspace) {\n        return;\n      }\n      if (!file) {\n        workspace.docCollection.meta.setAvatar('');\n        return;\n      }\n      try {\n        const reducedFile = await validateAndReduceImage(file);\n        const blobs = workspace.docCollection.blobSync;\n        const blobId = await blobs.set(reducedFile);\n        workspace.docCollection.meta.setAvatar(blobId);\n      } catch (error) {\n        console.error(error);\n        throw error;\n      }\n    },\n    [workspace]\n  );\n\n  const setWorkspaceName = useCallback(\n    (name: string) => {\n      if (!workspace) {\n        return;\n      }\n      workspace.docCollection.meta.setName(name);\n    },\n    [workspace]\n  );\n\n  const [input, setInput] = useState<string>('');\n  useEffect(() => {\n    setInput(name);\n  }, [name]);\n\n  const handleUpdateWorkspaceName = useCallback(\n    (name: string) => {\n      setWorkspaceName(name);\n      notify.success({ title: t['Update workspace name success']() });\n    },\n    [setWorkspaceName, t]\n  );\n\n  const handleSetInput = useCallback((value: string) => {\n    setInput(value);\n  }, []);\n\n  const handleKeyUp = useCallback(\n    (e: KeyboardEvent<HTMLInputElement>) => {\n      if (e.code === 'Enter' && name !== input) {\n        handleUpdateWorkspaceName(input);\n      }\n    },\n    [handleUpdateWorkspaceName, input, name]\n  );\n\n  const handleClick = useCallback(() => {\n    handleUpdateWorkspaceName(input);\n  }, [handleUpdateWorkspaceName, input]);\n\n  const handleRemoveUserAvatar = useCatchEventCallback(async () => {\n    await setWorkspaceAvatar(null);\n  }, [setWorkspaceAvatar]);\n\n  const handleUploadAvatar = useCallback(\n    (file: File) => {\n      setWorkspaceAvatar(file)\n        .then(() => {\n          notify.success({ title: 'Update workspace avatar success' });\n        })\n        .catch(error => {\n          notify.error({\n            title: 'Update workspace avatar failed',\n            message: error,\n          });\n        });\n    },\n    [setWorkspaceAvatar]\n  );\n\n  const canAdjustAvatar = workspaceIsReady && isOwner;\n\n  return (\n    <div className={style.profileWrapper}>\n      <Upload\n        accept=\"image/gif,image/jpeg,image/jpg,image/png,image/svg\"\n        fileChange={handleUploadAvatar}\n        data-testid=\"upload-avatar\"\n        disabled={!isOwner}\n      >\n        <WorkspaceAvatar\n          meta={workspace.meta}\n          size={56}\n          name={name}\n          rounded={8}\n          colorfulFallback\n          hoverIcon={isOwner ? <CameraIcon /> : undefined}\n          onRemove={canAdjustAvatar ? handleRemoveUserAvatar : undefined}\n          avatarTooltipOptions={\n            canAdjustAvatar\n              ? { content: t['Click to replace photo']() }\n              : undefined\n          }\n          removeTooltipOptions={\n            canAdjustAvatar ? { content: t['Remove photo']() } : undefined\n          }\n          data-testid=\"workspace-setting-avatar\"\n          removeButtonProps={{\n            ['data-testid' as string]: 'workspace-setting-remove-avatar-button',\n          }}\n        />\n      </Upload>\n\n      <Wrapper marginLeft={20}>\n        <div className={style.label}>{t['Workspace Name']()}</div>\n        <FlexWrapper alignItems=\"center\" flexGrow=\"1\">\n          <Input\n            disabled={!workspaceIsReady || !isOwner}\n            value={input}\n            style={{ width: 280, height: 32 }}\n            data-testid=\"workspace-name-input\"\n            placeholder={t['Workspace Name']()}\n            maxLength={64}\n            minLength={0}\n            onChange={handleSetInput}\n            onKeyUp={handleKeyUp}\n          />\n          {input === name ? null : (\n            <Button\n              data-testid=\"save-workspace-name\"\n              onClick={handleClick}\n              style={{\n                marginLeft: '12px',\n              }}\n            >\n              {t['com.affine.editCollection.save']()}\n            </Button>\n          )}\n        </FlexWrapper>\n      </Wrapper>\n    </div>\n  );\n};\n","import {\n  SettingHeader,\n  SettingRow,\n  SettingWrapper,\n} from '@affine/component/setting-components';\nimport { useWorkspace } from '@affine/core/hooks/use-workspace';\nimport { useWorkspaceInfo } from '@affine/core/hooks/use-workspace-info';\nimport { UNTITLED_WORKSPACE_NAME } from '@affine/env/constant';\nimport { useI18n } from '@affine/i18n';\nimport { ArrowRightSmallIcon } from '@blocksuite/icons/rc';\nimport { FrameworkScope } from '@toeverything/infra';\nimport { useCallback } from 'react';\n\nimport { DeleteLeaveWorkspace } from './delete-leave-workspace';\nimport { EnableCloudPanel } from './enable-cloud';\nimport { ExportPanel } from './export';\nimport { LabelsPanel } from './labels';\nimport { MembersPanel } from './members';\nimport { ProfilePanel } from './profile';\nimport type { WorkspaceSettingDetailProps } from './types';\n\nexport const WorkspaceSettingDetail = ({\n  workspaceMetadata,\n}: WorkspaceSettingDetailProps) => {\n  const t = useI18n();\n\n  // useWorkspace hook is a vary heavy operation here, but we need syncing name and avatar changes here,\n  // we don't have a better way to do this now\n  const workspace = useWorkspace(workspaceMetadata);\n\n  const workspaceInfo = useWorkspaceInfo(workspaceMetadata);\n\n  const handleResetSyncStatus = useCallback(() => {\n    workspace?.engine.doc\n      .resetSyncStatus()\n      .then(() => {\n        window.location.reload();\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  }, [workspace]);\n\n  if (!workspace) {\n    return null;\n  }\n\n  return (\n    <FrameworkScope scope={workspace.scope}>\n      <SettingHeader\n        title={t[`Workspace Settings with name`]({\n          name: workspaceInfo?.name ?? UNTITLED_WORKSPACE_NAME,\n        })}\n        subtitle={t['com.affine.settings.workspace.description']()}\n      />\n      <SettingWrapper title={t['Info']()}>\n        <SettingRow\n          name={t['Workspace Profile']()}\n          desc={t['com.affine.settings.workspace.not-owner']()}\n          spreadCol={false}\n        >\n          <ProfilePanel />\n          <LabelsPanel />\n        </SettingRow>\n      </SettingWrapper>\n      <SettingWrapper title={t['com.affine.brand.affineCloud']()}>\n        <EnableCloudPanel />\n        <MembersPanel />\n      </SettingWrapper>\n      {environment.isDesktop && (\n        <SettingWrapper title={t['Storage and Export']()}>\n          <ExportPanel\n            workspace={workspace}\n            workspaceMetadata={workspaceMetadata}\n          />\n        </SettingWrapper>\n      )}\n      <SettingWrapper>\n        <DeleteLeaveWorkspace />\n        <SettingRow\n          name={\n            <span style={{ color: 'var(--affine-text-secondary-color)' }}>\n              {t['com.affine.resetSyncStatus.button']()}\n            </span>\n          }\n          desc={t['com.affine.resetSyncStatus.description']()}\n          style={{ cursor: 'pointer' }}\n          onClick={handleResetSyncStatus}\n          data-testid=\"reset-sync-status\"\n        >\n          <ArrowRightSmallIcon />\n        </SettingRow>\n      </SettingWrapper>\n    </FrameworkScope>\n  );\n};\n","import \"../core/src/components/affine/setting-modal/workspace-setting/properties/styles.css.ts.vanilla.css!=!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/components/affine/setting-modal/workspace-setting/properties/styles.css.ts.vanilla.css\\\",\\\"source\\\":\\\"#H4sIAAAAAAAACrVVwW7bMAy95yt4GbAeVNhpkqUq9iVDD7JF22xlSZDk2t2wfx8spYmTLIFTbCdbovz4HvlE37/U/Sp/zODXAkCSt0q8c6gUDk8LiE8myWEZyGgOpVFdq8dITzI0HPIs+zIuXzofqHpnpdEBdeBQog7onha/F/cpQz4vgzP9X/G8FSWyAkOPGAkIRbVmFLD1h2wAVkhJuuawsQNk404rXE2aFSYE03LIN3aY0FreRGt20lrYuBrfTRcUaeSgjcZxIzihPSXgQpSvtTOdlpDdLz2g8Dil90OKIFhDdaOobsJzpHv4iMObcF8ZE1VFGtkhwDyWRkvhxhoq4+4moA+3NjuqWSU118u5itAx4wk1Ko3eUwGojA7M0088g1hfhAg4BGYdtVNVR1BHx9N+G8+YN3SVMj2HhqRMDopwhwAqRdaTj+5uKCCLnhvb1jthpwxTUzqtRYvye3AdPl8kbZUosTFKojvvxOa61vMezlN7nf63mPTkAjc42osn9xbGjXSDsRxyO4A3iuSJ09KRM0XbCB6tVLuxrPkk+HhdriQvCoVzxQ5+mlj8n1Ke2H17ZNXiXwyPeLm26XLNYRTf+1271lls2E2y99Nqa4fd5QNoSbOdJZab7EhlmVp6jVrD1ncT4zghqfP7kXFWoAuVuPgT2bv1YZkQP9z6sY4V940j/Xpk4bn2/fRI/QP7B6aKPwcAAA==\\\"}!../../../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var divider = 'jgw4197';\nexport var listHeader = 'jgw4191';\nexport var main = 'jgw4190';\nexport var metaList = 'jgw4193';\nexport var propertyDocCount = 'jgw4196';\nexport var propertyIcon = 'jgw4194';\nexport var propertyName = 'jgw4195';\nexport var propertyNameIconEditable = 'jgw419c';\nexport var propertyRequired = 'jgw4199';\nexport var propertyRow = 'jgw4192';\nexport var propertyRowNamePopupRow = 'jgw419b';\nexport var spacer = 'jgw4198';\nexport var subListHeader = 'jgw419a';","import { Button, IconButton, Menu } from '@affine/component';\nimport { SettingHeader } from '@affine/component/setting-components';\nimport { useWorkspaceInfo } from '@affine/core/hooks/use-workspace-info';\nimport type { PageInfoCustomPropertyMeta } from '@affine/core/modules/properties/services/schema';\nimport { Trans, useI18n } from '@affine/i18n';\nimport {\n  DeleteIcon,\n  FilterIcon,\n  MoreHorizontalIcon,\n} from '@blocksuite/icons/rc';\nimport { FrameworkScope, type WorkspaceMetadata } from '@toeverything/infra';\nimport type { MouseEvent } from 'react';\nimport {\n  createContext,\n  Fragment,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\n\nimport { useCurrentWorkspacePropertiesAdapter } from '../../../../../hooks/use-affine-adapter';\nimport { useWorkspace } from '../../../../../hooks/use-workspace';\nimport type { PagePropertyIcon } from '../../../page-properties';\nimport {\n  nameToIcon,\n  PagePropertiesCreatePropertyMenuItems,\n  PagePropertiesMetaManager,\n} from '../../../page-properties';\nimport { ConfirmDeletePropertyModal } from '../../../page-properties/confirm-delete-property-modal';\nimport type { MenuItemOption } from '../../../page-properties/menu-items';\nimport {\n  EditPropertyNameMenuItem,\n  PropertyTypeMenuItem,\n  renderMenuItemOptions,\n} from '../../../page-properties/menu-items';\nimport * as styles from './styles.css';\n\n// @ts-expect-error this should always be set\nconst managerContext = createContext<PagePropertiesMetaManager>();\n\nconst usePagePropertiesMetaManager = () => {\n  // the workspace properties adapter adapter is reactive,\n  // which means it's reference will change when any of the properties change\n  // also it will trigger a re-render of the component\n  const adapter = useCurrentWorkspacePropertiesAdapter();\n  const manager = useMemo(() => {\n    return new PagePropertiesMetaManager(adapter);\n  }, [adapter]);\n  return manager;\n};\n\nconst Divider = () => {\n  return <div className={styles.divider} />;\n};\n\nconst EditPropertyButton = ({\n  property,\n}: {\n  property: PageInfoCustomPropertyMeta;\n}) => {\n  const t = useI18n();\n  const manager = useContext(managerContext);\n  const [localPropertyMeta, setLocalPropertyMeta] = useState(() => ({\n    ...property,\n  }));\n  useEffect(() => {\n    setLocalPropertyMeta(property);\n  }, [property]);\n  const handleToggleRequired = useCallback(() => {\n    manager.updatePropertyMeta(localPropertyMeta.id, {\n      required: !localPropertyMeta.required,\n    });\n  }, [manager, localPropertyMeta.id, localPropertyMeta.required]);\n  const handleDelete = useCallback(() => {\n    manager.removePropertyMeta(localPropertyMeta.id);\n  }, [manager, localPropertyMeta.id]);\n  const [open, setOpen] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n\n  const handleFinishEditing = useCallback(() => {\n    setOpen(false);\n    setEditing(false);\n    manager.updatePropertyMeta(localPropertyMeta.id, localPropertyMeta);\n  }, [localPropertyMeta, manager]);\n\n  const defaultMenuItems = useMemo(() => {\n    const options: MenuItemOption[] = [];\n    options.push({\n      text: t['com.affine.settings.workspace.properties.set-as-required'](),\n      onClick: handleToggleRequired,\n      checked: localPropertyMeta.required,\n    });\n    options.push('-');\n    options.push({\n      text: t['com.affine.settings.workspace.properties.edit-property'](),\n      onClick: e => {\n        e.preventDefault();\n        setEditing(true);\n      },\n    });\n    options.push({\n      text: t['com.affine.settings.workspace.properties.delete-property'](),\n      onClick: () => setShowDeleteModal(true),\n      type: 'danger',\n      icon: <DeleteIcon />,\n    });\n    return renderMenuItemOptions(options);\n  }, [handleToggleRequired, localPropertyMeta.required, t]);\n\n  const handleNameBlur = useCallback(\n    (e: string) => {\n      manager.updatePropertyMeta(localPropertyMeta.id, {\n        name: e,\n      });\n    },\n    [manager, localPropertyMeta.id]\n  );\n  const handleNameChange = useCallback((e: string) => {\n    setLocalPropertyMeta(prev => ({\n      ...prev,\n      name: e,\n    }));\n  }, []);\n  const handleIconChange = useCallback(\n    (icon: PagePropertyIcon) => {\n      setLocalPropertyMeta(prev => ({\n        ...prev,\n        icon,\n      }));\n      manager.updatePropertyMeta(localPropertyMeta.id, {\n        icon,\n      });\n    },\n    [localPropertyMeta.id, manager]\n  );\n  const editMenuItems = useMemo(() => {\n    const options: MenuItemOption[] = [];\n    options.push(\n      <EditPropertyNameMenuItem\n        property={localPropertyMeta}\n        onIconChange={handleIconChange}\n        onNameBlur={handleNameBlur}\n        onNameChange={handleNameChange}\n      />\n    );\n    options.push(<PropertyTypeMenuItem property={localPropertyMeta} />);\n    options.push('-');\n    options.push({\n      text: t['com.affine.settings.workspace.properties.delete-property'](),\n      onClick: handleDelete,\n      type: 'danger',\n      icon: <DeleteIcon />,\n    });\n    return renderMenuItemOptions(options);\n  }, [\n    handleDelete,\n    handleIconChange,\n    handleNameBlur,\n    handleNameChange,\n    localPropertyMeta,\n    t,\n  ]);\n\n  return (\n    <>\n      <Menu\n        rootOptions={{\n          open,\n          onOpenChange: handleFinishEditing,\n        }}\n        items={editing ? editMenuItems : defaultMenuItems}\n      >\n        <IconButton onClick={() => setOpen(true)} size=\"20\">\n          <MoreHorizontalIcon />\n        </IconButton>\n      </Menu>\n      <ConfirmDeletePropertyModal\n        onConfirm={() => {\n          setShowDeleteModal(false);\n          handleDelete();\n        }}\n        onCancel={() => setShowDeleteModal(false)}\n        show={showDeleteModal}\n        property={property}\n      />\n    </>\n  );\n};\n\nconst CustomPropertyRow = ({\n  property,\n  relatedPages,\n}: {\n  relatedPages: string[];\n  property: PageInfoCustomPropertyMeta;\n}) => {\n  const Icon = nameToIcon(property.icon, property.type);\n  const required = property.required;\n  const t = useI18n();\n  return (\n    <div\n      className={styles.propertyRow}\n      data-property-id={property.id}\n      data-testid=\"custom-property-row\"\n    >\n      <Icon className={styles.propertyIcon} />\n      <div data-unnamed={!property.name} className={styles.propertyName}>\n        {property.name || t['unnamed']()}\n      </div>\n      {relatedPages.length > 0 ? (\n        <div className={styles.propertyDocCount}>\n          ·{' '}\n          <Trans\n            i18nKey={\n              relatedPages.length > 1\n                ? 'com.affine.settings.workspace.properties.doc_others'\n                : 'com.affine.settings.workspace.properties.doc'\n            }\n            count={relatedPages.length}\n          >\n            <span>{{ count: relatedPages.length } as any}</span> doc\n          </Trans>\n        </div>\n      ) : null}\n      <div className={styles.spacer} />\n      {required ? (\n        <div className={styles.propertyRequired}>\n          {t['com.affine.page-properties.property.required']()}\n        </div>\n      ) : null}\n      <EditPropertyButton property={property} />\n    </div>\n  );\n};\n\nconst propertyFilterModes = ['all', 'in-use', 'unused'] as const;\ntype PropertyFilterMode = (typeof propertyFilterModes)[number];\n\nconst CustomPropertyRows = ({\n  properties,\n  statistics,\n}: {\n  properties: PageInfoCustomPropertyMeta[];\n  statistics: Map<string, Set<string>>;\n}) => {\n  return (\n    <div className={styles.metaList}>\n      {properties.map(property => {\n        const pages = [...(statistics.get(property.id) ?? [])];\n        return (\n          <Fragment key={property.id}>\n            <CustomPropertyRow property={property} relatedPages={pages} />\n            <Divider />\n          </Fragment>\n        );\n      })}\n    </div>\n  );\n};\n\nconst CustomPropertyRowsList = ({\n  filterMode,\n}: {\n  filterMode: PropertyFilterMode;\n}) => {\n  const manager = useContext(managerContext);\n  const properties = manager.getOrderedPropertiesSchema();\n  const statistics = manager.getPropertyStatistics();\n  const t = useI18n();\n\n  if (filterMode !== 'all') {\n    const filtered = properties.filter(property => {\n      const count = statistics.get(property.id)?.size ?? 0;\n      return filterMode === 'in-use' ? count > 0 : count === 0;\n    });\n\n    return <CustomPropertyRows properties={filtered} statistics={statistics} />;\n  } else {\n    const required = properties.filter(property => property.required);\n    const optional = properties.filter(property => !property.required);\n    return (\n      <>\n        {required.length > 0 ? (\n          <>\n            <div className={styles.subListHeader}>\n              {t[\n                'com.affine.settings.workspace.properties.required-properties'\n              ]()}\n            </div>\n            <CustomPropertyRows properties={required} statistics={statistics} />\n          </>\n        ) : null}\n\n        {optional.length > 0 ? (\n          <>\n            <div className={styles.subListHeader}>\n              {t[\n                'com.affine.settings.workspace.properties.general-properties'\n              ]()}\n            </div>\n            <CustomPropertyRows properties={optional} statistics={statistics} />\n          </>\n        ) : null}\n      </>\n    );\n  }\n};\n\nconst WorkspaceSettingPropertiesMain = () => {\n  const t = useI18n();\n  const manager = useContext(managerContext);\n  const [filterMode, setFilterMode] = useState<PropertyFilterMode>('all');\n  const properties = manager.getOrderedPropertiesSchema();\n  const filterMenuItems = useMemo(() => {\n    const options: MenuItemOption[] = (\n      ['all', '-', 'in-use', 'unused'] as const\n    ).map(mode => {\n      return mode === '-'\n        ? '-'\n        : {\n            text: t[`com.affine.settings.workspace.properties.${mode}`](),\n            onClick: () => setFilterMode(mode),\n            checked: filterMode === mode,\n          };\n    });\n    return renderMenuItemOptions(options);\n  }, [filterMode, t]);\n\n  const onPropertyCreated = useCallback((_e: MouseEvent, id: string) => {\n    setTimeout(() => {\n      const newRow = document.querySelector<HTMLDivElement>(\n        `[data-testid=\"custom-property-row\"][data-property-id=\"${id}\"]`\n      );\n      if (newRow) {\n        newRow.scrollIntoView({ behavior: 'smooth' });\n        newRow.dataset.highlight = '';\n        setTimeout(() => {\n          delete newRow.dataset.highlight;\n        }, 3000);\n      }\n    });\n  }, []);\n  return (\n    <div className={styles.main}>\n      <div className={styles.listHeader}>\n        {properties.length > 0 ? (\n          <Menu items={filterMenuItems}>\n            <Button prefix={<FilterIcon />}>\n              {filterMode === 'all'\n                ? t['com.affine.filter']()\n                : t[`com.affine.settings.workspace.properties.${filterMode}`]()}\n            </Button>\n          </Menu>\n        ) : null}\n        <Menu\n          items={\n            <PagePropertiesCreatePropertyMenuItems\n              onCreated={onPropertyCreated}\n              metaManager={manager}\n            />\n          }\n        >\n          <Button variant=\"primary\">\n            {t['com.affine.settings.workspace.properties.add_property']()}\n          </Button>\n        </Menu>\n      </div>\n      <CustomPropertyRowsList filterMode={filterMode} />\n    </div>\n  );\n};\n\nconst WorkspaceSettingPropertiesInner = () => {\n  const manager = usePagePropertiesMetaManager();\n  return (\n    <managerContext.Provider value={manager}>\n      <WorkspaceSettingPropertiesMain />\n    </managerContext.Provider>\n  );\n};\n\nexport const WorkspaceSettingProperties = ({\n  workspaceMetadata,\n}: {\n  workspaceMetadata: WorkspaceMetadata;\n}) => {\n  const t = useI18n();\n  const workspace = useWorkspace(workspaceMetadata);\n  const workspaceInfo = useWorkspaceInfo(workspaceMetadata);\n  const title = workspaceInfo?.name || 'untitled';\n\n  if (workspace === null) {\n    return null;\n  }\n\n  return (\n    <FrameworkScope scope={workspace.scope}>\n      <SettingHeader\n        title={t['com.affine.settings.workspace.properties.header.title']()}\n        subtitle={\n          <Trans\n            values={{\n              name: title,\n            }}\n            i18nKey=\"com.affine.settings.workspace.properties.header.subtitle\"\n          >\n            Manage workspace <strong>name</strong> properties\n          </Trans>\n        }\n      />\n      <WorkspaceSettingPropertiesInner />\n    </FrameworkScope>\n  );\n};\n","import type { WorkspaceMetadata } from '@toeverything/infra';\n\nimport type { WorkspaceSubTab } from '../types';\nimport { WorkspaceSettingDetail } from './new-workspace-setting-detail';\nimport { WorkspaceSettingProperties } from './properties';\n\nexport const WorkspaceSetting = ({\n  workspaceMetadata,\n  subTab,\n}: {\n  workspaceMetadata: WorkspaceMetadata;\n  subTab: WorkspaceSubTab;\n}) => {\n  switch (subTab) {\n    case 'preference':\n      return <WorkspaceSettingDetail workspaceMetadata={workspaceMetadata} />;\n    case 'properties':\n      return (\n        <WorkspaceSettingProperties workspaceMetadata={workspaceMetadata} />\n      );\n  }\n};\n","import { Loading, Scrollable } from '@affine/component';\nimport { WorkspaceDetailSkeleton } from '@affine/component/setting-components';\nimport type { ModalProps } from '@affine/component/ui/modal';\nimport { Modal } from '@affine/component/ui/modal';\nimport {\n  openIssueFeedbackModalAtom,\n  openStarAFFiNEModalAtom,\n} from '@affine/core/atoms';\nimport { AuthService } from '@affine/core/modules/cloud';\nimport { Trans } from '@affine/i18n';\nimport { ContactWithUsIcon } from '@blocksuite/icons/rc';\nimport {\n  useLiveData,\n  useService,\n  type WorkspaceMetadata,\n} from '@toeverything/infra';\nimport { useSetAtom } from 'jotai';\nimport { debounce } from 'lodash-es';\nimport {\n  Suspense,\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n} from 'react';\n\nimport { AccountSetting } from './account-setting';\nimport { settingModalScrollContainerAtom } from './atoms';\nimport { GeneralSetting } from './general-setting';\nimport { SettingSidebar } from './setting-sidebar';\nimport * as style from './style.css';\nimport type { ActiveTab, GeneralSettingKey, WorkspaceSubTab } from './types';\nimport { GeneralSettingKeys } from './types';\nimport { WorkspaceSetting } from './workspace-setting';\n\nexport interface SettingProps extends ModalProps {\n  activeTab: ActiveTab;\n  workspaceMetadata?: WorkspaceMetadata | null;\n  onSettingClick: (params: {\n    activeTab: ActiveTab;\n    workspaceMetadata: WorkspaceMetadata | null;\n  }) => void;\n}\n\nconst isGeneralSetting = (key: string): key is GeneralSettingKey =>\n  GeneralSettingKeys.includes(key as GeneralSettingKey);\n\nconst CenteredLoading = () => {\n  return (\n    <div className={style.centeredLoading}>\n      <Loading size={24} />\n    </div>\n  );\n};\n\nconst SettingModalInner = ({\n  activeTab = 'appearance',\n  workspaceMetadata = null,\n  onSettingClick,\n  ...modalProps\n}: SettingProps) => {\n  const loginStatus = useLiveData(useService(AuthService).session.status$);\n\n  const modalContentRef = useRef<HTMLDivElement>(null);\n  const modalContentWrapperRef = useRef<HTMLDivElement>(null);\n  const setSettingModalScrollContainer = useSetAtom(\n    settingModalScrollContainerAtom\n  );\n\n  useLayoutEffect(() => {\n    if (!modalProps.open) return;\n    let animationFrameId: number;\n    const onResize = debounce(() => {\n      cancelAnimationFrame(animationFrameId);\n      animationFrameId = requestAnimationFrame(() => {\n        if (!modalContentRef.current || !modalContentWrapperRef.current) return;\n\n        const wrapperWidth = modalContentWrapperRef.current.offsetWidth;\n        const wrapperHeight = modalContentWrapperRef.current.offsetHeight;\n        const contentWidth = modalContentRef.current.offsetWidth;\n\n        const wrapper = modalContentWrapperRef.current;\n\n        wrapper?.style.setProperty(\n          '--setting-modal-width',\n          `${wrapperWidth}px`\n        );\n        wrapper?.style.setProperty(\n          '--setting-modal-height',\n          `${wrapperHeight}px`\n        );\n        wrapper?.style.setProperty(\n          '--setting-modal-content-width',\n          `${contentWidth}px`\n        );\n        wrapper?.style.setProperty(\n          '--setting-modal-gap-x',\n          `${(wrapperWidth - contentWidth) / 2}px`\n        );\n      });\n    }, 200);\n    window.addEventListener('resize', onResize);\n    onResize();\n\n    return () => {\n      cancelAnimationFrame(animationFrameId);\n      window.removeEventListener('resize', onResize);\n    };\n  }, [modalProps.open]);\n\n  useEffect(() => {\n    setSettingModalScrollContainer(modalContentWrapperRef.current);\n    return () => {\n      setSettingModalScrollContainer(null);\n    };\n  }, [setSettingModalScrollContainer]);\n\n  const onTabChange = useCallback(\n    (key: ActiveTab, meta: WorkspaceMetadata | null) => {\n      onSettingClick({ activeTab: key, workspaceMetadata: meta });\n    },\n    [onSettingClick]\n  );\n  const setOpenIssueFeedbackModal = useSetAtom(openIssueFeedbackModalAtom);\n  const setOpenStarAFFiNEModal = useSetAtom(openStarAFFiNEModalAtom);\n\n  const handleOpenIssueFeedbackModal = useCallback(() => {\n    setOpenIssueFeedbackModal(true);\n  }, [setOpenIssueFeedbackModal]);\n\n  const handleOpenStarAFFiNEModal = useCallback(() => {\n    setOpenStarAFFiNEModal(true);\n  }, [setOpenStarAFFiNEModal]);\n\n  return (\n    <>\n      <SettingSidebar\n        activeTab={activeTab}\n        onTabChange={onTabChange}\n        selectedWorkspaceId={workspaceMetadata?.id ?? null}\n      />\n      <Scrollable.Root>\n        <Scrollable.Viewport\n          data-testid=\"setting-modal-content\"\n          className={style.wrapper}\n          ref={modalContentWrapperRef}\n        >\n          <div ref={modalContentRef} className={style.centerContainer}>\n            <div className={style.content}>\n              <Suspense fallback={<WorkspaceDetailSkeleton />}>\n                {activeTab.startsWith('workspace:') && workspaceMetadata ? (\n                  <WorkspaceSetting\n                    subTab={activeTab.split(':')[1] as WorkspaceSubTab}\n                    key={workspaceMetadata.id}\n                    workspaceMetadata={workspaceMetadata}\n                  />\n                ) : null}\n                {isGeneralSetting(activeTab) ? (\n                  <GeneralSetting generalKey={activeTab} />\n                ) : null}\n                {activeTab === 'account' && loginStatus === 'authenticated' ? (\n                  <AccountSetting />\n                ) : null}\n              </Suspense>\n            </div>\n            <div className={style.footer}>\n              <ContactWithUsIcon fontSize={16} />\n              <Trans\n                i18nKey={'com.affine.settings.suggestion-2'}\n                components={{\n                  1: (\n                    <span\n                      className={style.link}\n                      onClick={handleOpenStarAFFiNEModal}\n                    />\n                  ),\n                  2: (\n                    <span\n                      className={style.link}\n                      onClick={handleOpenIssueFeedbackModal}\n                    />\n                  ),\n                }}\n              />\n            </div>\n          </div>\n          <Scrollable.Scrollbar />\n        </Scrollable.Viewport>\n      </Scrollable.Root>\n    </>\n  );\n};\n\nexport const SettingModal = ({\n  activeTab = 'appearance',\n  workspaceMetadata = null,\n  onSettingClick,\n  ...modalProps\n}: SettingProps) => {\n  return (\n    <Modal\n      width={1280}\n      height={920}\n      contentOptions={{\n        ['data-testid' as string]: 'setting-modal',\n        style: {\n          maxHeight: '85vh',\n          maxWidth: '70vw',\n          padding: 0,\n          overflow: 'hidden',\n          display: 'flex',\n        },\n      }}\n      {...modalProps}\n    >\n      <Suspense fallback={<CenteredLoading />}>\n        <SettingModalInner\n          activeTab={activeTab}\n          workspaceMetadata={workspaceMetadata}\n          onSettingClick={onSettingClick}\n          {...modalProps}\n        />\n      </Suspense>\n    </Modal>\n  );\n};\n","import { OverlayModal } from '@affine/component';\nimport { openStarAFFiNEModalAtom } from '@affine/core/atoms';\nimport { useI18n } from '@affine/i18n';\nimport { useAtom } from 'jotai';\n\nexport const StarAFFiNEModal = () => {\n  const t = useI18n();\n  const [open, setOpen] = useAtom(openStarAFFiNEModalAtom);\n\n  return (\n    <OverlayModal\n      open={open}\n      topImage={\n        <video\n          width={400}\n          height={300}\n          style={{ objectFit: 'cover' }}\n          src={'/static/githubStar.mp4'}\n          autoPlay\n          loop\n        />\n      }\n      title={t['com.affine.star-affine.title']()}\n      onOpenChange={setOpen}\n      description={t['com.affine.star-affine.description']()}\n      cancelText={t['com.affine.star-affine.cancel']()}\n      to={runtimeConfig.githubUrl}\n      confirmButtonOptions={{\n        variant: 'primary',\n      }}\n      confirmText={t['com.affine.star-affine.confirm']()}\n      external\n    />\n  );\n};\n","import \"../core/src/modules/find-in-page/view/find-in-page-modal.css.ts.vanilla.css!=!../../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/modules/find-in-page/view/find-in-page-modal.css.ts.vanilla.css\\\",\\\"source\\\":\\\"#H4sIAAAAAAAACrVV227iMBB95yv8UgkkjBJKW2q0Un9jtapWgz2B2Tp2ZBsIXfXfV3ECCYEiWmnffJk5c2Y8Z/zyhvvMQY6e/U6fnExNyv4OGMuczeOCMVuApLAXLFnEfXBgfGZdLuqlhoA/h3x6N2JegsZhMnl+HFW2HwPGgu3DpNdgkgNI2iB8DF7OKE4j5DnytwheyvSrFCcNsfsIVFhPgawRLKMSVWVExmNoCC5Bvq2c3RjFpdXWNeAFODShMnjnZBSWgm3BDTmHLCODvDnluVWgR4tO1NktURX5QsNesExjWR2AppXhFDD39SH3AVwk8GfjA2V7Lq0JaEJzjUbdzo4xR6t1EGw6L2K4YAvB5km1aZk/ROY7UmEt2CxJatM11q6zxvW8YCehO9d2i07DnhdgUNfGkcvSOoWOO1C08YIdcG3J/RqU3fUQ60N+H31zMrzPyG6CJoOCGWvwYnVXUBzjnFRaognoLlbZFyCRLzHsEE1LW7Bk8lCUzFtNqpd6nVebaAFKkVnF0CydFmVcNDxufbkdac3lGswKRauB8UEeJw/4S0GAqnMC/oiZoXods8+vyaxe46ODoRzqfj0OnppXs01GTG6WJPkS3wndMJnMpmOWjKtqzMesFt8RhWcV6dwqFCyzbgdO+c+JlhSu8CwpXKE5/Z80H2PQ61ptO6i6jsOqBXiqp7c1gXt6R8GmjaguKYekNZ3m2aILJEHzGE6wnJTS2EWff4leVwNHqq2876f1VTu4HGoItMWTTk5auZ6IeNYfDr3kdmsKyNNk1FVSepOOOglPQFaMYt5dq16wwlEObn8B4fl7L3pbmdow0PsDYOmt3oReKfufwiFGmiR3i3YSH7aXvqc25LIJSRV5jls0wR8mYsdKiEKDxLXVCl10uVTAgGW4UkV53dGjtEZ1XU80cOIQz0sfbTYeHfeoUYZz5qr7OR1eof8q9ce5dmTeDt97v9UW11tHwx5d04EnOatJ1dvViOh2X6f9WcKSWgZdp2asdH00ZqH9q3pAEaKGWww+/gGr/KDlEAoAAA==\\\"}!../../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var animationTimeout = 'var(--_17rc1n0)';\nexport var arrowButton = '_17rc1nd';\nexport var count = '_17rc1nc';\nexport var input = '_17rc1na';\nexport var inputContainer = '_17rc1n8';\nexport var inputHack = '_17rc1nb _17rc1na';\nexport var inputMain = '_17rc1n9';\nexport var leftContent = '_17rc1n6';\nexport var modalContent = '_17rc1n5';\nexport var modalContentWrapper = '_17rc1n4';\nexport var modalOverlay = '_17rc1n3';\nexport var searchIcon = '_17rc1n7';","import { IconButton, observeResize } from '@affine/component';\nimport {\n  ArrowDownSmallIcon,\n  ArrowUpSmallIcon,\n  CloseIcon,\n  SearchIcon,\n} from '@blocksuite/icons/rc';\nimport * as Dialog from '@radix-ui/react-dialog';\nimport { useLiveData, useService } from '@toeverything/infra';\nimport { assignInlineVars } from '@vanilla-extract/dynamic';\nimport clsx from 'clsx';\nimport {\n  type ChangeEventHandler,\n  type CompositionEventHandler,\n  type KeyboardEventHandler,\n  type SetStateAction,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { useTransition } from 'react-transition-state';\n\nimport { FindInPageService } from '../services/find-in-page';\nimport * as styles from './find-in-page-modal.css';\n\nconst animationTimeout = 120;\n\nconst drawText = (\n  canvas: HTMLCanvasElement,\n  text: string,\n  scrollLeft: number\n) => {\n  const ctx = canvas.getContext('2d');\n  if (!ctx) {\n    return;\n  }\n\n  const dpr = window.devicePixelRatio || 1;\n  canvas.width = canvas.getBoundingClientRect().width * dpr;\n  canvas.height = canvas.getBoundingClientRect().height * dpr;\n\n  const rootStyles = getComputedStyle(document.documentElement);\n  const textColor = rootStyles\n    .getPropertyValue('--affine-text-primary-color')\n    .trim();\n\n  ctx.scale(dpr, dpr);\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.fillStyle = textColor;\n  ctx.font = '15px Inter';\n\n  const offsetX = -scrollLeft; // Offset based on scrollLeft\n\n  ctx.fillText(text, offsetX, 22);\n\n  ctx.textAlign = 'left';\n  ctx.textBaseline = 'middle';\n};\n\nconst CanvasText = ({\n  text,\n  scrollLeft,\n  className,\n}: {\n  text: string;\n  scrollLeft: number;\n  className: string;\n}) => {\n  const ref = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    const canvas = ref.current;\n    if (!canvas) {\n      return;\n    }\n    drawText(canvas, text, scrollLeft);\n    return observeResize(canvas, () => drawText(canvas, text, scrollLeft));\n  }, [text, scrollLeft]);\n\n  return <canvas className={className} ref={ref} />;\n};\n\nexport const FindInPageModal = () => {\n  const [value, setValue] = useState('');\n\n  const findInPage = useService(FindInPageService).findInPage;\n  const visible = useLiveData(findInPage.visible$);\n  const result = useLiveData(findInPage.result$);\n  const isSearching = useLiveData(findInPage.isSearching$);\n\n  const inputRef = useRef<HTMLInputElement>(null);\n  const [active, setActive] = useState(false);\n  const [scrollLeft, setScrollLeft] = useState(0);\n  const [composing, setComposing] = useState(false);\n\n  const [{ status }, toggle] = useTransition({\n    timeout: animationTimeout,\n  });\n\n  useEffect(() => {\n    toggle(visible);\n  }, [visible]);\n\n  const handleValueChange: ChangeEventHandler<HTMLInputElement> = useCallback(\n    e => {\n      const value = e.target.value;\n      setValue(value);\n      if (!composing) {\n        findInPage.findInPage(value);\n      }\n      if (value.length === 0) {\n        findInPage.clear();\n      }\n      inputRef.current?.focus();\n    },\n    [composing, findInPage]\n  );\n\n  const handleFocus = useCallback(() => {\n    setActive(true);\n  }, []);\n\n  const handleBlur = useCallback(() => {\n    setActive(false);\n  }, []);\n\n  useEffect(() => {\n    if (visible) {\n      setValue(findInPage.searchText$.value || '');\n      const onEsc = (e: KeyboardEvent) => {\n        if (e.key === 'Escape') {\n          findInPage.onChangeVisible(false);\n        }\n      };\n      window.addEventListener('keydown', onEsc);\n      return () => {\n        window.removeEventListener('keydown', onEsc);\n      };\n    }\n    return () => {};\n  }, [findInPage, findInPage.searchText$.value, visible]);\n\n  useEffect(() => {\n    const unsub = findInPage.isSearching$.subscribe(() => {\n      inputRef.current?.focus();\n      setTimeout(() => {\n        inputRef.current?.focus();\n      });\n    });\n\n    return () => {\n      unsub.unsubscribe();\n    };\n  }, [findInPage.isSearching$]);\n\n  const handleBackWard = useCallback(() => {\n    findInPage.backward();\n  }, [findInPage]);\n\n  const handleForward = useCallback(() => {\n    findInPage.forward();\n  }, [findInPage]);\n\n  const onChangeVisible = useCallback(\n    (visible: boolean) => {\n      if (!visible) {\n        findInPage.clear();\n      }\n      findInPage.onChangeVisible(visible);\n    },\n    [findInPage]\n  );\n  const handleDone = useCallback(() => {\n    onChangeVisible(false);\n  }, [onChangeVisible]);\n\n  const handleKeydown: KeyboardEventHandler = useCallback(\n    e => {\n      if (e.key === 'Enter' || e.key === 'ArrowDown') {\n        handleForward();\n      }\n      if (e.key === 'ArrowUp') {\n        handleBackWard();\n      }\n    },\n    [handleBackWard, handleForward]\n  );\n\n  const handleScroll = useCallback(\n    (e: { currentTarget: { scrollLeft: SetStateAction<number> } }) => {\n      setScrollLeft(e.currentTarget.scrollLeft);\n    },\n    []\n  );\n\n  const handleCompositionStart: CompositionEventHandler<HTMLInputElement> =\n    useCallback(() => {\n      setComposing(true);\n    }, []);\n\n  const handleCompositionEnd: CompositionEventHandler<HTMLInputElement> =\n    useCallback(\n      e => {\n        setComposing(false);\n        findInPage.findInPage(e.currentTarget.value);\n      },\n      [findInPage]\n    );\n\n  return (\n    <Dialog.Root open={status !== 'exited'}>\n      <Dialog.Portal>\n        <Dialog.Overlay className={styles.modalOverlay} />\n        <div className={styles.modalContentWrapper}>\n          <Dialog.Content\n            style={assignInlineVars({\n              [styles.animationTimeout]: `${animationTimeout}ms`,\n            })}\n            className={styles.modalContent}\n            data-state={status}\n          >\n            <div\n              className={clsx(styles.inputContainer, {\n                active: active || isSearching,\n              })}\n            >\n              <SearchIcon className={styles.searchIcon} />\n              <div className={styles.inputMain}>\n                <input\n                  type=\"text\"\n                  autoFocus\n                  value={value}\n                  ref={inputRef}\n                  style={{\n                    visibility: isSearching ? 'hidden' : 'visible',\n                  }}\n                  onBlur={handleBlur}\n                  onFocus={handleFocus}\n                  className={styles.input}\n                  onKeyDown={handleKeydown}\n                  onChange={handleValueChange}\n                  onScroll={handleScroll}\n                  onCompositionStart={handleCompositionStart}\n                  onCompositionEnd={handleCompositionEnd}\n                />\n                <CanvasText\n                  className={styles.inputHack}\n                  text={value}\n                  scrollLeft={scrollLeft}\n                />\n              </div>\n              <div className={styles.count}>\n                {value.length > 0 && result && result.matches !== 0 ? (\n                  <>\n                    <span>{result?.activeMatchOrdinal || 0}</span>\n                    <span>/</span>\n                    <span>{result?.matches || 0}</span>\n                  </>\n                ) : value.length ? (\n                  <span>No matches</span>\n                ) : null}\n              </div>\n            </div>\n\n            <div>\n              <IconButton\n                size=\"24\"\n                className={clsx(styles.arrowButton, 'backward')}\n                onClick={handleBackWard}\n                icon={<ArrowUpSmallIcon />}\n              />\n              <IconButton\n                size=\"24\"\n                className={clsx(styles.arrowButton, 'forward')}\n                onClick={handleForward}\n                icon={<ArrowDownSmallIcon />}\n              />\n            </div>\n\n            <IconButton onClick={handleDone} icon={<CloseIcon />} />\n          </Dialog.Content>\n        </div>\n      </Dialog.Portal>\n    </Dialog.Root>\n  );\n};\n","import { notify } from '@affine/component';\nimport { events } from '@affine/electron-api';\nimport { WorkspaceFlavour } from '@affine/env/workspace';\nimport {\n  useLiveData,\n  useService,\n  useServiceOptional,\n  WorkspaceService,\n  WorkspacesService,\n} from '@toeverything/infra';\nimport { useAtom } from 'jotai';\nimport type { ReactElement } from 'react';\nimport { useCallback, useEffect } from 'react';\n\nimport type { SettingAtom } from '../atoms';\nimport {\n  authAtom,\n  openCreateWorkspaceModalAtom,\n  openSettingModalAtom,\n  openSignOutModalAtom,\n} from '../atoms';\nimport { AuthModal as Auth } from '../components/affine/auth';\nimport { AiLoginRequiredModal } from '../components/affine/auth/ai-login-required';\nimport { CreateWorkspaceModal } from '../components/affine/create-workspace-modal';\nimport { HistoryTipsModal } from '../components/affine/history-tips-modal';\nimport { IssueFeedbackModal } from '../components/affine/issue-feedback-modal';\nimport {\n  CloudQuotaModal,\n  LocalQuotaModal,\n} from '../components/affine/quota-reached-modal';\nimport { SettingModal } from '../components/affine/setting-modal';\nimport { SignOutModal } from '../components/affine/sign-out-modal';\nimport { StarAFFiNEModal } from '../components/affine/star-affine-modal';\nimport { MoveToTrash } from '../components/page-list';\nimport { useTrashModalHelper } from '../hooks/affine/use-trash-modal-helper';\nimport { useAsyncCallback } from '../hooks/affine-async-hooks';\nimport { useNavigateHelper } from '../hooks/use-navigate-helper';\nimport { AuthService } from '../modules/cloud/services/auth';\nimport { FindInPageModal } from '../modules/find-in-page/view/find-in-page-modal';\nimport { PeekViewManagerModal } from '../modules/peek-view';\nimport { WorkspaceSubPath } from '../shared';\n\nexport const Setting = () => {\n  const [{ open, workspaceMetadata, activeTab }, setOpenSettingModalAtom] =\n    useAtom(openSettingModalAtom);\n\n  const onSettingClick = useCallback(\n    ({\n      activeTab,\n      workspaceMetadata,\n    }: Pick<SettingAtom, 'activeTab' | 'workspaceMetadata'>) => {\n      setOpenSettingModalAtom(prev => ({\n        ...prev,\n        activeTab,\n        workspaceMetadata,\n      }));\n    },\n    [setOpenSettingModalAtom]\n  );\n\n  const onOpenChange = useCallback(\n    (open: boolean) => {\n      setOpenSettingModalAtom(prev => ({ ...prev, open }));\n    },\n    [setOpenSettingModalAtom]\n  );\n\n  useEffect(() => {\n    if (environment.isDesktop) {\n      return events?.applicationMenu.openAboutPageInSettingModal(() =>\n        setOpenSettingModalAtom({\n          activeTab: 'about',\n          open: true,\n        })\n      );\n    }\n    return;\n  }, [setOpenSettingModalAtom]);\n\n  if (!open) {\n    return null;\n  }\n\n  return (\n    <SettingModal\n      open={open}\n      activeTab={activeTab}\n      workspaceMetadata={workspaceMetadata}\n      onSettingClick={onSettingClick}\n      onOpenChange={onOpenChange}\n    />\n  );\n};\n\nexport const AuthModal = (): ReactElement => {\n  const [\n    { openModal, state, email = '', emailType = 'changePassword' },\n    setAuthAtom,\n  ] = useAtom(authAtom);\n\n  return (\n    <Auth\n      open={openModal}\n      state={state}\n      email={email}\n      emailType={emailType}\n      setEmailType={useCallback(\n        emailType => {\n          setAuthAtom(prev => ({ ...prev, emailType }));\n        },\n        [setAuthAtom]\n      )}\n      setOpen={useCallback(\n        open => {\n          setAuthAtom(prev => ({ ...prev, openModal: open }));\n        },\n        [setAuthAtom]\n      )}\n      setAuthState={useCallback(\n        state => {\n          setAuthAtom(prev => ({ ...prev, state }));\n        },\n        [setAuthAtom]\n      )}\n      setAuthEmail={useCallback(\n        email => {\n          setAuthAtom(prev => ({ ...prev, email }));\n        },\n        [setAuthAtom]\n      )}\n    />\n  );\n};\n\nexport function CurrentWorkspaceModals() {\n  const currentWorkspace = useService(WorkspaceService).workspace;\n\n  const { trashModal, setTrashModal, handleOnConfirm } = useTrashModalHelper(\n    currentWorkspace.docCollection\n  );\n  const deletePageTitles = trashModal.pageTitles;\n  const trashConfirmOpen = trashModal.open;\n  const onTrashConfirmOpenChange = useCallback(\n    (open: boolean) => {\n      setTrashModal({\n        ...trashModal,\n        open,\n      });\n    },\n    [trashModal, setTrashModal]\n  );\n\n  return (\n    <>\n      <StarAFFiNEModal />\n      <IssueFeedbackModal />\n      {currentWorkspace ? <Setting /> : null}\n      {currentWorkspace?.flavour === WorkspaceFlavour.LOCAL && (\n        <>\n          <LocalQuotaModal />\n          <HistoryTipsModal />\n        </>\n      )}\n      {currentWorkspace?.flavour === WorkspaceFlavour.AFFINE_CLOUD && (\n        <CloudQuotaModal />\n      )}\n      <AiLoginRequiredModal />\n      <PeekViewManagerModal />\n      {environment.isDesktop && <FindInPageModal />}\n      <MoveToTrash.ConfirmModal\n        open={trashConfirmOpen}\n        onConfirm={handleOnConfirm}\n        onOpenChange={onTrashConfirmOpenChange}\n        titles={deletePageTitles}\n      />\n    </>\n  );\n}\n\nexport const SignOutConfirmModal = () => {\n  const { openPage } = useNavigateHelper();\n  const authService = useService(AuthService);\n  const [open, setOpen] = useAtom(openSignOutModalAtom);\n  const currentWorkspace = useServiceOptional(WorkspaceService)?.workspace;\n  const workspaces = useLiveData(\n    useService(WorkspacesService).list.workspaces$\n  );\n\n  const onConfirm = useAsyncCallback(async () => {\n    setOpen(false);\n    try {\n      await authService.signOut();\n    } catch (err) {\n      console.error(err);\n      // TODO(@eyhn): i18n\n      notify.error({\n        title: 'Failed to sign out',\n      });\n    }\n\n    // if current workspace is affine cloud, switch to local workspace\n    if (currentWorkspace?.flavour === WorkspaceFlavour.AFFINE_CLOUD) {\n      const localWorkspace = workspaces.find(\n        w => w.flavour === WorkspaceFlavour.LOCAL\n      );\n      if (localWorkspace) {\n        openPage(localWorkspace.id, WorkspaceSubPath.ALL);\n      }\n    }\n  }, [authService, currentWorkspace, openPage, setOpen, workspaces]);\n\n  return (\n    <SignOutModal open={open} onOpenChange={setOpen} onConfirm={onConfirm} />\n  );\n};\n\nexport const AllWorkspaceModals = (): ReactElement => {\n  const [isOpenCreateWorkspaceModal, setOpenCreateWorkspaceModal] = useAtom(\n    openCreateWorkspaceModalAtom\n  );\n\n  const { jumpToSubPath, jumpToPage } = useNavigateHelper();\n\n  return (\n    <>\n      <CreateWorkspaceModal\n        mode={isOpenCreateWorkspaceModal}\n        onClose={useCallback(() => {\n          setOpenCreateWorkspaceModal(false);\n        }, [setOpenCreateWorkspaceModal])}\n        onCreate={useCallback(\n          (id, defaultDocId) => {\n            setOpenCreateWorkspaceModal(false);\n            // if jumping immediately, the page may stuck in loading state\n            // not sure why yet .. here is a workaround\n            setTimeout(() => {\n              if (!defaultDocId) {\n                jumpToSubPath(id, WorkspaceSubPath.ALL);\n              } else {\n                jumpToPage(id, defaultDocId);\n              }\n            });\n          },\n          [jumpToPage, jumpToSubPath, setOpenCreateWorkspaceModal]\n        )}\n      />\n      <AuthModal />\n      <SignOutConfirmModal />\n    </>\n  );\n};\n"],"names":["useLanguageHelper","i18n","useI18n","currentLanguage","useMemo","LOCALES","find","item","tag","language","languagesList","map","originalName","name","Completeness","completeRate","onLanguageChange","useAsyncCallback","event","changeLanguage","useEffect","document","documentElement","lang","useWorkspace","meta","workspaceManager","useService","WorkspacesService","workspace","setWorkspace","useState","ref","open","metadata","dispose","subTitle","logger","DebugLogger","NameWorkspaceContent","loading","onConfirmName","props","t","workspaceName","setWorkspaceName","enable","setEnable","session","AuthService","loginStatus","useLiveData","status$","setOpenSignIn","useSetAtom","authAtom","openSignInModal","useCallback","state","openModal","onSwitchChange","checked","handleCreateWorkspace","WorkspaceFlavour","AFFINE_CLOUD","LOCAL","handleKeyDown","key","ConfirmModal","defaultOpen","title","description","cancelText","confirmText","confirmButtonOptions","variant","disabled","closeButtonOptions","onConfirm","div","className","Avatar","size","colorfulFallback","styles","Input","autoFocus","data-testid","onKeyDown","placeholder","maxLength","minLength","onChange","span","Switch","CloudSvg","a","href","runtimeConfig","target","rel","CreateWorkspaceModal","mode","onClose","onCreate","step","setStep","workspacesService","setLoading","useLayoutEffect","canceled","apis","info","undefined","result","dialog","loadDBFile","workspaceId","_addLocalWorkspace","list","revalidate","error","toast","catch","err","console","workspaceFlavour","track","$","createWorkspace","flavour","defaultDocId","buildShowcaseWorkspace","id","onOpenChange","Modal","width","contentOptions","style","padding","TopSvg","svg","height","viewBox","fill","xmlns","g","clipPath","filter","rect","y","cssVar","x","rx","shapeRendering","path","fillRule","clipRule","d","stroke","defs","filterUnits","colorInterpolationFilters","feFlood","floodOpacity","feColorMatrix","in","type","values","feOffset","feGaussianBlur","stdDeviation","feComposite","in2","operator","feBlend","feMorphology","radius","k2","k3","transform","HistoryTipsModal","currentWorkspace","WorkspaceService","setOpen","useAtom","openHistoryTipsModalAtom","confirmEnableCloud","useEnableCloud","handleConfirm","OverlayModal","topImage","IssueFeedbackModal","openIssueFeedbackModalAtom","video","objectFit","src","autoPlay","loop","to","external","CloudQuotaModal","openQuotaModalAtom","workspaceQuotaService","WorkspaceQuotaService","quota","workspaceQuota","quota$","permissionService","WorkspacePermissionService","isOwner","permission","isOwner$","quotaService","UserQuotaService","userQuota","q","humanReadable","blobLimit","isFreePlanOwner","setSettingModalAtom","openSettingModalAtom","handleUpgradeConfirm","activeTab","scrollAnchor","paywall","storage","viewPlans","planName","currentQuota","upgradeQuota","toLowerCase","engine","blob","singleBlobSizeLimit","bytes","toString","disposable","onAbortLargeBlob","on","cancelButtonOptions","hidden","LocalQuotaModal","SettingHeader","subtitle","otherProps","SettingRow","desc","children","onClick","spreadCol","clsx","SettingWrapper","WorkspaceDetailSkeleton","Skeleton","Array","from","length","_","index","WorkspaceListItemSkeleton","FlexWrapper","alignItems","marginBottom","marginRight","flexGrow","WorkspaceListSkeleton","Upload","fileChange","accept","input_ref","useRef","Button","display","current","click","input","files","e","value","AICancel","isMutating","setMutating","idempotencyKey","setIdempotencyKey","nanoid","subscription","SubscriptionService","authService","openConfirmModal","useConfirmModal","downgradeNotify","useDowngradeNotify","cancel","aiSubscription","ai$","settingsPanel","plans","cancelSubscription","plan","SubscriptionPlan","AI","recurring","reverseFooter","confirmCancelingSubscription","account","account$","prevRecurring","getDowngradeQuestionnaireLink","email","btnProps","AILogin","onClickSignIn","AIResume","setIsMutating","resume","resumeSubscription","confirmResumingSubscription","notify","icon","SingleSelectSelectSolidIcon","iconColor","message","AISubscribe","displayedFrequency","isOpenedExternalWindow","setOpenedExternalWindow","subscriptionService","price","prices","aiPrice$","window","addEventListener","removeEventListener","subscribe","checkout","SubscriptionRecurring","Yearly","createCheckoutSession","coupon","successCallbackLink","generateSubscriptionCallbackLink","popupWindow","yearlyAmount","borderRadius","priceReadable","toFixed","priceFrequency","fontSize","opacity","letterSpacing","paddingLeft","storageProgressBar","storageProgressContainer","storageProgressWrapper","AIUsagePanel","setOpenSettingModal","serverConfigService","ServerConfigService","hasPaymentFeature","serverConfig","features$","f","payment","copilotQuotaService","UserCopilotQuotaService","copilotQuota","copilotActionLimit","copilotActionLimit$","copilotActionUsed","copilotActionUsed$","loadError","error$","openBilling","accountUsage","ErrorMessage","percent","Math","min","max","Number","color","canceledAt","used","limit","backgroundColor","ButtonType","StorageProgress","onUpgrade","color$","usedFormatted","usedFormatted$","maxFormatted","maxFormatted$","percent$","proSubscription","pro$","isFreeUser","quotaName","buttonType","Tooltip","options","content","tabIndex","UserAvatar","useEnsureLiveData","handleUpdateUserAvatar","file","accountSettings","uploadAvatar","success","String","handleRemoveUserAvatar","useCatchEventCallback","removeAvatar","label","url","avatar","hoverIcon","CameraIcon","onRemove","avatarTooltipOptions","removeTooltipOptions","removeButtonProps","AvatarAndName","setInput","allowUpdate","handleUpdateUserName","updateUserName","updateLabel","margin","defaultValue","onEnter","marginLeft","StoragePanel","Pro","AccountSetting","useServices","serverFeatures","setAuthModal","setSignOutModal","openSignOutModalAtom","onChangeEmail","emailType","emailVerified","onPasswordButtonClick","hasPassword","onOpenSignOutModal","copilot","cursor","ArrowRightSmallIcon","settingModalScrollContainerAtom","atom","relatedLinks","GithubIcon","link","TwitterIcon","DiscordIcon","YouTubeIcon","linearGradient","x1","y1","x2","y2","gradientUnits","stop","stopColor","offset","TelegramIcon","RedditIcon","CheckUpdateStatus","useUpdateStatusLabels","updateAvailable","downloadProgress","updateReady","checkingForUpdates","useAppUpdater","buttonLabel","checkUpdateStatus","subtitleLabel","version","active","Loading","UpdateCheckSection","checkForUpdates","downloadUpdate","quitAndInstall","setCheckUpdateStatus","asyncCheckForUpdates","statusCheck","status","handleClick","AboutAffine","appSettings","updateSettings","useAppSettingHelper","toggleAutoCheck","toggleAutoDownload","channel","appIcon","appIconMap","appName","appNames","onSwitchAutoCheck","onSwitchAutoDownload","onSwitchTelemetry","mixpanel","opt_in_tracking","opt_out_tracking","img","alt","environment","isDesktop","autoCheckUpdate","autoDownloadUpdate","enableTelemetry","OpenInNewIcon","p","LanguageMenuContent","memo","option","selected","MenuItem","onSelect","endFix","data-selected","DoneIcon","LanguageMenu","Menu","items","align","MenuTrigger","textTransform","fontWeight","block","settingWrapper","ThemeSettings","setTheme","theme","useTheme","radioItems","testId","RadioGroup","FontFamilySettings","fontStyleOptions","fontFamily","fontStyle","AppearanceSettings","clientBorder","fullWidthLayout","enableNoisyBackground","isMacOs","enableBlurBackground","SWRErrorBoundary","onReset","onError","errorsRef","cache","useSWRConfig","clearErrorCache","React","errors","keys","get","includes","delete","onResetWithSWR","details","onErrorWithSWR","push","ErrorBoundary","downgradeContent","planAction","recurringToggleRecurring","resumeContent","textEmphasis","ConfirmLoadingModal","confirmed","contentText","DowngradeModal","onCancel","footer","DialogTrigger","asChild","CancelAction","downgrade","isRevalidating$","waitFor","v","ResumeAction","bgAFFiNERaw","bgIconsRaw","BelieverCard","attrs","data-type","dangerouslySetInnerHTML","__html","li","BelieverBenefits","ul","AfFiNeIcon","capacity","billingFrequency","currentPlanName","paymentMethod","DescriptionI18NKey","getMessageKey","BillingSettings","FallbackComponent","SubscriptionSettingSkeleton","Suspense","fallback","SubscriptionSettings","BillingHistorySkeleton","BillingHistory","proPrice","proPrice$","isBeliever","isBeliever$","openCancelModal","setOpenCancelModal","setOpenSettingModalAtom","currentPlan","Free","currentRecurring","Monthly","openPlans","billing","gotoCloudPlansSetting","gotoAiPlanSetting","amount","AIPlanCard","BelieverIdentifier","onOpenPlans","Trans","i18nKey","components","PlanAction","gotoPlansSetting","TypeFormLink","SubscriptionStatus","Active","PaymentMethodUpdater","nextBillAt","renewDate","Date","toLocaleDateString","end","expirationDate","ResumeSubscription","CancelSubscription","pro","ai","getUpgradeQuestionnaireLink","readableLifetimePrice","readableLifetimePrice$","header","billingTip","due","i18nTime","absolute","accuracy","trigger","useMutation","mutation","createCustomerPortalMutation","update","onSuccess","data","createCustomerPortal","data-event-props","data-event-args-type","data-event-args-category","IconButton","pointerEvents","invoicesCountQueryResult","useQuery","query","getInvoicesCountQuery","skip","setSkip","invoicesQueryResult","invoicesQuery","variables","take","invoices","currentUser","invoiceCount","invoice","InvoiceLine","Pagination","totalCount","countPerPage","onPageChange","planText","Lifetime","createdAt","InvoiceStatus","Paid","ExperimentalFeatureArts","resolvedTheme","DarkSvg","LightSvg","ExperimentalFeaturesPrompt","setChecked","Checkbox","FeedbackIcon","EmailIcon","feedbackLink","discord","github","ExperimentalFeaturesItem","feedbackType","SplitViewSettingRow","onToggle","multiViewFlagConfig","affineFeatureFlags","shouldShow","precondition","displayName","enableMultiView","BlocksuiteFeatureFlagSettings","toggleSetting","flag","editorFlags","Object","entries","blocksuiteFeatureFlags","ExperimentalFeaturesMain","experimentalFeaturesDisclaimerAtom","atomWithStorage","ExperimentalFeatures","enabled","setEnabled","UpgradeIcon","PaymentIcon","purchaseButton","PricingCollapsible","caption","toggle","prev","Collapsible","section","ArrowUpSmallIcon","transition","PlanLayout","cloud","cloudTip","modal","plansRootRef","cloudScrollTipRef","settingModalScrollContainer","useAtomValue","updateCloudTipState","cloudContainer","querySelector","containerRect","getBoundingClientRect","top","dataset","cloudVisible","flushSync","scrollIntoView","scrollToAnchor","anchor","behavior","Divider","createPortal","CloudPlanLayout","select","scroll","lifetime","scrollRef","ScrollArea","forceMount","orientation","paddingTop","benefitsGetter","TextIcon","PenIcon","CheckBoxCheckLinearIcon","AIBenefits","benefits","AIPlanLayout","actionButtons","AIPlan","isLoggedIn","PlanCard","detail","loggedIn","isCurrent","isPro","data-current","paddingBottom","titleRenderer","ActionButton","groupName","benefitList","primarySubscription","BookDemo","SignUpAction","isCanceled","isFree","ResumeButton","CurrentPlan","Downgrade","ChangeRecurring","Upgrade","tooltipContent","rootOptions","delayDuration","Team","Enterprise","data-event-args-url","upgrade","onStartChange","changeSubscriptionRecurring","change","setSubscriptionRecurring","changeCurringContent","data-show-hover","purchase","LifetimePlan","freeBenefits","i","proBenefits","teamBenefits","getRecurringLabel","CloudPlans","scrollWrapper","prices$","setRecurring","planDetail","rawMap","getPlanDetail","Map","yearlyPrice","contact","clonedMap","forEach","set","discount","floor","yearlyDiscount","currentPlanCard","wrapperComputedStyle","getComputedStyle","left","parseInt","appeared","animationFrameId","requestAnimationFrame","scrollTo","setAttribute","cancelAnimationFrame","cloudCaption","cloudToggle","cloudScroll","cloudSelect","b","RoundedSkeleton","TabsSkeleton","PlanItemSkeleton","main","ScrollSkeleton","PlansSkeleton","Settings","AFFiNEPricingPlans","PlansErrorBoundary","resetErrorBoundary","useKeyboardShortcutsI18N","useHeadingKeyboardShortcutsI18N","number","useWinGeneralKeyboardShortcuts","useMacGeneralKeyboardShortcuts","useMacEdgelessKeyboardShortcuts","useWinEdgelessKeyboardShortcuts","useMacPageKeyboardShortcuts","tH","useMacMarkdownShortcuts","useWinPageKeyboardShortcuts","useWinMarkdownShortcuts","useMarkdownShortcuts","macMarkdownShortcuts","winMarkdownShortcuts","isMac","isBrowser","shortcuts","usePageShortcuts","macPageShortcuts","winPageShortcuts","useEdgelessShortcuts","macEdgelessShortcuts","winEdgelessShortcuts","useGeneralShortcuts","macGeneralShortcuts","winGeneralShortcuts","ShortcutsPanel","shortcutsInfo","Shortcuts","markdownShortcutsInfo","pageShortcutsInfo","edgelessShortcutsInfo","generalShortcutsInfo","useGeneralSettingList","userFeatureService","UserFeatureService","userFeature","settings","AppearanceIcon","KeyboardIcon","InformationIcon","splice","ExperimentIcon","GeneralSetting","generalKey","accountButton","sidebarItemsWrapper","sidebarSelectItem","sidebarSubtitle","UserInfo","onAccountSettingClick","rounded","UserPlanButton","SignInButton","Logo1Icon","SettingSidebar","onTabChange","selectedWorkspaceId","generalList","gotoTab","tab","currentTarget","eventArg","menu","openSettings","onWorkspaceSettingClick","subTab","workspaceMetadata","control","data-event-arg","WorkspaceList","activeSubTab","split","workspaces","workspaces$","WorkspaceListItem","subTabConfigs","workspaceService","information","useWorkspaceInfo","UNTITLED_WORKSPACE_NAME","onClickPreference","subTabs","WorkspaceAvatar","side","GeneralSettingKeys","WorkspaceDeleteModal","deleteStr","setDeleteStr","allowDelete","handleOnEnter","DeleteLeaveWorkspace","globalContextService","workspacePermissionService","GlobalContextService","jumpToSubPath","jumpToIndex","useNavigateHelper","showDelete","setShowDelete","showLeave","setShowLeave","setSettingModal","workspaceList","currentWorkspaceId","globalContext","onLeaveOrDelete","onDeleteConfirm","backWorkspace","ws","WorkspaceSubPath","ALL","RouteLogic","REPLACE","deleteWorkspace","leaveWorkspace","EnableCloudPanel","name$","confirmEnableCloudAndClose","background","marginTop","ExportPanel","saving","setSaving","isOnline","useSystemOnline","onExport","waitForDocSynced","sync","saveDBFileAs","memberName","membersPanel","Label","LabelsPanel","labelMap","local","syncCloud","syncDocker","selfHosted","joinedWorkspace","availableOffline","publishedToWeb","labelConditions","condition","useMutateCloud","mutate","isArray","calculateWeight","member","permissionWeight","Permission","Owner","Admin","Write","Read","factors","accepted","reduce","ret","factor","arr","pow","MembersPanelLocal","CloudWorkspaceMembersPanel","memberCount","useMemberCount","getMemberCountByWorkspaceIdQuery","checkMemberCountLimit","memberLimit","s","isLimited","invite","useInviteMember","inviteByEmailMutation","sendInviteMail","res","revokeMemberPermission","useRevokeMemberPermission","revokeMemberPermissionMutation","userId","memberSkip","setMemberSkip","onInviteConfirm","listContainerRef","memberListHeight","setMemberListHeight","onRevoke","memberId","revoke","MemberLimitModal","isFreePlan","InviteModal","MemberListFallback","MemberList","MembersPanelFallback","COUNT_PER_PAGE","members","useMembers","getMembersByWorkspaceIdQuery","sort","weightDifference","localeCompare","MemberItem","currentAccount","handleRevoke","operationButtonInfo","show","leaveOrRevokeText","avatarUrl","pending","data-member-id","visibility","flexShrink","MoreVerticalIcon","MembersPanel","AffineErrorBoundary","ProfilePanel","workspaceIsReady","rootDocState$","ready","setName","docCollection","commonFieldsUpdated","setWorkspaceAvatar","setAvatar","reducedFile","validateAndReduceImage","blobs","blobSync","blobId","handleUpdateWorkspaceName","handleSetInput","handleKeyUp","code","handleUploadAvatar","then","canAdjustAvatar","Wrapper","onKeyUp","WorkspaceSettingDetail","workspaceInfo","handleResetSyncStatus","doc","resetSyncStatus","location","reload","FrameworkScope","scope","subListHeader","managerContext","createContext","usePagePropertiesMetaManager","adapter","useCurrentWorkspacePropertiesAdapter","PagePropertiesMetaManager","EditPropertyButton","property","manager","useContext","localPropertyMeta","setLocalPropertyMeta","handleToggleRequired","updatePropertyMeta","required","handleDelete","removePropertyMeta","editing","setEditing","showDeleteModal","setShowDeleteModal","handleFinishEditing","defaultMenuItems","text","preventDefault","DeleteIcon","renderMenuItemOptions","handleNameBlur","handleNameChange","handleIconChange","editMenuItems","EditPropertyNameMenuItem","onIconChange","onNameBlur","onNameChange","PropertyTypeMenuItem","MoreHorizontalIcon","ConfirmDeletePropertyModal","CustomPropertyRow","relatedPages","Icon","nameToIcon","data-property-id","data-unnamed","count","CustomPropertyRows","properties","statistics","pages","Fragment","CustomPropertyRowsList","filterMode","getOrderedPropertiesSchema","getPropertyStatistics","filtered","optional","WorkspaceSettingPropertiesMain","setFilterMode","filterMenuItems","onPropertyCreated","_e","setTimeout","newRow","highlight","prefix","FilterIcon","PagePropertiesCreatePropertyMenuItems","onCreated","metaManager","WorkspaceSettingPropertiesInner","Provider","WorkspaceSettingProperties","strong","WorkspaceSetting","isGeneralSetting","CenteredLoading","SettingModalInner","onSettingClick","modalProps","modalContentRef","modalContentWrapperRef","setSettingModalScrollContainer","onResize","debounce","wrapperWidth","offsetWidth","wrapperHeight","offsetHeight","contentWidth","wrapper","setProperty","setOpenIssueFeedbackModal","setOpenStarAFFiNEModal","openStarAFFiNEModalAtom","handleOpenIssueFeedbackModal","handleOpenStarAFFiNEModal","Scrollable","Root","Viewport","startsWith","ContactWithUsIcon","Scrollbar","SettingModal","maxHeight","maxWidth","overflow","StarAFFiNEModal","arrowButton","drawText","canvas","scrollLeft","ctx","getContext","dpr","devicePixelRatio","textColor","rootStyles","getPropertyValue","trim","scale","clearRect","fillStyle","font","fillText","textAlign","textBaseline","CanvasText","observeResize","FindInPageModal","setValue","findInPage","FindInPageService","visible","visible$","result$","isSearching","isSearching$","inputRef","setActive","setScrollLeft","composing","setComposing","useTransition","timeout","handleValueChange","clear","focus","handleFocus","handleBlur","searchText$","onEsc","onChangeVisible","unsub","unsubscribe","handleBackWard","backward","handleForward","forward","handleDone","handleKeydown","handleScroll","handleCompositionStart","handleCompositionEnd","Dialog","assignInlineVars","data-state","SearchIcon","onBlur","onFocus","onScroll","onCompositionStart","onCompositionEnd","matches","activeMatchOrdinal","ArrowDownSmallIcon","CloseIcon","Setting","events","applicationMenu","openAboutPageInSettingModal","AuthModal","setAuthAtom","Auth","setEmailType","setAuthState","setAuthEmail","CurrentWorkspaceModals","trashModal","setTrashModal","handleOnConfirm","useTrashModalHelper","deletePageTitles","pageTitles","trashConfirmOpen","onTrashConfirmOpenChange","AiLoginRequiredModal","PeekViewManagerModal","MoveToTrash","titles","SignOutConfirmModal","openPage","useServiceOptional","signOut","localWorkspace","w","SignOutModal","AllWorkspaceModals","isOpenCreateWorkspaceModal","setOpenCreateWorkspaceModal","openCreateWorkspaceModalAtom","jumpToPage"],"sourceRoot":""}