{"version":3,"file":"js/chunk.101.342245d8.js","mappings":"uTA0BA,IAAMA,EAAc,KAClB,IAAMC,EAAIC,CAAAA,EAAAA,EAAAA,EAAAA,IACV,MACE,UAACC,EAAAA,CAAMA,CAAAA,CACLC,KACE,WAACC,MAAAA,CAAIC,UC5BW,U,UD6Bd,UAACC,EAAAA,UAAUA,CAAAA,CAACD,UC9BC,S,GD+BZL,CAAC,CAAC,oCAAoC,G,IAKjD,EAEaO,EAAY,KACvB,IAAMC,EAAuBC,CAAAA,EAAAA,EAAAA,EAAAA,EAAWC,EAAAA,CAAoBA,EACtDC,EAAmBF,CAAAA,EAAAA,EAAAA,EAAAA,EAAWG,EAAAA,CAAgBA,EAAEC,SAAS,CACzDC,EAAgBH,EAAiBG,aAAa,CACpDC,CAAAA,EAAAA,EAAAA,EAAAA,EAAaD,GAEb,IAAME,EAAYC,CAAAA,EAAAA,EAAAA,CAAAA,EAAqBH,GACjCI,EAAoBC,CAAAA,EAAAA,EAAAA,EAAAA,EAAqBH,EAAW,CACxDI,MAAO,EACT,GAEMC,EAAeC,CAAAA,EAAAA,EAAAA,EAAAA,IAErBC,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,GAAIF,EAGF,OAFAb,EAAqBgB,aAAa,CAACC,OAAO,CAACC,GAAG,CAAC,IAExC,KACLlB,EAAqBgB,aAAa,CAACC,OAAO,CAACC,GAAG,CAAC,GACjD,CAGJ,EAAG,CAAClB,EAAqBgB,aAAa,CAACC,OAAO,CAAEJ,EAAa,EAE7D,IAAMrB,EAAIC,CAAAA,EAAAA,EAAAA,EAAAA,IACV,MACE,uB,UACE,UAAC0B,EAAAA,EAASA,CAAAA,CAACC,MAAO5B,EAAE,KAAQ,E,GAC5B,UAAC6B,EAAAA,EAAQA,CAAAA,CAACC,KAAM,O,GAChB,UAACC,EAAAA,EAAUA,CAAAA,C,SACT,UAAChC,EAAAA,CAAAA,E,GAEH,UAACiC,EAAAA,EAAQA,CAAAA,C,SACP,UAAC5B,MAAAA,CAAIC,UCxEK,U,SDyEPa,EAAkBe,MAAM,CAAG,EAC1B,UAACC,EAAAA,EAAoBA,CAAAA,CAAAA,GAErB,UAACC,EAAAA,EAAaA,CAAAA,CACZC,KAAK,QACLtB,cAAeH,EAAiBG,aAAa,E,OAO3D,EAEauB,EAAY,IAChB,UAAC9B,EAAAA,CAAAA,E","sources":["webpack://@affine/web/../core/src/pages/workspace/trash-page.tsx","webpack://@affine/web/../core/src/pages/workspace/trash-page.css.ts"],"sourcesContent":["import {\n  useFilteredPageMetas,\n  VirtualizedTrashList,\n} from '@affine/core/components/page-list';\nimport { Header } from '@affine/core/components/pure/header';\nimport { useBlockSuiteDocMeta } from '@affine/core/hooks/use-block-suite-page-meta';\nimport { useI18n } from '@affine/i18n';\nimport { assertExists } from '@blocksuite/global/utils';\nimport { DeleteIcon } from '@blocksuite/icons/rc';\nimport {\n  GlobalContextService,\n  useService,\n  WorkspaceService,\n} from '@toeverything/infra';\nimport { useEffect } from 'react';\n\nimport {\n  useIsActiveView,\n  ViewBody,\n  ViewHeader,\n  ViewIcon,\n  ViewTitle,\n} from '../../modules/workbench';\nimport { EmptyPageList } from './page-list-empty';\nimport * as styles from './trash-page.css';\n\nconst TrashHeader = () => {\n  const t = useI18n();\n  return (\n    <Header\n      left={\n        <div className={styles.trashTitle}>\n          <DeleteIcon className={styles.trashIcon} />\n          {t['com.affine.workspaceSubPath.trash']()}\n        </div>\n      }\n    />\n  );\n};\n\nexport const TrashPage = () => {\n  const globalContextService = useService(GlobalContextService);\n  const currentWorkspace = useService(WorkspaceService).workspace;\n  const docCollection = currentWorkspace.docCollection;\n  assertExists(docCollection);\n\n  const pageMetas = useBlockSuiteDocMeta(docCollection);\n  const filteredPageMetas = useFilteredPageMetas(pageMetas, {\n    trash: true,\n  });\n\n  const isActiveView = useIsActiveView();\n\n  useEffect(() => {\n    if (isActiveView) {\n      globalContextService.globalContext.isTrash.set(true);\n\n      return () => {\n        globalContextService.globalContext.isTrash.set(false);\n      };\n    }\n    return;\n  }, [globalContextService.globalContext.isTrash, isActiveView]);\n\n  const t = useI18n();\n  return (\n    <>\n      <ViewTitle title={t['Trash']()} />\n      <ViewIcon icon={'trash'} />\n      <ViewHeader>\n        <TrashHeader />\n      </ViewHeader>\n      <ViewBody>\n        <div className={styles.body}>\n          {filteredPageMetas.length > 0 ? (\n            <VirtualizedTrashList />\n          ) : (\n            <EmptyPageList\n              type=\"trash\"\n              docCollection={currentWorkspace.docCollection}\n            />\n          )}\n        </div>\n      </ViewBody>\n    </>\n  );\n};\n\nexport const Component = () => {\n  return <TrashPage />;\n};\n","import \"../core/src/pages/workspace/trash-page.css.ts.vanilla.css!=!../../../../../../node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{\\\"fileName\\\":\\\"../core/src/pages/workspace/trash-page.css.ts.vanilla.css\\\",\\\"source\\\":\\\"Lmx2anQ2bDAgewogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBnYXA6IDhweDsKICBwYWRkaW5nOiAwIDhweDsKICBmb250LXdlaWdodDogNjAwOwogIHVzZXItc2VsZWN0OiBub25lOwp9Ci5sdmp0NmwxIHsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgZmxleDogMTsKICBoZWlnaHQ6IDEwMCU7CiAgd2lkdGg6IDEwMCU7Cn0KLmx2anQ2bDIgewogIGNvbG9yOiB2YXIoLS1hZmZpbmUtaWNvbi1jb2xvcik7CiAgZm9udC1zaXplOiB2YXIoLS1hZmZpbmUtZm9udC1oLTUpOwp9\\\"}!../../../../../../node_modules/@vanilla-extract/webpack-plugin/extracted.js\"\nexport var body = 'lvjt6l1';\nexport var trashIcon = 'lvjt6l2';\nexport var trashTitle = 'lvjt6l0';"],"names":["TrashHeader","t","useI18n","Header","left","div","className","DeleteIcon","TrashPage","globalContextService","useService","GlobalContextService","currentWorkspace","WorkspaceService","workspace","docCollection","assertExists","pageMetas","useBlockSuiteDocMeta","filteredPageMetas","useFilteredPageMetas","trash","isActiveView","useIsActiveView","useEffect","globalContext","isTrash","set","ViewTitle","title","ViewIcon","icon","ViewHeader","ViewBody","length","VirtualizedTrashList","EmptyPageList","type","Component"],"sourceRoot":""}