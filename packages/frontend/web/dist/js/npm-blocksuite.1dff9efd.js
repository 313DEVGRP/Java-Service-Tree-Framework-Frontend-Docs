"use strict";(globalThis.webpackChunk_affine_web=globalThis.webpackChunk_affine_web||[]).push([[4810],{23725:(e,t,i)=>{var s,o,r,a;i.d(t,{$2o:()=>t2,$oz:()=>eT,A1x:()=>ev,BQZ:()=>tf,BfH:()=>tk,C9h:()=>tK,CIh:()=>tG,CVU:()=>eb,CbU:()=>tH,EIO:()=>tr,EW9:()=>tX,Ea5:()=>eA,FHP:()=>tT,FYP:()=>tE,FlE:()=>ip,Fzz:()=>eM,H0W:()=>th,HNH:()=>ts,HNp:()=>tS,I5t:()=>eV,IDF:()=>e4,ITz:()=>eH,JQk:()=>tW,JmJ:()=>ta,Jps:()=>e_,JvT:()=>tn,K3f:()=>e8,KRn:()=>eL,L0c:()=>id,Lfm:()=>t_,M80:()=>tc,N$i:()=>ic,N0f:()=>t6,NAP:()=>tY,Nrq:()=>tm,O4E:()=>tt,OSm:()=>ii,OTM:()=>ek,P$Z:()=>eq,PHA:()=>tZ,PtA:()=>eI,QGg:()=>tB,QlO:()=>eR,Qol:()=>tI,RGD:()=>te,RyS:()=>eP,S1N:()=>it,SAc:()=>ew,SBc:()=>ef,SoJ:()=>tg,Syo:()=>eD,TXg:()=>ty,TdU:()=>eN,Tje:()=>ey,USm:()=>eZ,Uhd:()=>iy,Ui8:()=>iu,Upg:()=>il,VNq:()=>ih,VQ$:()=>tq,Vrn:()=>eE,Vx1:()=>ia,WFt:()=>t8,WIv:()=>tJ,WXD:()=>tv,Xnc:()=>is,Y2f:()=>eh,YlR:()=>e9,Z$r:()=>tw,Zes:()=>t0,_GB:()=>t5,_PQ:()=>iv,aJy:()=>ep,aiU:()=>tO,b8b:()=>tQ,c11:()=>tF,cAq:()=>ie,cEz:()=>eS,cFS:()=>tN,cFy:()=>eO,cqr:()=>iC,cyP:()=>t4,cyi:()=>tU,d$q:()=>eJ,d7y:()=>eX,dHM:()=>t3,e9L:()=>eQ,eoT:()=>eB,eqL:()=>e2,fFF:()=>e1,gZg:()=>tD,hhC:()=>tP,jNK:()=>t$,jNf:()=>tp,jaP:()=>e3,kjd:()=>t9,kqb:()=>ez,l88:()=>td,lL2:()=>eU,loI:()=>ej,mK9:()=>tl,ma5:()=>tb,mib:()=>em,mjz:()=>tL,n7i:()=>eg,nFg:()=>tu,njB:()=>ti,o7e:()=>im,oik:()=>ex,qUP:()=>e6,qYV:()=>tM,rWB:()=>ir,rZj:()=>tz,s3U:()=>e5,t5Y:()=>t7,t5i:()=>ig,tCQ:()=>iw,tE0:()=>tA,tPq:()=>e$,u20:()=>ix,uYI:()=>eu,ucD:()=>eK,v1n:()=>tV,vKo:()=>eY,v_L:()=>tj,vbr:()=>to,vrT:()=>tR,w$A:()=>i_,w4L:()=>e7,wBL:()=>t1,ws:()=>eW,xPL:()=>ib,xfq:()=>tx,y3_:()=>eG,yOR:()=>tC,zII:()=>eC,zPo:()=>eF,za1:()=>e0,ziP:()=>io});/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let n=window,l=n.ShadowRoot&&(void 0===n.ShadyCSS||n.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,c=Symbol(),d=new WeakMap,h=class{constructor(e,t,i){if(this._$cssResult$=!0,i!==c)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(l&&void 0===e){let i=void 0!==t&&1===t.length;i&&(e=d.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&d.set(t,e))}return e}toString(){return this.cssText}},u=e=>new h("string"==typeof e?e:e+"",void 0,c),p=(e,t)=>{l?e.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet):t.forEach(t=>{let i=document.createElement("style"),s=n.litNonce;void 0!==s&&i.setAttribute("nonce",s),i.textContent=t.cssText,e.appendChild(i)})},f=l?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(let i of e.cssRules)t+=i.cssText;return u(t)})(e):e,g=window,m=g.trustedTypes,v=m?m.emptyScript:"",y=g.reactiveElementPolyfillSupport,b={toAttribute(e,t){switch(t){case Boolean:e=e?v:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=null!==e;break;case Number:i=null===e?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch(e){i=null}}return i}},w=(e,t)=>t!==e&&(t==t||e==e),x={attribute:!0,type:String,converter:b,reflect:!1,hasChanged:w},_="finalized",C=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach((t,i)=>{let s=this._$Ep(i,t);void 0!==s&&(this._$Ev.set(s,i),e.push(s))}),e}static createProperty(e,t=x){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){let i="symbol"==typeof e?Symbol():"__"+e,s=this.getPropertyDescriptor(e,i,t);void 0!==s&&Object.defineProperty(this.prototype,e,s)}}static getPropertyDescriptor(e,t,i){return{get(){return this[t]},set(s){let o=this[e];this[t]=s,this.requestUpdate(e,o,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||x}static finalize(){if(this.hasOwnProperty(_))return!1;this[_]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let e=this.properties;for(let t of[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)])this.createProperty(t,e[t])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let t=[];if(Array.isArray(e))for(let i of new Set(e.flat(1/0).reverse()))t.unshift(f(i));else void 0!==e&&t.push(f(e));return t}static _$Ep(e,t){let i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach(e=>e(this))}addController(e){var t,i;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(i=e.hostConnected)||void 0===i||i.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;let t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return p(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach(e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)})}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach(e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)})}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$EO(e,t,i=x){var s;let o=this.constructor._$Ep(e,i);if(void 0!==o&&!0===i.reflect){let r=(void 0!==(null===(s=i.converter)||void 0===s?void 0:s.toAttribute)?i.converter:b).toAttribute(t,i.type);this._$El=e,null==r?this.removeAttribute(o):this.setAttribute(o,r),this._$El=null}}_$AK(e,t){var i;let s=this.constructor,o=s._$Ev.get(e);if(void 0!==o&&this._$El!==o){let e=s.getPropertyOptions(o),r="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null===(i=e.converter)||void 0===i?void 0:i.fromAttribute)?e.converter:b;this._$El=o,this[o]=r.fromAttribute(t,e.type),this._$El=null}}requestUpdate(e,t,i){let s=!0;void 0!==e&&(((i=i||this.constructor.getPropertyOptions(e)).hasChanged||w)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===i.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,i))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(e){Promise.reject(e)}let e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((e,t)=>this[t]=e),this._$Ei=void 0);let t=!1,i=this._$AL;try{(t=this.shouldUpdate(i))?(this.willUpdate(i),null===(e=this._$ES)||void 0===e||e.forEach(e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)}),this.update(i)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(i)}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach(e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach((e,t)=>this._$EO(t,this[t],e)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};C[_]=!0,C.elementProperties=new Map,C.elementStyles=[],C.shadowRootOptions={mode:"open"},null==y||y({ReactiveElement:C}),(null!==(s=g.reactiveElementVersions)&&void 0!==s?s:g.reactiveElementVersions=[]).push("1.6.3");let k=window,S=k.trustedTypes,M=S?S.createPolicy("lit-html",{createHTML:e=>e}):void 0,E="$lit$",I=`lit$${(Math.random()+"").slice(9)}$`,B="?"+I,$=`<${B}>`,T=document,O=()=>T.createComment(""),P=e=>null===e||"object"!=typeof e&&"function"!=typeof e,A=Array.isArray,H=e=>A(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]),L="[ 	\n\f\r]",D=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Z=/-->/g,j=/>/g,V=RegExp(`>|${L}(?:([^\\s"'>=/]+)(${L}*=${L}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),R=/'/g,z=/"/g,F=/^(?:script|style|textarea|title)$/i,N=(e,...t)=>({_$litType$:1,strings:e,values:t}),q=Symbol.for("lit-noChange"),U=Symbol.for("lit-nothing"),W=new WeakMap,G=T.createTreeWalker(T,129,null,!1);function Y(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==M?M.createHTML(t):t}let K=(e,t)=>{let i=e.length-1,s=[],o,r=2===t?"<svg>":"",a=D;for(let t=0;t<i;t++){let i=e[t],n,l,c=-1,d=0;for(;d<i.length&&(a.lastIndex=d,null!==(l=a.exec(i)));)d=a.lastIndex,a===D?"!--"===l[1]?a=Z:void 0!==l[1]?a=j:void 0!==l[2]?(F.test(l[2])&&(o=RegExp("</"+l[2],"g")),a=V):void 0!==l[3]&&(a=V):a===V?">"===l[0]?(a=null!=o?o:D,c=-1):void 0===l[1]?c=-2:(c=a.lastIndex-l[2].length,n=l[1],a=void 0===l[3]?V:'"'===l[3]?z:R):a===z||a===R?a=V:a===Z||a===j?a=D:(a=V,o=void 0);let h=a===V&&e[t+1].startsWith("/>")?" ":"";r+=a===D?i+$:c>=0?(s.push(n),i.slice(0,c)+E+i.slice(c)+I+h):i+I+(-2===c?(s.push(void 0),t):h)}return[Y(e,r+(e[i]||"<?>")+(2===t?"</svg>":"")),s]};class X{constructor({strings:e,_$litType$:t},i){let s;this.parts=[];let o=0,r=0,a=e.length-1,n=this.parts,[l,c]=K(e,t);if(this.el=X.createElement(l,i),G.currentNode=this.el.content,2===t){let e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(s=G.nextNode())&&n.length<a;){if(1===s.nodeType){if(s.hasAttributes()){let e=[];for(let t of s.getAttributeNames())if(t.endsWith(E)||t.startsWith(I)){let i=c[r++];if(e.push(t),void 0!==i){let e=s.getAttribute(i.toLowerCase()+E).split(I),t=/([.?@])?(.*)/.exec(i);n.push({type:1,index:o,name:t[2],strings:e,ctor:"."===t[1]?ei:"?"===t[1]?eo:"@"===t[1]?er:et})}else n.push({type:6,index:o})}for(let t of e)s.removeAttribute(t)}if(F.test(s.tagName)){let e=s.textContent.split(I),t=e.length-1;if(t>0){s.textContent=S?S.emptyScript:"";for(let i=0;i<t;i++)s.append(e[i],O()),G.nextNode(),n.push({type:2,index:++o});s.append(e[t],O())}}}else if(8===s.nodeType){if(s.data===B)n.push({type:2,index:o});else{let e=-1;for(;-1!==(e=s.data.indexOf(I,e+1));)n.push({type:7,index:o}),e+=I.length-1}}o++}}static createElement(e,t){let i=T.createElement("template");return i.innerHTML=e,i}}function Q(e,t,i=e,s){var o,r,a;if(t===q)return t;let n=void 0!==s?null===(o=i._$Co)||void 0===o?void 0:o[s]:i._$Cl,l=P(t)?void 0:t._$litDirective$;return(null==n?void 0:n.constructor)!==l&&(null===(r=null==n?void 0:n._$AO)||void 0===r||r.call(n,!1),void 0===l?n=void 0:(n=new l(e))._$AT(e,i,s),void 0!==s?(null!==(a=i._$Co)&&void 0!==a?a:i._$Co=[])[s]=n:i._$Cl=n),void 0!==n&&(t=Q(e,n._$AS(e,t.values),n,s)),t}class J{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:i},parts:s}=this._$AD,o=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:T).importNode(i,!0);G.currentNode=o;let r=G.nextNode(),a=0,n=0,l=s[0];for(;void 0!==l;){if(a===l.index){let t;2===l.type?t=new ee(r,r.nextSibling,this,e):1===l.type?t=new l.ctor(r,l.name,l.strings,this,e):6===l.type&&(t=new ea(r,this,e)),this._$AV.push(t),l=s[++n]}a!==(null==l?void 0:l.index)&&(r=G.nextNode(),a++)}return G.currentNode=T,o}v(e){let t=0;for(let i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}}class ee{constructor(e,t,i,s){var o;this.type=2,this._$AH=U,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=s,this._$Cp=null===(o=null==s?void 0:s.isConnected)||void 0===o||o}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===(null==e?void 0:e.nodeType)&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){P(e=Q(this,e,t))?e===U||null==e||""===e?(this._$AH!==U&&this._$AR(),this._$AH=U):e!==this._$AH&&e!==q&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):H(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==U&&P(this._$AH)?this._$AA.nextSibling.data=e:this.$(T.createTextNode(e)),this._$AH=e}g(e){var t;let{values:i,_$litType$:s}=e,o="number"==typeof s?this._$AC(e):(void 0===s.el&&(s.el=X.createElement(Y(s.h,s.h[0]),this.options)),s);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===o)this._$AH.v(i);else{let e=new J(o,this),t=e.u(this.options);e.v(i),this.$(t),this._$AH=e}}_$AC(e){let t=W.get(e.strings);return void 0===t&&W.set(e.strings,t=new X(e)),t}T(e){A(this._$AH)||(this._$AH=[],this._$AR());let t=this._$AH,i,s=0;for(let o of e)s===t.length?t.push(i=new ee(this.k(O()),this.k(O()),this,this.options)):i=t[s],i._$AI(o),s++;s<t.length&&(this._$AR(i&&i._$AB.nextSibling,s),t.length=s)}_$AR(e=this._$AA.nextSibling,t){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,t);e&&e!==this._$AB;){let t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cp=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class et{constructor(e,t,i,s,o){this.type=1,this._$AH=U,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=o,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=U}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,i,s){let o=this.strings,r=!1;if(void 0===o)(r=!P(e=Q(this,e,t,0))||e!==this._$AH&&e!==q)&&(this._$AH=e);else{let s,a;let n=e;for(e=o[0],s=0;s<o.length-1;s++)(a=Q(this,n[i+s],t,s))===q&&(a=this._$AH[s]),r||(r=!P(a)||a!==this._$AH[s]),a===U?e=U:e!==U&&(e+=(null!=a?a:"")+o[s+1]),this._$AH[s]=a}r&&!s&&this.j(e)}j(e){e===U?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class ei extends et{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===U?void 0:e}}let es=S?S.emptyScript:"";class eo extends et{constructor(){super(...arguments),this.type=4}j(e){e&&e!==U?this.element.setAttribute(this.name,es):this.element.removeAttribute(this.name)}}class er extends et{constructor(e,t,i,s,o){super(e,t,i,s,o),this.type=5}_$AI(e,t=this){var i;if((e=null!==(i=Q(this,e,t,0))&&void 0!==i?i:U)===q)return;let s=this._$AH,o=e===U&&s!==U||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,r=e!==U&&(s===U||o);o&&this.element.removeEventListener(this.name,this,s),r&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==i?i:this.element,e):this._$AH.handleEvent(e)}}class ea{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){Q(this,e)}}let en=k.litHtmlPolyfillSupport;null==en||en(X,ee),(null!==(o=k.litHtmlVersions)&&void 0!==o?o:k.litHtmlVersions=[]).push("2.8.0");let el=(e,t,i)=>{var s,o;let r=null!==(s=null==i?void 0:i.renderBefore)&&void 0!==s?s:t,a=r._$litPart$;if(void 0===a){let e=null!==(o=null==i?void 0:i.renderBefore)&&void 0!==o?o:null;r._$litPart$=a=new ee(t.insertBefore(O(),e),e,void 0,null!=i?i:{})}return a._$AI(e),a};class ec extends C{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;let i=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=i.firstChild),i}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=el(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return q}}ec.finalized=!0,ec._$litElement$=!0,null===(r=globalThis.litElementHydrateSupport)||void 0===r||r.call(globalThis,{LitElement:ec});let ed=globalThis.litElementPolyfillSupport;null==ed||ed({LitElement:ec}),(null!==(a=globalThis.litElementVersions)&&void 0!==a?a:globalThis.litElementVersions=[]).push("3.3.3");let eh=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M6.25 5A.75.75 0 0 1 7 4.25h14a.75.75 0 0 1 .75.75v2.333a.75.75 0 0 1-1.5 0V5.75h-5.5v12.5h2.75a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1 0-1.5h2.75V5.75h-5.5v1.583a.75.75 0 1 1-1.5 0V5Z" clip-rule="evenodd"/><path fill='currentColor' fill-rule="evenodd" d="M1.25 13a.75.75 0 0 1 .75-.75h5a.75.75 0 0 1 0 1.5H2a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"/><path fill='currentColor' fill-rule="evenodd" d="M4.5 16.25a.75.75 0 0 1-.75-.75v-5a.75.75 0 0 1 1.5 0v5a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"/>
  </svg>
`,eu=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M15 4a1 1 0 0 1 1 1v12a1 1 0 0 1-.031.25H20a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1 0-1.5h4.031A1.002 1.002 0 0 1 8 17v-6a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v6a1 1 0 0 1-.031.25h2.063A1 1 0 0 1 13 17V5a1 1 0 0 1 1-1h1Z" clip-rule="evenodd"/>
  </svg>
`,ep=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M12 3.25a.75.75 0 0 1 .75.75v4H18a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1h-5.25v2H15a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1h-2.25v4a.75.75 0 0 1-1.5 0v-4H9a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h2.25v-2H6a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h5.25V4a.75.75 0 0 1 .75-.75Z" clip-rule="evenodd"/>
  </svg>
`,ef=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M5.75 3.25A.75.75 0 0 1 6.5 4v4.031c.08-.02.164-.031.25-.031h12a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1h-12a1 1 0 0 1-.25-.031v2.063A1 1 0 0 1 6.75 13h6a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1h-6a1 1 0 0 1-.25-.031V20A.75.75 0 0 1 5 20V4a.75.75 0 0 1 .75-.75Z" clip-rule="evenodd"/>
  </svg>
`,eg=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M19 3.25a.75.75 0 0 1 .75.75v16a.75.75 0 0 1-1.5 0v-4.031A1 1 0 0 1 18 16h-6a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h6a1 1 0 0 1 .25.031v-2.063A1 1 0 0 1 18 11H6a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h12c.086 0 .17.01.25.031V4a.75.75 0 0 1 .75-.75Z" clip-rule="evenodd"/>
  </svg>
`,em=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M3 5.75A.75.75 0 0 1 3.75 5h16a.75.75 0 0 1 0 1.5h-4.031a1 1 0 0 1 .031.25v12a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-12a1 1 0 0 1 .031-.25h-2.063a1 1 0 0 1 .032.25v6a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-6c0-.086.01-.17.032-.25H3.75A.75.75 0 0 1 3 5.75Z" clip-rule="evenodd"/>
  </svg>
`,ev=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M15 5a1 1 0 0 1 1 1v5.25h4a.75.75 0 0 1 0 1.5h-4V18a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-5.25h-2V15a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.25H4a.75.75 0 0 1 0-1.5h4V9a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v2.25h2V6a1 1 0 0 1 1-1h1Z" clip-rule="evenodd"/>
  </svg>
`,ey=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M17.507 13.003a.75.75 0 0 0-1.06.045l-3.697 4.027V5a.75.75 0 0 0-1.5 0v12.075l-3.698-4.027a.75.75 0 1 0-1.104 1.015l5 5.444a.75.75 0 0 0 1.104 0l5-5.444a.75.75 0 0 0-.045-1.06Z" clip-rule="evenodd"/>
  </svg>
`,eb=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M12.75 4a.75.75 0 0 0-1.5 0v10.19l-2.72-2.72a.75.75 0 0 0-1.06 1.06l4 4a.75.75 0 0 0 1.06 0l4-4a.75.75 0 1 0-1.06-1.06l-2.72 2.72V4ZM5 19.25a.75.75 0 0 0 0 1.5h14a.75.75 0 0 0 0-1.5H5Z" clip-rule="evenodd"/>
  </svg>
`,ew=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M17.58 8.97a.75.75 0 0 1 0 1.06l-5 5a.75.75 0 0 1-1.06 0l-5-5a.75.75 0 1 1 1.06-1.06l4.47 4.47 4.47-4.47a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd"/>
  </svg>
`,ex=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M10.997 6.493a.75.75 0 0 1-.045 1.06L6.925 11.25H19a.75.75 0 0 1 0 1.5H6.925l4.027 3.698a.75.75 0 1 1-1.015 1.104l-5.444-5a.75.75 0 0 1 0-1.104l5.444-5a.75.75 0 0 1 1.06.045Z" clip-rule="evenodd"/>
  </svg>
`,e_=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M14.53 6.47a.75.75 0 0 1 0 1.06L10.06 12l4.47 4.47a.75.75 0 1 1-1.06 1.06l-5-5a.75.75 0 0 1 0-1.06l5-5a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd"/>
  </svg>
`,eC=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M13.003 6.493a.75.75 0 0 0 .045 1.06l4.027 3.697H5a.75.75 0 0 0 0 1.5h12.075l-4.027 3.698a.75.75 0 1 0 1.015 1.104l5.444-5a.75.75 0 0 0 0-1.104l-5.444-5a.75.75 0 0 0-1.06.045Z" clip-rule="evenodd"/>
  </svg>
`,ek=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M8.47 6.47a.75.75 0 0 0 0 1.06L12.94 12l-4.47 4.47a.75.75 0 1 0 1.06 1.06l5-5a.75.75 0 0 0 0-1.06l-5-5a.75.75 0 0 0-1.06 0Z" clip-rule="evenodd"/>
  </svg>
`,eS=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M17.507 10.997a.75.75 0 0 1-1.06-.045L12.75 6.925V19a.75.75 0 0 1-1.5 0V6.925l-3.698 4.027a.75.75 0 1 1-1.104-1.015l5-5.444a.75.75 0 0 1 1.104 0l5 5.444a.75.75 0 0 1-.045 1.06Z" clip-rule="evenodd"/>
  </svg>
`,eM=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M5 3.25a.75.75 0 0 0 0 1.5h14a.75.75 0 0 0 0-1.5H5ZM12.75 20a.75.75 0 0 1-1.5 0V9.81l-2.72 2.72a.75.75 0 0 1-1.06-1.06l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06l-2.72-2.72V20Z" clip-rule="evenodd"/>
  </svg>
`,eE=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M17.58 15.03a.75.75 0 0 0 0-1.06l-5-5a.75.75 0 0 0-1.06 0l-5 5a.75.75 0 1 0 1.06 1.06l4.47-4.47 4.47 4.47a.75.75 0 0 0 1.06 0Z" clip-rule="evenodd"/>
  </svg>
`,eI=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="m12.217 5.608-6.04 6.04a4.65 4.65 0 0 0 0 6.704c1.914 1.864 5.026 1.864 6.94 0l5.89-5.723a.75.75 0 1 1 1.045 1.076l-5.889 5.721c-2.496 2.432-6.536 2.432-9.032 0a6.15 6.15 0 0 1-.004-8.849l6.04-6.04c1.762-1.716 4.61-1.716 6.371 0a4.35 4.35 0 0 1 .004 6.256l-6.04 6.04c-1.027 1-2.683 1-3.71 0a2.55 2.55 0 0 1 0-3.667l6.2-6.037a.75.75 0 0 1 1.046 1.075l-6.199 6.037a1.05 1.05 0 0 0 0 1.518 1.168 1.168 0 0 0 1.613.003l6.04-6.04a2.85 2.85 0 0 0 0-4.11 3.086 3.086 0 0 0-4.275-.004Z" clip-rule="evenodd"/>
  </svg>
`,eB=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M3.25 4A.75.75 0 0 1 4 3.25h16a.75.75 0 0 1 0 1.5H4A.75.75 0 0 1 3.25 4ZM3.25 20a.75.75 0 0 1 .75-.75h16a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75ZM11.47 5.47a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1-1.06 1.06L12 7.06 9.53 9.53a.75.75 0 0 1-1.06-1.06l3-3ZM8.47 14.47a.75.75 0 0 1 1.06 0L12 16.94l2.47-2.47a.75.75 0 1 1 1.06 1.06l-3 3a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/><path fill='currentColor' fill-rule="evenodd" d="M12 5.25a.75.75 0 0 1 .75.75v12a.75.75 0 0 1-1.5 0V6a.75.75 0 0 1 .75-.75Z" clip-rule="evenodd"/>
  </svg>
`,e$=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M17.28 5.66 5.66 17.28A8.25 8.25 0 0 1 17.28 5.66ZM6.72 18.34 18.34 6.72A8.25 8.25 0 0 1 6.72 18.34ZM18.894 5.106c-3.807-3.808-9.98-3.808-13.788 0-3.808 3.807-3.808 9.98 0 13.788 3.807 3.808 9.98 3.808 13.788 0 3.808-3.807 3.808-9.98 0-13.788Z" clip-rule="evenodd"/>
  </svg>
`,eT=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M6.25 4A.75.75 0 0 1 7 3.25h5.958c2.67 0 4.875 2.105 4.875 4.75 0 1.515-.723 2.853-1.843 3.72 1.626.764 2.76 2.383 2.76 4.28 0 2.645-2.204 4.75-4.875 4.75H7a.75.75 0 0 1-.75-.75V4Zm1.5 8.75v6.5h6.125c1.886 0 3.375-1.477 3.375-3.25s-1.49-3.25-3.375-3.25H7.75Zm0-1.5h5.208c1.886 0 3.375-1.477 3.375-3.25s-1.489-3.25-3.375-3.25H7.75v6.5Z" clip-rule="evenodd"/>
  </svg>
`,eO=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M5 3.25A2.75 2.75 0 0 0 2.25 6v7a.75.75 0 0 0 1.5 0V6c0-.69.56-1.25 1.25-1.25h14c.69 0 1.25.56 1.25 1.25v12c0 .69-.56 1.25-1.25 1.25h-7a.75.75 0 0 0 0 1.5h7A2.75 2.75 0 0 0 21.75 18V6A2.75 2.75 0 0 0 19 3.25H5Zm4.116 9.866a1.25 1.25 0 0 1 1.768 1.768l-2 2a1.25 1.25 0 0 1-1.768 0 .75.75 0 0 0-1.06 1.06 2.75 2.75 0 0 0 3.889 0l2-2a2.75 2.75 0 1 0-3.89-3.889l-.55.55a.75.75 0 1 0 1.061 1.06l.55-.549Zm-3 3a1.25 1.25 0 0 1 1.768 0 .75.75 0 0 0 1.06-1.06 2.75 2.75 0 0 0-3.889 0l-2 2a2.75 2.75 0 1 0 3.89 3.889l.55-.551a.75.75 0 0 0-1.06-1.06l-.551.55a1.25 1.25 0 0 1-1.768-1.768l2-2Z" clip-rule="evenodd"/>
  </svg>
`,eP=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M4.3 7.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4.033-1.75a.75.75 0 0 0 0 1.5l11.917.001a.75.75 0 0 0 0-1.5H8.333Zm0 5.5a.75.75 0 1 0 0 1.5l11.917.002a.75.75 0 0 0 0-1.5L8.333 11.25Zm0 5.5a.75.75 0 1 0 0 1.5l11.917.002a.75.75 0 1 0 0-1.5L8.333 16.75ZM5.3 12a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-1 6.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"/>
  </svg>
`,eA=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M16.53 2.47a.75.75 0 1 0-1.06 1.06l2.72 2.72H8a.75.75 0 0 0 0 1.5h10.19l-2.72 2.72a.75.75 0 1 0 1.06 1.06l4-4a.75.75 0 0 0 0-1.06l-4-4Zm-5 9a.75.75 0 1 0-1.06 1.06l2.72 2.72H4.5a.75.75 0 0 0 0 1.5h8.69l-2.72 2.72a.75.75 0 1 0 1.06 1.06l4-4a.75.75 0 0 0 0-1.06l-4-4Z" clip-rule="evenodd"/>
  </svg>
`,eH=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M4.25 7A2.75 2.75 0 0 1 7 4.25h5A2.75 2.75 0 0 1 14.75 7v3A2.75 2.75 0 0 1 12 12.75H7A2.75 2.75 0 0 1 4.25 10V7ZM7 5.75c-.69 0-1.25.56-1.25 1.25v3c0 .69.56 1.25 1.25 1.25h5c.69 0 1.25-.56 1.25-1.25V7c0-.69-.56-1.25-1.25-1.25H7ZM4.25 15.5a.75.75 0 0 1 .75-.75h14a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75ZM5 18.25a.75.75 0 0 0 0 1.5h9a.75.75 0 0 0 0-1.5H5Z" clip-rule="evenodd"/>
  </svg>
`,eL=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M5 4.75a.25.25 0 0 0-.25.25v2a.75.75 0 0 1-1.5 0V5c0-.966.784-1.75 1.75-1.75h2a.75.75 0 0 1 0 1.5H5ZM16.25 4a.75.75 0 0 1 .75-.75h2c.966 0 1.75.784 1.75 1.75v2a.75.75 0 0 1-1.5 0V5a.25.25 0 0 0-.25-.25h-2a.75.75 0 0 1-.75-.75Zm-9 5.1c0-.47.38-.85.85-.85h7.8c.47 0 .85.38.85.85v5.8c0 .47-.38.85-.85.85H8.1a.85.85 0 0 1-.85-.85V9.1Zm1.5.65v4.5h6.5v-4.5h-6.5ZM4 16.25a.75.75 0 0 1 .75.75v2c0 .138.112.25.25.25h2a.75.75 0 0 1 0 1.5H5A1.75 1.75 0 0 1 3.25 19v-2a.75.75 0 0 1 .75-.75Zm16 0a.75.75 0 0 1 .75.75v2A1.75 1.75 0 0 1 19 20.75h-2a.75.75 0 0 1 0-1.5h2a.25.25 0 0 0 .25-.25v-2a.75.75 0 0 1 .75-.75Z" clip-rule="evenodd"/>
  </svg>
`,eD=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M6 3.25A2.75 2.75 0 0 0 3.25 6v12A2.75 2.75 0 0 0 6 20.75h12A2.75 2.75 0 0 0 20.75 18V6A2.75 2.75 0 0 0 18 3.25H6ZM4.75 6c0-.69.56-1.25 1.25-1.25h12c.69 0 1.25.56 1.25 1.25v12c0 .69-.56 1.25-1.25 1.25H6c-.69 0-1.25-.56-1.25-1.25V6Zm11.78 3.53a.75.75 0 0 0-1.06-1.06l-4.97 4.97-1.47-1.47a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.06 0l5.5-5.5Z" clip-rule="evenodd"/>
  </svg>
`,eZ=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/>
  </svg>
`,ej=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M13.982 4.272a.75.75 0 0 1 .546.91l-3.6 14.4a.75.75 0 1 1-1.456-.364l3.6-14.4a.75.75 0 0 1 .91-.546ZM7.13 8.07a.75.75 0 0 1 0 1.06L4.06 12.2l3.07 3.07a.75.75 0 0 1-1.06 1.06l-3.6-3.6a.75.75 0 0 1 0-1.06l3.6-3.6a.75.75 0 0 1 1.06 0Zm9.74 0a.75.75 0 0 1 1.06 0l3.6 3.6a.75.75 0 0 1 0 1.06l-3.6 3.6a.75.75 0 1 1-1.06-1.06l3.07-3.07-3.07-3.07a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/>
  </svg>
`,eV=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M2.25 6A2.75 2.75 0 0 1 5 3.25h14A2.75 2.75 0 0 1 21.75 6v12A2.75 2.75 0 0 1 19 20.75H5A2.75 2.75 0 0 1 2.25 18V6ZM5 4.75c-.69 0-1.25.56-1.25 1.25v12c0 .69.56 1.25 1.25 1.25h14c.69 0 1.25-.56 1.25-1.25V6c0-.69-.56-1.25-1.25-1.25H5Zm5.53 4.62a.75.75 0 0 1 0 1.06l-1.59 1.591 1.59 1.591a.75.75 0 0 1-1.06 1.06l-2.122-2.12a.75.75 0 0 1 0-1.061L9.47 9.37a.75.75 0 0 1 1.06 0Zm2.94 1.06a.75.75 0 1 1 1.06-1.06l2.122 2.12a.75.75 0 0 1 0 1.062l-2.122 2.12a.75.75 0 1 1-1.06-1.06l1.59-1.59-1.59-1.592Z" clip-rule="evenodd"/>
  </svg>
`,eR=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M15.97 2.02a.75.75 0 0 1 1.06 0l4.88 4.879a.85.85 0 0 1 0 1.202l-4.88 4.88a.75.75 0 1 1-1.06-1.062l3.67-3.669H18c-3.151 0-4.552.758-5.25 1.662-.745.963-.873 2.28-1.002 3.898l-.008.101c-.119 1.486-.259 3.245-1.303 4.595C9.323 19.946 7.349 20.75 4 20.75a.75.75 0 1 1 0-1.5c3.151 0 4.552-.758 5.25-1.662.745-.963.873-2.28 1.002-3.898l.008-.1c.119-1.487.259-3.246 1.303-4.596C12.677 7.554 14.651 6.75 18 6.75h1.64l-3.67-3.67a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/>
  </svg>
`,ez=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' d="M17.03 2.02a.75.75 0 1 0-1.06 1.06l3.67 3.67H14a2.75 2.75 0 0 0-2.75 2.75V18c0 .69-.56 1.25-1.25 1.25H3a.75.75 0 0 0 0 1.5h7A2.75 2.75 0 0 0 12.75 18V9.5c0-.69.56-1.25 1.25-1.25h5.64l-3.67 3.67a.75.75 0 1 0 1.06 1.06l4.88-4.879a.85.85 0 0 0 0-1.202L17.03 2.02Z"/>
  </svg>
`,eF=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' d="M13 3.25a.75.75 0 0 0 0 1.5h5.19L3.47 19.47a.75.75 0 1 0 1.06 1.06L19.25 5.81V11a.75.75 0 0 0 1.5 0V4.1a.85.85 0 0 0-.85-.85H13Z"/>
  </svg>
`,eN=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M3.25 6A2.75 2.75 0 0 1 6 3.25h8A2.75 2.75 0 0 1 16.75 6v1.25H18A2.75 2.75 0 0 1 20.75 10v8A2.75 2.75 0 0 1 18 20.75h-8A2.75 2.75 0 0 1 7.25 18v-1.25H6A2.75 2.75 0 0 1 3.25 14V6Zm5.5 12c0 .69.56 1.25 1.25 1.25h8c.69 0 1.25-.56 1.25-1.25v-8c0-.69-.56-1.25-1.25-1.25h-8c-.69 0-1.25.56-1.25 1.25v8Zm6.5-10.75H10A2.75 2.75 0 0 0 7.25 10v5.25H6c-.69 0-1.25-.56-1.25-1.25V6c0-.69.56-1.25 1.25-1.25h8c.69 0 1.25.56 1.25 1.25v1.25Z" clip-rule="evenodd"/>
  </svg>
`,eq=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' d="M4.8 3.25H3.25V4.8h1.5v-.05h.05v-1.5ZM8 3.25H6.4v1.5H8v-1.5ZM9.6 3.25v1.5H16A3.25 3.25 0 0 1 19.25 8v6.4h1.5V8A4.75 4.75 0 0 0 16 3.25H9.6ZM3.25 6.4V8h1.5V6.4h-1.5ZM3.25 9.6v1.6h1.5V9.6h-1.5ZM3.25 12.8v1.6h1.5v-1.6h-1.5ZM20.75 17.6V16h-1.5v1.6h1.5ZM3.25 16v1.6h1.5V16h-1.5ZM20.75 20.75V19.2h-1.5v.05h-.05v1.5h1.55ZM4.75 19.2h-1.5v1.55H4.8v-1.5h-.05v-.05ZM6.4 20.75H8v-1.5H6.4v1.5ZM9.6 20.75h1.6v-1.5H9.6v1.5ZM12.8 20.75h1.6v-1.5h-1.6v1.5ZM16 20.75h1.6v-1.5H16v1.5Z"/>
  </svg>
`,eU=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M12.95 6.066C14.2 4.301 16.352 3.25 20 3.25a.75.75 0 0 1 0 1.5c-3.352 0-4.95.949-5.825 2.184-.933 1.317-1.175 3.11-1.43 5.159l-.013.098c-.24 1.927-.51 4.088-1.682 5.742C9.8 19.7 7.647 20.75 4 20.75a.75.75 0 0 1 0-1.5c3.352 0 4.95-.949 5.825-2.183.933-1.318 1.175-3.11 1.43-5.16l.013-.098c.24-1.927.51-4.088 1.682-5.743Z" clip-rule="evenodd"/>
  </svg>
`,eW=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M3.25 12a.75.75 0 0 1 .75-.75h16a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75ZM12.53 10.53a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 0 1 1.06-1.06L12 8.94l2.47-2.47a.75.75 0 1 1 1.06 1.06l-3 3ZM15.53 17.53a.75.75 0 0 1-1.06 0L12 15.06l-2.47 2.47a.75.75 0 0 1-1.06-1.06l3-3a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"/><path fill='currentColor' fill-rule="evenodd" d="M12 2.25a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM11.25 21v-7h1.5v7a.75.75 0 0 1-1.5 0Z" clip-rule="evenodd"/>
  </svg>
`,eG=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M20.53 3.53a.75.75 0 0 1 0 1.061l-3.189 3.19a.75.75 0 0 1-1.06-1.061l3.189-3.19a.75.75 0 0 1 1.06 0Zm-6.375 6.375a.75.75 0 0 1 0 1.061l-3.189 3.19a.75.75 0 0 1-1.06-1.061l3.189-3.19a.75.75 0 0 1 1.06 0ZM7.78 17.341a.75.75 0 0 0-1.06-1.06L3.53 19.47a.75.75 0 1 0 1.061 1.06l3.19-3.189Z" clip-rule="evenodd"/>
  </svg>
`,eY=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M5.5 3.75A1.75 1.75 0 0 0 3.75 5.5V18c0 .966.784 1.75 1.75 1.75h4A1.75 1.75 0 0 0 11.25 18V5.5A1.75 1.75 0 0 0 9.5 3.75h-4ZM5.25 5.5a.25.25 0 0 1 .25-.25h4a.25.25 0 0 1 .25.25V18a.25.25 0 0 1-.25.25h-4a.25.25 0 0 1-.25-.25V5.5Zm9.25-1.75a1.75 1.75 0 0 0-1.75 1.75v7c0 .966.784 1.75 1.75 1.75h4a1.75 1.75 0 0 0 1.75-1.75v-7a1.75 1.75 0 0 0-1.75-1.75h-4Zm-.25 1.75a.25.25 0 0 1 .25-.25h4a.25.25 0 0 1 .25.25v7a.25.25 0 0 1-.25.25h-4a.25.25 0 0 1-.25-.25v-7Z" clip-rule="evenodd"/>
  </svg>
`,eK=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M3.25 6A2.75 2.75 0 0 1 6 3.25h12A2.75 2.75 0 0 1 20.75 6v12A2.75 2.75 0 0 1 18 20.75H6A2.75 2.75 0 0 1 3.25 18V6ZM6 4.75c-.69 0-1.25.56-1.25 1.25v2.25h14.5V6c0-.69-.56-1.25-1.25-1.25H6ZM4.75 18V9.75h3v9.5H6c-.69 0-1.25-.56-1.25-1.25Zm4.5 1.25H18c.69 0 1.25-.56 1.25-1.25V9.75h-10v9.5Z" clip-rule="evenodd"/>
  </svg>
`,eX=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M11 2.25A2.75 2.75 0 0 0 8.25 5v1.15H4a.85.85 0 0 0 0 1.7h.309l.81 11.346a2.75 2.75 0 0 0 2.743 2.554h8.276a2.75 2.75 0 0 0 2.743-2.554l.81-11.346H20a.85.85 0 0 0 0-1.7h-4.25V5A2.75 2.75 0 0 0 13 2.25h-2Zm3.25 3.9V5c0-.69-.56-1.25-1.25-1.25h-2c-.69 0-1.25.56-1.25 1.25v1.15h4.5Zm3.937 1.7H5.813l.802 11.24a1.25 1.25 0 0 0 1.247 1.16h8.276c.656 0 1.2-.507 1.247-1.16l.802-11.24ZM10.75 11a.75.75 0 0 0-1.5 0v6a.75.75 0 0 0 1.5 0v-6Zm3.25-.75a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 .75-.75Z" clip-rule="evenodd"/>
  </svg>
`,eQ=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M12 1.94 22.06 12 12 22.06 1.94 12 12 1.94ZM4.06 12 12 19.94 19.94 12 12 4.06 4.06 12Z" clip-rule="evenodd"/>
  </svg>
`,eJ=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M5 3.25a.75.75 0 0 1 .75.75v16a.75.75 0 0 1-1.5 0V4A.75.75 0 0 1 5 3.25Zm14 0a.75.75 0 0 1 .75.75v16a.75.75 0 0 1-1.5 0V4a.75.75 0 0 1 .75-.75ZM10.5 16a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-1a1 1 0 0 0-1 1v9Z" clip-rule="evenodd"/>
  </svg>
`,e1=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M20.75 5a.75.75 0 0 1-.75.75H4a.75.75 0 0 1 0-1.5h16a.75.75 0 0 1 .75.75Zm0 14a.75.75 0 0 1-.75.75H4a.75.75 0 0 1 0-1.5h16a.75.75 0 0 1 .75.75ZM7.5 10.5a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1h-9Z" clip-rule="evenodd"/>
  </svg>
`,e0=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M4 4.25a.75.75 0 0 1 .75.75v1c0 .69.56 1.25 1.25 1.25h12c.69 0 1.25-.56 1.25-1.25V5a.75.75 0 0 1 1.5 0v1A2.75 2.75 0 0 1 18 8.75H6A2.75 2.75 0 0 1 3.25 6V5A.75.75 0 0 1 4 4.25Zm0 15.5a.75.75 0 0 0 .75-.75v-1c0-.69.56-1.25 1.25-1.25h12c.69 0 1.25.56 1.25 1.25v1a.75.75 0 0 0 1.5 0v-1A2.75 2.75 0 0 0 18 15.25H6A2.75 2.75 0 0 0 3.25 18v1c0 .414.336.75.75.75Zm-1-8.5a.75.75 0 0 0 0 1.5h1.2a.75.75 0 0 0 0-1.5H3Zm3.45.75a.75.75 0 0 1 .75-.75h1.2a.75.75 0 0 1 0 1.5H7.2a.75.75 0 0 1-.75-.75Zm4.95-.75a.75.75 0 0 0 0 1.5h1.2a.75.75 0 0 0 0-1.5h-1.2Zm3.45.75a.75.75 0 0 1 .75-.75h1.2a.75.75 0 0 1 0 1.5h-1.2a.75.75 0 0 1-.75-.75Zm4.95-.75a.75.75 0 0 0 0 1.5H21a.75.75 0 0 0 0-1.5h-1.2Z" clip-rule="evenodd"/>
  </svg>
`,e2=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M19.53 6.47a.75.75 0 0 1 0 1.06l-10 10a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06L9 15.94l9.47-9.47a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd"/>
  </svg>
`,e5=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M12.75 4.75a.75.75 0 0 0-1.5 0v8.69l-2.22-2.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 1 0-1.06-1.06l-2.22 2.22V4.75Zm-8 6A.25.25 0 0 1 5 10.5h1A.75.75 0 0 0 6 9H5a1.75 1.75 0 0 0-1.75 1.75v7A2.75 2.75 0 0 0 6 20.5h12a2.75 2.75 0 0 0 2.75-2.75v-7A1.75 1.75 0 0 0 19 9h-1a.75.75 0 0 0 0 1.5h1a.25.25 0 0 1 .25.25v7c0 .69-.56 1.25-1.25 1.25H6c-.69 0-1.25-.56-1.25-1.25v-7Z" clip-rule="evenodd"/>
  </svg>
`,e7=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M10.667 6.2a.75.75 0 0 1 0-1.5H19a.75.75 0 0 1 .75.75v8.333a.75.75 0 0 1-1.5 0V7.261L6.53 18.98a.75.75 0 1 1-1.06-1.061L17.19 6.2h-6.523Z" clip-rule="evenodd"/>
  </svg>
`,e3=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M6 3.25A2.75 2.75 0 0 0 3.25 6v8A2.75 2.75 0 0 0 6 16.75h1.25V18A2.75 2.75 0 0 0 10 20.75h8A2.75 2.75 0 0 0 20.75 18v-8A2.75 2.75 0 0 0 18 7.25h-1.25V6A2.75 2.75 0 0 0 14 3.25H6Zm4 4h5.25V6c0-.69-.56-1.25-1.25-1.25H6c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h2a.75.75 0 0 1 .75.75v2c0 .69.56 1.25 1.25 1.25h8c.69 0 1.25-.56 1.25-1.25v-8c0-.69-.56-1.25-1.25-1.25h-8a1.25 1.25 0 0 0-1.17.81.75.75 0 0 1-1.405-.528A2.75 2.75 0 0 1 10 7.25Zm2.887 3.239a.75.75 0 1 0-1.098 1.022l.688.739H7.8a.75.75 0 0 0 0 1.5h4.677l-.688.739a.75.75 0 0 0 1.098 1.022l1.862-2a.75.75 0 0 0 0-1.022l-1.862-2Z" clip-rule="evenodd"/>
  </svg>
`,e4=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M7.168 4.75a1.868 1.868 0 1 0 0 3.736 1.868 1.868 0 0 0 0-3.736ZM3.8 6.618a3.368 3.368 0 0 1 6.729-.226c.842 0 1.651.014 2.493.217.933.226 1.865.672 2.975 1.504l.02.015.02.017c1.566 1.35 2.35 3.533 2.354 5.578h1.66a.75.75 0 0 1 .75.75v4.713a.75.75 0 0 1-.75.75h-4.714a.75.75 0 0 1-.75-.75v-4.713a.75.75 0 0 1 .75-.75h1.554c-.004-1.705-.663-3.42-1.815-4.426-.975-.728-1.719-1.064-2.406-1.23-.712-.172-1.407-.175-2.36-.175v-.057a3.375 3.375 0 0 1-2.392 2.068v3.904a3.37 3.37 0 0 1-.75 6.652 3.368 3.368 0 0 1-.75-6.652V9.903A3.37 3.37 0 0 1 3.8 6.618Zm3.368 8.605a1.868 1.868 0 1 0 0 3.736 1.868 1.868 0 0 0 0-3.736Zm8.92 3.213v-3.213H19.3v3.213h-3.213Z" clip-rule="evenodd"/>
  </svg>
`,e6=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M18.303 4.498a.85.85 0 0 1 1.2 0c.33.33.33.863 0 1.192l-.43.428-1.196-1.195.426-.425Zm-1.488 1.485 1.197 1.195-7.086 7.072H9.75v-1.216l7.065-7.051Zm3.747-2.547a2.35 2.35 0 0 0-3.318 0L8.47 12.192a.75.75 0 0 0-.22.531V15c0 .414.336.75.75.75h2.236a.75.75 0 0 0 .53-.22l8.796-8.778c.917-.915.917-2.4 0-3.316ZM4.75 6c0-.69.56-1.25 1.25-1.25h6a.75.75 0 0 0 0-1.5H6A2.75 2.75 0 0 0 3.25 6v12A2.75 2.75 0 0 0 6 20.75h12A2.75 2.75 0 0 0 20.75 18v-6a.75.75 0 0 0-1.5 0v6c0 .69-.56 1.25-1.25 1.25H6c-.69 0-1.25-.56-1.25-1.25V6Z" clip-rule="evenodd"/>
  </svg>
`,e8=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M11.25 7A2.75 2.75 0 0 1 14 4.25h7a.75.75 0 0 1 0 1.5h-7c-.69 0-1.25.56-1.25 1.25v10A2.75 2.75 0 0 1 10 19.75H3a.75.75 0 0 1 0-1.5h7c.69 0 1.25-.56 1.25-1.25V7Z" clip-rule="evenodd"/>
  </svg>
`,e9=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M12 3.75a8.25 8.25 0 1 0 0 16.5 8.25 8.25 0 0 0 0-16.5ZM2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Z" clip-rule="evenodd"/>
  </svg>
`,te=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M5 3.25A2.75 2.75 0 0 0 2.25 6v12A2.75 2.75 0 0 0 5 20.75h14A2.75 2.75 0 0 0 21.75 18V6A2.75 2.75 0 0 0 19 3.25H5Zm15.25 5V6c0-.69-.56-1.25-1.25-1.25H5c-.69 0-1.25.56-1.25 1.25v2.25h16.5Zm-16.5 1.5h16.5V18c0 .69-.56 1.25-1.25 1.25H5c-.69 0-1.25-.56-1.25-1.25V9.75Zm6.78 3.28a.75.75 0 1 0-1.06-1.06L7.348 14.09a.75.75 0 0 0 0 1.06l2.122 2.122a.75.75 0 1 0 1.06-1.06L8.94 14.62l1.59-1.59Zm2.94-1.06a.75.75 0 0 0 0 1.06l1.59 1.591-1.59 1.591a.75.75 0 0 0 1.06 1.061l2.122-2.121a.75.75 0 0 0 0-1.06L14.53 11.97a.75.75 0 0 0-1.06 0ZM6.5 6.55a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm1.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" clip-rule="evenodd"/>
  </svg>
`,tt=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M16.47 7.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 1 1-1.06-1.06l2.72-2.72H3a.75.75 0 0 1 0-1.5h16.19l-2.72-2.72a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/>
  </svg>
`,ti=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' d="M18 8.25a3.751 3.751 0 0 0-3.675 3H3a.75.75 0 0 0 0 1.5h11.325A3.751 3.751 0 0 0 21.75 12 3.75 3.75 0 0 0 18 8.25Z"/>
  </svg>
`,ts=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' d="M17.47 8.47a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 0 1-1.06 0l-2.78-2.78H3a.75.75 0 0 1 0-1.5h11.69l2.78-2.78Z"/>
  </svg>
`,to=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' d="M17.53 7.47a.75.75 0 0 0-1.28.53v3.25H3a.75.75 0 0 0 0 1.5h13.25V16a.75.75 0 0 0 1.28.53l4-4a.75.75 0 0 0 0-1.06l-4-4Z"/>
  </svg>
`,tr=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M20.53 3.47a.75.75 0 0 1 0 1.06l-4.22 4.22h2.19a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75v-4a.75.75 0 0 1 1.5 0v2.19l4.22-4.22a.75.75 0 0 1 1.06 0ZM5.5 15.25a.75.75 0 0 1 0-1.5h4a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-2.19l-4.22 4.22a.75.75 0 0 1-1.06-1.06l4.22-4.22H5.5Z" clip-rule="evenodd"/>
  </svg>
`,ta=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M15.25 4a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0V5.81l-4.22 4.22a.75.75 0 1 1-1.06-1.06l4.22-4.22H16a.75.75 0 0 1-.75-.75Zm-5.22 9.97a.75.75 0 0 1 0 1.06l-4.22 4.22H8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75v-4a.75.75 0 0 1 1.5 0v2.19l4.22-4.22a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd"/>
  </svg>
`,tn=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M4.25 5A.75.75 0 0 1 5 4.25h3.5a.75.75 0 0 1 0 1.5H6.81l3.095 3.095a.75.75 0 0 1-1.06 1.06L5.75 6.811V8.5a.75.75 0 0 1-1.5 0V5Zm10.5 0a.75.75 0 0 1 .75-.75H19a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0V6.81l-3.095 3.095a.75.75 0 1 1-1.06-1.06l3.094-3.095H15.5a.75.75 0 0 1-.75-.75Zm-4.845 9.095a.75.75 0 0 1 0 1.06L6.811 18.25H8.5a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75v-3.5a.75.75 0 0 1 1.5 0v1.69l3.095-3.095a.75.75 0 0 1 1.06 0Zm4.19 0a.75.75 0 0 1 1.06 0l3.095 3.094V15.5a.75.75 0 0 1 1.5 0V19a.75.75 0 0 1-.75.75h-3.5a.75.75 0 0 1 0-1.5h1.69l-3.095-3.095a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/>
  </svg>
`,tl=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M8 2.25A2.75 2.75 0 0 0 5.25 5v3a.75.75 0 0 0 1.5 0V5c0-.69.56-1.25 1.25-1.25h7.522c.386 0 .75.178.987.483l2.478 3.186c.17.22.263.49.263.767V18c0 .69-.56 1.25-1.25 1.25H8c-.69 0-1.25-.56-1.25-1.25v-1.5a.75.75 0 0 0-1.5 0V18A2.75 2.75 0 0 0 8 20.75h10A2.75 2.75 0 0 0 20.75 18V8.186a2.75 2.75 0 0 0-.58-1.688l-2.477-3.186a2.75 2.75 0 0 0-2.171-1.062H8ZM2.793 13.923c0 .416.226.65.621.65.396 0 .621-.234.621-.65v-.577h.604c.987 0 1.658-.6 1.658-1.533 0-.94-.633-1.54-1.573-1.54h-1.31c-.395 0-.621.234-.621.65v3Zm1.59-1.494h-.348v-1.222h.358c.404 0 .65.208.65.61 0 .404-.246.612-.66.612Zm2.353 1.529c0 .398.214.615.586.615.37 0 .586-.217.586-.615v-1.685h.024l1.444 1.96c.176.24.343.34.58.34.37 0 .571-.202.571-.574v-3.184c0-.399-.213-.616-.586-.616-.369 0-.586.217-.586.616v1.649h-.023l-1.433-1.925c-.178-.237-.351-.34-.577-.34-.38 0-.586.2-.586.574v3.185Zm4.275-1.576c0 1.403.794 2.191 2.136 2.191 1.26 0 1.957-.773 1.957-1.778 0-.416-.226-.65-.622-.65h-.817c-.281 0-.46.146-.46.413 0 .266.182.413.46.413h.243l-.006.058c-.035.34-.322.566-.726.566-.545 0-.9-.46-.9-1.23 0-.754.31-1.187.838-1.187.3 0 .501.111.7.378a.68.68 0 0 0 .58.296c.317 0 .534-.214.534-.525a.646.646 0 0 0-.085-.32c-.25-.444-.888-.808-1.735-.808-1.303 0-2.097.797-2.097 2.183Z" clip-rule="evenodd"/>
  </svg>
`,tc=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="m5.208 11.106.694-.617a.75.75 0 0 1 .996 1.122l-1.96 1.74a.75.75 0 0 1-1.012-.014L2.08 11.596a.75.75 0 1 1 1.03-1.091l.592.558a8.351 8.351 0 0 1 14.203-4.967.75.75 0 1 1-1.06 1.06 6.851 6.851 0 0 0-11.636 3.95Zm14.397-.525a.75.75 0 0 1 .531.257l1.826 2.094a.75.75 0 0 1-1.13.986l-.576-.66A8.352 8.352 0 0 1 5.97 17.776a.75.75 0 0 1 1.083-1.038 6.852 6.852 0 0 0 11.702-3.593l-.863.823a.75.75 0 0 1-1.035-1.086l2.196-2.094a.75.75 0 0 1 .552-.207Z" clip-rule="evenodd"/>
  </svg>
`,td=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M1 18.161c0 .468.387.804.916.804.457 0 .722-.214.895-.702l1.292-3.642h5.809l1.302 3.642c.173.488.437.702.895.702.53 0 .916-.336.916-.804 0-.132-.03-.285-.112-.509L8.183 4.875c-.225-.6-.59-.875-1.15-.875-.6 0-.977.285-1.2.885L1.111 17.652c-.081.224-.112.377-.112.509Zm8.393-5.097H4.632l2.35-6.694h.06l2.35 6.694Zm4.26 2.767c0 1.903 1.414 3.174 3.52 3.174 1.425 0 2.778-.793 3.408-2.004h.04v1.11c0 .528.347.894.845.894.489 0 .834-.366.834-.895v-6.602c0-2.106-1.566-3.449-4.048-3.449-1.72 0-3.266.763-3.866 1.923a1.531 1.531 0 0 0-.214.732c0 .478.326.794.784.794.335 0 .57-.132.732-.427.59-1.048 1.373-1.465 2.523-1.465 1.465 0 2.32.773 2.32 2.065v.885l-3.042.173c-2.442.142-3.836 1.281-3.836 3.092Zm6.877-1.027c0 1.526-1.292 2.696-2.96 2.696-1.272 0-2.116-.662-2.116-1.669 0-.997.814-1.627 2.238-1.719l2.838-.173v.865Z" clip-rule="evenodd"/>
  </svg>
`,th=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M7 20.75a.75.75 0 0 1-.75-.75v-2.25H4a.75.75 0 0 1 0-1.5h2.25v-8.5H4a.75.75 0 0 1 0-1.5h2.25V4a.75.75 0 0 1 1.5 0v2.25h8.5V4a.75.75 0 0 1 1.5 0v2.25H20a.75.75 0 0 1 0 1.5h-2.25v8.5H20a.75.75 0 0 1 0 1.5h-2.25V20a.75.75 0 0 1-1.5 0v-2.25h-8.5V20a.75.75 0 0 1-.75.75Zm9.25-4.5v-8.5h-8.5v8.5h8.5Z" clip-rule="evenodd"/>
  </svg>
`,tu=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' d="M5.778 4.75c-.564 0-1.028.464-1.028 1.028v1.778a.75.75 0 0 1-1.5 0V5.778A2.533 2.533 0 0 1 5.778 3.25h1.778a.75.75 0 0 1 0 1.5H5.778ZM15.694 4a.75.75 0 0 1 .75-.75h1.778a2.533 2.533 0 0 1 2.528 2.528v1.778a.75.75 0 0 1-1.5 0V5.778c0-.564-.464-1.028-1.028-1.028h-1.778a.75.75 0 0 1-.75-.75ZM4 15.694a.75.75 0 0 1 .75.75v1.778c0 .564.464 1.028 1.028 1.028h1.778a.75.75 0 0 1 0 1.5H5.778a2.533 2.533 0 0 1-2.528-2.528v-1.778a.75.75 0 0 1 .75-.75ZM20 15.694a.75.75 0 0 1 .75.75v1.778a2.533 2.533 0 0 1-2.528 2.528h-1.778a.75.75 0 0 1 0-1.5h1.778c.564 0 1.028-.464 1.028-1.028v-1.778a.75.75 0 0 1 .75-.75Z"/><path fill='currentColor' fill-rule="evenodd" d="M14.75 11.25V8.8c0-.904-.77-1.55-1.607-1.55H8.857c-.838 0-1.607.646-1.607 1.55v2.4c0 .904.77 1.55 1.607 1.55h.394l-.001.05v2.4c0 .904.77 1.55 1.607 1.55h4.286c.838 0 1.607-.646 1.607-1.55v-2.4c0-.904-.77-1.55-1.607-1.55h-.394Zm-6-2.45V11.202c.001.002.005.008.013.015a.138.138 0 0 0 .094.033h4.286a.137.137 0 0 0 .094-.033.05.05 0 0 0 .012-.015l.001-.002V8.798a.051.051 0 0 0-.013-.015.137.137 0 0 0-.094-.033H8.857a.137.137 0 0 0-.094.033.053.053 0 0 0-.013.015V8.8Zm2.107 3.95a.137.137 0 0 0-.094.033.05.05 0 0 0-.012.015l-.001.002V15.202a.05.05 0 0 0 .013.015.137.137 0 0 0 .094.033h4.286a.137.137 0 0 0 .094-.033.05.05 0 0 0 .012-.015l.001-.002V12.798a.05.05 0 0 0-.013-.015.137.137 0 0 0-.094-.033h-4.286Z" clip-rule="evenodd"/>
  </svg>
`,tp=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' d="M14.733 20.75a11.328 11.328 0 0 1-4.415-.993l-5.44-2.56a2.238 2.238 0 0 1-1.06-2.967c.251-.533.703-.944 1.256-1.144a2.21 2.21 0 0 1 1.694.081l1.016.479c-.477-1.621-1.431-4.305-2.862-5.873l-.883-.717a2.145 2.145 0 0 1 1.014-3.78 2.14 2.14 0 0 1 1.565.36A12.125 12.125 0 0 1 9.39 6.4c.26-.389.637-.684 1.077-.841a2.149 2.149 0 0 1 1.687.08c.235.11.45.26.636.442.238-.27.542-.475.883-.593a2.016 2.016 0 0 1 1.572.08c.279.126.524.318.715.558.099-.064.205-.115.318-.15a1.55 1.55 0 0 1 1.987.938l2.11 5.881a6.511 6.511 0 0 1 0 4.35 5.317 5.317 0 0 1-3.223 3.232c-.78.26-1.598.385-2.42.372Zm-8.802-6.414c-.128-.027-.32-.035-.417 0a.883.883 0 0 0-.512.461.888.888 0 0 0 .433 1.196l5.404 2.613s3.197 1.488 5.828.54a3.902 3.902 0 0 0 2.438-2.41 5.134 5.134 0 0 0 0-3.445l-2.12-5.881a.223.223 0 0 0-.202-.157.23.23 0 0 0-.222.307l.3.886a.664.664 0 0 1-.397.886.661.661 0 0 1-.883-.399l-.583-1.63a.796.796 0 0 0-.38-.416.713.713 0 0 0-.556 0 .725.725 0 0 0-.468.886l.247.93a.657.657 0 0 1-.45.797.652.652 0 0 1-.812-.407l-.583-1.612a.885.885 0 0 0-1.122-.523.884.884 0 0 0-.52 1.125l.423 1.187a.668.668 0 0 1-.397.886.66.66 0 0 1-.883-.399A10.226 10.226 0 0 0 5.77 4.921a.793.793 0 0 0-1.104.177c-.127.168-.116.326-.091.536.024.21.13.402.293.536l.883.744.061.062C8.223 9.57 9.345 14.637 9.39 14.85a.666.666 0 0 1-.239.664.67.67 0 0 1-.688.08l-1.54-.797c-.385-.21-.466-.282-.991-.46Z"/>
  </svg>
`,tf=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M17.926 6.578v10.898c0 .602.33.963.862.963.541 0 .862-.351.862-.963V5.726c0-.682-.451-1.153-1.093-1.153-.39 0-.742.15-1.373.622l-2.026 1.504c-.4.29-.591.561-.591.852 0 .38.3.692.672.692.22 0 .43-.08.721-.291l1.885-1.374h.08ZM4.42 4.903a.77.77 0 0 1 .77.77v5.35h6.168v-5.35a.77.77 0 1 1 1.54 0v12.242a.77.77 0 1 1-1.54 0v-5.351H5.19v5.351a.77.77 0 0 1-1.54 0V5.673a.77.77 0 0 1 .77-.77Z" clip-rule="evenodd"/>
  </svg>
`,tg=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M14.159 16c-.562.638-.724.905-.724 1.248 0 .553.438.886 1.134.886h6.289c.524 0 .829-.276.829-.724 0-.457-.324-.734-.83-.734H15.57v-.114l3.526-4.031c1.715-1.954 2.201-2.859 2.201-4.098 0-2.096-1.648-3.583-3.992-3.583-2.516 0-4.089 1.697-4.089 3.317 0 .514.305.867.772.867.391 0 .658-.258.791-.763.286-1.238 1.191-1.972 2.42-1.972 1.45 0 2.412.896 2.412 2.24 0 .895-.41 1.696-1.487 2.925L14.159 16ZM3.419 5.364c.404 0 .732.327.732.731v5.087h5.862V6.095a.732.732 0 1 1 1.464 0v11.637a.732.732 0 0 1-1.464 0v-5.087H4.151v5.087a.732.732 0 1 1-1.464 0V6.095c0-.404.328-.731.732-.731Z" clip-rule="evenodd"/>
  </svg>
`,tm=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M4.05 5.856a.75.75 0 1 0-1.5 0v11.922a.75.75 0 1 0 1.5 0v-5.211h6.006v5.21a.75.75 0 0 0 1.5 0V5.857a.75.75 0 0 0-1.5 0v5.21H4.05v-5.21Zm9.479 9.234c-.418 0-.713.304-.713.732 0 1.454 1.796 2.937 4.248 2.937 2.642 0 4.486-1.56 4.486-3.783 0-1.635-1.226-3.041-2.832-3.222v-.095c1.32-.228 2.395-1.596 2.395-3.031 0-1.977-1.692-3.393-4.068-3.393-2.338 0-3.925 1.425-3.925 2.898 0 .476.285.79.723.79.37 0 .608-.2.798-.723.38-.979 1.235-1.54 2.366-1.54 1.454 0 2.433.875 2.433 2.177s-1.007 2.242-2.395 2.242h-1.121c-.456 0-.76.295-.76.713 0 .409.323.723.76.723h1.188c1.653 0 2.765.978 2.765 2.432 0 1.455-1.083 2.386-2.784 2.386-1.293 0-2.281-.57-2.775-1.587-.247-.485-.456-.656-.79-.656Z" clip-rule="evenodd"/>
  </svg>
`,tv=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M18.793 15.755v1.931c0 .552.286.866.79.866.514 0 .8-.314.8-.866v-1.931h.989c.542 0 .847-.267.847-.723 0-.467-.314-.733-.847-.733h-.99V6.696c0-.885-.485-1.38-1.35-1.38-.657 0-1.095.286-1.657 1.114-2.16 3.235-3.016 4.605-4.377 7.013-.333.609-.447.942-.447 1.294 0 .628.495 1.018 1.237 1.018h5.005Zm0-1.456H14.15v-.095c1.246-2.16 2.94-4.882 4.558-7.27h.085V14.3ZM2.95 5.705a.73.73 0 0 1 .73.731v5.079h5.855V6.436a.73.73 0 1 1 1.461 0v11.62a.73.73 0 0 1-1.461 0v-5.08H3.68v5.08a.73.73 0 0 1-1.461 0V6.435a.73.73 0 0 1 .73-.73Z" clip-rule="evenodd"/>
  </svg>
`,ty=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M13.615 15.053c-.409 0-.678.316-.678.78 0 1.302 1.534 2.799 3.988 2.799 2.593 0 4.443-1.822 4.443-4.388 0-2.408-1.664-4.1-4.025-4.1-1.07 0-2.157.447-2.575 1.07h-.093l.353-4.137h5.01c.55 0 .856-.251.856-.698 0-.455-.316-.725-.855-.725h-5.215c-.8 0-1.2.326-1.255 1.014l-.41 5.205c-.046.716.224 1.135.754 1.135.297 0 .483-.112 1.162-.744a2.773 2.773 0 0 1 1.905-.725c1.609 0 2.752 1.152 2.752 2.789 0 1.71-1.18 2.9-2.872 2.9-1.116 0-1.971-.54-2.482-1.534-.242-.474-.447-.641-.763-.641ZM3.082 5.903c.394 0 .714.32.714.715v4.962h5.72V6.618a.714.714 0 1 1 1.427 0V17.969a.714.714 0 1 1-1.428 0v-4.961H3.796v4.962a.714.714 0 0 1-1.428 0V6.617c0-.394.32-.714.714-.714Z" clip-rule="evenodd"/>
  </svg>
`,tb=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M17.65 5.517c-3.098 0-4.825 2.492-4.825 6.98 0 1.932.318 3.379.962 4.405.765 1.204 2.025 1.858 3.602 1.858 2.594 0 4.349-1.745 4.349-4.312 0-2.436-1.661-4.144-4.032-4.144-1.456 0-2.79.803-3.22 1.941h-.074c.028-3.49 1.13-5.319 3.21-5.319.83 0 1.53.299 2.203.961.336.327.532.43.793.43.401 0 .69-.3.69-.7 0-.43-.373-.943-.989-1.344-.709-.486-1.67-.756-2.669-.756Zm-.196 11.843c-1.652 0-2.809-1.185-2.809-2.856 0-1.652 1.13-2.81 2.744-2.81 1.661 0 2.744 1.12 2.744 2.82 0 1.717-1.074 2.846-2.679 2.846Zm-14-11.369c.396 0 .717.321.717.717v4.981h5.742V6.708a.717.717 0 0 1 1.434 0v11.396a.717.717 0 1 1-1.434 0v-4.981H4.171v4.981a.717.717 0 0 1-1.433 0V6.708c0-.396.32-.717.717-.717Z" clip-rule="evenodd"/>
  </svg>
`,tw=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M7.416 4c.506 0 .916.4.916.894v6.212h7.336V4.894c0-.494.41-.894.916-.894s.916.4.916.894v14.212c0 .494-.41.894-.916.894a.905.905 0 0 1-.916-.894v-6.212H8.332v6.212c0 .494-.41.894-.916.894a.905.905 0 0 1-.916-.894V4.894C6.5 4.4 6.91 4 7.416 4Z" clip-rule="evenodd"/>
  </svg>
`,tx=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M6 3.25A2.75 2.75 0 0 0 3.25 6v12A2.75 2.75 0 0 0 6 20.75h12A2.75 2.75 0 0 0 20.75 18V6A2.75 2.75 0 0 0 18 3.25H6ZM4.75 18v-1.69l4.366-4.365a1.25 1.25 0 0 1 1.768 0l2.586 2.585 2 2a.75.75 0 1 0 1.06-1.06L15.06 14l1.056-1.056a1.25 1.25 0 0 1 1.768 0l1.366 1.367V18c0 .69-.56 1.25-1.25 1.25H6c-.69 0-1.25-.56-1.25-1.25Zm7.194-7.116L14 12.939l1.056-1.055a2.75 2.75 0 0 1 3.889 0l.305.305V6c0-.69-.56-1.25-1.25-1.25H6c-.69 0-1.25.56-1.25 1.25v8.19l3.305-3.306a2.75 2.75 0 0 1 3.89 0ZM14 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"/>
  </svg>
`,t_=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M4.6 7.55a.75.75 0 1 0-1.2.9 10.805 10.805 0 0 0 2.939 2.69l-1.963 2.944a.75.75 0 0 0 1.248.832l2-3a.755.755 0 0 0 .044-.075c1.108.489 2.315.796 3.582.883V17.5a.75.75 0 1 0 1.5 0v-4.776a10.69 10.69 0 0 0 3.582-.883c.013.026.028.05.044.075l2 3a.75.75 0 0 0 1.248-.832l-1.962-2.944A10.807 10.807 0 0 0 20.6 8.45a.75.75 0 0 0-1.2-.9 9.235 9.235 0 0 1-7.4 3.7 9.235 9.235 0 0 1-7.402-3.7Z" clip-rule="evenodd"/>
  </svg>
`,tC=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M14.607 3.25H10.25a.75.75 0 0 0 0 1.5h3.34l-4.758 14.5H5a.75.75 0 1 0 0 1.5h8.75a.75.75 0 0 0 0-1.5h-3.34l4.758-14.5H19a.75.75 0 0 0 0-1.5H14.608Z" clip-rule="evenodd"/>
  </svg>
`,tk=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M11.754 3.802a.75.75 0 0 1 .631-.01l7.92 3.523a.75.75 0 0 1 .021 1.36l-8.08 3.904a.75.75 0 0 1-.631.01l-7.92-3.522a.75.75 0 0 1-.021-1.36l8.08-3.905Zm.34 1.502-6.312 3.05 6.124 2.723 6.312-3.049-6.124-2.724Zm8.581 6.56a.75.75 0 0 1-.349 1.002l-8.08 3.904a.75.75 0 0 1-.631.01l-7.92-3.523a.75.75 0 0 1 .61-1.37l7.601 3.38 7.768-3.752a.75.75 0 0 1 1.001.35Zm0 4.31a.75.75 0 0 1-.349 1.001l-8.08 3.904a.75.75 0 0 1-.631.01l-7.92-3.522a.75.75 0 0 1 .61-1.371l7.601 3.381 7.768-3.752a.75.75 0 0 1 1.001.349Z" clip-rule="evenodd"/>
  </svg>
`,tS=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M3.65 5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 0 1.5h-3A.75.75 0 0 1 3.65 5Zm6.1 0a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 0 1.5h-3A.75.75 0 0 1 9.75 5Zm7.05-.75a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3ZM3.245 12c0-.47.38-.85.85-.85h15.79a.85.85 0 0 1 0 1.7H4.094a.85.85 0 0 1-.85-.85ZM4.5 17.75a1.25 1.25 0 1 0 0 2.5h15a1.25 1.25 0 0 0 0-2.5h-15Z" clip-rule="evenodd"/>
  </svg>
`,tM=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M18.428 5.572a2.806 2.806 0 0 0-3.967 0l-.978.977a.75.75 0 0 1-1.06-1.06l.977-.978a4.305 4.305 0 1 1 6.089 6.089l-3.556 3.556a4.306 4.306 0 0 1-6.089 0 .75.75 0 0 1 1.061-1.061 2.805 2.805 0 0 0 3.968 0l3.555-3.556a2.806 2.806 0 0 0 0-3.967Zm-5.333 5.333a2.805 2.805 0 0 0-3.968 0l-3.555 3.556a2.806 2.806 0 0 0 3.967 3.967l.98-.979a.75.75 0 0 1 1.06 1.06l-.979.98A4.305 4.305 0 1 1 4.511 13.4l3.556-3.556a4.306 4.306 0 0 1 6.089 0 .75.75 0 0 1-1.061 1.061Z" clip-rule="evenodd"/>
  </svg>
`,tE=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M6.5 4.75a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5ZM3.25 6.5a3.25 3.25 0 0 1 6.49-.25c.794.001 1.56.016 2.357.208.897.217 1.79.645 2.853 1.442l.02.015.02.017c.864.745 1.475 1.75 1.841 2.826a.75.75 0 0 1-1.42.484c-.294-.865-.766-1.62-1.382-2.158-.928-.692-1.633-1.01-2.284-1.167-.675-.163-1.334-.167-2.244-.167A3.257 3.257 0 0 1 7.25 9.663v3.674a3.251 3.251 0 1 1-1.5 0V9.663A3.251 3.251 0 0 1 3.25 6.5Zm3.25 8.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5Zm8-1.5a.75.75 0 0 0 0 1.5h2.69l-3.72 3.72a.75.75 0 1 0 1.06 1.06l3.72-3.72v2.69a.75.75 0 0 0 1.5 0V14a.75.75 0 0 0-.75-.75h-4.5Z" clip-rule="evenodd"/>
  </svg>
`,tI=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M4.25 6A2.75 2.75 0 0 1 7 3.25h10A2.75 2.75 0 0 1 19.75 6v6a.75.75 0 0 1-1.5 0V6c0-.69-.56-1.25-1.25-1.25H7c-.69 0-1.25.56-1.25 1.25v12c0 .69.56 1.25 1.25 1.25h5a.75.75 0 0 1 0 1.5H7A2.75 2.75 0 0 1 4.25 18V6Zm4 2A.75.75 0 0 1 9 7.25h3a.75.75 0 0 1 0 1.5H9A.75.75 0 0 1 8.25 8ZM9 10.75a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5H9ZM8.25 15a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Zm7.25-.75a.75.75 0 0 0 0 1.5h2.69l-3.72 3.72a.75.75 0 1 0 1.06 1.06l3.72-3.72v2.69a.75.75 0 0 0 1.5 0V15a.75.75 0 0 0-.75-.75h-4.5Z" clip-rule="evenodd"/>
  </svg>
`,tB=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M4.5 12c0-.46.373-.833.833-.833h13.334a.833.833 0 0 1 0 1.666H5.333A.833.833 0 0 1 4.5 12Z" clip-rule="evenodd"/>
  </svg>
`,t$=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M4.5 12a1.73 1.73 0 1 0 3.462 0A1.73 1.73 0 0 0 4.5 12Zm7.5 1.73a1.73 1.73 0 1 1 0-3.46 1.73 1.73 0 0 1 0 3.46Zm5.77 0a1.73 1.73 0 1 1 0-3.46 1.73 1.73 0 0 1 0 3.46Z" clip-rule="evenodd"/>
  </svg>
`,tT=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M13.5 6a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 6a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM12 19.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z" clip-rule="evenodd"/>
  </svg>
`,tO=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M4.75 4a.75.75 0 0 0-1.5 0v16a.75.75 0 0 0 1.5 0V4Zm8.405 4.57a.75.75 0 1 0-.976-1.14l-4.667 4a.75.75 0 0 0 0 1.14l4.667 4a.75.75 0 1 0 .976-1.14l-3.128-2.68H20a.75.75 0 0 0 0-1.5h-9.973l3.128-2.68Z" clip-rule="evenodd"/>
  </svg>
`,tP=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M20.75 4a.75.75 0 0 0-1.5 0v16a.75.75 0 0 0 1.5 0V4Zm-9.905 4.57a.75.75 0 1 1 .976-1.14l4.667 4a.75.75 0 0 1 0 1.14l-4.667 4a.75.75 0 1 1-.976-1.14l3.128-2.68H4a.75.75 0 0 1 0-1.5h9.973l-3.128-2.68Z" clip-rule="evenodd"/>
  </svg>
`,tA=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' d="M3.03 5.302c-.278-1.606 1.41-2.832 2.851-2.07l13.518 7.14c1.542.815 1.336 3.086-.328 3.609l-5.526 1.736a1.963 1.963 0 0 0-1.01.734L9.17 21.174c-1.012 1.421-3.236.915-3.534-.804L3.03 5.302Z"/><path stroke='currentColor' stroke-opacity=".2" d="M3.523 5.217c-.207-1.197 1.05-2.11 2.125-1.543l13.518 7.14c1.149.607.995 2.3-.245 2.69l-5.526 1.736c-.512.16-.957.484-1.268.921l-3.364 4.723c-.754 1.06-2.411.682-2.633-.6L3.523 5.218Z"/>
  </svg>
`,tH=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M3.25 5A2.75 2.75 0 0 1 6 2.25h9A2.75 2.75 0 0 1 17.75 5v10.857a2.75 2.75 0 0 1-2.75 2.75H6a2.75 2.75 0 0 1-2.75-2.75V5ZM6 3.75c-.69 0-1.25.56-1.25 1.25v10.857c0 .69.56 1.25 1.25 1.25h9c.69 0 1.25-.56 1.25-1.25V5c0-.69-.56-1.25-1.25-1.25H6Z" clip-rule="evenodd"/><path fill='currentColor' fill-opacity=".6" d="M6.25 18.607H15a2.75 2.75 0 0 0 2.75-2.75V5.25H18A2.75 2.75 0 0 1 20.75 8v10.857a2.75 2.75 0 0 1-2.75 2.75H9a2.75 2.75 0 0 1-2.75-2.75v-.25Z"/>
  </svg>
`,tL=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M6.114 3.678a.75.75 0 0 1 0 1.06L4.28 6.573a.75.75 0 0 1-1.06-1.06l1.833-1.834a.75.75 0 0 1 1.06 0Zm11.772 0a.75.75 0 0 1 1.061 0l1.833 1.833a.75.75 0 0 1-1.06 1.061l-1.834-1.833a.75.75 0 0 1 0-1.061ZM12 5.875a6.583 6.583 0 1 0 0 13.167 6.583 6.583 0 0 0 0-13.167Zm-8.083 6.583a8.083 8.083 0 1 1 16.166 0 8.083 8.083 0 0 1-16.166 0Z" clip-rule="evenodd"/><path fill='currentColor' fill-rule="evenodd" d="M15.197 10.359a.75.75 0 0 1 0 1.06l-3.555 3.556a.75.75 0 0 1-1.061 0l-1.778-1.778a.75.75 0 0 1 1.06-1.06l1.248 1.247 3.025-3.025a.75.75 0 0 1 1.061 0Z" clip-rule="evenodd"/>
  </svg>
`,tD=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M4.129 5.762a.593.593 0 0 0 .15-.08l.255-.177V7.64c0 .188.063.35.181.466a.656.656 0 0 0 .47.177c.186 0 .35-.061.468-.177a.637.637 0 0 0 .182-.466V4.934a.71.71 0 0 0-.197-.52c-.13-.13-.316-.195-.534-.195-.221 0-.434.022-.675.183l-.677.452a.53.53 0 0 0-.252.46c0 .273.203.472.464.472a.501.501 0 0 0 .165-.024Zm5.277-.16a.768.768 0 0 0 0 1.536h10.326a.768.768 0 1 0 0-1.536H9.406Zm0 5.632a.768.768 0 0 0 0 1.536h10.326a.768.768 0 1 0 0-1.535l-10.326-.001Zm0 5.633a.768.768 0 1 0 0 1.536h10.326a.768.768 0 1 0 0-1.536H9.406Zm-2.782-5.753c.012-.066.018-.136.018-.21 0-.678-.58-1.136-1.486-1.136-.652 0-1.176.277-1.373.721.197-.444.721-.72 1.373-.72.907 0 1.486.457 1.486 1.134 0 .075-.006.145-.018.211Zm-1.5 1.64v.02h1.184c.274 0 .43.163.43.414 0-.25-.156-.414-.43-.414H5.126v-.02Zm-1.384.237c.035-.14.126-.26.284-.393l1.026-.878c.338-.29.48-.453.523-.622-.042.17-.185.331-.523.622l-1.026.879c-.158.131-.25.253-.284.392Zm.763-1.81a.821.821 0 0 0 .251-.254.674.674 0 0 1 .184-.193.36.36 0 0 1 .202-.054c.113 0 .199.034.255.085.056.05.09.12.09.21 0 .17-.079.304-.502.667l-1.026.878c-.219.184-.336.365-.336.608 0 .156.045.303.152.412.108.108.265.164.463.164h2.073a.537.537 0 0 0 .389-.145.512.512 0 0 0 .142-.371.511.511 0 0 0-.142-.374.539.539 0 0 0-.39-.142h-.932l.496-.428c.287-.25.506-.447.651-.65.15-.207.221-.419.221-.691 0-.37-.16-.684-.442-.902-.281-.217-.677-.335-1.146-.335-.676 0-1.248.288-1.467.783a.703.703 0 0 0-.057.283c0 .155.05.29.152.387.1.095.24.142.4.142a.604.604 0 0 0 .32-.08Zm-.832 4.897c.152-.414.67-.853 1.557-.853.457 0 .865.096 1.16.29a.998.998 0 0 1 .478.865c0 .483-.308.804-.692.941.234.05.43.143.576.279.184.17.285.404.285.687 0 .405-.174.737-.49.966-.313.228-.762.352-1.311.352-.96 0-1.495-.458-1.641-.868a.704.704 0 0 1-.04-.228.51.51 0 0 1 .155-.387.594.594 0 0 1 .413-.142c.117 0 .217.02.305.064s.16.112.223.203a.79.79 0 0 0 .236.245c.09.055.206.087.377.087.278 0 .46-.165.46-.379a.329.329 0 0 0-.14-.288c-.096-.066-.242-.104-.444-.104H5.11a.483.483 0 0 1-.35-.122.438.438 0 0 1-.12-.323c0-.124.039-.236.12-.317.082-.08.2-.125.35-.125h.028c.178 0 .311-.038.399-.102a.315.315 0 0 0 .131-.268.323.323 0 0 0-.112-.258.493.493 0 0 0-.322-.098.566.566 0 0 0-.286.068.533.533 0 0 0-.198.207.702.702 0 0 1-.241.27.642.642 0 0 1-.343.082.549.549 0 0 1-.401-.144.5.5 0 0 1-.136-.363c0-.085.012-.153.042-.237Z" clip-rule="evenodd"/>
  </svg>
`,tZ=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M13.25 4a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0V5.81l-8.72 8.72a.75.75 0 1 1-1.06-1.06l8.72-8.72H14a.75.75 0 0 1-.75-.75ZM6 6.75c-.69 0-1.25.56-1.25 1.25v10c0 .69.56 1.25 1.25 1.25h10c.69 0 1.25-.56 1.25-1.25v-4a.75.75 0 0 1 1.5 0v4A2.75 2.75 0 0 1 16 20.75H6A2.75 2.75 0 0 1 3.25 18V8A2.75 2.75 0 0 1 6 5.25h4a.75.75 0 0 1 0 1.5H6Z" clip-rule="evenodd"/>
  </svg>
`,tj=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M7 3.25A2.75 2.75 0 0 0 4.25 6v12A2.75 2.75 0 0 0 7 20.75h10A2.75 2.75 0 0 0 19.75 18V6A2.75 2.75 0 0 0 17 3.25H7ZM5.75 6c0-.69.56-1.25 1.25-1.25h10c.69 0 1.25.56 1.25 1.25v12c0 .69-.56 1.25-1.25 1.25H7c-.69 0-1.25-.56-1.25-1.25V6ZM9 7.25a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5H9Zm-.75 4.25a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM9 14.25a.75.75 0 0 0 0 1.5h5a.75.75 0 0 0 0-1.5H9Z" clip-rule="evenodd"/>
  </svg>
`,tV=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75a3.9 3.9 0 0 0 3.9-3.9v-.585c0-.4.003-.486.012-.543a.975.975 0 0 1 .81-.81c.057-.009.143-.012.543-.012h.585a3.9 3.9 0 0 0 3.9-3.9c0-5.385-4.365-9.75-9.75-9.75ZM9.075 7.612a1.462 1.462 0 1 1 2.925 0 1.462 1.462 0 0 1-2.925 0Zm4.875.976a1.463 1.463 0 1 1 2.925 0 1.463 1.463 0 0 1-2.925 0ZM7.613 10.05a1.463 1.463 0 1 0 0 2.925 1.463 1.463 0 0 0 0-2.925Z" clip-rule="evenodd"/>
  </svg>
`,tR=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M8.8 2.489a.75.75 0 0 0-.75.75V4.25H7A2.75 2.75 0 0 0 4.25 7v12A2.75 2.75 0 0 0 7 21.75h10A2.75 2.75 0 0 0 19.75 19V7A2.75 2.75 0 0 0 17 4.25h-.95V3.239a.75.75 0 0 0-.75-.75H8.8Zm7.25 3.261v.928a.75.75 0 0 1-.75.75H8.8a.75.75 0 0 1-.75-.75V5.75H7c-.69 0-1.25.56-1.25 1.25v12c0 .69.56 1.25 1.25 1.25h10c.69 0 1.25-.56 1.25-1.25V7c0-.69-.56-1.25-1.25-1.25h-.95Zm-6.5.178v-1.94h5v1.94h-5Z" clip-rule="evenodd"/>
  </svg>
`,tz=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M19.279 4.721a1.614 1.614 0 0 0-2.28 0l-.885.883 2.278 2.273.887-.885a1.603 1.603 0 0 0 0-2.271ZM17.33 8.937l-2.277-2.273L4.25 17.445v2.305h2.245L17.33 8.937Zm-1.39-5.278a3.114 3.114 0 0 1 4.398 0 3.103 3.103 0 0 1 0 4.395L7.335 21.03a.75.75 0 0 1-.53.22H3.5a.75.75 0 0 1-.75-.75v-3.367c0-.2.08-.39.22-.53L15.94 3.658Z" clip-rule="evenodd"/>
  </svg>
`,tF=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M12 4.5c.46 0 .833.373.833.833v5.834h5.834a.833.833 0 0 1 0 1.666h-5.834v5.834a.833.833 0 0 1-1.666 0v-5.834H5.333a.833.833 0 0 1 0-1.666h5.834V5.333c0-.46.373-.833.833-.833Z" clip-rule="evenodd"/>
  </svg>
`,tN=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M3.174 3.952c0-.426.346-.772.772-.772H19.902a.772.772 0 1 1 0 1.544h-.367v9.853h.367a.772.772 0 0 1 0 1.545h-7.206v1.661l3.942 2.252a.772.772 0 0 1-.766 1.341l-3.176-1.815v1.487a.772.772 0 1 1-1.544 0v-1.421l-3.062 1.75a.772.772 0 1 1-.766-1.341l3.828-2.188v-1.726H3.946a.772.772 0 1 1 0-1.545h.368V4.724h-.368a.772.772 0 0 1-.772-.772Zm2.684.772H17.99v9.853H5.858V4.724Zm3.42 4.357a.772.772 0 0 0-1.545 0v2.28a.772.772 0 0 0 1.544 0V9.08Zm2.646-2.482c.427 0 .772.346.772.772v3.99a.772.772 0 1 1-1.544 0V7.37c0-.426.346-.772.772-.772Zm4.191 3.622a.772.772 0 1 0-1.544 0v1.14a.772.772 0 0 0 1.544 0v-1.14Z" clip-rule="evenodd"/>
  </svg>
`,tq=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M4.035 11.25h3.209c.083-2.207.529-4.22 1.232-5.75.143-.313.303-.615.478-.9a8.006 8.006 0 0 0-4.92 6.65ZM12 2.5a9.5 9.5 0 1 0 0 19 9.5 9.5 0 0 0 0-19ZM12 4c-.64 0-1.459.596-2.161 2.126-.6 1.306-1.012 3.097-1.094 5.124h6.51c-.082-2.027-.494-3.818-1.094-5.124C13.46 4.596 12.64 4 12 4Zm4.756 7.25c-.083-2.207-.529-4.22-1.232-5.75a8.474 8.474 0 0 0-.478-.9 8.006 8.006 0 0 1 4.92 6.65h-3.21Zm-1.5 1.5H8.744c.082 2.027.494 3.818 1.094 5.124C10.54 19.404 11.36 20 12 20c.64 0 1.459-.596 2.161-2.126.6-1.306 1.012-3.097 1.094-5.124Zm-.21 6.65a8.47 8.47 0 0 0 .478-.9c.704-1.53 1.15-3.543 1.232-5.75h3.21a8.006 8.006 0 0 1-4.92 6.65Zm-6.092 0a8.473 8.473 0 0 1-.478-.9c-.703-1.53-1.15-3.543-1.232-5.75h-3.21a8.006 8.006 0 0 0 4.92 6.65Z" clip-rule="evenodd"/>
  </svg>
`,tU=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M5 10.966v4.095c0 .565.458 1.024 1.024 1.024h4.095c.566 0 1.024-.459 1.024-1.024v-4.095c0-.566-.459-1.024-1.024-1.024H6.704A3.347 3.347 0 0 1 9.845 7.75v-1.5A4.845 4.845 0 0 0 5 10.966Zm8 0v4.095c0 .565.458 1.024 1.024 1.024h4.095c.566 0 1.024-.459 1.024-1.024v-4.095c0-.566-.459-1.024-1.024-1.024h-3.415a3.347 3.347 0 0 1 3.141-2.192v-1.5A4.845 4.845 0 0 0 13 10.966Z" clip-rule="evenodd"/>
  </svg>
`,tW=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M2.25 5A.75.75 0 0 1 3 4.25h1A4.25 4.25 0 0 1 8.25 8.5 2.75 2.75 0 0 0 11 11.25h2a2.75 2.75 0 0 0 2.75-2.75A4.25 4.25 0 0 1 20 4.25h1a.75.75 0 0 1 0 1.5h-1a2.75 2.75 0 0 0-2.75 2.75c0 1.049-.38 2.009-1.01 2.75H21a.75.75 0 0 1 0 1.5h-4.76a4.233 4.233 0 0 1 1.01 2.75A2.75 2.75 0 0 0 20 18.25h1a.75.75 0 0 1 0 1.5h-1a4.25 4.25 0 0 1-4.25-4.25A2.75 2.75 0 0 0 13 12.75h-2a2.75 2.75 0 0 0-2.75 2.75A4.25 4.25 0 0 1 4 19.75H3a.75.75 0 0 1 0-1.5h1a2.75 2.75 0 0 0 2.75-2.75c0-1.049.38-2.009 1.01-2.75H3a.75.75 0 0 1 0-1.5h4.76A4.233 4.233 0 0 1 6.75 8.5 2.75 2.75 0 0 0 4 5.75H3A.75.75 0 0 1 2.25 5Z" clip-rule="evenodd"/>
  </svg>
`,tG=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M5.778 4.75c-.564 0-1.028.464-1.028 1.028v1.778a.75.75 0 0 1-1.5 0V5.778A2.533 2.533 0 0 1 5.778 3.25h1.778a.75.75 0 0 1 0 1.5H5.778ZM15.694 4a.75.75 0 0 1 .75-.75h1.778a2.533 2.533 0 0 1 2.528 2.528v1.778a.75.75 0 0 1-1.5 0V5.778c0-.564-.464-1.028-1.028-1.028h-1.778a.75.75 0 0 1-.75-.75ZM4 15.694a.75.75 0 0 1 .75.75v1.778c0 .564.464 1.028 1.028 1.028h1.778a.75.75 0 0 1 0 1.5H5.778a2.533 2.533 0 0 1-2.528-2.528v-1.778a.75.75 0 0 1 .75-.75ZM8.75 8.8V11.202c.001.002.005.008.013.015a.138.138 0 0 0 .094.033h4.286a.137.137 0 0 0 .094-.033.05.05 0 0 0 .012-.015l.001-.002V8.798a.051.051 0 0 0-.013-.015.137.137 0 0 0-.094-.033H8.857a.137.137 0 0 0-.094.033.053.053 0 0 0-.013.015V8.8Zm-1.5 0c0-.904.77-1.55 1.607-1.55h4.286c.838 0 1.607.646 1.607 1.55v2.4c0 .904-.77 1.55-1.607 1.55H8.857c-.838 0-1.607-.646-1.607-1.55V8.8ZM15.75 15.8V18.202a.05.05 0 0 0 .013.015.137.137 0 0 0 .094.033h4.286a.137.137 0 0 0 .094-.033.05.05 0 0 0 .013-.015V15.798a.05.05 0 0 0-.013-.015.137.137 0 0 0-.094-.033h-4.286a.137.137 0 0 0-.094.033.05.05 0 0 0-.012.015l-.001.002Zm-1.5 0c0-.904.77-1.55 1.607-1.55h4.286c.838 0 1.607.646 1.607 1.55v2.4c0 .904-.77 1.55-1.607 1.55h-4.286c-.838 0-1.607-.646-1.607-1.55v-2.4Z" clip-rule="evenodd"/>
  </svg>
`,tY=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M3.25 12a8.75 8.75 0 0 1 14.584-6.522l.002.002 1.414 1.277V4a.75.75 0 0 1 1.5 0v4.444a.75.75 0 0 1-.75.75h-4.444a.75.75 0 1 1 0-1.5h2.494l-1.217-1.098-.001-.001a7.25 7.25 0 1 0 2.238 7.017.75.75 0 1 1 1.463.332A8.75 8.75 0 0 1 3.25 12Z" clip-rule="evenodd"/>
  </svg>
`,tK=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M11.25 8.5a4.25 4.25 0 0 1 4.25-4.25H21a.75.75 0 0 1 0 1.5h-5.5a2.75 2.75 0 0 0-2.75 2.75c0 1.049-.38 2.009-1.01 2.75H21a.75.75 0 0 1 0 1.5h-9.26a4.233 4.233 0 0 1 1.01 2.75 2.75 2.75 0 0 0 2.75 2.75H21a.75.75 0 0 1 0 1.5h-5.5a4.25 4.25 0 0 1-4.25-4.25 2.75 2.75 0 0 0-2.75-2.75H3a.75.75 0 0 1 0-1.5h5.5a2.75 2.75 0 0 0 2.75-2.75Z" clip-rule="evenodd"/>
  </svg>
`,tX=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M2.25 7A2.75 2.75 0 0 1 5 4.25h14A2.75 2.75 0 0 1 21.75 7v10A2.75 2.75 0 0 1 19 19.75H5A2.75 2.75 0 0 1 2.25 17V7ZM5 5.75c-.69 0-1.25.56-1.25 1.25v10c0 .69.56 1.25 1.25 1.25h14c.69 0 1.25-.56 1.25-1.25V7c0-.69-.56-1.25-1.25-1.25H5Z" clip-rule="evenodd"/>
  </svg>
`,tQ=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M6.667 4.75a1.917 1.917 0 1 0 0 3.833 1.917 1.917 0 0 0 0-3.833ZM3.25 6.667A3.417 3.417 0 1 1 9.568 8.47l2.721 2.51 7.202-6.643A.75.75 0 0 1 20.51 5.44L9.569 15.53a3.417 3.417 0 1 1-1.053-1.07L11.183 12 8.515 9.54A3.417 3.417 0 0 1 3.25 6.666Zm10.865 7.017a.75.75 0 0 1 1.06-.042l5.333 4.918a.75.75 0 1 1-1.016 1.103l-5.334-4.919a.75.75 0 0 1-.043-1.06Zm-7.448 1.733a1.917 1.917 0 1 0 0 3.833 1.917 1.917 0 0 0 0-3.833Z" clip-rule="evenodd"/>
  </svg>
`,tJ=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M3.75 9.5a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0ZM9.5 2.25a7.25 7.25 0 1 0 4.569 12.88l5.4 5.4a.75.75 0 1 0 1.061-1.06l-5.4-5.401A7.25 7.25 0 0 0 9.5 2.25Z" clip-rule="evenodd"/>
  </svg>
`,t1=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M4.012 4.35c-.17-1.5 1.514-2.496 2.748-1.625l13.222 9.335c1.383.977.712 3.152-.98 3.18l-6.661.11a.25.25 0 0 0-.213.127L9.066 20.88c-.836 1.475-3.071 1.019-3.261-.666L4.012 4.35Zm1.883-.4a.25.25 0 0 0-.393.232l1.793 15.863a.25.25 0 0 0 .466.095l3.061-5.403a1.75 1.75 0 0 1 1.494-.887l6.66-.11a.25.25 0 0 0 .141-.454L5.895 3.95Z" clip-rule="evenodd"/>
  </svg>
`,t0=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M9.596 4.14c.612-2.52 4.196-2.52 4.808 0a.974.974 0 0 0 1.454.602c2.215-1.35 4.75 1.186 3.4 3.4a.974.974 0 0 0 .602 1.454c2.52.612 2.52 4.196 0 4.808a.974.974 0 0 0-.602 1.454c1.35 2.215-1.185 4.75-3.4 3.4a.974.974 0 0 0-1.454.602c-.612 2.52-4.196 2.52-4.808 0a.974.974 0 0 0-1.454-.602c-2.214 1.35-4.75-1.185-3.4-3.4a.974.974 0 0 0-.602-1.454c-2.52-.612-2.52-4.196 0-4.808a.974.974 0 0 0 .602-1.454c-1.35-2.214 1.186-4.75 3.4-3.4a.974.974 0 0 0 1.454-.602Zm3.35.354c-.24-.992-1.652-.992-1.893 0a2.474 2.474 0 0 1-3.691 1.53c-.872-.532-1.87.466-1.339 1.338.872 1.43.1 3.296-1.529 3.691-.992.241-.992 1.653 0 1.893a2.474 2.474 0 0 1 1.53 3.692c-.532.872.466 1.87 1.338 1.339a2.474 2.474 0 0 1 3.691 1.529c.241.992 1.653.992 1.893 0a2.474 2.474 0 0 1 3.692-1.53c.872.532 1.87-.466 1.339-1.338a2.474 2.474 0 0 1 1.529-3.692c.992-.24.992-1.652 0-1.893a2.474 2.474 0 0 1-1.53-3.691c.532-.872-.466-1.87-1.338-1.339-1.43.872-3.296.1-3.692-1.529ZM12 9.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM8.25 12a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0Z" clip-rule="evenodd"/>
  </svg>
`,t2=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M12 3.25a.75.75 0 0 1 .651.378l3.556 6.222a.75.75 0 0 1-.651 1.122H8.444a.75.75 0 0 1-.65-1.122l3.555-6.222A.75.75 0 0 1 12 3.25ZM9.737 9.472h4.526L12 5.512l-2.263 3.96ZM7.11 14.528a2.361 2.361 0 1 0 0 4.722 2.361 2.361 0 0 0 0-4.722Zm-3.861 2.36a3.861 3.861 0 1 1 7.722 0 3.861 3.861 0 0 1-7.722 0Zm9.778-3.11a.75.75 0 0 1 .75-.75H20a.75.75 0 0 1 .75.75V20a.75.75 0 0 1-.75.75h-6.222a.75.75 0 0 1-.75-.75v-6.222Zm1.5.75v4.722h4.722v-4.722h-4.722Z" clip-rule="evenodd"/>
  </svg>
`,t5=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M10.35 7.25a2.501 2.501 0 0 1 2.4-1.8h5.5a2.5 2.5 0 0 1 0 5h-5.5c-1.1 0-2.036-.712-2.37-1.7H7.237c.47.627.75 1.406.75 2.25v2a2.25 2.25 0 0 0 2.25 2.25h.113a2.501 2.501 0 0 1 2.401-1.8h5.5a2.5 2.5 0 1 1 0 5h-5.5c-1.1 0-2.036-.712-2.37-1.7h-.145A3.75 3.75 0 0 1 6.485 13v-2a2.25 2.25 0 0 0-2.25-2.25H2v-1.5h8.35Zm2.4-.3a1 1 0 1 0 0 2h5.5a1 1 0 1 0 0-2h-5.5Zm0 8a1 1 0 1 0 0 2h5.5a1 1 0 0 0 0-2h-5.5Z" clip-rule="evenodd"/>
  </svg>
`,t7=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M5.75 4A1.75 1.75 0 0 0 4 5.75v12c0 .966.784 1.75 1.75 1.75h12a1.75 1.75 0 0 0 1.75-1.75v-12A1.75 1.75 0 0 0 17.75 4h-12ZM11 5.5H5.75a.25.25 0 0 0-.25.25v12c0 .138.112.25.25.25H11V5.5ZM12.5 18V5.5h5.25a.25.25 0 0 1 .25.25v12a.25.25 0 0 1-.25.25H12.5Z" clip-rule="evenodd"/>
  </svg>
`,t3=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M3.25 3.25h17.5v17.5H3.25V3.25Zm1.5 1.5v14.5h14.5V4.75H4.75Z" clip-rule="evenodd"/>
  </svg>
`,t4=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M2.25 12a.75.75 0 0 1 .75-.75h18a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"/>
  </svg>
`,t6=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M7.53 7.47a.75.75 0 0 1 0 1.06l-2.72 2.72H21a.75.75 0 0 1 0 1.5H4.81l2.72 2.72a.75.75 0 1 1-1.06 1.06l-4-4a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd"/>
  </svg>
`,t8=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' d="M6 8.25a3.75 3.75 0 1 0 3.675 4.5H21a.75.75 0 0 0 0-1.5H9.675A3.751 3.751 0 0 0 6 8.25Z"/>
  </svg>
`,t9=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M5.47 8.47a.75.75 0 0 1 1.06 0l2.78 2.78H21a.75.75 0 0 1 0 1.5H9.31l-2.78 2.78a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 0 1 0-1.06l3-3Z" clip-rule="evenodd"/>
  </svg>
`,ie=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' d="M7.75 8a.75.75 0 0 0-1.28-.53l-4 4a.75.75 0 0 0 0 1.06l4 4A.75.75 0 0 0 7.75 16v-3.25H21a.75.75 0 0 0 0-1.5H7.75V8Z"/>
  </svg>
`,it=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M20.5 12a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0Zm1.5 0c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10ZM10 8a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-4Z" clip-rule="evenodd"/>
  </svg>
`,ii=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M20.53 3.47a.75.75 0 0 1 0 1.06l-16 16a.75.75 0 0 1-1.06-1.06l16-16a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd"/>
  </svg>
`,is=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M8.406 7.464a3.468 3.468 0 0 1 6.59-1.513.77.77 0 0 0 1.385-.673 5.009 5.009 0 0 0-9.05 4.3h1.793a3.453 3.453 0 0 1-.718-2.114Zm6.512 8.476c0-.795-.268-1.528-.718-2.113h1.792a5.008 5.008 0 0 1-9.05 4.299.77.77 0 1 1 1.387-.673 3.468 3.468 0 0 0 6.589-1.513ZM4.297 10.905a.797.797 0 0 0 0 1.594h15.406a.797.797 0 0 0 0-1.594H4.297Z" clip-rule="evenodd"/>
  </svg>
`,io=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M4.25 5.45c0-1.204.964-2.2 2.178-2.2h11.144c1.214 0 2.178.996 2.178 2.2v5.394c0 1.478-.84 2.83-2.166 3.468l-1.842.884a1.274 1.274 0 0 0-.683 1.41l.054.26c.414 1.987-1.077 3.884-3.113 3.884s-3.527-1.897-3.113-3.884l.054-.26a1.273 1.273 0 0 0-.683-1.41l-1.842-.884a3.842 3.842 0 0 1-2.166-3.468V5.45Zm1.503 5.522a2.339 2.339 0 0 0 1.313 1.988l1.841.883a2.773 2.773 0 0 1 1.503 3.068l-.055.26c-.226 1.085.59 2.079 1.645 2.079 1.055 0 1.87-.994 1.645-2.079l-.055-.26a2.773 2.773 0 0 1 1.503-3.068l1.841-.883a2.339 2.339 0 0 0 1.313-1.988H5.753Zm12.497-1.5H5.75V5.45c0-.398.314-.7.678-.7h2.197v2.806a.75.75 0 0 0 1.5 0V4.75h3.75v1.917a.75.75 0 0 0 1.5 0V4.75h2.197a.69.69 0 0 1 .678.7v4.022Z" clip-rule="evenodd"/>
  </svg>
`,ir=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M3.47 3.47a.75.75 0 0 0 0 1.06l16 16a.75.75 0 1 0 1.06-1.06l-16-16a.75.75 0 0 0-1.06 0Z" clip-rule="evenodd"/>
  </svg>
`,ia=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M3.27 3.831a.75.75 0 0 1 .899-.562c6.615 1.527 12.546 4.893 15.306 7.15.361.296.66.6.846.919.195.335.305.77.11 1.21-.176.393-.523.617-.807.75-.3.142-.659.242-1.032.319-.75.155-1.715.25-2.739.336l-.756.063c-.817.066-1.667.135-2.514.23-2.243.249-4.034.569-5.13.952-.443.155-.694.295-.82.39.41.486 1.095.97 1.966 1.428.891.468 1.915.875 2.895 1.212a36.166 36.166 0 0 0 3.59 1.023l.056.012.014.003h.003a.75.75 0 0 1-.314 1.467L15 20l-.157.733h-.002l-.005-.001-.017-.004-.062-.014a29.09 29.09 0 0 1-1.072-.262c-.7-.183-1.656-.454-2.679-.805-1.02-.35-2.121-.787-3.105-1.303-.97-.51-1.89-1.13-2.487-1.876-.188-.235-.339-.535-.343-.888a1.34 1.34 0 0 1 .337-.889c.352-.414.94-.696 1.55-.909 1.266-.443 3.202-.777 5.46-1.027a87.805 87.805 0 0 1 2.572-.236l.737-.06c1.034-.088 1.913-.177 2.56-.31.288-.06.5-.123.645-.184a3.163 3.163 0 0 0-.407-.384c-2.587-2.117-8.31-5.377-14.694-6.85a.75.75 0 0 1-.562-.9Z" clip-rule="evenodd"/>
  </svg>
`,il=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M10.354 11.25a2.751 2.751 0 0 1 2.646-2h5a2.75 2.75 0 1 1 0 5.5h-5a2.751 2.751 0 0 1-2.646-2H2a.75.75 0 0 1 0-1.5h8.354Zm2.646-.5a1.25 1.25 0 1 0 0 2.5h5a1.25 1.25 0 1 0 0-2.5h-5Z" clip-rule="evenodd"/>
  </svg>
`,ic=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M3.25 4A.75.75 0 0 1 4 3.25h16a.75.75 0 0 1 .75.75v2.667a.75.75 0 0 1-1.5 0V4.75h-6.5v14.5H16a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1 0-1.5h3.25V4.75h-6.5v1.917a.75.75 0 0 1-1.5 0V4Z" clip-rule="evenodd"/>
  </svg>
`,id=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M3.75 6a.75.75 0 0 1 .75-.75h15a.75.75 0 0 1 0 1.5h-15A.75.75 0 0 1 3.75 6Zm3.5 6a.75.75 0 0 1 .75-.75h8a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1-.75-.75ZM6 17.25a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5H6Z" clip-rule="evenodd"/>
  </svg>
`,ih=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M20.75 6a.75.75 0 0 0-.75-.75H5a.75.75 0 0 0 0 1.5h15a.75.75 0 0 0 .75-.75Zm-7 6a.75.75 0 0 0-.75-.75H5a.75.75 0 0 0 0 1.5h8a.75.75 0 0 0 .75-.75Zm3 6a.75.75 0 0 0-.75-.75H5a.75.75 0 0 0 0 1.5h11a.75.75 0 0 0 .75-.75Z" clip-rule="evenodd"/>
  </svg>
`,iu=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M4.25 6A.75.75 0 0 1 5 5.25h15a.75.75 0 0 1 0 1.5H5A.75.75 0 0 1 4.25 6Zm7 6a.75.75 0 0 1 .75-.75h8a.75.75 0 0 1 0 1.5h-8a.75.75 0 0 1-.75-.75Zm-3 6a.75.75 0 0 1 .75-.75h11a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"/>
  </svg>
`,ip=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M8.205 2.787c.393 0 .712.319.712.712v.711h6.166V3.5a.712.712 0 0 1 1.423 0v.711h2.135a2.609 2.609 0 0 1 2.609 2.61v11.384a2.609 2.609 0 0 1-2.609 2.609H5.359a2.609 2.609 0 0 1-2.609-2.61V6.82A2.609 2.609 0 0 1 5.359 4.21h2.135V3.5c0-.393.318-.712.711-.712Zm6.878 2.846v.712a.712.712 0 0 0 1.423 0v-.712h2.135c.655 0 1.186.531 1.186 1.186v1.66H4.173V6.82c0-.655.531-1.186 1.186-1.186h2.135v.712a.712.712 0 1 0 1.423 0v-.712h6.166Zm4.744 4.27H4.173v8.3c0 .656.531 1.187 1.186 1.187h13.282c.655 0 1.186-.531 1.186-1.186V9.903Zm-12.57 1.47a.474.474 0 0 0-.475.475v1.423c0 .262.212.474.474.474H8.68a.474.474 0 0 0 .475-.474v-1.424a.474.474 0 0 0-.475-.474H7.256Zm-.475 4.174c0-.261.212-.474.474-.474H8.68c.262 0 .475.213.475.474v1.424a.474.474 0 0 1-.475.474H7.256a.474.474 0 0 1-.474-.474v-1.424Zm4.459-4.174a.474.474 0 0 0-.474.475v1.423c0 .262.212.474.474.474h1.423a.474.474 0 0 0 .475-.474v-1.424a.474.474 0 0 0-.475-.474h-1.423Zm-.474 4.174c0-.261.212-.474.474-.474h1.423c.262 0 .475.213.475.474v1.424a.474.474 0 0 1-.475.474h-1.423a.474.474 0 0 1-.474-.474v-1.424Zm4.553-4.174a.474.474 0 0 0-.474.475v1.423c0 .262.213.474.474.474h1.424a.474.474 0 0 0 .474-.474v-1.424a.474.474 0 0 0-.474-.474H15.32Z" clip-rule="evenodd"/>
  </svg>
`,ig=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M8.42 3.205a.68.68 0 0 1 .68.68v.68h5.888v-.68a.68.68 0 1 1 1.358 0v.68h2.039a2.491 2.491 0 0 1 2.491 2.49V12.49a.68.68 0 1 1-1.359 0V10H4.57v7.926c0 .626.507 1.133 1.132 1.133h5.888a.68.68 0 0 1 0 1.359H5.702a2.491 2.491 0 0 1-2.491-2.492V7.055a2.491 2.491 0 0 1 2.49-2.49h2.04v-.68a.68.68 0 0 1 .679-.68Zm6.568 2.718v.68a.68.68 0 1 0 1.358 0v-.68h2.039c.625 0 1.132.507 1.132 1.132v1.586H4.57V7.055c0-.625.507-1.132 1.132-1.132H7.74v.68a.68.68 0 1 0 1.36 0v-.68h5.888Zm3.641 10.672a.68.68 0 1 1 .96-.96l1.923 1.92a.68.68 0 0 1 0 .962l-1.922 1.921a.68.68 0 1 1-.96-.96l1.44-1.442-1.44-1.441Zm-4.238-.96a.68.68 0 0 0 0 .96l1.44 1.441-1.44 1.442a.68.68 0 1 0 .96.96l1.922-1.921a.68.68 0 0 0 0-.961l-1.921-1.922a.68.68 0 0 0-.961 0Z" clip-rule="evenodd"/>
  </svg>
`,im=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="m12 2.5 9.96 17.25H2.04L12 2.5Zm0 3L4.639 18.25H19.36L12 5.5Z" clip-rule="evenodd"/>
  </svg>
`,iv=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M7.744 3.968a.808.808 0 1 0-1.616 0v7.003a5.656 5.656 0 0 0 11.313 0V3.968a.808.808 0 1 0-1.616 0v7.003a4.04 4.04 0 1 1-8.08 0V3.968ZM4.458 19.32a.808.808 0 1 0 0 1.616h15.084a.808.808 0 0 0 0-1.616H4.458Z" clip-rule="evenodd"/>
  </svg>
`,iy=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M5.286 4.75c-.346 0-.536.25-.536.45v3.6c0 .2.19.45.536.45h6.428c.346 0 .536-.25.536-.45V5.2c0-.2-.19-.45-.536-.45H5.286ZM3.25 5.2c0-1.125.961-1.95 2.036-1.95h6.428c1.075 0 2.036.825 2.036 1.95v3.6c0 1.125-.961 1.95-2.036 1.95H5.286c-1.075 0-2.036-.825-2.036-1.95V5.2ZM12.286 14.75c-.346 0-.536.25-.536.45v3.6c0 .2.19.45.536.45h6.428c.346 0 .536-.25.536-.45v-3.6c0-.2-.19-.45-.536-.45h-6.428Zm-2.036.45c0-1.125.961-1.95 2.036-1.95h6.428c1.075 0 2.036.825 2.036 1.95v3.6c0 1.125-.961 1.95-2.036 1.95h-6.428c-1.075 0-2.036-.825-2.036-1.95v-3.6Z" clip-rule="evenodd"/>
  </svg>
`,ib=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M14.522 5.35a2.919 2.919 0 1 1 4.128 4.128l-3.669 3.669a.75.75 0 1 0 1.06 1.06l3.67-3.669a4.419 4.419 0 1 0-6.25-6.249l-1.008 1.009a.75.75 0 1 0 1.06 1.06l1.009-1.008Zm-5.503 5.503a.75.75 0 0 0-1.061-1.06L4.289 13.46a4.419 4.419 0 1 0 6.25 6.25l1.01-1.01a.75.75 0 1 0-1.06-1.061l-1.011 1.01a2.919 2.919 0 0 1-4.128-4.128l3.669-3.669Zm.376-6.36a.75.75 0 1 0-1.461.338l.4 1.734a.75.75 0 1 0 1.462-.337l-.4-1.734Zm-4.564 3.44a.75.75 0 1 0-.337 1.462l1.734.4a.75.75 0 1 0 .337-1.46l-1.734-.401Zm12.941 6.271a.75.75 0 0 0-.337 1.462l1.734.4a.75.75 0 1 0 .337-1.461l-1.734-.4Zm-2.106 3.23a.75.75 0 1 0-1.462.338l.4 1.734a.75.75 0 0 0 1.462-.337l-.4-1.734Z" clip-rule="evenodd"/>
  </svg>
`,iw=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M12 5.75a9.254 9.254 0 0 0-8.635 5.926.901.901 0 0 0 0 .648 9.254 9.254 0 0 0 17.27 0 .9.9 0 0 0 0-.648A9.254 9.254 0 0 0 12 5.75ZM1.966 11.137C3.516 7.11 7.424 4.25 12 4.25c4.577 0 8.484 2.86 10.035 6.887.214.555.214 1.17 0 1.726-1.55 4.027-5.458 6.887-10.034 6.887-4.577 0-8.484-2.86-10.035-6.887a2.401 2.401 0 0 1 0-1.726ZM12 9.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM8.25 12a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0Z" clip-rule="evenodd"/>
  </svg>
`,ix=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M3.25 20a.75.75 0 0 1-.75-.75V4.75a.75.75 0 0 1 1.5 0v14.5a.75.75 0 0 1-.75.75ZM9.665 8.44a.75.75 0 0 1 .062 1.058L8.17 11.25h7.66l-1.557-1.752a.75.75 0 0 1 1.12-.996l2.668 3a.75.75 0 0 1 0 .996l-2.667 3a.75.75 0 1 1-1.121-.996l1.557-1.752H8.17l1.557 1.752a.75.75 0 0 1-1.12.996l-2.668-3a.75.75 0 0 1 0-.996l2.667-3a.75.75 0 0 1 1.059-.063ZM21.5 4.75a.75.75 0 0 0-1.5 0v14.5a.75.75 0 0 0 1.5 0V4.75Z" clip-rule="evenodd"/>
  </svg>
`,i_=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M11.046 5a.75.75 0 0 1 .75-.75h2.882a6.072 6.072 0 1 1 0 12.144h-8.89l3.027 3.08a.75.75 0 0 1-1.07 1.052l-4.28-4.356a.75.75 0 0 1 0-1.051l4.28-4.356a.75.75 0 1 1 1.07 1.052l-3.026 3.08h8.889a4.572 4.572 0 1 0 0-9.145h-2.882a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"/>
  </svg>
`,iC=({width:e="1em",height:t="1em",style:i=""}={})=>N`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width=${e}
    height=${t}
    fill="none"
    style=${"user-select:none;flex-shrink:0;"+i}
  >
    <path fill='currentColor' fill-rule="evenodd" d="M8.336 3.095c.38 0 .688.308.688.688v.688h5.963v-.688a.688.688 0 1 1 1.376 0v.688h2.064a2.523 2.523 0 0 1 2.522 2.523v5.504a.688.688 0 0 1-1.376 0v-2.43H4.437v7.934c0 .634.513 1.147 1.146 1.147h5.963a.688.688 0 0 1 0 1.376H5.583a2.523 2.523 0 0 1-2.522-2.523V6.994A2.523 2.523 0 0 1 5.583 4.47h2.065v-.688c0-.38.308-.688.688-.688Zm6.65 2.752v.688a.688.688 0 1 0 1.377 0v-.688h2.064c.633 0 1.146.514 1.146 1.147v1.514H4.437V6.994c0-.633.513-1.147 1.146-1.147h2.065v.688a.688.688 0 0 0 1.376 0v-.688h5.963Zm1.68 9.834a.688.688 0 0 1 0 .973l-1.46 1.46 1.46 1.46a.688.688 0 0 1-.973.972L13.745 18.6a.688.688 0 0 1 0-.973l1.947-1.946a.688.688 0 0 1 .973 0Zm4.193.973a.688.688 0 0 0-.973-.973l-1.946 1.946a.688.688 0 0 0 0 .973l1.946 1.946a.688.688 0 0 0 .973-.973l-1.46-1.46 1.46-1.459Z" clip-rule="evenodd"/>
  </svg>
`},45483:(e,t,i)=>{i.r(t),i.d(t,{AccountIcon:()=>o,AddCommentIcon:()=>r,AddCursorIcon:()=>a,AddTextIcon:()=>n,AfFiNeIcon:()=>l,AiIcon:()=>c,AlignBottomIcon:()=>d,AlignHorizontalCenterIcon:()=>h,AlignLeftIcon:()=>u,AlignRightIcon:()=>p,AlignTopIcon:()=>f,AlignVerticalCenterIcon:()=>g,AllDocsIcon:()=>m,AppearanceIcon:()=>v,ArrowDownBigBottomIcon:()=>b,ArrowDownBigIcon:()=>y,ArrowDownSmallIcon:()=>w,ArrowLeftBigIcon:()=>x,ArrowLeftSmallIcon:()=>_,ArrowLeftSmallPlusIcon:()=>C,ArrowRightBigIcon:()=>k,ArrowRightSmallIcon:()=>S,ArrowRightSmallPlusIcon:()=>M,ArrowUpBigIcon:()=>E,ArrowUpBigTopIcon:()=>I,ArrowUpSmallIcon:()=>B,AtIcon:()=>$,AttachmentIcon:()=>T,AutoHeightIcon:()=>O,AutoSizeIcon:()=>P,BanIcon:()=>A,BlockIcon:()=>H,BlocksuiteIcon:()=>L,BoldIcon:()=>D,BookmarkIcon:()=>Z,BrokenImageIcon:()=>j,BroomIcon:()=>V,BrushIcon:()=>R,BulletedListIcon:()=>z,CameraIcon:()=>F,CancelWrapIcon:()=>N,CaptionIcon:()=>q,CenterPeekIcon:()=>U,ChatWithAiIcon:()=>W,CheckBoxCheckLinearIcon:()=>G,CheckBoxCkeckSolidIcon:()=>Y,CheckBoxUnIcon:()=>K,ClientIcon:()=>X,CloseIcon:()=>Q,CloudWorkspaceIcon:()=>J,CodeBlockIcon:()=>et,CodeIcon:()=>ee,CollaborationIcon:()=>ei,CollapseIcon:()=>es,ColorPickerIcon:()=>eo,CommentDuodoneIcon:()=>ea,CommentIcon:()=>er,CommentsAvatarIcon:()=>en,CompressIcon:()=>el,ConnectorCIcon:()=>ed,ConnectorEIcon:()=>eh,ConnectorIcon:()=>ec,ConnectorLIcon:()=>eu,ContactWithUsIcon:()=>ep,ConvertIcon:()=>ef,CopyIcon:()=>eg,CornerIcon:()=>em,CreatedIcon:()=>ev,CurveLineIcon:()=>ey,CustomSizeIcon:()=>eb,CustomizedHeightIcon:()=>ew,DarkModeIcon:()=>ex,DashLineIcon:()=>e_,DatabaseKanbanViewIcon:()=>eC,DatabaseListViewIcon:()=>ek,DatabaseTableViewIcon:()=>eS,DateTimeIcon:()=>eM,DeleteIcon:()=>eE,DeletePermanentlyIcon:()=>eI,DeleteTemporarilyIcon:()=>eB,DiamondIcon:()=>e$,DiscordIcon:()=>eT,DistributeHorizontalIcon:()=>eO,DistributeVerticalIcon:()=>eP,DividerIcon:()=>eA,DocsIcon:()=>eH,DoneIcon:()=>eL,DownloadIcon:()=>eD,DragCursorIcon:()=>eZ,DropCursorIcon:()=>ej,DualLinkIcon:()=>eV,DuplicateIcon:()=>eR,EdgelessIcon:()=>ez,EditIcon:()=>eF,ElbowedLineIcon:()=>eN,EllipseIcon:()=>eq,EllipsisIcon:()=>eU,EmailIcon:()=>eW,EmbedWebIcon:()=>eG,EmptyIcon:()=>eY,EndPointArrowIcon:()=>eK,EndPointCircleIcon:()=>eX,EndPointDiamondIcon:()=>eQ,EndPointTriangleIcon:()=>eJ,EnterIcon:()=>e1,EqIcon:()=>e0,EraserIcon:()=>e2,ExpandCloseIcon:()=>e7,ExpandFullIcon:()=>e3,ExpandIcon:()=>e5,ExpandWideIcon:()=>e4,ExperimentIcon:()=>e6,ExplainIcon:()=>e8,ExportIcon:()=>e9,ExportToHtmlIcon:()=>te,ExportToMarkdownIcon:()=>tt,ExportToPdfIcon:()=>ti,ExportToPngIcon:()=>ts,ExportToSvgIcon:()=>to,FavoriteIcon:()=>tr,FavoritedIcon:()=>ta,FigmaDuotoneIcon:()=>tn,FileIcon:()=>tl,FilterIcon:()=>tc,FilterMinusIcon:()=>td,FilterUndoIcon:()=>th,FilteredIcon:()=>tu,FlipDirectionIcon:()=>tp,FolderIcon:()=>tf,FontIcon:()=>tg,FrameIcon:()=>tm,GithubIcon:()=>tv,GitlabIcon:()=>ty,GoodIcon:()=>tb,GoogleDuotoneIcon:()=>tx,GoogleIcon:()=>tw,GoogleMapDuotoneIcon:()=>t_,GridIcon:()=>tC,GroupIcon:()=>tk,Group_276Icon:()=>tS,Group_277Icon:()=>tM,GroupingIcon:()=>tE,GtIcon:()=>tI,HandIcon:()=>tB,Heading1Icon:()=>t$,Heading2Icon:()=>tT,Heading3Icon:()=>tO,Heading4Icon:()=>tP,Heading5Icon:()=>tA,Heading6Icon:()=>tH,HeadingsIcon:()=>tL,HeartbreakIcon:()=>tD,HelpCenterIcon:()=>tj,HelpIcon:()=>tZ,HighLightDuotoneIcon:()=>tV,HighLightLinearIcon:()=>tR,HistoryIcon:()=>tz,ImageIcon:()=>tF,ImportIcon:()=>tN,ImproveWritingIcon:()=>tq,InboxIcon:()=>tU,InfoIcon:()=>tW,InformationFillDuotoneIcon:()=>tY,InformationIcon:()=>tG,InsertBleowIcon:()=>tK,InsertBlocksIcon:()=>tX,InsertLeftIcon:()=>tQ,InsertRightIcon:()=>tJ,InsertTopIcon:()=>t1,InstagramDuotoneIcon:()=>t0,InsyncIcon:()=>t2,InvisibleIcon:()=>t5,IssueIcon:()=>t7,ItalicIcon:()=>t3,JournalIcon:()=>t4,KeyboardIcon:()=>t6,LanguageIcon:()=>t8,LayerIcon:()=>t9,LayoutIcon:()=>ie,LevelIcon:()=>it,LightModeIcon:()=>ii,LineStyleIcon:()=>is,LinearLogoIcon:()=>io,LinkIcon:()=>ir,LinkedEdgelessIcon:()=>ia,LinkedPageIcon:()=>il,LocalDataIcon:()=>ic,LocalWorkspaceIcon:()=>id,LocateIcon:()=>ih,LockIcon:()=>iu,Logo1Icon:()=>ip,Logo2Icon:()=>ig,Logo3Icon:()=>im,Logo4Icon:()=>iv,LongerIcon:()=>iy,LoomLogoIcon:()=>ib,LtIcon:()=>iw,MakeItRealIcon:()=>ix,MindmapIcon:()=>i_,MindmapNodeIcon:()=>iC,MinusIcon:()=>ik,MoreHorizontalIcon:()=>iS,MoreVerticalIcon:()=>iM,MoveLeftIcon:()=>iE,MoveRightIcon:()=>iI,MoveToIcon:()=>iB,MoveToLeftDuotoneIcon:()=>i$,MoveToRightDuotoneIcon:()=>iT,MultiCursorDuotoneIcon:()=>iO,MultiSelectIcon:()=>iP,MyConnectionsIcon:()=>iA,NeIcon:()=>iH,NewIcon:()=>iL,NewPageIcon:()=>iD,NoNetworkIcon:()=>iZ,NoteShadowDuotoneIcon:()=>ij,NotificationIcon:()=>iV,NotionIcon:()=>iR,NowIcon:()=>iz,NumberIcon:()=>iF,NumberedListIcon:()=>iN,OctobaseIcon:()=>iq,OpenInNewIcon:()=>iU,OtherIcon:()=>iW,PageIcon:()=>iG,PaletteIcon:()=>iY,PasteIcon:()=>iK,PaymentIcon:()=>iX,PenIcon:()=>iQ,PenThickIcon:()=>iJ,PenThinIcon:()=>i1,PinIcon:()=>i0,PinboardIcon:()=>i2,PinedIcon:()=>i5,PlayFillIcon:()=>i3,PlayIcon:()=>i7,PluginIcon:()=>i4,PlusIcon:()=>i6,PlusThickIcon:()=>i8,PptIcon:()=>i9,PresentationIcon:()=>se,ProductHuntIcon:()=>st,ProgressIcon:()=>si,PropertyIcon:()=>ss,PublishIcon:()=>so,QuoteIcon:()=>sr,RadiantIcon:()=>sa,RedditDuotoneIcon:()=>sn,RedoIcon:()=>sl,ReleaseFromGroupIcon:()=>sc,RemoveFolderIcon:()=>sh,RemoveIcon:()=>sd,ReplaceIcon:()=>su,ResetIcon:()=>sp,RightLayoutIcon:()=>sf,RightSidebarIcon:()=>sg,RotateAnticlockwiseIcon:()=>sv,RotateIcon:()=>sm,RoundedRectangleIcon:()=>sy,SaveIcon:()=>sb,ScaleAltIcon:()=>sx,ScaleIcon:()=>sw,ScissorsIcon:()=>s_,SearchIcon:()=>sC,SelectAreaIcon:()=>sS,SelectIcon:()=>sk,SelectTextIcon:()=>sM,SelectionIcon:()=>sE,SendIcon:()=>sI,SettingsIcon:()=>sB,ShapeIcon:()=>s$,ShareIcon:()=>sT,SharedIcon:()=>sO,ShorterIcon:()=>sP,SiblingNodeIcon:()=>sA,SidebarIcon:()=>sH,SignOutIcon:()=>sL,SingleSelectIcon:()=>sD,SingleSelectSelectLinearIcon:()=>sZ,SingleSelectSelectSolidIcon:()=>sj,SingleSelectUnIcon:()=>sV,SmileIcon:()=>sR,SoloViewIcon:()=>sz,SortDownIcon:()=>sN,SortIcon:()=>sF,SortUpIcon:()=>sq,SplitViewIcon:()=>sU,SquareIcon:()=>sW,StartNumberingIcon:()=>sG,StartPointArrowIcon:()=>sK,StartPointCircleIcon:()=>sX,StartPointDiamondIcon:()=>sQ,StartPointIcon:()=>sY,StartPointTriangleIcon:()=>sJ,StopAiIcon:()=>s0,StopIcon:()=>s1,StraightLineIcon:()=>s2,StrikeThroughIcon:()=>s5,StyleGeneralIcon:()=>s3,StyleIcon:()=>s7,StyleScribbleIcon:()=>s4,SubNodeIcon:()=>s6,SucessfulDuotoneIcon:()=>s8,SummarizeIcon:()=>s9,TagIcon:()=>oe,TagsIcon:()=>ot,TelegramDuotoneIcon:()=>oi,TextAlignCenterIcon:()=>oo,TextAlignLeftIcon:()=>or,TextAlignRightIcon:()=>oa,TextBackgroundDuotoneIcon:()=>on,TextColorIcon:()=>ol,TextIcon:()=>os,TextTypeIcon:()=>oc,TimelineIcon:()=>od,TitleIcon:()=>oh,TocIcon:()=>ou,TodayIcon:()=>op,ToggleCollapseIcon:()=>of,ToggleExpandIcon:()=>og,TomorrowIcon:()=>om,ToneIcon:()=>ov,TriangleIcon:()=>oy,TwitterIcon:()=>ob,UnderLineIcon:()=>ow,UndoIcon:()=>ox,UngroupIcon:()=>o_,UnlinkIcon:()=>oC,UnlockIcon:()=>ok,UnpinIcon:()=>oS,UnsucessfulDuotoneIcon:()=>oM,UnsyncIcon:()=>oE,UpdatedIcon:()=>oI,UpgradeIcon:()=>oB,UploadIcon:()=>o$,UserGuideIcon:()=>oT,ViewBarIcon:()=>oP,ViewIcon:()=>oO,ViewLayersIcon:()=>oA,WarningIcon:()=>oH,WebIcon:()=>oL,WrapIcon:()=>oD,YesterdayIcon:()=>oZ,YoutubeDuotoneIcon:()=>oj,ZendeskIcon:()=>oV,ZoomDownIcon:()=>oR,ZoomUpIcon:()=>oz});var s=i(36870);let o=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3.75a3.25 3.25 0 1 0 0 6.5 3.25 3.25 0 0 0 0-6.5ZM7.25 7a4.75 4.75 0 1 1 9.5 0 4.75 4.75 0 0 1-9.5 0ZM12 14.75a6.253 6.253 0 0 0-5.998 4.488.665.665 0 0 0 .162.666c.182.2.486.346.836.346h10c.35 0 .654-.146.837-.346a.665.665 0 0 0 .161-.666A6.253 6.253 0 0 0 12 14.75Zm-7.438 4.065a7.753 7.753 0 0 1 14.876 0 2.163 2.163 0 0 1-.495 2.102A2.64 2.64 0 0 1 17 21.75H7a2.64 2.64 0 0 1-1.943-.833 2.163 2.163 0 0 1-.495-2.102Z",clipRule:"evenodd"})}),r=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.83 4.08a.655.655 0 0 0-1.31 0v1.964h-1.965a.655.655 0 0 0 0 1.31h1.965v1.964a.655.655 0 1 0 1.31 0V7.353h1.963a.655.655 0 1 0 0-1.31H18.83V4.08Zm1.435 15.397c.192-.12.31-.33.31-.557v-8.075a.655.655 0 1 0-1.31 0v7.016l-1.954-.977-.032-.017c-.19-.094-.338-.169-.497-.222a2.409 2.409 0 0 0-.433-.102c-.166-.024-.333-.023-.544-.023H8.397c-.744 0-1.263 0-1.667-.034-.396-.032-.624-.093-.796-.18a1.964 1.964 0 0 1-.858-.859c-.088-.172-.149-.4-.181-.796-.033-.404-.034-.923-.034-1.667V9.143c0-.744.001-1.263.034-1.667.032-.396.093-.624.18-.796.189-.37.49-.67.859-.858.172-.088.4-.149.796-.181.404-.033.923-.034 1.667-.034h4.758a.655.655 0 1 0 0-1.309H8.369c-.71 0-1.282 0-1.745.038-.478.039-.897.121-1.285.319a3.274 3.274 0 0 0-1.43 1.43c-.198.388-.28.807-.32 1.285-.037.463-.037 1.035-.037 1.745v3.897c0 .71 0 1.282.038 1.745.039.478.121.897.319 1.285a3.273 3.273 0 0 0 1.43 1.43c.388.198.807.28 1.285.32.463.037 1.035.037 1.745.037h7.4c.263 0 .334.002.399.01.066.01.132.026.196.047.062.02.126.051.361.169l2.902 1.45c.203.102.445.091.638-.028ZM7.699 8.663a.655.655 0 1 0 0 1.31h6.983a.655.655 0 1 0 0-1.31H7.7Zm-.655 4.146c0-.361.293-.654.655-.654h4.364a.655.655 0 0 1 0 1.31H7.7a.655.655 0 0 1-.655-.656Z",clipRule:"evenodd"})}),a=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12h12m-6-6v12"})}),n=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.25 5A.75.75 0 0 1 7 4.25h14a.75.75 0 0 1 .75.75v2.333a.75.75 0 0 1-1.5 0V5.75h-5.5v12.5h2.75a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1 0-1.5h2.75V5.75h-5.5v1.583a.75.75 0 1 1-1.5 0V5Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.25 13a.75.75 0 0 1 .75-.75h5a.75.75 0 0 1 0 1.5H2a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.5 16.25a.75.75 0 0 1-.75-.75v-5a.75.75 0 0 1 1.5 0v5a.75.75 0 0 1-.75.75Z",clipRule:"evenodd"})]}),l=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.893 2.293c-.717-.538-1.769-.31-2.207.48-.35.624-1.413 2.504-2.697 4.775l-.001.001C5.493 11.96 2.166 17.843 1.61 18.865c-.341.838.135 1.831.99 2.075.251.068.512.063.758.059.101-.002.2-.004.295 0 2.243.002 5.182 0 8.153 0 3.255-.002 6.55-.004 9.016 0 .137.002.375 0 .576-.059.62-.176 1.082-.78 1.1-1.436a1.644 1.644 0 0 0-.11-.638c-.07-.156-.128-.257-.186-.357l-.066-.117-.476-.844-3.831-6.78-.232-.412L14.03 4.04l-.716-1.267a1.661 1.661 0 0 0-.421-.48Zm-2.331 3.026 1.11-1.965a.377.377 0 0 1 .656 0c.068.118.199.352.333.592.15.268.305.544.382.675l3.686 6.525 1.834 3.245-8.001-9.072ZM8.826 8.39c-2.458 4.35-5.633 9.971-6.16 10.917-.095.23.078.52.324.524.048.005.335.005.52.004h1.682L8.826 8.39Zm4.007 11.445h8.015c.07 0 .158 0 .162-.004a.146.146 0 0 0 .048-.005c.01-.003.021-.005.032-.006a.396.396 0 0 0 .245-.513c-.008-.012-.012-.02-.016-.03a.718.718 0 0 0-.049-.092l-1.043-1.847-11.472 2.498h4.078Zm5.932-4.337a11.46 11.46 0 0 0-.68-.561l-7.748 3.825-.057.041 9.365-2.371-.88-.934Zm-6.711 1.671 5.139-2.836a7.958 7.958 0 0 0-.924-.473l-4.215 3.31Zm.778-1.433 2.487-2.207a6.708 6.708 0 0 0-.406-.097 6.167 6.167 0 0 0-.728-.092l-1.353 2.396Zm-1.24.749L10.24 14.09l.627 3.301c.097-.1.191-.203.283-.31.159-.19.307-.39.442-.597Zm-1.369-3.866a6.435 6.435 0 0 1-.285-.691 7.156 7.156 0 0 1-.121-.405l3.11 1.096h-2.704Zm-.599-4.227 7.001 4.866.05.023-6.612-7.02-.145.514a12.69 12.69 0 0 0-.294 1.617Zm.484 9.678-.73-5.662a7.446 7.446 0 0 1-.044-.118l-.179 6.413c.332-.188.65-.398.953-.633Zm-1.91 1.108.612-8.473-2.572 9.122.003-.001.09-.023c.639-.163 1.267-.367 1.868-.625Zm6.24-6.63L9.56 9.48c0 .345.019.69.061 1.032l4.816 2.038Zm-3.65 1.095 1.035 1.83c.08.14.277.14.355 0l1.035-1.83c.079-.14-.02-.315-.177-.315h-2.07c-.158 0-.257.175-.178.315Z",clipRule:"evenodd"})}),c=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M11.281 5.491a.714.714 0 0 0-1.42-.001c-.27 2.345-.971 3.994-2.102 5.126-1.132 1.131-2.781 1.832-5.127 2.103a.714.714 0 0 0 .002 1.42c2.307.26 3.991.962 5.15 2.099 1.153 1.133 1.87 2.782 2.076 5.11a.714.714 0 0 0 1.423 0c.198-2.291.914-3.975 2.073-5.135 1.16-1.16 2.843-1.875 5.134-2.073a.714.714 0 0 0 .002-1.423c-2.33-.207-3.978-.923-5.111-2.077-1.138-1.158-1.838-2.842-2.1-5.149ZM18.943 2.247a.278.278 0 0 0-.552-.001c-.105.912-.378 1.554-.818 1.993-.44.44-1.082.713-1.994.818a.278.278 0 0 0 0 .552c.898.102 1.553.375 2.003.817.45.44.727 1.082.808 1.987a.278.278 0 0 0 .553 0c.077-.891.356-1.546.807-1.997.45-.45 1.105-.729 1.996-.806a.278.278 0 0 0 0-.553c-.905-.08-1.546-.36-1.987-.808-.442-.45-.715-1.105-.816-2.002Z"})}),d=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M15 4a1 1 0 0 1 1 1v12a1 1 0 0 1-.031.25H20a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1 0-1.5h4.031A1.002 1.002 0 0 1 8 17v-6a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v6a1 1 0 0 1-.031.25h2.063A1 1 0 0 1 13 17V5a1 1 0 0 1 1-1h1Z",clipRule:"evenodd"})}),h=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3.25a.75.75 0 0 1 .75.75v4H18a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1h-5.25v2H15a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1h-2.25v4a.75.75 0 0 1-1.5 0v-4H9a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h2.25v-2H6a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h5.25V4a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),u=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.75 3.25A.75.75 0 0 1 6.5 4v4.031c.08-.02.164-.031.25-.031h12a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1h-12a1 1 0 0 1-.25-.031v2.063A1 1 0 0 1 6.75 13h6a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1h-6a1 1 0 0 1-.25-.031V20A.75.75 0 0 1 5 20V4a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),p=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M19 3.25a.75.75 0 0 1 .75.75v16a.75.75 0 0 1-1.5 0v-4.031A1 1 0 0 1 18 16h-6a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h6a1 1 0 0 1 .25.031v-2.063A1 1 0 0 1 18 11H6a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h12c.086 0 .17.01.25.031V4a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),f=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 5.75A.75.75 0 0 1 3.75 5h16a.75.75 0 0 1 0 1.5h-4.031a1 1 0 0 1 .031.25v12a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-12a1 1 0 0 1 .031-.25h-2.063a1 1 0 0 1 .032.25v6a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-6c0-.086.01-.17.032-.25H3.75A.75.75 0 0 1 3 5.75Z",clipRule:"evenodd"})}),g=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M15 5a1 1 0 0 1 1 1v5.25h4a.75.75 0 0 1 0 1.5h-4V18a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-5.25h-2V15a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.25H4a.75.75 0 0 1 0-1.5h4V9a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v2.25h2V6a1 1 0 0 1 1-1h1Z",clipRule:"evenodd"})}),m=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.167 3.25c-.783 0-1.417.634-1.417 1.417V15.5c0 .782.634 1.417 1.417 1.417h8.666c.783 0 1.417-.635 1.417-1.417V8.125h-2.5a1.833 1.833 0 0 1-1.833-1.833V3.25h-5.75Zm7.25 1.223 1.913 2.152h-1.58a.333.333 0 0 1-.333-.333v-1.82ZM7.25 4.667a2.917 2.917 0 0 1 2.917-2.917h6.5a.75.75 0 0 1 .56.252l4.334 4.875a.75.75 0 0 1 .189.498V15.5a2.917 2.917 0 0 1-2.917 2.917H16.75v.916a2.917 2.917 0 0 1-2.917 2.917H5.708a3.458 3.458 0 0 1-3.458-3.458V8.5a2.917 2.917 0 0 1 2.917-2.917H7.25v-.916Zm0 2.416H5.167c-.783 0-1.417.635-1.417 1.417v10.292c0 1.081.877 1.958 1.958 1.958h8.125c.783 0 1.417-.634 1.417-1.417v-.916h-5.083A2.917 2.917 0 0 1 7.25 15.5V7.083Zm4.333-.25a.75.75 0 0 1 .75-.75h1.409a.75.75 0 0 1 0 1.5h-1.409a.75.75 0 0 1-.75-.75Zm0 3.25a.75.75 0 0 1 .75-.75h4.334a.75.75 0 0 1 0 1.5h-4.334a.75.75 0 0 1-.75-.75Zm0 3.25a.75.75 0 0 1 .75-.75h3.25a.75.75 0 0 1 0 1.5h-3.25a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),v=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3.75a8.25 8.25 0 1 0 0 16.5A2.25 2.25 0 0 0 14.25 18v-.659c0-.314 0-.556.034-.771a2.75 2.75 0 0 1 2.286-2.286c.215-.034.457-.034.771-.034H18A2.25 2.25 0 0 0 20.25 12 8.25 8.25 0 0 0 12 3.75ZM2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75A3.75 3.75 0 0 1 18 15.75h-.6c-.4 0-.513.002-.595.015a1.25 1.25 0 0 0-1.04 1.04c-.013.082-.015.195-.015.595v.6A3.75 3.75 0 0 1 12 21.75c-5.385 0-9.75-4.365-9.75-9.75Zm7-4.5a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0Zm5 1a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0Zm-8 3a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0Z",clipRule:"evenodd"})}),y=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.507 13.003a.75.75 0 0 0-1.06.045l-3.697 4.027V5a.75.75 0 0 0-1.5 0v12.075l-3.698-4.027a.75.75 0 1 0-1.104 1.015l5 5.444a.75.75 0 0 0 1.104 0l5-5.444a.75.75 0 0 0-.045-1.06Z",clipRule:"evenodd"})}),b=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.75 4a.75.75 0 0 0-1.5 0v10.19l-2.72-2.72a.75.75 0 0 0-1.06 1.06l4 4a.75.75 0 0 0 1.06 0l4-4a.75.75 0 1 0-1.06-1.06l-2.72 2.72V4ZM5 19.25a.75.75 0 0 0 0 1.5h14a.75.75 0 0 0 0-1.5H5Z",clipRule:"evenodd"})}),w=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.58 8.97a.75.75 0 0 1 0 1.06l-5 5a.75.75 0 0 1-1.06 0l-5-5a.75.75 0 1 1 1.06-1.06l4.47 4.47 4.47-4.47a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})}),x=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.997 6.493a.75.75 0 0 1-.045 1.06L6.925 11.25H19a.75.75 0 0 1 0 1.5H6.925l4.027 3.698a.75.75 0 1 1-1.015 1.104l-5.444-5a.75.75 0 0 1 0-1.104l5.444-5a.75.75 0 0 1 1.06.045Z",clipRule:"evenodd"})}),_=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.53 6.47a.75.75 0 0 1 0 1.06L10.06 12l4.47 4.47a.75.75 0 1 1-1.06 1.06l-5-5a.75.75 0 0 1 0-1.06l5-5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})}),C=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.707 6.293a1 1 0 0 1 0 1.414L10.414 12l4.293 4.293a1 1 0 0 1-1.414 1.414l-5-5a1 1 0 0 1 0-1.414l5-5a1 1 0 0 1 1.414 0Z",clipRule:"evenodd"})}),k=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.003 6.493a.75.75 0 0 0 .045 1.06l4.027 3.697H5a.75.75 0 0 0 0 1.5h12.075l-4.027 3.698a.75.75 0 1 0 1.015 1.104l5.444-5a.75.75 0 0 0 0-1.104l-5.444-5a.75.75 0 0 0-1.06.045Z",clipRule:"evenodd"})}),S=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.47 6.47a.75.75 0 0 0 0 1.06L12.94 12l-4.47 4.47a.75.75 0 1 0 1.06 1.06l5-5a.75.75 0 0 0 0-1.06l-5-5a.75.75 0 0 0-1.06 0Z",clipRule:"evenodd"})}),M=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.293 6.293a1 1 0 0 0 0 1.414L12.586 12l-4.293 4.293a1 1 0 1 0 1.414 1.414l5-5a1 1 0 0 0 0-1.414l-5-5a1 1 0 0 0-1.414 0Z",clipRule:"evenodd"})}),E=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.507 10.997a.75.75 0 0 1-1.06-.045L12.75 6.925V19a.75.75 0 0 1-1.5 0V6.925l-3.698 4.027a.75.75 0 1 1-1.104-1.015l5-5.444a.75.75 0 0 1 1.104 0l5 5.444a.75.75 0 0 1-.045 1.06Z",clipRule:"evenodd"})}),I=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 3.25a.75.75 0 0 0 0 1.5h14a.75.75 0 0 0 0-1.5H5ZM12.75 20a.75.75 0 0 1-1.5 0V9.81l-2.72 2.72a.75.75 0 0 1-1.06-1.06l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06l-2.72-2.72V20Z",clipRule:"evenodd"})}),B=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.58 15.03a.75.75 0 0 0 0-1.06l-5-5a.75.75 0 0 0-1.06 0l-5 5a.75.75 0 1 0 1.06 1.06l4.47-4.47 4.47 4.47a.75.75 0 0 0 1.06 0Z",clipRule:"evenodd"})}),$=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3.75a8.25 8.25 0 1 0 4.125 15.395.75.75 0 0 1 .75 1.299 9.708 9.708 0 0 1-4.925 1.306c-5.362-.027-9.7-4.382-9.7-9.75 0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75v1.5a3.25 3.25 0 0 1-6.108 1.55A4.75 4.75 0 1 1 16.75 12v1.5a1.75 1.75 0 1 0 3.5 0V12A8.25 8.25 0 0 0 12 3.75ZM15.25 12a3.25 3.25 0 1 0-6.5 0 3.25 3.25 0 0 0 6.5 0Z",clipRule:"evenodd"})}),T=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"m12.217 5.608-6.04 6.04a4.65 4.65 0 0 0 0 6.704c1.914 1.864 5.026 1.864 6.94 0l5.89-5.723a.75.75 0 1 1 1.045 1.076l-5.889 5.721c-2.496 2.432-6.536 2.432-9.032 0a6.15 6.15 0 0 1-.004-8.849l6.04-6.04c1.762-1.716 4.61-1.716 6.371 0a4.35 4.35 0 0 1 .004 6.256l-6.04 6.04c-1.027 1-2.683 1-3.71 0a2.55 2.55 0 0 1 0-3.667l6.2-6.037a.75.75 0 0 1 1.046 1.075l-6.199 6.037a1.05 1.05 0 0 0 0 1.518 1.168 1.168 0 0 0 1.613.003l6.04-6.04a2.85 2.85 0 0 0 0-4.11 3.086 3.086 0 0 0-4.275-.004Z",clipRule:"evenodd"})}),O=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 4A.75.75 0 0 1 4 3.25h16a.75.75 0 0 1 0 1.5H4A.75.75 0 0 1 3.25 4ZM3.25 20a.75.75 0 0 1 .75-.75h16a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75ZM11.47 5.47a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1-1.06 1.06L12 7.06 9.53 9.53a.75.75 0 0 1-1.06-1.06l3-3ZM8.47 14.47a.75.75 0 0 1 1.06 0L12 16.94l2.47-2.47a.75.75 0 1 1 1.06 1.06l-3 3a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 5.25a.75.75 0 0 1 .75.75v12a.75.75 0 0 1-1.5 0V6a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})]}),P=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 6A2.75 2.75 0 0 1 6 3.25h2.5a.75.75 0 0 1 0 1.5H6c-.69 0-1.25.56-1.25 1.25v2.5a.75.75 0 0 1-1.5 0V6Zm11.5-2a.75.75 0 0 1 .75-.75H18A2.75 2.75 0 0 1 20.75 6v2.5a.75.75 0 0 1-1.5 0V6c0-.69-.56-1.25-1.25-1.25h-2.5a.75.75 0 0 1-.75-.75ZM4 14.75a.75.75 0 0 1 .75.75V18c0 .69.56 1.25 1.25 1.25h3a.75.75 0 0 1 0 1.5H6A2.75 2.75 0 0 1 3.25 18v-2.5a.75.75 0 0 1 .75-.75Zm16 0a.75.75 0 0 1 .75.75V18A2.75 2.75 0 0 1 18 20.75h-3a.75.75 0 0 1 0-1.5h3c.69 0 1.25-.56 1.25-1.25v-2.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),A=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.28 5.66 5.66 17.28A8.25 8.25 0 0 1 17.28 5.66ZM6.72 18.34 18.34 6.72A8.25 8.25 0 0 1 6.72 18.34ZM18.894 5.106c-3.807-3.808-9.98-3.808-13.788 0-3.808 3.807-3.808 9.98 0 13.788 3.807 3.808 9.98 3.808 13.788 0 3.808-3.807 3.808-9.98 0-13.788Z",clipRule:"evenodd"})}),H=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.7 2.813a.75.75 0 0 1 .6 0l8 3.5c.274.12.45.389.45.687v10a.75.75 0 0 1-.45.687l-8 3.5a.75.75 0 0 1-.6 0l-8-3.5A.75.75 0 0 1 3.25 17V7a.75.75 0 0 1 .45-.687l8-3.5ZM4.75 8.147v8.362l6.5 2.844V10.99l-6.5-2.843Zm8 2.844v8.362l6.5-2.844V8.147l-6.5 2.844ZM18.129 7 12 9.681 5.871 7 12 4.319 18.129 7Z",clipRule:"evenodd"})}),L=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M20 8.182 14.703 4 4 6.121v9.696L9.298 20 20 17.88V8.181Zm-6.356-2.65v2.754l1.62-.32v-1.71l2.34 1.846-7.81 1.548-3.398-2.682 7.248-1.436ZM5.62 8.167l3.116 2.459v2.887l1.62-.32V10.86l8.024-1.59v6.564l-3.116-2.46v-2.886l-1.62.32v2.332L5.62 14.73V8.168Zm4.736 10.301v-2.754l-1.62.321v1.71L6.396 15.9l7.811-1.548 3.397 2.681-7.247 1.436Z"})}),D=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.25 4A.75.75 0 0 1 7 3.25h5.958c2.67 0 4.875 2.105 4.875 4.75 0 1.515-.723 2.853-1.843 3.72 1.626.764 2.76 2.383 2.76 4.28 0 2.645-2.204 4.75-4.875 4.75H7a.75.75 0 0 1-.75-.75V4Zm1.5 8.75v6.5h6.125c1.886 0 3.375-1.477 3.375-3.25s-1.49-3.25-3.375-3.25H7.75Zm0-1.5h5.208c1.886 0 3.375-1.477 3.375-3.25s-1.489-3.25-3.375-3.25H7.75v6.5Z",clipRule:"evenodd"})}),Z=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 3.25A2.75 2.75 0 0 0 2.25 6v7a.75.75 0 0 0 1.5 0V6c0-.69.56-1.25 1.25-1.25h14c.69 0 1.25.56 1.25 1.25v12c0 .69-.56 1.25-1.25 1.25h-7a.75.75 0 0 0 0 1.5h7A2.75 2.75 0 0 0 21.75 18V6A2.75 2.75 0 0 0 19 3.25H5Zm4.116 9.866a1.25 1.25 0 0 1 1.768 1.768l-2 2a1.25 1.25 0 0 1-1.768 0 .75.75 0 0 0-1.06 1.06 2.75 2.75 0 0 0 3.889 0l2-2a2.75 2.75 0 1 0-3.89-3.889l-.55.55a.75.75 0 1 0 1.061 1.06l.55-.549Zm-3 3a1.25 1.25 0 0 1 1.768 0 .75.75 0 0 0 1.06-1.06 2.75 2.75 0 0 0-3.889 0l-2 2a2.75 2.75 0 1 0 3.89 3.889l.55-.551a.75.75 0 0 0-1.06-1.06l-.551.55a1.25 1.25 0 0 1-1.768-1.768l2-2Z",clipRule:"evenodd"})}),j=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 6A2.75 2.75 0 0 1 6 3.25h12A2.75 2.75 0 0 1 20.75 6v5a.75.75 0 0 1-1.5 0V6c0-.69-.56-1.25-1.25-1.25H6c-.69 0-1.25.56-1.25 1.25v8.19l3.305-3.306a2.75 2.75 0 0 1 3.89 0l.585.586a.75.75 0 1 1-1.06 1.06l-.586-.585a1.25 1.25 0 0 0-1.768 0L4.75 16.31V18c0 .69.56 1.25 1.25 1.25h5a.75.75 0 0 1 0 1.5H6A2.75 2.75 0 0 1 3.25 18V6Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",d:"M15 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.47 13.47a.75.75 0 0 1 1.06 0L17 15.94l2.47-2.47a.75.75 0 1 1 1.06 1.06L18.06 17l2.47 2.47a.75.75 0 1 1-1.06 1.06L17 18.06l-2.47 2.47a.75.75 0 1 1-1.06-1.06L15.94 17l-2.47-2.47a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})]}),V=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.777 3.723a.76.76 0 0 1 0 1.075l-6.968 6.968a5.09 5.09 0 0 1 .068 5.946l-2.881 4.1a.663.663 0 0 1-.92.164 29.851 29.851 0 0 1-7.552-7.552.663.663 0 0 1 .164-.92l4.1-2.88a5.09 5.09 0 0 1 5.946.067l6.968-6.968a.76.76 0 0 1 1.075 0ZM10.25 20.23l2.384-3.393.027-.04c-1.023-.4-2.056-1.083-2.965-1.993-.91-.91-1.592-1.942-1.993-2.965a3.63 3.63 0 0 0-.04.027L4.27 14.251a28.329 28.329 0 0 0 5.98 5.98Zm-1.137-8.962c.313.808.87 1.674 1.658 2.461.787.788 1.653 1.345 2.46 1.658a3.567 3.567 0 0 0-4.118-4.119Z",clipRule:"evenodd"})}),R=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.25 4.968a.75.75 0 0 1 .782-.717 83.76 83.76 0 0 1 7.141.63c1.323.178 2.63.398 3.77.664 1.127.263 2.15.585 2.873.987.228.127.444.275.61.453.164.177.347.461.322.832-.025.37-.243.623-.417.766a2.188 2.188 0 0 1-.582.327c-.759.302-2.052.501-3.404.663-.818.098-1.716.187-2.593.275-.594.06-1.178.118-1.723.177-.277.03-.544.06-.797.091a136.573 136.573 0 0 0 .953.142c2.324.342 5.287.777 7.09 1.48.16.064.41.177.585.394a.88.88 0 0 1 .198.551.887.887 0 0 1-.18.532 1.375 1.375 0 0 1-.513.393 4.156 4.156 0 0 1-.543.208c-.767.242-1.994.482-3.266.725l-.406.078c-1.175.223-2.39.454-3.412.701a14.25 14.25 0 0 0-1.443.413 4.472 4.472 0 0 0-.37.15c.295.23.799.507 1.466.801 1.43.631 3.34 1.232 4.669 1.592a.75.75 0 0 1-.393 1.448c-1.361-.37-3.352-.993-4.88-1.668-.75-.33-1.46-.703-1.921-1.102-.222-.192-.478-.467-.58-.828a1.133 1.133 0 0 1 .002-.636c.065-.217.188-.391.327-.527.293-.286.746-.487 1.17-.64a15.683 15.683 0 0 1 1.602-.461c1.06-.256 2.312-.494 3.48-.716l.408-.078a74.838 74.838 0 0 0 1.951-.392c-1.57-.39-3.545-.681-5.299-.94l-.605-.09c-1.197-.178-2.29-.35-2.908-.545a2.228 2.228 0 0 1-.483-.206c-.098-.06-.459-.292-.473-.755-.015-.48.35-.732.46-.802.159-.102.352-.177.54-.239.76-.247 2.049-.417 3.408-.565.577-.063 1.172-.122 1.767-.182.86-.086 1.722-.171 2.534-.269 1.066-.127 1.954-.264 2.556-.42-.527-.231-1.248-.453-2.12-.657-1.08-.252-2.335-.464-3.63-.64a82.271 82.271 0 0 0-7.005-.617.75.75 0 0 1-.717-.78Zm13.543 8.197-.006-.004a.065.065 0 0 1 .006.004Zm-.035-.931Z",clipRule:"evenodd"})}),z=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.3 7.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4.033-1.75a.75.75 0 0 0 0 1.5l11.917.001a.75.75 0 0 0 0-1.5H8.333Zm0 5.5a.75.75 0 1 0 0 1.5l11.917.002a.75.75 0 0 0 0-1.5L8.333 11.25Zm0 5.5a.75.75 0 1 0 0 1.5l11.917.002a.75.75 0 1 0 0-1.5L8.333 16.75ZM5.3 12a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-1 6.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"})}),F=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.285 5.75c-.35 0-.67.172-.858.45l-.723 1.066a2.535 2.535 0 0 1-2.1 1.109h-.826c-.579 0-1.028.459-1.028 1v7.875c0 .541.449 1 1.028 1h12.444c.579 0 1.028-.459 1.028-1V9.375c0-.541-.449-1-1.028-1h-.826c-.84 0-1.63-.413-2.1-1.109L14.573 6.2a1.035 1.035 0 0 0-.858-.45h-3.43Zm-2.1-.391a2.535 2.535 0 0 1 2.1-1.109h3.43c.84 0 1.63.413 2.1 1.109l.723 1.066c.188.278.509.45.858.45h.826c1.385 0 2.528 1.108 2.528 2.5v7.875c0 1.392-1.143 2.5-2.528 2.5H5.778c-1.385 0-2.528-1.108-2.528-2.5V9.375c0-1.392 1.143-2.5 2.528-2.5h.826c.349 0 .67-.172.858-.45l.723-1.066ZM12 11c-1.07 0-1.917.85-1.917 1.875 0 1.024.847 1.875 1.917 1.875s1.917-.85 1.917-1.875C13.917 11.851 13.07 11 12 11Zm-3.417 1.875C8.583 11 10.124 9.5 12 9.5s3.417 1.5 3.417 3.375S13.876 16.25 12 16.25s-3.417-1.5-3.417-3.375Z",clipRule:"evenodd"})}),N=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.53 2.47a.75.75 0 1 0-1.06 1.06l2.72 2.72H8a.75.75 0 0 0 0 1.5h10.19l-2.72 2.72a.75.75 0 1 0 1.06 1.06l4-4a.75.75 0 0 0 0-1.06l-4-4Zm-5 9a.75.75 0 1 0-1.06 1.06l2.72 2.72H4.5a.75.75 0 0 0 0 1.5h8.69l-2.72 2.72a.75.75 0 1 0 1.06 1.06l4-4a.75.75 0 0 0 0-1.06l-4-4Z",clipRule:"evenodd"})}),q=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.25 7A2.75 2.75 0 0 1 7 4.25h5A2.75 2.75 0 0 1 14.75 7v3A2.75 2.75 0 0 1 12 12.75H7A2.75 2.75 0 0 1 4.25 10V7ZM7 5.75c-.69 0-1.25.56-1.25 1.25v3c0 .69.56 1.25 1.25 1.25h5c.69 0 1.25-.56 1.25-1.25V7c0-.69-.56-1.25-1.25-1.25H7ZM4.25 15.5a.75.75 0 0 1 .75-.75h14a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75ZM5 18.25a.75.75 0 0 0 0 1.5h9a.75.75 0 0 0 0-1.5H5Z",clipRule:"evenodd"})}),U=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 4.75a.25.25 0 0 0-.25.25v2a.75.75 0 0 1-1.5 0V5c0-.966.784-1.75 1.75-1.75h2a.75.75 0 0 1 0 1.5H5ZM16.25 4a.75.75 0 0 1 .75-.75h2c.966 0 1.75.784 1.75 1.75v2a.75.75 0 0 1-1.5 0V5a.25.25 0 0 0-.25-.25h-2a.75.75 0 0 1-.75-.75Zm-9 5.1c0-.47.38-.85.85-.85h7.8c.47 0 .85.38.85.85v5.8c0 .47-.38.85-.85.85H8.1a.85.85 0 0 1-.85-.85V9.1Zm1.5.65v4.5h6.5v-4.5h-6.5ZM4 16.25a.75.75 0 0 1 .75.75v2c0 .138.112.25.25.25h2a.75.75 0 0 1 0 1.5H5A1.75 1.75 0 0 1 3.25 19v-2a.75.75 0 0 1 .75-.75Zm16 0a.75.75 0 0 1 .75.75v2A1.75 1.75 0 0 1 19 20.75h-2a.75.75 0 0 1 0-1.5h2a.25.25 0 0 0 .25-.25v-2a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),W=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.755 7.913C2.74 6.996 3.35 5.25 4.765 5.25h14.237c1.18 0 1.878 1.279 1.317 2.277l-6.982 12.448c-.686 1.221-2.484.937-2.792-.408l-1.595-6.96-5.195-4.694Zm6.728 4.667 1.524 6.652a.073.073 0 0 0 .005.016.026.026 0 0 0 .01.002.077.077 0 0 0 .006-.009L18.312 8.04l-7.83 4.54Zm7.063-5.83H4.761a.052.052 0 0 0-.007.013.049.049 0 0 0-.004.025l.01.012 4.965 4.486 7.821-4.536Z",clipRule:"evenodd"})}),G=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 3.25A2.75 2.75 0 0 0 3.25 6v12A2.75 2.75 0 0 0 6 20.75h12A2.75 2.75 0 0 0 20.75 18V6A2.75 2.75 0 0 0 18 3.25H6ZM4.75 6c0-.69.56-1.25 1.25-1.25h12c.69 0 1.25.56 1.25 1.25v12c0 .69-.56 1.25-1.25 1.25H6c-.69 0-1.25-.56-1.25-1.25V6Zm11.78 3.53a.75.75 0 0 0-1.06-1.06l-4.97 4.97-1.47-1.47a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.06 0l5.5-5.5Z",clipRule:"evenodd"})}),Y=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 6A2.75 2.75 0 0 1 6 3.25h12A2.75 2.75 0 0 1 20.75 6v12A2.75 2.75 0 0 1 18 20.75H6A2.75 2.75 0 0 1 3.25 18V6Zm13.28 3.53a.75.75 0 0 0-1.06-1.06l-4.97 4.97-1.47-1.47a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.06 0l5.5-5.5Z",clipRule:"evenodd"})}),K=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 3.25A2.75 2.75 0 0 0 3.25 6v12A2.75 2.75 0 0 0 6 20.75h12A2.75 2.75 0 0 0 20.75 18V6A2.75 2.75 0 0 0 18 3.25H6ZM4.75 6c0-.69.56-1.25 1.25-1.25h12c.69 0 1.25.56 1.25 1.25v12c0 .69-.56 1.25-1.25 1.25H6c-.69 0-1.25-.56-1.25-1.25V6Z",clipRule:"evenodd"})}),X=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.25 5.5H5a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h2.25v-13Zm1.5 0v2.75H19.5V6a.5.5 0 0 0-.5-.5H8.75Zm0 4.25v8.75H19a.5.5 0 0 0 .5-.5V9.75H8.75Zm0 10.25H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H8.75Z",clipRule:"evenodd"})}),Q=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}),J=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11 5.75a4.25 4.25 0 0 0-4.147 5.183.75.75 0 0 1-.568.896A3.252 3.252 0 0 0 7 18.25h9a4.25 4.25 0 1 0-.085-8.5.75.75 0 0 1-.75-.6A4.252 4.252 0 0 0 11 5.75ZM5.25 10a5.75 5.75 0 0 1 11.235-1.73A5.75 5.75 0 0 1 16 19.75H7a4.75 4.75 0 0 1-1.722-9.178A5.81 5.81 0 0 1 5.25 10Z",clipRule:"evenodd"})}),ee=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.982 4.272a.75.75 0 0 1 .546.91l-3.6 14.4a.75.75 0 1 1-1.456-.364l3.6-14.4a.75.75 0 0 1 .91-.546ZM7.13 8.07a.75.75 0 0 1 0 1.06L4.06 12.2l3.07 3.07a.75.75 0 0 1-1.06 1.06l-3.6-3.6a.75.75 0 0 1 0-1.06l3.6-3.6a.75.75 0 0 1 1.06 0Zm9.74 0a.75.75 0 0 1 1.06 0l3.6 3.6a.75.75 0 0 1 0 1.06l-3.6 3.6a.75.75 0 1 1-1.06-1.06l3.07-3.07-3.07-3.07a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}),et=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.25 6A2.75 2.75 0 0 1 5 3.25h14A2.75 2.75 0 0 1 21.75 6v12A2.75 2.75 0 0 1 19 20.75H5A2.75 2.75 0 0 1 2.25 18V6ZM5 4.75c-.69 0-1.25.56-1.25 1.25v12c0 .69.56 1.25 1.25 1.25h14c.69 0 1.25-.56 1.25-1.25V6c0-.69-.56-1.25-1.25-1.25H5Zm5.53 4.62a.75.75 0 0 1 0 1.06l-1.59 1.591 1.59 1.591a.75.75 0 0 1-1.06 1.06l-2.122-2.12a.75.75 0 0 1 0-1.061L9.47 9.37a.75.75 0 0 1 1.06 0Zm2.94 1.06a.75.75 0 1 1 1.06-1.06l2.122 2.12a.75.75 0 0 1 0 1.062l-2.122 2.12a.75.75 0 1 1-1.06-1.06l1.59-1.59-1.59-1.592Z",clipRule:"evenodd"})}),ei=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 5.55a1.95 1.95 0 1 0 0 3.9 1.95 1.95 0 0 0 0-3.9ZM8.55 7.5a3.45 3.45 0 1 1 6.9 0 3.45 3.45 0 0 1-6.9 0ZM5.7 9.15a1.05 1.05 0 1 0 0 2.1 1.05 1.05 0 0 0 0-2.1ZM3.15 10.2a2.55 2.55 0 1 1 5.1 0 2.55 2.55 0 0 1-5.1 0ZM18.3 9.15a1.05 1.05 0 1 0 0 2.1 1.05 1.05 0 0 0 0-2.1Zm-2.55 1.05a2.55 2.55 0 1 1 5.1 0 2.55 2.55 0 0 1-5.1 0ZM12 13.65a3.752 3.752 0 0 0-3.75 3.75v1.05h7.5V17.4A3.752 3.752 0 0 0 12 13.65Zm5.25 4.8h2.85a.15.15 0 0 0 .15-.15v-.9a1.95 1.95 0 0 0-3.213-1.485c.139.471.213.97.213 1.485v1.05Zm-.857-3.925A5.245 5.245 0 0 0 12 12.15a5.245 5.245 0 0 0-4.393 2.375A3.45 3.45 0 0 0 2.25 17.4v.9c0 .911.739 1.65 1.65 1.65h16.2a1.65 1.65 0 0 0 1.65-1.65v-.9a3.45 3.45 0 0 0-5.357-2.875Zm-9.43 1.39A1.95 1.95 0 0 0 3.75 17.4v.9c0 .083.067.15.15.15h2.85V17.4c0-.515.074-1.014.213-1.485Z",clipRule:"evenodd"})}),es=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.53 3.47a.75.75 0 0 0-1.06 1.06l5 5a.75.75 0 0 0 1.06 0l5-5a.75.75 0 0 0-1.06-1.06L12 7.94 7.53 3.47Zm0 17.06a.75.75 0 0 1-1.06-1.06l5-5a.75.75 0 0 1 1.06 0l5 5a.75.75 0 1 1-1.06 1.06L12 16.06l-4.47 4.47Z",clipRule:"evenodd"})}),eo=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.607 3.637a2.571 2.571 0 0 0-3.636 0l-1.667 1.666a2.572 2.572 0 0 1-3.251.318c-.23-.154-.544-.16-.74.036l-.656.656a.5.5 0 0 0 0 .708l1.394 1.393-7.39 7.39a2.751 2.751 0 0 0-.456 3.285l-1.043 1.043a.75.75 0 0 0 1.06 1.06l1.043-1.043a2.751 2.751 0 0 0 3.286-.457l7.389-7.389 1.283 1.284a.5.5 0 0 0 .707 0l.657-.657c.195-.195.19-.51.036-.739-.672-1-.567-2.367.317-3.251l1.667-1.667a2.571 2.571 0 0 0 0-3.636ZM5.722 16.864l7.39-7.389 1.767 1.768-7.389 7.389a1.25 1.25 0 1 1-1.768-1.768Z",clipRule:"evenodd"})}),er=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.5 3.75a7.75 7.75 0 0 0-7.022 11.033.85.85 0 0 1 .068.5l-.634 3.805 3.804-.634a.851.851 0 0 1 .5.068A7.75 7.75 0 1 0 12.5 3.75ZM3.25 11.5a9.25 9.25 0 1 1 5.517 8.466l-4.506.75a.85.85 0 0 1-.978-.977l.751-4.506A9.22 9.22 0 0 1 3.25 11.5Z",clipRule:"evenodd"})}),ea=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M21.302 8.649A9.25 9.25 0 0 1 8.767 19.966l-4.506.75a.85.85 0 0 1-.978-.977l.751-4.506A9.25 9.25 0 0 1 15.351 2.698a4.236 4.236 0 0 0-.682 1.36 7.75 7.75 0 0 0-9.192 10.725.85.85 0 0 1 .07.5l-.635 3.805 3.804-.634a.851.851 0 0 1 .5.068A7.75 7.75 0 0 0 19.942 9.33a4.235 4.235 0 0 0 1.361-.681Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",d:"M21.75 5.25a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),en=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsxs)("g",{clipPath:"url(#a)",children:[(0,s.jsx)("g",{filter:"url(#b)",children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.5 2.25a9.25 9.25 0 0 0-8.466 12.983l-.75 4.506a.85.85 0 0 0 .977.978l4.506-.751A9.25 9.25 0 1 0 12.5 2.25Z",clipRule:"evenodd"})}),(0,s.jsx)("rect",{width:16,height:16,x:4.5,y:3.5,fill:"url(#c)",rx:8}),(0,s.jsx)("rect",{width:16,height:16,x:4.5,y:3.5,stroke:"currentColor",rx:8})]}),(0,s.jsxs)("defs",{children:[(0,s.jsxs)("filter",{id:"b",width:26.5,height:26.5,x:-.75,y:.25,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,s.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,s.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,s.jsx)("feOffset",{dy:2}),(0,s.jsx)("feGaussianBlur",{stdDeviation:2}),(0,s.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.28 0"}),(0,s.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_18870_71976"}),(0,s.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_18870_71976",result:"shape"})]}),(0,s.jsx)("pattern",{id:"c",width:1,height:1,patternContentUnits:"objectBoundingBox",children:(0,s.jsx)("use",{xlinkHref:"#d",transform:"scale(.00424)"})}),(0,s.jsx)("clipPath",{id:"a",children:(0,s.jsx)("path",{fill:"currentColor",d:"M0 0H24V24H0z"})})]})]}),el=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.989 9.742a.75.75 0 0 1-.75-.75V4.978a.75.75 0 0 1 1.5 0v2.203l3.736-3.736a.75.75 0 1 1 1.06 1.06L16.8 8.242h2.203a.75.75 0 1 1 0 1.5h-4.013Zm0 4.491a.75.75 0 0 0-.75.75v4.014a.75.75 0 1 0 1.5 0v-2.203l3.736 3.736a.75.75 0 1 0 1.06-1.06L16.8 15.733h2.203a.75.75 0 1 0 0-1.5h-4.013Zm-5.328.75a.75.75 0 0 0-.75-.75H4.898a.75.75 0 0 0 0 1.5H7.1L3.364 19.47a.75.75 0 1 0 1.06 1.06l3.737-3.736v2.203a.75.75 0 1 0 1.5 0v-4.014Zm-.75-5.241a.75.75 0 0 0 .75-.75V4.978a.75.75 0 1 0-1.5 0v2.203L4.425 3.445a.75.75 0 1 0-1.06 1.06L7.1 8.242H4.898a.75.75 0 0 0 0 1.5H8.91Z",clipRule:"evenodd"})}),ec=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.25 6.5a3.25 3.25 0 1 1 1.582 2.79L9.29 15.832a3.25 3.25 0 1 1-1.046-1.075l6.513-6.514A3.235 3.235 0 0 1 14.25 6.5Zm3.25-1.75a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5Zm-11 11a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5Z",clipRule:"evenodd"})}),ed=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M15.97 2.02a.75.75 0 0 1 1.06 0l4.88 4.879a.85.85 0 0 1 0 1.202l-4.88 4.88a.75.75 0 1 1-1.06-1.062l3.67-3.669H18c-3.151 0-4.552.758-5.25 1.662-.745.963-.873 2.28-1.002 3.898l-.008.101c-.119 1.486-.259 3.245-1.303 4.595C9.323 19.946 7.349 20.75 4 20.75a.75.75 0 1 1 0-1.5c3.151 0 4.552-.758 5.25-1.662.745-.963.873-2.28 1.002-3.898l.008-.1c.119-1.487.259-3.246 1.303-4.596C12.677 7.554 14.651 6.75 18 6.75h1.64l-3.67-3.67a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}),eh=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M17.03 2.02a.75.75 0 1 0-1.06 1.06l3.67 3.67H14a2.75 2.75 0 0 0-2.75 2.75V18c0 .69-.56 1.25-1.25 1.25H3a.75.75 0 0 0 0 1.5h7A2.75 2.75 0 0 0 12.75 18V9.5c0-.69.56-1.25 1.25-1.25h5.64l-3.67 3.67a.75.75 0 1 0 1.06 1.06l4.88-4.879a.85.85 0 0 0 0-1.202L17.03 2.02Z"})}),eu=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M13 3.25a.75.75 0 0 0 0 1.5h5.19L3.47 19.47a.75.75 0 1 0 1.06 1.06L19.25 5.81V11a.75.75 0 0 0 1.5 0V4.1a.85.85 0 0 0-.85-.85H13Z"})}),ep=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.286 2.964A3.036 3.036 0 0 0 3.25 6v7.5a3.036 3.036 0 0 0 3.036 3.036H7.82v3.821a.75.75 0 0 0 1.28.53l4.352-4.351h4.261A3.036 3.036 0 0 0 20.75 13.5V6a3.036 3.036 0 0 0-3.036-3.036H6.286ZM4.75 6c0-.848.688-1.536 1.536-1.536h11.428c.848 0 1.536.688 1.536 1.536v7.5c0 .848-.688 1.536-1.536 1.536h-4.571a.75.75 0 0 0-.53.22l-3.292 3.29v-2.76a.75.75 0 0 0-.75-.75H6.286A1.536 1.536 0 0 1 4.75 13.5V6Zm3.75 4.8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4.5-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2.5 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"})}),ef=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.192 4.25a.75.75 0 1 0 0 1.5h8.539c.69 0 1.25.56 1.25 1.25v7.728l-1.605-1.604a.75.75 0 0 0-1.06 1.06L18.2 17.07a.75.75 0 0 0 1.06 0l2.885-2.885a.75.75 0 0 0-1.06-1.06l-1.605 1.604V7a2.75 2.75 0 0 0-2.75-2.75H8.192Zm7.231 15.5a.75.75 0 0 0 0-1.5H6.885c-.69 0-1.25-.56-1.25-1.25V9.272l1.604 1.604a.75.75 0 1 0 1.06-1.06L5.416 6.93a.75.75 0 0 0-1.06 0L1.47 9.816a.75.75 0 0 0 1.06 1.06l1.605-1.604V17a2.75 2.75 0 0 0 2.75 2.75h8.538Z",clipRule:"evenodd"})}),eg=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 6A2.75 2.75 0 0 1 6 3.25h8A2.75 2.75 0 0 1 16.75 6v1.25H18A2.75 2.75 0 0 1 20.75 10v8A2.75 2.75 0 0 1 18 20.75h-8A2.75 2.75 0 0 1 7.25 18v-1.25H6A2.75 2.75 0 0 1 3.25 14V6Zm5.5 12c0 .69.56 1.25 1.25 1.25h8c.69 0 1.25-.56 1.25-1.25v-8c0-.69-.56-1.25-1.25-1.25h-8c-.69 0-1.25.56-1.25 1.25v8Zm6.5-10.75H10A2.75 2.75 0 0 0 7.25 10v5.25H6c-.69 0-1.25-.56-1.25-1.25V6c0-.69.56-1.25 1.25-1.25h8c.69 0 1.25.56 1.25 1.25v1.25Z",clipRule:"evenodd"})}),em=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M4.8 3.25H3.25V4.8h1.5v-.05h.05v-1.5ZM8 3.25H6.4v1.5H8v-1.5ZM9.6 3.25v1.5H16A3.25 3.25 0 0 1 19.25 8v6.4h1.5V8A4.75 4.75 0 0 0 16 3.25H9.6ZM3.25 6.4V8h1.5V6.4h-1.5ZM3.25 9.6v1.6h1.5V9.6h-1.5ZM3.25 12.8v1.6h1.5v-1.6h-1.5ZM20.75 17.6V16h-1.5v1.6h1.5ZM3.25 16v1.6h1.5V16h-1.5ZM20.75 20.75V19.2h-1.5v.05h-.05v1.5h1.55ZM4.75 19.2h-1.5v1.55H4.8v-1.5h-.05v-.05ZM6.4 20.75H8v-1.5H6.4v1.5ZM9.6 20.75h1.6v-1.5H9.6v1.5ZM12.8 20.75h1.6v-1.5h-1.6v1.5ZM16 20.75h1.6v-1.5H16v1.5Z"})}),ev=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.75 3.5a.75.75 0 0 0-1.5 0v.75H5A2.75 2.75 0 0 0 2.25 7v12A2.75 2.75 0 0 0 5 21.75h6.5a.75.75 0 0 0 0-1.5H5c-.69 0-1.25-.56-1.25-1.25v-8.75h16.5v1.25a.75.75 0 0 0 1.5 0V7A2.75 2.75 0 0 0 19 4.25h-2.25V3.5a.75.75 0 0 0-1.5 0v.75h-6.5V3.5Zm6.5 3v-.75h-6.5v.75a.75.75 0 0 1-1.5 0v-.75H5c-.69 0-1.25.56-1.25 1.25v1.75h16.5V7c0-.69-.56-1.25-1.25-1.25h-2.25v.75a.75.75 0 0 1-1.5 0Zm4.78 6.97a.75.75 0 0 0-1.06 0l-5.098 5.098a.75.75 0 0 0-.22.531l.004 2.224a.75.75 0 0 0 .748.75l2.225.003c.2 0 .39-.079.531-.22l5.098-5.098a.75.75 0 0 0 0-1.06L20.03 13.47Zm-4.878 5.938 4.348-4.347 1.167 1.167-4.347 4.347-1.165-.002-.002-1.165Z",clipRule:"evenodd"})}),ey=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.95 6.066C14.2 4.301 16.352 3.25 20 3.25a.75.75 0 0 1 0 1.5c-3.352 0-4.95.949-5.825 2.184-.933 1.317-1.175 3.11-1.43 5.159l-.013.098c-.24 1.927-.51 4.088-1.682 5.742C9.8 19.7 7.647 20.75 4 20.75a.75.75 0 0 1 0-1.5c3.352 0 4.95-.949 5.825-2.183.933-1.318 1.175-3.11 1.43-5.16l.013-.098c.24-1.927.51-4.088 1.682-5.743Z",clipRule:"evenodd"})}),eb=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 6A2.75 2.75 0 0 1 6 3.25h2.5a.75.75 0 0 1 0 1.5H6c-.69 0-1.25.56-1.25 1.25v2.5a.75.75 0 0 1-1.5 0V6Zm11.5-2a.75.75 0 0 1 .75-.75H18A2.75 2.75 0 0 1 20.75 6v2.5a.75.75 0 0 1-1.5 0V6c0-.69-.56-1.25-1.25-1.25h-2.5a.75.75 0 0 1-.75-.75ZM4 14.75a.75.75 0 0 1 .75.75V18c0 .69.56 1.25 1.25 1.25h3a.75.75 0 0 1 0 1.5H6A2.75 2.75 0 0 1 3.25 18v-2.5a.75.75 0 0 1 .75-.75Zm16 0a.75.75 0 0 1 .75.75V18A2.75 2.75 0 0 1 18 20.75h-3a.75.75 0 0 1 0-1.5h3c.69 0 1.25-.56 1.25-1.25v-2.5a.75.75 0 0 1 .75-.75ZM7.25 9c0-.966.784-1.75 1.75-1.75h6c.966 0 1.75.784 1.75 1.75v6A1.75 1.75 0 0 1 15 16.75H9A1.75 1.75 0 0 1 7.25 15V9ZM9 8.75a.25.25 0 0 0-.25.25v6c0 .138.112.25.25.25h6a.25.25 0 0 0 .25-.25V9a.25.25 0 0 0-.25-.25H9Z",clipRule:"evenodd"})}),ew=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 12a.75.75 0 0 1 .75-.75h16a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75ZM12.53 10.53a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 0 1 1.06-1.06L12 8.94l2.47-2.47a.75.75 0 1 1 1.06 1.06l-3 3ZM15.53 17.53a.75.75 0 0 1-1.06 0L12 15.06l-2.47 2.47a.75.75 0 0 1-1.06-1.06l3-3a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM11.25 21v-7h1.5v7a.75.75 0 0 1-1.5 0Z",clipRule:"evenodd"})]}),ex=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.33 3.47a.75.75 0 0 1 .187.748 7.425 7.425 0 0 0 9.265 9.265.75.75 0 0 1 .936.934A8.925 8.925 0 1 1 9.582 3.282a.75.75 0 0 1 .747.188ZM8.772 5.223a7.425 7.425 0 1 0 10.005 10.004A8.925 8.925 0 0 1 8.772 5.223Z",clipRule:"evenodd"})}),e_=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.53 3.53a.75.75 0 0 1 0 1.061l-3.189 3.19a.75.75 0 0 1-1.06-1.061l3.189-3.19a.75.75 0 0 1 1.06 0Zm-6.375 6.375a.75.75 0 0 1 0 1.061l-3.189 3.19a.75.75 0 0 1-1.06-1.061l3.189-3.19a.75.75 0 0 1 1.06 0ZM7.78 17.341a.75.75 0 0 0-1.06-1.06L3.53 19.47a.75.75 0 1 0 1.061 1.06l3.19-3.189Z",clipRule:"evenodd"})}),eC=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.5 3.75A1.75 1.75 0 0 0 3.75 5.5V18c0 .966.784 1.75 1.75 1.75h4A1.75 1.75 0 0 0 11.25 18V5.5A1.75 1.75 0 0 0 9.5 3.75h-4ZM5.25 5.5a.25.25 0 0 1 .25-.25h4a.25.25 0 0 1 .25.25V18a.25.25 0 0 1-.25.25h-4a.25.25 0 0 1-.25-.25V5.5Zm9.25-1.75a1.75 1.75 0 0 0-1.75 1.75v7c0 .966.784 1.75 1.75 1.75h4a1.75 1.75 0 0 0 1.75-1.75v-7a1.75 1.75 0 0 0-1.75-1.75h-4Zm-.25 1.75a.25.25 0 0 1 .25-.25h4a.25.25 0 0 1 .25.25v7a.25.25 0 0 1-.25.25h-4a.25.25 0 0 1-.25-.25v-7Z",clipRule:"evenodd"})}),ek=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 3.25A2.75 2.75 0 0 0 2.25 6v12A2.75 2.75 0 0 0 5 20.75h14A2.75 2.75 0 0 0 21.75 18V6A2.75 2.75 0 0 0 19 3.25H5ZM3.75 6c0-.69.56-1.25 1.25-1.25h2.25v3.5h-3.5V6Zm3.5 3.75h-3.5v3.5h3.5v-3.5Zm1.5 3.5v-3.5h11.5v3.5H8.75Zm-1.5 1.5h-3.5V18c0 .69.56 1.25 1.25 1.25h2.25v-4.5Zm1.5 4.5v-4.5h11.5V18c0 .69-.56 1.25-1.25 1.25H8.75Zm0-11v-3.5H19c.69 0 1.25.56 1.25 1.25v2.25H8.75Z",clipRule:"evenodd"})}),eS=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 6A2.75 2.75 0 0 1 6 3.25h12A2.75 2.75 0 0 1 20.75 6v12A2.75 2.75 0 0 1 18 20.75H6A2.75 2.75 0 0 1 3.25 18V6ZM6 4.75c-.69 0-1.25.56-1.25 1.25v2.25h14.5V6c0-.69-.56-1.25-1.25-1.25H6ZM4.75 18V9.75h3v9.5H6c-.69 0-1.25-.56-1.25-1.25Zm4.5 1.25H18c.69 0 1.25-.56 1.25-1.25V9.75h-10v9.5Z",clipRule:"evenodd"})}),eM=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.205 2.787c.393 0 .712.319.712.712v.711h6.166V3.5a.712.712 0 0 1 1.423 0v.711h2.135a2.609 2.609 0 0 1 2.609 2.61v11.384a2.609 2.609 0 0 1-2.609 2.609H5.359a2.609 2.609 0 0 1-2.609-2.61V6.82A2.609 2.609 0 0 1 5.359 4.21h2.135V3.5c0-.393.318-.712.711-.712Zm6.878 2.846v.712a.712.712 0 0 0 1.423 0v-.712h2.135c.655 0 1.186.531 1.186 1.186v1.66H4.173V6.82c0-.655.531-1.186 1.186-1.186h2.135v.712a.712.712 0 1 0 1.423 0v-.712h6.166Zm-10.91 4.27h15.654v8.3c0 .656-.531 1.187-1.186 1.187H5.359c-.655 0-1.186-.531-1.186-1.186V9.903Z",clipRule:"evenodd"})}),eE=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11 2.25A2.75 2.75 0 0 0 8.25 5v1.15H4a.85.85 0 0 0 0 1.7h.309l.81 11.346a2.75 2.75 0 0 0 2.743 2.554h8.276a2.75 2.75 0 0 0 2.743-2.554l.81-11.346H20a.85.85 0 0 0 0-1.7h-4.25V5A2.75 2.75 0 0 0 13 2.25h-2Zm3.25 3.9V5c0-.69-.56-1.25-1.25-1.25h-2c-.69 0-1.25.56-1.25 1.25v1.15h4.5Zm3.937 1.7H5.813l.802 11.24a1.25 1.25 0 0 0 1.247 1.16h8.276c.656 0 1.2-.507 1.247-1.16l.802-11.24ZM10.75 11a.75.75 0 0 0-1.5 0v6a.75.75 0 0 0 1.5 0v-6Zm3.25-.75a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),eI=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.25 5A2.75 2.75 0 0 1 11 2.25h2A2.75 2.75 0 0 1 15.75 5v1.25H20a.75.75 0 0 1 0 1.5h-.302l-.817 11.446a2.75 2.75 0 0 1-2.743 2.554H7.862a2.75 2.75 0 0 1-2.743-2.554L4.302 7.75H4a.75.75 0 0 1 0-1.5h4.25V5Zm6 0v1.25h-4.5V5c0-.69.56-1.25 1.25-1.25h2c.69 0 1.25.56 1.25 1.25ZM5.805 7.75h12.39l-.81 11.34a1.25 1.25 0 0 1-1.247 1.16H7.862a1.25 1.25 0 0 1-1.247-1.16l-.81-11.34Zm4.725 3.22a.75.75 0 1 0-1.06 1.06l1.47 1.47-1.47 1.47a.75.75 0 1 0 1.06 1.06L12 14.56l1.47 1.47a.75.75 0 1 0 1.06-1.06l-1.47-1.47 1.47-1.47a.75.75 0 1 0-1.06-1.06L12 12.44l-1.47-1.47Z",clipRule:"evenodd"})}),eB=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11 2.25A2.75 2.75 0 0 0 8.25 5v1.25H4a.75.75 0 0 0 0 1.5h.302l.817 11.446a2.75 2.75 0 0 0 2.743 2.554H10.5a.75.75 0 0 0 0-1.5H7.862a1.25 1.25 0 0 1-1.247-1.16l-.81-11.34h12.39l-.229 3.197a.75.75 0 1 0 1.496.106l.236-3.303H20a.75.75 0 0 0 0-1.5h-4.25V5A2.75 2.75 0 0 0 13 2.25h-2Zm3.25 4V5c0-.69-.56-1.25-1.25-1.25h-2c-.69 0-1.25.56-1.25 1.25v1.25h4.5ZM10.75 11a.75.75 0 0 0-1.5 0v6a.75.75 0 0 0 1.5 0v-6Zm3.25-.75a.75.75 0 0 1 .75.75v1a.75.75 0 0 1-1.5 0v-1a.75.75 0 0 1 .75-.75Zm3 4.5a3.25 3.25 0 1 0 0 6.5 3.25 3.25 0 0 0 0-6.5ZM12.25 18a4.75 4.75 0 1 1 9.5 0 4.75 4.75 0 0 1-9.5 0Zm5.5-1.5a.75.75 0 0 0-1.5 0V18c0 .199.079.39.22.53l1 1a.75.75 0 1 0 1.06-1.06l-.78-.78V16.5Z",clipRule:"evenodd"})}),e$=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 1.94 22.06 12 12 22.06 1.94 12 12 1.94ZM4.06 12 12 19.94 19.94 12 12 4.06 4.06 12Z",clipRule:"evenodd"})}),eT=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M18.922 5.647a16.174 16.174 0 0 0-4.066-1.267.086.086 0 0 0-.067.029c-.171.314-.371.723-.505 1.038a15.325 15.325 0 0 0-4.571 0 9.55 9.55 0 0 0-.515-1.038c-.01-.02-.038-.029-.066-.029-1.429.248-2.79.676-4.067 1.267-.01 0-.02.01-.029.019-2.59 3.876-3.304 7.648-2.952 11.381 0 .02.01.038.029.048a16.545 16.545 0 0 0 4.99 2.524c.029.01.057 0 .067-.02.38-.523.724-1.076 1.019-1.657.019-.038 0-.076-.038-.085a11.711 11.711 0 0 1-1.562-.743c-.038-.02-.038-.076-.01-.105.105-.076.21-.162.315-.238.019-.02.047-.02.066-.01 3.277 1.496 6.81 1.496 10.048 0a.059.059 0 0 1 .067.01c.105.086.21.162.314.247.038.03.038.086-.01.105a10.21 10.21 0 0 1-1.561.743c-.038.01-.048.057-.038.086.304.58.647 1.133 1.019 1.657.028.01.057.02.085.01a16.479 16.479 0 0 0 5-2.524.052.052 0 0 0 .03-.048c.418-4.314-.696-8.057-2.953-11.381-.01-.01-.02-.02-.038-.02ZM8.684 14.77c-.98 0-1.8-.905-1.8-2.02 0-1.114.8-2.018 1.8-2.018 1.01 0 1.81.914 1.8 2.019 0 1.114-.8 2.019-1.8 2.019Zm6.638 0c-.98 0-1.8-.905-1.8-2.02 0-1.114.8-2.018 1.8-2.018 1.01 0 1.81.914 1.8 2.019 0 1.114-.79 2.019-1.8 2.019Z"})}),eO=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 3.25a.75.75 0 0 1 .75.75v16a.75.75 0 0 1-1.5 0V4A.75.75 0 0 1 5 3.25Zm14 0a.75.75 0 0 1 .75.75v16a.75.75 0 0 1-1.5 0V4a.75.75 0 0 1 .75-.75ZM10.5 16a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-1a1 1 0 0 0-1 1v9Z",clipRule:"evenodd"})}),eP=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.75 5a.75.75 0 0 1-.75.75H4a.75.75 0 0 1 0-1.5h16a.75.75 0 0 1 .75.75Zm0 14a.75.75 0 0 1-.75.75H4a.75.75 0 0 1 0-1.5h16a.75.75 0 0 1 .75.75ZM7.5 10.5a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1h-9Z",clipRule:"evenodd"})}),eA=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 4.25a.75.75 0 0 1 .75.75v1c0 .69.56 1.25 1.25 1.25h12c.69 0 1.25-.56 1.25-1.25V5a.75.75 0 0 1 1.5 0v1A2.75 2.75 0 0 1 18 8.75H6A2.75 2.75 0 0 1 3.25 6V5A.75.75 0 0 1 4 4.25Zm0 15.5a.75.75 0 0 0 .75-.75v-1c0-.69.56-1.25 1.25-1.25h12c.69 0 1.25.56 1.25 1.25v1a.75.75 0 0 0 1.5 0v-1A2.75 2.75 0 0 0 18 15.25H6A2.75 2.75 0 0 0 3.25 18v1c0 .414.336.75.75.75Zm-1-8.5a.75.75 0 0 0 0 1.5h1.2a.75.75 0 0 0 0-1.5H3Zm3.45.75a.75.75 0 0 1 .75-.75h1.2a.75.75 0 0 1 0 1.5H7.2a.75.75 0 0 1-.75-.75Zm4.95-.75a.75.75 0 0 0 0 1.5h1.2a.75.75 0 0 0 0-1.5h-1.2Zm3.45.75a.75.75 0 0 1 .75-.75h1.2a.75.75 0 0 1 0 1.5h-1.2a.75.75 0 0 1-.75-.75Zm4.95-.75a.75.75 0 0 0 0 1.5H21a.75.75 0 0 0 0-1.5h-1.2Z",clipRule:"evenodd"})}),eH=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 17.593V6.407c0-.903.353-1.77.98-2.409A3.32 3.32 0 0 1 7.35 3h9.302c.448 0 .812.37.812.826v11.185a.829.829 0 0 1-.256.602.802.802 0 0 1-.556.225H7.35c-.16 0-.318.022-.469.066a1.748 1.748 0 0 0-1.256 1.689c0 .465.181.912.505 1.24.324.33.762.515 1.22.515h11.027V4.686c0-.456.364-.826.812-.826.449 0 .812.37.812.826v15.488a.819.819 0 0 1-.812.826H7.348a3.32 3.32 0 0 1-2.367-.998A3.437 3.437 0 0 1 4 17.592Zm3.772-.826a.819.819 0 0 0-.812.826c0 .456.363.826.812.826h8.456c.449 0 .812-.37.812-.826a.819.819 0 0 0-.812-.826H7.772Z",clipRule:"evenodd"})}),eL=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.53 6.47a.75.75 0 0 1 0 1.06l-10 10a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06L9 15.94l9.47-9.47a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})}),eD=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.75 4.75a.75.75 0 0 0-1.5 0v8.69l-2.22-2.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 1 0-1.06-1.06l-2.22 2.22V4.75Zm-8 6A.25.25 0 0 1 5 10.5h1A.75.75 0 0 0 6 9H5a1.75 1.75 0 0 0-1.75 1.75v7A2.75 2.75 0 0 0 6 20.5h12a2.75 2.75 0 0 0 2.75-2.75v-7A1.75 1.75 0 0 0 19 9h-1a.75.75 0 0 0 0 1.5h1a.25.25 0 0 1 .25.25v7c0 .69-.56 1.25-1.25 1.25H6c-.69 0-1.25-.56-1.25-1.25v-7Z",clipRule:"evenodd"})}),eZ=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.694 3.62c.271-.661.934-1.12 1.693-1.12.993 0 1.823.786 1.823 1.786v.12c.248-.123.528-.192.822-.192.993 0 1.823.786 1.823 1.786v.978c.248-.123.528-.192.822-.192.994 0 1.823.786 1.823 1.785v6c0 3.84-3.198 6.929-7.113 6.929-.96 0-1.884-.131-2.777-.547-.893-.415-1.717-1.098-2.505-2.146l-3.208-4.001a1.755 1.755 0 0 1 .14-2.376 1.845 1.845 0 0 1 2.592.031l.563.653c.308.376.54.631.714.795v-.01c.015-.235.014-.525.013-.875V5.142c0-.999.83-1.785 1.823-1.785.347 0 .674.096.952.264Zm.87 7.523a.5.5 0 1 1-1 0v-6c0-.42-.354-.786-.822-.786-.468 0-.823.365-.823.786v7.865c.001.352.002.683-.015.952-.01.164-.027.329-.062.475a.989.989 0 0 1-.236.467.691.691 0 0 1-.64.196 1.227 1.227 0 0 1-.497-.246c-.28-.214-.623-.582-1.046-1.099l-.535-.62a.845.845 0 0 0-1.153.014.756.756 0 0 0-.062 1.028l.003.003 3.214 4.01.01.012c.71.948 1.415 1.513 2.132 1.847.719.334 1.488.453 2.355.453 3.39 0 6.113-2.668 6.113-5.929v-6c0-.42-.355-.785-.823-.785-.467 0-.822.365-.822.785V12a.5.5 0 0 1-1 0V6c0-.42-.355-.786-.823-.786-.468 0-.822.365-.822.786v5.143a.5.5 0 0 1-1 0V4.286c0-.421-.355-.786-.823-.786-.468 0-.823.365-.823.786v6.857Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",d:"M11.064 11.643a.5.5 0 0 0 .5-.5V4.286c0-.421.355-.786.823-.786.468 0 .823.365.823.786v6.857a.5.5 0 1 0 1 0V6c0-.42.354-.786.822-.786.468 0 .823.365.823.786v6a.5.5 0 1 0 1 0V8.571c0-.42.355-.785.822-.785.468 0 .823.365.823.785v6c0 3.261-2.724 5.929-6.113 5.929-.867 0-1.636-.119-2.355-.453-.717-.334-1.421-.9-2.132-1.847l-.01-.013-3.214-4.009-.003-.003a.756.756 0 0 1 .062-1.028.845.845 0 0 1 1.153-.014l.535.62c.423.517.766.885 1.046 1.099.138.104.306.209.496.246a.691.691 0 0 0 .641-.196.989.989 0 0 0 .236-.467c.035-.146.052-.31.062-.475.017-.27.016-.6.015-.952V5.143c0-.42.355-.785.823-.785.467 0 .822.365.822.786v6a.5.5 0 0 0 .5.5Z"})]}),ej=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.694 8.335c.271-.662.934-1.12 1.693-1.12.748 0 1.402.445 1.68 1.091.282-.172.613-.27.965-.27.993 0 1.823.786 1.823 1.785v.086c.248-.124.528-.193.822-.193.994 0 1.823.786 1.823 1.786v3.071c0 3.84-3.198 6.929-7.113 6.929-.96 0-1.884-.131-2.777-.547-.894-.416-1.72-1.1-2.509-2.151l-2.015-2.634a1.755 1.755 0 0 1 .144-2.371 1.845 1.845 0 0 1 2.561 0l.009.008.118.122a84.012 84.012 0 0 0 .001-1.145V9.857c0-1 .83-1.786 1.823-1.786.347 0 .674.096.952.264Zm-.13 1.522c0-.42-.354-.786-.822-.786-.468 0-.823.365-.823.786V13.191c.001.471.001.842-.007 1.116-.006.174-.015.33-.035.457a.882.882 0 0 1-.176.442.578.578 0 0 1-.359.2.614.614 0 0 1-.337-.048 1.166 1.166 0 0 1-.317-.228 9.468 9.468 0 0 1-.31-.32c-.093-.097-.19-.201-.287-.3a.845.845 0 0 0-1.164.004.756.756 0 0 0-.061 1.028l.01.013L7.9 18.2c.71.948 1.415 1.513 2.132 1.847.719.334 1.488.453 2.355.453 3.39 0 6.113-2.668 6.113-5.929V11.5c0-.42-.355-.786-.823-.786-.467 0-.822.365-.822.786v.5a.5.5 0 0 1-1 0V9.821c0-.42-.355-.785-.823-.785-.468 0-.822.365-.822.785v1.322a.5.5 0 1 1-1 0V9c0-.42-.355-.786-.823-.786-.468 0-.823.365-.823.786v2.143a.5.5 0 1 1-1 0V9.857Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",d:"M9.742 9.071c.467 0 .822.365.822.786v1.286a.5.5 0 1 0 1 0V9c0-.42.355-.786.823-.786.468 0 .822.365.822.786v2.143a.5.5 0 1 0 1 0V9.82c0-.42.355-.785.823-.785.468 0 .823.365.823.785V12a.5.5 0 1 0 1 0v-.5c0-.42.355-.786.822-.786.468 0 .823.365.823.786v3.071c0 3.261-2.724 5.929-6.113 5.929-.867 0-1.636-.119-2.355-.453-.717-.334-1.421-.9-2.132-1.847l-2.025-2.645-.01-.013a.756.756 0 0 1 .062-1.028.845.845 0 0 1 1.164-.003c.096.098.194.202.286.299.121.128.23.244.31.32.072.067.184.169.318.228.075.033.194.07.337.049a.578.578 0 0 0 .359-.2.882.882 0 0 0 .176-.443c.02-.128.03-.283.035-.457.008-.274.008-.645.007-1.116V9.857c0-.42.355-.786.823-.786Z"})]}),eV=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.667 6.2a.75.75 0 0 1 0-1.5H19a.75.75 0 0 1 .75.75v8.333a.75.75 0 0 1-1.5 0V7.261L6.53 18.98a.75.75 0 1 1-1.06-1.061L17.19 6.2h-6.523Z",clipRule:"evenodd"})}),eR=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 3.25A2.75 2.75 0 0 0 3.25 6v8A2.75 2.75 0 0 0 6 16.75h1.25V18A2.75 2.75 0 0 0 10 20.75h8A2.75 2.75 0 0 0 20.75 18v-8A2.75 2.75 0 0 0 18 7.25h-1.25V6A2.75 2.75 0 0 0 14 3.25H6Zm4 4h5.25V6c0-.69-.56-1.25-1.25-1.25H6c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h2a.75.75 0 0 1 .75.75v2c0 .69.56 1.25 1.25 1.25h8c.69 0 1.25-.56 1.25-1.25v-8c0-.69-.56-1.25-1.25-1.25h-8a1.25 1.25 0 0 0-1.17.81.75.75 0 0 1-1.405-.528A2.75 2.75 0 0 1 10 7.25Zm2.887 3.239a.75.75 0 1 0-1.098 1.022l.688.739H7.8a.75.75 0 0 0 0 1.5h4.677l-.688.739a.75.75 0 0 0 1.098 1.022l1.862-2a.75.75 0 0 0 0-1.022l-1.862-2Z",clipRule:"evenodd"})}),ez=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.168 4.75a1.868 1.868 0 1 0 0 3.736 1.868 1.868 0 0 0 0-3.736ZM3.8 6.618a3.368 3.368 0 0 1 6.729-.226c.842 0 1.651.014 2.493.217.933.226 1.865.672 2.975 1.504l.02.015.02.017c1.566 1.35 2.35 3.533 2.354 5.578h1.66a.75.75 0 0 1 .75.75v4.713a.75.75 0 0 1-.75.75h-4.714a.75.75 0 0 1-.75-.75v-4.713a.75.75 0 0 1 .75-.75h1.554c-.004-1.705-.663-3.42-1.815-4.426-.975-.728-1.719-1.064-2.406-1.23-.712-.172-1.407-.175-2.36-.175v-.057a3.375 3.375 0 0 1-2.392 2.068v3.904a3.37 3.37 0 0 1-.75 6.652 3.368 3.368 0 0 1-.75-6.652V9.903A3.37 3.37 0 0 1 3.8 6.618Zm3.368 8.605a1.868 1.868 0 1 0 0 3.736 1.868 1.868 0 0 0 0-3.736Zm8.92 3.213v-3.213H19.3v3.213h-3.213Z",clipRule:"evenodd"})}),eF=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.303 4.498a.85.85 0 0 1 1.2 0c.33.33.33.863 0 1.192l-.43.428-1.196-1.195.426-.425Zm-1.488 1.485 1.197 1.195-7.086 7.072H9.75v-1.216l7.065-7.051Zm3.747-2.547a2.35 2.35 0 0 0-3.318 0L8.47 12.192a.75.75 0 0 0-.22.531V15c0 .414.336.75.75.75h2.236a.75.75 0 0 0 .53-.22l8.796-8.778c.917-.915.917-2.4 0-3.316ZM4.75 6c0-.69.56-1.25 1.25-1.25h6a.75.75 0 0 0 0-1.5H6A2.75 2.75 0 0 0 3.25 6v12A2.75 2.75 0 0 0 6 20.75h12A2.75 2.75 0 0 0 20.75 18v-6a.75.75 0 0 0-1.5 0v6c0 .69-.56 1.25-1.25 1.25H6c-.69 0-1.25-.56-1.25-1.25V6Z",clipRule:"evenodd"})}),eN=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.25 7A2.75 2.75 0 0 1 14 4.25h7a.75.75 0 0 1 0 1.5h-7c-.69 0-1.25.56-1.25 1.25v10A2.75 2.75 0 0 1 10 19.75H3a.75.75 0 0 1 0-1.5h7c.69 0 1.25-.56 1.25-1.25V7Z",clipRule:"evenodd"})}),eq=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3.75a8.25 8.25 0 1 0 0 16.5 8.25 8.25 0 0 0 0-16.5ZM2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Z",clipRule:"evenodd"})}),eU=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("circle",{cx:6,cy:20,r:1,fill:"currentColor"}),(0,s.jsx)("circle",{cx:12,cy:20,r:1,fill:"currentColor"}),(0,s.jsx)("circle",{cx:18,cy:20,r:1,fill:"currentColor"})]}),eW=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.25 7A2.75 2.75 0 0 1 5 4.25h14A2.75 2.75 0 0 1 21.75 7v10A2.75 2.75 0 0 1 19 19.75H5A2.75 2.75 0 0 1 2.25 17V7Zm1.5 2.401V17c0 .69.56 1.25 1.25 1.25h14c.69 0 1.25-.56 1.25-1.25V9.401l-6.725 4.483a2.75 2.75 0 0 1-3.05 0L3.75 9.401ZM20.25 7.6l-7.557 5.037c-.42.28-.966.28-1.386 0L3.75 7.6V7c0-.69.56-1.25 1.25-1.25h14c.69 0 1.25.56 1.25 1.25v.599Z",clipRule:"evenodd"})}),eG=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 3.25A2.75 2.75 0 0 0 2.25 6v12A2.75 2.75 0 0 0 5 20.75h14A2.75 2.75 0 0 0 21.75 18V6A2.75 2.75 0 0 0 19 3.25H5Zm15.25 5V6c0-.69-.56-1.25-1.25-1.25H5c-.69 0-1.25.56-1.25 1.25v2.25h16.5Zm-16.5 1.5h16.5V18c0 .69-.56 1.25-1.25 1.25H5c-.69 0-1.25-.56-1.25-1.25V9.75Zm6.78 3.28a.75.75 0 1 0-1.06-1.06L7.348 14.09a.75.75 0 0 0 0 1.06l2.122 2.122a.75.75 0 1 0 1.06-1.06L8.94 14.62l1.59-1.59Zm2.94-1.06a.75.75 0 0 0 0 1.06l1.59 1.591-1.59 1.591a.75.75 0 0 0 1.06 1.061l2.122-2.121a.75.75 0 0 0 0-1.06L14.53 11.97a.75.75 0 0 0-1.06 0ZM6.5 6.55a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm1.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"})}),eY=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.016-10.995a.75.75 0 0 1 0 1.06L13.07 12.01l1.945 1.945a.75.75 0 1 1-1.061 1.06l-1.945-1.944-1.944 1.945a.75.75 0 1 1-1.06-1.061l1.944-1.945-1.945-1.944a.75.75 0 0 1 1.06-1.06l1.945 1.944 1.945-1.945a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})}),eK=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.47 7.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 1 1-1.06-1.06l2.72-2.72H3a.75.75 0 0 1 0-1.5h16.19l-2.72-2.72a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}),eX=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M18 8.25a3.751 3.751 0 0 0-3.675 3H3a.75.75 0 0 0 0 1.5h11.325A3.751 3.751 0 0 0 21.75 12 3.75 3.75 0 0 0 18 8.25Z"})}),eQ=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M17.47 8.47a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 0 1-1.06 0l-2.78-2.78H3a.75.75 0 0 1 0-1.5h11.69l2.78-2.78Z"})}),eJ=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M17.53 7.47a.75.75 0 0 0-1.28.53v3.25H3a.75.75 0 0 0 0 1.5h13.25V16a.75.75 0 0 0 1.28.53l4-4a.75.75 0 0 0 0-1.06l-4-4Z"})}),e1=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.5 5a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v8.5a.75.75 0 0 1-.75.75H6.547l3.352 3.39a.75.75 0 1 1-1.067 1.054l-4.615-4.667a.75.75 0 0 1 0-1.054l4.615-4.667A.75.75 0 0 1 9.9 9.36L6.547 12.75H18v-7h-3.75A.75.75 0 0 1 13.5 5Z",clipRule:"evenodd"})}),e0=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.5 10.25h11v-1.5h-11v1.5Zm0 5.5h11v-1.5h-11v1.5Z",clipRule:"evenodd"})}),e2=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.806 4.95a1.234 1.234 0 0 0-.873.362L12.36 6.885l5.954 5.956 1.575-1.575a1.234 1.234 0 0 0 0-1.745l-4.21-4.209a1.235 1.235 0 0 0-.873-.362Zm2.448 8.952-5.955-5.956-7.188 7.188a1.235 1.235 0 0 0 0 1.745l1.524 1.524c.231.23.546.36.873.36h5.883l4.863-4.861Zm-2.741 4.862h5.113a.75.75 0 0 1 0 1.5H6.508c-.725 0-1.42-.288-1.933-.8L3.05 17.94a2.734 2.734 0 0 1 0-3.867l9.82-9.821a2.734 2.734 0 0 1 3.87 0l4.208 4.208a2.734 2.734 0 0 1 0 3.867l-6.436 6.437Z",clipRule:"evenodd"})}),e5=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.53 9.53a.75.75 0 0 1-1.06-1.06l5-5a.75.75 0 0 1 1.06 0l5 5a.75.75 0 0 1-1.06 1.06L12 5.06 7.53 9.53Zm0 4.94a.75.75 0 0 0-1.06 1.06l5 5a.75.75 0 0 0 1.06 0l5-5a.75.75 0 1 0-1.06-1.06L12 18.94l-4.47-4.47Z",clipRule:"evenodd"})}),e7=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.53 3.47a.75.75 0 0 1 0 1.06l-4.22 4.22h2.19a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75v-4a.75.75 0 0 1 1.5 0v2.19l4.22-4.22a.75.75 0 0 1 1.06 0ZM5.5 15.25a.75.75 0 0 1 0-1.5h4a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-2.19l-4.22 4.22a.75.75 0 0 1-1.06-1.06l4.22-4.22H5.5Z",clipRule:"evenodd"})}),e3=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M15.25 4a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0V5.81l-4.22 4.22a.75.75 0 1 1-1.06-1.06l4.22-4.22H16a.75.75 0 0 1-.75-.75Zm-5.22 9.97a.75.75 0 0 1 0 1.06l-4.22 4.22H8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75v-4a.75.75 0 0 1 1.5 0v2.19l4.22-4.22a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})}),e4=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.25 5A.75.75 0 0 1 5 4.25h3.5a.75.75 0 0 1 0 1.5H6.81l3.095 3.095a.75.75 0 0 1-1.06 1.06L5.75 6.811V8.5a.75.75 0 0 1-1.5 0V5Zm10.5 0a.75.75 0 0 1 .75-.75H19a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0V6.81l-3.095 3.095a.75.75 0 1 1-1.06-1.06l3.094-3.095H15.5a.75.75 0 0 1-.75-.75Zm-4.845 9.095a.75.75 0 0 1 0 1.06L6.811 18.25H8.5a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75v-3.5a.75.75 0 0 1 1.5 0v1.69l3.095-3.095a.75.75 0 0 1 1.06 0Zm4.19 0a.75.75 0 0 1 1.06 0l3.095 3.094V15.5a.75.75 0 0 1 1.5 0V19a.75.75 0 0 1-.75.75h-3.5a.75.75 0 0 1 0-1.5h1.69l-3.095-3.095a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}),e6=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.624 3.584a.75.75 0 0 1-.208 1.04l-.745.497a8.75 8.75 0 0 1-6.92 12.93v1.199h3.693a.75.75 0 0 1 0 1.5H7.556a.75.75 0 0 1 0-1.5h3.694v-1.198a8.737 8.737 0 0 1-6.088-3.259l-.746.498a.75.75 0 1 1-.832-1.248l1.333-.89a.746.746 0 0 1 .423-.125.75.75 0 0 1 .63.333 7.25 7.25 0 0 0 12.072-8.036.747.747 0 0 1-.125-.428.75.75 0 0 1 .334-.632l1.333-.889a.75.75 0 0 1 1.04.208ZM12 5.639a3.694 3.694 0 1 0 0 7.389 3.694 3.694 0 0 0 0-7.39ZM6.806 9.333a5.194 5.194 0 1 1 10.388 0 5.194 5.194 0 0 1-10.388 0Z",clipRule:"evenodd"})}),e8=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 5.25a.75.75 0 0 0-.75.75v12c0 .414.336.75.75.75h2a.75.75 0 0 0 0-1.5H5.75V6.75H7a.75.75 0 0 0 0-1.5H5Zm14 0a.75.75 0 0 1 .75.75v12a.75.75 0 0 1-.75.75h-2a.75.75 0 0 1 0-1.5h1.25V6.75H17a.75.75 0 0 1 0-1.5h2Z",clipRule:"evenodd"})}),e9=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.47 3.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1-1.06 1.06l-2.72-2.72V16a.75.75 0 0 1-1.5 0V5.81L8.53 8.53a.75.75 0 0 1-1.06-1.06l4-4ZM4 15.25a.75.75 0 0 1 .75.75v1A2.25 2.25 0 0 0 7 19.25h10A2.25 2.25 0 0 0 19.25 17v-1a.75.75 0 0 1 1.5 0v1A3.75 3.75 0 0 1 17 20.75H7A3.75 3.75 0 0 1 3.25 17v-1a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),te=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 2.25A2.75 2.75 0 0 0 5.25 5v3a.75.75 0 0 0 1.5 0V5c0-.69.56-1.25 1.25-1.25h7.522c.386 0 .75.178.987.483l2.478 3.186c.17.22.263.49.263.767V18c0 .69-.56 1.25-1.25 1.25H8c-.69 0-1.25-.56-1.25-1.25v-1.5a.75.75 0 0 0-1.5 0V18A2.75 2.75 0 0 0 8 20.75h10A2.75 2.75 0 0 0 20.75 18V8.186a2.75 2.75 0 0 0-.58-1.688l-2.477-3.186a2.75 2.75 0 0 0-2.171-1.062H8ZM2.769 13.771c0 .381.206.596.569.596.362 0 .57-.215.57-.596v-.97H5.27v.97c0 .381.207.596.57.596.362 0 .57-.215.57-.596v-2.817c0-.382-.208-.596-.57-.596-.363 0-.57.214-.57.596v.942H3.907v-.942c0-.382-.207-.596-.57-.596-.362 0-.568.214-.568.596v2.817Zm5.051 0c0 .381.207.596.57.596.362 0 .569-.215.569-.596v-2.439h.572c.3 0 .502-.163.502-.453 0-.29-.196-.454-.502-.454H7.248c-.306 0-.502.164-.502.454 0 .29.201.454.502.454h.572v2.438Zm3.046.596c-.317 0-.497-.19-.497-.526v-2.737c0-.478.263-.746.738-.746.4 0 .613.158.774.58l.671 1.748h.021l.67-1.748c.16-.422.373-.58.773-.58.475 0 .738.268.738.746v2.737c0 .336-.18.526-.497.526s-.496-.19-.496-.526v-1.786h-.022l-.77 1.942c-.079.196-.202.284-.404.284-.204 0-.335-.091-.41-.284l-.771-1.942h-.022v1.786c0 .336-.18.526-.496.526Zm4.428-.663c0 .381.207.596.57.596h1.64c.306 0 .502-.164.502-.454 0-.29-.201-.454-.502-.454h-1.071v-2.438c0-.382-.207-.596-.57-.596-.362 0-.57.214-.57.596v2.75Z",clipRule:"evenodd"})}),tt=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 2.25A2.75 2.75 0 0 0 5.25 5v3a.75.75 0 0 0 1.5 0V5c0-.69.56-1.25 1.25-1.25h7.522c.386 0 .75.178.987.483l2.478 3.186c.17.22.263.49.263.767V18c0 .69-.56 1.25-1.25 1.25H8c-.69 0-1.25-.56-1.25-1.25v-1.5a.75.75 0 0 0-1.5 0V18A2.75 2.75 0 0 0 8 20.75h10A2.75 2.75 0 0 0 20.75 18V8.186a2.75 2.75 0 0 0-.58-1.688l-2.477-3.186a2.75 2.75 0 0 0-2.171-1.062H8ZM2.769 13.84c0 .337.18.527.496.527.317 0 .497-.19.497-.526v-1.786h.022l.77 1.942c.076.193.207.284.411.284.202 0 .325-.088.403-.284l.77-1.942h.022v1.786c0 .336.18.526.497.526s.497-.19.497-.526v-2.737c0-.478-.263-.746-.738-.746-.4 0-.613.158-.774.58l-.669 1.748h-.021l-.671-1.748c-.162-.422-.374-.58-.774-.58-.475 0-.738.268-.738.746v2.737Zm4.925-.136c0 .381.207.596.57.596H9.35c1.173 0 1.866-.725 1.866-1.966 0-1.24-.69-1.91-1.866-1.91H8.263c-.362 0-.57.216-.57.597v2.683Zm1.496-.309h-.357V11.33h.357c.545 0 .867.352.867 1.004 0 .715-.298 1.061-.867 1.061Z",clipRule:"evenodd"})}),ti=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 2.25A2.75 2.75 0 0 0 5.25 5v3a.75.75 0 0 0 1.5 0V5c0-.69.56-1.25 1.25-1.25h7.522c.386 0 .75.178.987.483l2.478 3.186c.17.22.263.49.263.767V18c0 .69-.56 1.25-1.25 1.25H8c-.69 0-1.25-.56-1.25-1.25v-1.5a.75.75 0 0 0-1.5 0V18A2.75 2.75 0 0 0 8 20.75h10A2.75 2.75 0 0 0 20.75 18V8.186a2.75 2.75 0 0 0-.58-1.688l-2.477-3.186a2.75 2.75 0 0 0-2.171-1.062H8ZM2.793 13.923c0 .416.226.65.621.65.396 0 .621-.234.621-.65v-.577h.604c.987 0 1.658-.6 1.658-1.533 0-.94-.633-1.54-1.573-1.54h-1.31c-.395 0-.621.234-.621.65v3Zm1.59-1.494h-.348v-1.222h.358c.404 0 .65.208.65.61 0 .404-.246.612-.66.612Zm2.353 1.42c0 .417.226.651.621.651h1.187c1.28 0 2.036-.791 2.036-2.145 0-1.353-.753-2.082-2.036-2.082H7.357c-.395 0-.62.234-.62.65v2.927Zm1.632-.336h-.39V11.26h.39c.595 0 .946.384.946 1.095 0 .78-.325 1.158-.946 1.158Zm2.698.41c0 .416.226.65.621.65.396 0 .622-.234.622-.65v-.92h1.113c.316 0 .51-.17.51-.466 0-.296-.2-.466-.51-.466h-1.113v-.808h1.239c.328 0 .548-.179.548-.495 0-.317-.214-.495-.548-.495h-1.86c-.396 0-.622.234-.622.65v3Z",clipRule:"evenodd"})}),ts=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 2.25A2.75 2.75 0 0 0 5.25 5v3a.75.75 0 0 0 1.5 0V5c0-.69.56-1.25 1.25-1.25h7.522c.386 0 .75.178.987.483l2.478 3.186c.17.22.263.49.263.767V18c0 .69-.56 1.25-1.25 1.25H8c-.69 0-1.25-.56-1.25-1.25v-1.5a.75.75 0 0 0-1.5 0V18A2.75 2.75 0 0 0 8 20.75h10A2.75 2.75 0 0 0 20.75 18V8.186a2.75 2.75 0 0 0-.58-1.688l-2.477-3.186a2.75 2.75 0 0 0-2.171-1.062H8ZM2.793 13.923c0 .416.226.65.621.65.396 0 .621-.234.621-.65v-.577h.604c.987 0 1.658-.6 1.658-1.533 0-.94-.633-1.54-1.573-1.54h-1.31c-.395 0-.621.234-.621.65v3Zm1.59-1.494h-.348v-1.222h.358c.404 0 .65.208.65.61 0 .404-.246.612-.66.612Zm2.353 1.529c0 .398.214.615.586.615.37 0 .586-.217.586-.615v-1.685h.024l1.444 1.96c.176.24.343.34.58.34.37 0 .571-.202.571-.574v-3.184c0-.399-.213-.616-.586-.616-.369 0-.586.217-.586.616v1.649h-.023l-1.433-1.925c-.178-.237-.351-.34-.577-.34-.38 0-.586.2-.586.574v3.185Zm4.275-1.576c0 1.403.794 2.191 2.136 2.191 1.26 0 1.957-.773 1.957-1.778 0-.416-.226-.65-.622-.65h-.817c-.281 0-.46.146-.46.413 0 .266.182.413.46.413h.243l-.006.058c-.035.34-.322.566-.726.566-.545 0-.9-.46-.9-1.23 0-.754.31-1.187.838-1.187.3 0 .501.111.7.378a.68.68 0 0 0 .58.296c.317 0 .534-.214.534-.525a.646.646 0 0 0-.085-.32c-.25-.444-.888-.808-1.735-.808-1.303 0-2.097.797-2.097 2.183Z",clipRule:"evenodd"})}),to=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 2.25A2.75 2.75 0 0 0 5.25 5v3a.75.75 0 0 0 1.5 0V5c0-.69.56-1.25 1.25-1.25h7.522c.386 0 .75.178.987.483l2.478 3.186c.17.22.263.49.263.767V18c0 .69-.56 1.25-1.25 1.25H8c-.69 0-1.25-.56-1.25-1.25v-1.5a.75.75 0 0 0-1.5 0V18A2.75 2.75 0 0 0 8 20.75h10A2.75 2.75 0 0 0 20.75 18V8.186a2.75 2.75 0 0 0-.58-1.688l-2.477-3.186a2.75 2.75 0 0 0-2.171-1.062H8ZM2.787 13.674c.167.379.672.693 1.545.693 1.068 0 1.691-.507 1.691-1.305 0-.628-.392-.97-1.224-1.12l-.39-.07c-.386-.07-.553-.153-.553-.327 0-.175.161-.315.478-.315.245 0 .425.073.55.266.138.207.29.29.532.29.285-.002.473-.177.473-.435a.594.594 0 0 0-.048-.239c-.202-.483-.752-.754-1.52-.754-.921 0-1.593.491-1.593 1.27 0 .601.422.99 1.193 1.128l.39.07c.434.077.585.155.585.338 0 .19-.21.33-.551.33-.255 0-.48-.078-.615-.268-.153-.215-.298-.282-.513-.282-.282 0-.489.188-.489.462 0 .088.02.18.06.268Zm4.354-.024c.177.497.467.717.948.717.478 0 .773-.223.948-.717l.867-2.455a.864.864 0 0 0 .051-.3c0-.32-.236-.537-.588-.537-.309 0-.486.14-.572.448l-.663 2.414H8.11l-.671-2.398c-.089-.32-.274-.464-.596-.464-.363 0-.61.228-.61.558 0 .118.019.226.05.32l.858 2.414Zm3.015-1.292c0 1.287.728 2.01 1.958 2.01 1.155 0 1.794-.71 1.794-1.631 0-.381-.207-.596-.57-.596h-.748c-.258 0-.422.134-.422.379 0 .244.167.378.422.378h.223l-.006.054c-.032.311-.295.518-.666.518-.5 0-.824-.421-.824-1.128 0-.69.284-1.087.768-1.087.274 0 .459.102.642.346.14.185.308.271.531.271.29 0 .49-.196.49-.48a.592.592 0 0 0-.079-.293c-.228-.408-.814-.741-1.59-.741-1.195 0-1.923.73-1.923 2Z",clipRule:"evenodd"})}),tr=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.362 3.22c.57-1.51 2.707-1.51 3.276 0l1.56 4.144a.25.25 0 0 0 .223.162l4.423.203c1.613.075 2.273 2.107 1.012 3.115l-3.459 2.765a.25.25 0 0 0-.085.262l1.173 4.27c.428 1.556-1.3 2.812-2.65 1.924l-3.698-2.435a.25.25 0 0 0-.274 0l-3.699 2.435c-1.348.888-3.077-.368-2.65-1.925l1.174-4.27a.25.25 0 0 0-.085-.26l-3.459-2.766c-1.261-1.008-.6-3.04 1.012-3.115l4.423-.203a.25.25 0 0 0 .223-.162l1.56-4.144Zm1.872.529a.25.25 0 0 0-.468 0l-1.56 4.144a1.75 1.75 0 0 1-1.558 1.131l-4.423.204a.25.25 0 0 0-.144.445l3.458 2.764a1.75 1.75 0 0 1 .595 1.831l-1.173 4.27a.25.25 0 0 0 .378.275l3.699-2.435a1.75 1.75 0 0 1 1.924 0l3.698 2.435a.25.25 0 0 0 .379-.275l-1.173-4.27a1.75 1.75 0 0 1 .595-1.83l3.458-2.765a.25.25 0 0 0-.144-.445l-4.423-.204a1.75 1.75 0 0 1-1.558-1.131l-1.56-4.144Z",clipRule:"evenodd"})}),ta=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.638 3.22c-.57-1.51-2.707-1.51-3.276 0l-1.56 4.144a.25.25 0 0 1-.223.162l-4.423.203c-1.613.075-2.273 2.107-1.012 3.115l3.459 2.765a.25.25 0 0 1 .085.262l-1.173 4.27c-.428 1.556 1.3 2.812 2.65 1.924l3.698-2.435a.25.25 0 0 1 .274 0l3.699 2.435c1.348.888 3.077-.368 2.65-1.925l-1.174-4.27a.25.25 0 0 1 .085-.26l3.459-2.766c1.261-1.008.6-3.04-1.012-3.115l-4.423-.203a.25.25 0 0 1-.223-.162l-1.56-4.144Z",clipRule:"evenodd"})}),tn=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",d:"M8.418 22.503a3.418 3.418 0 0 0 3.418-3.417v-3.417H8.418a3.418 3.418 0 0 0 0 6.834Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M5.001 12.251a3.418 3.418 0 0 1 3.417-3.417h3.418v6.835H8.418a3.418 3.418 0 0 1-3.417-3.418Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M5.001 5.417A3.418 3.418 0 0 1 8.42 2h3.417v6.834H8.419A3.418 3.418 0 0 1 5 5.417Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M11.836 2h3.417a3.418 3.418 0 0 1 0 6.834h-3.417V2Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M18.67 12.251a3.418 3.418 0 0 1-6.834 0 3.418 3.418 0 0 1 6.834 0Z"})]}),tl=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.17 2.25H13a.75.75 0 0 1 .53.22l6 6c.141.14.22.331.22.53v8.83c0 .535 0 .98-.03 1.345-.03.38-.098.736-.27 1.073a2.751 2.751 0 0 1-1.201 1.202c-.338.172-.694.24-1.074.27-.365.03-.81.03-1.345.03H8.17c-.535 0-.98 0-1.345-.03-.38-.03-.736-.098-1.073-.27A2.75 2.75 0 0 1 4.55 20.25c-.172-.338-.24-.694-.27-1.074-.03-.365-.03-.81-.03-1.345V6.17c0-.535 0-.98.03-1.345.03-.38.098-.736.27-1.073A2.75 2.75 0 0 1 5.752 2.55c.337-.172.693-.24 1.073-.27.365-.03.81-.03 1.345-.03ZM6.947 3.775c-.287.023-.424.065-.514.111a1.25 1.25 0 0 0-.547.547c-.046.09-.088.227-.111.514-.024.296-.025.68-.025 1.253v11.6c0 .572 0 .957.025 1.252.023.288.065.425.111.515.12.236.311.427.547.547.09.046.227.088.514.111.296.024.68.025 1.253.025h7.6c.572 0 .957 0 1.252-.025.288-.023.425-.065.515-.111a1.25 1.25 0 0 0 .547-.547c.046-.09.088-.227.111-.515.024-.295.025-.68.025-1.252V9.75H14A1.75 1.75 0 0 1 12.25 8V3.75H8.2c-.572 0-.957 0-1.253.025ZM13.75 4.81l3.44 3.439H14a.25.25 0 0 1-.25-.25V4.81Z",clipRule:"evenodd"})}),tc=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.75 12a8.25 8.25 0 1 1 16.5 0 8.25 8.25 0 0 1-16.5 0ZM12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-4 6.5a.75.75 0 0 0 0 1.5h8a.75.75 0 0 0 0-1.5H8Zm.25 3.75a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM11 14.75a.75.75 0 0 0 0 1.5h2a.75.75 0 0 0 0-1.5h-2Z",clipRule:"evenodd"})}),td=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.75 11.526a7.776 7.776 0 0 1 15.553 0 .75.75 0 0 0 1.5 0c0-.348-.02-.691-.057-1.03-.513-4.638-4.444-8.246-9.22-8.246a9.276 9.276 0 0 0-9.276 9.276c0 4.776 3.608 8.707 8.246 9.22.339.038.682.057 1.03.057a.75.75 0 0 0 0-1.5 7.778 7.778 0 0 1-7.776-7.776Zm3.987-3.118a.75.75 0 1 0 0 1.5h6.847a.75.75 0 0 0 0-1.5H7.737ZM7.934 12a.75.75 0 0 1 .75-.75H13.5a.75.75 0 0 1 0 1.5H8.684a.75.75 0 0 1-.75-.75Zm2.645 2.092a.75.75 0 1 0 0 1.5h.826a.75.75 0 0 0 0-1.5h-.826ZM15.85 17.5a.65.65 0 0 1 .65-.65h1.979a.65.65 0 1 1 0 1.3H16.5a.65.65 0 0 1-.65-.65Zm-1.7 0a3.35 3.35 0 1 1 6.7 0 3.35 3.35 0 0 1-6.7 0Zm3.35-4.65a4.65 4.65 0 1 0 0 9.3 4.65 4.65 0 0 0 0-9.3Z",clipRule:"evenodd"})}),th=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.575 2.018a.75.75 0 0 0-1.15.964l15.5 18.5a.75.75 0 0 0 1.15-.964l-15.5-18.5ZM21.75 12a9.705 9.705 0 0 1-1.634 5.404L19.11 16.19a8.25 8.25 0 0 0-9.91-11.951L8.189 3.023A9.719 9.719 0 0 1 12 2.25c5.385 0 9.75 4.365 9.75 9.75Zm-8.1 3.873-.931-1.123H11a.75.75 0 0 0 0 1.5h2a.75.75 0 0 0 .65-.377ZM9 13.25h2.475l-1.244-1.5H9a.75.75 0 0 0 0 1.5Zm7-3h-1.816l-1.244-1.5H16a.75.75 0 0 1 0 1.5Zm-7.013 0L7.772 8.785A.75.75 0 0 0 8 10.25h.987ZM3.75 12c0-2.12.8-4.054 2.115-5.515l-.967-1.166A9.716 9.716 0 0 0 2.25 12c0 5.385 4.365 9.75 9.75 9.75a9.705 9.705 0 0 0 5.252-1.534l-.966-1.165A8.25 8.25 0 0 1 3.75 12Z",clipRule:"evenodd"})}),tu=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18ZM8 8.75a.75.75 0 0 0 0 1.5h8a.75.75 0 0 0 0-1.5H8Zm1 3a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5H9Zm1.25 3.75a.75.75 0 0 1 .75-.75h2a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),tp=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"m5.208 11.106.694-.617a.75.75 0 0 1 .996 1.122l-1.96 1.74a.75.75 0 0 1-1.012-.014L2.08 11.596a.75.75 0 1 1 1.03-1.091l.592.558a8.351 8.351 0 0 1 14.203-4.967.75.75 0 1 1-1.06 1.06 6.851 6.851 0 0 0-11.636 3.95Zm14.397-.525a.75.75 0 0 1 .531.257l1.826 2.094a.75.75 0 0 1-1.13.986l-.576-.66A8.352 8.352 0 0 1 5.97 17.776a.75.75 0 0 1 1.083-1.038 6.852 6.852 0 0 0 11.702-3.593l-.863.823a.75.75 0 0 1-1.035-1.086l2.196-2.094a.75.75 0 0 1 .552-.207Z",clipRule:"evenodd"})}),tf=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 5.25c-.69 0-1.25.56-1.25 1.25V17c0 .69.56 1.25 1.25 1.25h14c.69 0 1.25-.56 1.25-1.25V8.5c0-.69-.56-1.25-1.25-1.25h-6.5a.75.75 0 0 1-.53-.22l-1.415-1.414a1.25 1.25 0 0 0-.883-.366H5ZM2.25 6.5A2.75 2.75 0 0 1 5 3.75h4.672c.729 0 1.428.29 1.944.805l1.195 1.195H19a2.75 2.75 0 0 1 2.75 2.75V17A2.75 2.75 0 0 1 19 19.75H5A2.75 2.75 0 0 1 2.25 17V6.5Z",clipRule:"evenodd"})}),tg=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M1 18.161c0 .468.387.804.916.804.457 0 .722-.214.895-.702l1.292-3.642h5.809l1.302 3.642c.173.488.437.702.895.702.53 0 .916-.336.916-.804 0-.132-.03-.285-.112-.509L8.183 4.875c-.225-.6-.59-.875-1.15-.875-.6 0-.977.285-1.2.885L1.111 17.652c-.081.224-.112.377-.112.509Zm8.393-5.097H4.632l2.35-6.694h.06l2.35 6.694Zm4.26 2.767c0 1.903 1.414 3.174 3.52 3.174 1.425 0 2.778-.793 3.408-2.004h.04v1.11c0 .528.347.894.845.894.489 0 .834-.366.834-.895v-6.602c0-2.106-1.566-3.449-4.048-3.449-1.72 0-3.266.763-3.866 1.923a1.531 1.531 0 0 0-.214.732c0 .478.326.794.784.794.335 0 .57-.132.732-.427.59-1.048 1.373-1.465 2.523-1.465 1.465 0 2.32.773 2.32 2.065v.885l-3.042.173c-2.442.142-3.836 1.281-3.836 3.092Zm6.877-1.027c0 1.526-1.292 2.696-2.96 2.696-1.272 0-2.116-.662-2.116-1.669 0-.997.814-1.627 2.238-1.719l2.838-.173v.865Z",clipRule:"evenodd"})}),tm=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 20.75a.75.75 0 0 1-.75-.75v-2.25H4a.75.75 0 0 1 0-1.5h2.25v-8.5H4a.75.75 0 0 1 0-1.5h2.25V4a.75.75 0 0 1 1.5 0v2.25h8.5V4a.75.75 0 0 1 1.5 0v2.25H20a.75.75 0 0 1 0 1.5h-2.25v8.5H20a.75.75 0 0 1 0 1.5h-2.25V20a.75.75 0 0 1-1.5 0v-2.25h-8.5V20a.75.75 0 0 1-.75.75Zm9.25-4.5v-8.5h-8.5v8.5h8.5Z",clipRule:"evenodd"})}),tv=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2C6.475 2 2 6.588 2 12.253c0 4.537 2.862 8.369 6.838 9.727.5.09.687-.218.687-.487 0-.243-.013-1.05-.013-1.91C7 20.059 6.35 18.957 6.15 18.38c-.113-.295-.6-1.205-1.025-1.448-.35-.192-.85-.667-.013-.68.788-.012 1.35.744 1.538 1.051.9 1.551 2.338 1.116 2.912.846.088-.666.35-1.115.638-1.371-2.225-.256-4.55-1.14-4.55-5.062 0-1.115.387-2.038 1.025-2.756-.1-.256-.45-1.307.1-2.717 0 0 .837-.269 2.75 1.051.8-.23 1.65-.346 2.5-.346.85 0 1.7.115 2.5.346 1.912-1.333 2.75-1.05 2.75-1.05.55 1.409.2 2.46.1 2.716.637.718 1.025 1.628 1.025 2.756 0 3.934-2.337 4.806-4.562 5.062.362.32.675.936.675 1.897 0 1.371-.013 2.473-.013 2.82 0 .268.188.589.688.486a10.04 10.04 0 0 0 4.932-3.74A10.447 10.447 0 0 0 22 12.253C22 6.588 17.525 2 12 2Z",clipRule:"evenodd"})}),ty=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",d:"m11.856 20.423 3.367-10.363H8.488l3.368 10.363Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M11.856 20.423 8.488 10.06H3.77l8.087 10.363Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"m3.77 10.06-1.024 3.149a.697.697 0 0 0 .253.78l8.857 6.434L3.769 10.06Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M3.77 10.06h4.718L6.46 3.818a.349.349 0 0 0-.663 0L3.77 10.06Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"m11.856 20.423 3.367-10.363h4.72l-8.087 10.363Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"m19.942 10.06 1.024 3.149a.697.697 0 0 1-.253.78l-8.857 6.434 8.086-10.363Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M19.943 10.06h-4.72l2.028-6.242a.349.349 0 0 1 .663 0l2.029 6.242Z"})]}),tb=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.473 3.104c.24-.527.768-.854 1.337-.854 1.584 0 2.9 1.257 2.9 2.846V8.1c0 .038.036.1.121.1h3.054c2.04 0 3.644 1.783 3.325 3.805l-.939 5.95c-.256 1.622-1.68 2.795-3.325 2.795H5.243c-1.359 0-2.493-1.08-2.493-2.45v-5.95c0-1.37 1.134-2.45 2.493-2.45h2.049c.058 0 .099-.033.114-.066l3.067-6.73ZM8.608 19.25h8.338c.935 0 1.707-.663 1.843-1.53l.94-5.95c.168-1.067-.68-2.07-1.844-2.07H14.83c-.878 0-1.621-.699-1.621-1.6V5.096c0-.72-.6-1.337-1.383-1.346l-3.056 6.706c-.046.1-.1.193-.163.279v8.515Zm-1.5-7.85v7.85H5.243c-.566 0-.993-.443-.993-.95v-5.95c0-.507.427-.95.993-.95h1.865Z",clipRule:"evenodd"})}),tw=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M21.56 10.05H12v3.9h5.51A5.848 5.848 0 0 1 6.15 12 5.85 5.85 0 0 1 12 6.15c1.491 0 2.848.563 3.881 1.482l2.758-2.758A9.705 9.705 0 0 0 12 2.25c-5.384 0-9.75 4.366-9.75 9.75s4.366 9.75 9.75 9.75 9.75-4.366 9.75-9.75c0-.654-.067-1.332-.19-1.95Z"})}),tx=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",d:"M21.56 10.05H12v3.9h5.51A5.848 5.848 0 0 1 6.15 12 5.85 5.85 0 0 1 12 6.15c1.491 0 2.848.563 3.881 1.482l2.758-2.758A9.705 9.705 0 0 0 12 2.25c-5.384 0-9.75 4.366-9.75 9.75s4.366 9.75 9.75 9.75 9.75-4.366 9.75-9.75c0-.654-.067-1.332-.19-1.95Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"m3.374 7.462 3.203 2.35A5.848 5.848 0 0 1 12 6.15c1.491 0 2.848.563 3.881 1.482l2.758-2.758A9.705 9.705 0 0 0 12 2.25a9.745 9.745 0 0 0-8.626 5.212Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M12 21.75a9.705 9.705 0 0 0 6.537-2.531l-3.018-2.554A5.807 5.807 0 0 1 12 17.85a5.847 5.847 0 0 1-5.5-3.874l-3.18 2.45C4.934 19.584 8.21 21.75 12 21.75Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M21.56 10.05H12v3.9h5.51a5.87 5.87 0 0 1-1.992 2.716h.001l3.018 2.553c-.213.194 3.213-2.344 3.213-7.219 0-.654-.067-1.332-.19-1.95Z"})]}),t_=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",d:"m10 15 5-3-5-3v6Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M9.084 17.075c.54.7 1.03 1.438 1.469 2.207.374.724.53 1.215.804 2.087.168.482.32.626.646.626.355 0 .516-.245.64-.623.26-.824.462-1.452.782-2.046.629-1.147 1.41-2.166 2.177-3.145.208-.278 1.55-1.892 2.155-3.167 0 0 .743-1.4.743-3.354 0-1.828-.733-3.096-.733-3.096l-2.11.576-1.28 3.44-.318.474-.063.086-.084.108-.148.171-.212.216-1.14.948-2.853 1.679-.475 2.813Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M6.14 12.78c.697 1.62 2.04 3.045 2.948 4.296l4.824-5.826s-.68.906-1.913.906c-1.373 0-2.482-1.118-2.482-2.528 0-.966.57-1.63.57-1.63l-3.275.894-.671 3.887Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M13.966 3.3a6.491 6.491 0 0 1 3.803 3.262l-3.856 4.684s.57-.676.57-1.636c0-1.443-1.19-2.52-2.478-2.52-1.217 0-1.916.904-1.916.904v-2.95L13.966 3.3Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M7.024 5.37C7.981 4.201 9.665 3 11.987 3c1.126 0 1.975.301 1.975.301l-3.877 4.696H7.34l-.315-2.628Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M6.14 12.78S5.5 11.5 5.5 9.647c0-1.75.668-3.28 1.524-4.279l3.063 2.628L6.14 12.78Z"})]}),tC=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.5 5.5a1 1 0 0 1 1-1H7a1 1 0 0 1 1 1V7a1 1 0 0 1-1 1H5.5a1 1 0 0 1-1-1V5.5Zm0 12a1 1 0 0 1 1-1H7a1 1 0 0 1 1 1V19a1 1 0 0 1-1 1H5.5a1 1 0 0 1-1-1v-1.5Zm6 0a1 1 0 0 1 1-1H13a1 1 0 0 1 1 1V19a1 1 0 0 1-1 1h-1.5a1 1 0 0 1-1-1v-1.5Zm7-1a1 1 0 0 0-1 1V19a1 1 0 0 0 1 1H19a1 1 0 0 0 1-1v-1.5a1 1 0 0 0-1-1h-1.5Zm-6-12a1 1 0 0 0-1 1V7a1 1 0 0 0 1 1H13a1 1 0 0 0 1-1V5.5a1 1 0 0 0-1-1h-1.5Zm5 1a1 1 0 0 1 1-1H19a1 1 0 0 1 1 1V7a1 1 0 0 1-1 1h-1.5a1 1 0 0 1-1-1V5.5Zm-11 5a1 1 0 0 0-1 1V13a1 1 0 0 0 1 1H7a1 1 0 0 0 1-1v-1.5a1 1 0 0 0-1-1H5.5Zm5 1a1 1 0 0 1 1-1H13a1 1 0 0 1 1 1V13a1 1 0 0 1-1 1h-1.5a1 1 0 0 1-1-1v-1.5Zm7-1a1 1 0 0 0-1 1V13a1 1 0 0 0 1 1H19a1 1 0 0 0 1-1v-1.5a1 1 0 0 0-1-1h-1.5Z",clipRule:"evenodd"})}),tk=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",d:"M5.778 4.75c-.564 0-1.028.464-1.028 1.028v1.778a.75.75 0 0 1-1.5 0V5.778A2.533 2.533 0 0 1 5.778 3.25h1.778a.75.75 0 0 1 0 1.5H5.778ZM15.694 4a.75.75 0 0 1 .75-.75h1.778a2.533 2.533 0 0 1 2.528 2.528v1.778a.75.75 0 0 1-1.5 0V5.778c0-.564-.464-1.028-1.028-1.028h-1.778a.75.75 0 0 1-.75-.75ZM4 15.694a.75.75 0 0 1 .75.75v1.778c0 .564.464 1.028 1.028 1.028h1.778a.75.75 0 0 1 0 1.5H5.778a2.533 2.533 0 0 1-2.528-2.528v-1.778a.75.75 0 0 1 .75-.75ZM20 15.694a.75.75 0 0 1 .75.75v1.778a2.533 2.533 0 0 1-2.528 2.528h-1.778a.75.75 0 0 1 0-1.5h1.778c.564 0 1.028-.464 1.028-1.028v-1.778a.75.75 0 0 1 .75-.75Z"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.75 11.25V8.8c0-.904-.77-1.55-1.607-1.55H8.857c-.838 0-1.607.646-1.607 1.55v2.4c0 .904.77 1.55 1.607 1.55h.394l-.001.05v2.4c0 .904.77 1.55 1.607 1.55h4.286c.838 0 1.607-.646 1.607-1.55v-2.4c0-.904-.77-1.55-1.607-1.55h-.394Zm-6-2.45V11.202c.001.002.005.008.013.015a.138.138 0 0 0 .094.033h4.286a.137.137 0 0 0 .094-.033.05.05 0 0 0 .012-.015l.001-.002V8.798a.051.051 0 0 0-.013-.015.137.137 0 0 0-.094-.033H8.857a.137.137 0 0 0-.094.033.053.053 0 0 0-.013.015V8.8Zm2.107 3.95a.137.137 0 0 0-.094.033.05.05 0 0 0-.012.015l-.001.002V15.202a.05.05 0 0 0 .013.015.137.137 0 0 0 .094.033h4.286a.137.137 0 0 0 .094-.033.05.05 0 0 0 .012-.015l.001-.002V12.798a.05.05 0 0 0-.013-.015.137.137 0 0 0-.094-.033h-4.286Z",clipRule:"evenodd"})]}),tS=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M3.99 3.116 1.33 5.302 0 3.725 4.2.342h2.07v13.454H3.99V3.116ZM481.948 13.796l3.458-4.998-.019-.019a2.45 2.45 0 0 1-.703.19 5.26 5.26 0 0 1-.741.057 4.321 4.321 0 0 1-1.672-.323 4.6 4.6 0 0 1-1.368-.912 4.434 4.434 0 0 1-.931-1.368 4.503 4.503 0 0 1-.324-1.71 4.8 4.8 0 0 1 .381-1.939 4.425 4.425 0 0 1 1.026-1.482 4.44 4.44 0 0 1 1.558-.95A5.473 5.473 0 0 1 484.551 0c.697 0 1.343.12 1.938.361a4.66 4.66 0 0 1 1.578.97c.443.417.785.911 1.026 1.481.253.558.38 1.16.38 1.806 0 .38-.032.74-.095 1.083-.064.33-.159.652-.285.969-.114.304-.26.614-.437.931-.165.317-.355.646-.57.988l-3.364 5.207h-2.774Zm5.207-9.235c0-.355-.064-.69-.191-1.008a2.368 2.368 0 0 0-.513-.836c-.228-.253-.5-.45-.817-.589a2.424 2.424 0 0 0-1.064-.228c-.773 0-1.4.254-1.881.76-.469.494-.703 1.14-.703 1.939 0 .38.057.734.171 1.064.126.316.304.589.532.817.228.228.494.412.798.551.317.127.665.19 1.045.19.38 0 .729-.063 1.045-.19.33-.127.608-.304.836-.532a2.41 2.41 0 0 0 .551-.855c.127-.33.191-.69.191-1.083ZM1134.16 11.706l5.18-5.093c.42-.405.75-.81.99-1.216.26-.418.38-.893.38-1.425 0-.634-.21-1.134-.62-1.502-.41-.38-.92-.57-1.52-.57-.65 0-1.17.222-1.56.665-.4.431-.64.976-.72 1.635l-2.23-.342c.07-.558.22-1.071.48-1.54.25-.468.57-.874.97-1.216.39-.342.84-.608 1.36-.798A4.856 4.856 0 0 1 1138.6 0c.59 0 1.14.082 1.68.247.54.165 1.02.418 1.44.76.42.33.75.741.99 1.235.25.482.38 1.045.38 1.692 0 .43-.06.836-.17 1.216-.12.367-.28.715-.48 1.045-.19.33-.42.646-.68.95-.26.291-.53.576-.84.855l-3.87 3.706h6.06v2.09h-8.95v-2.09ZM1154.99 7.069c0 1.09-.11 2.071-.32 2.945-.21.875-.51 1.616-.91 2.224-.4.608-.89 1.077-1.49 1.406-.58.33-1.25.494-2.01.494-.76 0-1.44-.165-2.03-.494-.6-.33-1.1-.798-1.51-1.406-.4-.608-.71-1.35-.93-2.224-.2-.874-.3-1.856-.3-2.945 0-1.09.1-2.071.3-2.945.22-.875.53-1.616.93-2.224.41-.608.91-1.077 1.51-1.406.59-.33 1.27-.494 2.03-.494.76 0 1.43.165 2.01.494.6.33 1.09.798 1.49 1.406.4.608.7 1.35.91 2.224.21.874.32 1.855.32 2.945Zm-2.34 0c0-.469-.03-1-.09-1.596a7.645 7.645 0 0 0-.34-1.691c-.17-.533-.41-.976-.73-1.33-.31-.368-.72-.552-1.23-.552-.52 0-.94.184-1.26.551-.31.355-.56.798-.74 1.33a8.993 8.993 0 0 0-.34 1.692c-.06.595-.09 1.127-.09 1.596 0 .469.03 1 .09 1.596.06.596.18 1.153.34 1.672.18.52.43.963.74 1.33.32.355.74.533 1.26.533.51 0 .92-.178 1.23-.532.32-.368.56-.811.73-1.33.17-.52.29-1.077.34-1.673.06-.595.09-1.127.09-1.596ZM248.318 2.394h-5.491l-.133 2.908c.215-.064.468-.108.76-.133a9.93 9.93 0 0 1 .817-.038c.659 0 1.267.095 1.824.285.57.19 1.064.469 1.482.836.418.355.741.798.969 1.33.241.52.361 1.121.361 1.805 0 .748-.133 1.42-.399 2.015a4.292 4.292 0 0 1-1.045 1.482 4.6 4.6 0 0 1-1.558.931 5.544 5.544 0 0 1-1.9.323c-1.128 0-2.078-.26-2.851-.78-.772-.531-1.336-1.253-1.691-2.165l2.071-.76c.19.532.507.962.951 1.292.443.316.969.475 1.577.475.342 0 .665-.057.969-.171a2.35 2.35 0 0 0 .798-.494c.228-.216.405-.482.532-.799.139-.329.209-.696.209-1.102 0-.519-.089-.95-.266-1.292a2.217 2.217 0 0 0-.703-.817 2.331 2.331 0 0 0-.95-.437 4.452 4.452 0 0 0-1.083-.133 6.326 6.326 0 0 0-1.654.228c-.266.063-.532.14-.798.228a5.914 5.914 0 0 0-.684.285l.228-7.354h7.658v2.052ZM718.089 3.116l-2.66 2.186-1.33-1.577 4.199-3.383h2.072v13.454h-2.281V3.116ZM728.415 5.872h.608c.342 0 .677-.026 1.007-.076.342-.064.652-.171.931-.323s.5-.355.665-.608c.177-.266.266-.608.266-1.026 0-.305-.057-.577-.171-.818a1.72 1.72 0 0 0-.475-.608 1.993 1.993 0 0 0-.684-.38 2.403 2.403 0 0 0-.798-.133c-.558 0-1.02.159-1.387.475-.368.317-.621.735-.761 1.255l-2.147-.552c.114-.456.304-.867.57-1.235.279-.38.608-.703.988-.969.393-.279.83-.494 1.312-.646a5.016 5.016 0 0 1 1.52-.228c.583 0 1.134.082 1.653.247a3.88 3.88 0 0 1 1.387.703c.406.304.722.684.95 1.14.228.456.342.988.342 1.597a3.07 3.07 0 0 1-.665 1.938c-.43.557-1.013.925-1.748 1.102v.038c.823.165 1.489.538 1.995 1.121.52.57.779 1.273.779 2.11 0 .696-.139 1.304-.418 1.824-.266.519-.627.95-1.083 1.292a4.537 4.537 0 0 1-1.501.76 5.543 5.543 0 0 1-1.691.266c-.57 0-1.109-.063-1.615-.19a4.864 4.864 0 0 1-1.407-.551 4.354 4.354 0 0 1-1.121-.988 4.56 4.56 0 0 1-.741-1.445l2.128-.665c.165.533.469.982.913 1.35.456.367 1.045.55 1.767.55.291 0 .582-.037.874-.113.304-.089.57-.222.798-.4.241-.177.431-.405.57-.684.152-.278.228-.62.228-1.026 0-.43-.108-.791-.323-1.083a2.075 2.075 0 0 0-.779-.703 3.537 3.537 0 0 0-1.064-.38 5.62 5.62 0 0 0-1.102-.114h-.57V5.872ZM1374.19 11.706l5.19-5.093c.42-.405.75-.81.99-1.216.25-.418.38-.893.38-1.425 0-.634-.21-1.134-.63-1.502-.41-.38-.91-.57-1.52-.57-.65 0-1.17.222-1.56.665-.39.431-.63.976-.72 1.635l-2.22-.342c.06-.558.22-1.071.47-1.54.25-.468.58-.874.97-1.216.39-.342.85-.608 1.37-.798a4.817 4.817 0 0 1 1.73-.304c.58 0 1.14.082 1.67.247.54.165 1.03.418 1.44.76.42.33.75.741.99 1.235.25.482.38 1.045.38 1.692 0 .43-.06.836-.17 1.216a4.5 4.5 0 0 1-.47 1.045c-.19.33-.42.646-.69.95-.25.291-.53.576-.83.855l-3.88 3.706h6.06v2.09h-8.95v-2.09ZM1391.09 11.002h-6.21V8.989l5.72-8.646h2.73v8.703h1.88v1.957h-1.88v2.794h-2.24v-2.793Zm0-7.98h-.04l-3.82 6.023h3.86V3.021ZM1434.2 11.706l5.19-5.093c.41-.405.74-.81.98-1.216.26-.418.38-.893.38-1.425 0-.634-.2-1.134-.62-1.502-.41-.38-.91-.57-1.52-.57-.65 0-1.17.222-1.56.665-.39.431-.63.976-.72 1.635l-2.23-.342c.07-.558.23-1.071.48-1.54.25-.468.58-.874.97-1.216.39-.342.85-.608 1.37-.798.53-.203 1.1-.304 1.73-.304.58 0 1.14.082 1.67.247.54.165 1.02.418 1.44.76.42.33.75.741.99 1.235.25.482.38 1.045.38 1.692 0 .43-.06.836-.17 1.216-.12.367-.27.715-.48 1.045-.19.33-.41.646-.68.95-.25.291-.53.576-.84.855l-3.87 3.706h6.06v2.09h-8.95v-2.09ZM1454.08 2.394h-5.49l-.13 2.908c.21-.064.47-.108.76-.133.3-.026.57-.038.81-.038.66 0 1.27.095 1.83.285.57.19 1.06.468 1.48.836.42.355.74.798.97 1.33.24.52.36 1.121.36 1.805 0 .748-.13 1.42-.4 2.015-.25.582-.6 1.076-1.04 1.482-.45.405-.97.716-1.56.93-.6.216-1.23.324-1.9.324-1.13 0-2.08-.26-2.85-.78a4.56 4.56 0 0 1-1.69-2.165l2.07-.76c.19.531.5.962.95 1.292.44.316.97.475 1.58.475.34 0 .66-.057.96-.171.31-.114.57-.279.8-.494.23-.216.41-.482.53-.799.14-.329.21-.696.21-1.102 0-.52-.08-.95-.26-1.292a2.18 2.18 0 0 0-.71-.817 2.25 2.25 0 0 0-.95-.437 4.38 4.38 0 0 0-1.08-.133c-.25 0-.52.019-.82.057-.27.038-.55.095-.83.171-.27.063-.53.14-.8.228-.25.089-.48.184-.68.285l.22-7.354h7.66v2.052ZM1494.21 11.706l5.18-5.093c.42-.405.75-.81.99-1.216.26-.418.38-.893.38-1.425 0-.634-.21-1.134-.62-1.502-.41-.38-.92-.57-1.52-.57-.65 0-1.17.222-1.56.665-.4.431-.64.976-.72 1.635l-2.23-.342c.07-.558.22-1.071.48-1.54.25-.468.57-.874.97-1.216.39-.342.84-.608 1.36-.798a4.856 4.856 0 0 1 1.73-.304c.59 0 1.14.082 1.68.247.54.165 1.02.418 1.44.76.42.33.75.741.99 1.235.25.482.38 1.045.38 1.692 0 .43-.06.836-.17 1.216-.12.367-.28.715-.48 1.045-.19.33-.42.646-.68.95-.26.291-.53.576-.84.855l-3.87 3.706h6.06v2.09h-8.95v-2.09ZM1512.87.342l-3.44 4.979.02.019c.18-.076.4-.133.67-.171.28-.038.53-.057.76-.057.59 0 1.15.114 1.67.342.52.215.98.52 1.37.912.39.38.7.836.91 1.368.23.52.34 1.083.34 1.691 0 .71-.12 1.356-.38 1.939-.25.582-.6 1.083-1.04 1.5-.43.406-.95.716-1.56.932a5.36 5.36 0 0 1-1.92.342 5.46 5.46 0 0 1-1.96-.342c-.59-.24-1.11-.57-1.55-.988-.45-.418-.8-.906-1.05-1.463a4.653 4.653 0 0 1-.36-1.825c0-.38.03-.734.09-1.064.07-.342.16-.665.27-.969.13-.317.27-.633.44-.95.17-.317.37-.646.59-.988l3.36-5.207h2.77Zm-5.2 9.235c0 .355.05.69.17 1.008.13.316.3.595.53.836.23.24.5.43.82.57.31.139.67.209 1.06.209.77 0 1.4-.241 1.86-.722.49-.495.73-1.14.73-1.939 0-.38-.07-.728-.19-1.045-.12-.33-.29-.608-.52-.836-.23-.228-.5-.405-.81-.532-.31-.14-.65-.209-1.03-.209s-.74.063-1.06.19c-.32.127-.6.31-.84.551-.23.228-.41.507-.53.836-.13.33-.19.69-.19 1.083ZM60.008 11.706l5.188-5.093c.418-.405.748-.81.988-1.216.254-.418.38-.893.38-1.425 0-.634-.209-1.134-.627-1.502-.405-.38-.912-.57-1.52-.57-.646 0-1.166.222-1.558.665-.393.431-.634.976-.722 1.635l-2.224-.342c.064-.558.222-1.071.475-1.54.254-.468.577-.874.97-1.216a4.321 4.321 0 0 1 1.368-.798A4.818 4.818 0 0 1 64.455 0c.583 0 1.14.082 1.672.247a4.152 4.152 0 0 1 1.444.76 3.5 3.5 0 0 1 .989 1.235c.253.482.38 1.045.38 1.692 0 .43-.057.836-.171 1.216a4.576 4.576 0 0 1-.476 1.045c-.19.33-.418.646-.684.95-.253.291-.532.576-.836.855l-3.876 3.706h6.062v2.09h-8.95v-2.09ZM538.065 3.116l-2.661 2.186-1.33-1.577 4.2-3.383h2.071v13.454h-2.28V3.116ZM554.908 7.069c0 1.09-.108 2.071-.324 2.945-.202.875-.506 1.616-.912 2.224a4.124 4.124 0 0 1-1.482 1.406c-.583.33-1.254.494-2.014.494-.76 0-1.438-.165-2.033-.494a4.295 4.295 0 0 1-1.502-1.406c-.405-.608-.715-1.35-.931-2.224-.202-.874-.304-1.856-.304-2.945 0-1.09.102-2.071.304-2.945.216-.875.526-1.616.931-2.224a4.295 4.295 0 0 1 1.502-1.406c.595-.33 1.273-.494 2.033-.494s1.431.165 2.014.494c.596.33 1.09.798 1.482 1.406.406.608.71 1.35.912 2.224.216.874.324 1.855.324 2.945Zm-2.338 0c0-.469-.031-1-.095-1.596a7.215 7.215 0 0 0-.342-1.691c-.165-.533-.405-.976-.722-1.33-.317-.368-.728-.552-1.235-.552-.52 0-.938.184-1.254.551-.317.355-.564.798-.741 1.33a8.837 8.837 0 0 0-.342 1.692 15.077 15.077 0 0 0-.095 1.596c0 .469.031 1 .095 1.596.063.596.177 1.153.342 1.672.177.52.424.963.741 1.33.316.355.734.533 1.254.533.507 0 .918-.178 1.235-.532a3.74 3.74 0 0 0 .722-1.33c.178-.52.292-1.077.342-1.673.064-.595.095-1.127.095-1.596ZM1194.17 11.706l5.18-5.093c.42-.405.75-.81.99-1.216.25-.418.38-.893.38-1.425 0-.634-.21-1.134-.63-1.502-.4-.38-.91-.57-1.52-.57-.64 0-1.16.222-1.55.665-.4.431-.64.976-.73 1.635l-2.22-.342c.06-.558.22-1.071.48-1.54.25-.468.57-.874.96-1.216.4-.342.85-.608 1.37-.798a4.817 4.817 0 0 1 1.73-.304c.58 0 1.14.082 1.67.247.55.165 1.03.418 1.45.76.42.33.75.741.99 1.235.25.482.38 1.045.38 1.692 0 .43-.06.836-.17 1.216-.12.367-.28.715-.48 1.045-.19.33-.42.646-.68.95-.26.291-.54.576-.84.855l-3.88 3.706h6.07v2.09h-8.95v-2.09ZM1209.75 3.116l-2.66 2.186-1.33-1.577 4.2-3.383h2.07v13.454h-2.28V3.116ZM1554.22 11.706l5.18-5.093c.42-.405.75-.81.99-1.216.25-.418.38-.893.38-1.425 0-.634-.21-1.134-.63-1.502-.4-.38-.91-.57-1.52-.57-.64 0-1.16.222-1.55.665-.4.431-.64.976-.73 1.635l-2.22-.342c.06-.558.22-1.071.48-1.54.25-.468.57-.874.96-1.216.4-.342.85-.608 1.37-.798a4.817 4.817 0 0 1 1.73-.304c.58 0 1.14.082 1.67.247.55.165 1.03.418 1.45.76.42.33.75.741.99 1.235.25.482.38 1.045.38 1.692 0 .43-.06.836-.17 1.216-.12.367-.28.715-.48 1.045-.19.33-.42.646-.68.95-.26.291-.54.576-.84.855l-3.88 3.706h6.07v2.09h-8.95v-2.09ZM1565.47.342h9.14v2.09l-5.38 11.364h-2.68l5.67-11.402h-6.75V.342ZM307.11.342l-3.439 4.979.019.019c.177-.076.399-.133.665-.171a5.67 5.67 0 0 1 .76-.057c.596 0 1.153.114 1.672.342.52.215.976.52 1.369.912.392.38.696.836.912 1.368a4.16 4.16 0 0 1 .342 1.691c0 .71-.127 1.356-.38 1.939a4.52 4.52 0 0 1-1.045 1.5 4.375 4.375 0 0 1-1.559.932 5.319 5.319 0 0 1-1.919.342 5.429 5.429 0 0 1-1.957-.342 4.938 4.938 0 0 1-1.558-.988 4.62 4.62 0 0 1-1.046-1.463 4.654 4.654 0 0 1-.361-1.825 5.786 5.786 0 0 1 .361-2.033c.127-.317.273-.633.438-.95.177-.317.373-.646.589-.988l3.363-5.207h2.774Zm-5.206 9.235c0 .355.057.69.171 1.008.126.316.304.595.532.836.228.24.5.43.817.57.317.14.671.209 1.064.209.773 0 1.394-.241 1.862-.722.482-.494.722-1.14.722-1.939 0-.38-.063-.728-.19-1.045a2.163 2.163 0 0 0-.513-.836 2.398 2.398 0 0 0-.817-.532 2.434 2.434 0 0 0-1.026-.209c-.38 0-.735.063-1.064.19-.317.127-.595.31-.836.551a2.356 2.356 0 0 0-.532.836c-.127.33-.19.69-.19 1.083ZM778.098 3.116l-2.661 2.186-1.33-1.577 4.2-3.383h2.071v13.454h-2.28V3.116ZM791.007 11.003h-6.214V8.988l5.72-8.646h2.737v8.703h1.881v1.958h-1.881v2.793h-2.243v-2.793Zm0-7.982h-.038l-3.819 6.024h3.857V3.021ZM122.734 5.872h.608c.342 0 .678-.026 1.007-.076.342-.064.653-.171.931-.323.279-.152.501-.355.665-.608.178-.266.266-.608.266-1.026 0-.305-.057-.577-.171-.818a1.72 1.72 0 0 0-.475-.608 1.993 1.993 0 0 0-.684-.38 2.395 2.395 0 0 0-.798-.133c-.557 0-1.02.159-1.387.475-.367.317-.621.735-.76 1.255l-2.147-.552c.114-.456.304-.867.57-1.235.278-.38.608-.703.988-.969.392-.279.83-.494 1.311-.646a5.016 5.016 0 0 1 1.52-.228c.583 0 1.134.082 1.653.247.532.152.995.386 1.388.703.405.304.722.684.95 1.14.228.456.342.988.342 1.597 0 .722-.222 1.368-.665 1.938-.431.557-1.014.925-1.749 1.102v.038c.824.165 1.489.538 1.996 1.121.519.57.779 1.273.779 2.11 0 .696-.14 1.304-.418 1.824-.266.519-.627.95-1.083 1.292a4.542 4.542 0 0 1-1.502.76 5.543 5.543 0 0 1-1.691.266 6.64 6.64 0 0 1-1.615-.19 4.846 4.846 0 0 1-1.406-.551 4.337 4.337 0 0 1-1.121-.988 4.582 4.582 0 0 1-.742-1.445l2.129-.665c.164.533.469.982.912 1.35.456.367 1.045.55 1.767.55.292 0 .583-.037.874-.113.304-.089.57-.222.798-.4.241-.177.431-.405.57-.684.152-.278.228-.62.228-1.026 0-.43-.107-.791-.323-1.083a2.067 2.067 0 0 0-.779-.703 3.527 3.527 0 0 0-1.064-.38 5.613 5.613 0 0 0-1.102-.114h-.57V5.872ZM598.073 3.116l-2.661 2.186-1.33-1.577 4.2-3.383h2.071v13.454h-2.28V3.116ZM609.671 3.116l-2.66 2.186-1.33-1.577L609.88.342h2.071v13.454h-2.28V3.116ZM1254.17 11.706l5.19-5.093c.42-.405.75-.81.99-1.216.25-.418.38-.893.38-1.425 0-.634-.21-1.134-.63-1.502-.4-.38-.91-.57-1.52-.57-.64 0-1.16.222-1.56.665-.39.431-.63.976-.72 1.635l-2.22-.342c.06-.558.22-1.071.47-1.54a4.5 4.5 0 0 1 .97-1.216c.4-.342.85-.608 1.37-.798a4.817 4.817 0 0 1 1.73-.304c.58 0 1.14.082 1.67.247.55.165 1.03.418 1.45.76.41.33.74.741.98 1.235.26.482.38 1.045.38 1.692 0 .43-.05.836-.17 1.216a4.5 4.5 0 0 1-.47 1.045c-.19.33-.42.646-.69.95-.25.291-.53.576-.83.855l-3.88 3.706h6.06v2.09h-8.95v-2.09ZM1265.77 11.706l5.19-5.093c.42-.405.75-.81.99-1.216.25-.418.38-.893.38-1.425 0-.634-.21-1.134-.63-1.502-.4-.38-.91-.57-1.52-.57-.65 0-1.16.222-1.56.665-.39.431-.63.976-.72 1.635l-2.22-.342c.06-.558.22-1.071.47-1.54a4.5 4.5 0 0 1 .97-1.216c.39-.342.85-.608 1.37-.798a4.817 4.817 0 0 1 1.73-.304c.58 0 1.14.082 1.67.247.55.165 1.03.418 1.44.76.42.33.75.741.99 1.235.26.482.38 1.045.38 1.692 0 .43-.05.836-.17 1.216a4.5 4.5 0 0 1-.47 1.045c-.19.33-.42.646-.69.95-.25.291-.53.576-.83.855l-3.88 3.706h6.06v2.09h-8.95v-2.09ZM1614.22 11.706l5.19-5.093c.42-.405.75-.81.99-1.216.25-.418.38-.893.38-1.425 0-.634-.21-1.134-.63-1.502-.4-.38-.91-.57-1.52-.57-.64 0-1.16.222-1.56.665-.39.431-.63.976-.72 1.635l-2.22-.342c.06-.558.22-1.071.47-1.54a4.5 4.5 0 0 1 .97-1.216c.4-.342.85-.608 1.37-.798a4.817 4.817 0 0 1 1.73-.304c.58 0 1.14.082 1.67.247.55.165 1.03.418 1.45.76.41.33.74.741.98 1.235.26.482.38 1.045.38 1.692 0 .43-.05.836-.17 1.216a4.5 4.5 0 0 1-.47 1.045c-.19.33-.42.646-.69.95-.25.291-.53.576-.83.855l-3.88 3.706h6.06v2.09h-8.95v-2.09ZM1630.31 0c.58 0 1.13.082 1.65.247.52.165.97.405 1.35.722.39.317.7.703.91 1.16.23.443.34.95.34 1.52 0 .785-.19 1.437-.59 1.957-.39.52-.89.88-1.5 1.083v.038c.36.089.69.234.99.437.3.19.57.43.8.722.23.279.4.596.53.95.14.355.21.741.21 1.16 0 .67-.13 1.266-.38 1.786a3.73 3.73 0 0 1-1.01 1.292c-.42.354-.91.62-1.48.798-.57.177-1.18.266-1.82.266-.65 0-1.26-.089-1.83-.266a4.368 4.368 0 0 1-1.5-.798 4.121 4.121 0 0 1-1.01-1.292c-.24-.52-.36-1.115-.36-1.787a3.413 3.413 0 0 1 .76-2.166c.24-.279.52-.507.82-.684.3-.19.62-.33.95-.418v-.038a3.302 3.302 0 0 1-1.5-1.045c-.39-.482-.59-1.115-.59-1.9 0-.57.11-1.084.32-1.54.23-.468.53-.861.91-1.178.4-.33.85-.583 1.35-.76a5.17 5.17 0 0 1 1.68-.266Zm0 1.881c-.57 0-1.04.171-1.41.513-.35.342-.53.805-.53 1.388 0 .544.17 1.007.51 1.387.36.38.83.57 1.43.57.26 0 .52-.05.76-.152s.45-.24.62-.418a1.962 1.962 0 0 0 .57-1.387c0-.292-.05-.552-.17-.78-.1-.24-.24-.443-.43-.608a1.896 1.896 0 0 0-.63-.38 1.984 1.984 0 0 0-.72-.133Zm0 5.796c-.33 0-.64.057-.93.171-.28.114-.53.272-.75.475-.2.19-.36.43-.49.722-.11.279-.17.59-.17.931 0 .71.22 1.26.66 1.654.45.392 1 .589 1.68.589.66 0 1.21-.197 1.65-.59.44-.392.66-.943.66-1.653 0-.329-.06-.633-.19-.912a1.897 1.897 0 0 0-.49-.74c-.2-.204-.45-.362-.74-.476a2.35 2.35 0 0 0-.89-.17ZM359.708.342h9.14v2.09l-5.378 11.364h-2.679l5.663-11.402h-6.746V.342ZM838.106 3.116l-2.66 2.186-1.33-1.577 4.199-3.383h2.071v13.454h-2.28V3.116ZM853.999 2.394h-5.492l-.133 2.908c.216-.064.469-.108.76-.133a9.95 9.95 0 0 1 .817-.038c.659 0 1.267.095 1.825.285.57.19 1.064.469 1.482.836.418.355.741.798.969 1.33.241.52.361 1.121.361 1.805 0 .748-.133 1.42-.399 2.015a4.305 4.305 0 0 1-1.045 1.482 4.61 4.61 0 0 1-1.558.931 5.55 5.55 0 0 1-1.901.323c-1.127 0-2.077-.26-2.85-.78-.773-.531-1.337-1.253-1.691-2.165l2.071-.76c.19.532.507.962.95 1.292.444.316.969.475 1.577.475.342 0 .665-.057.969-.171.305-.114.571-.279.799-.494.228-.216.405-.482.532-.799.139-.329.209-.696.209-1.102 0-.519-.089-.95-.266-1.292a2.226 2.226 0 0 0-.703-.817 2.335 2.335 0 0 0-.951-.437 4.44 4.44 0 0 0-1.083-.133 6.35 6.35 0 0 0-1.653.228c-.266.063-.532.14-.798.228a5.914 5.914 0 0 0-.684.285l.228-7.354h7.658v2.052ZM185.327 11.003h-6.214V8.988l5.72-8.646h2.736v8.703h1.881v1.958h-1.881v2.793h-2.242v-2.793Zm0-7.982h-.038l-3.82 6.024h3.858V3.021ZM658.081 3.116l-2.66 2.186-1.33-1.577L658.29.342h2.071v13.454h-2.28V3.116ZM665.689 11.706l5.188-5.093c.418-.405.747-.81.988-1.216.253-.418.38-.893.38-1.425 0-.634-.209-1.134-.627-1.502-.406-.38-.912-.57-1.521-.57-.646 0-1.165.222-1.558.665-.392.431-.633.976-.722 1.635l-2.223-.342c.063-.558.222-1.071.475-1.54.253-.468.576-.874.969-1.216a4.328 4.328 0 0 1 1.368-.798A4.819 4.819 0 0 1 670.135 0c.583 0 1.141.082 1.673.247a4.156 4.156 0 0 1 1.444.76c.418.33.747.741.988 1.235.253.482.38 1.045.38 1.692 0 .43-.057.836-.171 1.216a4.559 4.559 0 0 1-.475 1.045c-.19.33-.418.646-.684.95-.253.291-.532.576-.836.855l-3.877 3.706h6.062v2.09h-8.95v-2.09ZM1314.18 11.706l5.19-5.093c.42-.405.75-.81.99-1.216.25-.418.38-.893.38-1.425 0-.634-.21-1.134-.63-1.502-.4-.38-.91-.57-1.52-.57-.65 0-1.16.222-1.56.665-.39.431-.63.976-.72 1.635l-2.22-.342c.06-.558.22-1.071.47-1.54a4.5 4.5 0 0 1 .97-1.216c.39-.342.85-.608 1.37-.798a4.817 4.817 0 0 1 1.73-.304c.58 0 1.14.082 1.67.247.55.165 1.03.418 1.44.76.42.33.75.741.99 1.235.26.482.38 1.045.38 1.692 0 .43-.05.836-.17 1.216a4.5 4.5 0 0 1-.47 1.045c-.19.33-.42.646-.69.95-.25.291-.53.576-.83.855l-3.88 3.706h6.06v2.09h-8.95v-2.09ZM1328.5 5.872h.61c.34 0 .67-.026 1-.076.34-.064.66-.171.93-.323.28-.152.5-.355.67-.608.18-.266.27-.608.27-1.026 0-.305-.06-.577-.18-.818-.11-.24-.27-.443-.47-.608a1.984 1.984 0 0 0-.69-.38 2.331 2.331 0 0 0-.79-.133c-.56 0-1.02.159-1.39.475-.37.317-.62.735-.76 1.255l-2.15-.552c.12-.456.31-.867.57-1.235.28-.38.61-.703.99-.969.39-.279.83-.494 1.31-.646a5.02 5.02 0 0 1 1.52-.228c.58 0 1.14.082 1.66.247.53.152.99.386 1.38.703.41.304.72.684.95 1.14.23.456.34.988.34 1.597a3.09 3.09 0 0 1-.66 1.938c-.43.557-1.01.925-1.75 1.102v.038c.82.165 1.49.538 2 1.121.52.57.78 1.273.78 2.11 0 .696-.14 1.304-.42 1.824-.27.519-.63.95-1.09 1.292-.44.342-.94.595-1.5.76-.55.177-1.12.266-1.69.266-.57 0-1.11-.063-1.61-.19a4.838 4.838 0 0 1-1.41-.551 4.317 4.317 0 0 1-1.12-.988c-.32-.406-.56-.887-.74-1.445l2.13-.665c.16.533.47.982.91 1.35.45.367 1.04.55 1.77.55.29 0 .58-.037.87-.113.3-.089.57-.222.8-.4.24-.177.43-.405.57-.684.15-.278.23-.62.23-1.026 0-.43-.11-.791-.33-1.083-.2-.304-.46-.538-.78-.703a3.474 3.474 0 0 0-1.06-.38 5.632 5.632 0 0 0-1.1-.114h-.57V5.872ZM424.543 0c.583 0 1.134.082 1.653.247.519.165.969.405 1.349.722.393.317.697.703.912 1.16.228.443.342.95.342 1.52 0 .785-.196 1.437-.589 1.957-.392.52-.893.88-1.501 1.083v.038c.355.089.684.234.988.437.304.19.57.43.798.722.228.279.406.596.532.95.14.355.209.741.209 1.16 0 .67-.126 1.266-.38 1.786a3.71 3.71 0 0 1-1.007 1.292c-.418.354-.912.62-1.482.798a6.105 6.105 0 0 1-1.824.266 6.105 6.105 0 0 1-1.824-.266 4.377 4.377 0 0 1-1.502-.798 4.056 4.056 0 0 1-1.007-1.292c-.24-.52-.361-1.115-.361-1.787 0-.43.07-.83.209-1.197.14-.367.323-.69.551-.969.241-.279.513-.507.817-.684.304-.19.621-.33.951-.418v-.038a3.33 3.33 0 0 1-1.502-1.045c-.392-.482-.589-1.115-.589-1.9 0-.57.108-1.084.323-1.54a3.51 3.51 0 0 1 .912-1.178c.393-.33.843-.583 1.35-.76A5.135 5.135 0 0 1 424.543 0Zm0 1.881c-.57 0-1.039.171-1.406.513-.355.342-.532.805-.532 1.388 0 .544.171 1.007.513 1.387.354.38.829.57 1.425.57.266 0 .519-.05.76-.152a1.935 1.935 0 0 0 1.197-1.805c0-.292-.057-.552-.171-.78a1.624 1.624 0 0 0-.437-.608 1.843 1.843 0 0 0-.627-.38 1.975 1.975 0 0 0-.722-.133Zm0 5.796c-.33 0-.64.057-.931.171a2.385 2.385 0 0 0-.741.475c-.203.19-.368.43-.494.722a2.42 2.42 0 0 0-.172.931c0 .71.222 1.26.666 1.654.443.392 1 .589 1.672.589.659 0 1.21-.197 1.653-.59.443-.392.665-.943.665-1.653 0-.329-.063-.633-.19-.912a2.01 2.01 0 0 0-.494-.74 2.136 2.136 0 0 0-.741-.476 2.335 2.335 0 0 0-.893-.17ZM1078.14 3.116l-2.66 2.186-1.33-1.577 4.2-3.383h2.07v13.454h-2.28V3.116ZM1087.63 13.796l3.46-4.998-.02-.019c-.19.089-.43.152-.71.19a5.16 5.16 0 0 1-.74.057c-.59 0-1.15-.107-1.67-.323a4.714 4.714 0 0 1-1.37-.912 4.52 4.52 0 0 1-.93-1.368 4.619 4.619 0 0 1-.32-1.71c0-.71.13-1.356.38-1.939.25-.582.59-1.076 1.03-1.482.44-.418.96-.735 1.55-.95a5.508 5.508 0 0 1 1.94-.342c.7 0 1.34.12 1.94.361.61.228 1.13.551 1.58.97.44.417.78.911 1.02 1.481.26.558.38 1.16.38 1.806 0 .38-.03.74-.09 1.083-.07.33-.16.652-.29.969-.11.304-.26.614-.43.931-.17.317-.36.646-.57.988l-3.37 5.207h-2.77Zm5.21-9.235c0-.355-.07-.69-.19-1.008a2.445 2.445 0 0 0-.52-.836c-.23-.253-.5-.45-.82-.589a2.397 2.397 0 0 0-1.06-.228c-.77 0-1.4.254-1.88.76-.47.494-.7 1.14-.7 1.939 0 .38.05.734.17 1.064.12.316.3.589.53.817.23.228.49.412.8.551.31.127.66.19 1.04.19s.73-.063 1.05-.19c.33-.127.61-.304.83-.532.24-.24.43-.526.56-.855.12-.33.19-.69.19-1.083ZM898.114 3.116l-2.66 2.186-1.33-1.577 4.199-3.383h2.072v13.454h-2.281V3.116ZM912.791.342l-3.439 4.979.019.019c.177-.076.399-.133.665-.171.278-.038.532-.057.76-.057.595 0 1.153.114 1.672.342.519.215.976.52 1.368.912.393.38.697.836.912 1.368a4.16 4.16 0 0 1 .342 1.691c0 .71-.126 1.356-.38 1.939a4.491 4.491 0 0 1-1.045 1.5 4.37 4.37 0 0 1-1.558.932 5.319 5.319 0 0 1-1.919.342c-.71 0-1.362-.114-1.958-.342a4.96 4.96 0 0 1-1.558-.988 4.618 4.618 0 0 1-1.045-1.463 4.636 4.636 0 0 1-.361-1.825c0-.38.032-.734.095-1.064.063-.342.152-.665.266-.969.127-.317.272-.633.437-.95.178-.317.374-.646.589-.988l3.364-5.207h2.774Zm-5.207 9.235c0 .355.057.69.171 1.008.127.316.304.595.532.836.229.24.501.43.818.57.316.14.671.209 1.064.209.773 0 1.393-.241 1.862-.722.481-.494.722-1.14.722-1.939 0-.38-.063-.728-.19-1.045a2.163 2.163 0 0 0-.513-.836 2.398 2.398 0 0 0-.817-.532 2.434 2.434 0 0 0-1.026-.209c-.38 0-.735.063-1.064.19a2.37 2.37 0 0 0-1.369 1.387c-.126.33-.19.69-.19 1.083ZM958.123 3.116l-2.661 2.186-1.33-1.577 4.2-3.383h2.071v13.454h-2.28V3.116ZM965.388.342h9.141v2.09l-5.378 11.364h-2.679l5.662-11.402h-6.746V.342ZM1018.13 3.116l-2.66 2.186-1.33-1.577 4.2-3.383h2.07v13.454h-2.28V3.116ZM1030.22 0c.59 0 1.14.082 1.66.247.52.165.97.405 1.35.722.39.317.69.703.91 1.16.23.443.34.95.34 1.52 0 .785-.2 1.437-.59 1.957-.39.52-.89.88-1.5 1.083v.038c.35.089.68.234.99.437.3.19.57.43.8.722.22.279.4.596.53.95.14.355.21.741.21 1.16 0 .67-.13 1.266-.38 1.786a3.73 3.73 0 0 1-1.01 1.292c-.42.354-.91.62-1.48.798-.57.177-1.18.266-1.83.266-.64 0-1.25-.089-1.82-.266a4.368 4.368 0 0 1-1.5-.798 3.982 3.982 0 0 1-1.01-1.292c-.24-.52-.36-1.115-.36-1.787a3.413 3.413 0 0 1 .76-2.166c.24-.279.51-.507.82-.684.3-.19.62-.33.95-.418v-.038a3.302 3.302 0 0 1-1.5-1.045c-.4-.482-.59-1.115-.59-1.9 0-.57.1-1.084.32-1.54.23-.468.53-.861.91-1.178.39-.33.84-.583 1.35-.76a5.154 5.154 0 0 1 1.67-.266Zm0 1.881c-.57 0-1.04.171-1.4.513-.36.342-.53.805-.53 1.388 0 .544.17 1.007.51 1.387.35.38.83.57 1.42.57a1.992 1.992 0 0 0 1.39-.57 1.962 1.962 0 0 0 .57-1.387c0-.292-.06-.552-.17-.78a1.62 1.62 0 0 0-.44-.608 1.757 1.757 0 0 0-.62-.38 1.999 1.999 0 0 0-.73-.133Zm0 5.796c-.33 0-.64.057-.93.171-.28.114-.52.272-.74.475-.2.19-.37.43-.49.722-.12.279-.17.59-.17.931 0 .71.22 1.26.66 1.654.44.392 1 .589 1.67.589.66 0 1.21-.197 1.66-.59.44-.392.66-.943.66-1.653 0-.329-.06-.633-.19-.912a2.013 2.013 0 0 0-.49-.74 2.209 2.209 0 0 0-.74-.476 2.363 2.363 0 0 0-.9-.17Z"})}),tM=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M8.662 8.227h-.057c-.228.406-.595.742-1.102 1.008-.506.253-1.083.38-1.729.38-.367 0-.753-.051-1.159-.152a3.501 3.501 0 0 1-1.102-.456 3.062 3.062 0 0 1-.836-.875c-.215-.367-.323-.817-.323-1.349 0-.684.19-1.228.57-1.634.393-.405.893-.715 1.501-.93A8.103 8.103 0 0 1 6.44 3.8a21.6 21.6 0 0 1 2.185-.114v-.228c0-.57-.209-.988-.627-1.254-.405-.279-.893-.418-1.463-.418a3.3 3.3 0 0 0-1.387.304c-.443.203-.81.45-1.102.741L2.867 1.444A5.163 5.163 0 0 1 4.653.361 6.201 6.201 0 0 1 6.724 0C7.535 0 8.2.114 8.72.342c.533.228.95.526 1.255.893.304.367.513.78.627 1.235.126.456.19.912.19 1.368v5.549H8.662v-1.16Zm-.038-3.002h-.513c-.367 0-.753.02-1.159.057a4.404 4.404 0 0 0-1.12.21 2.211 2.211 0 0 0-.856.455c-.228.19-.342.456-.342.798 0 .216.045.4.133.551.102.14.228.254.38.342.152.09.323.152.513.19.19.038.38.057.57.057.786 0 1.381-.209 1.786-.627.406-.418.608-.988.608-1.71v-.323ZM5.038 480.293h2.28v9.12h-2.28v-9.12Zm-.323-3.098c0-.367.133-.684.4-.95a1.42 1.42 0 0 1 1.044-.418c.418 0 .767.133 1.045.399.292.254.437.577.437.969 0 .393-.145.722-.437.989-.278.253-.627.38-1.045.38-.418 0-.766-.133-1.045-.399a1.362 1.362 0 0 1-.399-.97ZM9.423 243.928a2.63 2.63 0 0 0-.133-.837 1.81 1.81 0 0 0-.38-.703 1.8 1.8 0 0 0-.685-.475 2.201 2.201 0 0 0-.95-.19c-.684 0-1.266.209-1.748.627-.468.406-.728.931-.779 1.578h4.675Zm2.28 1.026v.304c0 .101-.007.202-.02.304H4.749c.026.329.108.633.247.912.152.266.349.5.59.703.24.19.512.342.816.456.304.114.621.171.95.171.57 0 1.052-.102 1.445-.304.392-.216.715-.507.969-.874l1.52 1.216c-.9 1.216-2.204 1.824-3.915 1.824-.709 0-1.361-.108-1.957-.323a4.863 4.863 0 0 1-1.558-.95c-.43-.406-.772-.9-1.026-1.482-.24-.596-.36-1.267-.36-2.014 0-.735.12-1.4.36-1.996a4.553 4.553 0 0 1 1.026-1.539c.43-.43.938-.76 1.52-.988a5.085 5.085 0 0 1 1.92-.361c.633 0 1.215.108 1.748.323a3.651 3.651 0 0 1 1.406.931c.392.406.696.919.912 1.539.228.608.342 1.324.342 2.148ZM10.888 720.04c.595 0 1.102.108 1.52.323.43.203.779.475 1.045.817.278.342.481.735.608 1.178.127.443.19.899.19 1.368v5.7h-2.28v-5.054c0-.266-.02-.545-.057-.836a2.166 2.166 0 0 0-.247-.779 1.582 1.582 0 0 0-.532-.589c-.216-.152-.507-.228-.874-.228-.355 0-.66.076-.912.228a1.988 1.988 0 0 0-.628.589 2.515 2.515 0 0 0-.36.817 3.45 3.45 0 0 0-.115.874v4.978h-2.28v-5.51c0-.57-.139-1.039-.418-1.406-.266-.38-.69-.57-1.273-.57-.342 0-.64.076-.893.228a1.876 1.876 0 0 0-.627.551 2.885 2.885 0 0 0-.36.798 3.521 3.521 0 0 0-.115.893v5.016H0v-9.12h2.166v1.463h.038a2.88 2.88 0 0 1 .4-.646 3.62 3.62 0 0 1 .607-.551c.24-.165.513-.291.817-.38a3.18 3.18 0 0 1 1.007-.152c.71 0 1.299.158 1.767.475.47.317.83.735 1.083 1.254.304-.557.71-.982 1.216-1.273.507-.304 1.103-.456 1.787-.456ZM11.273 974h-2.28v-5.776h-.039c-.29.456-.709.817-1.254 1.083a3.896 3.896 0 0 1-1.767.399c-.696 0-1.323-.127-1.88-.38a4.643 4.643 0 0 1-1.407-1.045 5.024 5.024 0 0 1-.893-1.539 5.862 5.862 0 0 1-.304-1.901c0-.671.108-1.298.323-1.881a4.6 4.6 0 0 1 .912-1.52c.393-.43.861-.766 1.406-1.007a4.188 4.188 0 0 1 1.786-.38c.418 0 .792.051 1.121.152.342.089.646.209.912.361.266.14.488.304.665.494.19.178.342.355.456.532h.057v-1.273h2.186V974Zm-7.506-9.159c0 .355.05.71.152 1.065.114.354.279.671.494.95.216.278.488.506.817.684.33.177.716.266 1.16.266.417 0 .791-.083 1.12-.247.33-.178.608-.406.836-.684a2.74 2.74 0 0 0 .532-.931c.127-.355.19-.71.19-1.065a3.15 3.15 0 0 0-.19-1.064 2.713 2.713 0 0 0-.532-.95 2.774 2.774 0 0 0-.836-.684 2.33 2.33 0 0 0-1.12-.266c-.444 0-.83.089-1.16.266-.33.165-.601.387-.817.665-.215.279-.38.596-.494.95a3.663 3.663 0 0 0-.152 1.045ZM4.318 55.025v6.403h.057c.114-.152.26-.31.437-.475.178-.164.387-.316.627-.456.254-.139.545-.253.874-.342.33-.101.703-.152 1.121-.152.646 0 1.242.127 1.786.38a4.15 4.15 0 0 1 1.407 1.007c.392.431.696.938.912 1.52.215.583.323 1.21.323 1.882 0 .67-.108 1.304-.323 1.9a4.55 4.55 0 0 1-.893 1.539c-.38.43-.85.779-1.407 1.045-.544.253-1.165.38-1.862.38-.646 0-1.254-.14-1.824-.418a3.116 3.116 0 0 1-1.31-1.216h-.039v1.368H2.038V55.025h2.28Zm5.225 9.767c0-.355-.057-.704-.17-1.046a2.79 2.79 0 0 0-.476-.95 2.337 2.337 0 0 0-.817-.665c-.329-.177-.715-.266-1.159-.266-.418 0-.791.09-1.12.266-.33.178-.615.406-.856.684a3.17 3.17 0 0 0-.532.95 3.46 3.46 0 0 0-.17 1.065c0 .354.056.709.17 1.064.127.342.304.652.532.93.24.28.526.507.855.685.33.164.703.247 1.121.247.444 0 .83-.089 1.16-.266.329-.178.601-.406.816-.684.216-.279.374-.596.475-.95a3.46 3.46 0 0 0 .171-1.064ZM7.318 540.296v9.671c0 .545-.044 1.058-.133 1.54-.088.494-.26.918-.513 1.273-.24.367-.576.658-1.007.874-.418.215-.969.323-1.653.323-.19 0-.38-.013-.57-.038a6.1 6.1 0 0 1-.456-.076l.19-1.938a2.965 2.965 0 0 0 .627.076c.266 0 .482-.051.646-.152.165-.102.292-.241.38-.418.089-.178.146-.387.171-.628.026-.228.038-.475.038-.741v-9.766h2.28Zm-2.603-3.097c0-.368.133-.684.4-.95a1.417 1.417 0 0 1 1.044-.418c.418 0 .767.133 1.045.399.292.253.437.576.437.969 0 .392-.145.722-.437.988-.278.253-.627.38-1.045.38-.418 0-.766-.133-1.045-.399a1.362 1.362 0 0 1-.399-.969ZM5.361 302.107H3.632v-1.824h1.73v-1.349c0-.545.056-1.065.17-1.559.127-.506.33-.95.608-1.33.292-.38.672-.677 1.14-.893.47-.228 1.058-.342 1.767-.342.254 0 .463.013.627.038.178.013.355.045.533.095l-.152 1.938a3.535 3.535 0 0 0-.419-.095 2.585 2.585 0 0 0-.456-.038c-.329 0-.595.064-.798.19a1.372 1.372 0 0 0-.475.494 2.278 2.278 0 0 0-.209.665 4.508 4.508 0 0 0-.057.703v1.483h2.11v1.824H7.64v7.296h-2.28v-7.296ZM2 780.309h2.166v1.463h.038c.203-.456.551-.855 1.045-1.197.507-.354 1.102-.532 1.786-.532.596 0 1.102.108 1.52.323.431.203.78.475 1.046.817.278.342.48.735.608 1.178.126.444.19.9.19 1.368v5.701h-2.28v-5.055c0-.266-.02-.544-.058-.836a2.167 2.167 0 0 0-.247-.779 1.59 1.59 0 0 0-.532-.589c-.215-.152-.506-.228-.874-.228-.367 0-.684.076-.95.228-.266.14-.487.323-.665.551a2.587 2.587 0 0 0-.38.798 3.054 3.054 0 0 0-.133.893v5.017H2v-9.121ZM9.233 122.8c-.178-.254-.444-.463-.799-.627a2.39 2.39 0 0 0-1.083-.266 2.21 2.21 0 0 0-1.102.266 2.376 2.376 0 0 0-.798.665 2.991 2.991 0 0 0-.456.95c-.101.342-.152.69-.152 1.045s.051.709.152 1.064c.114.342.279.652.494.931.216.279.482.507.798.684.33.165.71.247 1.14.247.355 0 .71-.07 1.064-.209.355-.139.64-.342.856-.608l1.425 1.444c-.38.405-.868.722-1.463.95a5.425 5.425 0 0 1-1.9.323 5.69 5.69 0 0 1-1.92-.323 4.643 4.643 0 0 1-1.577-.95 4.695 4.695 0 0 1-1.064-1.52c-.253-.595-.38-1.273-.38-2.033 0-.735.127-1.4.38-1.995a4.684 4.684 0 0 1 1.064-1.52 4.735 4.735 0 0 1 1.54-.969 5.267 5.267 0 0 1 1.9-.342c.67 0 1.317.126 1.938.38.633.253 1.133.601 1.5 1.045L9.234 122.8ZM3.038 595.055h2.28v9.082h.057l3.458-3.838h2.927l-3.953 4.123 4.2 4.998H8.985l-3.61-4.675h-.057v4.675h-2.28v-14.365ZM1.468 844.835c0-.722.127-1.375.38-1.957a4.684 4.684 0 0 1 1.064-1.52 4.649 4.649 0 0 1 1.577-.969 5.474 5.474 0 0 1 1.938-.342c.684 0 1.33.114 1.938.342a4.649 4.649 0 0 1 1.578.969c.443.418.791.924 1.045 1.52.266.582.399 1.235.399 1.957s-.133 1.381-.4 1.976a4.672 4.672 0 0 1-1.044 1.539 4.905 4.905 0 0 1-1.578.988 5.211 5.211 0 0 1-1.938.361c-.684 0-1.33-.12-1.938-.361a4.905 4.905 0 0 1-1.577-.988 4.923 4.923 0 0 1-1.064-1.539 4.995 4.995 0 0 1-.38-1.976Zm2.318 0c0 .354.05.709.152 1.064.114.355.279.671.494.95.216.279.488.507.817.684.33.177.722.266 1.178.266.456 0 .85-.089 1.178-.266.33-.177.602-.405.817-.684.216-.279.374-.595.476-.95.114-.355.17-.71.17-1.064 0-.355-.056-.703-.17-1.045a2.782 2.782 0 0 0-.476-.95 2.325 2.325 0 0 0-.817-.665c-.329-.178-.722-.266-1.178-.266-.456 0-.848.088-1.178.266-.329.164-.601.386-.817.665a3.07 3.07 0 0 0-.494.95c-.101.342-.152.69-.152 1.045ZM11.273 360.286v8.303c0 .824-.102 1.565-.304 2.224-.203.671-.52 1.235-.95 1.691-.418.468-.95.829-1.597 1.083-.646.253-1.412.38-2.299.38a7.93 7.93 0 0 1-1.178-.095 8.626 8.626 0 0 1-1.216-.285 7.501 7.501 0 0 1-1.14-.475 5.58 5.58 0 0 1-.988-.646l1.311-1.767c.444.418.944.734 1.501.95a4.432 4.432 0 0 0 1.691.342c.545 0 1.001-.083 1.368-.247.38-.152.678-.368.893-.646.228-.279.387-.608.476-.988.1-.381.152-.799.152-1.255v-.665h-.038c-.33.444-.754.786-1.274 1.026-.506.228-1.076.342-1.71.342-.684 0-1.304-.126-1.862-.38a4.315 4.315 0 0 1-1.425-1.026 4.81 4.81 0 0 1-.893-1.501 5.27 5.27 0 0 1-.323-1.843c0-.658.101-1.279.304-1.862a4.77 4.77 0 0 1 .893-1.52 4.37 4.37 0 0 1 1.406-1.026 4.454 4.454 0 0 1 1.862-.38c.646 0 1.248.133 1.805.399.558.266 1.001.678 1.33 1.235h.039v-1.368h2.166Zm-4.865 1.596c-.418 0-.791.076-1.12.228a2.475 2.475 0 0 0-.818.627 2.888 2.888 0 0 0-.513.912 3.707 3.707 0 0 0-.17 1.14c0 .368.056.722.17 1.064.127.342.298.653.513.931.228.266.5.482.817.646.33.165.697.247 1.102.247.418 0 .792-.076 1.121-.228.342-.164.627-.38.855-.646.241-.266.425-.57.552-.912a3.25 3.25 0 0 0 .19-1.102c0-.392-.064-.766-.19-1.121a2.746 2.746 0 0 0-.552-.931 2.423 2.423 0 0 0-.836-.627 2.646 2.646 0 0 0-1.12-.228ZM11.273 189.396H9.106v-1.368h-.038c-.316.532-.76.938-1.33 1.216a3.976 3.976 0 0 1-1.805.418c-.696 0-1.323-.126-1.88-.38a4.627 4.627 0 0 1-1.407-1.045 5 5 0 0 1-.893-1.539 5.851 5.851 0 0 1-.304-1.9c0-.671.108-1.298.323-1.881a4.59 4.59 0 0 1 .912-1.52 4.149 4.149 0 0 1 1.406-1.007 4.188 4.188 0 0 1 1.786-.38c.418 0 .792.051 1.121.152.33.089.615.203.855.342.254.139.47.291.646.456.178.165.323.323.437.475h.057v-6.403h2.28v14.364Zm-7.506-4.598c0 .355.05.71.152 1.064.114.355.279.672.494.95.216.279.488.507.817.684.33.178.716.266 1.16.266.417 0 .791-.082 1.12-.247.33-.177.608-.405.836-.684a2.73 2.73 0 0 0 .532-.931c.127-.354.19-.709.19-1.064a3.15 3.15 0 0 0-.19-1.064 2.704 2.704 0 0 0-.532-.95 2.744 2.744 0 0 0-.836-.684 2.33 2.33 0 0 0-1.12-.266c-.444 0-.83.089-1.16.266-.33.165-.601.386-.817.665a3.08 3.08 0 0 0-.494.95 3.663 3.663 0 0 0-.152 1.045ZM5.038 655.058h2.28v14.365h-2.28v-14.365ZM4.185 900.316v1.273h.057c.114-.177.26-.355.437-.532.19-.19.418-.355.684-.494.266-.152.564-.272.893-.361a4.017 4.017 0 0 1 1.14-.152c.646 0 1.242.127 1.787.38a4.149 4.149 0 0 1 1.406 1.007c.392.431.696.937.912 1.52.215.583.323 1.21.323 1.881s-.108 1.305-.323 1.9a4.54 4.54 0 0 1-.893 1.539c-.38.431-.85.779-1.406 1.045-.545.254-1.166.38-1.863.38a4.015 4.015 0 0 1-1.786-.399c-.532-.266-.943-.627-1.235-1.083H4.28v5.777H2v-13.681h2.185Zm5.32 4.522c0-.355-.056-.703-.17-1.045a2.791 2.791 0 0 0-.476-.95 2.336 2.336 0 0 0-.817-.665c-.329-.177-.715-.266-1.159-.266a2.33 2.33 0 0 0-1.12.266c-.33.177-.615.405-.856.684a3.17 3.17 0 0 0-.532.95 3.46 3.46 0 0 0-.17 1.064c0 .355.056.709.17 1.064.127.342.304.653.532.931.24.279.526.507.855.684.33.165.703.247 1.121.247.444 0 .83-.088 1.16-.266.329-.177.601-.405.816-.684.216-.278.374-.595.476-.95a3.46 3.46 0 0 0 .17-1.064ZM7.073 420.023c.596 0 1.102.108 1.52.323.431.203.78.475 1.046.817.278.342.48.735.607 1.178.127.444.19.9.19 1.368v5.701h-2.28v-5.017c0-.266-.019-.538-.057-.817a2.167 2.167 0 0 0-.247-.779 1.442 1.442 0 0 0-.513-.589c-.215-.152-.506-.228-.874-.228-.367 0-.684.07-.95.209-.266.14-.487.33-.665.57-.177.228-.31.488-.399.779a3.054 3.054 0 0 0-.133.893v4.979h-2.28v-14.365h2.28v6.517h.038c.089-.19.216-.373.38-.551.178-.19.38-.354.608-.494.228-.152.488-.272.78-.361.29-.088.607-.133.95-.133Z"})}),tE=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.75 6A2.75 2.75 0 0 1 5.5 3.25h13A2.75 2.75 0 0 1 21.25 6v12a2.75 2.75 0 0 1-2.75 2.75h-13A2.75 2.75 0 0 1 2.75 18V6Zm11.5-1.25h-4.5v14.5h4.5V4.75Zm1.5 14.5V4.75h2.75c.69 0 1.25.56 1.25 1.25v12c0 .69-.56 1.25-1.25 1.25h-2.75ZM5.5 4.75h2.75v14.5H5.5c-.69 0-1.25-.56-1.25-1.25V6c0-.69.56-1.25 1.25-1.25Z",clipRule:"evenodd"})}),tI=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.25 12a.75.75 0 0 1-.442.684l-10 4.5-.616-1.368L14.672 12l-8.48-3.816.616-1.368 10 4.5a.75.75 0 0 1 .442.684Z",clipRule:"evenodd"})}),tB=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M14.733 20.75a11.328 11.328 0 0 1-4.415-.993l-5.44-2.56a2.238 2.238 0 0 1-1.06-2.967c.251-.533.703-.944 1.256-1.144a2.21 2.21 0 0 1 1.694.081l1.016.479c-.477-1.621-1.431-4.305-2.862-5.873l-.883-.717a2.145 2.145 0 0 1 1.014-3.78 2.14 2.14 0 0 1 1.565.36A12.125 12.125 0 0 1 9.39 6.4c.26-.389.637-.684 1.077-.841a2.149 2.149 0 0 1 1.687.08c.235.11.45.26.636.442.238-.27.542-.475.883-.593a2.016 2.016 0 0 1 1.572.08c.279.126.524.318.715.558.099-.064.205-.115.318-.15a1.55 1.55 0 0 1 1.987.938l2.11 5.881a6.511 6.511 0 0 1 0 4.35 5.317 5.317 0 0 1-3.223 3.232c-.78.26-1.598.385-2.42.372Zm-8.802-6.414c-.128-.027-.32-.035-.417 0a.883.883 0 0 0-.512.461.888.888 0 0 0 .433 1.196l5.404 2.613s3.197 1.488 5.828.54a3.902 3.902 0 0 0 2.438-2.41 5.134 5.134 0 0 0 0-3.445l-2.12-5.881a.223.223 0 0 0-.202-.157.23.23 0 0 0-.222.307l.3.886a.664.664 0 0 1-.397.886.661.661 0 0 1-.883-.399l-.583-1.63a.796.796 0 0 0-.38-.416.713.713 0 0 0-.556 0 .725.725 0 0 0-.468.886l.247.93a.657.657 0 0 1-.45.797.652.652 0 0 1-.812-.407l-.583-1.612a.885.885 0 0 0-1.122-.523.884.884 0 0 0-.52 1.125l.423 1.187a.668.668 0 0 1-.397.886.66.66 0 0 1-.883-.399A10.226 10.226 0 0 0 5.77 4.921a.793.793 0 0 0-1.104.177c-.127.168-.116.326-.091.536.024.21.13.402.293.536l.883.744.061.062C8.223 9.57 9.345 14.637 9.39 14.85a.666.666 0 0 1-.239.664.67.67 0 0 1-.688.08l-1.54-.797c-.385-.21-.466-.282-.991-.46Z"})}),t$=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.926 6.578v10.898c0 .602.33.963.862.963.541 0 .862-.351.862-.963V5.726c0-.682-.451-1.153-1.093-1.153-.39 0-.742.15-1.373.622l-2.026 1.504c-.4.29-.591.561-.591.852 0 .38.3.692.672.692.22 0 .43-.08.721-.291l1.885-1.374h.08ZM4.42 4.903a.77.77 0 0 1 .77.77v5.35h6.168v-5.35a.77.77 0 1 1 1.54 0v12.242a.77.77 0 1 1-1.54 0v-5.351H5.19v5.351a.77.77 0 0 1-1.54 0V5.673a.77.77 0 0 1 .77-.77Z",clipRule:"evenodd"})}),tT=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.159 16c-.562.638-.724.905-.724 1.248 0 .553.438.886 1.134.886h6.289c.524 0 .829-.276.829-.724 0-.457-.324-.734-.83-.734H15.57v-.114l3.526-4.031c1.715-1.954 2.201-2.859 2.201-4.098 0-2.096-1.648-3.583-3.992-3.583-2.516 0-4.089 1.697-4.089 3.317 0 .514.305.867.772.867.391 0 .658-.258.791-.763.286-1.238 1.191-1.972 2.42-1.972 1.45 0 2.412.896 2.412 2.24 0 .895-.41 1.696-1.487 2.925L14.159 16ZM3.419 5.364c.404 0 .732.327.732.731v5.087h5.862V6.095a.732.732 0 1 1 1.464 0v11.637a.732.732 0 0 1-1.464 0v-5.087H4.151v5.087a.732.732 0 1 1-1.464 0V6.095c0-.404.328-.731.732-.731Z",clipRule:"evenodd"})}),tO=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.05 5.856a.75.75 0 1 0-1.5 0v11.922a.75.75 0 1 0 1.5 0v-5.211h6.006v5.21a.75.75 0 0 0 1.5 0V5.857a.75.75 0 0 0-1.5 0v5.21H4.05v-5.21Zm9.479 9.234c-.418 0-.713.304-.713.732 0 1.454 1.796 2.937 4.248 2.937 2.642 0 4.486-1.56 4.486-3.783 0-1.635-1.226-3.041-2.832-3.222v-.095c1.32-.228 2.395-1.596 2.395-3.031 0-1.977-1.692-3.393-4.068-3.393-2.338 0-3.925 1.425-3.925 2.898 0 .476.285.79.723.79.37 0 .608-.2.798-.723.38-.979 1.235-1.54 2.366-1.54 1.454 0 2.433.875 2.433 2.177s-1.007 2.242-2.395 2.242h-1.121c-.456 0-.76.295-.76.713 0 .409.323.723.76.723h1.188c1.653 0 2.765.978 2.765 2.432 0 1.455-1.083 2.386-2.784 2.386-1.293 0-2.281-.57-2.775-1.587-.247-.485-.456-.656-.79-.656Z",clipRule:"evenodd"})}),tP=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.793 15.755v1.931c0 .552.286.866.79.866.514 0 .8-.314.8-.866v-1.931h.989c.542 0 .847-.267.847-.723 0-.467-.314-.733-.847-.733h-.99V6.696c0-.885-.485-1.38-1.35-1.38-.657 0-1.095.286-1.657 1.114-2.16 3.235-3.016 4.605-4.377 7.013-.333.609-.447.942-.447 1.294 0 .628.495 1.018 1.237 1.018h5.005Zm0-1.456H14.15v-.095c1.246-2.16 2.94-4.882 4.558-7.27h.085V14.3ZM2.95 5.705a.73.73 0 0 1 .73.731v5.079h5.855V6.436a.73.73 0 1 1 1.461 0v11.62a.73.73 0 0 1-1.461 0v-5.08H3.68v5.08a.73.73 0 0 1-1.461 0V6.435a.73.73 0 0 1 .73-.73Z",clipRule:"evenodd"})}),tA=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.615 15.053c-.409 0-.678.316-.678.78 0 1.302 1.534 2.799 3.988 2.799 2.593 0 4.443-1.822 4.443-4.388 0-2.408-1.664-4.1-4.025-4.1-1.07 0-2.157.447-2.575 1.07h-.093l.353-4.137h5.01c.55 0 .856-.251.856-.698 0-.455-.316-.725-.855-.725h-5.215c-.8 0-1.2.326-1.255 1.014l-.41 5.205c-.046.716.224 1.135.754 1.135.297 0 .483-.112 1.162-.744a2.773 2.773 0 0 1 1.905-.725c1.609 0 2.752 1.152 2.752 2.789 0 1.71-1.18 2.9-2.872 2.9-1.116 0-1.971-.54-2.482-1.534-.242-.474-.447-.641-.763-.641ZM3.082 5.903c.394 0 .714.32.714.715v4.962h5.72V6.618a.714.714 0 1 1 1.427 0V17.969a.714.714 0 1 1-1.428 0v-4.961H3.796v4.962a.714.714 0 0 1-1.428 0V6.617c0-.394.32-.714.714-.714Z",clipRule:"evenodd"})}),tH=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.65 5.517c-3.098 0-4.825 2.492-4.825 6.98 0 1.932.318 3.379.962 4.405.765 1.204 2.025 1.858 3.602 1.858 2.594 0 4.349-1.745 4.349-4.312 0-2.436-1.661-4.144-4.032-4.144-1.456 0-2.79.803-3.22 1.941h-.074c.028-3.49 1.13-5.319 3.21-5.319.83 0 1.53.299 2.203.961.336.327.532.43.793.43.401 0 .69-.3.69-.7 0-.43-.373-.943-.989-1.344-.709-.486-1.67-.756-2.669-.756Zm-.196 11.843c-1.652 0-2.809-1.185-2.809-2.856 0-1.652 1.13-2.81 2.744-2.81 1.661 0 2.744 1.12 2.744 2.82 0 1.717-1.074 2.846-2.679 2.846Zm-14-11.369c.396 0 .717.321.717.717v4.981h5.742V6.708a.717.717 0 0 1 1.434 0v11.396a.717.717 0 1 1-1.434 0v-4.981H4.171v4.981a.717.717 0 0 1-1.433 0V6.708c0-.396.32-.717.717-.717Z",clipRule:"evenodd"})}),tL=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.416 4c.506 0 .916.4.916.894v6.212h7.336V4.894c0-.494.41-.894.916-.894s.916.4.916.894v14.212c0 .494-.41.894-.916.894a.905.905 0 0 1-.916-.894v-6.212H8.332v6.212c0 .494-.41.894-.916.894a.905.905 0 0 1-.916-.894V4.894C6.5 4.4 6.91 4 7.416 4Z",clipRule:"evenodd"})}),tD=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 4.924c-2.048-1.87-5.144-2.367-7.547-.32-2.557 2.178-2.927 5.843-.907 8.434.777.997 2.302 2.503 3.776 3.89a166.33 166.33 0 0 0 3.706 3.371l.013.012c.07.061.152.134.23.191.09.069.215.15.38.198.223.067.463.067.685 0 .165-.049.29-.13.381-.198.078-.057.16-.13.23-.191l.012-.012c.733-.647 2.218-1.97 3.707-3.371 1.474-1.387 2.998-2.893 3.775-3.89 2.014-2.583 1.7-6.275-.914-8.44-2.433-2.016-5.484-1.545-7.527.326Zm1.053 1.068L14.53 7.47a.75.75 0 0 1-.195 1.2l-3.069 1.536 2.264 2.264a.75.75 0 0 1-1.06 1.06l-3-3a.75.75 0 0 1 .195-1.2l3.069-1.535L11.47 6.53a.774.774 0 0 1-.04-.042c-1.593-1.857-4.134-2.335-6.004-.742-1.953 1.663-2.217 4.42-.697 6.37.695.891 2.134 2.321 3.62 3.72a164.559 164.559 0 0 0 3.645 3.314c.736-.65 2.19-1.947 3.644-3.314 1.486-1.399 2.926-2.829 3.62-3.72 1.528-1.96 1.285-4.728-.688-6.363-1.732-1.435-3.936-1.188-5.517.239Z",clipRule:"evenodd"})}),tZ=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.75 12a8.25 8.25 0 1 1 16.5 0 8.25 8.25 0 0 1-16.5 0ZM12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm.239 8.733c-.923.725-1.245 1.183-1.245 1.99 0 .437.274.765.773.765.478 0 .656-.273.827-.676.157-.575.383-.814 1.046-1.32.875-.65 1.456-1.23 1.456-2.29 0-1.524-1.251-2.46-3.049-2.46-.97 0-1.716.252-2.215.676-.41.362-.676.84-.676 1.292 0 .376.239.684.67.684.287 0 .45-.13.662-.41.329-.561.78-.814 1.436-.814.752 0 1.347.444 1.347 1.114 0 .602-.37.93-1.033 1.45Zm-.472 3.726c-.567 0-1.032.396-1.032.964 0 .567.465.964 1.032.964s1.039-.397 1.039-.964c0-.568-.472-.964-1.04-.964Z",clipRule:"evenodd"})}),tj=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.004 3.8a8.2 8.2 0 0 0-7.348 11.845c.265.533.257 1.202.196 1.755-.065.59-.215 1.224-.376 1.79-.104.363-.215.708-.319 1.01h7.847a8.2 8.2 0 0 0 0-16.4ZM2.266 20.692l.003-.007.012-.029a13.79 13.79 0 0 0 .207-.537c.132-.358.3-.846.449-1.367.15-.526.273-1.064.325-1.529.055-.502.009-.771-.039-.866A9.763 9.763 0 0 1 2.203 12c0-5.412 4.389-9.8 9.8-9.8 5.413 0 9.8 4.388 9.8 9.8 0 5.412-4.387 9.8-9.8 9.8H3.006a.8.8 0 0 1-.739-1.108ZM11.967 9.05a1.2 1.2 0 0 0-1.162.9.8.8 0 0 1-1.55-.4 2.8 2.8 0 0 1 5.512.7c0 .855-.414 1.425-.87 1.865-.186.18-.4.357-.597.521l-.087.072a9.82 9.82 0 0 0-.68.608.8.8 0 1 1-1.132-1.132c.278-.277.551-.509.789-.706l.091-.076c.204-.17.365-.303.505-.438.295-.284.381-.465.381-.714a1.2 1.2 0 0 0-1.2-1.2Zm.01 7.5h-.01a.8.8 0 0 1 0-1.6h.01a.8.8 0 1 1 0 1.6Z",clipRule:"evenodd"})}),tV=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",d:"m5.83 16.32 2.088 2.088-1.34 1.34a.2.2 0 0 1-.18.055L3.37 19.22a.2.2 0 0 1-.103-.338l2.562-2.562Z"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.01 3.516a2.86 2.86 0 0 0-3.885-.148l-7.804 6.694a2.86 2.86 0 0 0-.74 3.358l.154.336-1.058 1.058a.961.961 0 0 0 0 1.36l2.387 2.386a.96.96 0 0 0 1.359 0l1.058-1.058.336.154a2.86 2.86 0 0 0 3.358-.74l6.694-7.804a2.86 2.86 0 0 0-.148-3.884l-1.712-1.712Zm-2.908.99a1.36 1.36 0 0 1 1.847.07l1.711 1.712a1.36 1.36 0 0 1 .07 1.847l-5.088 5.932-4.471-4.472 5.931-5.089ZM9.03 10.574l-.731.627a1.36 1.36 0 0 0-.352 1.596l.352.77c.137.3.082.666-.164.912l-1.015 1.015 1.624 1.624 1.015-1.015a.812.812 0 0 1 .911-.164l.77.352a1.36 1.36 0 0 0 1.597-.352l.627-.73-4.634-4.635Z",clipRule:"evenodd"})]}),tR=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.336 5.522a.917.917 0 0 0-1.297 0l-1.062 1.062 1.296 1.296 1.063-1.062a.917.917 0 0 0 0-1.296Zm1.06 2.357A2.417 2.417 0 1 0 15.98 4.46l-1.592 1.592-8.115 8.115-.056.056c-.646.646-1.044 1.044-1.356 1.506a5.75 5.75 0 0 0-.66 1.32c-.183.527-.263 1.084-.392 1.989l-.05.355a.75.75 0 0 0 .89.841l.477-.096c.813-.164 1.314-.265 1.786-.45a5.75 5.75 0 0 0 1.186-.636c.416-.291.777-.652 1.364-1.239l9.935-9.935ZM16.213 8.94l-1.297-1.296-7.583 7.583c-.72.72-1.008 1.012-1.228 1.34a4.25 4.25 0 0 0-.488.976c-.09.258-.147.531-.221 1.009.467-.099.724-.165.966-.26.31-.122.604-.28.876-.47.295-.206.56-.467 1.213-1.12l7.762-7.762ZM12.083 19.5a.75.75 0 0 1 .75-.75H19.5a.75.75 0 0 1 0 1.5h-6.667a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),tz=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.168 6.595h-.001l-1.217 1.1H7.5a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75V5a.75.75 0 0 1 1.5 0v1.757l1.416-1.279a8.75 8.75 0 1 1-2.7 8.466.75.75 0 1 1 1.464-.332 7.25 7.25 0 1 0 2.238-7.017Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 6.75a.75.75 0 0 1 .75.75v4.19l2.78 2.78a.75.75 0 1 1-1.06 1.06l-2.971-2.97a.85.85 0 0 1-.249-.601V7.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})]}),tF=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 3.25A2.75 2.75 0 0 0 3.25 6v12A2.75 2.75 0 0 0 6 20.75h12A2.75 2.75 0 0 0 20.75 18V6A2.75 2.75 0 0 0 18 3.25H6ZM4.75 18v-1.69l4.366-4.365a1.25 1.25 0 0 1 1.768 0l2.586 2.585 2 2a.75.75 0 1 0 1.06-1.06L15.06 14l1.056-1.056a1.25 1.25 0 0 1 1.768 0l1.366 1.367V18c0 .69-.56 1.25-1.25 1.25H6c-.69 0-1.25-.56-1.25-1.25Zm7.194-7.116L14 12.939l1.056-1.055a2.75 2.75 0 0 1 3.889 0l.305.305V6c0-.69-.56-1.25-1.25-1.25H6c-.69 0-1.25.56-1.25 1.25v8.19l3.305-3.306a2.75 2.75 0 0 1 3.89 0ZM14 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"})}),tN=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3.25a.75.75 0 0 1 .75.75v10.19l2.72-2.72a.75.75 0 1 1 1.06 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V4a.75.75 0 0 1 .75-.75Zm-8 12a.75.75 0 0 1 .75.75v1A2.25 2.25 0 0 0 7 19.25h10A2.25 2.25 0 0 0 19.25 17v-1a.75.75 0 0 1 1.5 0v1A3.75 3.75 0 0 1 17 20.75H7A3.75 3.75 0 0 1 3.25 17v-1a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),tq=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.25 3a.75.75 0 0 0-1.5 0v3a.75.75 0 0 0 1.5 0V3Zm0 10a.75.75 0 0 0-1.5 0v3a.75.75 0 0 0 1.5 0v-3Zm-3.5-3.5a.75.75 0 0 1-.75.75H3a.75.75 0 0 1 0-1.5h3a.75.75 0 0 1 .75.75Zm9.25.75a.75.75 0 0 0 0-1.5h-3a.75.75 0 0 0 0 1.5h3ZM7.555 7.555a.75.75 0 0 1-1.06 0l-2.122-2.12a.75.75 0 1 1 1.061-1.061l2.121 2.12a.75.75 0 0 1 0 1.061ZM18.97 20.03a.75.75 0 1 0 1.06-1.06l-7.525-7.525a.75.75 0 0 0-1.06 1.06l7.525 7.525ZM7.555 11.444a.75.75 0 0 1 0 1.061l-2.12 2.121a.75.75 0 1 1-1.061-1.06l2.12-2.122a.75.75 0 0 1 1.061 0Zm7.072-6.01a.75.75 0 0 0-1.061-1.06l-2.122 2.12a.75.75 0 1 0 1.061 1.061l2.121-2.12Z",clipRule:"evenodd"})}),tU=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 3.25A2.75 2.75 0 0 0 3.25 6v12A2.75 2.75 0 0 0 6 20.75h12A2.75 2.75 0 0 0 20.75 18V6A2.75 2.75 0 0 0 18 3.25H6Zm13.25 9V6c0-.69-.56-1.25-1.25-1.25H6c-.69 0-1.25.56-1.25 1.25v6.25h1.836c.464 0 .909.184 1.237.513l2.414 2.414a.25.25 0 0 0 .177.073h3.172a.25.25 0 0 0 .177-.073l2.414-2.414a1.75 1.75 0 0 1 1.237-.513h1.836Zm-14.5 1.5h1.836a.25.25 0 0 1 .177.073l2.414 2.414a1.75 1.75 0 0 0 1.237.513h3.172c.464 0 .909-.184 1.237-.513l2.414-2.414a.25.25 0 0 1 .177-.073h1.836V18c0 .69-.56 1.25-1.25 1.25H6c-.69 0-1.25-.56-1.25-1.25v-4.25Z",clipRule:"evenodd"})}),tW=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.75 6a.75.75 0 0 1-.75.75h-9.354a2.751 2.751 0 0 1-5.292 0H4a.75.75 0 0 1 0-1.5h1.354a2.751 2.751 0 0 1 5.292 0H20a.75.75 0 0 1 .75.75Zm0 6a.75.75 0 0 1-.75.75h-1.354a2.751 2.751 0 0 1-5.293 0H4a.75.75 0 0 1 0-1.5h9.354a2.751 2.751 0 0 1 5.293 0H20a.75.75 0 0 1 .75.75Zm0 6a.75.75 0 0 1-.75.75h-9.354a2.751 2.751 0 0 1-5.292 0H4a.75.75 0 0 1 0-1.5h1.354a2.751 2.751 0 0 1 5.292 0H20a.75.75 0 0 1 .75.75Zm-3.5-6a1.25 1.25 0 1 0-2.5 0 1.25 1.25 0 0 0 2.5 0Zm-8-6a1.25 1.25 0 1 0-2.5 0 1.25 1.25 0 0 0 2.5 0Zm0 12a1.25 1.25 0 1 0-2.5 0 1.25 1.25 0 0 0 2.5 0Z",clipRule:"evenodd"})}),tG=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.75 12a8.25 8.25 0 1 1 16.5 0 8.25 8.25 0 0 1-16.5 0ZM12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM13 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-1 2.75a.75.75 0 0 1 .75.75v5a.75.75 0 0 1-1.5 0v-5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),tY=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Zm1-13a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-1 2.75a.75.75 0 0 1 .75.75v5a.75.75 0 0 1-1.5 0v-5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),tK=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.25 6.5A.75.75 0 0 1 5 5.75h14a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75Zm0 3.5A.75.75 0 0 1 5 9.25h14a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75ZM13 12.75a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5h-6ZM12.25 17a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5h-6a.75.75 0 0 1-.75-.75Zm-6-4a.75.75 0 0 0-1.5 0v3c0 .414.336.75.75.75h2.75v.75a.75.75 0 0 0 1.28.53l1.5-1.5a.75.75 0 0 0 0-1.06l-1.5-1.5a.75.75 0 0 0-1.28.53v.75h-2V13Z",clipRule:"evenodd"})}),tX=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.333 4A2.833 2.833 0 0 0 3.5 6.833v2.06a2.833 2.833 0 0 0 2.833 2.834h2.06a2.833 2.833 0 0 0 2.834-2.833v-2.06A2.833 2.833 0 0 0 8.394 4h-2.06ZM5.045 6.833c0-.71.577-1.288 1.288-1.288h2.06c.712 0 1.289.577 1.289 1.288v2.06c0 .712-.577 1.289-1.288 1.289h-2.06a1.288 1.288 0 0 1-1.289-1.288v-2.06Zm1.288 6.44A2.833 2.833 0 0 0 3.5 16.106v2.06A2.833 2.833 0 0 0 6.333 21h2.06a2.833 2.833 0 0 0 2.834-2.833v-2.06a2.833 2.833 0 0 0-2.833-2.834h-2.06Zm-1.288 2.833c0-.711.577-1.288 1.288-1.288h2.06c.712 0 1.289.577 1.289 1.288v2.06c0 .712-.577 1.288-1.288 1.288h-2.06a1.288 1.288 0 0 1-1.289-1.287v-2.06Zm7.728-9.273A2.833 2.833 0 0 1 15.606 4h2.06A2.833 2.833 0 0 1 20.5 6.833v2.06a2.833 2.833 0 0 1-2.833 2.834h-2.06a2.833 2.833 0 0 1-2.834-2.833v-2.06Zm2.833-1.288c-.711 0-1.288.577-1.288 1.288v2.06c0 .712.577 1.289 1.288 1.289h2.06c.712 0 1.288-.577 1.288-1.288v-2.06c0-.712-.576-1.289-1.287-1.289h-2.06Zm1.803 8.5a.773.773 0 1 0-1.545 0v2.319h-2.319a.773.773 0 0 0 0 1.545h2.319v2.318a.773.773 0 0 0 1.545 0V17.91h2.318a.773.773 0 0 0 0-1.545H17.41v-2.319Z",clipRule:"evenodd"})}),tQ=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14 3.75a1.75 1.75 0 0 0-1.75 1.75v13c0 .966.784 1.75 1.75 1.75h4a1.75 1.75 0 0 0 1.75-1.75v-13A1.75 1.75 0 0 0 18 3.75h-4Zm-.25 1.75a.25.25 0 0 1 .25-.25h4a.25.25 0 0 1 .25.25v13a.25.25 0 0 1-.25.25h-4a.25.25 0 0 1-.25-.25v-13Zm-5.5 4a.75.75 0 0 0-1.5 0v1.75H5a.75.75 0 0 0 0 1.5h1.75v1.75a.75.75 0 0 0 1.5 0v-1.75H10a.75.75 0 0 0 0-1.5H8.25V9.5Z",clipRule:"evenodd"})}),tJ=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 3.75A1.75 1.75 0 0 0 4.25 5.5v13c0 .966.784 1.75 1.75 1.75h4a1.75 1.75 0 0 0 1.75-1.75v-13A1.75 1.75 0 0 0 10 3.75H6ZM5.75 5.5A.25.25 0 0 1 6 5.25h4a.25.25 0 0 1 .25.25v13a.25.25 0 0 1-.25.25H6a.25.25 0 0 1-.25-.25v-13Zm11.5 4a.75.75 0 0 0-1.5 0v1.75H14a.75.75 0 0 0 0 1.5h1.75v1.75a.75.75 0 0 0 1.5 0v-1.75H19a.75.75 0 0 0 0-1.5h-1.75V9.5Z",clipRule:"evenodd"})}),t1=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.25 11a.75.75 0 0 1-1.5 0V8a.75.75 0 0 1 .75-.75h2.75V6.5a.75.75 0 0 1 1.28-.53l1.5 1.5a.75.75 0 0 1 0 1.06l-1.5 1.5a.75.75 0 0 1-1.28-.53v-.75h-2V11Zm6-4a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5h-6a.75.75 0 0 1-.75-.75Zm0 3.5a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5h-6a.75.75 0 0 1-.75-.75ZM5 13.25a.75.75 0 0 0 0 1.5h14a.75.75 0 0 0 0-1.5H5Zm-.75 4.25a.75.75 0 0 1 .75-.75h14a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),t0=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"url(#a)",d:"M16.648 3.25H7.352A4.102 4.102 0 0 0 3.25 7.352v9.296a4.102 4.102 0 0 0 4.102 4.102h9.296a4.102 4.102 0 0 0 4.102-4.102V7.352a4.102 4.102 0 0 0-4.102-4.102Z"}),(0,s.jsx)("path",{fill:"url(#b)",d:"M16.648 3.25H7.352A4.102 4.102 0 0 0 3.25 7.352v9.296a4.102 4.102 0 0 0 4.102 4.102h9.296a4.102 4.102 0 0 0 4.102-4.102V7.352a4.102 4.102 0 0 0-4.102-4.102Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M11.837 5c-1.857 0-2.09.008-2.82.041-.727.034-1.224.149-1.658.318-.45.174-.831.408-1.211.788-.38.38-.614.762-.79 1.211-.169.435-.284.932-.317 1.66C5.01 9.745 5 9.978 5 11.835c0 1.857.008 2.089.041 2.818.034.728.149 1.225.318 1.66.175.449.408.83.788 1.21.38.38.762.614 1.21.79.436.168.933.283 1.66.317.73.033.962.041 2.819.041 1.856 0 2.089-.008 2.818-.041.728-.034 1.225-.149 1.66-.318.45-.174.83-.409 1.21-.789.38-.38.614-.761.789-1.21.168-.435.283-.932.318-1.66.032-.729.04-.961.04-2.818 0-1.857-.008-2.09-.04-2.819-.035-.727-.15-1.224-.318-1.659a3.355 3.355 0 0 0-.789-1.21 3.34 3.34 0 0 0-1.21-.789c-.436-.17-.933-.284-1.661-.318-.73-.033-.961-.041-2.819-.041h.003Zm-.614 1.232h.614c1.825 0 2.041.006 2.762.04.666.03 1.028.141 1.27.235.318.124.546.272.785.511.239.24.387.467.511.786.094.24.205.602.236 1.269.032.72.04.937.04 2.761 0 1.825-.008 2.041-.04 2.762-.03.666-.142 1.028-.236 1.269-.124.319-.272.546-.511.785-.24.24-.467.388-.786.511-.24.094-.603.205-1.27.236-.72.033-.936.04-2.761.04-1.826 0-2.042-.007-2.763-.04-.666-.03-1.028-.142-1.27-.236a2.118 2.118 0 0 1-.785-.511 2.118 2.118 0 0 1-.512-.786c-.093-.24-.205-.602-.235-1.269-.033-.72-.04-.937-.04-2.762 0-1.826.007-2.041.04-2.762.03-.666.142-1.028.235-1.269.124-.319.272-.547.512-.786.239-.24.467-.387.786-.512.24-.094.603-.205 1.27-.235.63-.029.874-.037 2.148-.039v.002Zm4.263 1.135a.82.82 0 1 0 0 1.64.82.82 0 0 0 0-1.64Zm-3.65.958a3.51 3.51 0 1 0 .001 7.022 3.51 3.51 0 0 0 0-7.022Zm0 1.232a2.279 2.279 0 1 1 0 4.557 2.279 2.279 0 0 1 0-4.557Z"}),(0,s.jsxs)("defs",{children:[(0,s.jsxs)("radialGradient",{id:"a",cx:0,cy:0,r:1,gradientTransform:"matrix(0 -17.3438 16.1311 0 7.898 22.098)",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#FD5"}),(0,s.jsx)("stop",{offset:.1,stopColor:"#FD5"}),(0,s.jsx)("stop",{offset:.5,stopColor:"#FF543E"}),(0,s.jsx)("stop",{offset:1,stopColor:"#C837AB"})]}),(0,s.jsxs)("radialGradient",{id:"b",cx:0,cy:0,r:1,gradientTransform:"rotate(78.681 -2.592 2.45) scale(7.75277 31.9572)",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#3771C8"}),(0,s.jsx)("stop",{offset:.128,stopColor:"#3771C8"}),(0,s.jsx)("stop",{offset:1,stopColor:"#60F",stopOpacity:0})]})]})]}),t2=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11 4.75a4.25 4.25 0 0 0-4.147 5.183.75.75 0 0 1-.568.896 3.252 3.252 0 0 0-1.435 5.609.75.75 0 1 1-.992 1.124 4.751 4.751 0 0 1 1.42-7.99A5.75 5.75 0 0 1 16.485 7.27a5.75 5.75 0 0 1 2.966 10.33.75.75 0 1 1-.901-1.2 4.25 4.25 0 0 0-2.635-7.65.75.75 0 0 1-.75-.6A4.252 4.252 0 0 0 11 4.75Zm-1.29 8.311a2.978 2.978 0 0 1 5.161 1.17.75.75 0 1 0 1.453-.373 4.478 4.478 0 0 0-8.036-1.4l-.57-.242a.3.3 0 0 0-.411.338l.474 2.283a.3.3 0 0 0 .454.192l1.971-1.246a.3.3 0 0 0-.043-.53l-.452-.192Zm2.063 5.327a2.97 2.97 0 0 0 2.278-1.062l-.453-.191a.3.3 0 0 1-.043-.53l1.971-1.247a.3.3 0 0 1 .454.193l.475 2.283a.3.3 0 0 1-.41.337l-.571-.241a4.472 4.472 0 0 1-3.701 1.958 4.473 4.473 0 0 1-4.336-3.358.75.75 0 1 1 1.453-.374 2.973 2.973 0 0 0 2.883 2.232Z",clipRule:"evenodd"})}),t5=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.6 7.55a.75.75 0 1 0-1.2.9 10.805 10.805 0 0 0 2.939 2.69l-1.963 2.944a.75.75 0 0 0 1.248.832l2-3a.755.755 0 0 0 .044-.075c1.108.489 2.315.796 3.582.883V17.5a.75.75 0 1 0 1.5 0v-4.776a10.69 10.69 0 0 0 3.582-.883c.013.026.028.05.044.075l2 3a.75.75 0 0 0 1.248-.832l-1.962-2.944A10.807 10.807 0 0 0 20.6 8.45a.75.75 0 0 0-1.2-.9 9.235 9.235 0 0 1-7.4 3.7 9.235 9.235 0 0 1-7.402-3.7Z",clipRule:"evenodd"})}),t7=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3.75a8.25 8.25 0 1 0 0 16.5 8.25 8.25 0 0 0 0-16.5ZM2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",d:"M14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"})]}),t3=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.607 3.25H10.25a.75.75 0 0 0 0 1.5h3.34l-4.758 14.5H5a.75.75 0 1 0 0 1.5h8.75a.75.75 0 0 0 0-1.5h-3.34l4.758-14.5H19a.75.75 0 0 0 0-1.5H14.608Z",clipRule:"evenodd"})}),t4=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.25 4.5H18a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V5a.5.5 0 0 1 .5-.5h4.25V11a.75.75 0 0 0 1.166.624l1.834-1.223 1.834 1.223A.75.75 0 0 0 16.25 11V4.5ZM4 5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V5Zm7.75 4.599V4.75h3v4.849l-1.084-.723a.75.75 0 0 0-.832 0l-1.084.723Z",clipRule:"evenodd"})}),t6=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.997 8.92a1 1 0 1 0-1.993.16 1 1 0 0 0 1.993-.16Zm8.508 3.16a1 1 0 1 0 1.993-.16 1 1 0 0 0-1.993.16Zm-1.001-.16a1 1 0 1 0-1.993.16 1 1 0 0 0 1.993-.16ZM7.999 9.08a1 1 0 1 0 1.993-.16 1 1 0 0 0-1.993.16ZM2.25 7A2.75 2.75 0 0 1 5 4.25h14A2.75 2.75 0 0 1 21.75 7v10A2.75 2.75 0 0 1 19 19.75H5A2.75 2.75 0 0 1 2.25 17V7ZM5 5.75c-.69 0-1.25.56-1.25 1.25v10c0 .69.56 1.25 1.25 1.25h14c.69 0 1.25-.56 1.25-1.25V7c0-.69-.56-1.25-1.25-1.25H5Zm1 9.5a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H6.75a.75.75 0 0 1-.75-.75Zm5.213-3.958A1 1 0 1 0 9.8 12.708a1 1 0 0 0 1.414-1.416Zm-3 0a1 1 0 1 0-1.415 1.415 1 1 0 0 0 1.415-1.415Zm4.49-3a1 1 0 1 0-1.414 1.416 1 1 0 0 0 1.415-1.415Zm3.001 0a1 1 0 1 0-1.414 1.415 1 1 0 0 0 1.414-1.414Zm3.001 0a1 1 0 1 0-1.415 1.416 1 1 0 0 0 1.415-1.415Z",clipRule:"evenodd"})}),t8=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9 2.25a.75.75 0 0 1 .75.75v1.25H15a.75.75 0 1 1 0 1.5h-1.625a18.668 18.668 0 0 1-3.511 7.68c.341.356.704.684 1.086.97a.75.75 0 1 1-.9 1.2c-.405-.304-.79-.645-1.153-1.012A18.813 18.813 0 0 1 3.334 18.8a.75.75 0 0 1-.668-1.344 17.313 17.313 0 0 0 5.238-4.01c-1.05-1.36-1.819-2.9-2.212-4.235a.75.75 0 0 1 1.44-.424c.318 1.085.93 2.332 1.747 3.458A17.168 17.168 0 0 0 11.84 5.75H3.5a.75.75 0 0 1 0-1.5h4.75V3A.75.75 0 0 1 9 2.25Zm7 8a.75.75 0 0 1 .67.415l3.494 6.986a.73.73 0 0 1 .014.028l1.493 2.986a.75.75 0 0 1-1.342.67l-1.293-2.585h-6.072l-1.293 2.585a.75.75 0 0 1-1.342-.67l1.493-2.986a.609.609 0 0 1 .014-.028l3.493-6.986A.75.75 0 0 1 16 10.25Zm-2.286 7h4.572L16 12.677l-2.286 4.573Z",clipRule:"evenodd"})}),t9=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.754 3.802a.75.75 0 0 1 .631-.01l7.92 3.523a.75.75 0 0 1 .021 1.36l-8.08 3.904a.75.75 0 0 1-.631.01l-7.92-3.522a.75.75 0 0 1-.021-1.36l8.08-3.905Zm.34 1.502-6.312 3.05 6.124 2.723 6.312-3.049-6.124-2.724Zm8.581 6.56a.75.75 0 0 1-.349 1.002l-8.08 3.904a.75.75 0 0 1-.631.01l-7.92-3.523a.75.75 0 0 1 .61-1.37l7.601 3.38 7.768-3.752a.75.75 0 0 1 1.001.35Zm0 4.31a.75.75 0 0 1-.349 1.001l-8.08 3.904a.75.75 0 0 1-.631.01l-7.92-3.522a.75.75 0 0 1 .61-1.371l7.601 3.381 7.768-3.752a.75.75 0 0 1 1.001.349Z",clipRule:"evenodd"})}),ie=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 5.74a2.49 2.49 0 0 1 2.49-2.49h3.52a2.49 2.49 0 0 1 2.49 2.49v12.52a2.49 2.49 0 0 1-2.49 2.49H5.74a2.49 2.49 0 0 1-2.49-2.49V5.74Zm2.49-.99a.99.99 0 0 0-.99.99v12.52c0 .547.443.99.99.99h3.52a.99.99 0 0 0 .99-.99V5.74a.99.99 0 0 0-.99-.99H5.74Zm7.51.99a2.49 2.49 0 0 1 2.49-2.49h2.52a2.49 2.49 0 0 1 2.49 2.49v3.52a2.49 2.49 0 0 1-2.49 2.49h-2.52a2.49 2.49 0 0 1-2.49-2.49V5.74Zm2.49-.99a.99.99 0 0 0-.99.99v3.52c0 .547.443.99.99.99h2.52a.99.99 0 0 0 .99-.99V5.74a.99.99 0 0 0-.99-.99h-2.52Zm0 8.5a2.49 2.49 0 0 0-2.49 2.49v2.52a2.49 2.49 0 0 0 2.49 2.49h2.52a2.49 2.49 0 0 0 2.49-2.49v-2.52a2.49 2.49 0 0 0-2.49-2.49h-2.52Zm-.99 2.49a.99.99 0 0 1 .99-.99h2.52a.99.99 0 0 1 .99.99v2.52a.99.99 0 0 1-.99.99h-2.52a.99.99 0 0 1-.99-.99v-2.52Z",clipRule:"evenodd"})}),it=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.371 17.75H17a.75.75 0 0 0 0-1.5H9.4c-.432 0-.712 0-.924-.018-.204-.017-.28-.045-.316-.064a.75.75 0 0 1-.328-.327c-.02-.038-.047-.113-.064-.317a12.747 12.747 0 0 1-.018-.924V7a.75.75 0 1 0-1.5 0v7.629c0 .395 0 .736.023 1.017.024.297.078.592.222.875.216.424.56.768.984.984.283.144.578.198.875.222.28.023.622.023 1.017.023Z",clipRule:"evenodd"})}),ii=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.75 2.698a.75.75 0 0 0-1.5 0V3.73a.75.75 0 1 0 1.5 0V2.698ZM5.812 4.75a.75.75 0 0 0-1.06 1.061l.84.842a.75.75 0 0 0 1.061-1.061l-.841-.842Zm13.437 1.061a.75.75 0 1 0-1.061-1.06l-.841.84a.75.75 0 1 0 1.06 1.062l.842-.842ZM2.698 11.25a.75.75 0 0 0 0 1.5H3.73a.75.75 0 0 0 0-1.5H2.698Zm17.57 0a.75.75 0 0 0 0 1.5h1.034a.75.75 0 0 0 0-1.5H20.27ZM6.653 18.413a.75.75 0 0 0-1.058-1.063l-.841.837A.75.75 0 0 0 5.81 19.25l.841-.837Zm11.754-1.063a.75.75 0 0 0-1.058 1.063l.841.837a.75.75 0 1 0 1.058-1.063l-.841-.837Zm-5.656 2.919a.75.75 0 0 0-1.5 0v1.033a.75.75 0 1 0 1.5 0V20.27ZM16.081 12a4.081 4.081 0 1 1-8.162 0 4.081 4.081 0 0 1 8.162 0Zm1.5 0A5.581 5.581 0 1 1 6.42 12a5.581 5.581 0 0 1 11.162 0Z",clipRule:"evenodd"})}),is=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.65 5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 0 1.5h-3A.75.75 0 0 1 3.65 5Zm6.1 0a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 0 1.5h-3A.75.75 0 0 1 9.75 5Zm7.05-.75a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3ZM3.245 12c0-.47.38-.85.85-.85h15.79a.85.85 0 0 1 0 1.7H4.094a.85.85 0 0 1-.85-.85ZM4.5 17.75a1.25 1.25 0 1 0 0 2.5h15a1.25 1.25 0 0 0 0-2.5h-15Z",clipRule:"evenodd"})}),io=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsxs)("g",{clipPath:"url(#a)",children:[(0,s.jsx)("path",{fill:"url(#b)",d:"M24 12c0-6.627-5.373-12-12-12S0 5.373 0 12s5.373 12 12 12 12-5.373 12-12Z"}),(0,s.jsxs)("g",{filter:"url(#c)",children:[(0,s.jsx)("path",{fill:"url(#d)",d:"M6.147 13.383c-.027-.114.109-.186.192-.103l4.381 4.381c.083.083.011.219-.103.192a6.015 6.015 0 0 1-4.47-4.47Z"}),(0,s.jsx)("path",{fill:"url(#e)",d:"M6 11.627a.119.119 0 0 0 .035.091l6.247 6.247a.119.119 0 0 0 .091.035c.285-.018.564-.055.836-.111a.117.117 0 0 0 .057-.198L6.31 10.734a.117.117 0 0 0-.198.057 6.01 6.01 0 0 0-.11.836Z"}),(0,s.jsx)("path",{fill:"url(#f)",d:"M6.505 9.565a.119.119 0 0 0 .025.132l7.773 7.773a.118.118 0 0 0 .132.025c.215-.096.422-.203.623-.322a.118.118 0 0 0 .022-.185L7.012 8.92a.118.118 0 0 0-.185.022c-.119.2-.226.408-.322.623Z"}),(0,s.jsx)("path",{fill:"url(#g)",d:"M7.519 8.169a.118.118 0 0 1-.005-.163 6.006 6.006 0 1 1 8.48 8.48.118.118 0 0 1-.163-.005L7.52 8.169Z"})]})]}),(0,s.jsxs)("defs",{children:[(0,s.jsxs)("filter",{id:"c",width:154.574,height:154.574,x:-65.287,y:-54.148,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,s.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,s.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,s.jsx)("feOffset",{dy:11.139}),(0,s.jsx)("feGaussianBlur",{stdDeviation:35.644}),(0,s.jsx)("feColorMatrix",{values:"0 0 0 0 0.118924 0 0 0 0 0.158031 0 0 0 0 0.570833 0 0 0 0.7 0"}),(0,s.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_13632_16479"}),(0,s.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,s.jsx)("feOffset",{dy:3.899}),(0,s.jsx)("feGaussianBlur",{stdDeviation:15}),(0,s.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.17 0"}),(0,s.jsx)("feBlend",{in2:"effect1_dropShadow_13632_16479",result:"effect2_dropShadow_13632_16479"}),(0,s.jsx)("feBlend",{in:"SourceGraphic",in2:"effect2_dropShadow_13632_16479",result:"shape"})]}),(0,s.jsxs)("linearGradient",{id:"b",x1:12,x2:12,y1:0,y2:24,gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#5C6BF1"}),(0,s.jsx)("stop",{offset:1,stopColor:"#283188"})]}),(0,s.jsxs)("linearGradient",{id:"d",x1:6.429,x2:12.686,y1:7.114,y2:16.286,gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#fff"}),(0,s.jsx)("stop",{offset:1,stopColor:"#fff",stopOpacity:.65})]}),(0,s.jsxs)("linearGradient",{id:"e",x1:6.429,x2:12.686,y1:7.114,y2:16.286,gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#fff"}),(0,s.jsx)("stop",{offset:1,stopColor:"#fff",stopOpacity:.65})]}),(0,s.jsxs)("linearGradient",{id:"f",x1:6.429,x2:12.686,y1:7.114,y2:16.286,gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#fff"}),(0,s.jsx)("stop",{offset:1,stopColor:"#fff",stopOpacity:.65})]}),(0,s.jsxs)("linearGradient",{id:"g",x1:6.429,x2:12.686,y1:7.114,y2:16.286,gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#fff"}),(0,s.jsx)("stop",{offset:1,stopColor:"#fff",stopOpacity:.65})]}),(0,s.jsx)("clipPath",{id:"a",children:(0,s.jsx)("path",{fill:"currentColor",d:"M0 0H24V24H0z"})})]})]}),ir=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.428 5.572a2.806 2.806 0 0 0-3.967 0l-.978.977a.75.75 0 0 1-1.06-1.06l.977-.978a4.305 4.305 0 1 1 6.089 6.089l-3.556 3.556a4.306 4.306 0 0 1-6.089 0 .75.75 0 0 1 1.061-1.061 2.805 2.805 0 0 0 3.968 0l3.555-3.556a2.806 2.806 0 0 0 0-3.967Zm-5.333 5.333a2.805 2.805 0 0 0-3.968 0l-3.555 3.556a2.806 2.806 0 0 0 3.967 3.967l.98-.979a.75.75 0 0 1 1.06 1.06l-.979.98A4.305 4.305 0 1 1 4.511 13.4l3.556-3.556a4.306 4.306 0 0 1 6.089 0 .75.75 0 0 1-1.061 1.061Z",clipRule:"evenodd"})}),ia=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.5 4.75a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5ZM3.25 6.5a3.25 3.25 0 0 1 6.49-.25c.794.001 1.56.016 2.357.208.897.217 1.79.645 2.853 1.442l.02.015.02.017c.864.745 1.475 1.75 1.841 2.826a.75.75 0 0 1-1.42.484c-.294-.865-.766-1.62-1.382-2.158-.928-.692-1.633-1.01-2.284-1.167-.675-.163-1.334-.167-2.244-.167A3.257 3.257 0 0 1 7.25 9.663v3.674a3.251 3.251 0 1 1-1.5 0V9.663A3.251 3.251 0 0 1 3.25 6.5Zm3.25 8.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5Zm8-1.5a.75.75 0 0 0 0 1.5h2.69l-3.72 3.72a.75.75 0 1 0 1.06 1.06l3.72-3.72v2.69a.75.75 0 0 0 1.5 0V14a.75.75 0 0 0-.75-.75h-4.5Z",clipRule:"evenodd"})}),il=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.25 6A2.75 2.75 0 0 1 7 3.25h10A2.75 2.75 0 0 1 19.75 6v6a.75.75 0 0 1-1.5 0V6c0-.69-.56-1.25-1.25-1.25H7c-.69 0-1.25.56-1.25 1.25v12c0 .69.56 1.25 1.25 1.25h5a.75.75 0 0 1 0 1.5H7A2.75 2.75 0 0 1 4.25 18V6Zm4 2A.75.75 0 0 1 9 7.25h3a.75.75 0 0 1 0 1.5H9A.75.75 0 0 1 8.25 8ZM9 10.75a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5H9ZM8.25 15a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Zm7.25-.75a.75.75 0 0 0 0 1.5h2.69l-3.72 3.72a.75.75 0 1 0 1.06 1.06l3.72-3.72v2.69a.75.75 0 0 0 1.5 0V15a.75.75 0 0 0-.75-.75h-4.5Z",clipRule:"evenodd"})}),ic=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.75 6.5c0-.69.56-1.25 1.25-1.25h4.672c.331 0 .649.132.883.366L11.97 7.03c.14.141.331.22.53.22H19c.69 0 1.25.56 1.25 1.25V17c0 .69-.56 1.25-1.25 1.25H5c-.69 0-1.25-.56-1.25-1.25V6.5ZM5 3.75A2.75 2.75 0 0 0 2.25 6.5V17A2.75 2.75 0 0 0 5 19.75h14A2.75 2.75 0 0 0 21.75 17V8.5A2.75 2.75 0 0 0 19 5.75h-6.19l-1.194-1.195a2.75 2.75 0 0 0-1.944-.805H5Zm10.48 10.026-3 2.5a.75.75 0 0 1-.96 0l-3-2.5a.75.75 0 1 1 .96-1.152l1.77 1.475v-4.4a.75.75 0 0 1 1.5 0v4.4l1.77-1.475a.75.75 0 1 1 .96 1.152Z",clipRule:"evenodd"})}),id=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.75 5.389A2.639 2.639 0 0 1 5.389 2.75H18.61a2.639 2.639 0 0 1 2.639 2.639v9.444a2.639 2.639 0 0 1-2.639 2.64h-3.525l.425 1.7.797.797a.75.75 0 0 1-.53 1.28H8.222a.75.75 0 0 1-.53-1.28l.797-.798.425-1.7H5.39a2.639 2.639 0 0 1-2.639-2.639V5.39Zm1.5 8.305v1.14c0 .628.51 1.138 1.139 1.138H18.612c.628 0 1.138-.51 1.138-1.139v-1.139H4.25Zm15.5-1.5H4.25V5.39c0-.63.51-1.139 1.139-1.139H18.61c.63 0 1.139.51 1.139 1.139v6.805Zm-6.21 5.278h-3.08l-.566 2.265a1.064 1.064 0 0 1-.003.013h4.218a2.183 2.183 0 0 0-.003-.012l-.567-2.266Z",clipRule:"evenodd"})}),ih=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v1.286a7.752 7.752 0 0 1 6.964 6.964H21a.75.75 0 0 1 0 1.5h-1.286a7.752 7.752 0 0 1-6.964 6.964V21a.75.75 0 0 1-1.5 0v-1.286a7.752 7.752 0 0 1-6.964-6.964H3a.75.75 0 0 1 0-1.5h1.286a7.752 7.752 0 0 1 6.964-6.964V3a.75.75 0 0 1 .75-.75Zm-.75 3.545a6.253 6.253 0 0 0-5.455 5.455H7a.75.75 0 0 1 0 1.5H5.795a6.253 6.253 0 0 0 5.455 5.456V17a.75.75 0 0 1 1.5 0v1.206a6.253 6.253 0 0 0 5.456-5.456H17a.75.75 0 0 1 0-1.5h1.206a6.253 6.253 0 0 0-5.456-5.455V7a.75.75 0 0 1-1.5 0V5.795Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",d:"M14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"})]}),iu=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.25 8a5.75 5.75 0 1 1 11.5 0v1.356c.34.058.655.151.953.303a3.75 3.75 0 0 1 1.638 1.638c.227.445.321.925.366 1.471.043.531.043 1.187.043 2v1.464c0 .813 0 1.469-.043 2-.045.546-.14 1.026-.366 1.47a3.75 3.75 0 0 1-1.639 1.64c-.444.226-.924.32-1.47.365-.531.043-1.187.043-2 .043H8.768c-.813 0-1.469 0-2-.043-.546-.045-1.026-.14-1.47-.366a3.75 3.75 0 0 1-1.64-1.639c-.226-.444-.32-.924-.365-1.47-.043-.531-.043-1.187-.043-2v-1.464c0-.813 0-1.469.043-2 .045-.546.14-1.026.366-1.47a3.75 3.75 0 0 1 1.639-1.64c.297-.15.612-.244.952-.302V8Zm1.5 1.254c.31-.004.652-.004 1.027-.004h6.446c.375 0 .717 0 1.027.004V8a4.25 4.25 0 0 0-8.5 0v1.254ZM8.8 10.75c-.756 0-1.31 0-1.754.027-.551.034-.847.106-1.067.218a2.25 2.25 0 0 0-.984.984c-.1.197-.17.458-.207.912-.037.462-.038 1.056-.038 1.909v1.4c0 .852 0 1.447.038 1.91.037.453.107.714.207.912.216.423.56.767.984.983.197.1.458.17.912.207.462.037 1.057.038 1.909.038h6.4c.852 0 1.447 0 1.91-.038.453-.038.714-.107.912-.207.423-.216.767-.56.983-.983.1-.198.17-.459.207-.913.037-.462.038-1.057.038-1.909v-1.4c0-.853 0-1.447-.038-1.91-.038-.453-.107-.714-.207-.912a2.252 2.252 0 0 0-.983-.983c-.22-.112-.517-.184-1.068-.218a31.52 31.52 0 0 0-1.754-.027H8.8Zm3.2 3a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),ip=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"m21.602 18.535-1.456-2.523-.497-.86-.846-1.466c-1.49-2.574-4.421-7.67-5.886-10.189-.451-.702-1.497-.647-1.885.08L9.594 6.069l-.496.859-6.409 11.1c-.09.165-.26.434-.345.611-.148.321-.119.72.068 1.017.21.351.605.543 1.007.524h3.832c4.618 0 11.672.003 13.403 0 .84.001 1.368-.92.95-1.645h-.002Zm-9.94-3.273-.85-1.472a.388.388 0 0 1 .337-.583h1.7c.299 0 .485.324.335.583l-.85 1.472a.388.388 0 0 1-.672 0Zm-1.424-2.742a5.231 5.231 0 0 1-.18-.546l2.811.546h-2.63Zm1.285 3.873c-.12.151-.248.295-.383.431l-.933-2.708 1.315 2.277Zm2.712-3.048c.19.028.38.067.564.116l-1.88 2.162 1.316-2.278Zm-4.35-2.294a7.298 7.298 0 0 1-.043-.827l3.714 1.811-3.672-.983v-.001Zm-.441 2.712.983 3.67a7.25 7.25 0 0 1-.696.45l-.288-4.12Zm6.24.01c.253.11.499.238.738.377l-3.425 2.311 2.688-2.688ZM9.928 9.055a11.9 11.9 0 0 1 .3-1.474l5.642 4.905-5.941-3.43Zm-1.25 9.34c-.47.193-.95.35-1.426.477l1.426-7.337v6.86Zm8.715-3.587c.4.31.778.65 1.126.997l-7.068 2.433 5.942-3.43Zm-5.147-9.984c1.04 1.805 2.55 4.422 3.99 6.913l-5.372-5.371.89-1.543c.11-.19.383-.19.492 0Zm-8.39 13.678c.297-.51.703-1.21.793-1.372l3.2-5.542-1.966 7.34h-1.78a.284.284 0 0 1-.246-.425Zm16.042.428h-7.986l7.341-1.968.89 1.542a.283.283 0 0 1-.244.426h-.001Z"})}),ig=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M3.462 20.18c-.427 0-.824-.22-1.036-.573a1.192 1.192 0 0 1-.073-1.108c.057-.118.147-.272.227-.407a90291.139 90291.139 0 0 0 8.365-14.466A1.195 1.195 0 0 1 12.003 3c.407 0 .78.203.998.542.88 1.508 2.255 3.89 3.586 6.194l2.235 3.866 1.483 2.564 1.284 2.221c.215.37.215.817-.002 1.193a1.18 1.18 0 0 1-1.03.598H3.515a.8.8 0 0 1-.054.002Zm14.477-1.458h1.868c.06 0 .116-.031.146-.084a.167.167 0 0 0 0-.168l-1.566-2.705c-1.115-1.243-2.296-2.08-3.512-2.493a1.44 1.44 0 0 1-.194.692l-1.418 2.452a1.437 1.437 0 0 1-.2.267c-.056.083-.176.26-.19.284l-.005.01-.007.008c-.334.41-.702.763-1.122 1.083-.311.236-.65.455-1.01.653l7.21.001ZM4.83 17.114c-.072.129-.344.598-.607 1.051l-.176.304a.167.167 0 0 0 0 .168c.03.052.084.084.146.084H7.32c1.636-.342 2.953-.945 3.918-1.79a1.443 1.443 0 0 1-.503-.514l-1.418-2.452a1.475 1.475 0 0 1-.132-.305c-.044-.09-.138-.282-.152-.306l-.006-.01-.003-.01a6.535 6.535 0 0 1-.378-1.512c-.05-.387-.07-.79-.062-1.2L4.83 17.114Zm6.975-1.314a.222.222 0 0 0 .355.043l.068-.102 1.383-2.392a.224.224 0 0 0-.14-.329 2.265 2.265 0 0 1-.123-.009v.001h-2.766a.224.224 0 0 0-.215.286c.025.049.043.084.054.11l1.384 2.392Zm2.306-3.958a6.55 6.55 0 0 1 1.5.43c.36.15.719.333 1.07.545-1.429-2.47-3.296-5.7-4.536-7.848A.166.166 0 0 0 12 4.885a.165.165 0 0 0-.145.084l-1.563 2.703c-.521 1.587-.658 3.028-.407 4.286a1.45 1.45 0 0 1 .698-.178h2.835c.109 0 .22.013.33.039.115.008.313.022.342.022h.013l.009.001Z"})}),im=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsxs)("g",{clipPath:"url(#a)",children:[(0,s.jsx)("path",{fill:"currentColor",d:"M0 5a5 5 0 0 1 5-5h14a5 5 0 0 1 5 5v14a5 5 0 0 1-5 5H5a5 5 0 0 1-5-5V5Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M4.557 18.977c-.373 0-.719-.191-.904-.499a1.039 1.039 0 0 1-.063-.966c.05-.103.128-.237.198-.355A100846.436 100846.436 0 0 0 11.08 4.546c.18-.336.533-.546.922-.546.354 0 .68.177.87.472.766 1.315 1.966 3.392 3.126 5.4.74 1.282 1.442 2.496 1.949 3.37.303.526.804 1.393 1.293 2.236l1.119 1.936c.187.324.187.713-.002 1.04a1.028 1.028 0 0 1-.899.521l-2.74.002-5.453-.001H6.469a1736.146 1736.146 0 0 0-1.912.001Zm12.62-1.27h1.629c.053 0 .1-.028.127-.074a.145.145 0 0 0 0-.146l-1.364-2.359c-.973-1.083-2.002-1.814-3.063-2.173a1.254 1.254 0 0 1-.17.604l-1.235 2.137c-.048.082-.106.16-.174.232l-.166.248-.004.01-.006.006a5.694 5.694 0 0 1-.978.944 7.225 7.225 0 0 1-.88.57h6.285ZM5.75 16.304c-.062.112-.3.52-.529.916l-.154.265a.145.145 0 0 0 0 .146.145.145 0 0 0 .128.073H7.92c1.426-.298 2.574-.823 3.415-1.56a1.259 1.259 0 0 1-.438-.448L9.662 13.56a1.284 1.284 0 0 1-.115-.267c-.039-.079-.12-.246-.132-.267l-.006-.009-.003-.007a5.697 5.697 0 0 1-.33-1.319 7.137 7.137 0 0 1-.053-1.046l-3.274 5.66Zm6.08-1.146a.194.194 0 0 0 .31.038l.06-.09 1.206-2.085a.196.196 0 0 0-.122-.287 2.018 2.018 0 0 1-.108-.007h-2.411a.196.196 0 0 0-.187.25l.047.096 1.206 2.085Zm2.011-3.45c.456.074.884.196 1.309.374.314.131.626.29.932.475-1.246-2.153-2.874-4.97-3.954-6.841a.145.145 0 0 0-.128-.074c-.053 0-.1.028-.126.074L10.51 8.073c-.454 1.384-.574 2.64-.355 3.737.187-.102.395-.155.609-.155h2.471c.095 0 .192.01.289.033.099.007.272.02.298.02H13.84Z"})]}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"a",children:(0,s.jsx)("path",{fill:"currentColor",d:"M0 0H24V24H0z"})})})]}),iv=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsxs)("g",{clipPath:"url(#a)",children:[(0,s.jsx)("path",{fill:"currentColor",d:"M0 5a5 5 0 0 1 5-5h14a5 5 0 0 1 5 5v14a5 5 0 0 1-5 5H5a5 5 0 0 1-5-5V5Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"m20.371 17.543-1.27-2.199-.433-.75-.737-1.278c-1.299-2.244-3.855-6.686-5.132-8.883-.393-.612-1.305-.563-1.643.07L9.902 6.676l-.432.748-5.587 9.678c-.08.143-.227.378-.3.532a.953.953 0 0 0 .058.887.965.965 0 0 0 .878.456H7.86c4.026 0 10.175.003 11.684 0a.958.958 0 0 0 .828-1.434h-.001Zm-8.665-2.853-.741-1.284a.339.339 0 0 1 .293-.507h1.482c.26 0 .423.282.293.508l-.741 1.283a.339.339 0 0 1-.587 0Zm-1.242-2.39a4.537 4.537 0 0 1-.158-.477l2.452.477h-2.294Zm1.12 3.376a4.546 4.546 0 0 1-.334.376l-.813-2.361 1.146 1.985Zm2.365-2.658c.166.025.33.06.491.102l-1.638 1.885 1.147-1.987Zm-3.794-2a6.37 6.37 0 0 1-.036-.72l3.237 1.579-3.201-.858Zm-.384 2.365.858 3.2a6.291 6.291 0 0 1-.607.393l-.251-3.593Zm5.441.009c.22.096.434.207.643.329l-2.986 2.014 2.344-2.343Zm-5.019-4.113c.06-.439.151-.87.262-1.285l4.918 4.276-5.18-2.991Zm-1.09 8.143c-.41.167-.829.304-1.243.415l1.243-6.396v5.98Zm7.597-3.128c.35.27.679.566.982.87l-6.161 2.12 5.18-2.99ZM12.214 5.59c.907 1.574 2.223 3.855 3.478 6.027l-4.683-4.683.776-1.345a.248.248 0 0 1 .429 0v.001ZM4.9 17.515c.258-.445.612-1.056.69-1.196l2.791-4.832-1.715 6.4H5.114a.247.247 0 0 1-.214-.372Zm13.985.372h-6.963l6.4-1.715.777 1.345a.247.247 0 0 1-.214.37Z"})]}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"a",children:(0,s.jsx)("path",{fill:"currentColor",d:"M0 0H24V24H0z"})})})]}),iy=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 5.75a.75.75 0 0 0 0 1.5h14a.75.75 0 0 0 0-1.5H5Zm0 3.5a.75.75 0 0 0 0 1.5h14a.75.75 0 0 0 0-1.5H5Zm-.75 4.25a.75.75 0 0 1 .75-.75h14a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75ZM5 16.25a.75.75 0 0 0 0 1.5h7a.75.75 0 0 0 0-1.5H5Z",clipRule:"evenodd"})}),ib=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M22 10.888h-5.848l5.065-2.924-1.113-1.927L15.04 8.96l2.924-5.065-1.927-1.113-2.924 5.065V2h-2.224v5.848L7.963 2.783 6.036 3.896 8.961 8.96 3.896 6.037 2.783 7.963l5.065 2.924H2v2.225h5.848l-5.065 2.924 1.113 1.927L8.96 15.04l-2.924 5.064 1.927 1.113 2.924-5.065V22h2.225v-5.848l2.923 5.065 1.927-1.113-2.924-5.065 5.065 2.924 1.113-1.927-5.065-2.923H22v-2.225H22Zm-10 4.138a3.037 3.037 0 1 1 0-6.074 3.037 3.037 0 0 1 0 6.074Z"})}),iw=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"m7.192 11.316 10-4.5.616 1.368L9.328 12l8.48 3.816-.616 1.368-10-4.5a.75.75 0 0 1 0-1.368Z",clipRule:"evenodd"})}),ix=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.274 10.907c-.641.776-.047 1.943.958 1.88l3.617-.225 1.944 3.059c.54.85 1.834.644 2.085-.33l.686-2.666 7.406 7.405a.75.75 0 1 0 1.06-1.06l-7.405-7.406 2.666-.687c.975-.25 1.18-1.544.33-2.084l-3.058-1.944.225-3.618c.062-1.004-1.105-1.599-1.88-.958L8.113 4.581 4.743 3.25c-.937-.37-1.862.556-1.493 1.492l1.332 3.37-2.308 2.795Zm4.688.145-3.018.188L5.87 8.909a1.15 1.15 0 0 0 .183-1.155L4.942 4.94l2.812 1.111c.39.154.832.084 1.155-.182l2.332-1.926-.188 3.018a1.15 1.15 0 0 0 .53 1.042l2.553 1.622-2.929.754a1.15 1.15 0 0 0-.826.827l-.755 2.928-1.622-2.552a1.15 1.15 0 0 0-1.042-.53Z",clipRule:"evenodd"})}),i_=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.458 5.95H8.5c-.69 0-1.25.56-1.25 1.25V10c0 .45-.108.875-.3 1.25h3.467a2.5 2.5 0 0 1 2.333-1.6h5.5a2.5 2.5 0 0 1 0 5h-5.5a2.501 2.501 0 0 1-2.428-1.9H6.95c.192.375.3.8.3 1.25v2.809c0 .69.56 1.25 1.25 1.25h1.914a2.501 2.501 0 0 1 2.336-1.609h5.5a2.5 2.5 0 0 1 0 5h-5.5a2.501 2.501 0 0 1-2.425-1.891H8.5a2.75 2.75 0 0 1-2.75-2.75V14c0-.69-.56-1.25-1.25-1.25H2v-1.5h2.512A1.25 1.25 0 0 0 5.75 10V7.2A2.75 2.75 0 0 1 8.5 4.45h1.8a2.5 2.5 0 0 1 2.45-2h5.5a2.5 2.5 0 0 1 0 5h-5.5a2.5 2.5 0 0 1-2.292-1.5Zm1.292-1a1 1 0 0 1 1-1h5.5a1 1 0 1 1 0 2h-5.5a1 1 0 0 1-1-1Zm0 7.2a1 1 0 0 1 1-1h5.5a1 1 0 1 1 0 2h-5.5a1 1 0 0 1-1-1Zm1 5.8a1 1 0 1 0 0 2h5.5a1 1 0 1 0 0-2h-5.5Z",clipRule:"evenodd"})}),iC=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.75 4.5c-1.138 0-2.098.76-2.4 1.8H8.764a2.75 2.75 0 0 0-2.75 2.75v1c0 .69-.56 1.25-1.25 1.25H2v1.5h2.765c.69 0 1.25.56 1.25 1.25v1a2.75 2.75 0 0 0 2.75 2.75h1.616a2.501 2.501 0 0 0 2.369 1.7h5.5a2.5 2.5 0 0 0 0-5h-5.5c-1.138 0-2.098.76-2.4 1.8H8.764c-.69 0-1.25-.56-1.25-1.25v-1c0-.788-.332-1.499-.863-2a2.742 2.742 0 0 0 .863-2v-1c0-.69.56-1.25 1.25-1.25h1.616a2.501 2.501 0 0 0 2.369 1.7h5.5a2.5 2.5 0 0 0 0-5h-5.5Zm-1 2.5a1 1 0 0 1 1-1h5.5a1 1 0 1 1 0 2h-5.5a1 1 0 0 1-1-1Zm0 10a1 1 0 0 1 1-1h5.5a1 1 0 1 1 0 2h-5.5a1 1 0 0 1-1-1Z",clipRule:"evenodd"})}),ik=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.5 12c0-.46.373-.833.833-.833h13.334a.833.833 0 0 1 0 1.666H5.333A.833.833 0 0 1 4.5 12Z",clipRule:"evenodd"})}),iS=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.5 12a1.73 1.73 0 1 0 3.462 0A1.73 1.73 0 0 0 4.5 12Zm7.5 1.73a1.73 1.73 0 1 1 0-3.46 1.73 1.73 0 0 1 0 3.46Zm5.77 0a1.73 1.73 0 1 1 0-3.46 1.73 1.73 0 0 1 0 3.46Z",clipRule:"evenodd"})}),iM=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.5 6a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 6a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM12 19.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z",clipRule:"evenodd"})}),iE=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.75 4a.75.75 0 0 0-1.5 0v16a.75.75 0 0 0 1.5 0V4Zm8.405 4.57a.75.75 0 1 0-.976-1.14l-4.667 4a.75.75 0 0 0 0 1.14l4.667 4a.75.75 0 1 0 .976-1.14l-3.128-2.68H20a.75.75 0 0 0 0-1.5h-9.973l3.128-2.68Z",clipRule:"evenodd"})}),iI=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.75 4a.75.75 0 0 0-1.5 0v16a.75.75 0 0 0 1.5 0V4Zm-9.905 4.57a.75.75 0 1 1 .976-1.14l4.667 4a.75.75 0 0 1 0 1.14l-4.667 4a.75.75 0 1 1-.976-1.14l3.128-2.68H4a.75.75 0 0 1 0-1.5h9.973l-3.128-2.68Z",clipRule:"evenodd"})}),iB=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.25 4A.75.75 0 0 1 5 3.25h14a.75.75 0 0 1 .75.75v16a.75.75 0 0 1-.75.75H5a.75.75 0 0 1-.75-.75v-3a.75.75 0 0 1 1.5 0v2.25h12.5V4.75H5.75V7.5a.75.75 0 0 1-1.5 0V4Zm8 4a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5H13a.75.75 0 0 1-.75-.75Zm.75 2.75a.75.75 0 0 0 0 1.5h2a.75.75 0 0 0 0-1.5h-2ZM12.25 15a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 0 1.5h-1a.75.75 0 0 1-.75-.75ZM8.03 8.47a.75.75 0 0 0-1.06 1.06l1.72 1.72H2.5a.75.75 0 0 0 0 1.5h6.19l-1.72 1.72a.75.75 0 1 0 1.06 1.06l3-3a.75.75 0 0 0 0-1.06l-3-3Z",clipRule:"evenodd"})}),i$=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillOpacity:.6,fillRule:"evenodd",d:"M13 5.75c0-.966.784-1.75 1.75-1.75h3c.966 0 1.75.784 1.75 1.75v13a1.75 1.75 0 0 1-1.75 1.75h-3A1.75 1.75 0 0 1 13 18.75V16a.75.75 0 0 1 1.5 0v2.75c0 .138.112.25.25.25h3a.25.25 0 0 0 .25-.25v-13a.25.25 0 0 0-.25-.25h-3a.25.25 0 0 0-.25.25V8.5a.75.75 0 0 1-1.5 0V5.75Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.75 4a.75.75 0 0 1 0 1.5h-1a.25.25 0 0 0-.25.25v13c0 .138.112.25.25.25h1a.75.75 0 0 1 0 1.5h-1A1.75 1.75 0 0 1 4 18.75v-13C4 4.784 4.784 4 5.75 4h1Zm3.243 6.73a.75.75 0 1 0-1.152-.96l-1.667 2a.75.75 0 0 0 0 .96l1.667 2a.75.75 0 0 0 1.152-.96L9.35 13h3.399a.75.75 0 0 0 0-1.5H9.351l.642-.77Z",clipRule:"evenodd"})]}),iT=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillOpacity:.6,fillRule:"evenodd",d:"M10.5 5.75A1.75 1.75 0 0 0 8.75 4h-3A1.75 1.75 0 0 0 4 5.75v13c0 .966.784 1.75 1.75 1.75h3a1.75 1.75 0 0 0 1.75-1.75V16A.75.75 0 0 0 9 16v2.75a.25.25 0 0 1-.25.25h-3a.25.25 0 0 1-.25-.25v-13a.25.25 0 0 1 .25-.25h3a.25.25 0 0 1 .25.25V8.5a.75.75 0 0 0 1.5 0V5.75Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.75 4a.75.75 0 0 0 0 1.5h1a.25.25 0 0 1 .25.25v13a.25.25 0 0 1-.25.25h-1a.75.75 0 0 0 0 1.5h1a1.75 1.75 0 0 0 1.75-1.75v-13A1.75 1.75 0 0 0 17.75 4h-1Zm-3.243 6.73a.75.75 0 1 1 1.152-.96l1.667 2a.75.75 0 0 1 0 .96l-1.667 2a.75.75 0 0 1-1.152-.96l.642-.77H10.75a.75.75 0 0 1 0-1.5h3.399l-.642-.77Z",clipRule:"evenodd"})]}),iO=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",d:"M3.03 5.302c-.278-1.606 1.41-2.832 2.851-2.07l13.518 7.14c1.542.815 1.336 3.086-.328 3.609l-5.526 1.736a1.963 1.963 0 0 0-1.01.734L9.17 21.174c-1.012 1.421-3.236.915-3.534-.804L3.03 5.302Z"}),(0,s.jsx)("path",{stroke:"currentColor",strokeOpacity:.2,d:"M3.523 5.217c-.207-1.197 1.05-2.11 2.125-1.543l13.518 7.14c1.149.607.995 2.3-.245 2.69l-5.526 1.736c-.512.16-.957.484-1.268.921l-3.364 4.723c-.754 1.06-2.411.682-2.633-.6L3.523 5.218Z"})]}),iP=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.53 6.03a.75.75 0 0 0-1.06-1.06l-1.5 1.5-.406-.464a.75.75 0 1 0-1.128.988l.933 1.067a.75.75 0 0 0 1.095.036L7.53 6.03Zm0 5.5a.75.75 0 1 0-1.06-1.06l-1.5 1.5-.406-.464a.75.75 0 0 0-1.128.988l.933 1.066a.75.75 0 0 0 1.095.037L7.53 11.53Zm0 4.44a.75.75 0 0 1 0 1.06l-2.066 2.067a.75.75 0 0 1-1.095-.037l-.933-1.066a.75.75 0 0 1 1.128-.988l.406.463 1.5-1.5a.75.75 0 0 1 1.06 0ZM10.5 5.25a.75.75 0 0 0 0 1.5h9.6a.75.75 0 0 0 0-1.5h-9.6ZM9.75 12a.75.75 0 0 1 .75-.75h9.6a.75.75 0 0 1 0 1.5h-9.6a.75.75 0 0 1-.75-.75Zm.75 5.25a.75.75 0 0 0 0 1.5h9.6a.75.75 0 0 0 0-1.5h-9.6Z",clipRule:"evenodd"})}),iA=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.19 6.16a2.133 2.133 0 1 1 4.267 0 2.133 2.133 0 0 1-4.266 0Zm-1.286 1.353L9.22 8.546a3.661 3.661 0 0 1-.866 2.308l3.346 3.824a3.66 3.66 0 0 1 2.596-.525l1.977-4.942a3.69 3.69 0 0 1-1.368-1.698Zm-5.982-.481A3.677 3.677 0 1 0 7.13 11.8l3.47 3.965a3.676 3.676 0 1 0 5.129-1.038l1.976-4.943a3.676 3.676 0 1 0-3.054-3.794l-5.73 1.042ZM3.41 8.483a2.133 2.133 0 1 1 4.266 0 2.133 2.133 0 0 1-4.266 0Zm10.266 7.162a2.133 2.133 0 1 0 0 4.266 2.133 2.133 0 0 0 0-4.266Z",clipRule:"evenodd"})}),iH=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"m9.488 15.75-1.164 2.425 1.352.65 1.476-3.075H17.5v-1.5h-5.628l1.92-4H17.5v-1.5h-2.988l1.164-2.425-1.352-.65-1.476 3.075H6.5v1.5h5.628l-1.92 4H6.5v1.5h2.988Z",clipRule:"evenodd"})}),iL=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.435 5.118a2.868 2.868 0 0 1 4.986-1.934 2.868 2.868 0 0 1 4.639 3.301h2.831c.967 0 1.75.784 1.75 1.75v2.236a1.75 1.75 0 0 1-1.059 1.608V19a2.75 2.75 0 0 1-2.75 2.75H7.01A2.75 2.75 0 0 1 4.259 19v-6.921A1.75 1.75 0 0 1 3.2 10.47V8.235c0-.966.784-1.75 1.75-1.75h2.832a2.855 2.855 0 0 1-.347-1.367Zm2.868 1.367h1.368V5.118a1.368 1.368 0 1 0-1.368 1.367Zm2.868-1.367v1.367h1.367a1.368 1.368 0 1 0-1.367-1.367ZM4.95 7.985a.25.25 0 0 0-.25.25v2.236c0 .138.112.25.25.25h14.941a.25.25 0 0 0 .25-.25V8.235a.25.25 0 0 0-.25-.25H4.95Zm.809 4.236V19c0 .69.56 1.25 1.25 1.25h4.662v-8.03H5.759Zm7.412 0v8.029h4.661c.69 0 1.25-.56 1.25-1.25v-6.78h-5.911Z",clipRule:"evenodd"})}),iD=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 4.75a.75.75 0 0 1 .75.75v5.75h5.75a.75.75 0 0 1 0 1.5h-5.75v5.75a.75.75 0 0 1-1.5 0v-5.75H5.5a.75.75 0 0 1 0-1.5h5.75V5.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),iZ=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.06 4.185A.75.75 0 0 0 4 5.246l1.398 1.399a14.118 14.118 0 0 0-3.212 2.41.75.75 0 0 0 1.06 1.06 12.6 12.6 0 0 1 3.263-2.36l2.24 2.242a9.627 9.627 0 0 0-3.414 2.207.75.75 0 1 0 1.061 1.06 8.118 8.118 0 0 1 3.54-2.08l2.467 2.466A5.635 5.635 0 0 0 8.17 15.3a.75.75 0 1 0 1.06 1.06 4.15 4.15 0 0 1 5.87 0c.029.03.06.056.092.08l2.744 2.742a.75.75 0 1 0 1.06-1.06L5.06 4.185Zm4.492 2.507c4.035-.85 8.402.292 11.533 3.423a.75.75 0 0 0 1.06-1.06 14.102 14.102 0 0 0-12.902-3.83.75.75 0 1 0 .31 1.467Zm3.752 2.75a.75.75 0 1 0-.176 1.49 8.12 8.12 0 0 1 4.807 2.333.75.75 0 0 0 1.06-1.06 9.621 9.621 0 0 0-5.691-2.763Zm-1.139 8.842a.75.75 0 1 0 0 1.5h.01a.75.75 0 1 0 0-1.5h-.01Z",clipRule:"evenodd"})}),ij=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 5A2.75 2.75 0 0 1 6 2.25h9A2.75 2.75 0 0 1 17.75 5v10.857a2.75 2.75 0 0 1-2.75 2.75H6a2.75 2.75 0 0 1-2.75-2.75V5ZM6 3.75c-.69 0-1.25.56-1.25 1.25v10.857c0 .69.56 1.25 1.25 1.25h9c.69 0 1.25-.56 1.25-1.25V5c0-.69-.56-1.25-1.25-1.25H6Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",fillOpacity:.6,d:"M6.25 18.607H15a2.75 2.75 0 0 0 2.75-2.75V5.25H18A2.75 2.75 0 0 1 20.75 8v10.857a2.75 2.75 0 0 1-2.75 2.75H9a2.75 2.75 0 0 1-2.75-2.75v-.25Z"})]}),iV=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.255 4.832a2.75 2.75 0 0 1 5.49 0A6.75 6.75 0 0 1 18.75 11v3.159c0 .34.135.665.375.906l1.064 1.063c.598.599.174 1.622-.672 1.622H15.75V18a3.75 3.75 0 1 1-7.5 0v-.25H4.483c-.847 0-1.27-1.023-.672-1.622l1.064-1.063c.24-.24.375-.567.375-.906V11a6.751 6.751 0 0 1 4.005-6.168ZM9.75 17.75V18a2.25 2.25 0 0 0 4.5 0v-.25h-4.5Zm2.25-14c-.69 0-1.25.56-1.25 1.25v.341a.75.75 0 0 1-.5.708A5.252 5.252 0 0 0 6.75 11v3.159c0 .737-.293 1.445-.815 1.966l-.124.125h12.378l-.124-.125a2.782 2.782 0 0 1-.815-1.966V11c0-2.285-1.46-4.23-3.5-4.951a.75.75 0 0 1-.5-.708V5c0-.69-.56-1.25-1.25-1.25Z",clipRule:"evenodd"})}),iR=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M6.268 6.199c.568.46.78.426 1.845.355L18.16 5.95c.214 0 .036-.214-.035-.25l-1.668-1.205c-.32-.248-.746-.533-1.562-.462l-9.728.71c-.354.035-.425.213-.284.355l1.386 1.1ZM6.87 8.54v10.569c0 .568.284.78.923.745l11.04-.638c.638-.035.71-.426.71-.887V7.83c0-.46-.178-.71-.568-.674L7.439 7.83c-.426.035-.568.248-.568.71Zm10.899.567c.07.319 0 .639-.32.675l-.533.106v7.802c-.462.249-.887.39-1.242.39-.568 0-.71-.177-1.136-.709l-3.48-5.462v5.285l1.102.248s0 .639-.889.639l-2.449.142c-.07-.142 0-.496.249-.568l.639-.177V10.49l-.888-.07c-.07-.32.107-.781.604-.817l2.627-.176 3.62 5.532v-4.893l-.923-.107c-.07-.39.214-.673.569-.71l2.45-.142ZM4.35 3.787l10.117-.745c1.242-.107 1.562-.035 2.343.532l3.23 2.27c.532.39.71.496.71.922v12.45c0 .78-.284 1.241-1.278 1.312l-11.75.71c-.745.035-1.1-.071-1.491-.568l-2.378-3.086c-.426-.568-.603-.993-.603-1.49V5.028c0-.639.283-1.17 1.1-1.241Z"})}),iz=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.114 3.678a.75.75 0 0 1 0 1.06L4.28 6.573a.75.75 0 0 1-1.06-1.06l1.833-1.834a.75.75 0 0 1 1.06 0Zm11.772 0a.75.75 0 0 1 1.061 0l1.833 1.833a.75.75 0 0 1-1.06 1.061l-1.834-1.833a.75.75 0 0 1 0-1.061ZM12 5.875a6.583 6.583 0 1 0 0 13.167 6.583 6.583 0 0 0 0-13.167Zm-8.083 6.583a8.083 8.083 0 1 1 16.166 0 8.083 8.083 0 0 1-16.166 0Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M15.197 10.359a.75.75 0 0 1 0 1.06l-3.555 3.556a.75.75 0 0 1-1.061 0l-1.778-1.778a.75.75 0 0 1 1.06-1.06l1.248 1.247 3.025-3.025a.75.75 0 0 1 1.061 0Z",clipRule:"evenodd"})]}),iF=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.182 3.272a.75.75 0 0 1 .546.91L10.71 8.25h4.453l1.108-4.432a.75.75 0 0 1 1.456.364L16.71 8.25H20a.75.75 0 0 1 0 1.5h-3.664l-1.125 4.5H18a.75.75 0 1 1 0 1.5h-3.164l-1.108 4.432a.75.75 0 0 1-1.456-.364l1.017-4.068H8.836l-1.108 4.432a.75.75 0 0 1-1.456-.364L7.29 15.75H4a.75.75 0 0 1 0-1.5h3.664l1.125-4.5H6a.75.75 0 0 1 0-1.5h3.164l1.108-4.432a.75.75 0 0 1 .91-.546Zm-.846 6.478-1.125 4.5h4.453l1.125-4.5h-4.453Z",clipRule:"evenodd"})}),iN=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.129 5.762a.593.593 0 0 0 .15-.08l.255-.177V7.64c0 .188.063.35.181.466a.656.656 0 0 0 .47.177c.186 0 .35-.061.468-.177a.637.637 0 0 0 .182-.466V4.934a.71.71 0 0 0-.197-.52c-.13-.13-.316-.195-.534-.195-.221 0-.434.022-.675.183l-.677.452a.53.53 0 0 0-.252.46c0 .273.203.472.464.472a.501.501 0 0 0 .165-.024Zm5.277-.16a.768.768 0 0 0 0 1.536h10.326a.768.768 0 1 0 0-1.536H9.406Zm0 5.632a.768.768 0 0 0 0 1.536h10.326a.768.768 0 1 0 0-1.535l-10.326-.001Zm0 5.633a.768.768 0 1 0 0 1.536h10.326a.768.768 0 1 0 0-1.536H9.406Zm-2.782-5.753c.012-.066.018-.136.018-.21 0-.678-.58-1.136-1.486-1.136-.652 0-1.176.277-1.373.721.197-.444.721-.72 1.373-.72.907 0 1.486.457 1.486 1.134 0 .075-.006.145-.018.211Zm-1.5 1.64v.02h1.184c.274 0 .43.163.43.414 0-.25-.156-.414-.43-.414H5.126v-.02Zm-1.384.237c.035-.14.126-.26.284-.393l1.026-.878c.338-.29.48-.453.523-.622-.042.17-.185.331-.523.622l-1.026.879c-.158.131-.25.253-.284.392Zm.763-1.81a.821.821 0 0 0 .251-.254.674.674 0 0 1 .184-.193.36.36 0 0 1 .202-.054c.113 0 .199.034.255.085.056.05.09.12.09.21 0 .17-.079.304-.502.667l-1.026.878c-.219.184-.336.365-.336.608 0 .156.045.303.152.412.108.108.265.164.463.164h2.073a.537.537 0 0 0 .389-.145.512.512 0 0 0 .142-.371.511.511 0 0 0-.142-.374.539.539 0 0 0-.39-.142h-.932l.496-.428c.287-.25.506-.447.651-.65.15-.207.221-.419.221-.691 0-.37-.16-.684-.442-.902-.281-.217-.677-.335-1.146-.335-.676 0-1.248.288-1.467.783a.703.703 0 0 0-.057.283c0 .155.05.29.152.387.1.095.24.142.4.142a.604.604 0 0 0 .32-.08Zm-.832 4.897c.152-.414.67-.853 1.557-.853.457 0 .865.096 1.16.29a.998.998 0 0 1 .478.865c0 .483-.308.804-.692.941.234.05.43.143.576.279.184.17.285.404.285.687 0 .405-.174.737-.49.966-.313.228-.762.352-1.311.352-.96 0-1.495-.458-1.641-.868a.704.704 0 0 1-.04-.228.51.51 0 0 1 .155-.387.594.594 0 0 1 .413-.142c.117 0 .217.02.305.064s.16.112.223.203a.79.79 0 0 0 .236.245c.09.055.206.087.377.087.278 0 .46-.165.46-.379a.329.329 0 0 0-.14-.288c-.096-.066-.242-.104-.444-.104H5.11a.483.483 0 0 1-.35-.122.438.438 0 0 1-.12-.323c0-.124.039-.236.12-.317.082-.08.2-.125.35-.125h.028c.178 0 .311-.038.399-.102a.315.315 0 0 0 .131-.268.323.323 0 0 0-.112-.258.493.493 0 0 0-.322-.098.566.566 0 0 0-.286.068.533.533 0 0 0-.198.207.702.702 0 0 1-.241.27.642.642 0 0 1-.343.082.549.549 0 0 1-.401-.144.5.5 0 0 1-.136-.363c0-.085.012-.153.042-.237Z",clipRule:"evenodd"})}),iq=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.552 5.67c.25-.25.654-.25.904 0l-.001.002c.25.25.25.654 0 .904a3.515 3.515 0 0 1-2.524 1.036c-.155 0-.313-.01-.472-.028-1.155-.137-2.32-.762-3.364-1.807l-1.808 1.808 3.127 3.127a.64.64 0 1 1-.904.905L11.383 8.49l-1.809 1.808 3.127 3.127a.64.64 0 1 1-.904.904L8.67 11.202 6.862 13.01l3.127 3.127a.64.64 0 1 1-.904.904l-3.127-3.127-.004-.004A6.394 6.394 0 0 1 15 4.872c1.6 1.6 3.43 1.921 4.552.799ZM6.132 9.643a.986.986 0 1 0 1.394-1.395.986.986 0 0 0-1.393 1.395ZM9.336 6.44a.986.986 0 1 0 1.393-1.395.986.986 0 0 0-1.393 1.395Zm5.223.709 3.138 3.138a6.393 6.393 0 0 1-9.053 9.03c-1.6-1.6-3.429-1.92-4.551-.798a.64.64 0 1 1-.905-.904c.786-.786 1.85-1.144 2.996-1.008 1.156.136 2.32.761 3.364 1.806l1.808-1.808-3.126-3.127a.639.639 0 1 1 .904-.904L12.26 15.7l1.808-1.809-3.127-3.126a.639.639 0 1 1 .904-.905l3.127 3.127 1.808-1.808-3.127-3.127a.64.64 0 1 1 .905-.904Zm-1.643 11.995a.986.986 0 1 0 1.394-1.395.986.986 0 0 0-1.394 1.395Zm3.202-3.202a.986.986 0 1 0 1.394-1.395.986.986 0 0 0-1.394 1.395Z",clipRule:"evenodd"})}),iU=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.25 4a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0V5.81l-8.72 8.72a.75.75 0 1 1-1.06-1.06l8.72-8.72H14a.75.75 0 0 1-.75-.75ZM6 6.75c-.69 0-1.25.56-1.25 1.25v10c0 .69.56 1.25 1.25 1.25h10c.69 0 1.25-.56 1.25-1.25v-4a.75.75 0 0 1 1.5 0v4A2.75 2.75 0 0 1 16 20.75H6A2.75 2.75 0 0 1 3.25 18V8A2.75 2.75 0 0 1 6 5.25h4a.75.75 0 0 1 0 1.5H6Z",clipRule:"evenodd"})}),iW=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.665 2.33a.75.75 0 0 1 .67 0l8 4a.75.75 0 0 1 .415.67v10a.75.75 0 0 1-.415.67l-8 4a.75.75 0 0 1-.67 0l-8-4A.75.75 0 0 1 3.25 17V7a.75.75 0 0 1 .415-.67l8-4ZM4.75 8.213l6.5 3.25v8.322l-6.5-3.25V8.215Zm8 11.572 6.5-3.25V8.215l-6.5 3.25v8.322ZM12 10.162 18.323 7 12 3.839 5.677 7 12 10.162Z",clipRule:"evenodd"})}),iG=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 3.25A2.75 2.75 0 0 0 4.25 6v12A2.75 2.75 0 0 0 7 20.75h10A2.75 2.75 0 0 0 19.75 18V6A2.75 2.75 0 0 0 17 3.25H7ZM5.75 6c0-.69.56-1.25 1.25-1.25h10c.69 0 1.25.56 1.25 1.25v12c0 .69-.56 1.25-1.25 1.25H7c-.69 0-1.25-.56-1.25-1.25V6ZM9 7.25a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5H9Zm-.75 4.25a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM9 14.25a.75.75 0 0 0 0 1.5h5a.75.75 0 0 0 0-1.5H9Z",clipRule:"evenodd"})}),iY=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75a3.9 3.9 0 0 0 3.9-3.9v-.585c0-.4.003-.486.012-.543a.975.975 0 0 1 .81-.81c.057-.009.143-.012.543-.012h.585a3.9 3.9 0 0 0 3.9-3.9c0-5.385-4.365-9.75-9.75-9.75ZM9.075 7.612a1.462 1.462 0 1 1 2.925 0 1.462 1.462 0 0 1-2.925 0Zm4.875.976a1.463 1.463 0 1 1 2.925 0 1.463 1.463 0 0 1-2.925 0ZM7.613 10.05a1.463 1.463 0 1 0 0 2.925 1.463 1.463 0 0 0 0-2.925Z",clipRule:"evenodd"})}),iK=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.8 2.489a.75.75 0 0 0-.75.75V4.25H7A2.75 2.75 0 0 0 4.25 7v12A2.75 2.75 0 0 0 7 21.75h10A2.75 2.75 0 0 0 19.75 19V7A2.75 2.75 0 0 0 17 4.25h-.95V3.239a.75.75 0 0 0-.75-.75H8.8Zm7.25 3.261v.928a.75.75 0 0 1-.75.75H8.8a.75.75 0 0 1-.75-.75V5.75H7c-.69 0-1.25.56-1.25 1.25v12c0 .69.56 1.25 1.25 1.25h10c.69 0 1.25-.56 1.25-1.25V7c0-.69-.56-1.25-1.25-1.25h-.95Zm-6.5.178v-1.94h5v1.94h-5Z",clipRule:"evenodd"})}),iX=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.25 7A2.75 2.75 0 0 1 5 4.25h14A2.75 2.75 0 0 1 21.75 7v10A2.75 2.75 0 0 1 19 19.75H5A2.75 2.75 0 0 1 2.25 17V7ZM5 5.75c-.69 0-1.25.56-1.25 1.25v1.25h16.5V7c0-.69-.56-1.25-1.25-1.25H5Zm15.25 4H3.75V17c0 .69.56 1.25 1.25 1.25h14c.69 0 1.25-.56 1.25-1.25V9.75Zm-6 5.25a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),iQ=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.279 4.721a1.614 1.614 0 0 0-2.28 0l-.885.883 2.278 2.273.887-.885a1.603 1.603 0 0 0 0-2.271ZM17.33 8.937l-2.277-2.273L4.25 17.445v2.305h2.245L17.33 8.937Zm-1.39-5.278a3.114 3.114 0 0 1 4.398 0 3.103 3.103 0 0 1 0 4.395L7.335 21.03a.75.75 0 0 1-.53.22H3.5a.75.75 0 0 1-.75-.75v-3.367c0-.2.08-.39.22-.53L15.94 3.658Z",clipRule:"evenodd"})}),iJ=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M18 12a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z"})}),i1=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"})}),i0=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.59 3.692a2.75 2.75 0 0 1 3.89 0l2.828 2.828a2.75 2.75 0 0 1 0 3.889l-5.328 5.329.884.884a.75.75 0 1 1-1.06 1.06L11.09 13.97l-4.925 4.924a.75.75 0 0 1-1.06-1.06l4.924-4.925-3.712-3.712a.75.75 0 0 1 1.06-1.06l.884.883 5.329-5.328ZM9.324 10.08l4.596 4.596 5.329-5.329a1.25 1.25 0 0 0 0-1.767l-2.829-2.829a1.25 1.25 0 0 0-1.767 0l-5.329 5.329Z",clipRule:"evenodd"})}),i2=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 2.25a.75.75 0 0 1 .75.75v7.25h5.5V10c0-.966.784-1.75 1.75-1.75h5c.966 0 1.75.784 1.75 1.75v2A1.75 1.75 0 0 1 18 13.75h-5A1.75 1.75 0 0 1 11.25 12v-.25h-5.5V17c0 .69.56 1.25 1.25 1.25h4.25V18c0-.966.784-1.75 1.75-1.75h5c.966 0 1.75.784 1.75 1.75v2A1.75 1.75 0 0 1 18 21.75h-5A1.75 1.75 0 0 1 11.25 20v-.25H7A2.75 2.75 0 0 1 4.25 17V3A.75.75 0 0 1 5 2.25ZM12.75 20c0 .138.112.25.25.25h5a.25.25 0 0 0 .25-.25v-2a.25.25 0 0 0-.25-.25h-5a.25.25 0 0 0-.25.25v2Zm0-8c0 .138.112.25.25.25h5a.25.25 0 0 0 .25-.25v-2a.25.25 0 0 0-.25-.25h-5a.25.25 0 0 0-.25.25v2Z",clipRule:"evenodd"})}),i5=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.48 3.692a2.75 2.75 0 0 0-3.89 0L8.263 9.02l-.883-.884a.75.75 0 0 0-1.061 1.06l1.414 1.415 2.298 2.298-4.924 4.925a.75.75 0 1 0 1.06 1.06l4.925-4.924 2.298 2.298 1.414 1.414a.75.75 0 0 0 1.06-1.06l-.883-.884 5.328-5.329a2.75 2.75 0 0 0 0-3.89L17.48 3.693Z",clipRule:"evenodd"})}),i7=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"m10.104 5.01 6.339 3.566c.782.44 1.415.796 1.883 1.119.47.324.88.684 1.102 1.175a2.75 2.75 0 0 1 0 2.26c-.222.491-.633.851-1.102 1.175-.468.323-1.1.679-1.883 1.119l-6.34 3.566c-.755.425-1.368.77-1.872.995-.508.227-1.015.387-1.54.328a2.75 2.75 0 0 1-1.921-1.124c-.31-.428-.419-.949-.47-1.503-.05-.55-.05-1.253-.05-2.12V8.434c0-.867 0-1.57.05-2.12.051-.554.16-1.075.47-1.503A2.75 2.75 0 0 1 6.69 3.687c.525-.06 1.032.1 1.54.328.504.226 1.117.57 1.873.995Zm-2.485.374c-.437-.195-.642-.22-.76-.206a1.25 1.25 0 0 0-.873.51c-.069.096-.148.287-.192.763-.043.473-.044 1.106-.044 2.02v7.057c0 .915 0 1.548.044 2.021.044.476.123.667.192.763.206.285.524.47.874.51.117.014.322-.01.759-.206.433-.194.985-.504 1.782-.952l6.273-3.529c.824-.463 1.396-.785 1.8-1.064.408-.282.538-.45.586-.557a1.25 1.25 0 0 0 0-1.027c-.048-.108-.178-.276-.586-.558-.404-.278-.976-.601-1.8-1.064L9.401 6.336c-.797-.448-1.35-.758-1.782-.952Z",clipRule:"evenodd"})}),i3=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("g",{clipPath:"url(#a)",children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"m10.217 4.787 6.358 3.577c.774.435 1.415.796 1.893 1.125.48.331.938.723 1.188 1.278a3 3 0 0 1 0 2.466c-.25.555-.708.947-1.188 1.278-.478.33-1.119.69-1.893 1.126l-6.358 3.576c-.748.42-1.37.77-1.883 1-.52.233-1.079.415-1.671.348a3 3 0 0 1-2.096-1.226c-.349-.483-.464-1.059-.516-1.626C4 17.148 4 16.435 4 15.577V8.423c0-.858 0-1.57.051-2.132.052-.567.167-1.143.516-1.626a3 3 0 0 1 2.096-1.226c.592-.067 1.15.115 1.67.348.515.23 1.136.58 1.884 1Z",clipRule:"evenodd"})}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"a",children:(0,s.jsx)("path",{fill:"currentColor",d:"M0 0H24V24H0z"})})})]}),i4=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.902 5.384c.018.077.043.153.074.226l.003.006c.276.666-.151 1.534-1.004 1.534H6.55a1.8 1.8 0 0 0-1.8 1.8v1.124c.012 0 .023-.002.035-.003h.003a2.714 2.714 0 1 1 0 5.408h-.003a1.977 1.977 0 0 1-.035-.003v1.974a1.8 1.8 0 0 0 1.8 1.8h1.974a2.21 2.21 0 0 1-.003-.035v-.003a2.713 2.713 0 1 1 5.408 0v.003a1.999 1.999 0 0 1-.003.035h1.124a1.8 1.8 0 0 0 1.8-1.8v-2.425c0-.85.866-1.284 1.536-1.003l.004.002c.073.031.149.056.226.074a1.353 1.353 0 1 0-.003-2.645c-.067.015-.141.04-.23.076-.666.276-1.533-.152-1.533-1.004V8.95a1.8 1.8 0 0 0-1.8-1.8h-1.575c-.85 0-1.284-.866-1.003-1.536l.002-.004c.031-.073.056-.149.074-.226a1.353 1.353 0 1 0-2.646 0Zm-1.477.266c-.337-1.695.945-3.4 2.8-3.4 1.856 0 3.137 1.705 2.8 3.4h1.025a3.3 3.3 0 0 1 3.3 3.3v1.025c1.695-.337 3.4.944 3.4 2.8 0 1.856-1.705 3.137-3.4 2.8v1.875a3.3 3.3 0 0 1-3.3 3.3h-1.609c-.825 0-1.24-.807-1.05-1.444.023-.082.038-.154.043-.22a1.214 1.214 0 1 0-2.418 0c.005.066.02.137.044.217v.002c.19.633-.223 1.445-1.05 1.445H6.55a3.3 3.3 0 0 1-3.3-3.3v-2.459c0-.825.807-1.24 1.444-1.05.082.023.154.038.22.043a1.214 1.214 0 1 0 0-2.418c-.066.005-.137.02-.217.044h-.002c-.633.19-1.445-.223-1.445-1.05V8.95a3.3 3.3 0 0 1 3.3-3.3h1.875Z",clipRule:"evenodd"})}),i6=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 4.5c.46 0 .833.373.833.833v5.834h5.834a.833.833 0 0 1 0 1.666h-5.834v5.834a.833.833 0 0 1-1.666 0v-5.834H5.333a.833.833 0 0 1 0-1.666h5.834V5.333c0-.46.373-.833.833-.833Z",clipRule:"evenodd"})}),i8=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 5a1 1 0 0 1 1 1v5h5a1 1 0 1 1 0 2h-5v5a1 1 0 1 1-2 0v-5H6a1 1 0 1 1 0-2h5V6a1 1 0 0 1 1-1Z",clipRule:"evenodd"})}),i9=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.25 6.5A2.25 2.25 0 0 1 4.5 4.25h15a2.25 2.25 0 0 1 2.25 2.25v11a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25v-11Zm2.25-.75a.75.75 0 0 0-.75.75v11c0 .414.336.75.75.75h15a.75.75 0 0 0 .75-.75v-11a.75.75 0 0 0-.75-.75h-15ZM5.75 8.5a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 0 1.5h-1a.75.75 0 0 1-.75-.75Zm.75 2.75a.75.75 0 0 0 0 1.5H13a.75.75 0 0 0 0-1.5H6.5Zm8.25.75a.75.75 0 0 1 .75-.75h2a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1-.75-.75ZM6.5 14.75a.75.75 0 0 0 0 1.5h11a.75.75 0 0 0 0-1.5h-11Z",clipRule:"evenodd"})}),se=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.174 3.952c0-.426.346-.772.772-.772H19.902a.772.772 0 1 1 0 1.544h-.367v9.853h.367a.772.772 0 0 1 0 1.545h-7.206v1.661l3.942 2.252a.772.772 0 0 1-.766 1.341l-3.176-1.815v1.487a.772.772 0 1 1-1.544 0v-1.421l-3.062 1.75a.772.772 0 1 1-.766-1.341l3.828-2.188v-1.726H3.946a.772.772 0 1 1 0-1.545h.368V4.724h-.368a.772.772 0 0 1-.772-.772Zm2.684.772H17.99v9.853H5.858V4.724Zm3.42 4.357a.772.772 0 0 0-1.545 0v2.28a.772.772 0 0 0 1.544 0V9.08Zm2.646-2.482c.427 0 .772.346.772.772v3.99a.772.772 0 1 1-1.544 0V7.37c0-.426.346-.772.772-.772Zm4.191 3.622a.772.772 0 1 0-1.544 0v1.14a.772.772 0 0 0 1.544 0v-1.14Z",clipRule:"evenodd"})}),st=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsxs)("g",{clipPath:"url(#a)",children:[(0,s.jsx)("path",{fill:"currentColor",d:"M24.003 12c0 6.63-5.37 12-12 12s-12-5.37-12-12 5.37-12 12-12 12 5.37 12 12Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M13.603 12h-3.4V8.41h3.4c.99 0 1.8.81 1.8 1.8 0 .991-.81 1.801-1.8 1.801m0-6h-5.8v12h2.4v-3.6h3.4a4.2 4.2 0 1 0 0-8.4Z"})]}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"a",children:(0,s.jsx)("path",{fill:"currentColor",d:"M0 0H24V24H0z"})})})]}),si=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M15 4.25a.75.75 0 0 1 .75.75v1.25H19A2.75 2.75 0 0 1 21.75 9v6A2.75 2.75 0 0 1 19 17.75h-3.25V19a.75.75 0 0 1-1.5 0v-1.25H5A2.75 2.75 0 0 1 2.25 15V9A2.75 2.75 0 0 1 5 6.25h9.25V5a.75.75 0 0 1 .75-.75ZM5 7.75h9.25v8.5H5c-.69 0-1.25-.56-1.25-1.25V9c0-.69.56-1.25 1.25-1.25Zm10.75 0v8.5H19c.69 0 1.25-.56 1.25-1.25V9c0-.69-.56-1.25-1.25-1.25h-3.25Zm-3 2.25a.75.75 0 0 0-1.5 0v4a.75.75 0 0 0 1.5 0v-4ZM9 9.25a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4A.75.75 0 0 1 9 9.25ZM6.75 10a.75.75 0 0 0-1.5 0v4a.75.75 0 0 0 1.5 0v-4Z",clipRule:"evenodd"})}),ss=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 7A.75.75 0 0 1 4 6.25h16a.75.75 0 0 1 0 1.5H4A.75.75 0 0 1 3.25 7ZM3.25 12a.75.75 0 0 1 .75-.75h16a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75ZM3.25 17a.75.75 0 0 1 .75-.75h16a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),so=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.035 11.25h3.209c.083-2.207.529-4.22 1.232-5.75.143-.313.303-.615.478-.9a8.006 8.006 0 0 0-4.92 6.65ZM12 2.5a9.5 9.5 0 1 0 0 19 9.5 9.5 0 0 0 0-19ZM12 4c-.64 0-1.459.596-2.161 2.126-.6 1.306-1.012 3.097-1.094 5.124h6.51c-.082-2.027-.494-3.818-1.094-5.124C13.46 4.596 12.64 4 12 4Zm4.756 7.25c-.083-2.207-.529-4.22-1.232-5.75a8.474 8.474 0 0 0-.478-.9 8.006 8.006 0 0 1 4.92 6.65h-3.21Zm-1.5 1.5H8.744c.082 2.027.494 3.818 1.094 5.124C10.54 19.404 11.36 20 12 20c.64 0 1.459-.596 2.161-2.126.6-1.306 1.012-3.097 1.094-5.124Zm-.21 6.65a8.47 8.47 0 0 0 .478-.9c.704-1.53 1.15-3.543 1.232-5.75h3.21a8.006 8.006 0 0 1-4.92 6.65Zm-6.092 0a8.473 8.473 0 0 1-.478-.9c-.703-1.53-1.15-3.543-1.232-5.75h-3.21a8.006 8.006 0 0 0 4.92 6.65Z",clipRule:"evenodd"})}),sr=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 10.966v4.095c0 .565.458 1.024 1.024 1.024h4.095c.566 0 1.024-.459 1.024-1.024v-4.095c0-.566-.459-1.024-1.024-1.024H6.704A3.347 3.347 0 0 1 9.845 7.75v-1.5A4.845 4.845 0 0 0 5 10.966Zm8 0v4.095c0 .565.458 1.024 1.024 1.024h4.095c.566 0 1.024-.459 1.024-1.024v-4.095c0-.566-.459-1.024-1.024-1.024h-3.415a3.347 3.347 0 0 1 3.141-2.192v-1.5A4.845 4.845 0 0 0 13 10.966Z",clipRule:"evenodd"})}),sa=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.25 5A.75.75 0 0 1 3 4.25h1A4.25 4.25 0 0 1 8.25 8.5 2.75 2.75 0 0 0 11 11.25h2a2.75 2.75 0 0 0 2.75-2.75A4.25 4.25 0 0 1 20 4.25h1a.75.75 0 0 1 0 1.5h-1a2.75 2.75 0 0 0-2.75 2.75c0 1.049-.38 2.009-1.01 2.75H21a.75.75 0 0 1 0 1.5h-4.76a4.233 4.233 0 0 1 1.01 2.75A2.75 2.75 0 0 0 20 18.25h1a.75.75 0 0 1 0 1.5h-1a4.25 4.25 0 0 1-4.25-4.25A2.75 2.75 0 0 0 13 12.75h-2a2.75 2.75 0 0 0-2.75 2.75A4.25 4.25 0 0 1 4 19.75H3a.75.75 0 0 1 0-1.5h1a2.75 2.75 0 0 0 2.75-2.75c0-1.049.38-2.009 1.01-2.75H3a.75.75 0 0 1 0-1.5h4.76A4.233 4.233 0 0 1 6.75 8.5 2.75 2.75 0 0 0 4 5.75H3A.75.75 0 0 1 2.25 5Z",clipRule:"evenodd"})}),sn=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M18.652 12.095c0-.81-.655-1.454-1.454-1.454-.378 0-.74.145-1.013.405-1.002-.715-2.373-1.18-3.899-1.24l.668-3.123 2.17.465a1.037 1.037 0 1 0 1.037-1.085c-.406 0-.763.238-.93.584l-2.42-.513a.254.254 0 0 0-.191.036.231.231 0 0 0-.107.167l-.74 3.481c-1.55.048-2.944.513-3.958 1.24a1.464 1.464 0 0 0-1.013-.405 1.452 1.452 0 0 0-.596 2.778 2.625 2.625 0 0 0-.036.44c0 2.242 2.611 4.066 5.83 4.066s5.83-1.812 5.83-4.065a2.75 2.75 0 0 0-.036-.441c.5-.227.858-.74.858-1.336Zm-9.99 1.037a1.038 1.038 0 1 1 1.037 1.038c-.572.011-1.037-.465-1.037-1.038Zm5.806 2.754c-.715.716-2.075.764-2.468.764-.405 0-1.764-.06-2.468-.764a.267.267 0 0 1 0-.381.267.267 0 0 1 .382 0c.453.453 1.406.608 2.086.608.68 0 1.645-.155 2.086-.608a.267.267 0 0 1 .382 0 .29.29 0 0 1 0 .381Zm-.191-1.704a1.038 1.038 0 1 1 1.037-1.037c0 .56-.464 1.037-1.037 1.037Z"})]}),sl=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M15.47 4.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 1 1-1.06-1.06l2.72-2.72H13.6c-1.692 0-2.917 0-3.88.08-.954.077-1.585.228-2.103.492a5.25 5.25 0 0 0-2.295 2.295c-.264.518-.415 1.15-.493 2.103-.078.963-.079 2.187-.079 3.88a.75.75 0 0 1-1.5 0v-.034c0-1.651 0-2.937.084-3.968.086-1.047.262-1.897.652-2.662a6.75 6.75 0 0 1 2.95-2.95c.765-.39 1.615-.566 2.662-.652 1.031-.084 2.317-.084 3.968-.084h4.623l-2.72-2.72a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}),sc=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.778 4.75c-.564 0-1.028.464-1.028 1.028v1.778a.75.75 0 0 1-1.5 0V5.778A2.533 2.533 0 0 1 5.778 3.25h1.778a.75.75 0 0 1 0 1.5H5.778ZM15.694 4a.75.75 0 0 1 .75-.75h1.778a2.533 2.533 0 0 1 2.528 2.528v1.778a.75.75 0 0 1-1.5 0V5.778c0-.564-.464-1.028-1.028-1.028h-1.778a.75.75 0 0 1-.75-.75ZM4 15.694a.75.75 0 0 1 .75.75v1.778c0 .564.464 1.028 1.028 1.028h1.778a.75.75 0 0 1 0 1.5H5.778a2.533 2.533 0 0 1-2.528-2.528v-1.778a.75.75 0 0 1 .75-.75ZM8.75 8.8V11.202c.001.002.005.008.013.015a.138.138 0 0 0 .094.033h4.286a.137.137 0 0 0 .094-.033.05.05 0 0 0 .012-.015l.001-.002V8.798a.051.051 0 0 0-.013-.015.137.137 0 0 0-.094-.033H8.857a.137.137 0 0 0-.094.033.053.053 0 0 0-.013.015V8.8Zm-1.5 0c0-.904.77-1.55 1.607-1.55h4.286c.838 0 1.607.646 1.607 1.55v2.4c0 .904-.77 1.55-1.607 1.55H8.857c-.838 0-1.607-.646-1.607-1.55V8.8ZM15.75 15.8V18.202a.05.05 0 0 0 .013.015.137.137 0 0 0 .094.033h4.286a.137.137 0 0 0 .094-.033.05.05 0 0 0 .013-.015V15.798a.05.05 0 0 0-.013-.015.137.137 0 0 0-.094-.033h-4.286a.137.137 0 0 0-.094.033.05.05 0 0 0-.012.015l-.001.002Zm-1.5 0c0-.904.77-1.55 1.607-1.55h4.286c.838 0 1.607.646 1.607 1.55v2.4c0 .904-.77 1.55-1.607 1.55h-4.286c-.838 0-1.607-.646-1.607-1.55v-2.4Z",clipRule:"evenodd"})}),sd=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3.75a8.25 8.25 0 1 0 0 16.5 8.25 8.25 0 0 0 0-16.5ZM2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm6 0a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),sh=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 5.25c-.69 0-1.25.56-1.25 1.25V17c0 .69.56 1.25 1.25 1.25h7a.75.75 0 0 1 0 1.5H5A2.75 2.75 0 0 1 2.25 17V6.5A2.75 2.75 0 0 1 5 3.75h4.672c.729 0 1.428.29 1.944.805l1.195 1.195H19a2.75 2.75 0 0 1 2.75 2.75V11a.75.75 0 0 1-1.5 0V8.5c0-.69-.56-1.25-1.25-1.25h-6.5a.75.75 0 0 1-.53-.22l-1.415-1.414a1.25 1.25 0 0 0-.883-.366H5Zm9.47 8.22a.75.75 0 0 1 1.06 0L18 15.94l2.47-2.47a.75.75 0 1 1 1.06 1.06L19.06 17l2.47 2.47a.75.75 0 1 1-1.06 1.06L18 18.06l-2.47 2.47a.75.75 0 1 1-1.06-1.06L16.94 17l-2.47-2.47a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}),su=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.777 13.505a.75.75 0 0 1-1.115-.007l-2.223-2.5a.75.75 0 0 1 1.122-.996l.911 1.025V6a.25.25 0 0 0-.25-.25H10a.75.75 0 0 1 0-1.5h6.222c.967 0 1.75.784 1.75 1.75v5.063l.974-1.068a.75.75 0 0 1 1.108 1.01l-2.277 2.5Zm-11.054-3.01a.75.75 0 0 1 1.115.007l2.223 2.5a.75.75 0 0 1-1.122.996l-.911-1.025V18c0 .138.112.25.25.25H14.5a.75.75 0 0 1 0 1.5H8.278A1.75 1.75 0 0 1 6.528 18v-5.063l-.974 1.068a.75.75 0 1 1-1.108-1.01l2.277-2.5Z",clipRule:"evenodd"})}),sp=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 12a8.75 8.75 0 0 1 14.584-6.522l.002.002 1.414 1.277V4a.75.75 0 0 1 1.5 0v4.444a.75.75 0 0 1-.75.75h-4.444a.75.75 0 1 1 0-1.5h2.494l-1.217-1.098-.001-.001a7.25 7.25 0 1 0 2.238 7.017.75.75 0 1 1 1.463.332A8.75 8.75 0 0 1 3.25 12Z",clipRule:"evenodd"})}),sf=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.25 8.5a4.25 4.25 0 0 1 4.25-4.25H21a.75.75 0 0 1 0 1.5h-5.5a2.75 2.75 0 0 0-2.75 2.75c0 1.049-.38 2.009-1.01 2.75H21a.75.75 0 0 1 0 1.5h-9.26a4.233 4.233 0 0 1 1.01 2.75 2.75 2.75 0 0 0 2.75 2.75H21a.75.75 0 0 1 0 1.5h-5.5a4.25 4.25 0 0 1-4.25-4.25 2.75 2.75 0 0 0-2.75-2.75H3a.75.75 0 0 1 0-1.5h5.5a2.75 2.75 0 0 0 2.75-2.75Z",clipRule:"evenodd"})}),sg=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.25 7A2.75 2.75 0 0 1 5 4.25h14A2.75 2.75 0 0 1 21.75 7v10A2.75 2.75 0 0 1 19 19.75H5A2.75 2.75 0 0 1 2.25 17V7ZM5 5.75h7.25v12.5H5c-.69 0-1.25-.56-1.25-1.25V7c0-.69.56-1.25 1.25-1.25Zm8.75 0v12.5H19c.69 0 1.25-.56 1.25-1.25V7c0-.69-.56-1.25-1.25-1.25h-5.25Zm2.05 1.5a.75.75 0 0 0 0 1.5h2a.75.75 0 0 0 0-1.5h-2Zm-.75 3.25a.75.75 0 0 1 .75-.75h2a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1-.75-.75Zm.75 1.75a.75.75 0 0 0 0 1.5h2a.75.75 0 0 0 0-1.5h-2Z",clipRule:"evenodd"})}),sm=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M5.235 21.318C3.748 21.318 3 20.612 3 19.087v-8.62c0-1.525.748-2.24 2.235-2.24h8.62c1.488 0 2.236.715 2.236 2.24v8.62c0 1.525-.748 2.231-2.236 2.231h-8.62Zm.027-1.403h8.567c.6 0 .861-.244.861-.854v-8.576c0-.61-.26-.854-.86-.854H5.261c-.592 0-.862.244-.862.854v8.576c0 .61.27.854.862.854ZM20.424 10.682a.572.572 0 0 1-.567-.571V8.73c0-1.962-1.252-3.343-3.236-3.343h-.183v1.179c0 .663-.512.82-1.024.442L13.11 5.313c-.394-.285-.384-.617 0-.902l2.304-1.704c.512-.386 1.024-.23 1.024.452v1.16h.192c2.624 0 4.37 1.777 4.37 4.41v1.382a.58.58 0 0 1-.576.57Z"})}),sv=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.631 5.357a7.012 7.012 0 0 0-6.57 9.467l.794-2.327a.679.679 0 1 1 1.284.438l-1.225 3.592a.679.679 0 0 1-.861.424L2.46 15.725a.679.679 0 0 1 .438-1.284l1.805.616a8.369 8.369 0 1 1 7.928 5.681.679.679 0 0 1 0-1.357 7.012 7.012 0 1 0 0-14.024Z",clipRule:"evenodd"})}),sy=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.25 7A2.75 2.75 0 0 1 5 4.25h14A2.75 2.75 0 0 1 21.75 7v10A2.75 2.75 0 0 1 19 19.75H5A2.75 2.75 0 0 1 2.25 17V7ZM5 5.75c-.69 0-1.25.56-1.25 1.25v10c0 .69.56 1.25 1.25 1.25h14c.69 0 1.25-.56 1.25-1.25V7c0-.69-.56-1.25-1.25-1.25H5Z",clipRule:"evenodd"})}),sb=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 4.75c-.69 0-1.25.56-1.25 1.25v12c0 .69.56 1.25 1.25 1.25h12c.69 0 1.25-.56 1.25-1.25V7.828c0-.331-.132-.649-.366-.883l-1.829-1.829a1.25 1.25 0 0 0-.883-.366h-.422V7A1.75 1.75 0 0 1 14 8.75h-4A1.75 1.75 0 0 1 8.25 7V4.75H6Zm6 0h2.25V7a.25.25 0 0 1-.25.25h-4A.25.25 0 0 1 9.75 7V4.75H12Zm4.172-1.5H6A2.75 2.75 0 0 0 3.25 6v12A2.75 2.75 0 0 0 6 20.75h12A2.75 2.75 0 0 0 20.75 18V7.828c0-.729-.29-1.428-.805-1.944l-1.829-1.829a2.75 2.75 0 0 0-1.944-.805ZM9.75 14a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0ZM12 10.25a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5Z",clipRule:"evenodd"})}),sw=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 6A2.75 2.75 0 0 1 6 3.25h5a.75.75 0 0 1 0 1.5H6c-.69 0-1.25.56-1.25 1.25v12c0 .69.56 1.25 1.25 1.25h12c.69 0 1.25-.56 1.25-1.25v-5a.75.75 0 0 1 1.5 0v5A2.75 2.75 0 0 1 18 20.75H6A2.75 2.75 0 0 1 3.25 18V6Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M15 4.75a.75.75 0 0 1 0-1.5h5a.75.75 0 0 1 .75.75v5a.75.75 0 0 1-1.5 0V5.81l-7.44 7.44H15a.75.75 0 0 1 0 1.5h-5a.75.75 0 0 1-.75-.75V9a.75.75 0 0 1 1.5 0v3.19l7.44-7.44H15Z",clipRule:"evenodd"})]}),sx=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.25 4a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0V4.75H14a.75.75 0 0 1-.75-.75ZM10.75 20a.75.75 0 0 1-.75.75H4a.75.75 0 0 1-.75-.75v-6a.75.75 0 0 1 1.5 0v5.25H10a.75.75 0 0 1 .75.75Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"m3.47 19.47 16-16 1.06 1.06-16 16-1.06-1.06Z",clipRule:"evenodd"})]}),s_=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.667 4.75a1.917 1.917 0 1 0 0 3.833 1.917 1.917 0 0 0 0-3.833ZM3.25 6.667A3.417 3.417 0 1 1 9.568 8.47l2.721 2.51 7.202-6.643A.75.75 0 0 1 20.51 5.44L9.569 15.53a3.417 3.417 0 1 1-1.053-1.07L11.183 12 8.515 9.54A3.417 3.417 0 0 1 3.25 6.666Zm10.865 7.017a.75.75 0 0 1 1.06-.042l5.333 4.918a.75.75 0 1 1-1.016 1.103l-5.334-4.919a.75.75 0 0 1-.043-1.06Zm-7.448 1.733a1.917 1.917 0 1 0 0 3.833 1.917 1.917 0 0 0 0-3.833Z",clipRule:"evenodd"})}),sC=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.75 9.5a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0ZM9.5 2.25a7.25 7.25 0 1 0 4.569 12.88l5.4 5.4a.75.75 0 1 0 1.061-1.06l-5.4-5.401A7.25 7.25 0 0 0 9.5 2.25Z",clipRule:"evenodd"})}),sk=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.012 4.35c-.17-1.5 1.514-2.496 2.748-1.625l13.222 9.335c1.383.977.712 3.152-.98 3.18l-6.661.11a.25.25 0 0 0-.213.127L9.066 20.88c-.836 1.475-3.071 1.019-3.261-.666L4.012 4.35Zm1.883-.4a.25.25 0 0 0-.393.232l1.793 15.863a.25.25 0 0 0 .466.095l3.061-5.403a1.75 1.75 0 0 1 1.494-.887l6.66-.11a.25.25 0 0 0 .141-.454L5.895 3.95Z",clipRule:"evenodd"})}),sS=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 6a3 3 0 0 1 5.92-.692h6.16a3.001 3.001 0 1 1 3.612 3.612v6.16a3.001 3.001 0 1 1-3.612 3.612H8.92a3.001 3.001 0 1 1-3.612-3.612V8.92A3.001 3.001 0 0 1 3 6Zm3.692 2.92v6.16a3.004 3.004 0 0 1 2.228 2.228h6.16a3.004 3.004 0 0 1 2.228-2.228V8.92a3.004 3.004 0 0 1-2.228-2.228H8.92A3.005 3.005 0 0 1 6.692 8.92ZM6 4.385a1.615 1.615 0 1 0 0 3.23 1.615 1.615 0 0 0 0-3.23Zm12 0a1.615 1.615 0 1 0 0 3.23 1.615 1.615 0 0 0 0-3.23Zm-12 12a1.615 1.615 0 1 0 0 3.23 1.615 1.615 0 0 0 0-3.23Zm12 0a1.615 1.615 0 1 0 0 3.23 1.615 1.615 0 0 0 0-3.23Z",clipRule:"evenodd"})}),sM=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3a.657.657 0 0 0 0 1.317h2.625v15.366H12A.657.657 0 0 0 12 21h6.563a.657.657 0 0 0 0-1.317h-2.625V4.317h2.624a.657.657 0 0 0 0-1.317H12ZM5 7.39a.438.438 0 0 0-.438.44v8.78c0 .242.196.439.438.439h7.656a.657.657 0 0 1 0 1.317H5c-.966 0-1.75-.786-1.75-1.756V7.83c0-.97.784-1.757 1.75-1.757h7.656a.657.657 0 0 1 0 1.317H5Zm14 9.659a.438.438 0 0 0 .438-.44V7.83A.438.438 0 0 0 19 7.39h-1.094a.657.657 0 0 1 0-1.317H19c.966 0 1.75.786 1.75 1.756v8.78c0 .97-.784 1.757-1.75 1.757h-1.094a.657.657 0 0 1 0-1.317H19Z",clipRule:"evenodd"})}),sE=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 3.25A2.75 2.75 0 0 0 3.25 6v12A2.75 2.75 0 0 0 6 20.75h5a.75.75 0 0 0 0-1.5H6c-.69 0-1.25-.56-1.25-1.25V6c0-.69.56-1.25 1.25-1.25h12c.69 0 1.25.56 1.25 1.25v5a.75.75 0 0 0 1.5 0V6A2.75 2.75 0 0 0 18 3.25H6Zm7.939 10.041a.5.5 0 0 0-.648.648l2.957 7.556a.5.5 0 0 0 .936-.012l1.061-2.937a.5.5 0 0 1 .3-.3l2.938-1.062a.5.5 0 0 0 .012-.936l-7.556-2.957Z",clipRule:"evenodd"})}),sI=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M20.088 4.143s1.804-.703 1.653 1.005c-.05.704-.5 3.166-.851 5.828l-1.203 7.888s-.1 1.156-1.002 1.357c-.902.2-2.255-.703-2.506-.904-.2-.151-3.757-2.412-5.01-3.517-.351-.302-.752-.905.05-1.608l5.26-5.025c.602-.602 1.203-2.009-1.302-.3l-7.015 4.772s-.802.503-2.305.05L2.6 12.684s-1.203-.753.852-1.507c5.01-2.361 11.174-4.772 16.635-7.034h.001Z"})}),sB=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.596 4.14c.612-2.52 4.196-2.52 4.808 0a.974.974 0 0 0 1.454.602c2.215-1.35 4.75 1.186 3.4 3.4a.974.974 0 0 0 .602 1.454c2.52.612 2.52 4.196 0 4.808a.974.974 0 0 0-.602 1.454c1.35 2.215-1.185 4.75-3.4 3.4a.974.974 0 0 0-1.454.602c-.612 2.52-4.196 2.52-4.808 0a.974.974 0 0 0-1.454-.602c-2.214 1.35-4.75-1.185-3.4-3.4a.974.974 0 0 0-.602-1.454c-2.52-.612-2.52-4.196 0-4.808a.974.974 0 0 0 .602-1.454c-1.35-2.214 1.186-4.75 3.4-3.4a.974.974 0 0 0 1.454-.602Zm3.35.354c-.24-.992-1.652-.992-1.893 0a2.474 2.474 0 0 1-3.691 1.53c-.872-.532-1.87.466-1.339 1.338.872 1.43.1 3.296-1.529 3.691-.992.241-.992 1.653 0 1.893a2.474 2.474 0 0 1 1.53 3.692c-.532.872.466 1.87 1.338 1.339a2.474 2.474 0 0 1 3.691 1.529c.241.992 1.653.992 1.893 0a2.474 2.474 0 0 1 3.692-1.53c.872.532 1.87-.466 1.339-1.338a2.474 2.474 0 0 1 1.529-3.692c.992-.24.992-1.652 0-1.893a2.474 2.474 0 0 1-1.53-3.691c.532-.872-.466-1.87-1.338-1.339-1.43.872-3.296.1-3.692-1.529ZM12 9.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM8.25 12a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0Z",clipRule:"evenodd"})}),s$=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3.25a.75.75 0 0 1 .651.378l3.556 6.222a.75.75 0 0 1-.651 1.122H8.444a.75.75 0 0 1-.65-1.122l3.555-6.222A.75.75 0 0 1 12 3.25ZM9.737 9.472h4.526L12 5.512l-2.263 3.96ZM7.11 14.528a2.361 2.361 0 1 0 0 4.722 2.361 2.361 0 0 0 0-4.722Zm-3.861 2.36a3.861 3.861 0 1 1 7.722 0 3.861 3.861 0 0 1-7.722 0Zm9.778-3.11a.75.75 0 0 1 .75-.75H20a.75.75 0 0 1 .75.75V20a.75.75 0 0 1-.75.75h-6.222a.75.75 0 0 1-.75-.75v-6.222Zm1.5.75v4.722h4.722v-4.722h-4.722Z",clipRule:"evenodd"})}),sT=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M18 3.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM14.25 6a3.75 3.75 0 1 1 .799 2.314l-5.427 2.713a3.753 3.753 0 0 1 0 1.946l5.427 2.713a3.75 3.75 0 1 1-.671 1.341L8.95 14.314a3.75 3.75 0 1 1 0-4.628l5.427-2.713A3.751 3.751 0 0 1 14.25 6ZM6 9.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm12 6a2.25 2.25 0 1 0-.002 4.5 2.25 2.25 0 0 0 .002-4.5Z",clipRule:"evenodd"})}),sO=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.601 3.315a.75.75 0 0 1 .807.128l6.095 5.5a.75.75 0 0 1 0 1.114l-6.095 5.5A.75.75 0 0 1 14.156 15v-2.735c-2.614.106-4.1.76-4.92 1.345-.45.322-.715.633-.862.847a1.884 1.884 0 0 0-.166.29v.002A.75.75 0 0 1 6.75 14.5c0-3.006 1.322-4.981 3.035-6.178 1.4-.977 3.035-1.419 4.37-1.538V4a.75.75 0 0 1 .446-.685Zm-5.996 8.911c1.227-.793 3.191-1.476 6.3-1.476a.75.75 0 0 1 .75.75v1.813L19.882 9.5l-4.225-3.813V7.5a.75.75 0 0 1-.75.75c-1.202 0-2.894.347-4.262 1.302-.866.605-1.619 1.462-2.039 2.675Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 5.75c-.69 0-1.25.56-1.25 1.25v11c0 .69.56 1.25 1.25 1.25h11c.69 0 1.25-.56 1.25-1.25v-2a.75.75 0 0 1 1.5 0v2A2.75 2.75 0 0 1 17 20.75H6A2.75 2.75 0 0 1 3.25 18V7A2.75 2.75 0 0 1 6 4.25h4a.75.75 0 0 1 0 1.5H6Z",clipRule:"evenodd"})]}),sP=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 5.75a.75.75 0 0 0 0 1.5h14a.75.75 0 0 0 0-1.5H5Zm0 3.5a.75.75 0 0 0 0 1.5h7a.75.75 0 0 0 0-1.5H5Z",clipRule:"evenodd"})}),sA=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.35 7.25a2.501 2.501 0 0 1 2.4-1.8h5.5a2.5 2.5 0 0 1 0 5h-5.5c-1.1 0-2.036-.712-2.37-1.7H7.237c.47.627.75 1.406.75 2.25v2a2.25 2.25 0 0 0 2.25 2.25h.113a2.501 2.501 0 0 1 2.401-1.8h5.5a2.5 2.5 0 1 1 0 5h-5.5c-1.1 0-2.036-.712-2.37-1.7h-.145A3.75 3.75 0 0 1 6.485 13v-2a2.25 2.25 0 0 0-2.25-2.25H2v-1.5h8.35Zm2.4-.3a1 1 0 1 0 0 2h5.5a1 1 0 1 0 0-2h-5.5Zm0 8a1 1 0 1 0 0 2h5.5a1 1 0 0 0 0-2h-5.5Z",clipRule:"evenodd"})}),sH=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.25 7A2.75 2.75 0 0 1 5 4.25h14A2.75 2.75 0 0 1 21.75 7v10A2.75 2.75 0 0 1 19 19.75H5A2.75 2.75 0 0 1 2.25 17V7ZM5 5.75h5.25v12.5H5c-.69 0-1.25-.56-1.25-1.25V7c0-.69.56-1.25 1.25-1.25Zm6.75 0v12.5H19c.69 0 1.25-.56 1.25-1.25V7c0-.69-.56-1.25-1.25-1.25h-7.25ZM6 7.25a.75.75 0 0 0 0 1.5h2a.75.75 0 0 0 0-1.5H6Zm-.75 3.25A.75.75 0 0 1 6 9.75h2a.75.75 0 0 1 0 1.5H6a.75.75 0 0 1-.75-.75ZM6 12.25a.75.75 0 0 0 0 1.5h2a.75.75 0 0 0 0-1.5H6Z",clipRule:"evenodd"})}),sL=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 2.25A2.75 2.75 0 0 0 5.25 5v14A2.75 2.75 0 0 0 8 21.75h5A2.75 2.75 0 0 0 15.75 19v-1.5a.75.75 0 0 0-1.5 0V19c0 .69-.56 1.25-1.25 1.25H8c-.69 0-1.25-.56-1.25-1.25V5c0-.69.56-1.25 1.25-1.25h5c.69 0 1.25.56 1.25 1.25v1.5a.75.75 0 0 0 1.5 0V5A2.75 2.75 0 0 0 13 2.25H8Zm10.03 6.22a.75.75 0 1 0-1.06 1.06l1 1 .72.72H11a.75.75 0 0 0 0 1.5h7.69l-.72.72-1 1a.75.75 0 1 0 1.06 1.06l1-1 2-2a.75.75 0 0 0 0-1.06l-2-2-1-1Z",clipRule:"evenodd"})}),sD=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.75 12a8.25 8.25 0 1 1 16.5 0 8.25 8.25 0 0 1-16.5 0ZM12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-2.47 8.22a.75.75 0 0 0-1.06 1.06l3 3a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06L12 12.94l-2.47-2.47Z",clipRule:"evenodd"})}),sZ=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3.75a8.25 8.25 0 1 0 0 16.5 8.25 8.25 0 0 0 0-16.5ZM2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.53 9.53a.75.75 0 0 0-1.06-1.06l-4.97 4.97-1.47-1.47a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.06 0l5.5-5.5Z",clipRule:"evenodd"})]}),sj=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 21.5a9.5 9.5 0 1 0 0-19 9.5 9.5 0 0 0 0 19Zm4.225-12.136a.75.75 0 1 0-1.061-1.061l-5.275 5.275-1.581-1.58a.75.75 0 1 0-1.06 1.06l2.11 2.111a.75.75 0 0 0 1.061 0l5.806-5.805Z",clipRule:"evenodd"})}),sV=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3.75a8.25 8.25 0 1 0 0 16.5 8.25 8.25 0 0 0 0-16.5ZM2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Z",clipRule:"evenodd"})}),sR=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3.75A8.213 8.213 0 0 0 3.75 12 8.213 8.213 0 0 0 12 20.25 8.213 8.213 0 0 0 20.25 12 8.213 8.213 0 0 0 12 3.75ZM2.25 12A9.713 9.713 0 0 1 12 2.25 9.713 9.713 0 0 1 21.75 12 9.713 9.713 0 0 1 12 21.75 9.713 9.713 0 0 1 2.25 12ZM8.5 7.75a.75.75 0 0 1 .75.75V10a.75.75 0 0 1-1.5 0V8.5a.75.75 0 0 1 .75-.75Zm7 0a.75.75 0 0 1 .75.75V10a.75.75 0 0 1-1.5 0V8.5a.75.75 0 0 1 .75-.75Zm-8.682 5.522a.75.75 0 0 1 .91.546C8.134 15.443 9.683 16.75 12 16.75s3.866-1.307 4.272-2.932a.75.75 0 0 1 1.456.364c-.594 2.376-2.812 4.068-5.728 4.068s-5.134-1.692-5.728-4.068a.75.75 0 0 1 .546-.91Z",clipRule:"evenodd"})}),sz=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.75 4.25A.75.75 0 0 0 5 5v3a.75.75 0 0 0 1.5 0V5.75h2.25a.75.75 0 0 0 0-1.5h-3Zm0 15.5A.75.75 0 0 1 5 19v-3a.75.75 0 0 1 1.5 0v2.25h2.25a.75.75 0 0 1 0 1.5h-3ZM19.5 5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0 0 1.5H18V8a.75.75 0 0 0 1.5 0V5Zm-.75 14.75a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-1.5 0v2.25h-2.25a.75.75 0 0 0 0 1.5h3Z",clipRule:"evenodd"})}),sF=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.75 16.688a.75.75 0 0 1-1.5 0V6.123l-3.22 3.22a.75.75 0 1 1-1.06-1.06l4.5-4.5a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06l-3.22-3.22v10.564Zm-10-9.375a.75.75 0 0 0-1.5 0v10.564l-3.22-3.22a.75.75 0 0 0-1.06 1.06l4.5 4.5a.75.75 0 0 0 1.06 0l4.5-4.5a.75.75 0 1 0-1.06-1.06l-3.22 3.22V7.313Z",clipRule:"evenodd"})}),sN=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.05 6a.75.75 0 1 0-1.5 0v10.19l-2.72-2.72a.75.75 0 0 0-1.06 1.06l4 4a.75.75 0 0 0 1.06 0l4-4a.75.75 0 1 0-1.06-1.06l-2.72 2.72V6Zm4.95.75h6a.75.75 0 0 0 0-1.5h-6a.75.75 0 0 0 0 1.5Zm1 4a.75.75 0 0 0 0 1.5h5a.75.75 0 0 0 0-1.5h-5Zm5 7h-4a.75.75 0 0 1 0-1.5h4a.75.75 0 0 1 0 1.5Z",clipRule:"evenodd"})}),sq=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14 6.75h6a.75.75 0 0 0 0-1.5h-6a.75.75 0 0 0 0 1.5Zm1 4a.75.75 0 0 0 0 1.5h5a.75.75 0 0 0 0-1.5h-5Zm5 7h-4a.75.75 0 0 1 0-1.5h4a.75.75 0 0 1 0 1.5ZM9.05 18a.75.75 0 0 1-1.5 0V7.81l-2.72 2.72a.75.75 0 1 1-1.06-1.06l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L9.05 7.81V18Z",clipRule:"evenodd"})}),sU=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.75 4A1.75 1.75 0 0 0 4 5.75v12c0 .966.784 1.75 1.75 1.75h12a1.75 1.75 0 0 0 1.75-1.75v-12A1.75 1.75 0 0 0 17.75 4h-12ZM11 5.5H5.75a.25.25 0 0 0-.25.25v12c0 .138.112.25.25.25H11V5.5ZM12.5 18V5.5h5.25a.25.25 0 0 1 .25.25v12a.25.25 0 0 1-.25.25H12.5Z",clipRule:"evenodd"})}),sW=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 3.25h17.5v17.5H3.25V3.25Zm1.5 1.5v14.5h14.5V4.75H4.75Z",clipRule:"evenodd"})}),sG=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.218 12.75a.75.75 0 0 0 .559-.245l2.277-2.5a.75.75 0 1 0-1.108-1.01l-.974 1.068V5a1.75 1.75 0 0 0-1.75-1.75H12a.75.75 0 0 0 0 1.5h6.222a.25.25 0 0 1 .25.25v5.027l-.911-1.025a.75.75 0 0 0-1.122.996l2.223 2.5a.75.75 0 0 0 .556.252Zm-14.936-1.5a.75.75 0 0 0-.559.245l-2.277 2.5a.75.75 0 1 0 1.108 1.01l.974-1.068V19c0 .966.783 1.75 1.75 1.75H11.5a.75.75 0 0 0 0-1.5H5.278a.25.25 0 0 1-.25-.25v-5.027l.911 1.025a.75.75 0 0 0 1.122-.996l-2.223-2.5a.75.75 0 0 0-.556-.252ZM13.25 9a.75.75 0 0 0-.987-.712l-1.5.5a.75.75 0 0 0 .474 1.423l.513-.17v4.209H10.5a.75.75 0 0 0 0 1.5h4a.75.75 0 0 0 0-1.5h-1.25V9Z",clipRule:"evenodd"})}),sY=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.25 12a.75.75 0 0 1 .75-.75h18a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),sK=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.53 7.47a.75.75 0 0 1 0 1.06l-2.72 2.72H21a.75.75 0 0 1 0 1.5H4.81l2.72 2.72a.75.75 0 1 1-1.06 1.06l-4-4a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})}),sX=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M6 8.25a3.75 3.75 0 1 0 3.675 4.5H21a.75.75 0 0 0 0-1.5H9.675A3.751 3.751 0 0 0 6 8.25Z"})}),sQ=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.47 8.47a.75.75 0 0 1 1.06 0l2.78 2.78H21a.75.75 0 0 1 0 1.5H9.31l-2.78 2.78a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 0 1 0-1.06l3-3Z",clipRule:"evenodd"})}),sJ=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M7.75 8a.75.75 0 0 0-1.28-.53l-4 4a.75.75 0 0 0 0 1.06l4 4A.75.75 0 0 0 7.75 16v-3.25H21a.75.75 0 0 0 0-1.5H7.75V8Z"})}),s1=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3.75a8.25 8.25 0 1 0 0 16.5 8.25 8.25 0 0 0 0-16.5ZM2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM10 8.25a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm4.75.75a.75.75 0 0 0-1.5 0v6a.75.75 0 0 0 1.5 0V9Z",clipRule:"evenodd"})}),s0=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.5 12a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0Zm1.5 0c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10ZM10 8a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-4Z",clipRule:"evenodd"})}),s2=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.53 3.47a.75.75 0 0 1 0 1.06l-16 16a.75.75 0 0 1-1.06-1.06l16-16a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})}),s5=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.406 7.464a3.468 3.468 0 0 1 6.59-1.513.77.77 0 0 0 1.385-.673 5.009 5.009 0 0 0-9.05 4.3h1.793a3.453 3.453 0 0 1-.718-2.114Zm6.512 8.476c0-.795-.268-1.528-.718-2.113h1.792a5.008 5.008 0 0 1-9.05 4.299.77.77 0 1 1 1.387-.673 3.468 3.468 0 0 0 6.589-1.513ZM4.297 10.905a.797.797 0 0 0 0 1.594h15.406a.797.797 0 0 0 0-1.594H4.297Z",clipRule:"evenodd"})}),s7=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.25 5.45c0-1.204.964-2.2 2.178-2.2h11.144c1.214 0 2.178.996 2.178 2.2v5.394c0 1.478-.84 2.83-2.166 3.468l-1.842.884a1.274 1.274 0 0 0-.683 1.41l.054.26c.414 1.987-1.077 3.884-3.113 3.884s-3.527-1.897-3.113-3.884l.054-.26a1.273 1.273 0 0 0-.683-1.41l-1.842-.884a3.842 3.842 0 0 1-2.166-3.468V5.45Zm1.503 5.522a2.339 2.339 0 0 0 1.313 1.988l1.841.883a2.773 2.773 0 0 1 1.503 3.068l-.055.26c-.226 1.085.59 2.079 1.645 2.079 1.055 0 1.87-.994 1.645-2.079l-.055-.26a2.773 2.773 0 0 1 1.503-3.068l1.841-.883a2.339 2.339 0 0 0 1.313-1.988H5.753Zm12.497-1.5H5.75V5.45c0-.398.314-.7.678-.7h2.197v2.806a.75.75 0 0 0 1.5 0V4.75h3.75v1.917a.75.75 0 0 0 1.5 0V4.75h2.197a.69.69 0 0 1 .678.7v4.022Z",clipRule:"evenodd"})}),s3=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.47 3.47a.75.75 0 0 0 0 1.06l16 16a.75.75 0 1 0 1.06-1.06l-16-16a.75.75 0 0 0-1.06 0Z",clipRule:"evenodd"})}),s4=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.27 3.831a.75.75 0 0 1 .899-.562c6.615 1.527 12.546 4.893 15.306 7.15.361.296.66.6.846.919.195.335.305.77.11 1.21-.176.393-.523.617-.807.75-.3.142-.659.242-1.032.319-.75.155-1.715.25-2.739.336l-.756.063c-.817.066-1.667.135-2.514.23-2.243.249-4.034.569-5.13.952-.443.155-.694.295-.82.39.41.486 1.095.97 1.966 1.428.891.468 1.915.875 2.895 1.212a36.166 36.166 0 0 0 3.59 1.023l.056.012.014.003h.003a.75.75 0 0 1-.314 1.467L15 20l-.157.733h-.002l-.005-.001-.017-.004-.062-.014a29.09 29.09 0 0 1-1.072-.262c-.7-.183-1.656-.454-2.679-.805-1.02-.35-2.121-.787-3.105-1.303-.97-.51-1.89-1.13-2.487-1.876-.188-.235-.339-.535-.343-.888a1.34 1.34 0 0 1 .337-.889c.352-.414.94-.696 1.55-.909 1.266-.443 3.202-.777 5.46-1.027a87.805 87.805 0 0 1 2.572-.236l.737-.06c1.034-.088 1.913-.177 2.56-.31.288-.06.5-.123.645-.184a3.163 3.163 0 0 0-.407-.384c-2.587-2.117-8.31-5.377-14.694-6.85a.75.75 0 0 1-.562-.9Z",clipRule:"evenodd"})}),s6=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.354 11.25a2.751 2.751 0 0 1 2.646-2h5a2.75 2.75 0 1 1 0 5.5h-5a2.751 2.751 0 0 1-2.646-2H2a.75.75 0 0 1 0-1.5h8.354Zm2.646-.5a1.25 1.25 0 1 0 0 2.5h5a1.25 1.25 0 1 0 0-2.5h-5Z",clipRule:"evenodd"})}),s8=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z",opacity:.14}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm14.678-3.735a1 1 0 0 1 .057 1.413l-5.539 6a1 1 0 0 1-1.47 0l-2.46-2.666a1 1 0 1 1 1.469-1.357l1.726 1.87 4.804-5.203a1 1 0 0 1 1.413-.057Z",clipRule:"evenodd"})]}),s9=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.5 5c.064 0 .117.048.124.11.046.405.169.7.368.902.198.202.486.327.894.363a.125.125 0 0 1 0 .25c-.401.034-.696.16-.899.362-.203.203-.328.498-.363.899a.125.125 0 0 1-.248 0c-.037-.408-.162-.696-.364-.894-.203-.2-.497-.322-.901-.368a.125.125 0 0 1 0-.248c.41-.048.699-.17.897-.368.198-.198.32-.487.368-.897A.125.125 0 0 1 11.5 5ZM8.073 6.244a.275.275 0 0 0-.546 0c-.104.903-.374 1.538-.81 1.973-.435.436-1.07.706-1.974.81a.275.275 0 0 0 .001.546c.888.1 1.537.37 1.983.809.444.436.72 1.07.8 1.967a.275.275 0 0 0 .547 0c.076-.882.352-1.53.798-1.977.447-.446 1.095-.722 1.977-.798a.275.275 0 0 0 0-.548c-.896-.08-1.531-.355-1.967-.8-.438-.445-.708-1.094-.809-1.982Zm6.427.506a.75.75 0 0 0 0 1.5H19a.75.75 0 0 0 0-1.5h-4.5Zm-1.5 3.5a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5h-6ZM4.25 14.5a.75.75 0 0 1 .75-.75h14a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75ZM5 17.25a.75.75 0 0 0 0 1.5h14a.75.75 0 0 0 0-1.5H5Z",clipRule:"evenodd"})}),oe=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.564 7.467a3.017 3.017 0 0 1 2.903-2.903l4.606-.17c.323-.013.636.11.864.338l6.647 6.648a1.16 1.16 0 0 1 0 1.64l-6.563 6.564a1.16 1.16 0 0 1-1.641 0l-6.648-6.647a1.16 1.16 0 0 1-.339-.864l.17-4.606Zm2.851-4.295a4.41 4.41 0 0 0-4.243 4.243l-.17 4.607c-.027.71.244 1.397.746 1.9l6.647 6.647a2.553 2.553 0 0 0 3.61 0l6.564-6.564a2.553 2.553 0 0 0 0-3.61L13.92 3.748a2.553 2.553 0 0 0-1.9-.746l-4.606.17Zm.847 5.09A.928.928 0 1 0 6.95 6.95a.928.928 0 0 0 1.313 1.313Z",clipRule:"evenodd"})}),ot=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.263 2.48a.735.735 0 0 0 .054 1.47l4.276-.159c.34-.012.67.117.911.358l6.307 6.307a.735.735 0 1 0 1.039-1.04L14.543 3.11a2.694 2.694 0 0 0-2.005-.788l-4.275.159Zm-.536 4.242a3.185 3.185 0 0 0-3.065 3.065l-.126 3.41c-.013.34.117.67.358.91l5.618 5.619a1.225 1.225 0 0 0 1.732 0l5.422-5.422a1.225 1.225 0 0 0 0-1.732l-5.618-5.618c-.241-.241-.572-.37-.912-.358l-3.41.126Zm-4.534 3.01a4.654 4.654 0 0 1 4.48-4.479l3.409-.126a2.695 2.695 0 0 1 2.005.788l5.618 5.617a2.695 2.695 0 0 1 0 3.811l-5.422 5.422a2.695 2.695 0 0 1-3.81 0l-5.619-5.618a2.694 2.694 0 0 1-.787-2.005l.126-3.41Zm4.673-.976a.828.828 0 1 1-1.17 1.17.828.828 0 0 1 1.17-1.17Z",clipRule:"evenodd"})}),oi=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",d:"M12 2a9.999 9.999 0 0 0-7.07 17.071A9.999 9.999 0 1 0 19.07 4.93 9.999 9.999 0 0 0 12 2Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M6.527 11.894c2.915-1.27 4.86-2.107 5.83-2.511 2.78-1.156 3.356-1.356 3.732-1.363.083-.001.267.02.388.116a.43.43 0 0 1 .142.271c.012.078.03.255.015.394-.15 1.581-.801 5.418-1.132 7.19-.14.749-.416 1-.683 1.024-.581.054-1.022-.383-1.585-.752-.88-.577-1.376-.936-2.23-1.499-.988-.65-.348-1.008.215-1.593.147-.153 2.706-2.48 2.755-2.691.006-.026.012-.125-.047-.177-.058-.052-.144-.034-.207-.02-.089.02-1.493.95-4.218 2.788-.399.274-.76.408-1.085.4-.356-.007-1.043-.201-1.554-.367-.625-.204-1.124-.311-1.08-.657.022-.18.27-.364.744-.553Z"})]}),os=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 4A.75.75 0 0 1 4 3.25h16a.75.75 0 0 1 .75.75v2.667a.75.75 0 0 1-1.5 0V4.75h-6.5v14.5H16a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1 0-1.5h3.25V4.75h-6.5v1.917a.75.75 0 0 1-1.5 0V4Z",clipRule:"evenodd"})}),oo=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.75 6a.75.75 0 0 1 .75-.75h15a.75.75 0 0 1 0 1.5h-15A.75.75 0 0 1 3.75 6Zm3.5 6a.75.75 0 0 1 .75-.75h8a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1-.75-.75ZM6 17.25a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5H6Z",clipRule:"evenodd"})}),or=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.75 6a.75.75 0 0 0-.75-.75H5a.75.75 0 0 0 0 1.5h15a.75.75 0 0 0 .75-.75Zm-7 6a.75.75 0 0 0-.75-.75H5a.75.75 0 0 0 0 1.5h8a.75.75 0 0 0 .75-.75Zm3 6a.75.75 0 0 0-.75-.75H5a.75.75 0 0 0 0 1.5h11a.75.75 0 0 0 .75-.75Z",clipRule:"evenodd"})}),oa=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.25 6A.75.75 0 0 1 5 5.25h15a.75.75 0 0 1 0 1.5H5A.75.75 0 0 1 4.25 6Zm7 6a.75.75 0 0 1 .75-.75h8a.75.75 0 0 1 0 1.5h-8a.75.75 0 0 1-.75-.75Zm-3 6a.75.75 0 0 1 .75-.75h11a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),on=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.15 5.5A2.35 2.35 0 0 1 5.5 3.15h13a2.35 2.35 0 0 1 2.35 2.35v13a2.35 2.35 0 0 1-2.35 2.35h-13a2.35 2.35 0 0 1-2.35-2.35v-13Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",fillOpacity:.3,fillRule:"evenodd",d:"M3.15 5.5A2.35 2.35 0 0 1 5.5 3.15h13a2.35 2.35 0 0 1 2.35 2.35v13a2.35 2.35 0 0 1-2.35 2.35h-13a2.35 2.35 0 0 1-2.35-2.35v-13ZM5.5 3.85A1.65 1.65 0 0 0 3.85 5.5v13c0 .911.739 1.65 1.65 1.65h13a1.65 1.65 0 0 0 1.65-1.65v-13a1.65 1.65 0 0 0-1.65-1.65h-13Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.622 7.505a1.471 1.471 0 0 1 2.756 0l3.324 8.865a.75.75 0 0 1-1.404.527l-.94-2.505H9.642l-.94 2.505a.75.75 0 0 1-1.404-.527l3.324-8.865Zm-.418 5.387h3.592L12 8.102l-1.796 4.79Z",clipRule:"evenodd"})]}),ol=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.453 4.622a1.652 1.652 0 0 1 3.094 0l4.155 11.081a.75.75 0 0 1-1.404.527l-1.22-3.253H8.922l-1.22 3.253a.75.75 0 0 1-1.404-.527l4.155-11.081Zm-.969 6.855h5.031L12.142 5.15a.152.152 0 0 0-.284 0l-2.374 6.328Z",clipRule:"evenodd"}),(0,s.jsx)("rect",{width:16,height:2.5,x:4,y:18,fill:"currentColor",rx:1})]}),oc=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.667 4.707c-.73 0-1.381.461-1.622 1.15l-2.286 6.531-.329.94-1.325 3.786a.886.886 0 0 0 1.673.585l1.117-3.193h5.543l1.118 3.193a.886.886 0 0 0 1.672-.585l-1.325-3.787-.329-.939-2.285-6.53a1.718 1.718 0 0 0-1.622-1.151Zm0 1.88 2.151 6.147H6.515l2.152-6.147Zm4.363-1.67a.805.805 0 1 0 0 1.61h7.22a.805.805 0 0 0 0-1.61h-7.22Zm1.805 5.886a.806.806 0 0 0 0 1.611h5.415a.806.806 0 0 0 0-1.61h-5.415Zm.398 6.693c0-.445.36-.805.805-.805h4.212a.805.805 0 1 1 0 1.61h-4.212a.805.805 0 0 1-.805-.805Z",clipRule:"evenodd"})}),od=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.25 7A2.75 2.75 0 0 1 10 4.25h3a.75.75 0 0 1 0 1.5h-3c-.69 0-1.25.56-1.25 1.25v4.25h6.5V7A2.75 2.75 0 0 1 18 4.25h3a.75.75 0 0 1 0 1.5h-3c-.69 0-1.25.56-1.25 1.25v4.25H21a.75.75 0 0 1 0 1.5h-7.25V17c0 .69.56 1.25 1.25 1.25h3a.75.75 0 0 1 0 1.5h-3A2.75 2.75 0 0 1 12.25 17v-4.25H3a.75.75 0 0 1 0-1.5h4.25V7Z",clipRule:"evenodd"})}),oh=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.84 5.25a.75.75 0 0 0-.75.75v2a.75.75 0 0 0 1.5 0V6.75H7v10.5H5.023a.75.75 0 0 0 0 1.5h5.454a.75.75 0 1 0 0-1.5H8.5V6.75h3.41V8a.75.75 0 0 0 1.5 0V6a.75.75 0 0 0-.75-.75H2.84Zm12.764 0a.75.75 0 0 0 0 1.5h5.455a.75.75 0 1 0 0-1.5h-5.455Zm-.75 6.75a.75.75 0 0 1 .75-.75h5.455a.75.75 0 1 1 0 1.5h-5.455a.75.75 0 0 1-.75-.75Zm.75 5.25a.75.75 0 0 0 0 1.5h5.455a.75.75 0 1 0 0-1.5h-5.455Z",clipRule:"evenodd"})}),ou=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 6A.75.75 0 0 1 4 5.25h13a.75.75 0 0 1 0 1.5H4A.75.75 0 0 1 3.25 6ZM3.25 12a.75.75 0 0 1 .75-.75h13a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75ZM3.25 18a.75.75 0 0 1 .75-.75h13a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",d:"M20.8 12a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM20.8 18a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM20.8 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"})]}),op=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.205 2.787c.393 0 .712.319.712.712v.711h6.166V3.5a.712.712 0 0 1 1.423 0v.711h2.135a2.609 2.609 0 0 1 2.609 2.61v11.384a2.609 2.609 0 0 1-2.609 2.609H5.359a2.609 2.609 0 0 1-2.609-2.61V6.82A2.609 2.609 0 0 1 5.359 4.21h2.135V3.5c0-.393.318-.712.711-.712Zm6.878 2.846v.712a.712.712 0 0 0 1.423 0v-.712h2.135c.655 0 1.186.531 1.186 1.186v1.66H4.173V6.82c0-.655.531-1.186 1.186-1.186h2.135v.712a.712.712 0 1 0 1.423 0v-.712h6.166Zm4.744 4.27H4.173v8.3c0 .656.531 1.187 1.186 1.187h13.282c.655 0 1.186-.531 1.186-1.186V9.903Zm-12.57 1.47a.474.474 0 0 0-.475.475v1.423c0 .262.212.474.474.474H8.68a.474.474 0 0 0 .475-.474v-1.424a.474.474 0 0 0-.475-.474H7.256Zm-.475 4.174c0-.261.212-.474.474-.474H8.68c.262 0 .475.213.475.474v1.424a.474.474 0 0 1-.475.474H7.256a.474.474 0 0 1-.474-.474v-1.424Zm4.459-4.174a.474.474 0 0 0-.474.475v1.423c0 .262.212.474.474.474h1.423a.474.474 0 0 0 .475-.474v-1.424a.474.474 0 0 0-.475-.474h-1.423Zm-.474 4.174c0-.261.212-.474.474-.474h1.423c.262 0 .475.213.475.474v1.424a.474.474 0 0 1-.475.474h-1.423a.474.474 0 0 1-.474-.474v-1.424Zm4.553-4.174a.474.474 0 0 0-.474.475v1.423c0 .262.213.474.474.474h1.424a.474.474 0 0 0 .474-.474v-1.424a.474.474 0 0 0-.474-.474H15.32Z",clipRule:"evenodd"})}),of=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M15.632 11.35a.757.757 0 0 1 0 1.3l-5.527 3.248c-.491.29-1.105-.072-1.105-.65V8.752c0-.577.614-.938 1.105-.65l5.527 3.25Z"})}),og=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M13.15 15.132a.757.757 0 0 1-1.3 0L8.602 9.605c-.29-.491.072-1.105.65-1.105h6.497c.577 0 .938.614.65 1.105l-3.25 5.527Z"})}),om=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.42 3.205a.68.68 0 0 1 .68.68v.68h5.888v-.68a.68.68 0 1 1 1.358 0v.68h2.039a2.491 2.491 0 0 1 2.491 2.49V12.49a.68.68 0 1 1-1.359 0V10H4.57v7.926c0 .626.507 1.133 1.132 1.133h5.888a.68.68 0 0 1 0 1.359H5.702a2.491 2.491 0 0 1-2.491-2.492V7.055a2.491 2.491 0 0 1 2.49-2.49h2.04v-.68a.68.68 0 0 1 .679-.68Zm6.568 2.718v.68a.68.68 0 1 0 1.358 0v-.68h2.039c.625 0 1.132.507 1.132 1.132v1.586H4.57V7.055c0-.625.507-1.132 1.132-1.132H7.74v.68a.68.68 0 1 0 1.36 0v-.68h5.888Zm3.641 10.672a.68.68 0 1 1 .96-.96l1.923 1.92a.68.68 0 0 1 0 .962l-1.922 1.921a.68.68 0 1 1-.96-.96l1.44-1.442-1.44-1.441Zm-4.238-.96a.68.68 0 0 0 0 .96l1.44 1.441-1.44 1.442a.68.68 0 1 0 .96.96l1.922-1.921a.68.68 0 0 0 0-.961l-1.921-1.922a.68.68 0 0 0-.961 0Z",clipRule:"evenodd"})}),ov=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"m9.17 8.506-1.112 2.877a.85.85 0 0 1-.793.544H4a.75.75 0 0 1 0-1.5h2.82l1.699-4.4c.3-.776 1.422-.703 1.618.107l1.96 8.08 1.797-5.67a.85.85 0 0 1 1.483-.263l1.658 2.146H20a.75.75 0 0 1 0 1.5h-3.284a.85.85 0 0 1-.673-.33L14.95 10.18l-2.126 6.705c-.26.82-1.434.78-1.636-.056L9.169 8.506Z",clipRule:"evenodd"})}),oy=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"m12 2.5 9.96 17.25H2.04L12 2.5Zm0 3L4.639 18.25H19.36L12 5.5Z",clipRule:"evenodd"})}),ob=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M17.463 3.4h2.914l-6.365 7.275 7.488 9.899h-5.863l-4.592-6.004-5.255 6.004H2.875l6.809-7.783L2.5 3.401h6.012l4.15 5.488L17.464 3.4Zm-1.022 15.43h1.614L7.635 5.052H5.903L16.44 18.83Z"})}),ow=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.744 3.968a.808.808 0 1 0-1.616 0v7.003a5.656 5.656 0 0 0 11.313 0V3.968a.808.808 0 1 0-1.616 0v7.003a4.04 4.04 0 1 1-8.08 0V3.968ZM4.458 19.32a.808.808 0 1 0 0 1.616h15.084a.808.808 0 0 0 0-1.616H4.458Z",clipRule:"evenodd"})}),ox=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.53 4.47a.75.75 0 0 1 0 1.06L5.81 8.25h4.624c1.651 0 2.937 0 3.968.084 1.047.086 1.897.262 2.662.652a6.75 6.75 0 0 1 2.95 2.95c.39.765.566 1.615.652 2.662.084 1.031.084 2.317.084 3.968v.034a.75.75 0 0 1-1.5 0c0-1.693 0-2.917-.08-3.88-.077-.954-.228-1.585-.492-2.104a5.25 5.25 0 0 0-2.295-2.294c-.518-.264-1.15-.415-2.103-.493-.963-.078-2.188-.079-3.88-.079H5.81l2.72 2.72a.75.75 0 1 1-1.06 1.06l-4-4a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})}),o_=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.286 4.75c-.346 0-.536.25-.536.45v3.6c0 .2.19.45.536.45h6.428c.346 0 .536-.25.536-.45V5.2c0-.2-.19-.45-.536-.45H5.286ZM3.25 5.2c0-1.125.961-1.95 2.036-1.95h6.428c1.075 0 2.036.825 2.036 1.95v3.6c0 1.125-.961 1.95-2.036 1.95H5.286c-1.075 0-2.036-.825-2.036-1.95V5.2ZM12.286 14.75c-.346 0-.536.25-.536.45v3.6c0 .2.19.45.536.45h6.428c.346 0 .536-.25.536-.45v-3.6c0-.2-.19-.45-.536-.45h-6.428Zm-2.036.45c0-1.125.961-1.95 2.036-1.95h6.428c1.075 0 2.036.825 2.036 1.95v3.6c0 1.125-.961 1.95-2.036 1.95h-6.428c-1.075 0-2.036-.825-2.036-1.95v-3.6Z",clipRule:"evenodd"})}),oC=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.522 5.35a2.919 2.919 0 1 1 4.128 4.128l-3.669 3.669a.75.75 0 1 0 1.06 1.06l3.67-3.669a4.419 4.419 0 1 0-6.25-6.249l-1.008 1.009a.75.75 0 1 0 1.06 1.06l1.009-1.008Zm-5.503 5.503a.75.75 0 0 0-1.061-1.06L4.289 13.46a4.419 4.419 0 1 0 6.25 6.25l1.01-1.01a.75.75 0 1 0-1.06-1.061l-1.011 1.01a2.919 2.919 0 0 1-4.128-4.128l3.669-3.669Zm.376-6.36a.75.75 0 1 0-1.461.338l.4 1.734a.75.75 0 1 0 1.462-.337l-.4-1.734Zm-4.564 3.44a.75.75 0 1 0-.337 1.462l1.734.4a.75.75 0 1 0 .337-1.46l-1.734-.401Zm12.941 6.271a.75.75 0 0 0-.337 1.462l1.734.4a.75.75 0 1 0 .337-1.461l-1.734-.4Zm-2.106 3.23a.75.75 0 1 0-1.462.338l.4 1.734a.75.75 0 0 0 1.462-.337l-.4-1.734Z",clipRule:"evenodd"})}),ok=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.25 8a5.75 5.75 0 0 1 11.021-2.3.75.75 0 1 1-1.374.6A4.251 4.251 0 0 0 7.75 8v1.254c.31-.004.652-.004 1.027-.004h6.446c.728 0 1.328 0 1.823.03.626.038 1.164.128 1.657.379a3.75 3.75 0 0 1 1.638 1.638c.227.445.321.925.366 1.471.043.531.043 1.187.043 2v1.464c0 .813 0 1.469-.043 2-.045.546-.14 1.026-.366 1.47a3.75 3.75 0 0 1-1.639 1.64c-.444.226-.924.32-1.47.365-.531.043-1.187.043-2 .043H8.768c-.813 0-1.469 0-2-.043-.546-.045-1.026-.14-1.47-.366a3.75 3.75 0 0 1-1.64-1.639c-.226-.444-.32-.924-.365-1.47-.043-.531-.043-1.187-.043-2v-1.464c0-.813 0-1.469.043-2 .045-.546.14-1.026.366-1.47a3.75 3.75 0 0 1 1.639-1.64c.297-.15.612-.244.952-.302V8Zm2.55 2.75c-.756 0-1.31 0-1.754.027-.551.034-.847.106-1.067.218a2.25 2.25 0 0 0-.984.984c-.1.197-.17.458-.207.912-.037.462-.038 1.056-.038 1.909v1.4c0 .852 0 1.447.038 1.91.037.453.107.714.207.912.216.423.56.767.984.983.197.1.458.17.912.207.462.037 1.057.038 1.909.038h6.4c.852 0 1.447 0 1.91-.038.453-.038.714-.107.912-.207.423-.216.767-.56.983-.983.1-.198.17-.459.207-.913.037-.462.038-1.057.038-1.909v-1.4c0-.853 0-1.447-.038-1.91-.038-.453-.107-.714-.207-.912a2.252 2.252 0 0 0-.983-.983c-.22-.112-.517-.184-1.068-.218a31.52 31.52 0 0 0-1.754-.027H8.8Zm3.2 3a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}),oS=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("g",{clipPath:"url(#a)",children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.591 3.692a2.75 2.75 0 0 1 3.89 0l2.827 2.828a2.75 2.75 0 0 1 0 3.889l-1.06 1.06a.75.75 0 1 1-1.06-1.06l1.06-1.06a1.25 1.25 0 0 0 0-1.768l-2.829-2.829a1.25 1.25 0 0 0-1.767 0l-1.061 1.06a.75.75 0 0 1-1.06-1.06l1.06-1.06Zm-6.364-.708a.75.75 0 0 1 1.06 0l12.729 12.728a.75.75 0 0 1-1.061 1.061l-3.005-3.005-1.97 1.97.884.884a.75.75 0 1 1-1.06 1.06L11.09 13.97l-4.925 4.924a.75.75 0 1 1-1.06-1.06l4.924-4.925-3.712-3.712a.75.75 0 0 1 1.06-1.06l.884.883 1.97-1.97-3.005-3.005a.75.75 0 0 1 0-1.06Zm4.066 5.127-1.97 1.97 4.596 4.596 1.97-1.97-4.596-4.596Z",clipRule:"evenodd"})}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"a",children:(0,s.jsx)("path",{fill:"currentColor",d:"M0 0H24V24H0z"})})})]}),oM=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",d:"M2 12a5 5 0 0 1 5-5h2a5 5 0 0 1 0 10H7a5 5 0 0 1-5-5Z",opacity:.14}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.293 2.293a1 1 0 0 1 1.414 0l4 4 14 14a1 1 0 0 1-1.414 1.414L16.586 18H16.5a1 1 0 0 1-.997-1.082l-1.542-1.543A5.993 5.993 0 0 1 9 18H7A6 6 0 0 1 4.946 6.36L2.293 3.708a1 1 0 0 1 0-1.414Zm4.312 5.726A4 4 0 0 0 7 16h2a4 4 0 0 0 3.509-2.077l-1.572-1.572A1 1 0 0 1 9 12c0-.487.058-.962.169-1.417L6.605 8.019ZM15 8c-.556 0-1.084.113-1.563.316a1 1 0 1 1-.782-1.84A5.984 5.984 0 0 1 15 6h2a6 6 0 0 1 4.615 9.835 1 1 0 0 1-1.538-1.279A4 4 0 0 0 17 8h-2Z",clipRule:"evenodd"})]}),oE=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11 5.75a4.25 4.25 0 0 0-4.147 5.183.75.75 0 0 1-.568.896A3.252 3.252 0 0 0 7 18.25h9a4.25 4.25 0 1 0-.085-8.5.75.75 0 0 1-.75-.6A4.252 4.252 0 0 0 11 5.75ZM5.25 10a5.75 5.75 0 0 1 11.235-1.73A5.75 5.75 0 0 1 16 19.75H7a4.75 4.75 0 0 1-1.722-9.178A5.808 5.808 0 0 1 5.25 10Zm6.45-.75a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 .75-.75Zm.05 7.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"})}),oI=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 2.75a.75.75 0 0 1 .75.75v.75h6.5V3.5a.75.75 0 0 1 1.5 0v.75H19A2.75 2.75 0 0 1 21.75 7v5a.75.75 0 0 1-1.5 0v-1.75H3.75V19c0 .69.56 1.25 1.25 1.25h7a.75.75 0 0 1 0 1.5H5A2.75 2.75 0 0 1 2.25 19V7A2.75 2.75 0 0 1 5 4.25h2.25V3.5A.75.75 0 0 1 8 2.75Zm7.25 3v.75a.75.75 0 0 0 1.5 0v-.75H19c.69 0 1.25.56 1.25 1.25v1.75H3.75V7c0-.69.56-1.25 1.25-1.25h2.25v.75a.75.75 0 0 0 1.5 0v-.75h6.5Zm.184 9.842a3.03 3.03 0 0 1 5.253 1.188.75.75 0 0 0 1.453-.373 4.53 4.53 0 0 0-8.128-1.418l-.596-.252a.3.3 0 0 0-.41.337l.483 2.329a.3.3 0 0 0 .454.193l2.01-1.272a.3.3 0 0 0-.043-.53l-.476-.202Zm2.1 5.415c.931 0 1.765-.42 2.32-1.082l-.476-.201a.3.3 0 0 1-.043-.53l2.01-1.272a.3.3 0 0 1 .454.193l.485 2.329a.3.3 0 0 1-.411.337l-.596-.252a4.523 4.523 0 0 1-3.743 1.979 4.525 4.525 0 0 1-4.385-3.397.75.75 0 0 1 1.453-.374 3.025 3.025 0 0 0 2.933 2.27Z",clipRule:"evenodd"})}),oB=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 3.75a8.25 8.25 0 1 0 0 16.5 8.25 8.25 0 0 0 0-16.5Zm-4.621 7.72 4.09-4.091a.75.75 0 0 1 1.061 0l4.091 4.09a.75.75 0 1 1-1.06 1.061L12.75 9.72v6.78a.75.75 0 0 1-1.5 0V9.72l-2.81 2.81a.75.75 0 0 1-1.061-1.06Z",clipRule:"evenodd"})}),o$=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 10.75a.25.25 0 0 0-.25.25v7c0 .69.56 1.25 1.25 1.25h12c.69 0 1.25-.56 1.25-1.25v-7a.25.25 0 0 0-.25-.25h-1a.75.75 0 0 1 0-1.5h1c.966 0 1.75.784 1.75 1.75v7A2.75 2.75 0 0 1 18 20.75H6A2.75 2.75 0 0 1 3.25 18v-7c0-.966.784-1.75 1.75-1.75h1a.75.75 0 0 1 0 1.5H5Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.75a.75.75 0 0 1 .53.22l4 4a.75.75 0 0 1-1.06 1.06l-2.72-2.72V15.5a.75.75 0 0 1-1.5 0V5.31L8.53 8.03a.75.75 0 0 1-1.06-1.06l4-4a.75.75 0 0 1 .53-.22Z",clipRule:"evenodd"})]}),oT=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.75 6.672v11.326c1.102-.479 2.388-.748 3.75-.748s2.648.27 3.75.748V6.672c-.997-.567-2.302-.922-3.75-.922s-2.753.355-3.75.922Zm9 0v11.326c1.102-.479 2.388-.748 3.75-.748s2.648.27 3.75.748V6.672c-.997-.567-2.302-.922-3.75-.922s-2.753.355-3.75.922Zm-.75-1.3c-1.247-.71-2.816-1.122-4.5-1.122-1.877 0-3.61.511-4.915 1.378a.75.75 0 0 0-.335.625v13a.75.75 0 0 0 1.165.625c1.031-.686 2.469-1.128 4.085-1.128s3.054.442 4.085 1.128a.75.75 0 0 0 .83 0c1.031-.686 2.469-1.128 4.085-1.128s3.054.442 4.085 1.128a.75.75 0 0 0 1.165-.625v-13a.75.75 0 0 0-.335-.625C20.11 4.761 18.377 4.25 16.5 4.25c-1.684 0-3.253.412-4.5 1.123Z",clipRule:"evenodd"})}),oO=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 5.75a9.254 9.254 0 0 0-8.635 5.926.901.901 0 0 0 0 .648 9.254 9.254 0 0 0 17.27 0 .9.9 0 0 0 0-.648A9.254 9.254 0 0 0 12 5.75ZM1.966 11.137C3.516 7.11 7.424 4.25 12 4.25c4.577 0 8.484 2.86 10.035 6.887.214.555.214 1.17 0 1.726-1.55 4.027-5.458 6.887-10.034 6.887-4.577 0-8.484-2.86-10.035-6.887a2.401 2.401 0 0 1 0-1.726ZM12 9.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM8.25 12a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0Z",clipRule:"evenodd"})}),oP=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 20a.75.75 0 0 1-.75-.75V4.75a.75.75 0 0 1 1.5 0v14.5a.75.75 0 0 1-.75.75ZM9.665 8.44a.75.75 0 0 1 .062 1.058L8.17 11.25h7.66l-1.557-1.752a.75.75 0 0 1 1.12-.996l2.668 3a.75.75 0 0 1 0 .996l-2.667 3a.75.75 0 1 1-1.121-.996l1.557-1.752H8.17l1.557 1.752a.75.75 0 0 1-1.12.996l-2.668-3a.75.75 0 0 1 0-.996l2.667-3a.75.75 0 0 1 1.059-.063ZM21.5 4.75a.75.75 0 0 0-1.5 0v14.5a.75.75 0 0 0 1.5 0V4.75Z",clipRule:"evenodd"})}),oA=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9 4.25a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5H9ZM6.25 8A.75.75 0 0 1 7 7.25h10a.75.75 0 0 1 0 1.5H7A.75.75 0 0 1 6.25 8Zm-2 5A2.75 2.75 0 0 1 7 10.25h10A2.75 2.75 0 0 1 19.75 13v5A2.75 2.75 0 0 1 17 20.75H7A2.75 2.75 0 0 1 4.25 18v-5ZM7 11.75c-.69 0-1.25.56-1.25 1.25v5c0 .69.56 1.25 1.25 1.25h10c.69 0 1.25-.56 1.25-1.25v-5c0-.69-.56-1.25-1.25-1.25H7Z",clipRule:"evenodd"})}),oH=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 4.75a7.25 7.25 0 1 0 0 14.5 7.25 7.25 0 0 0 0-14.5ZM3.25 12a8.75 8.75 0 1 1 17.5 0 8.75 8.75 0 0 1-17.5 0ZM12 7.694a.75.75 0 0 1 .75.75V12a.75.75 0 0 1-1.5 0V8.444a.75.75 0 0 1 .75-.75Zm-.75 7.862a.75.75 0 0 1 .75-.75h.009a.75.75 0 1 1 0 1.5H12a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),oL=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.784 11.25H8.26c.06-2.25.39-4.298.907-5.851.161-.483.345-.932.552-1.33a8.257 8.257 0 0 0-5.935 7.181Zm8.216-9c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm0 1.5c-.086 0-.287.052-.579.421-.285.362-.574.932-.83 1.702-.459 1.374-.77 3.255-.83 5.377h4.478c-.06-2.122-.371-4.003-.83-5.377-.256-.77-.545-1.34-.83-1.702-.292-.37-.493-.421-.579-.421Zm3.74 7.5c-.06-2.25-.39-4.298-.907-5.851a9.181 9.181 0 0 0-.552-1.33 8.257 8.257 0 0 1 5.935 7.181H15.74Zm-1.5 1.5H9.76c.06 2.122.372 4.003.83 5.377.257.77.546 1.34.831 1.701.292.37.493.422.579.422.086 0 .287-.052.579-.422.285-.361.574-.93.83-1.701.459-1.374.77-3.255.83-5.377Zm.041 7.18c.207-.397.39-.846.552-1.329.518-1.553.847-3.6.907-5.851h4.476a8.257 8.257 0 0 1-5.935 7.18Zm-4.562 0a9.183 9.183 0 0 1-.552-1.329c-.517-1.553-.847-3.6-.907-5.851H3.784a8.257 8.257 0 0 0 5.935 7.18Z",clipRule:"evenodd"})}),oD=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.046 5a.75.75 0 0 1 .75-.75h2.882a6.072 6.072 0 1 1 0 12.144h-8.89l3.027 3.08a.75.75 0 0 1-1.07 1.052l-4.28-4.356a.75.75 0 0 1 0-1.051l4.28-4.356a.75.75 0 1 1 1.07 1.052l-3.026 3.08h8.889a4.572 4.572 0 1 0 0-9.145h-2.882a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),oZ=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.336 3.095c.38 0 .688.308.688.688v.688h5.963v-.688a.688.688 0 1 1 1.376 0v.688h2.064a2.523 2.523 0 0 1 2.522 2.523v5.504a.688.688 0 0 1-1.376 0v-2.43H4.437v7.934c0 .634.513 1.147 1.146 1.147h5.963a.688.688 0 0 1 0 1.376H5.583a2.523 2.523 0 0 1-2.522-2.523V6.994A2.523 2.523 0 0 1 5.583 4.47h2.065v-.688c0-.38.308-.688.688-.688Zm6.65 2.752v.688a.688.688 0 1 0 1.377 0v-.688h2.064c.633 0 1.146.514 1.146 1.147v1.514H4.437V6.994c0-.633.513-1.147 1.146-1.147h2.065v.688a.688.688 0 0 0 1.376 0v-.688h5.963Zm1.68 9.834a.688.688 0 0 1 0 .973l-1.46 1.46 1.46 1.46a.688.688 0 0 1-.973.972L13.745 18.6a.688.688 0 0 1 0-.973l1.947-1.946a.688.688 0 0 1 .973 0Zm4.193.973a.688.688 0 0 0-.973-.973l-1.946 1.946a.688.688 0 0 0 0 .973l1.946 1.946a.688.688 0 0 0 .973-.973l-1.46-1.46 1.46-1.459Z",clipRule:"evenodd"})}),oj=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:[(0,s.jsx)("path",{fill:"red",d:"M21.08 7.192a2.546 2.546 0 0 0-.616-1.12 2.364 2.364 0 0 0-1.065-.649C17.925 5 11.99 5 11.99 5s-5.934.013-7.408.436c-.403.115-.77.338-1.065.649-.295.31-.508.696-.617 1.12-.446 2.757-.619 6.957.012 9.603.11.423.322.81.617 1.12.295.31.662.534 1.065.649C6.068 19 12.003 19 12.003 19s5.934 0 7.408-.423c.403-.115.77-.338 1.065-.649.295-.31.508-.697.617-1.12.47-2.76.615-6.958-.012-9.616Z"}),(0,s.jsx)("path",{fill:"currentColor",d:"m10 15 5-3-5-3v6Z"})]}),oV=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M12.546 5v10l8.272-10h-8.273ZM7.136 9.455c2.263 0 4.137-2.281 4.137-4.455H3c0 2.174 1.873 4.455 4.136 4.455ZM12.546 19c0-2.174 1.873-4.454 4.136-4.454s4.136 2.28 4.136 4.454h-8.273ZM11.273 19V9L3 19h8.273Z"})}),oR=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.115 4.885a6.23 6.23 0 1 0 0 12.461 6.23 6.23 0 0 0 0-12.461ZM3.5 11.115a7.615 7.615 0 1 1 13.468 4.874l4.33 4.33a.692.692 0 1 1-.98.978l-4.33-4.33A7.615 7.615 0 0 1 3.5 11.116Zm4.154 0c0-.382.31-.692.692-.692h5.539a.692.692 0 1 1 0 1.385H8.346a.692.692 0 0 1-.692-.693Z",clipRule:"evenodd"})}),oz=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"none",style:{userSelect:"none",flexShrink:0},...e,children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.115 4.885a6.23 6.23 0 1 0 4.408 10.634 6.23 6.23 0 0 0-4.408-10.634Zm5.854 11.102a7.615 7.615 0 1 0-.979.98l4.328 4.33a.692.692 0 1 0 .98-.979l-4.329-4.331Zm-5.854-8.333c.383 0 .693.31.693.692v2.077h2.077a.692.692 0 1 1 0 1.385h-2.077v2.077a.692.692 0 1 1-1.385 0v-2.077H8.346a.692.692 0 0 1 0-1.385h2.077V8.346c0-.382.31-.692.692-.692Z",clipRule:"evenodd"})})},1126:(e,t,i)=>{i.d(t,{ug:()=>R,S5:()=>z,JU:()=>D,cI:()=>Z,iy:()=>L,i5:()=>V,C6:()=>f,CX:()=>w,sr:()=>x,lB:()=>k,wB:()=>E,A1:()=>$});var s=i(68419),o=i(73134),r=i(94098),a=i(54702),n=i(96458),l=i(73711),c=i(50620);function d(e,t,i,s){t[e]=t[e]??{},t[e][i]=s}function h(e,t,i){return i?e[t]?.[i]??null:e[t]??{}}function u(e){return e._decoratorState}let p=Symbol("convert");function f(e){return function(t,i){let s=String(i.name);return{init(t){return d(p,Object.getPrototypeOf(this),s,e),t}}}}function g(e,t,i){let s=h(Object.getPrototypeOf(i),p,e);return s?s(t,i):t}let m=Symbol("derive"),v=Object.keys;function y(e,t,i){let s=Object.getPrototypeOf(i),o=u(i.surface);if(o.deriving||o.creating)return null;let r=h(s,m,e);return r?r.reduce((e,s)=>(Object.entries(s(t,i)).forEach(([t,i])=>{e[t]=i}),e),{}):null}function b(e,t){if(e){let i=u(t.surface);i.deriving=!0,v(e).forEach(i=>{t[i]=e[i]}),i.deriving=!1}}function w(e){return function(t,i){let s=String(i.name);return{init(t){let i=Object.getPrototypeOf(this),o=h(i,m,s);return Array.isArray(o)?o.push(e):d(m,i,s,[e]),t}}}}function x(){return function(e,t){let i=t.name;return{init(e){return this._local.set(i,e),e},get(){return this._local.get(i)},set(e){let t=u(this.surface)?.creating,s=this._local.get(i),o=t?e:g(i,e,this),r=y(i,e,this);this._local.set(i,o),t||(b(r,this),this._onChange({props:{[i]:o},oldValues:{[i]:s},local:!0}),this.surface.hooks.update.emit({id:this.id,props:{[i]:o},oldValues:{[i]:s}}))}}}}let _=Symbol("observe"),C=Symbol("observerDisposable");function k(e){return function(t,i){let s=i.name;return{init(t){return d(_,Object.getPrototypeOf(this),s,e),t}}}}function S(e,t){let i=h(Object.getPrototypeOf(t),_,e),s=t[C]??{};if(t[C]=s,s[e]&&(s[e](),delete s[e]),!i)return;let o=t[e];i(null,t,null);let r=(e,s)=>{i(e,t,s)};o&&"observe"in o?(o.observe(r),s[e]=()=>{o.unobserve(r)}):console.warn(`Failed to observe "${e.toString()}" of ${t.type} element, make sure it's a Y type.`)}let M=Symbol("watch");function E(e){return function(t,i){let s=i.name;return{init(t){return d(M,Object.getPrototypeOf(this),s,e),t}}}}let I=Symbol("yProps");function B(e){let t=Object.getPrototypeOf(e);return Object.hasOwn(t,I)||(t[I]=new Set),t[I]}function $(e){return function(t,i){let s=i.name;return{init(e){if(B(this).add(s),!u(this.surface??Object.getPrototypeOf(this).constructor)?.skipYfield)return this.yMap&&(this.yMap.doc?this.surface.doc.transact(()=>{this.yMap.set(s,e)}):(this.yMap.set(s,e),this._preserved.set(s,e))),e},get(){return this.yMap.get(s)??this._preserved.get(s)??e},set(e){let i=u(this.surface)?.creating;if(u(this.surface)?.skipYfield)return;let o=y(s,e,this),r=i?e:g(s,e,this),a=t.get.call(this);this.yMap.doc?this.surface.doc.transact(()=>{this.yMap.set(s,r)}):(this.yMap.set(s,r),this._preserved.set(s,r)),S(s,this),i||(b(o,this),this.surface.hooks.update.emit({id:this.id,props:{[s]:r},oldValues:{[s]:a}}))}}}}var T=i(69050),O=i(43228),P=i(41149),A=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},H=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let L=(()=>{let e,t,i,s,o;let l=[],c=[],d=[],h=[],u=[],p=[],f=[],m=[],v=[],w=[];return class{static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;e=[x()],t=[E((e,t)=>{t._local.delete("externalBound")}),x()],i=[$()],s=[x()],o=[$()],A(this,null,e,{kind:"accessor",name:"display",static:!1,private:!1,access:{has:e=>"display"in e,get:e=>e.display,set:(e,t)=>{e.display=t}},metadata:r},l,c),A(this,null,t,{kind:"accessor",name:"externalXYWH",static:!1,private:!1,access:{has:e=>"externalXYWH"in e,get:e=>e.externalXYWH,set:(e,t)=>{e.externalXYWH=t}},metadata:r},d,h),A(this,null,i,{kind:"accessor",name:"index",static:!1,private:!1,access:{has:e=>"index"in e,get:e=>e.index,set:(e,t)=>{e.index=t}},metadata:r},u,p),A(this,null,s,{kind:"accessor",name:"opacity",static:!1,private:!1,access:{has:e=>"opacity"in e,get:e=>e.opacity,set:(e,t)=>{e.opacity=t}},metadata:r},f,m),A(this,null,o,{kind:"accessor",name:"seed",static:!1,private:!1,access:{has:e=>"seed"in e,get:e=>e.seed,set:(e,t)=>{e.seed=t}},metadata:r},v,w),r&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}constructor(e){this._disposable=new T.K,this._local=new Map,this._preserved=new Map,this.#e=H(this,l,!0),this.#t=(H(this,c),H(this,d,void 0)),this.#i=(H(this,h),H(this,u,void 0)),this.#s=(H(this,p),H(this,f,1)),this.#o=(H(this,m),H(this,v,void 0)),H(this,w);let{id:t,yMap:i,model:s,stashedStore:o,onChange:r}=e;this._id=t,this.yMap=i,this.surface=s,this._stashed=o,this._onChange=r,this.index="a0",this.seed=(0,a.vo)()}static propsToY(e){return e}containsBound(e){return(0,a.Bn)(this).some(t=>e.containsPoint(t))}getLineIntersections(e,t){let i=(0,a.Bn)(this);return(0,a.Dx)(e,t,i)}getNearestPoint(e){let t=(0,a.Bn)(this);return(0,a.$L)(t,e)}getRelativePointLocation(e){let t=r.z.deserialize(this.xywh),i=t.getRelativePoint(e),s=(0,a.Hb)([i],t.center,this.rotate)[0],o=(0,a.Hb)(t.points,t.center,this.rotate),l=(0,a.W4)(o,s);return new n.S(s,l)}includesPoint(e,t,i,s){return this.elementBound.isPointInBound([e,t])}intersectsBound(e){return this.containsBound(e)||e.points.some((e,t,i)=>this.getLineIntersections(e,i[(t+1)%i.length]))}onCreated(){}pop(e){if(!this._stashed.has(e))return;let t=this._stashed.get(e);this._stashed.delete(e),delete this[e],B(this).has(e)?this.surface.doc.transact(()=>{this.yMap.set(e,t)}):console.warn("pop a prop that is not yfield or local:",e)}serialize(){return this.yMap.toJSON()}stash(e){if(this._stashed.has(e)||!B(this).has(e))return;let t=this[e];this._stashed.set(e,t),Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>this._stashed.get(e),set:t=>{let i=g(e,t,this),s=this._stashed.get(e),o=y(e,t,this);this._stashed.set(e,i),this._onChange({props:{[e]:i},oldValues:{[e]:s},local:!0}),this.surface.hooks.update.emit({id:this.id,props:{[e]:i},oldValues:{[e]:s}}),b(o,this)}})}get connectable(){return!0}get deserializedXYWH(){if(!this._lastXYWH||this.xywh!==this._lastXYWH){let e=this.xywh;this._local.set("deserializedXYWH",(0,O.W)(e)),this._lastXYWH=e}return this._local.get("deserializedXYWH")??[0,0,0,0]}get elementBound(){return this.rotate?r.z.from((0,a.e0)(this)):r.z.deserialize(this.xywh)}get externalBound(){if(!this._local.has("externalBound")){let e=this.externalXYWH?r.z.deserialize(this.externalXYWH):null;this._local.set("externalBound",e)}return this._local.get("externalBound")}get group(){return this.surface.getGroup(this.id)}get groups(){return this.surface.getGroups(this.id)}get h(){return this.deserializedXYWH[3]}get id(){return this._id}get isConnected(){return this.surface.hasElementById(this.id)}get w(){return this.deserializedXYWH[2]}get x(){return this.deserializedXYWH[0]}get y(){return this.deserializedXYWH[1]}#e;get display(){return this.#e}set display(e){this.#e=e}#t;get externalXYWH(){return this.#t}set externalXYWH(e){this.#t=e}#i;get index(){return this.#i}set index(e){this.#i=e}#s;get opacity(){return this.#s}set opacity(e){this.#s=e}#o;get seed(){return this.#o}set seed(e){this.#o=e}}})();class D extends L{constructor(){super(...arguments),this._childBoundCacheKey="",this._childIds=[],this._mutex=(0,P.i)()}_updateXYWH(){let e;let t="",i=this._local.get("xywh")??"[0,0,0,0]";this.childElements.forEach(i=>{t+=i.xywh??"",e=e?e.unite(i.elementBound):i.elementBound}),e?(this._local.set("xywh",e.serialize()),this._childBoundCacheKey=t):(this._local.delete("xywh"),this._childBoundCacheKey=""),this._onChange({props:{xywh:e?.serialize()},oldValues:{xywh:i},local:!0})}descendants(e=!0){return this.childElements.reduce((t,i)=>(i instanceof D?(t=t.concat(i.descendants()),e||t.push(i)):t.push(i),t),[])}hasChild(e){return("string"==typeof e?this.children?.has(e):this.children?.has(e.id))??!1}hasDescendant(e){return this.surface.getGroups("string"==typeof e?e:e.id).some(e=>e.id===this.id)}setChildIds(e,t){let i=this.childIds;this._childIds=e,this._onChange({props:{childIds:e},oldValues:{childIds:i},local:t}),this.surface.hooks.update.emit({id:this.id,props:{childIds:e},oldValues:{childIds:i}})}get childElements(){let e=[];for(let t of this.childIds){let i=this.surface.getElementById(t)||this.surface.doc.getBlockById(t);i&&e.push(i)}return e}get childIds(){return this._childIds}get xywh(){return this._local.has("xywh")&&this.childElements.reduce((e,t)=>e+(t.xywh??""),"")===this._childBoundCacheKey||this._mutex(()=>{this._updateXYWH()}),this._local.get("xywh")??"[0,0,0,0]"}set xywh(e){}}class Z{constructor(){this._lastXYWH="[0,0,-1,-1]",this._local=new Map,this.opacity=1}get deserializedXYWH(){if(this.xywh!==this._lastXYWH){let e=this.xywh;this._local.set("deserializedXYWH",(0,O.W)(e)),this._lastXYWH=e}return this._local.get("deserializedXYWH")}get h(){return this.deserializedXYWH[3]}get w(){return this.deserializedXYWH[2]}get x(){return this.deserializedXYWH[0]}get y(){return this.deserializedXYWH[1]}}function j(e,t,i){let s=(s,o)=>{i({props:{[e]:t},oldValues:{},local:o.local})};return t.observe(s),()=>{t.unobserve(s)}}class V extends l.zg{constructor(){super(),this._decoratorState={creating:!1,deriving:!1,skipYfield:!1},this._elementCtorMap={},this._elementModels=new Map,this._elementToGroup=new Map,this._elementTypeMap=new Map,this._groupToElements=new Map,this._surfaceBlockModel=!0,this.elementAdded=new c.D,this.elementRemoved=new c.D,this.elementUpdated=new c.D,this.hooks={update:new c.D,remove:new c.D},this.created.once(()=>this._init())}_createElementFromProps(e,t){let{type:i,id:s,...o}=e;if(!s)throw Error("Cannot find id in props");let r=new l.rl.Y.Map,a=this._createElementFromYMap(i,s,r,{...t,newCreate:!0});return e=this._propsToY(i,e),r.set("type",i),r.set("id",s),Object.keys(o).forEach(t=>{void 0!==e[t]&&(a.model[t]=e[t])}),a}_createElementFromYMap(e,t,i,s){let o=new Map,r=this._elementCtorMap[e];if(!r)throw Error(`Invalid element type: ${i.get("type")}`);let a=this._decoratorState;a.creating=!0,a.skipYfield=s.skipFieldInit??!1;let n=!1;r._decoratorState=a;let c=new r({id:t,yMap:i,model:this,stashedStore:o,onChange:e=>n&&s.onChange({id:t,...e})});return delete r._decoratorState,a.creating=!1,a.skipYfield=!1,{model:c,mount:()=>{Object.keys(h(r.prototype,_)).forEach(e=>{S(e,c)}),c._disposable.add(()=>{Object.values(c[C]??{}).forEach(e=>e())}),function(e,t){Object.keys(h(e,M)).forEach(e=>{!function(e,t){let i=h(Object.getPrototypeOf(t),M,e);i&&t._disposable.add(t.surface.elementUpdated.on(s=>{s.id===t.id&&e in s.props&&i(s.oldValues[e],t,s.local)}))}(e,t)})}(r.prototype,c),c._disposable.add(function(e,t){let i={},s=(s,o)=>{let r={},a={};s.keysChanged.forEach(o=>{let n=s.changes.keys.get(o),c=s.changes.keys.get(o)?.oldValue;if(n&&("update"===n.action||"add"===n.action)){let s=e.yMap.get(o);s instanceof l.rl.Y.Text&&(i[o]?.(),i[o]=j(o,s,t)),e._preserved.set(o,s),r[o]=s,a[o]=c}}),t({props:r,oldValues:a,local:o.local})};return Array.from(e.yMap.entries()).forEach(([s,o])=>{o instanceof l.rl.Y.Text&&(i[s]=j(s,o,t)),e._preserved.set(s,o)}),e.yMap.observe(s),i.ymap=()=>{e.yMap.unobserve(s)},()=>{Object.values(i).forEach(e=>e())}}(c,e=>{n&&s.onChange({id:t,...e})})),n=!0,c.onCreated()},unmount:()=>{n=!1,c._disposable.dispose()}}}_extendElement(e){Object.assign(this._elementCtorMap,e)}_init(){this._initElementModels(),this._watchGroupRelationChange(),this.applyMiddlewares()}_initElementModels(){let e=this.elements.getValue(),t=(e,t)=>{let i=this._elementTypeMap.get(e)||[];-1===i.indexOf(t)&&i.push(t),this._elementTypeMap.set(e,i)},i=(e,t)=>{let i=this._elementTypeMap.get(e)||[],s=i.indexOf(t);-1!==s&&i.splice(s,1)},s=(e,s)=>{let{changes:o,keysChanged:r}=e,a=[],n=[];r.forEach(e=>{let s=o.keys.get(e),r=this.elements.getValue().get(e);switch(s?.action){case"add":if(r){let i=this._elementModels.has(e),s=i?this._elementModels.get(e):this._createElementFromYMap(r.get("type"),r.get("id"),r,{onChange:e=>this.elementUpdated.emit(e),skipFieldInit:!0});i||this._elementModels.set(e,s),t(s.model.type,s.model),a.push(s)}break;case"delete":if(this._elementModels.has(e)){let{model:t,unmount:s}=this._elementModels.get(e);this._elementToGroup.delete(e),i(t.type,t),this._elementModels.delete(e),n.push({model:t,unmount:s})}}}),a.forEach(({mount:e,model:t})=>{e(),this.elementAdded.emit({id:t.id,local:s.local})}),n.forEach(({unmount:e,model:t})=>{e(),this.elementRemoved.emit({id:t.id,type:t.type,model:t,local:s.local})})};e.forEach((e,t)=>{let i=this._createElementFromYMap(e.get("type"),e.get("id"),e,{onChange:e=>this.elementUpdated.emit(e),skipFieldInit:!0});this._elementModels.set(t,i)}),this._elementModels.forEach(({mount:e,model:i})=>{t(i.type,i),e()}),e.observe(s),this.deleted.on(()=>{e.unobserve(s)})}_propsToY(e,t){let i=this._elementCtorMap[e];if(!i)throw Error(`Invalid element type: ${e}`);return(i.propsToY??L.propsToY)(t)}_watchGroupRelationChange(){let e=(e,t)=>{this._elementToGroup.set(e,t),this._groupToElements.set(t,(this._groupToElements.get(t)||[]).concat(e))},t=(e,t)=>{if(this._elementToGroup.has(e)&&this._elementToGroup.get(e)===t&&this._elementToGroup.delete(e),this._groupToElements.has(t)){let i=this._groupToElements.get(t),s=i.indexOf(e);-1!==s&&(i.splice(s,1),0===i.length&&this._groupToElements.delete(t))}},i=e=>e instanceof D;this.elementModels.forEach(t=>{i(t)&&t.childIds.forEach(i=>{e(i,t.id)})}),this.elementUpdated.on(({id:s,oldValues:o})=>{let r=this.getElementById(s);i(r)&&o.childIds&&(o.childIds.forEach(e=>{t(e,s)}),r.childIds.forEach(t=>{e(t,s)}),0===r.childIds.length&&this.removeElement(s))}),this.elementAdded.on(({id:t})=>{let s=this.getElementById(t);i(s)&&s.childIds.forEach(i=>{e(i,t)})}),this.elementRemoved.on(({id:e,model:s})=>{i(s)&&[...this._groupToElements.get(e)||[]].forEach(i=>t(i,e))});let s=this.doc.slots.blockUpdated.on(({type:e,id:t})=>{if("delete"===e){let e=this.getGroup(t);e&&e.removeChild(t)}});this.deleted.on(()=>{s.dispose()})}addElement(e){if(this.doc.readonly)throw Error("Cannot add element in readonly mode");let t=(0,l.Ak)();e.id=t;let i=this._createElementFromProps(e,{onChange:e=>this.elementUpdated.emit(e)});return this._elementModels.set(t,i),this.doc.transact(()=>{this.elements.getValue().set(t,i.model.yMap)}),t}applyMiddlewares(){}dispose(){super.dispose(),this.elementAdded.dispose(),this.elementRemoved.dispose(),this.elementUpdated.dispose(),this._elementModels.forEach(({unmount:e})=>e()),this._elementModels.clear(),this.hooks.update.dispose(),this.hooks.remove.dispose()}getElementById(e){return this._elementModels.get(e)?.model??null}getElementsByType(e){return this._elementTypeMap.get(e)||[]}getGroup(e){return this._elementToGroup.has(e)?this.getElementById(this._elementToGroup.get(e)):null}getGroups(e){let t=[],i=this.getGroup(e);for(;i;)t.push(i),i=this.getGroup(i.id);return t}hasElementById(e){return this._elementModels.has(e)}isInMindmap(e){let t=this.getGroup(e);return t?.type==="mindmap"}removeElement(e){if(this.doc.readonly)throw Error("Cannot remove element in readonly mode");this.hasElementById(e)&&this.doc.transact(()=>{let t=this.getElementById(e),i=this.getGroup(e);t instanceof D&&t.childIds.forEach(e=>{this.hasElementById(e)?this.removeElement(e):this.doc.hasBlock(e)&&this.doc.deleteBlock(this.doc.getBlock(e).model)}),i&&i.removeChild(e),this.elements.getValue().delete(e),this.hooks.remove.emit({id:e,model:t,type:t.type})})}updateElement(e,t){if(this.doc.readonly)throw Error("Cannot update element in readonly mode");let i=this.getElementById(e);if(!i)throw Error(`Element ${e} is not found`);this.doc.transact(()=>{Object.entries(t=this._propsToY(i.type,t)).forEach(([e,t])=>{i[e]=t})})}get elementModels(){let e=[];return this._elementModels.forEach(t=>e.push(t.model)),e}}class R extends l.zg{constructor(){super(...arguments),this._externalXYWH=void 0,this.connectable=!0,this.rotate=0}containsBound(e){let t=r.z.deserialize(this.xywh);return(0,a.Bn)({x:t.x,y:t.y,w:t.w,h:t.h,rotate:this.rotate}).some(t=>e.containsPoint(t))}getLineIntersections(e,t){let i=r.z.deserialize(this.xywh);return(0,a.Dx)(e,t,(0,a.Hb)(i.points,i.center,this.rotate??0))}getNearestPoint(e){let t=r.z.deserialize(this.xywh);return(0,a.$L)((0,a.Hb)(t.points,t.center,this.rotate??0),e)}getRelativePointLocation(e){let t=r.z.deserialize(this.xywh),i=t.getRelativePoint(e),s=(0,a.Hb)([i],t.center,this.rotate??0)[0],o=(0,a.Hb)(t.points,t.center,this.rotate??0),l=(0,a.W4)(o,s);return new n.S(s,l)}includesPoint(e,t,i,s){return r.z.deserialize(this.xywh).isPointInBound([e,t],0)}intersectsBound(e){return this.containsBound(e)||e.points.some((e,t,i)=>this.getLineIntersections(e,i[(t+1)%i.length]))}get elementBound(){let e=r.z.deserialize(this.xywh);return r.z.from((0,a.e0)({...e,rotate:this.rotate}))}get externalBound(){return this._externalXYWH?r.z.deserialize(this._externalXYWH):null}get externalXYWH(){return this._externalXYWH}set externalXYWH(e){this._externalXYWH=e}get group(){let e=this.doc.getBlocks().find(e=>e instanceof V);return e?e.getGroup(this.id)??null:null}get groups(){let e=this.doc.getBlocks().find(e=>e instanceof V);return e?e.getGroups(this.id):[]}}function z(e){if(e===l.zg)return R;{let t=e;for(;Object.getPrototypeOf(t.prototype)!==l.zg.prototype&&null!==Object.getPrototypeOf(t.prototype);)t=Object.getPrototypeOf(t.prototype).constructor;if(null===Object.getPrototypeOf(t.prototype))throw new s.Ss(o.O.GfxBlockElementError,"The SuperClass is not a subclass of BlockModel");Object.setPrototypeOf(t.prototype,R.prototype)}return e}var F=i(91449),N=i(4564),q=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},U=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};function W(e,t){let i;let s=[];return(...o)=>{s=o,void 0===i&&(i=requestAnimationFrame(()=>{i=void 0,(!t||t.isConnected)&&e(...s)}))}}(()=>{let e,t,i,s,o,r,a=[(0,N.EM)("gfx-viewport")],n=[],l=F.WF,c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,N.P)(".gfx-viewport")],s=[(0,N.MZ)({attribute:!1})],o=[(0,N.MZ)({attribute:!1})],r=[(0,N.MZ)({type:Number})],q(this,null,i,{kind:"accessor",name:"container",static:!1,private:!1,access:{has:e=>"container"in e,get:e=>e.container,set:(e,t)=>{e.container=t}},metadata:v},c,d),q(this,null,s,{kind:"accessor",name:"getModelsInViewport",static:!1,private:!1,access:{has:e=>"getModelsInViewport"in e,get:e=>e.getModelsInViewport,set:(e,t)=>{e.getModelsInViewport=t}},metadata:v},h,u),q(this,null,o,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:v},p,f),q(this,null,r,{kind:"accessor",name:"maxConcurrentRenders",static:!1,private:!1,access:{has:e=>"maxConcurrentRenders"in e,get:e=>e.maxConcurrentRenders,set:(e,t)=>{e.maxConcurrentRenders=t}},metadata:v},g,m),q(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,F.AH)`
    .gfx-viewport {
      position: absolute;
      left: 0;
      top: 0;
      contain: size layout style;
      display: block;
    }
  `}_toCSSTransform(e,t,i){return`translate3d(${e}px, ${t}px, 0) scale(${i})`}connectedCallback(){super.connectedCallback(),this.viewport.viewportUpdated.on(()=>{this._refreshViewport(),this._hideOutsideBlock()})}render(){return(0,F.qy)`<div class="gfx-viewport">
      <slot></slot>
    </div>`}scheduleUpdateChildren(e){let{promise:t,resolve:i}=Promise.withResolvers();if(this._pendingChildrenUpdates.push({id:e,resolve:i}),!this._updatingChildrenFlag){this._updatingChildrenFlag=!0;let e=()=>{this._pendingChildrenUpdates.length&&(this._pendingChildrenUpdates.splice(0,this.maxConcurrentRenders).forEach(({resolve:e})=>e()),this._pendingChildrenUpdates.length?requestAnimationFrame(()=>{this.isConnected&&e()}):this._updatingChildrenFlag=!1)};requestAnimationFrame(()=>{this.isConnected&&e()})}return t}#r;get container(){return this.#r}set container(e){this.#r=e}#a;get getModelsInViewport(){return this.#a}set getModelsInViewport(e){this.#a=e}#n;get host(){return this.#n}set host(e){this.#n=e}#l;get maxConcurrentRenders(){return this.#l}set maxConcurrentRenders(e){this.#l=e}constructor(){super(...arguments),this._hideOutsideBlock=W(()=>{if(this.getModelsInViewport&&this.host){let e=this.host,t=this.getModelsInViewport();t.forEach(t=>{let i=e.std.view.getBlock(t.id);i&&(i.style.display=""),this._lastVisibleModels?.has(t)&&this._lastVisibleModels.delete(t)}),this._lastVisibleModels?.forEach(t=>{let i=e.std.view.getBlock(t.id);i&&(i.style.display="none")}),this._lastVisibleModels=t}},this),this._pendingChildrenUpdates=[],this._refreshViewport=W(()=>{let{translateX:e,translateY:t,zoom:i}=this.viewport;this.container&&(this.container.style.transform=this._toCSSTransform(e,t,i))},this),this._updatingChildrenFlag=!1,this.renderingBlocks=new Set,this.#r=U(this,c,null),this.#a=(U(this,d),U(this,h,void 0)),this.#n=(U(this,u),U(this,p,void 0)),this.#l=(U(this,f),U(this,g,2)),U(this,m)}static{U(t,n)}})})()},7595:(e,t,i)=>{i.d(t,{qZ:()=>ei,p_:()=>eO,as:()=>er,ps:()=>ep,B0:()=>u,AE:()=>eE,Yx:()=>eL,yX:()=>v,By:()=>ey,vz:()=>eP,ao:()=>e_,U3:()=>eh,W:()=>eV,Tm:()=>ew,U4:()=>W,fF:()=>eb,$K:()=>eD});var s,o,r=i(68419),a=i(73134),n=i(73711),l=i(45134),c=i(30272),d=i(81463);function h(e){if("element"===e.type)switch(e.tagName){case"html":case"body":return e.children.map(h).reduce((e,t)=>"no"===e||"no"===t?"no":"maybe"===e&&"maybe"===t?"maybe":"yes","maybe");case"img":return"yes";case"head":break;default:return"no"}return"maybe"}class u{constructor(e){this.std=e,this._adapterMap=new Map,this._getDataByType=e=>{let t=new Map;for(let i of e.types)"Files"===i?t.set(i,Array.from(e.files)):t.set(i,e.getData(i));return t.get("Files")&&t.get("text/html")&&"yes"===(0,d.l)().use(c.A).parse(t.get("text/html")).children.map(h).reduce((e,t)=>"no"===e||"no"===t?"no":"maybe"===e&&"maybe"===t?"maybe":"yes","maybe")&&t.delete("text/html"),e=>{let i=t.get(e);if(i)return i;let s=t.get("Files")??[];return s.length>0?s:""}},this._getSnapshotByPriority=async(e,t,i,s)=>{for(let[o,{adapter:r}]of Array.from(this._adapterMap.entries()).sort((e,t)=>t[1].priority-e[1].priority)){let a=e(o);if((!Array.isArray(a)||0!==a.length&&a.map(e=>e.type===o||"*/*"===o).reduce((e,t)=>e&&t,!0))&&a){let e=this._getJob(),o=new r(e),n={file:a,assets:e.assetsManager,blockVersions:t.collection.meta.blockVersions,pageVersion:t.collection.meta.pageVersion,workspaceVersion:t.collection.meta.workspaceVersion,workspaceId:t.collection.id,pageId:t.id},l=await o.toSlice(n,t,i,s);if(l)return l}}return null},this._jobMiddlewares=[],this.copy=async e=>this.copySlice(e),this.copySlice=async e=>{let t=Array.from(this._adapterMap.keys());await this.writeToClipboard(async i=>{let s={...i};return await Promise.all(t.map(async t=>{let i=await this._getClipboardItem(e,t);"string"==typeof i&&(s[t]=i)})),s})},this.duplicateSlice=async(e,t,i,s,o="BLOCKSUITE/SNAPSHOT")=>{let r={[o]:await this._getClipboardItem(e,o)};await this._getSnapshotByPriority(e=>r[e]??"",t,i,s)},this.paste=async(e,t,i,s)=>{let o=e.clipboardData;if(o)try{let e=this.readFromClipboard(o),n=await this._getSnapshotByPriority(t=>e[t],t,i,s);if(!n)throw new r.Ss(a.O.TransformerError,"No snapshot found");return n}catch{let e=this._getDataByType(o);return await this._getSnapshotByPriority(t=>e(t),t,i,s)}},this.pasteBlockSnapshot=async(e,t,i,s)=>this._getJob().snapshotToBlock(e,t,i,s),this.registerAdapter=(e,t,i=0)=>{this._adapterMap.set(e,{adapter:t,priority:i})},this.unregisterAdapter=e=>{this._adapterMap.delete(e)},this.unuse=e=>{this._jobMiddlewares=this._jobMiddlewares.filter(t=>t!==e)},this.use=e=>{this._jobMiddlewares.push(e)}}async _getClipboardItem(e,t){let i=this._getJob(),s=this._adapterMap.get(t);if(!s)return;let{adapter:o}=s,r=new o(i),a=await r.fromSlice(e);if(a)return a.file}_getJob(){return new n._O({middlewares:this._jobMiddlewares,collection:this.std.collection})}readFromClipboard(e){let t=e.getData("text/html"),i=new DOMParser().parseFromString(t,"text/html").querySelector("[data-blocksuite-snapshot]");if(!i)throw new r.Ss(a.O.TransformerError,"No snapshot found");return JSON.parse(l.decompressFromEncodedURIComponent(i.dataset.blocksuiteSnapshot))}async writeToClipboard(e){let t=await e({"text/plain":"","text/html":"","image/png":""}),i=t["text/plain"],s=t["text/html"],o=t["image/png"];delete t["text/plain"],delete t["text/html"],delete t["image/png"];let r=l.compressToEncodedURIComponent(JSON.stringify(t)),a={"text/html":new Blob([`<div data-blocksuite-snapshot=${r}>${s}</div>`],{type:"text/html"})};if(i.length>0){let e=new Blob([i],{type:"text/plain"});a["text/plain"]=e}if(o instanceof Blob)a["image/png"]=o;else if(o.length>0){let e=new Blob([o],{type:"image/png"});a["image/png"]=e}await navigator.clipboard.write([new ClipboardItem(a)])}get configs(){return this._getJob().adapterConfigs}}let p=Symbol("cmds");class f{constructor(e){this.std=e,this._commands=new Map,this._createChain=(e,t)=>{let i=this._getCommandCtx,s=this._createChain,o=this.chain;return{[p]:t,run:function(){let e=i(),t=!1;try{let i=this[p];e=function e(t,[i,...s]){let o=t;return i&&i(t,i=>{o=e({...t,...i},s)}),o}(e,[...i,(e,i)=>{t=!0,i()}])}catch(e){console.error(e)}return[t,e]},with:function(t){return s(e,[...this[p],(e,i)=>i(t)])},inline:function(t){return s(e,[...this[p],t])},try:function(t){return s(e,[...this[p],(e,i)=>{let s=e;t(o()).some(e=>{e[p]=[(e,t)=>{t(s)},...e[p]];let[t]=e.inline((e,t)=>{s={...s,...e},t()}).run();return!!t&&(i(s),!0)})}])},tryAll:function(t){return s(e,[...this[p],(e,i)=>{let s=e,r=t(o()),a=!0;r.forEach(e=>{e[p]=[(e,t)=>{t(s)},...e[p]];let[t]=e.inline((e,t)=>{s={...s,...e},t()}).run();t&&(a=!1)}),a||i(s)}])},...e}},this._getCommandCtx=()=>({std:this.std}),this.chain=()=>{let e={},t=this._createChain;for(let[i,s]of this._commands.entries())e[i]=function(i){return t(e,[...this[p],(e,t)=>s({...e,...i},t)])};return t(e,[])}}add(e,t){return this._commands.set(e,t),this}exec(e,...t){let i=this._commands.get(e);if(!i)throw new r.Ss(a.O.CommandError,`The command "${e}" not found`);let s=t[0],o={...this._getCommandCtx(),...s},n={};return i(o,e=>{n=e??{}}),n}}var g=i(69050),m=i(50620);class v{static{this.equals=(e,t)=>v.pathToKey(e)===v.pathToKey(t)}static{this.id=e=>e[e.length-1]}static{this.includes=(e,t)=>v.pathToKey(e).startsWith(v.pathToKey(t))}static{this.keyToPath=e=>e.split("|")}static{this.parent=e=>e.slice(0,e.length-1)}static{this.pathToKey=e=>e.join("|")}constructor(){}}class y{constructor(e){this.event=e,this.type="defaultState"}}class b{constructor(){this._map={},this.add=e=>{let t=e.type;this._map[t]&&console.warn("UIEventStateContext: state name duplicated",t),this._map[t]=e},this.get=e=>{let t=this._map[e];if(!t)throw new r.Ss(a.O.EventDispatcherError,`UIEventStateContext: state ${e} not found`);return t},this.has=e=>!!this._map[e]}static from(...e){let t=new b;return e.forEach(e=>{t.add(e)}),t}}class w extends y{constructor({event:e}){super(e),this.type="clipboardState",this.raw=e}}!function(e){e.Selection="selection",e.Target="target"}(s||(s={}));class x extends y{constructor({event:e,sourceType:t}){super(e),this.type="sourceState",this.sourceType=t}}class _{constructor(e){this._dispatcher=e,this._copy=e=>{let t=new w({event:e});this._dispatcher.run("copy",this._createContext(e,t))},this._cut=e=>{let t=new w({event:e});this._dispatcher.run("cut",this._createContext(e,t))},this._paste=e=>{let t=new w({event:e});this._dispatcher.run("paste",this._createContext(e,t))}}_createContext(e,t){return b.from(new y(e),new x({event:e,sourceType:s.Selection}),t)}listen(){this._dispatcher.disposables.addFromEvent(document,"cut",this._cut),this._dispatcher.disposables.addFromEvent(document,"copy",this._copy),this._dispatcher.disposables.addFromEvent(document,"paste",this._paste)}}var C=i(63820),k=i(30338);let S="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function M(e,t,i=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),i&&t.shiftKey&&(e="Shift-"+e),e}class E extends y{constructor({event:e,composing:t}){super(e),this.type="keyboardState",this.raw=e,this.composing=t}}class I extends y{constructor({event:e,rect:t,startX:i,startY:s,last:o}){super(e),this.type="pointerState";let r=e.clientX-t.left,a=e.clientY-t.top;this.raw=e,this.point={x:r,y:a},this.containerOffset={x:t.left,y:t.top},this.start={x:i,y:s},this.delta=o?{x:r-o.point.x,y:a-o.point.y}:{x:0,y:0},this.keys={shift:e.shiftKey,cmd:e.metaKey||e.ctrlKey,alt:e.altKey},this.button=o?.button||e.button,this.pressure=e.pressure}get x(){return this.point.x}get y(){return this.point.y}}class B extends y{constructor(e,t){super(e),this.type="multiPointerState",this.pointers=t}}class ${constructor(e){this._dispatcher=e,this._down=e=>{if(!this._shouldTrigger(e))return;let t=new E({event:e,composing:this.composition});this._dispatcher.run("keyDown",this._createContext(e,t))},this._shouldTrigger=e=>{if(e.isComposing)return!1;let t=C.vL?e.metaKey:e.ctrlKey;return!(["c","v","x"].includes(e.key)&&t&&!e.shiftKey&&!e.altKey||["Control","Meta","Shift"].includes(e.key))},this._up=e=>{if(!this._shouldTrigger(e))return;let t=new E({event:e,composing:this.composition});this._dispatcher.run("keyUp",this._createContext(e,t))},this.composition=!1}_createContext(e,t){return b.from(new y(e),new x({event:e,sourceType:s.Selection}),t)}bindHotkey(e,t){return this._dispatcher.add("keyDown",t=>!this.composition&&(function(e){let t=function(e){let t=Object.create(null);for(let i in e)t[function(e){let t,i,s,o;let n=e.split(/-(?!$)/),l=n.at(-1);return"Space"===l&&(l=" "),n.slice(0,-1).forEach(e=>{if(/^(cmd|meta|m)$/i.test(e)){o=!0;return}if(/^a(lt)?$/i.test(e)){t=!0;return}if(/^(c|ctrl|control)$/i.test(e)){i=!0;return}if(/^s(hift)?$/i.test(e)){s=!0;return}if(/^mod$/i.test(e)){S?o=!0:i=!0;return}throw new r.Ss(a.O.EventDispatcherError,"Unrecognized modifier name: "+e)}),t&&(l="Alt-"+l),i&&(l="Ctrl-"+l),o&&(l="Meta-"+l),s&&(l="Shift-"+l),l}(i)]=e[i];return t}(e);return e=>{let i=e.get("keyboardState").raw,s=(0,k.xT)(i),o=t[M(s,i)];if(o&&o(e))return!0;if(1!==s.length||" "===s)return!1;if(i.shiftKey){let o=t[M(s,i,!1)];if(o&&o(e))return!0}let r=i.shiftKey||i.altKey||i.metaKey||s.charCodeAt(0)>127,a=k.E3[i.keyCode];if(r&&a&&a!==s){let s=t[M(a,i)];if(s&&s(e))return!0}return!1}})(e)(t),t)}listen(){this._dispatcher.disposables.addFromEvent(document,"keydown",this._down),this._dispatcher.disposables.addFromEvent(document,"keyup",this._up),this._dispatcher.disposables.addFromEvent(document,"compositionstart",()=>{this.composition=!0}),this._dispatcher.disposables.addFromEvent(document,"compositionend",()=>{this.composition=!1})}}function T(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)>4}let O=e=>e.toLowerCase();function P(e,t){return b.from(new y(e),new x({event:e,sourceType:s.Target}),t)}class A{constructor(e){this._dispatcher=e}get _rect(){return this._dispatcher.host.getBoundingClientRect()}}class H extends A{constructor(){super(...arguments),this._down=e=>{let{pointerId:t}=e,i=new I({event:e,rect:this._rect,startX:-1/0,startY:-1/0,last:null});this._startStates.set(t,i),this._lastStates.set(t,i),this._dispatcher.run("pointerDown",P(e,i))},this._lastStates=new Map,this._move=e=>{let{pointerId:t}=e,i=this._startStates.get(t)??null,s=this._lastStates.get(t)??null,o=new I({event:e,rect:this._rect,startX:i?.x??-1/0,startY:i?.y??-1/0,last:s});this._lastStates.set(t,o),this._dispatcher.run("pointerMove",P(e,o))},this._startStates=new Map,this._upOrOut=e=>t=>{let{pointerId:i}=t,s=this._startStates.get(i)??null,o=this._lastStates.get(i)??null,r=new I({event:t,rect:this._rect,startX:s?.x??-1/0,startY:s?.y??-1/0,last:o});this._startStates.delete(i),this._lastStates.delete(i),this._dispatcher.run(e?"pointerUp":"pointerOut",P(t,r))}}listen(){let{host:e,disposables:t}=this._dispatcher;t.addFromEvent(e,"pointerdown",this._down),t.addFromEvent(e,"pointermove",this._move),t.addFromEvent(e,"pointerup",this._upOrOut(!0)),t.addFromEvent(e,"pointerout",this._upOrOut(!1))}}class L extends A{constructor(){super(...arguments),this._down=e=>{!1!==e.isPrimary&&(this._downPointerState&&e.pointerId===this._downPointerState.raw.pointerId&&e.timeStamp-this._downPointerState.raw.timeStamp<500&&!T(e,this._downPointerState.raw)?this._pointerDownCount++:this._pointerDownCount=1,this._downPointerState=new I({event:e,rect:this._rect,startX:-1/0,startY:-1/0,last:null}))},this._downPointerState=null,this._pointerDownCount=0,this._up=e=>{if(!this._downPointerState)return;if(T(this._downPointerState.raw,e)){this._pointerDownCount=0,this._downPointerState=null;return}let t=new I({event:e,rect:this._rect,startX:-1/0,startY:-1/0,last:null}),i=P(e,t);(()=>{this._dispatcher.run("pointerUp",i),this._dispatcher.run("click",i),2===this._pointerDownCount&&this._dispatcher.run("doubleClick",i),3===this._pointerDownCount&&this._dispatcher.run("tripleClick",i)})()}}listen(){let{host:e,disposables:t}=this._dispatcher;t.addFromEvent(e,"pointerdown",this._down),t.addFromEvent(e,"pointerup",this._up)}}class D extends A{constructor(){super(...arguments),this._down=e=>{if(!e.isPrimary){this._dragging&&this._lastPointerState&&this._up(this._lastPointerState.raw),this._reset();return}let t=new I({event:e,rect:this._rect,startX:-1/0,startY:-1/0,last:null});this._startPointerState=t,this._dispatcher.disposables.addFromEvent(document,"pointermove",this._move),this._dispatcher.disposables.addFromEvent(document,"pointerup",this._up)},this._dragging=!1,this._lastPointerState=null,this._move=e=>{if(null===this._startPointerState||this._startPointerState.raw.pointerId!==e.pointerId)return;let t=this._startPointerState,i=this._lastPointerState??t,s=new I({event:e,rect:this._rect,startX:t.x,startY:t.y,last:i});this._lastPointerState=s,!this._dragging&&T(e,this._startPointerState.raw)&&(this._dragging=!0,this._dispatcher.run("dragStart",P(e,t))),this._dragging&&this._dispatcher.run("dragMove",P(e,s))},this._reset=()=>{this._dragging=!1,this._startPointerState=null,this._lastPointerState=null,document.removeEventListener("pointermove",this._move),document.removeEventListener("pointerup",this._up)},this._startPointerState=null,this._up=e=>{if(!this._startPointerState||this._startPointerState.raw.pointerId!==e.pointerId)return;let t=this._startPointerState,i=this._lastPointerState,s=new I({event:e,rect:this._rect,startX:t.x,startY:t.y,last:i});this._dragging&&this._dispatcher.run("dragEnd",P(e,s)),this._reset()}}listen(){let{host:e,disposables:t}=this._dispatcher;t.addFromEvent(e,"pointerdown",this._down)}}class Z extends A{constructor(){super(...arguments),this._down=e=>{if(null!==this._startPointerStates.primary&&null!==this._startPointerStates.secondary&&this._reset(),null===this._startPointerStates.primary&&!e.isPrimary)return;let t=new I({event:e,rect:this._rect,startX:-1/0,startY:-1/0,last:null});e.isPrimary?this._startPointerStates.primary=t:this._startPointerStates.secondary=t},this._lastPointerStates={primary:null,secondary:null},this._move=e=>{if(null===this._startPointerStates.primary||null===this._startPointerStates.secondary)return;let{pointerId:t}=e,i=this._startPointerStates.primary.raw.pointerId===t?this._startPointerStates.primary:this._startPointerStates.secondary,s=(this._lastPointerStates.primary?.raw.pointerId===t?this._lastPointerStates.primary:this._lastPointerStates.secondary)??i;if(!T(s.raw,e))return;let o=new I({event:e,rect:this._rect,startX:i.x,startY:i.y,last:s}),r=this._startPointerStates.primary.raw.pointerId!==t?this._startPointerStates.primary:this._startPointerStates.secondary,a=(this._lastPointerStates.primary?.raw.pointerId!==t?this._lastPointerStates.primary:this._lastPointerStates.secondary)??r,n=new I({event:a.raw,rect:this._rect,startX:r.x,startY:r.y,last:a});if(!T(o.delta,n.delta))return;let l=new B(e,[o,n]);this._handleMove(e,l),this._lastPointerStates={primary:o.raw.isPrimary?o:n,secondary:o.raw.isPrimary?n:o}},this._reset=()=>{this._startPointerStates={primary:null,secondary:null},this._lastPointerStates={primary:null,secondary:null}},this._startPointerStates={primary:null,secondary:null},this._upOrOut=e=>{let{pointerId:t}=e;(t===this._startPointerStates.primary?.raw.pointerId||t===this._startPointerStates.secondary?.raw.pointerId)&&this._reset()}}listen(){let{host:e,disposables:t}=this._dispatcher;t.addFromEvent(e,"pointerdown",this._down),t.addFromEvent(e,"pointermove",this._move),t.addFromEvent(e,"pointerup",this._upOrOut),t.addFromEvent(e,"pointerout",this._upOrOut)}}class j extends Z{_handleMove(e,t){"touch"===e.pointerType&&T(t.pointers[0].delta,t.pointers[1].delta)&&this._dispatcher.run("pinch",P(e,t))}}class V extends Z{_handleMove(e,t){var i,s;"touch"===e.pointerType&&T({x:0,y:0},(i=t.pointers[0].delta,s=t.pointers[1].delta,{x:(i.x+s.x)/2,y:(i.y+s.y)/2}))&&this._dispatcher.run("pan",P(e,t))}}class R{constructor(e){this.controllers=[new H(e),new L(e),new D(e),new V(e),new j(e)]}listen(){this.controllers.forEach(e=>e.listen())}}class z{constructor(e){this._dispatcher=e,this._buildScope=e=>{let t;let i=document.getSelection();if(i&&i.rangeCount>0){let s=i.getRangeAt(0);t=this._buildEventScopeByNativeRange(e,s),this._prev=s}else null!==this._prev&&(t=this._buildEventScopeByNativeRange(e,this._prev),this._prev=null);return t},this._compositionEnd=e=>{let t=this._buildScope("compositionEnd");this._dispatcher.run("compositionEnd",this._createContext(e),t)},this._compositionStart=e=>{let t=this._buildScope("compositionStart");this._dispatcher.run("compositionStart",this._createContext(e),t)},this._compositionUpdate=e=>{let t=this._buildScope("compositionUpdate");this._dispatcher.run("compositionUpdate",this._createContext(e),t)},this._prev=null,this._selectionChange=e=>{let t=document.getSelection();if(!t||!t.containsNode(this._dispatcher.host,!0)||t.containsNode(this._dispatcher.host))return;let i=this._buildScope("selectionChange");this._dispatcher.run("selectionChange",this._createContext(e),i)}}_buildEventScopeByNativeRange(e,t){let i=this._findBlockComponentPath(t).map(e=>e).filter(e=>!!e),s=Array.from(new Set(i.flatMap(e=>e.map(e=>this._dispatcher.std.doc.getBlockById(e)?.flavour)).filter(e=>!!e))).reverse();return this._dispatcher.buildEventScope(e,s,i)}_createContext(e){return b.from(new y(e),new x({event:e,sourceType:s.Selection}))}_findBlockComponentPath(e){let t=e.startContainer,i=e.endContainer,s=e.commonAncestorContainer,o=e=>{let t=e instanceof Element?e:e.parentElement;return t?.closest("[data-block-id]")};if(s.nodeType===Node.TEXT_NODE){let e=o(s);if(e)return[e.path]}let r=new Set,a=!1,n=(e,s)=>{if(e&&e!==s){if(e===i){r.add(e),a=!1;return}e===t&&(a=!0),a&&(e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE)&&r.add(e),n(e.firstChild,s),n(e.nextSibling,s)}};n(s.firstChild,s);let l=new Set;return r.forEach(e=>{let t=o(e);!t||l.has(t.path)||l.add(t.path)}),Array.from(l)}listen(){this._dispatcher.disposables.addFromEvent(document,"selectionchange",this._selectionChange),this._dispatcher.disposables.addFromEvent(this._dispatcher.host,"compositionstart",this._compositionStart),this._dispatcher.disposables.addFromEvent(this._dispatcher.host,"compositionend",this._compositionEnd),this._dispatcher.disposables.addFromEvent(this._dispatcher.host,"compositionupdate",this._compositionUpdate)}}let F=["beforeInput","blur","focus","drop","contextMenu","wheel"],N=["click","doubleClick","tripleClick","pointerDown","pointerMove","pointerUp","pointerOut","dragStart","dragMove","dragEnd","pinch","pan","keyDown","keyUp","selectionChange","compositionStart","compositionUpdate","compositionEnd","cut","copy","paste",...F];class q{constructor(e){this.std=e,this._active=!1,this._calculatePath=e=>{let t=[],i=e;for(;i;)t.push(i.id),i=this.std.doc.getParent(i);return t.reverse()},this._handlersMap=Object.fromEntries(N.map(e=>[e,[]])),this.bindHotkey=(...e)=>this._keyboardControl.bindHotkey(...e),this.disposables=new g.K,this.slots={parentScaleChanged:new m.D,editorHostPanned:new m.D},this._pointerControl=new R(this),this._keyboardControl=new $(this),this._rangeControl=new z(this),this._clipboardControl=new _(this)}_bindEvents(){F.forEach(e=>{this.disposables.addFromEvent(this.host,O(e),t=>{this.run(e,b.from(new y(t),new x({event:t,sourceType:s.Selection})))},"wheel"===e?{passive:!1}:void 0)}),this._pointerControl.listen(),this._keyboardControl.listen(),this._rangeControl.listen(),this._clipboardControl.listen();let e=!1;this.disposables.addFromEvent(this.host,"pointerdown",()=>{e=!0,this._active=!0}),this.disposables.addFromEvent(this.host,"pointerup",()=>{e=!1}),this.disposables.addFromEvent(this.host,"click",()=>{this._active=!0}),this.disposables.addFromEvent(this.host,"focusin",()=>{this._active=!0}),this.disposables.addFromEvent(this.host,"focusout",e=>{e.relatedTarget&&!this.host.contains(e.relatedTarget)&&(this._active=!1)}),this.disposables.addFromEvent(this.host,"pointerenter",()=>{this._active=!0}),this.disposables.addFromEvent(this.host,"pointerleave",()=>{document.activeElement&&this.host.contains(document.activeElement)||e||(this._active=!1)})}_buildEventScopeBySelection(e){if(!this._handlersMap[e])return;let t=this._currentSelections,i={},s=t.map(e=>e.blockId).map(e=>this.std.doc.getBlockById(e)).filter(e=>!!e).map(e=>this._calculatePath(e)),o=s.flatMap(e=>e.map(e=>this.std.doc.getBlockById(e)?.flavour)).filter(e=>!!e&&!i[e]&&(i[e]=!0,!0)).reverse();return this.buildEventScope(e,o,s)}_buildEventScopeByTarget(e,t){if(!this._handlersMap[e])return;let i=t instanceof Element?t:t.parentElement,s=i?.closest("[data-block-id]"),o=s?.path;if(!o)return this._buildEventScopeBySelection(e);let r=o.map(e=>this.std.doc.getBlockById(e)?.flavour).filter(e=>!!e).reverse();return this.buildEventScope(e,r,[o])}get _currentSelections(){return this.std.selection.value}_getEventScope(e,t){let i;if(this._handlersMap[e]){switch(t.sourceType){case s.Selection:i=this._buildEventScopeBySelection(e);break;case s.Target:i=this._buildEventScopeByTarget(e,t.event.target);break;default:throw new r.Ss(a.O.EventDispatcherError,`Unknown event scope source: ${t.sourceType}`)}return i}}add(e,t,i){let s={fn:t,flavour:i?.flavour,path:i?.path};return this._handlersMap[e].unshift(s),()=>{this._handlersMap[e].includes(s)&&(this._handlersMap[e]=this._handlersMap[e].filter(e=>e!==s))}}buildEventScope(e,t,i){let s=this._handlersMap[e];if(!s)return;let o=s.filter(e=>void 0===e.flavour&&void 0===e.path),r=s.filter(e=>{let t=e.path;return void 0!==t&&i.some(e=>v.includes(e,t))}),a=s.filter(e=>e.flavour&&t.includes(e.flavour));return{runners:r.concat(a).concat(o),flavours:t,paths:i}}mount(){this.disposables.disposed&&(this.disposables=new g.K),this._bindEvents()}run(e,t,i){if(!this.active)return;let s=t.get("sourceState");if(i||(i=this._getEventScope(e,s)))for(let e of i.runners){let{fn:i}=e;if(i(t)){t.get("defaultState").event.stopPropagation();return}}}unmount(){this.disposables.dispose()}get active(){return this._active}get host(){return this.std.host}}var U=i(46317);let W=e=>{let t=e.host,i=t.selection,s=t.range,o=new m.D;if(!i||!s)return null;let n=i=>{if(i.collapsed){let s=i.startContainer instanceof Element?i.startContainer:i.startContainer.parentElement;if(!s?.closest(`[${U.jN}]`))return!1;let o=s?.closest(`[${t.blockIdAttr}]`);if(!o||o!==e)return!1}else if(!i.intersectsNode(e))return!1;return!0},l=(t,i)=>{if(!n(t))return null;let{from:s,to:o}=i;if(s.blockId===e.blockId)return{index:s.index,length:s.length};if(o&&o.blockId===e.blockId)return{index:o.index,length:o.length};if(!e.model.text)throw new r.Ss(a.O.SelectionError,"element to set text selection has no text");return{index:0,length:e.model.text.length}},c=null;return i.slots.changed.on(()=>{let e=i.find("text");if(!e)return;let t=s.value;t&&n(t)&&requestAnimationFrame(()=>{let i=l(t,e);c&&i&&c.index===i.index&&c.length===i.length||(c=i,o.emit([i,!1]))})}),{setInlineRange:(t,r=!0)=>{if(!s.binding?.isComposing){if(t){let s=i.create("text",{from:{blockId:e.blockId,index:t.index,length:t.length},to:null});i.setGroup("note",[s])}else i.clear(["text"]);o.emit([t,r])}},getInlineRange:()=>{let e=document.getSelection();if(!e||0===e.rangeCount)return null;let t=e.getRangeAt(0);if(!t)return null;let s=i.find("text");return s?l(t,s):null},inlineRangeUpdated:o}};var G=i(64816),Y=i(99603),K=i(31980),X=i(91449),Q=i(4564),J=i(53010),ee=i(94423),et=i(3874);class ei{constructor({blockId:e}){this.blockId=e}static fromJSON(e){throw new r.Ss(a.O.SelectionError,"You must override this method")}is(e){return this.type===e}get group(){return this.constructor.group}get type(){return this.constructor.type}}var es=i(67448);let eo=es.Ay.object({blockId:es.Ay.string()});class er extends ei{static{this.group="note"}static{this.type="block"}static fromJSON(e){return eo.parse(e),new er({blockId:e.blockId})}equals(e){return e instanceof er&&this.blockId===e.blockId}toJSON(){return{type:"block",blockId:this.blockId}}}let ea=es.Ay.object({x:es.Ay.number(),y:es.Ay.number()});class en extends ei{static{this.group="gfx"}static{this.type="cursor"}constructor(e,t){super({blockId:"[gfx-cursor]"}),this.x=e,this.y=t}static fromJSON(e){return ea.parse(e),new en(e.x,e.y)}equals(e){return e instanceof en&&this.x===e.x&&this.y===e.y}toJSON(){return{type:"cursor",x:this.x,y:this.y}}}let el=es.Ay.object({elements:es.Ay.array(es.Ay.string()),editing:es.Ay.boolean(),inoperable:es.Ay.boolean().optional()});class ec extends ei{static{this.group="gfx"}static{this.type="surface"}constructor(e,t,i,s=!1){super({blockId:e}),this.elements=t,this.editing=i,this.inoperable=s}static fromJSON(e){return el.parse(e),new ec(e.blockId,e.elements,e.editing,e.inoperable||!1)}equals(e){return e instanceof ec&&this.blockId===e.blockId&&this.elements.length===e.elements.length&&this.elements.every((t,i)=>t===e.elements[i])&&this.editing===e.editing&&this.inoperable===e.inoperable}isEmpty(){return 0===this.elements.length&&!this.editing}toJSON(){return{type:"surface",blockId:this.blockId,elements:this.elements,editing:this.editing,inoperable:this.inoperable}}}let ed=es.Ay.object({from:es.Ay.object({blockId:es.Ay.string(),index:es.Ay.number(),length:es.Ay.number()}),to:es.Ay.object({blockId:es.Ay.string(),index:es.Ay.number(),length:es.Ay.number()}).nullable(),reverse:es.Ay.boolean().optional()});class eh extends ei{static{this.group="note"}static{this.type="text"}constructor({from:e,to:t,reverse:i}){super({blockId:e.blockId}),this.from=e,this.to=this._equalPoint(e,t)?null:t,this.reverse=!!i}static fromJSON(e){return ed.parse(e),new eh({from:e.from,to:e.to,reverse:!!e.reverse})}_equalPoint(e,t){return e&&t?e.blockId===t.blockId&&e.index===t.index&&e.length===t.length:e===t}empty(){return!!this.to}equals(e){return e instanceof eh&&this.blockId===e.blockId&&this._equalPoint(e.from,this.from)&&this._equalPoint(e.to,this.to)}isCollapsed(){return null===this.to&&0===this.from.length}isInSameBlock(){return null===this.to||this.from.blockId===this.to.blockId}toJSON(){return{type:"text",from:this.from,to:this.to,reverse:this.reverse}}get end(){return this.reverse?this.from:this.to??this.from}get start(){return this.reverse?this.to??this.from:this.from}}class eu{constructor(e){this.std=e,this._itemAdded=e=>{e.stackItem.meta.set("selection-state",this.value)},this._itemPopped=e=>{let t=e.stackItem.meta.get("selection-state");t&&this.set(t)},this._jsonToSelection=e=>{let t=this._selectionConstructors[e.type];if(!t)throw new r.Ss(a.O.SelectionError,`Unknown selection type: ${e.type}`);return t.fromJSON(e)},this._remoteSelections=(0,K.vP)(new Map),this._selectionConstructors={},this._selections=(0,K.vP)([]),this.disposables=new g.K,this.slots={changed:new m.D,remoteChanged:new m.D},this._setupDefaultSelections(),this._store.awareness.on("change",e=>{let t=e.updated.concat(e.added).concat(e.removed),i=this._store.awareness.clientID,s=t.filter(e=>e!==i);if(t.includes(i)){let e=this._store.getLocalSelection(this.std.doc.blockCollection).map(e=>this._jsonToSelection(e));this._selections.value=e}if(s.length>0){let e=new Map;this._store.getStates().forEach((t,i)=>{if(i===this._store.awareness.clientID)return;let s=Object.entries(t.selectionV2).filter(([e])=>e===this.std.doc.id).flatMap(([e,t])=>t).map(e=>{try{return this._jsonToSelection(e)}catch(t){return console.error("Parse remote selection failed:",i,e,t),null}}).filter(e=>!!e);e.set(i,s)}),this._remoteSelections.value=e}})}_setupDefaultSelections(){this.register([eh,er,ec,en])}get _store(){return this.std.collection.awarenessStore}clear(e){if(e){let t=this.value.filter(t=>!e.includes(t.type));this.set(t)}else this.set([])}create(e,...t){let i=this._selectionConstructors[e];if(!i)throw new r.Ss(a.O.SelectionError,`Unknown selection type: ${e}`);return new i(...t)}dispose(){Object.values(this.slots).forEach(e=>e.dispose()),this.disposables.dispose()}filter(e){return this.filter$(e).value}filter$(e){return(0,K.EW)(()=>this.value.filter(t=>t.is(e)))}find(e){return this.find$(e).value}find$(e){return(0,K.EW)(()=>this.value.find(t=>t.is(e)))}fromJSON(e){let t=e.map(e=>this._jsonToSelection(e));return this.set(t)}getGroup(e){return this.value.filter(t=>t.group===e)}mount(){this.disposables.disposed&&(this.disposables=new g.K),this.std.doc.history.on("stack-item-added",this._itemAdded),this.std.doc.history.on("stack-item-popped",this._itemPopped),this.disposables.add(this._store.slots.update.on(({id:e})=>{e!==this._store.awareness.clientID&&this.slots.remoteChanged.emit(this.remoteSelections)}))}register(e){return[e].flat().forEach(e=>{this._selectionConstructors[e.type]=e}),this}set(e){this._store.setLocalSelection(this.std.doc.blockCollection,e.map(e=>e.toJSON())),this.slots.changed.emit(e)}setGroup(e,t){let i=this.value.filter(t=>t.group!==e);this.set([...i,...t])}unmount(){this.std.doc.history.off("stack-item-added",this._itemAdded),this.std.doc.history.off("stack-item-popped",this._itemPopped),this.slots.changed.dispose(),this.disposables.dispose(),this.clear()}update(e){let t=e(this.value);this.set(t)}get remoteSelections(){return this._remoteSelections.value}get value(){return this._selections.value}}class ep{constructor(e){this.disposables=new g.K,this.flavour=e.flavour,this.std=e.std,this.specSlots=e.slots}bindHotKey(e,t){this.disposables.add(this.uiEventDispatcher.bindHotkey(e,{flavour:t?.global?void 0:this.flavour}))}dispose(){this.disposables.dispose()}handleEvent(e,t,i){this.disposables.add(this.uiEventDispatcher.add(e,t,{flavour:i?.global?void 0:this.flavour}))}mounted(){this.specSlots.mounted.emit({service:this})}unmounted(){this.specSlots.unmounted.emit({service:this})}get collection(){return this.std.collection}get doc(){return this.std.doc}get host(){return this.std.host}get selectionManager(){return this.std.selection}get uiEventDispatcher(){return this.std.event}}let ef=()=>({mounted:new m.D,unmounted:new m.D,viewConnected:new m.D,viewDisconnected:new m.D,widgetConnected:new m.D,widgetDisconnected:new m.D});class eg{constructor(e){this.std=e,this._disposables=new g.K,this._services=new Map,this._specs=new Map,this.slots={beforeApply:new m.D,beforeMount:new m.D,beforeUnmount:new m.D,afterApply:new m.D,afterMount:new m.D,afterUnmount:new m.D}}_buildSpecMap(e){let t=new Map;return e.forEach(e=>{t.set(e.schema.model.flavour,e)}),t}_diffServices(e,t){e.forEach((e,i)=>{if(t.has(i)&&t.get(i)?.service===e.service)return;let s=this._services.get(i);s&&(s.dispose(),s.unmounted()),this._services.delete(i)}),t.forEach((e,t)=>{if(this._services.has(t))return;let i=e.service??ep,s=ef(),o=new i({flavour:t,std:this.std,slots:s});e.setup?.(s,this._disposables),this._services.set(t,o),o.mounted()})}applySpecs(e){this.slots.beforeApply.emit();let t=this._specs,i=this._buildSpecMap(e);this._diffServices(t,i),this._specs=i,this.slots.afterApply.emit()}getConfig(e){let t=this._specs.get(e);return t?t.config:null}getService(e){return this._services.get(e)}getView(e){let t=this._specs.get(e);return t?t.view:null}mount(){this.slots.beforeMount.emit(),this._disposables.disposed&&(this._disposables=new g.K),this.slots.afterMount.emit()}unmount(){this.slots.beforeUnmount.emit(),this._services.forEach(e=>{e.dispose(),e.unmounted()}),this._services.clear(),this._disposables.dispose(),this.slots.afterUnmount.emit()}}class em{constructor(e){this.std=e,this._blockMap=new Map,this._widgetMap=new Map,this.calculatePath=e=>{let t=[],i=e;for(;i;)t.push(i.id),i=this.std.doc.getParent(i);return t.reverse()},this.deleteBlock=e=>{this._blockMap.delete(e.id)},this.deleteWidget=e=>{let t=e.dataset.widgetId,i=`${e.model.id}|${t}`;this._widgetMap.delete(i)},this.fromPath=e=>{let t=e??this.std.doc.root?.id;return t?this._blockMap.get(t)??null:null},this.getBlock=e=>this._blockMap.get(e)??null,this.getWidget=(e,t)=>{let i=`${t}|${e}`;return this._widgetMap.get(i)??null},this.setBlock=e=>{this._blockMap.set(e.model.id,e)},this.setWidget=e=>{let t=e.dataset.widgetId,i=`${e.model.id}|${t}`;this._widgetMap.set(i,e)},this.walkThrough=(e,t)=>{let i=this.fromPath(t);if(!i)return;let s=t=>(i,o)=>{if(!0===e(i,o,t))return;let r=i.model.children;r.forEach(e=>{let t=this._blockMap.get(e.id);t&&s(i)(t,r.indexOf(e))})};i.model.children.forEach(e=>{let t=this._blockMap.get(e.id);t&&s(t)(t,i.model.children.indexOf(e))})}}mount(){}unmount(){this._blockMap.clear(),this._widgetMap.clear()}viewFromPath(e,t){if("block"===e)return this.fromPath(t[t.length-1]);let i=t.slice(-2).join("|");return this._widgetMap.get(i)??null}}class ev{constructor(e){this.host=e.host,this.collection=e.doc.collection,this.doc=e.doc,this.event=new q(this),this.selection=new eu(this),this.range=new eP(this.host),this.command=new f(this),this.spec=new eg(this),this.view=new em(this),this.clipboard=new u(this)}mount(){this.selection.mount(),this.range.mount(),this.event.mount(),this.view.mount(),this.spec.mount()}unmount(){this.event.unmount(),this.selection.unmount(),this.view.unmount(),this.spec.unmount()}}let ey={string:e=>"string"==typeof e,number:e=>"number"==typeof e,boolean:e=>"boolean"==typeof e,object:e=>"object"==typeof e,array:e=>Array.isArray(e),instanceOf:e=>t=>t instanceof e,arrayOf:e=>t=>Array.isArray(t)&&t.every(e),recordOf:e=>t=>"object"==typeof t&&null!==t&&Object.values(t).every(e)};function eb(e){return function(t){let i=t.prototype.connectedCallback;t.prototype.connectedCallback=function(){i&&i.call(this),function(e,t){for(let[i,s]of Object.entries(t)){if(void 0===e[i])throw new r.Ss(a.O.DefaultRuntimeError,`Property ${i} is required to ${e.constructor.name}.`);if(s&&!s(e[i]))throw new r.Ss(a.O.DefaultRuntimeError,`Property ${i} is invalid to ${e.constructor.name}.`)}}(this,e)}}}function ew(e){return class extends e{constructor(){super(...arguments),this._disposables=new g.K}connectedCallback(){super.connectedCallback(),this._disposables.disposed&&(this._disposables=new g.K)}disconnectedCallback(){super.disconnectedCallback(),this._disposables.dispose()}get disposables(){return this._disposables}}}var ex=i(22805);class e_ extends X.WF{static{this.disableShadowRoot=!0}static finalizeStyles(e){let t=super.finalizeStyles(e);return this.disableShadowRoot&&(t.forEach(e=>{if(e instanceof X.BO&&"undefined"!=typeof document){let t=document.head,i=document.createElement("style");i.textContent=e.cssText,t.append(i)}else console.error("unreachable")}),t=[]),t}createRenderRoot(){return this.constructor.disableShadowRoot?this:super.createRenderRoot()}}var eC=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ek=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let eS=(0,Y.q6)("doc"),eM=(0,Y.q6)("std"),eE=(()=>{let e,t,i,s,o,l,c,d=[eb({doc:ey.instanceOf(n.JA),std:ey.instanceOf(ev),specs:ey.arrayOf(ey.object)}),(0,Q.EM)("editor-host")],h=[],u=(0,K.Jb)(ew(e_)),p=[],f=[],g=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[];return class extends u{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;i=[(0,Q.MZ)({attribute:!1})],s=[(0,Y.Gt)({context:eS}),(0,Q.MZ)({attribute:!1})],o=[(0,Q.MZ)({attribute:!1})],l=[(0,Y.Gt)({context:eM}),(0,Q.wk)()],c=[(0,Q.MZ)({attribute:!1})],eC(this,null,i,{kind:"accessor",name:"blockIdAttr",static:!1,private:!1,access:{has:e=>"blockIdAttr"in e,get:e=>e.blockIdAttr,set:(e,t)=>{e.blockIdAttr=t}},metadata:r},p,f),eC(this,null,s,{kind:"accessor",name:"doc",static:!1,private:!1,access:{has:e=>"doc"in e,get:e=>e.doc,set:(e,t)=>{e.doc=t}},metadata:r},g,v),eC(this,null,o,{kind:"accessor",name:"specs",static:!1,private:!1,access:{has:e=>"specs"in e,get:e=>e.specs,set:(e,t)=>{e.specs=t}},metadata:r},y,b),eC(this,null,l,{kind:"accessor",name:"std",static:!1,private:!1,access:{has:e=>"std"in e,get:e=>e.std,set:(e,t)=>{e.std=t}},metadata:r},w,x),eC(this,null,c,{kind:"accessor",name:"widgetIdAttr",static:!1,private:!1,access:{has:e=>"widgetIdAttr"in e,get:e=>e.widgetIdAttr,set:(e,t)=>{e.widgetIdAttr=t}},metadata:r},_,C),eC(null,e={value:t},d,{kind:"class",name:t.name,metadata:r},null,h),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,X.AH)`
    editor-host {
      outline: none;
      isolation: isolate;
    }
  `}connectedCallback(){if(super.connectedCallback(),!this.doc.root)throw new r.Ss(a.O.NoRootModelError,"This doc is missing root block. Please initialize the default block structure before connecting the editor to DOM.");this.std=new ev({host:this,doc:this.doc}),this.std.mount(),this.std.spec.applySpecs(this.specs),this.tabIndex=0}disconnectedCallback(){super.disconnectedCallback(),this.std.unmount(),this.slots.unmounted.emit()}async getUpdateComplete(){try{let e=await super.getUpdateComplete(),t=this.doc.root;if(!t)return e;let i=this.std.spec.getView(t.flavour);if(!i)return e;let s=Object.values(i.widgets??{}),o=[i.component,...s];return await Promise.all(o.map(e=>{let t=this.renderRoot.querySelector(e._$litStatic$);if(t instanceof X.WF)return t.updateComplete})),e}catch(e){return e instanceof Error?(0,r.H4)(e):console.error(e),!0}}render(){let{root:e}=this.doc;return e?this._renderModel(e):X.s6}willUpdate(e){e.has("specs")&&this.std.spec.applySpecs(this.specs),super.willUpdate(e)}get command(){return this.std.command}get event(){return this.std.event}get range(){return this.std.range}get selection(){return this.std.selection}get spec(){return this.std.spec}get view(){return this.std.view}#c;get blockIdAttr(){return this.#c}set blockIdAttr(e){this.#c=e}#d;get doc(){return this.#d}set doc(e){this.#d=e}#h;get specs(){return this.#h}set specs(e){this.#h=e}#u;get std(){return this.#u}set std(e){this.#u=e}#p;get widgetIdAttr(){return this.#p}set widgetIdAttr(e){this.#p=e}constructor(){super(...arguments),this._renderModel=e=>{let{flavour:t}=e,i=this.doc.getBlock(e.id);if(!i||i.blockViewType===n.lv.Hidden)return(0,et.qy)`${X.s6}`;let s=this.doc.schema.flavourSchemaMap.get(t),o=this.std.spec.getView(t);if(!s||!o)return console.warn(`Cannot find render flavour ${t}.`),(0,et.qy)`${X.s6}`;let r=o.component,a=o.widgets?Object.entries(o.widgets).reduce((e,[t,i])=>{let s=(0,et.qy)`<${i} ${(0,et.Bk)(this.widgetIdAttr)}=${t}></${i}>`;return{...e,[t]:s}},{}):{};return(0,et.qy)`<${r}
      ${(0,et.Bk)(this.blockIdAttr)}=${e.id}
      .widgets=${a}
      .viewType=${i.blockViewType}
    ></${r}>`},this.renderChildren=e=>(0,et.qy)`${(0,ex.u)(e.children,e=>e.id,e=>this._renderModel(e))}`,this.renderModel=e=>this._renderModel(e),this.renderSpecPortal=(e,t)=>(0,et.qy)`
      <editor-host
        .doc=${e}
        .specs=${t}
        contenteditable="false"
      ></editor-host>
    `,this.slots={unmounted:new m.D},this.#c=ek(this,p,"data-block-id"),this.#d=(ek(this,f),ek(this,g,void 0)),this.#h=(ek(this,v),ek(this,y,void 0)),this.#u=(ek(this,b),ek(this,w,void 0)),this.#p=(ek(this,x),ek(this,_,"data-widget-id")),ek(this,C)}static{ek(t,h)}},t})();var eI=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},eB=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let e$=(0,Y.q6)("model"),eT=(0,Y.q6)("service"),eO=(()=>{let e,t,i,s,o,l,c,d,h,u,p=[eb({doc:ey.instanceOf(n.JA),std:ey.instanceOf(ev),widgets:ey.recordOf(ey.object)})],f=[],g=(0,K.Jb)(ew(e_)),m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[];return class extends g{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(g[Symbol.metadata]??null):void 0;i=[(0,Y.Gt)({context:e$}),(0,Q.wk)()],s=[(0,Q.wk)()],o=[(0,Y.Gt)({context:eT}),(0,Q.wk)()],l=[(0,Q.MZ)({attribute:!1})],c=[(0,Y.Fg)({context:eS})],d=[(0,Y.Fg)({context:eM})],h=[(0,Q.MZ)({attribute:!1})],u=[(0,Q.MZ)({attribute:!1,hasChanged:(e,t)=>e&&t?(!!Object.keys(e).length||!!Object.keys(t).length)&&e!==t:e!==t})],eI(this,null,i,{kind:"accessor",name:"_model",static:!1,private:!1,access:{has:e=>"_model"in e,get:e=>e._model,set:(e,t)=>{e._model=t}},metadata:r},m,v),eI(this,null,s,{kind:"accessor",name:"_renderers",static:!1,private:!1,access:{has:e=>"_renderers"in e,get:e=>e._renderers,set:(e,t)=>{e._renderers=t}},metadata:r},y,b),eI(this,null,o,{kind:"accessor",name:"_service",static:!1,private:!1,access:{has:e=>"_service"in e,get:e=>e._service,set:(e,t)=>{e._service=t}},metadata:r},w,x),eI(this,null,l,{kind:"accessor",name:"dirty",static:!1,private:!1,access:{has:e=>"dirty"in e,get:e=>e.dirty,set:(e,t)=>{e.dirty=t}},metadata:r},_,C),eI(this,null,c,{kind:"accessor",name:"doc",static:!1,private:!1,access:{has:e=>"doc"in e,get:e=>e.doc,set:(e,t)=>{e.doc=t}},metadata:r},k,S),eI(this,null,d,{kind:"accessor",name:"std",static:!1,private:!1,access:{has:e=>"std"in e,get:e=>e.std,set:(e,t)=>{e.std=t}},metadata:r},M,E),eI(this,null,h,{kind:"accessor",name:"viewType",static:!1,private:!1,access:{has:e=>"viewType"in e,get:e=>e.viewType,set:(e,t)=>{e.viewType=t}},metadata:r},I,B),eI(this,null,u,{kind:"accessor",name:"widgets",static:!1,private:!1,access:{has:e=>"widgets"in e,get:e=>e.widgets,set:(e,t)=>{e.widgets=t}},metadata:r},$,T),eI(null,e={value:t},p,{kind:"class",name:t.name,metadata:r},null,f),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),eB(t,f)}_renderMismatchBlock(e){return(0,ee.z)(this.isVersionMismatch,()=>{let e=this.doc.schema.flavourSchemaMap.get(this.model.flavour);if(!e)throw new r.Ss(a.O.ValueNotExists,`Cannot find schema for flavour ${this.model.flavour}`);let t=e.version,i=this.model.version;return this.renderVersionMismatch(t,i)},()=>e)}_renderViewType(e){return(0,J.S)(this.viewType,[[n.lv.Display,()=>e],[n.lv.Hidden,()=>X.s6],[n.lv.Bypass,()=>this.renderChildren(this.model)]])}addRenderer(e){this._renderers.push(e)}bindHotKey(e,t){let i={flavour:t?.global?void 0:t?.flavour?this.model.flavour:void 0,path:t?.global||t?.flavour?void 0:this.path},s=this.host.event.bindHotkey(e,i);return this._disposables.add(s),s}connectedCallback(){super.connectedCallback(),this.std.view.setBlock(this);let e=this.std.doc.slots.blockUpdated.on(({type:t,id:i})=>{i===this.model.id&&"delete"===t&&(this.std.view.deleteBlock(this),e.dispose())});this._disposables.add(e),this.path=this.host.view.calculatePath(this.model),this._disposables.add(this.model.propsUpdated.on(()=>{this.requestUpdate()})),this.service.specSlots.viewConnected.emit({service:this.service,component:this})}disconnectedCallback(){super.disconnectedCallback(),this.service?.specSlots.viewDisconnected.emit({service:this.service,component:this})}async getUpdateComplete(){let e=await super.getUpdateComplete();return await Promise.all(this.childBlocks.map(e=>e.updateComplete)),e}render(){return this._renderers.reduce((e,t)=>t.call(this,e),X.s6)}renderBlock(){return X.s6}renderVersionMismatch(e,t){return(0,et.qy)`
      <dl class="version-mismatch-warning" contenteditable="false">
        <dt>
          <h4>Block Version Mismatched</h4>
        </dt>
        <dd>
          <p>
            We can not render this <var>${this.model.flavour}</var> block
            because the version is mismatched.
          </p>
          <p>Editor version: <var>${e}</var></p>
          <p>Data version: <var>${t}</var></p>
        </dd>
      </dl>
    `}update(e){this.dirty?(this.__reflectingProperties&&=this.__reflectingProperties.forEach(e=>this.__propertyToAttribute(e,this[e])),this._$changedProperties=new Map,this.isUpdatePending=!1,this.__childPart=(0,X.XX)(X.s6,this.renderRoot),this.updateComplete.then(()=>{this.dirty=!1}).catch(console.error)):super.update(e)}get blockId(){return this.dataset.blockId}get childBlocks(){return this.model.children.map(e=>this.std.view.getBlock(e.id)).filter(e=>!!e)}get flavour(){return this.model.flavour}get host(){return this.std.host}get isVersionMismatch(){let e=this.doc.schema.flavourSchemaMap.get(this.model.flavour);if(!e)throw new r.Ss(a.O.ValueNotExists,`Cannot find schema for flavour ${this.model.flavour}`);let t=e.version,i=this.model.version;return t!==i&&(console.warn(`Version mismatch for block ${this.model.id}, expected ${t}, actual ${i}`),!0)}get model(){if(this._model)return this._model;let e=this.doc.getBlockById(this.blockId);if(!e)throw new r.Ss(a.O.MissingViewModelError,`Cannot find block model for id ${this.blockId}`);return this._model=e,e}get parentBlock(){let e=this.parentElement;return e?.closest("[data-block-id]")}get rootComponent(){let e=this.doc.root?.id;return e?this.host.view.getBlock(e)??null:null}get selected(){return this._selected.value}get selection(){return this.host.selection}get service(){if(this._service)return this._service;let e=this.std.spec.getService(this.model.flavour);if(!e)throw new r.Ss(a.O.MissingViewModelError,`Cannot find service for flavour ${this.model.flavour}`);return this._service=e,e}get topContenteditableElement(){return this.rootComponent}get widgetComponents(){return Object.keys(this.widgets).reduce((e,t)=>({...e,[t]:this.host.view.getWidget(t,this.blockId)}),{})}#f;get _model(){return this.#f}set _model(e){this.#f=e}#g;get _renderers(){return this.#g}set _renderers(e){this.#g=e}#m;get _service(){return this.#m}set _service(e){this.#m=e}#v;get dirty(){return this.#v}set dirty(e){this.#v=e}#d;get doc(){return this.#d}set doc(e){this.#d=e}#u;get std(){return this.#u}set std(e){this.#u=e}#y;get viewType(){return this.#y}set viewType(e){this.#y=e}#b;get widgets(){return this.#b}set widgets(e){this.#b=e}constructor(){super(...arguments),this._selected=(0,K.EW)(()=>this.std.selection.value.find(e=>e.blockId===this.model?.id)||null),this.handleEvent=(e,t,i)=>{let s={flavour:i?.global?void 0:i?.flavour?this.model?.flavour:void 0,path:i?.global||i?.flavour?void 0:this.path};this._disposables.add(this.host.event.add(e,t,s))},this.path=[],this.renderChildren=e=>this.host.renderChildren(e),this.#f=eB(this,m,null),this.#g=(eB(this,v),eB(this,y,[this.renderBlock,this._renderMismatchBlock,this._renderViewType])),this.#m=(eB(this,b),eB(this,w,null)),this.#v=(eB(this,x),eB(this,_,!1)),this.#d=(eB(this,C),eB(this,k,void 0)),this.#u=(eB(this,S),eB(this,M,void 0)),this.#y=(eB(this,E),eB(this,I,n.lv.Display)),this.#b=(eB(this,B),eB(this,$,void 0)),eB(this,T)}},t})();class eP{static{this.rangeQueryExcludeAttr="data-range-query-exclude"}static{this.rangeSyncExcludeAttr="data-range-sync-exclude"}constructor(e){this.host=e,this.binding=null}_isRangeSyncExcluded(e){return!!e.closest(`[${eP.rangeSyncExcludeAttr}="true"]`)}clear(){let e=document.getSelection();if(!e)return;e.removeAllRanges();let t=this.host.querySelector('[contenteditable="true"]');t instanceof HTMLElement&&t.blur(),document.activeElement instanceof HTMLElement&&document.activeElement.blur()}getClosestBlock(e){let t=e instanceof Element?e:e.parentElement;if(!t)return null;let i=t.closest(`[${this.host.blockIdAttr}]`);return!i||this._isRangeSyncExcluded(i)?null:i}getClosestInlineEditor(e){let t=e instanceof Element?e:e.parentElement;if(!t)return null;let i=t.closest(`[${U.jN}]`);return!i||this._isRangeSyncExcluded(i)?null:i.inlineEditor}getSelectedBlockComponentsByRange(e,t={}){let{mode:i="all",match:s=()=>!0}=t,o=Array.from(this.host.querySelectorAll(`[${this.host.blockIdAttr}]:not([${eP.rangeQueryExcludeAttr}="true"])`)).filter(t=>e.intersectsNode(t)&&s(t));if(0===o.length)return[];let n=this.getClosestBlock(e.startContainer);if(!n)throw new r.Ss(a.O.SelectionError,"First element not found");if("flat"===i)o=o.filter(e=>n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING||e===n);else if("highest"===i){let e=o[0];o=o.filter((t,i)=>0===i||!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)&&(e=t,!0))}return o}mount(){this.binding=new eA(this)}queryInlineEditorByPath(e){let t=this.host.view.getBlock(e);if(!t)return null;let i=t.querySelector(`[${U.jN}]`);return!i||this._isRangeSyncExcluded(i)?null:i.inlineEditor}rangeToTextSelection(e,t=!1){let{startContainer:i,endContainer:s}=e,o=this.getClosestBlock(i),r=this.getClosestBlock(s);if(!o||!r)return null;let a=this.getClosestInlineEditor(i),n=this.getClosestInlineEditor(s);if(!a||!n)return null;let l=a.toInlineRange(e),c=n.toInlineRange(e);return l&&c?this.host.selection.create("text",{from:{blockId:o.blockId,index:l.index,length:l.length},to:o===r?null:{blockId:r.blockId,index:c.index,length:c.length},reverse:t}):null}set(e){let t=document.getSelection();t&&(t.removeAllRanges(),t.addRange(e))}syncRangeToTextSelection(e,t){let i=this.host.selection;if(!e){i.clear(["text"]);return}let s=this.rangeToTextSelection(e,t);s?i.setGroup("note",[s]):i.clear(["text"])}syncTextSelectionToRange(e){let t=this.textSelectionToRange(e);t?this.set(t):this.clear()}textSelectionToRange(e){let{from:t,to:i}=e,s=this.queryInlineEditorByPath(t.blockId);if(!s)return null;if(e.isInSameBlock())return s.toDomRange({index:t.index,length:t.length});if(!i)return null;let o=this.queryInlineEditorByPath(i.blockId);if(!o)return null;let r=s.toDomRange({index:t.index,length:t.length}),a=o.toDomRange({index:i.index,length:i.length});if(!r||!a)return null;let n=document.createRange(),l=r.startContainer,c=r.startOffset,d=a.endContainer,h=a.endOffset;return n.setStart(l,c),n.setEnd(d,h),n}get value(){let e=document.getSelection();return e?0===e.rangeCount?null:e.getRangeAt(0):void 0}}class eA{constructor(e){this.manager=e,this._compositionStartCallback=null,this._onBeforeInput=e=>{let t=this.selectionManager.find("text");if(!t||e.isComposing)return;let{from:i,to:s}=t;if(!s||i.blockId===s.blockId)return;let o=this.rangeManager?.value;if(!o)return;let r=this.rangeManager.getSelectedBlockComponentsByRange(o,{mode:"flat"}),a=r.at(0),n=r.at(-1);if(!a||!n)return;let l=a.model.text,c=n.model.text;if(!l||!c)return;e.preventDefault(),this.host.doc.transact(()=>{l.delete(i.index,i.length),l.insert(e.data??"",i.index),c.delete(0,s.length),l.join(c),r.slice(1).reverse().forEach(e=>{let t=this.host.doc.getParent(e.model);t&&this.host.doc.deleteBlock(e.model,{bringChildrenTo:t})})});let d=this.selectionManager.create("text",{from:{blockId:i.blockId,index:i.index+(e.data?.length??0),length:0},to:null});this.selectionManager.setGroup("note",[d])},this._onCompositionEnd=e=>{this._compositionStartCallback&&(e.preventDefault(),this._compositionStartCallback(e).catch(console.error),this._compositionStartCallback=null)},this._onCompositionStart=()=>{let e=this.selectionManager.find("text");if(!e)return;let{from:t,to:i}=e;if(!i)return;this.isComposing=!0;let s=this.rangeManager?.value;if(!s)return;let o=this.rangeManager.getSelectedBlockComponentsByRange(s,{mode:"flat"}),r=this.rangeManager.getSelectedBlockComponentsByRange(s,{mode:"highest",match:e=>"content"===e.model.role}),a=o.at(0),n=o.at(-1);if(!a||!n)return;let l=a.model.text,c=n.model.text;l&&c&&(this._compositionStartCallback=async e=>{this.isComposing=!1;let s=[];for(let e of r){let t=this.host.doc.getParent(e.blockId);if(!t)continue;let i=this.host.view.getBlock(t.id);!(i instanceof eO)||s.includes(i)||(i.dirty=!0,await i.updateComplete,await i.updateComplete,s.push(i))}this.host.doc.transact(()=>{c.delete(0,i.length),l.join(c),o.slice(1).reverse().forEach(e=>{let t=this.host.doc.getParent(e.model);t&&this.host.doc.deleteBlock(e.model,{bringChildrenTo:t})})}),await this.host.updateComplete;let a=this.selectionManager.create("text",{from:{blockId:t.blockId,index:t.index+(e.data?.length??0),length:0},to:null});this.host.selection.setGroup("note",[a]),this.rangeManager?.syncTextSelectionToRange(a)})},this._onNativeSelectionChanged=async()=>{if(this.isComposing)return;await this.host.updateComplete;let e=document.getSelection();if(!e){this.selectionManager.clear(["text"]);return}let t=e.rangeCount>0?e.getRangeAt(0):null,i=!!e.anchorNode&&!!e.focusNode&&(e.anchorNode===e.focusNode?e.anchorOffset>e.focusOffset:e.anchorNode.compareDocumentPosition(e.focusNode)===Node.DOCUMENT_POSITION_PRECEDING);if(!t){this._prevTextSelection=null,this.selectionManager.clear(["text"]);return}if(t.startContainer instanceof HTMLElement&&"false"===t.startContainer.contentEditable&&t.endContainer instanceof HTMLElement&&"false"===t.endContainer.contentEditable){this._prevTextSelection=null,this.selectionManager.clear(["text"]),e.removeRange(t);return}let s=t.commonAncestorContainer instanceof Element?t.commonAncestorContainer:t.commonAncestorContainer.parentElement;if(!s)return;let o=s.closest(`[${this.host.blockIdAttr}]`);if(o?.getAttribute(eP.rangeSyncExcludeAttr)==="true")return;let r=this.rangeManager?.getClosestInlineEditor(t.commonAncestorContainer);if(r?.isComposing)return;let a=this.rangeManager?.rangeToTextSelection(t,i);if(!a){this._prevTextSelection=null,this.selectionManager.clear(["text"]);return}let n=this.host.doc.getBlockById(a.blockId);if(!n)return;let l=this.host.view.calculatePath(n);this._prevTextSelection={selection:a,path:l},this.rangeManager?.syncRangeToTextSelection(t,i)},this._onStdSelectionChanged=e=>{let t=e.find(e=>e.is("text"))??null;t!==this._prevTextSelection&&this.host.updateComplete.then(()=>{let e=t&&this.host.doc.getBlockById(t.blockId),i=e&&this.host.view.calculatePath(e);t&&this._prevTextSelection&&i&&t.equals(this._prevTextSelection.selection)&&i.join("")===this._prevTextSelection.path.join("")||(this._prevTextSelection=t&&i?{selection:t,path:i}:null,t?this.rangeManager?.syncTextSelectionToRange(t):this.rangeManager?.clear())}).catch(console.error)},this._prevTextSelection=null,this.isComposing=!1,this.host.disposables.add(this.selectionManager.slots.changed.on(this._onStdSelectionChanged)),this.host.disposables.addFromEvent(document,"selectionchange",(0,G.nF)(()=>{this._onNativeSelectionChanged().catch(console.error)},10)),this.host.disposables.add(this.host.event.add("beforeInput",e=>{let t=e.get("defaultState").event;this._onBeforeInput(t)})),this.host.disposables.add(this.host.event.add("compositionStart",this._onCompositionStart)),this.host.disposables.add(this.host.event.add("compositionEnd",e=>{let t=e.get("defaultState").event;this._onCompositionEnd(t)}))}get host(){return this.manager.host}get rangeManager(){return this.host.range}get selectionManager(){return this.host.selection}}let eH=Symbol("GfxElement");class eL extends eO{constructor(){super(...arguments),this[o]=!0}static{o=eH}connectedCallback(){super.connectedCallback(),this.style.position="absolute"}getRenderingRect(){let{xywh$:e}=this.model;if(!e)throw new r.Ss(a.O.GfxBlockElementError,"Gfx block element should have `xywh` property.");let[t,i,s,o]=JSON.parse(e.value);return{x:t,y:i,w:s,h:o,zIndex:this.toZIndex()}}renderBlock(){let{x:e,y:t,w:i,h:s,zIndex:o}=this.getRenderingRect();return this.style.left=`${e}px`,this.style.top=`${t}px`,this.style.width=`${i}px`,this.style.height=`${s}px`,this.style.zIndex=o,this.renderGfxBlock()}renderGfxBlock(){return X.s6}renderPageContent(){return X.s6}async scheduleUpdate(){let e=this.parentElement;!this.hasUpdated&&e&&"scheduleUpdateChildren"in e&&await e.scheduleUpdateChildren(this.model.id),super.scheduleUpdate()}toZIndex(){return"1"}updateZIndex(){this.style.zIndex=this.toZIndex()}get rootService(){return this.host.spec.getService(this.rootServiceFlavour)}}function eD(e){var t;return class extends e{constructor(){super(...arguments),this[t]=!0}static{t=eH}connectedCallback(){super.connectedCallback(),this.style.position="absolute"}getRenderingRect(){let{xywh$:e}=this.model;if(!e)throw new r.Ss(a.O.GfxBlockElementError,"Gfx block element should have `xywh` property.");let[t,i,s,o]=JSON.parse(e.value);return{x:t,y:i,w:s,h:o,zIndex:this.toZIndex()}}renderBlock(){let{xywh:e,index:t}=this.model;if(!e||!t)throw new r.Ss(a.O.GfxBlockElementError,"Gfx block element should have `xywh` and `index` props.");let{x:i,y:s,w:o,h:n,zIndex:l}=this.getRenderingRect();return this.style.left=`${i}px`,this.style.top=`${s}px`,this.style.width="number"==typeof o?`${o}px`:o,this.style.height="number"==typeof n?`${n}px`:n,this.style.zIndex=l,this.renderGfxBlock()}renderGfxBlock(){return this.renderPageContent()}renderPageContent(){return super.renderBlock()}async scheduleUpdate(){let e=this.parentElement;!this.hasUpdated&&e&&"scheduleUpdateChildren"in e&&await e.scheduleUpdateChildren(this.model.id),super.scheduleUpdate()}toZIndex(){return"1"}updateZIndex(){this.style.zIndex=this.toZIndex()}get rootService(){return this.host.spec.getService(this.rootServiceFlavour)}}}var eZ=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ej=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let eV=(()=>{let e,t,i,s,o=(0,K.Jb)(ew(X.WF)),r=[],a=[],n=[],l=[],c=[],d=[],h=[],u=[];return class extends o{static{let p="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;e=[(0,Y.Fg)({context:eS})],t=[(0,Y.Fg)({context:e$})],i=[(0,Y.Fg)({context:eT})],s=[(0,Y.Fg)({context:eM})],eZ(this,null,e,{kind:"accessor",name:"_doc",static:!1,private:!1,access:{has:e=>"_doc"in e,get:e=>e._doc,set:(e,t)=>{e._doc=t}},metadata:p},r,a),eZ(this,null,t,{kind:"accessor",name:"_model",static:!1,private:!1,access:{has:e=>"_model"in e,get:e=>e._model,set:(e,t)=>{e._model=t}},metadata:p},n,l),eZ(this,null,i,{kind:"accessor",name:"_service",static:!1,private:!1,access:{has:e=>"_service"in e,get:e=>e._service,set:(e,t)=>{e._service=t}},metadata:p},c,d),eZ(this,null,s,{kind:"accessor",name:"_std",static:!1,private:!1,access:{has:e=>"_std"in e,get:e=>e._std,set:(e,t)=>{e._std=t}},metadata:p},h,u),p&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:p})}bindHotKey(e,t){this._disposables.add(this.host.event.bindHotkey(e,{flavour:t?.global?void 0:this.flavour}))}connectedCallback(){super.connectedCallback();let e=this.widgetId;this.std.view.setWidget(this),this.path=this.host.view.calculatePath(this.model).concat(e),this.service.specSlots.widgetConnected.emit({service:this.service,component:this})}disconnectedCallback(){super.disconnectedCallback(),this.std?.view.deleteWidget(this),this.service.specSlots.widgetDisconnected.emit({service:this.service,component:this})}render(){return null}get block(){return this.std.view.getBlock(this.model.id)}get doc(){return this._doc}get flavour(){return this.model.flavour}get host(){return this.std.host}get model(){return this._model}get service(){return this._service}get std(){return this._std}get widgetId(){return this.dataset.widgetId}#w;get _doc(){return this.#w}set _doc(e){this.#w=e}#f;get _model(){return this.#f}set _model(e){this.#f=e}#m;get _service(){return this.#m}set _service(e){this.#m=e}#x;get _std(){return this.#x}set _std(e){this.#x=e}constructor(){super(...arguments),this.handleEvent=(e,t,i)=>{this._disposables.add(this.host.event.add(e,t,{flavour:i?.global?void 0:this.flavour}))},this.#w=ej(this,r,void 0),this.#f=(ej(this,a),ej(this,n,void 0)),this.#m=(ej(this,l),ej(this,c,void 0)),this.#x=(ej(this,d),ej(this,h,void 0)),ej(this,u)}}})()},93574:(e,t,i)=>{i.d(t,{$R:()=>u,Cd:()=>c,Et:()=>l,Hn:()=>d,PT:()=>f,ei:()=>a,g3:()=>p,m9:()=>n,mh:()=>o,s6:()=>r,u_:()=>s,zu:()=>h});let s="data-block-id",o=800,r=24,a=24,n=2,l=53,c={horizontal:752,horizontalThin:752,list:752,vertical:364,cube:170,cubeThick:170,video:752,figma:752,html:752,syncedDoc:752},d={horizontal:116,horizontalThin:80,list:46,vertical:390,cube:114,cubeThick:132,video:544,figma:544,html:544,syncedDoc:455},h=["affine:embed-github","affine:embed-youtube","affine:embed-figma","affine:embed-linked-doc","affine:embed-synced-doc","affine:embed-html","affine:embed-loom"],u="https://affine-worker.toeverything.workers.dev/api/worker/image-proxy",p="https://affine-worker.toeverything.workers.dev/api/worker/link-preview",f=["EDGELESS-TOOLBAR","AFFINE-DRAG-HANDLE-WIDGET","AFFINE-FORMAT-BAR-WIDGET","AFFINE-BLOCK-SELECTION"]},31971:(e,t,i)=>{i.d(t,{S:()=>r});var s=i(73711),o=i(96448);function r(e){if(e===s.zg)return o.y;{let t=e;for(;Object.getPrototypeOf(t.prototype)!==s.zg.prototype&&null!==Object.getPrototypeOf(t.prototype);)t=Object.getPrototypeOf(t.prototype).constructor;if(null===Object.getPrototypeOf(t.prototype))throw Error("The SuperClass is not a subclass of BlockModel");Object.setPrototypeOf(t.prototype,o.y.prototype)}return e}},18571:(e,t,i)=>{i.d(t,{S:()=>s.S});var s=i(31971)},35632:(e,t,i)=>{i.d(t,{If:()=>c,KI:()=>a,LS:()=>n,Tk:()=>d,Zb:()=>o,jJ:()=>l,mh:()=>r});var s=i(60019);let o=["--affine-note-background-yellow","--affine-note-background-orange","--affine-note-background-red","--affine-note-background-magenta","--affine-note-background-purple","--affine-note-background-blue","--affine-note-background-teal","--affine-note-background-green","--affine-note-background-black","--affine-note-background-grey","--affine-note-background-white"],r=(0,s.xK)(o),a=o[5],n=["","--affine-note-shadow-box","--affine-note-shadow-sticker","--affine-note-shadow-paper","--affine-note-shadow-float","--affine-note-shadow-film"],l=(0,s.xK)(n),c=n[2],d="affine-note, affine-edgeless-note .edgeless-note-page-content, affine-edgeless-text"},76020:(e,t,i)=>{i.d(t,{I:()=>o});var s=i(18571);function o(e){return(0,s.S)(e)}},91721:(e,t,i)=>{i.d(t,{E:()=>l,y:()=>c});var s=i(68419),o=i(73134),r=i(73711),a=i(93574),n=i(18132);function l({name:e,version:t,toModel:i,props:s,transformer:o}){return(0,r.A9)({flavour:`affine:embed-${e}`,props:e=>({index:"a0",xywh:"[0,0,0,0]",rotate:0,...s?.(e)}),metadata:{version:t,role:"content"},toModel:i,transformer:o})}class c{constructor(){this._endpoint=a.g3,this.query=async(e,t)=>{if((e.startsWith("https://x.com/")||e.startsWith("https://www.x.com/")||e.startsWith("https://www.twitter.com/")||e.startsWith("https://twitter.com/"))&&e.includes("/status/")){e="https://api.fxtwitter.com/status/"+/\/status\/(.*)/.exec(e)?.[1];try{let{tweet:i}=await fetch(e,{signal:t}).then(e=>e.json());return{title:i.author.name,icon:i.author.avatar_url,description:i.text,image:i.media?.photos[0].url||i.author.banner_url}}catch(t){return console.error(`Failed to fetch tweet: ${e}`),console.error(t),{}}}else{let i=await fetch(this._endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e}),signal:t}).then(t=>{if(!t||!t.ok)throw new s.Ss(o.O.DefaultRuntimeError,`Failed to fetch link preview: ${e}`);return t}).catch(t=>((0,n.z)(t)||(console.error(`Failed to fetch link preview: ${e}`),console.error(t)),null));if(!i)return{};let r=await i.json();return{title:r.title?this._getStringFromHTML(r.title):null,description:r.description?this._getStringFromHTML(r.description):null,icon:r.favicons?.[0],image:r.images?.[0]}}},this.setEndpoint=e=>{this._endpoint=e}}_getStringFromHTML(e){let t=document.createElement("div");return t.innerHTML=e,t.textContent}}},66050:(e,t,i)=>{i.d(t,{Q:()=>a,z:()=>s});var s,o=i(31980);!function(e){e.Dark="dark",e.Light="light"}(s||(s={}));let r="transparent";class a{constructor(){this.mode$=(0,o.vP)(s.Light)}static #_;static #C;#k;static get computedStyle(){let e=a.#_;return e||(e=window.getComputedStyle(document.documentElement),a.#_=e),e}static generateColorProperty(e,t="transparent"){return(t=t.startsWith("--")?t.endsWith(r)?r:`var(${t})`:t,"string"==typeof e)?(e.startsWith("--")?e.endsWith(r)?r:`var(${e})`:e)??t:e?e.light&&e.dark?`light-dark(${e.light}, ${e.dark})`:e.normal??t:t}static getColorValue(e,t=r,i){return"object"==typeof e&&(e=e[a.mode]??e.normal??t),e||(e=t??r),i&&e.startsWith("--")&&!(e=e.endsWith(r)?r:a.getPropertyValue(e))&&(e=t.startsWith("--")?a.getPropertyValue(t):t),e}static getPropertyValue(e){return e.startsWith("--")?e.endsWith(r)?r:a.computedStyle.getPropertyValue(e).trim()||e:e}static get instance(){if(!a.#C){let e=new a;e.observe(document.documentElement),a.#C=e}return a.#C}static get mode(){return a.instance.mode$.peek()}static subscribe(e){return a.instance.mode$.subscribe(e)}disconnect(){this.#k?.disconnect()}observe(e){let t=()=>{let t=e.dataset.theme;t&&this.mode$.peek()!==t&&(this.mode$.value=t)};this.#k?.disconnect(),this.#k=new MutationObserver(t),this.#k.observe(e,{attributes:!0,attributeFilter:["data-theme"]}),t()}}},38509:(e,t,i)=>{var s,o,r;i.d(t,{D9:()=>s,ko:()=>r,yN:()=>o}),function(e){e[e.Eight=8]="Eight",e[e.Four=4]="Four",e[e.Six=6]="Six",e[e.Ten=10]="Ten",e[e.Twelve=12]="Twelve",e[e.Two=2]="Two"}(s||(s={})),function(e){e[e.FreeHand=0]="FreeHand",e[e.Polygonal=1]="Polygonal"}(o||(o={})),function(e){e.DocAndEdgeless="both",e.DocOnly="doc",e.EdgelessOnly="edgeless"}(r||(r={}))},72895:(e,t,i)=>{i.d(t,{j:()=>r});var s=i(41507);let o="data-show";function r(e,t,i=()=>{},{mainAxis:a,crossAxis:n,rootBoundary:l,ignoreShift:c}={}){let d,h="hidden",u=window.getComputedStyle(t).maxHeight;function p(){let i={rootBoundary:"function"==typeof l?l():l};(0,s.rD)(e,t,{middleware:[(0,s.cY)({mainAxis:a??14,crossAxis:n??0}),(0,s.RK)({allowedPlacements:["top","bottom"],...i}),(0,s.BN)(i),(0,s.Ej)({...i,apply({availableHeight:e}){t.style.maxHeight=u?`min(${u}, ${e}px)`:`${e}px`}})]}).then(({x:e,y:i,middlewareData:s})=>{c||(e+=s.shift?.x??0,i+=s.shift?.y??0),Object.assign(t.style,{position:"absolute",zIndex:1,left:`${e}px`,top:`${i}px`})}).catch(console.error)}let f=(r=!1)=>{let a="show"===h;(!a||r)&&(a||(t.setAttribute(o,""),i({display:h="show"})),d?.(),d=(0,s.ll)(e,t,p,{animationFrame:!0}))},g=()=>{"hidden"!==h&&(t.removeAttribute(o),i({display:h="hidden"}),d?.())},m=function(e,t){let i=i=>{i.composedPath().includes(e)||t()};return document.addEventListener("click",i),{dispose:()=>{document.removeEventListener("click",i)}}}(e,()=>g());return{get state(){return h},show:f,hide:g,toggle:()=>{t.hasAttribute(o)?g():f()},dispose:()=>{d?.(),m.dispose()}}}},8834:(e,t,i)=>{i.d(t,{Ak:()=>p,BQ:()=>a,GR:()=>f,Oo:()=>u,QI:()=>d,dG:()=>c,f9:()=>l,fh:()=>o,on:()=>h,q5:()=>n});var s,o,r=i(63820);function a(e){return r.pz||r.vL?e.ctrlKey||e.metaKey:e.ctrlKey}function n(e){return(s.AUXILIARY&e.buttons)===s.AUXILIARY}function l(e){return(s.SECONDARY&e.buttons)===s.SECONDARY}function c(e){e.stopPropagation()}function d(e){return e.ctrlKey||e.metaKey||e.altKey}function h(e,t,i,s){return e.addEventListener(t,i,s),()=>{e.removeEventListener(t,i,s)}}function u(e,t,i,s){let o=e=>{r(),i(e)},r=()=>{e.removeEventListener(t,o,s)};return e.addEventListener(t,o,s),r}function p(e,t){return requestAnimationFrame(()=>{if(void 0===t){e();return}t.isConnected&&e()})}function f(e,t){let i;let s=[];return(...o)=>{s=o,void 0===i&&(i=p(()=>{i=void 0,e(...s)},t))}}!function(e){e[e.AUXILIARY=4]="AUXILIARY",e[e.FIFTH=16]="FIFTH",e[e.FORTH=8]="FORTH",e[e.NO_BUTTON=0]="NO_BUTTON",e[e.PRIMARY=1]="PRIMARY",e[e.SECONDARY=2]="SECONDARY"}(s||(s={})),function(e){e[e.AUXILIARY=1]="AUXILIARY",e[e.FIFTH=4]="FIFTH",e[e.FORTH=3]="FORTH",e[e.MAIN=0]="MAIN",e[e.SECONDARY=2]="SECONDARY"}(o||(o={}))},7489:(e,t,i)=>{i.d(t,{UE:()=>n,WN:()=>l,YF:()=>h,p6:()=>a});var s=i(68419),o=i(73134);let r=[{description:"Images",accept:{"image/*":[".avif",".gif",".jpeg",".jpg",".png",".tif",".tiff",".webp"]}},{description:"Videos",accept:{"video/*":[".avi",".mp4",".mpeg",".ogg",".webm",".3gp",".3g2"]}},{description:"Audios",accept:{"audio/*":[".aac",".mid",".midi",".mp3",".oga",".opus",".wav",".weba",".3gp",".3g2"]}},{description:"Markdown",accept:{"text/markdown":[".md",".markdown"]}},{description:"Html",accept:{"text/html":[".html",".htm"]}},{description:"Zip",accept:{"application/zip":[".zip"]}}];async function a({acceptType:e="Any",multiple:t=!1}={}){if("showOpenFilePicker"in window&&(()=>{try{return window.self===window.top}catch{return!1}})()&&window.showOpenFilePicker)try{let i=r.find(t=>t.description===e);if("Any"!==e&&!i)throw new s.Ss(o.O.DefaultRuntimeError,`Unexpected acceptType "${e}"`);let a=await window.showOpenFilePicker({types:i?[i]:void 0,multiple:t});if(!t)return await a[0].getFile();return await Promise.all(a.map(async e=>await e.getFile()))}catch(e){return console.error("Error opening file"),console.error(e),null}return new Promise(i=>{let s=document.createElement("input");s.classList.add("affine-upload-input"),s.style.display="none",s.type="file",t&&(s.multiple=!0),"Any"!==e&&(s.accept=Object.keys(r.find(t=>t.description===e)?.accept??"").join(",")),document.body.append(s),s.addEventListener("change",()=>{if(s.remove(),!s.files){i(null);return}if(t){i(Array.from(s.files));return}i(s.files[0])}),s.addEventListener("cancel",()=>{i(null)}),"showPicker"in HTMLInputElement.prototype?s.showPicker():s.click()})}async function n(){return await a({acceptType:"Images",multiple:!0})||[]}function l(e,t){let i=URL.createObjectURL(e),s=document.createElement("a"),o=new MouseEvent("click");s.download=t,s.href=i,s.dispatchEvent(o),s.remove(),URL.revokeObjectURL(i)}let c=new Map,d=new Map;function h(){return{saveAttachmentData:(e,t)=>{c.size>100&&(console.warn("Clear the temp attachment data. It may cause filename loss when converting between image and attachment."),c.clear()),c.set(e,t)},getAttachmentData:e=>{let t=c.get(e);return c.delete(e),t},saveImageData:(e,t)=>{d.size>100&&(console.warn("Clear temp image data. It may cause image width and height loss when converting between image and attachment."),d.clear()),d.set(e,t)},getImageData:e=>{let t=d.get(e);return d.delete(e),t}}}},18132:(e,t,i)=>{i.d(t,{z:()=>s});function s(e){return e instanceof Error&&"AbortError"===e.name}},60019:(e,t,i)=>{i.d(t,{D9:()=>s.D9,ko:()=>s.ko,rw:()=>l.r,Km:()=>p.Km,xw:()=>p.xw,Au:()=>n.Au,UL:()=>n.UL,Ip:()=>c,j0:()=>o.j,Ux:()=>u.U,xK:()=>g,H1:()=>n.H1,Zr:()=>p.Zr,DG:()=>n.DG,X7:()=>n.X7,bL:()=>n.bL,N8:()=>n.N8,hF:()=>n.hF,oV:()=>p.oV,RX:()=>n.RX,$$:()=>n.$$,jl:()=>n.jl,UE:()=>h.UE,h9:()=>n.h9,BE:()=>n.BE,wH:()=>n.wH,$n:()=>n.$n,mD:()=>n.mD,kW:()=>p.kW,Xn:()=>n.Xn,QI:()=>d.QI,a6:()=>a.a,Ar:()=>n.Ar,zU:()=>n.zU,q5:()=>d.q5,f9:()=>d.f9,BQ:()=>d.BQ,op:()=>a.o,on:()=>d.on,Oo:()=>d.Oo,p6:()=>h.p6,Ak:()=>d.Ak,GR:()=>d.GR,xb:()=>p.xb});var s=i(38509),o=i(72895),r=i(71006),a=i(92820),n=i(72938),l=i(64094);function c(e,t,i,s=[],o=1,d=null){let h=t.doc.getSchemaByFlavour("affine:database");(0,r.Z1)(h);let u=h.model.children??[],p=!0;if(u.length&&(s.length?p=s.map(n.BE).every(e=>u.includes(e.flavour)):d&&(p=u.includes(d))),!p&&!(0,a.o)(t,["affine:database"])){let e=i.closest("affine-database");e&&(i=e,t=(0,n.BE)(i))}let f="none",g=3*o,{rect:m,flag:v}=(0,n.$$)(e,t,i);if(v===n.rY.EmptyDatabase){let e=l.r.fromDOMRect(m);return e.top-=g/2,e.height=g,{type:f="database",rect:e,modelState:{model:t,rect:m,element:i}}}if(v===n.rY.Database){let s=Math.abs(m.top-e.y)<Math.abs(m.bottom-e.y);return{type:f=s?"before":"after",rect:l.r.fromLWTH(m.left,m.width,(s?m.top-1:m.bottom)-g/2,g),modelState:{model:t,rect:m,element:i}}}let y=Math.abs(m.top-e.y),b=Math.abs(m.bottom-e.y),w=4;if("before"==(f=y<b?"before":"after")){let e,t;(e=i.previousElementSibling)?s.length&&e===s[s.length-1]?f="none":t=(0,n.wH)(e):(e=i.parentElement?.previousElementSibling)&&(t=e.getBoundingClientRect()),t&&(w=(m.top-t.bottom)/2)}else{let e;(e=i.nextElementSibling)?s.length&&e===s[0]&&(f="none",e=null):e=n.N8(i.parentElement)?.nextElementSibling,e&&(w=((0,n.wH)(e).top-m.bottom)/2)}if("none"===f)return null;let x=m.top;return"before"===f?x-=w:x+=m.height+w,{type:f,rect:l.r.fromLWTH(m.left,m.width,x-g/2,g),modelState:{model:t,rect:m,element:i}}}var d=i(8834),h=i(7489),u=i(43462),p=i(23156),f=i(67448);function g(e){return e.length>1?f.z.union(e.map(e=>f.z.literal(e))):1===e.length?f.z.literal(e[0]):f.z.never()}},43462:(e,t,i)=>{i.d(t,{U:()=>s});function s(e,t={}){let i=e.createDoc({id:t.id});i.load();let o=t.title??"",r=i.addBlock("affine:page",{title:new i.Text(o)});e.setDocMeta(i.id,{title:o}),i.addBlock("affine:surface",{},r);let a=i.addBlock("affine:note",{},r);return i.addBlock("affine:paragraph",{},a),i.resetHistory(),i}},62602:(e,t,i)=>{function s(e,t){let i={};return e.forEach(e=>{let s=t(e);null!==s&&(i[s]||(i[s]=0),i[s]+=1)}),i}function o(e,t){if(!e.length)return null;let i=e[0],s=t(i);for(let o=1;o<e.length;o++){let r=e[o],a=t(r);a>s&&(s=a,i=r)}return i}function r(e,t,i){let s=0;for(let o=0;o<e.length;o++)if(t(e[o])&&++s>=i)return!0;return!1}function a(e,t){let i={};for(let s of e){let e="function"==typeof t?t(s):s[t];i[e]||(i[e]=[]),i[e].push(s)}return i}function n(e,t){return t.reduce((t,i)=>(t[i]=e[i],t),{})}function l(e,t){return t.reduce((t,i)=>(t.push(e[i]),t),[])}function c(e){return Object.keys(e)}function d(e){return Object.values(e)}function h(e){let t;if(Array.isArray(e))return e[e.length-1];for(let i of e)t=i;return t}function u(e,t){if(Array.isArray(e))return e[e.length-t];let i=[...e];return i[i.length-t]}i.d(t,{$z:()=>a,E7:()=>u,HP:()=>c,HV:()=>h,I8:()=>r,ME:()=>l,Sk:()=>o,Tr:()=>s,Up:()=>n,zu:()=>d})},82750:(e,t,i)=>{function s(e,t,i=1e-4){return Math.abs(e-t)<i}function o(e,t,i){return e<t?t:e>i?i:e}function r(e,t,i){return i-=t,e=(e-t+i)%i,t+(Number.isNaN(e)?0:e)}function a(e,t=!0,i=1){let s=t?1e3:1024;if(Math.abs(e)<s)return e+" bytes";let o=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],r=-1,n=10**i;do e/=s,++r;while(Math.round(Math.abs(e)*n)/n>=s&&r<o.length-1)return e.toFixed(i)+" "+o[r]}i.d(t,{Kf:()=>r,bn:()=>a,f3:()=>s,qE:()=>o})},92820:(e,t,i)=>{i.d(t,{a:()=>function e(t,i,s){let o=t.getParent(i);return null!==o&&(s===o.flavour||e(t,o,s))},o:()=>Q});var s=i(56278);let o=e=>{if("string"!=typeof e)throw TypeError("invalid pattern");if(e.length>65536)throw TypeError("pattern is too long")},r={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},a=e=>e.replace(/[[\]\\-]/g,"\\$&"),n=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=e=>e.join(""),c=(e,t)=>{if("["!==e.charAt(t))throw Error("not in a brace expression");let i=[],s=[],o=t+1,c=!1,d=!1,h=!1,u=!1,p=t,f="";e:for(;o<e.length;){let n=e.charAt(o);if(("!"===n||"^"===n)&&o===t+1){u=!0,o++;continue}if("]"===n&&c&&!h){p=o+1;break}if(c=!0,"\\"===n&&!h){h=!0,o++;continue}if("["===n&&!h){for(let[a,[n,l,c]]of Object.entries(r))if(e.startsWith(a,o)){if(f)return["$.",!1,e.length-t,!0];o+=a.length,c?s.push(n):i.push(n),d=d||l;continue e}}if(h=!1,f){n>f?i.push(a(f)+"-"+a(n)):n===f&&i.push(a(n)),f="",o++;continue}if(e.startsWith("-]",o+1)){i.push(a(n+"-")),o+=2;continue}if(e.startsWith("-",o+1)){f=n,o+=2;continue}i.push(a(n)),o++}if(p<o)return["",!1,0,!1];if(!i.length&&!s.length)return["$.",!1,e.length-t,!0];if(0===s.length&&1===i.length&&/^\\?.$/.test(i[0])&&!u)return[n(2===i[0].length?i[0].slice(-1):i[0]),!1,p-t,!1];let g="["+(u?"^":"")+l(i)+"]",m="["+(u?"":"^")+l(s)+"]";return[i.length&&s.length?"("+g+"|"+m+")":i.length?g:m,d,p-t,!0]},d=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),h=new Set(["!","?","+","*","@"]),u=e=>h.has(e),p="(?!\\.)",f=new Set(["[","."]),g=new Set(["..","."]),m=new Set("().*{}+?[]^$\\!"),v=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),y="[^/]",b=y+"*?",w=y+"+?";class x{type;#S;#M;#E=!1;#I=[];#B;#$;#T;#O=!1;#P;#A;#H=!1;constructor(e,t,i={}){this.type=e,e&&(this.#M=!0),this.#B=t,this.#S=this.#B?this.#B.#S:this,this.#P=this.#S===this?i:this.#S.#P,this.#T=this.#S===this?[]:this.#S.#T,"!"!==e||this.#S.#O||this.#T.push(this),this.#$=this.#B?this.#B.#I.length:0}get hasMagic(){if(void 0!==this.#M)return this.#M;for(let e of this.#I)if("string"!=typeof e&&(e.type||e.hasMagic))return this.#M=!0;return this.#M}toString(){return void 0!==this.#A?this.#A:this.type?this.#A=this.type+"("+this.#I.map(e=>String(e)).join("|")+")":this.#A=this.#I.map(e=>String(e)).join("")}#L(){let e;if(this!==this.#S)throw Error("should only call on root");if(this.#O)return this;for(this.toString(),this.#O=!0;e=this.#T.pop();){if("!"!==e.type)continue;let t=e,i=t.#B;for(;i;){for(let s=t.#$+1;!i.type&&s<i.#I.length;s++)for(let t of e.#I){if("string"==typeof t)throw Error("string part in extglob AST??");t.copyIn(i.#I[s])}i=(t=i).#B}}return this}push(...e){for(let t of e)if(""!==t){if("string"!=typeof t&&!(t instanceof x&&t.#B===this))throw Error("invalid part: "+t);this.#I.push(t)}}toJSON(){let e=null===this.type?this.#I.slice().map(e=>"string"==typeof e?e:e.toJSON()):[this.type,...this.#I.map(e=>e.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#S||this.#S.#O&&this.#B?.type==="!")&&e.push({}),e}isStart(){if(this.#S===this)return!0;if(!this.#B?.isStart())return!1;if(0===this.#$)return!0;let e=this.#B;for(let t=0;t<this.#$;t++){let i=e.#I[t];if(!(i instanceof x&&"!"===i.type))return!1}return!0}isEnd(){if(this.#S===this||this.#B?.type==="!")return!0;if(!this.#B?.isEnd())return!1;if(!this.type)return this.#B?.isEnd();let e=this.#B?this.#B.#I.length:0;return this.#$===e-1}copyIn(e){"string"==typeof e?this.push(e):this.push(e.clone(this))}clone(e){let t=new x(this.type,e);for(let e of this.#I)t.copyIn(e);return t}static #D(e,t,i,s){let o=!1,r=!1,a=-1,n=!1;if(null===t.type){let l=i,c="";for(;l<e.length;){let i=e.charAt(l++);if(o||"\\"===i){o=!o,c+=i;continue}if(r){l===a+1?("^"===i||"!"===i)&&(n=!0):"]"!==i||l===a+2&&n||(r=!1),c+=i;continue}if("["===i){r=!0,a=l,n=!1,c+=i;continue}if(!s.noext&&u(i)&&"("===e.charAt(l)){t.push(c),c="";let o=new x(i,t);l=x.#D(e,o,l,s),t.push(o);continue}c+=i}return t.push(c),l}let l=i+1,c=new x(null,t),d=[],h="";for(;l<e.length;){let i=e.charAt(l++);if(o||"\\"===i){o=!o,h+=i;continue}if(r){l===a+1?("^"===i||"!"===i)&&(n=!0):"]"!==i||l===a+2&&n||(r=!1),h+=i;continue}if("["===i){r=!0,a=l,n=!1,h+=i;continue}if(u(i)&&"("===e.charAt(l)){c.push(h),h="";let t=new x(i,c);c.push(t),l=x.#D(e,t,l,s);continue}if("|"===i){c.push(h),h="",d.push(c),c=new x(null,t);continue}if(")"===i)return""===h&&0===t.#I.length&&(t.#H=!0),c.push(h),h="",t.push(...d,c),l;h+=i}return t.type=null,t.#M=void 0,t.#I=[e.substring(i-1)],l}static fromGlob(e,t={}){let i=new x(null,void 0,t);return x.#D(e,i,0,t),i}toMMPattern(){if(this!==this.#S)return this.#S.toMMPattern();let e=this.toString(),[t,i,s,o]=this.toRegExpSource();return s||this.#M||this.#P.nocase&&!this.#P.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()?Object.assign(RegExp(`^${t}$`,(this.#P.nocase?"i":"")+(o?"u":"")),{_src:t,_glob:e}):i}get options(){return this.#P}toRegExpSource(e){let t=e??!!this.#P.dot;if(this.#S===this&&this.#L(),!this.type){let i=this.isStart()&&this.isEnd(),s=this.#I.map(t=>{let[s,o,r,a]="string"==typeof t?x.#Z(t,this.#M,i):t.toRegExpSource(e);return this.#M=this.#M||r,this.#E=this.#E||a,s}).join(""),o="";if(this.isStart()&&"string"==typeof this.#I[0]&&!(1===this.#I.length&&g.has(this.#I[0]))){let i=t&&f.has(s.charAt(0))||s.startsWith("\\.")&&f.has(s.charAt(2))||s.startsWith("\\.\\.")&&f.has(s.charAt(4)),r=!t&&!e&&f.has(s.charAt(0));o=i?"(?!(?:^|/)\\.\\.?(?:$|/))":r?p:""}let r="";return this.isEnd()&&this.#S.#O&&this.#B?.type==="!"&&(r="(?:$|\\/)"),[o+s+r,d(s),this.#M=!!this.#M,this.#E]}let i="*"===this.type||"+"===this.type,s="!"===this.type?"(?:(?!(?:":"(?:",o=this.#j(t);if(this.isStart()&&this.isEnd()&&!o&&"!"!==this.type){let e=this.toString();return this.#I=[e],this.type=null,this.#M=void 0,[e,d(this.toString()),!1,!1]}let r=!i||e||t||!p?"":this.#j(!0);return r===o&&(r=""),r&&(o=`(?:${o})(?:${r})*?`),["!"===this.type&&this.#H?(this.isStart()&&!t?p:"")+w:s+o+("!"===this.type?"))"+(!this.isStart()||t||e?"":p)+b+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&r?")":"*"===this.type&&r?")?":`)${this.type}`),d(o),this.#M=!!this.#M,this.#E]}#j(e){return this.#I.map(t=>{if("string"==typeof t)throw Error("string type in extglob ast??");let[i,s,o,r]=t.toRegExpSource(e);return this.#E=this.#E||r,i}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static #Z(e,t,i=!1){let s=!1,o="",r=!1;for(let a=0;a<e.length;a++){let n=e.charAt(a);if(s){s=!1,o+=(m.has(n)?"\\":"")+n;continue}if("\\"===n){a===e.length-1?o+="\\\\":s=!0;continue}if("["===n){let[i,s,n,l]=c(e,a);if(n){o+=i,r=r||s,a+=n-1,t=t||l;continue}}if("*"===n){i&&"*"===e?o+=w:o+=b,t=!0;continue}if("?"===n){o+=y,t=!0;continue}o+=v(n)}return[o,d(e),!!t,r]}}let _=(e,t,i={})=>(o(t),(!!i.nocomment||"#"!==t.charAt(0))&&new X(t,i).match(e)),C=/^\*+([^+@!?\*\[\(]*)$/,k=e=>t=>!t.startsWith(".")&&t.endsWith(e),S=e=>t=>t.endsWith(e),M=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),E=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),I=/^\*+\.\*+$/,B=e=>!e.startsWith(".")&&e.includes("."),$=e=>"."!==e&&".."!==e&&e.includes("."),T=/^\.\*+$/,O=e=>"."!==e&&".."!==e&&e.startsWith("."),P=/^\*+$/,A=e=>0!==e.length&&!e.startsWith("."),H=e=>0!==e.length&&"."!==e&&".."!==e,L=/^\?+([^+@!?\*\[\(]*)?$/,D=([e,t=""])=>{let i=R([e]);return t?(t=t.toLowerCase(),e=>i(e)&&e.toLowerCase().endsWith(t)):i},Z=([e,t=""])=>{let i=z([e]);return t?(t=t.toLowerCase(),e=>i(e)&&e.toLowerCase().endsWith(t)):i},j=([e,t=""])=>{let i=z([e]);return t?e=>i(e)&&e.endsWith(t):i},V=([e,t=""])=>{let i=R([e]);return t?e=>i(e)&&e.endsWith(t):i},R=([e])=>{let t=e.length;return e=>e.length===t&&!e.startsWith(".")},z=([e])=>{let t=e.length;return e=>e.length===t&&"."!==e&&".."!==e},F="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",N={win32:{sep:"\\"},posix:{sep:"/"}},q="win32"===F?N.win32.sep:N.posix.sep;_.sep=q;let U=Symbol("globstar **");_.GLOBSTAR=U,_.filter=(e,t={})=>i=>_(i,e,t);let W=(e,t={})=>Object.assign({},e,t);_.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return _;let t=_;return Object.assign((i,s,o={})=>t(i,s,W(e,o)),{Minimatch:class extends t.Minimatch{constructor(t,i={}){super(t,W(e,i))}static defaults(i){return t.defaults(W(e,i)).Minimatch}},AST:class extends t.AST{constructor(t,i,s={}){super(t,i,W(e,s))}static fromGlob(i,s={}){return t.AST.fromGlob(i,W(e,s))}},unescape:(i,s={})=>t.unescape(i,W(e,s)),escape:(i,s={})=>t.escape(i,W(e,s)),filter:(i,s={})=>t.filter(i,W(e,s)),defaults:i=>t.defaults(W(e,i)),makeRe:(i,s={})=>t.makeRe(i,W(e,s)),braceExpand:(i,s={})=>t.braceExpand(i,W(e,s)),match:(i,s,o={})=>t.match(i,s,W(e,o)),sep:t.sep,GLOBSTAR:U})};let G=(e,t={})=>(o(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e))?[e]:s(e);_.braceExpand=G,_.makeRe=(e,t={})=>new X(e,t).makeRe(),_.match=(e,t,i={})=>{let s=new X(t,i);return e=e.filter(e=>s.match(e)),s.options.nonull&&!e.length&&e.push(t),e};let Y=/[?*]|[+@!]\(.*?\)|\[|\]/,K=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class X{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){o(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||F,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==t.windowsNoMagicRoot?t.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let t of e)if("string"!=typeof t)return!0;return!1}debug(...e){}make(){let e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0)){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,this.globSet);let i=this.globSet.map(e=>this.slashSplit(e));this.globParts=this.preprocess(i),this.debug(this.pattern,this.globParts);let s=this.globParts.map((e,t,i)=>{if(this.isWindows&&this.windowsNoMagicRoot){let t=""===e[0]&&""===e[1]&&("?"===e[2]||!Y.test(e[2]))&&!Y.test(e[3]),i=/^[a-z]:/i.test(e[0]);if(t)return[...e.slice(0,4),...e.slice(4).map(e=>this.parse(e))];if(i)return[e[0],...e.slice(1).map(e=>this.parse(e))]}return e.map(e=>this.parse(e))});if(this.debug(this.pattern,s),this.set=s.filter(e=>-1===e.indexOf(!1)),this.isWindows)for(let e=0;e<this.set.length;e++){let t=this.set[e];""===t[0]&&""===t[1]&&"?"===this.globParts[e][2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])&&(t[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let t=0;t<e.length;t++)for(let i=0;i<e[t].length;i++)"**"===e[t][i]&&(e[t][i]="*");let{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=t>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(e=>{let t=-1;for(;-1!==(t=e.indexOf("**",t+1));){let i=t;for(;"**"===e[i+1];)i++;i!==t&&e.splice(t,i-t)}return e})}levelOneOptimize(e){return e.map(e=>0===(e=e.reduce((e,t)=>{let i=e[e.length-1];return"**"===t&&"**"===i||(".."===t&&i&&".."!==i&&"."!==i&&"**"!==i?e.pop():e.push(t)),e},[])).length?[""]:e)}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let s=e[i];(1!==i||""!==s||""!==e[0])&&("."===s||""===s)&&(t=!0,e.splice(i,1),i--)}"."===e[0]&&2===e.length&&("."===e[1]||""===e[1])&&(t=!0,e.pop())}let i=0;for(;-1!==(i=e.indexOf("..",i+1));){let s=e[i-1];s&&"."!==s&&".."!==s&&"**"!==s&&(t=!0,e.splice(i-1,2),i-=2)}}while(t)return 0===e.length?[""]:e}firstPhasePreProcess(e){let t=!1;do for(let i of(t=!1,e)){let s=-1;for(;-1!==(s=i.indexOf("**",s+1));){let o=s;for(;"**"===i[o+1];)o++;o>s&&i.splice(s+1,o-s);let r=i[s+1],a=i[s+2],n=i[s+3];if(".."!==r||!a||"."===a||".."===a||!n||"."===n||".."===n)continue;t=!0,i.splice(s,1);let l=i.slice(0);l[s]="**",e.push(l),s--}if(!this.preserveMultipleSlashes){for(let e=1;e<i.length-1;e++){let s=i[e];(1!==e||""!==s||""!==i[0])&&("."===s||""===s)&&(t=!0,i.splice(e,1),e--)}"."===i[0]&&2===i.length&&("."===i[1]||""===i[1])&&(t=!0,i.pop())}let o=0;for(;-1!==(o=i.indexOf("..",o+1));){let e=i[o-1];if(e&&"."!==e&&".."!==e&&"**"!==e){t=!0;let e=1===o&&"**"===i[o+1]?["."]:[];i.splice(o-1,2,...e),0===i.length&&i.push(""),o-=2}}}while(t)return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let i=t+1;i<e.length;i++){let s=this.partsMatch(e[t],e[i],!this.preserveMultipleSlashes);if(s){e[t]=[],e[i]=s;break}}return e.filter(e=>e.length)}partsMatch(e,t,i=!1){let s=0,o=0,r=[],a="";for(;s<e.length&&o<t.length;)if(e[s]===t[o])r.push("b"===a?t[o]:e[s]),s++,o++;else if(i&&"**"===e[s]&&t[o]===e[s+1])r.push(e[s]),s++;else if(i&&"**"===t[o]&&e[s]===t[o+1])r.push(t[o]),o++;else if("*"===e[s]&&t[o]&&(this.options.dot||!t[o].startsWith("."))&&"**"!==t[o]){if("b"===a)return!1;a="a",r.push(e[s]),s++,o++}else{if("*"!==t[o]||!e[s]||!this.options.dot&&e[s].startsWith(".")||"**"===e[s]||"a"===a)return!1;a="b",r.push(t[o]),s++,o++}return e.length===t.length&&r}parseNegate(){if(this.nonegate)return;let e=this.pattern,t=!1,i=0;for(let s=0;s<e.length&&"!"===e.charAt(s);s++)t=!t,i++;i&&(this.pattern=e.slice(i)),this.negate=t}matchOne(e,t,i=!1){let s=this.options;if(this.isWindows){let i="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),s=!i&&""===e[0]&&""===e[1]&&"?"===e[2]&&/^[a-z]:$/i.test(e[3]),o="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),r=!o&&""===t[0]&&""===t[1]&&"?"===t[2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3]),a=s?3:i?0:void 0,n=r?3:o?0:void 0;if("number"==typeof a&&"number"==typeof n){let[i,s]=[e[a],t[n]];i.toLowerCase()===s.toLowerCase()&&(t[n]=i,n>a?t=t.slice(n):a>n&&(e=e.slice(a)))}}let{optimizationLevel:o=1}=this.options;o>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var r=0,a=0,n=e.length,l=t.length;r<n&&a<l;r++,a++){let o;this.debug("matchOne loop");var c=t[a],d=e[r];if(this.debug(t,c,d),!1===c)return!1;if(c===U){this.debug("GLOBSTAR",[t,c,d]);var h=r,u=a+1;if(u===l){for(this.debug("** at the end");r<n;r++)if("."===e[r]||".."===e[r]||!s.dot&&"."===e[r].charAt(0))return!1;return!0}for(;h<n;){var p=e[h];if(this.debug("\nglobstar while",e,h,t,u,p),this.matchOne(e.slice(h),t.slice(u),i))return this.debug("globstar found match!",h,n,p),!0;if("."===p||".."===p||!s.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,h,t,u);break}this.debug("globstar swallow a segment, and continue"),h++}if(i&&(this.debug("\n>>> no match, partial?",e,h,t,u),h===n))return!0;return!1}if("string"==typeof c?(o=d===c,this.debug("string match",c,d,o)):(o=c.test(d),this.debug("pattern match",c,d,o)),!o)return!1}if(r===n&&a===l)return!0;if(r===n)return i;if(a===l)return r===n-1&&""===e[r];throw Error("wtf?")}braceExpand(){return G(this.pattern,this.options)}parse(e){let t;o(e);let i=this.options;if("**"===e)return U;if(""===e)return"";let s=null;(t=e.match(P))?s=i.dot?H:A:(t=e.match(C))?s=(i.nocase?i.dot?E:M:i.dot?S:k)(t[1]):(t=e.match(L))?s=(i.nocase?i.dot?Z:D:i.dot?j:V)(t):(t=e.match(I))?s=i.dot?$:B:(t=e.match(T))&&(s=O);let r=x.fromGlob(e,this.options).toMMPattern();return s&&"object"==typeof r&&Reflect.defineProperty(r,"test",{value:s}),r}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let t=this.options,i=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",s=new Set(t.nocase?["i"]:[]),o=e.map(e=>{let t=e.map(e=>{if(e instanceof RegExp)for(let t of e.flags.split(""))s.add(t);return"string"==typeof e?K(e):e===U?U:e._src});return t.forEach((e,s)=>{let o=t[s+1],r=t[s-1];e===U&&r!==U&&(void 0===r?void 0!==o&&o!==U?t[s+1]="(?:\\/|"+i+"\\/)?"+o:t[s]=i:void 0===o?t[s-1]=r+"(?:\\/|"+i+")?":o!==U&&(t[s-1]=r+"(?:\\/|\\/"+i+"\\/)"+o,t[s+1]=U))}),t.filter(e=>e!==U).join("/")}).join("|"),[r,a]=e.length>1?["(?:",")"]:["",""];o="^"+r+o+a+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...s].join(""))}catch(e){this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;let i=this.options;this.isWindows&&(e=e.split("\\").join("/"));let s=this.slashSplit(e);this.debug(this.pattern,"split",s);let o=this.set;this.debug(this.pattern,"set",o);let r=s[s.length-1];if(!r)for(let e=s.length-2;!r&&e>=0;e--)r=s[e];for(let e=0;e<o.length;e++){let a=o[e],n=s;if(i.matchBase&&1===a.length&&(n=[r]),this.matchOne(n,a,t)){if(i.flipNegate)return!0;return!this.negate}}return!i.flipNegate&&this.negate}static defaults(e){return _.defaults(e).Minimatch}}function Q(e,t){return!!e&&t.some(t=>_(e.flavour,t))}_.AST=x,_.Minimatch=X,_.escape=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),_.unescape=d},72938:(e,t,i)=>{i.d(t,{$$:()=>V,$n:()=>p,Ar:()=>m,Au:()=>h,BE:()=>A,DG:()=>y,H1:()=>O,HA:()=>c,KW:()=>x,N8:()=>P,NN:()=>f,RL:()=>function e(t,i,s={}){if(i.id in s)return console.error("Can't get next block! There's a loop in the block tree!"),null;s[i.id]=!0;let o=i.doc;if(i.children.length)return i.children[0];let r=i;for(;r;){let i=o.getNext(r);if(i){if((0,n.o)(i,["affine:note"])){if(m(t))return null;return e(t,i)}return i}r=o.getParent(r)}return null},RX:()=>S,UL:()=>d,X7:()=>b,Xn:()=>z,bL:()=>L,dV:()=>v,dz:()=>C,h9:()=>_,hF:()=>T,jl:()=>Z,mD:()=>u,rY:()=>s,wH:()=>H,zB:()=>k,zU:()=>g});var s,o=i(71006),r=i(93574),a=i(82750),n=i(92820);let l=`[${r.u_}]`;function c(e,t){let i=t=>{let i=t.doc.getParent(t);if(!i)return null;let s=i.children.indexOf(t);if(s>0){let e=i.children[s-1];for(;e.children.length>0;)e=e.children[e.children.length-1];return e}return m(e)&&(0,n.o)(i,["affine:note"])?null:i},s={},o=e=>{if(e.id in s)return console.error("Can't get previous block! There's a loop in the block tree!"),null;s[e.id]=!0;let t=i(e);return t?"content"!==t.role||(0,n.o)(t,["affine:frame"])?o(t):t:null};return o(t)}function d(e){let t=[],i=e;for(;i;)t.unshift(i.id),i=i.doc.getParent(i);return t}function h(e,t){if(!(0,n.o)(e,["affine:image","affine:frame"]))return t.getBlock(e.id);{let i=e,s=null;for(;i;){if(!(0,n.o)(i,["affine:surface"])){s=i.id;break}i=i.doc.getParent(i)}return t.getBlock(s||e.id)}}function u(e){let t=f(e);return t?t:e.closest("affine-edgeless-root")||null}function p(e){return e.querySelector("affine-page-root")??e.querySelector("affine-edgeless-root")}function f(e){return e.closest("affine-page-root")}function g(e){return Array.from(e.children).some(e=>"affine-page-root"===e.tagName.toLowerCase())}function m(e){return Array.from(e.children).some(e=>"affine-edgeless-root"===e.tagName.toLowerCase())}function v(e){if(!g(e))return null;let t=e.doc;if(!t.root)return console.error("Failed to get root doc"),null;let i=e.view.viewFromPath("block",[t.root.id]);return i&&i.closest("affine-page-root")===i?i.viewportElement:(console.error("Failed to get viewport element!"),null)}function y(e,t){return t?b(e,t.id):null}function b(e,t){return e.view.getBlock(t)}async function w(e,t){let i=e.doc.root?.id;if(!i)return null;let s=e.view.getBlock(i);return s?(await s.updateComplete,e.view.getBlock(t)):null}async function x(e,t){let i=await w(e,t);return i?(await i.updateComplete,i?.querySelector("rich-text")||null):null}function _(e,t){if((0,n.o)(t,["affine:database"]))return null;let i=function(e,t){let i=e.view.getBlock(t);return i?.querySelector("rich-text")||null}(e,t.id);return i?i.inlineEditor:null}function C(e){let t=e.closest(l);return(0,o.Z1)(t,"Cannot find block element by element"),A(t)}function k(e){let t=e.closest(".affine-page-viewport");return t?t.querySelector("doc-title"):null}function S(e){let t=k(e);if(!t)return null;let i=t.querySelector("rich-text");return(0,o.Z1)(i),i.inlineEditor}function M(e,t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY}function E(e){return e.hasAttribute(r.u_)}function I(e){return!(0,n.o)(e.model,["affine:page","affine:note","affine:surface"])}function B({tagName:e}){return"AFFINE-DATABASE-TABLE"===e||"AFFINE-DATABASE"===e}function $({classList:e}){return e.contains("note-background")}function T(e,t=null,i=1){let s;let{y:o}=e,n=null,l=null,c=null,d=0,h=1;if(t){let{snapToEdge:o={x:!0,y:!1}}=t;s=t.container;let n=t.rect||s?.getBoundingClientRect();n&&(o.x&&(e.x=Math.min(Math.max(e.x,n.left)+r.s6*i-1,n.right-r.s6*i-1)),o.y&&(1!==i&&console.warn("scale is not supported yet"),e.y=(0,a.qE)(e.y,n.top+1,n.bottom-1)))}if(n=D(document.elementsFromPoint(e.x,e.y),s)){if(B(n)){l=n.getBoundingClientRect();let t=j(n);if(t){if(!(c=t.getBoundingClientRect()).height||e.y<c.top||e.y>c.bottom)return n;c=null}}else{if(l=H(n),!(c=n.querySelector(".affine-block-children-container")?.firstElementChild?.getBoundingClientRect())||!c.height||l.x<e.x&&e.x<=c.x)return n;c=null}l=null,n=null}do if(e.y=o-2*h,h<0&&h--,h*=-1,n=D(document.elementsFromPoint(e.x,e.y),s)){if((d=(l=H(n)).bottom-e.y)>=0&&d<=16||(d=e.y-l.top)>=0&&d<=16)return n;l=null,n=null}while(h<=8)return n}function O(e,t,i){let s=Array.from(e.querySelectorAll(i)).filter(t=>t.host===e.host).filter(t=>t!==e),o=Number.POSITIVE_INFINITY,r=null;if(!s.length)return null;for(let e of s){let i=e.getBoundingClientRect();if(0===i.height||t.y>i.bottom||t.y<i.top)continue;let s=Math.pow(t.y-(i.y+i.height/2),2)+Math.pow(t.x-i.x,2);if(s<=o)o=s,r=e;else break}return r}function P(e){if(!e)return null;if(E(e)&&I(e))return e;let t=e.closest(l);return t&&I(t)?t:null}function A(e){return"hostModel"in e?((0,o.Z1)(e.hostModel),e.hostModel):((0,o.Z1)(e.model),e.model)}function H(e){return B(e)?e.getBoundingClientRect():(e.firstElementChild??e).getBoundingClientRect()}function L(e){if(e.length<=1)return e;let t=e[0];return e.filter((e,i)=>0===i||!M(t,e)&&(t=e,!0))}function D(e,t){let i=e.length,s=null,o=0;for(;o<i;)if(s=e[o],o++,!t||M(t,s)){if(E(s)&&I(s))return s;if(function({tagName:e}){return"AFFINE-IMAGE"===e}(s)){let t=e[o];if(o<i&&E(t)&&I(t))return e[o];return P(t)}}return null}function Z(e){return document.elementsFromPoint(e.x,e.y).find($)||null}function j(e){return e.querySelector(".affine-database-block-rows")}function V(e,t,i){let r={rect:H(i),flag:s.Normal};if((0,n.o)(t,["affine:database"])){let a=i.querySelector(".affine-database-block-table");if(!a)return r;let n=a.getBoundingClientRect();if(t.isEmpty.value){if(r.flag=s.EmptyDatabase,e.y<n.top)return r;let t=i.querySelector(".affine-database-column-header");(0,o.Z1)(t),n=t.getBoundingClientRect(),r.rect=new DOMRect(r.rect.left,n.bottom,r.rect.width,1)}else{let t;r.flag=s.Database;let a=j(i);(0,o.Z1)(a);let c=a.getBoundingClientRect();if(e.y<c.top||e.y>c.bottom)return r;let d=document.elementsFromPoint(e.x,e.y),h=d.length,u=0;for(;u<h;u++){if((t=d[u]).classList.contains("affine-database-block-row-cell-content")){r.rect=R(t,n);break}if(t.classList.contains("affine-database-block-row")){t=t.querySelector(l),(0,o.Z1)(t),r.rect=R(t,n);break}}}}else{let e=i.parentElement;e?.classList.contains("affine-database-block-row-cell-content")&&(r.flag=s.Database,r.rect=R(e))}return r}function R(e,t){if(!t){let i=e.closest(".affine-database-block-table");(0,o.Z1)(i),t=i.getBoundingClientRect()}let i=e.parentElement;(0,o.Z1)(i);let s=i.parentElement;(0,o.Z1)(s);let r=i.getBoundingClientRect();return new DOMRect(t.left,r.top,r.right-t.left,r.height)}function z(e,t){return t.some(t=>e.classList.contains(t))}!function(e){e[e.Normal=0]="Normal",e[e.Database=1]="Database",e[e.EmptyDatabase=2]="EmptyDatabase"}(s||(s={}))},64094:(e,t,i)=>{i.d(t,{r:()=>o});var s=i(46427);class o{constructor(e,t,i,o){let[r,a]=e<=i?[e,i]:[i,e],[n,l]=t<=o?[t,o]:[o,t];this.min=new s.b(r,n),this.max=new s.b(a,l)}static fromDOM(e){return o.fromDOMRect(e.getBoundingClientRect())}static fromDOMRect({left:e,top:t,right:i,bottom:s}){return o.fromLTRB(e,t,i,s)}static fromLTRB(e,t,i,s){return new o(e,t,i,s)}static fromLWTH(e,t,i,s){return new o(e,i,e+t,i+s)}static fromPoint(e){return o.fromPoints(e.clone(),e)}static fromPoints(e,t){let i=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y),r=Math.min(t.x,e.x),a=Math.min(t.y,e.y);return o.fromLWTH(r,i,a,s)}static fromXY(e,t){return o.fromPoint(new s.b(e,t))}center(){return new s.b((this.left+this.right)/2,(this.top+this.bottom)/2)}clamp(e){return s.b.clamp(e,this.min,this.max)}clone(){let{left:e,top:t,right:i,bottom:s}=this;return new o(e,t,i,s)}contains({min:e,max:t}){return this.isPointIn(e)&&this.isPointIn(t)}equals({min:e,max:t}){return this.min.equals(e)&&this.max.equals(t)}extend_with(e){this.min=s.b.min(this.min,e),this.max=s.b.max(this.max,e)}extend_with_x(e){this.min.x=Math.min(this.min.x,e),this.max.x=Math.max(this.max.x,e)}extend_with_y(e){this.min.y=Math.min(this.min.y,e),this.max.y=Math.max(this.max.y,e)}intersect(e){return o.fromPoints(s.b.max(this.min,e.min),s.b.min(this.max,e.max))}intersects({left:e,top:t,right:i,bottom:s}){return this.left<=i&&e<=this.right&&this.top<=s&&t<=this.bottom}isPointDown({x:e,y:t}){return this.bottom<t&&this.left<=e&&this.right>=e}isPointIn({x:e,y:t}){return this.left<=e&&e<=this.right&&this.top<=t&&t<=this.bottom}isPointLeft({x:e,y:t}){return e<this.left&&this.top<=t&&this.bottom>=t}isPointRight({x:e,y:t}){return e>this.right&&this.top<=t&&this.bottom>=t}isPointUp({x:e,y:t}){return t<this.top&&this.left<=e&&this.right>=e}toDOMRect(){let{left:e,top:t,width:i,height:s}=this;return new DOMRect(e,t,i,s)}get bottom(){return this.max.y}set bottom(e){this.max.y=e}get height(){return this.max.y-this.min.y}set height(e){this.max.y=this.min.y+e}get left(){return this.min.x}set left(e){this.min.x=e}get right(){return this.max.x}set right(e){this.max.x=e}get top(){return this.min.y}set top(e){this.min.y=e}get width(){return this.max.x-this.min.x}set width(e){this.max.x=this.min.x+e}}},23156:(e,t,i)=>{i.d(t,{Km:()=>c,Zr:()=>h,kW:()=>g,oV:()=>f,q3:()=>u,xb:()=>p,xw:()=>l});var s=i(63820),o=i(71006),r=i(92820),a=i(72938),n=i(64094);async function l(e,t,i){let s=await (0,a.KW)(e,t.id);if(!s)return;await s.updateComplete;let o=s.inlineEditor;o&&o.setInlineRange(i)}async function c(e,t,i=0){let s=e.std.selection;s.setGroup("note",[s.create("text",{from:{blockId:t,index:i,length:0},to:null})]),await e.updateComplete}function d(e,t){if(s.$M){let i=document.caretPositionFromPoint(e,t),s=document.createRange();return s.setStart(i.offsetNode,i.offset),s}let i=document.caretRangeFromPoint(e,t);if(!i)return null;let o=i?.getClientRects();return o&&2===o.length&&i.startOffset===i.endOffset&&t<o[0].y+o[0].height&&(0|o[0].x)-(0|o[1].x)>0&&(i.setStart(i.startContainer,i.startOffset-1),i.setEnd(i.endContainer,i.endOffset-1)),i}function h(e,t=1/0,i=0){let s=(0,a.RX)(e);s&&(t>s.yText.length&&(t=s.yText.length),s.setInlineRange({index:t,length:i}))}function u(e,t,i="end",s=1){if((0,r.o)(t,["affine:note","affine:page"])){console.error("Can't focus note or doc!");return}let o=e.view.viewFromPath("block",(0,a.UL)(t)),l=o?.querySelector("[contenteditable]");l&&function(e,t="end",i=1){(0,a.NN)(e)&&e.querySelector("v-line")?.scrollIntoView({block:"nearest"});let{left:s,right:o}=n.r.fromDOM(e),r=null;switch(t){case"start":r=function(e){let t=document.createRange(),i=e.firstChild;for(;i?.firstChild;)i=i.firstChild;return i&&(t.setStart(i,0),t.setEnd(i,0)),t}(e);break;case"end":r=function(e){let t=document.createRange(),i=e.lastChild;for(;i?.lastChild;)i=i.lastChild;return i&&(t.setStart(i,i.textContent?.length||0),t.setEnd(i,i.textContent?.length||0)),t}(e);break;default:{let{x:a,y:l}=t,c=a,h=function(e,t,i=1){let s=t.closest(".affine-page-viewport"),{top:o,bottom:r}=n.r.fromDOM(t),{clientHeight:a}=document.documentElement,l=(Number(window.getComputedStyle(t).lineHeight.replace(/\D+$/,""))||16)*i;switch(r<e){case!0:{let e=r;return r<100&&s&&(s.scrollTop=s.scrollTop-100+r,requestAnimationFrame(()=>{e=t.getBoundingClientRect().bottom})),e-l/2}case!1:{let e=o;return s&&o>a-100&&(s.scrollTop=s.scrollTop+(o+100-a),requestAnimationFrame(()=>{e=t.getBoundingClientRect().top})),e+l/2}}}(l,e,i);a<=s&&(c=s+1),a>=o&&(c=o-1),r=d(c,h)}}p(r)}(l,i,s)}function p(e){let t=window.getSelection();(0,o.Z1)(t),t.removeAllRanges(),e&&t.addRange(e)}function f(e=window.getSelection()){return e?0===e.rangeCount?null:(e.rangeCount>1&&console.warn("getCurrentNativeRange may be wrong, rangeCount > 1"),e.getRangeAt(0)):(console.error("Failed to get current range, selection is null"),null)}function g(e,t){let i=d(e,t);i?.startContainer instanceof Node&&p(i)}},49077:(e,t,i)=>{i.d(t,{OH:()=>l,Fl:()=>a,z_:()=>n});var s=i(73711),o=i(31971);class r extends s.S4{async fromSnapshot(e){let t=await super.fromSnapshot(e),i=t.props.sourceId;return!e.assets.isEmpty()&&i&&await e.assets.writeToBlob(i),t}async toSnapshot(e){let t=super.toSnapshot(e),i=e.model.sourceId;return i&&await e.assets.readFromBlob(i),t}}let a=["cubeThick","horizontalThin"],n={name:"",size:0,type:"application/octet-stream",sourceId:void 0,caption:void 0,embed:!1,style:a[1],index:"a0",xywh:"[0,0,0,0]",rotate:0},l=(0,s.A9)({flavour:"affine:attachment",props:()=>n,metadata:{version:1,role:"content",parent:["affine:note","affine:surface","affine:edgeless-text","affine:paragraph","affine:list"]},transformer:()=>new r,toModel:()=>new c});class c extends(0,o.S)(s.zg){}},22366:(e,t,i)=>{i.d(t,{DD:()=>n,HO:()=>r});var s=i(73711),o=i(18571);let r=["vertical","horizontal","list","cube"],a={style:r[1],url:"",caption:null,description:null,icon:null,image:null,title:null,index:"a0",xywh:"[0,0,0,0]",rotate:0},n=(0,s.A9)({flavour:"affine:bookmark",props:()=>a,metadata:{version:1,role:"content",parent:["affine:note","affine:surface","affine:edgeless-text","affine:paragraph","affine:list"]},toModel:()=>new l});class l extends(0,o.S)(s.zg){}},65828:(e,t,i)=>{i.d(t,{c:()=>r});var s=i(73711),o=i(10859);let r=(0,s.A9)({flavour:"affine:code",props:e=>({text:e.Text(),language:o.Kc,wrap:!1,caption:""}),metadata:{version:1,role:"content",parent:["affine:note","affine:paragraph","affine:list","affine:edgeless-text"],children:[]}})},10859:(e,t,i)=>{i.d(t,{Kc:()=>r,XR:()=>a,dA:()=>o,n0:()=>s});let s="dark-plus",o="light-plus",r="Plain Text",a={id:r,name:r,aliases:["plaintext","txt","text"],import:()=>Promise.resolve({default:[]})}},87196:(e,t,i)=>{i.d(t,{S:()=>a});var s=i(73711),o=i(73297);class r extends s.zg{constructor(){super()}applyViewsUpdate(){this.doc.updateBlock(this,{views:this.views})}deleteView(e){this.doc.captureSync(),this.doc.transact(()=>{this.views=this.views.filter(t=>t.id!==e)})}duplicateView(e){let t=this.doc.generateBlockId();return this.doc.transact(()=>{let i=this.views.findIndex(t=>t.id===e),s=this.views[i];s&&this.views.splice(i+1,0,JSON.parse(JSON.stringify({...s,id:t})))}),t}moveViewTo(e,t){this.doc.transact(()=>{this.views=(0,o.b)(this.views,t=>t.id===e,e=>(0,o.q)(t,e))}),this.applyViewsUpdate()}updateView(e,t){this.doc.transact(()=>{this.views=this.views.map(i=>i.id!==e?i:{...i,...t(i)})}),this.applyViewsUpdate()}}let a=(0,s.A9)({flavour:"affine:data-view",props:()=>({views:[],title:"",columns:[],cells:{}}),metadata:{role:"hub",version:1,parent:["affine:note"],children:["affine:paragraph","affine:list"]},toModel:()=>new r})},73297:(e,t,i)=>{function s(e,t,i=e=>e.id){return"object"==typeof e?t.findIndex(t=>i(t)===e.id)+(e.before?0:1):null==e||"start"===e?0:"end"===e?t.length:t.findIndex(t=>i(t)===e)+1}i.d(t,{b:()=>o,q:()=>s});let o=(e,t,i)=>{let s=e.findIndex(e=>t(e));if(s<0)return e;let o=[...e],[r]=o.splice(s,1),a=i(o);return o.splice(a,0,r),o}},94108:(e,t,i)=>{i.d(t,{A:()=>n});var s=i(73711),o=i(73297);class r extends s.zg{addColumn(e,t){let i=t.id??this.doc.generateBlockId();return this.columns.some(e=>e.id===i)||this.doc.transact(()=>{let s={...t,id:i};this.columns.splice((0,o.q)(e,this.columns),0,s)}),i}applyCellsUpdate(){this.doc.updateBlock(this,{cells:this.cells})}applyColumnUpdate(){this.doc.updateBlock(this,{columns:this.columns})}applyViewsUpdate(){this.doc.updateBlock(this,{views:this.views})}copyCellsByColumn(e,t){this.doc.transact(()=>{Object.keys(this.cells).forEach(i=>{let s=this.cells[i][e];s&&(this.cells[i][t]={...s,columnId:t})})})}deleteColumn(e){let t=this.findColumnIndex(e);t<0||this.doc.transact(()=>{this.columns.splice(t,1)})}deleteRows(e){this.doc.transact(()=>{for(let t of e)delete this.cells[t]})}deleteView(e){this.doc.captureSync(),this.doc.transact(()=>{this.views=this.views.filter(t=>t.id!==e)})}duplicateView(e){let t=this.doc.generateBlockId();return this.doc.transact(()=>{let i=this.views.findIndex(t=>t.id===e),s=this.views[i];s&&this.views.splice(i+1,0,JSON.parse(JSON.stringify({...s,id:t})))}),t}findColumnIndex(e){return this.columns.findIndex(t=>t.id===e)}getCell(e,t){if("title"===t)return{columnId:"title",value:e};let i=this.cells$.value[e],s=i?.[t]??null;return s?{columnId:s.columnId,value:s.value}:null}getColumn(e){return this.columns.find(t=>t.id===e)}getViewList(){return this.views}moveViewTo(e,t){this.doc.transact(()=>{this.views=(0,o.b)(this.views,t=>t.id===e,e=>(0,o.q)(t,e))}),this.applyViewsUpdate()}updateCell(e,t){e in this.cells||(this.cells[e]=Object.create(null)),this.doc.transact(()=>{this.cells[e][t.columnId]={columnId:t.columnId,value:t.value}})}updateCells(e,t){this.doc.transact(()=>{Object.entries(t).forEach(([t,i])=>{this.cells[t][e]={columnId:e,value:i}})})}updateColumn(e,t){let i=this.columns.findIndex(t=>t.id===e);if(null!=i)return this.doc.transact(()=>{let e=this.columns[i],s=t(e);this.columns[i]={...e,...s}}),e}updateView(e,t){this.doc.transact(()=>{this.views=this.views.map(i=>i.id!==e?i:{...i,...t(i)})}),this.applyViewsUpdate()}}let a={toV3:e=>{let t=(0,s.Ak)(),i=e.titleColumnName,o=e.titleColumnWidth;delete e.titleColumnName,delete e.titleColumnWidth,e.columns.unshift({id:t,type:"title",name:i,data:{}}),e.views.forEach(e=>{"table"===e.mode&&e.columns.unshift({id:t,width:o,statCalcType:"none"})})}},n=(0,s.A9)({flavour:"affine:database",props:e=>({views:[],title:e.Text(),cells:Object.create(null),columns:[]}),metadata:{role:"hub",version:3,parent:["affine:note"],children:["affine:paragraph","affine:list"]},toModel:()=>new r,onUpgrade:(e,t,i)=>{t<3&&i>=3&&a.toV3(e)}})},82192:(e,t,i)=>{i.d(t,{C:()=>s});let s=(0,i(73711).A9)({flavour:"affine:divider",metadata:{version:1,role:"content",children:[]}})},19860:(e,t,i)=>{i.d(t,{C:()=>a,Q:()=>n});var s=i(73711),o=i(31971),r=i(16019);let a=(0,s.A9)({flavour:"affine:edgeless-text",props:()=>({xywh:"[0,0,16,16]",index:"a0",color:"#000000",fontFamily:r.ay.Inter,fontStyle:r.zz.Normal,fontWeight:r.IT.Regular,textAlign:r.nO.Left,scale:1,rotate:0,hasMaxWidth:!1}),metadata:{version:1,role:"hub",parent:["affine:surface"],children:["affine:paragraph","affine:list","affine:code","affine:image","affine:bookmark","affine:attachment","affine:embed-!(synced-doc)"]},toModel:()=>new n});class n extends(0,o.S)(s.zg){}},77824:(e,t,i)=>{i.d(t,{TE:()=>r,eE:()=>a,zy:()=>n});var s=i(73711),o=i(76020);let r=/https:\/\/[\w.-]+\.?figma.com\/([\w-]+)\/([0-9a-zA-Z]{22,128})(?:\/.*)?$/,a=["figma"];class n extends(0,o.I)(s.zg){}},45170:(e,t,i)=>{i.d(t,{S:()=>a});var s=i(91721),o=i(77824);let r={style:o.eE[0],url:"",caption:null,title:null,description:null},a=(0,s.E)({name:"figma",version:1,toModel:()=>new o.zy,props:()=>r})},9456:(e,t,i)=>{i.d(t,{EO:()=>r,gy:()=>n,js:()=>a});var s=i(73711),o=i(76020);let r=/^(?:https?:\/\/)?(?:www\.)?github\.com\/([^/]+)\/([^/]+)\/(issue|pull)s?\/(\d+)$/,a=["vertical","horizontal","list","cube"];class n extends(0,o.I)(s.zg){}},23746:(e,t,i)=>{i.d(t,{f:()=>a});var s=i(91721),o=i(9456);let r={style:o.js[1],owner:"",repo:"",githubType:"issue",githubId:"",url:"",caption:null,image:null,status:null,statusReason:null,title:null,description:null,createdAt:null,assignees:null},a=(0,s.E)({name:"github",version:1,toModel:()=>new o.gy,props:()=>r})},58280:(e,t,i)=>{i.d(t,{P:()=>r,_:()=>a});var s=i(73711),o=i(76020);let r=["html"];class a extends(0,o.I)(s.zg){}},22042:(e,t,i)=>{i.d(t,{D:()=>a});var s=i(91721),o=i(58280);let r={style:o.P[0],caption:null,html:void 0,design:void 0},a=(0,s.E)({name:"html",version:1,toModel:()=>new o._,props:()=>r})},3714:(e,t,i)=>{i.d(t,{T:()=>r,w:()=>a});var s=i(73711),o=i(76020);let r=["vertical","horizontal","list","cube","horizontalThin"];class a extends(0,o.I)(s.zg){}},55012:(e,t,i)=>{i.d(t,{V:()=>a});var s=i(91721),o=i(3714);let r={pageId:"",style:o.T[1],caption:null},a=(0,s.E)({name:"linked-doc",version:1,toModel:()=>new o.w,props:()=>r})},88680:(e,t,i)=>{i.d(t,{S_:()=>n,kn:()=>r,lE:()=>a});var s=i(73711),o=i(76020);let r=/(?:https?:\/\/)??(?:www\.)?loom\.com\/share\/([a-zA-Z0-9]+)/,a=["video"];class n extends(0,o.I)(s.zg){}},61082:(e,t,i)=>{i.d(t,{L:()=>a});var s=i(91721),o=i(88680);let r={style:o.lE[0],url:"",caption:null,image:null,title:null,description:null,videoId:null},a=(0,s.E)({name:"loom",version:1,toModel:()=>new o.S_,props:()=>r})},62652:(e,t,i)=>{i.d(t,{A:()=>r,F:()=>a});var s=i(73711),o=i(76020);let r=["syncedDoc"];class a extends(0,o.I)(s.zg){}},29838:(e,t,i)=>{i.d(t,{O:()=>a});var s=i(91721),o=i(62652);let r={pageId:"",style:o.A[0],caption:void 0,scale:void 0},a=(0,s.E)({name:"synced-doc",version:1,toModel:()=>new o.F,props:()=>r})},55708:(e,t,i)=>{i.d(t,{QH:()=>n,R_:()=>a,iB:()=>r});var s=i(73711),o=i(76020);let r=/(?:https?:\/\/)?(?:(?:www|m)\.)?youtu\.?be(?:\.com)?\/?.*(?:watch|embed)?(?:.*v=|v\/|\/)([\w-_]+)/,a=["video"];class n extends(0,o.I)(s.zg){}},58542:(e,t,i)=>{i.d(t,{X:()=>a});var s=i(91721),o=i(55708);let r={style:o.R_[0],url:"",caption:null,image:null,title:null,description:null,creator:null,creatorUrl:null,creatorImage:null,videoId:null},a=(0,s.E)({name:"youtube",version:1,toModel:()=>new o.QH,props:()=>r})},33096:(e,t,i)=>{i.d(t,{K:()=>n,o:()=>a});var s=i(94098),o=i(73711),r=i(31971);let a=(0,o.A9)({flavour:"affine:frame",props:e=>({title:e.Text(),background:"--affine-palette-transparent",xywh:"[0,0,100,100]",index:"a0"}),metadata:{version:1,role:"content",parent:["affine:surface"],children:[]},toModel:()=>new n});class n extends(0,r.S)(o.zg){includesPoint(e,t,i){return!!s.z.deserialize(this.xywh).isPointNearBound([e,t],5)||(this.externalBound?.isPointInBound([e,t])??!1)}intersectsBound(e){let t=s.z.deserialize(this.xywh);return t.isIntersectWithBound(e)||e.contains(t)}}},14558:(e,t,i)=>{i.d(t,{m:()=>l,e:()=>n});var s=i(73711),o=i(31971);class r extends s.S4{async fromSnapshot(e){let t=await super.fromSnapshot(e),i=t.props.sourceId;return e.assets.isEmpty()||!i||i.startsWith("/")||await e.assets.writeToBlob(i),t}async toSnapshot(e){let t=await super.toSnapshot(e),i=e.model.sourceId;return i&&await e.assets.readFromBlob(i),t}}let a={caption:"",sourceId:"",width:0,height:0,index:"a0",xywh:"[0,0,0,0]",rotate:0,size:-1},n=(0,s.A9)({flavour:"affine:image",props:()=>a,metadata:{version:1,role:"content"},transformer:()=>new r,toModel:()=>new l});class l extends(0,o.S)(s.zg){}},83904:(e,t,i)=>{i.d(t,{v1U:()=>_c,VCv:()=>_O,O1o:()=>rf,orQ:()=>rg,wER:()=>_d,rjt:()=>C.rj,mbd:()=>_M,wYV:()=>xh,sq2:()=>ST,vw3:()=>TH,IfI:()=>$W,SAc:()=>ni,cPQ:()=>Th,Q_W:()=>Tu,yYJ:()=>AD,dYB:()=>Tp,n1p:()=>Tf,J9s:()=>E.J9,CY:()=>Ax,Gt6:()=>Tg,B19:()=>S.B1,cc9:()=>TR,a16:()=>TN,d7y:()=>aj,c8j:()=>PP,u05:()=>Tq,UdY:()=>a4,BAN:()=>nt,FrX:()=>S_,MyE:()=>mR,rYV:()=>mV,exN:()=>_L,tX8:()=>_P,BH6:()=>Oz,gWp:()=>SC,npq:()=>OL,JaD:()=>I8,fFq:()=>$8,U1$:()=>$6,wwJ:()=>Tr,Xtf:()=>Td,n6F:()=>IE,QLR:()=>gC.Q,EXs:()=>mN,Ats:()=>TY,dyY:()=>TX,z1s:()=>TQ,ZVR:()=>T0,JTL:()=>bX,xP9:()=>b1,PoU:()=>T5,FTM:()=>T7,W8j:()=>T6,Frf:()=>AL.F,J3u:()=>T9,nig:()=>Oe,U9e:()=>mq,irK:()=>Pe,xhi:()=>le,n9L:()=>lE,FZ8:()=>xx,mK9:()=>Ot.m,mFI:()=>Oo,YXb:()=>Or,fA2:()=>Tv,amD:()=>al,hhn:()=>nL,x_r:()=>yP,P5Y:()=>PU,xkA:()=>Ob,FNZ:()=>ec,TG:()=>x_,ARu:()=>I.AR,i6S:()=>iU,xAB:()=>f6,jNK:()=>eq,NTi:()=>Mw.N,B6b:()=>OH,ko3:()=>q.ko,kbk:()=>Oq,MNr:()=>ON,rFg:()=>xQ,ZIh:()=>To,a4$:()=>Tc,DNe:()=>At,b16:()=>OZ,jlj:()=>Oj,yPR:()=>n9,YE2:()=>lq,JBs:()=>ge,c11:()=>ez,Edk:()=>Tj,NAP:()=>ac,sDQ:()=>l7,B5W:()=>b.B5,fs6:()=>m0,P3Z:()=>ah,n6X:()=>B.n,Qtn:()=>im.Q,m_M:()=>co,D_h:()=>n8,bMW:()=>xC,j0U:()=>st.j0,clE:()=>ri,xqQ:()=>gi,HzZ:()=>ga,afe:()=>gn,aKu:()=>es,hw5:()=>x.hw,TUT:()=>iC.TU,UNy:()=>TD,qZN:()=>iY.qZ,Arh:()=>sc.Ar,zU6:()=>sc.zU,fp4:()=>iW,op$:()=>st.op,on:()=>st.on,OoU:()=>st.Oo,p6j:()=>st.p6,O40:()=>gx,oVP:()=>cp,kMM:()=>cl,showImportModal:()=>yE,tO3:()=>gs,lh7:()=>xr});var s,o,r,a,n,l,c,d,h={};i.r(h),i.d(h,{ArrowLeftBigIcon:()=>sz,CenterPeekIcon:()=>s7,CheckBoxIcon:()=>sN,ConvertIcon:()=>sX,CrossIcon:()=>sZ,DatabaseAddColumn:()=>sA,DatabaseDragIcon:()=>sH,DatabaseDuplicate:()=>sk,DatabaseExpand:()=>sL,DatabaseInsertLeft:()=>sS,DatabaseInsertRight:()=>sM,DatabaseKanbanViewIcon:()=>sY,DatabaseMoveLeft:()=>sE,DatabaseMoveRight:()=>sI,DatabaseMultiSelect:()=>sB,DatabaseNumber:()=>s$,DatabaseProgress:()=>sO,DatabaseSearchClose:()=>sP,DatabaseSearchIcon:()=>sC,DatabaseSelect:()=>sT,DatabaseTableViewClose:()=>sD,DatabaseTableViewIcon:()=>sK,DateTime:()=>sq,DecreaseDecimalPlacesIcon:()=>s5,DeleteIcon:()=>sV,DoneIcon:()=>s0,FilterIcon:()=>sQ,GroupingIcon:()=>sJ,ImageIcon:()=>sU,IncreaseDecimalPlacesIcon:()=>s2,InfoIcon:()=>s1,LinkIcon:()=>sG,MoreHorizontalIcon:()=>sR,PlusIcon:()=>sj,TextIcon:()=>sF,TitleIcon:()=>sW});var u=i(68419),p=i(73134),f=i(43228),g=i(46427),m=i(94098),v=i(73711),y=i(48520),b=i(40942),w=i(70174),x=i(49210),_=i(64369),C=i(16019),k=i(31999);i(24434);var S=i(68192),M=i(26739),E=i(992),I=i(45598),B=i(9441);RegExp(`^[^A-Za-z\xc0-\xd6\xd8-\xf6\xf8-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿]*[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]`);let $=function(){let e=null,t=null;return()=>(t||(e=(t=document.createElement("canvas")).getContext("2d")),e)}();function T(e,t){let i=$();return t!==i.font&&(i.font=t),i.measureText(e).width}var O=i(39099),P=i(7595),A=i(64816),H=i(91449),L=i(4564),D=i(22805),Z=i(54719),j=i(96509),V=i(71006),R=i(18342),z=i(79539),F=i(25627),N=i(81463),q=i(38509);let U=e=>{e=e.trim();let t=[],i=Object.create(null);for(let i=0;i<e.length;i++)'"'===e[i]&&"\\"!==e[i-1]&&t.push(i);let s=e.indexOf("filename=");for(let o=0;o<t.length;o+=2){let r=t[o],a=t[o+1];i[r]=a,r<s&&s<a&&(s=e.indexOf("filename=",a))}if(-1!==s){if(void 0===i[s+9]){let t=e.indexOf(" ",s);return e.slice(s+9,-1===t?e.length:t)}return e.slice(s+10,i[s+9])}};var W=i(14076),G=i(13265),Y=i(75903),K=i(923),X=i(66745),Q=i(96855),J=i(75069),ee=i(28050),et=i(75425);function ei(){let e=this.data(),t=e.micromarkExtensions||(e.micromarkExtensions=[]),i=e.fromMarkdownExtensions||(e.fromMarkdownExtensions=[]),s=e.toMarkdownExtensions||(e.toMarkdownExtensions=[]);t.push((0,et.y)([(0,X.$)(),(0,Q.K)(),(0,J.x)(),(0,ee.J)()])),i.push([(0,G.p)(),(0,Y.c)(),(0,K.S)(),(0,W.C)()]),s.push({extensions:[(0,G.K)(),(0,Y.d)(),(0,K.P)()]})}let es=async(e,t,i)=>{try{if(!i||e.startsWith("blob:")||e.startsWith("data:")||e.startsWith(window.location.origin))return await fetch(e,t);return await fetch(i+"?url="+encodeURIComponent(e),t).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e}).catch(()=>fetch(e,t))}catch(e){return console.warn("Error fetching image:",e),null}},eo=(e,t,i={force:!1})=>{if(0===e.length)return[t];let s=e[e.length-1];return i?.force?(s.insert=s.insert+t.insert,s.attributes=Object.create(null),e):"string"==typeof s.insert&&"string"==typeof t.insert&&((0,V.n4)(s.attributes,t.attributes)||void 0===s.attributes&&void 0===t.attributes)?(s.insert+=t.insert,e):[...e,t]},er=e=>null==e,ea=e=>e.startsWith("http:")||e.startsWith("https:")||e.startsWith("data:"),en=e=>({"$blocksuite:internal:text$":!0,delta:0===e.length?[]:[{insert:e}]}),el=e=>"object"==typeof e&&null!==e&&"$blocksuite:internal:text$"in e&&!0===e["$blocksuite:internal:text$"];class ec extends v.Dy{constructor(){super(...arguments),this._traverseMarkdown=(e,t,i)=>{let s=new v.PV;return s.setONodeTypeGuard(e=>!Array.isArray(e)&&"type"in e&&void 0!==e.type),s.setEnter(async(e,t)=>{switch(e.node.type){case"html":t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{type:"text",text:{"$blocksuite:internal:text$":!0,delta:[{insert:e.node.value}]}},children:[]},"children").closeNode();break;case"code":t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:code",props:{language:e.node.lang??"Plain Text",text:{"$blocksuite:internal:text$":!0,delta:[{insert:e.node.value}]}},children:[]},"children").closeNode();break;case"paragraph":t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{type:"text",text:{"$blocksuite:internal:text$":!0,delta:this._mdastToDelta(e.node)}},children:[]},"children").closeNode();break;case"heading":t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{type:`h${e.node.depth}`,text:{"$blocksuite:internal:text$":!0,delta:this._mdastToDelta(e.node)}},children:[]},"children").closeNode();break;case"blockquote":t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{type:"quote",text:{"$blocksuite:internal:text$":!0,delta:this._mdastToDelta(e.node)}},children:[]},"children").closeNode(),t.skipAllChildren();break;case"list":t.setNodeContext("mdast:list:ordered",e.node.ordered);break;case"listItem":t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:list",props:{type:null!==e.node.checked?"todo":t.getNodeContext("mdast:list:ordered")?"numbered":"bulleted",text:{"$blocksuite:internal:text$":!0,delta:e.node.children[0]&&"paragraph"===e.node.children[0].type?this._mdastToDelta(e.node.children[0]):[]},checked:e.node.checked??!1,collapsed:!1},children:[]},"children"),e.node.children[0]&&"paragraph"===e.node.children[0].type&&t.skipChildren(1);break;case"thematicBreak":t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:divider",props:{},children:[]},"children").closeNode();break;case"image":{let s="";if(!i)break;if(ea(e.node.url)){let t=await es(e.node.url,void 0,this.configs.get("imageProxy"));if(!t)break;let o=t.clone(),r=new File([await t.blob()],U(t.headers.get("Content-Disposition")??"")??(e.node.url.split("/").at(-1)??"image")+"."+(t.headers.get("Content-Type")?.split("/").at(-1)??"png"),{type:t.headers.get("Content-Type")??""});s=await (0,j.h)(await o.arrayBuffer()),i?.getAssets().set(s,r),await i?.writeToBlob(s)}else{let t=e.node.url;i.getAssets().forEach((e,o)=>{let r=(0,v.wm)(i.getAssets(),o);decodeURIComponent(t).includes(r)&&(s=o)})}t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:image",props:{sourceId:s},children:[]},"children").closeNode();break}case"table":{let i=e.node.children[0].children.map(()=>({id:(0,v.Ak)(),hide:!1,width:180})),s=Object.create(null);e.node.children.slice(1).forEach(e=>{let t=(0,v.Ak)();s[t]=Object.create(null),e.children.slice(1).forEach((e,o)=>{s[t][i[o+1].id]={columnId:i[o+1].id,value:en(e.children.map(e=>"value"in e?e.value:"").join(""))}})});let o=e.node.children[0].children.map((e,t)=>({type:0===t?"title":"rich-text",name:e.children.map(e=>"value"in e?e.value:"").join(""),data:{},id:i[t].id}));t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:database",props:{views:[{id:(0,v.Ak)(),name:"Table View",mode:"table",columns:[],filter:{type:"group",op:"and",conditions:[]},header:{titleColumn:i[0]?.id,iconColumn:"type"}}],title:{"$blocksuite:internal:text$":!0,delta:[]},cells:s,columns:o},children:[]},"children"),t.setNodeContext("affine:table:rowid",Object.keys(s)),t.skipChildren(1);break}case"tableRow":t.openNode({type:"block",id:t.getNodeContext("affine:table:rowid").shift()??(0,v.Ak)(),flavour:"affine:paragraph",props:{text:{"$blocksuite:internal:text$":!0,delta:this._mdastToDelta(e.node.children[0])},type:"text"},children:[]}).closeNode(),t.skipAllChildren()}}),s.setLeave((e,t)=>{switch(e.node.type){case"listItem":case"table":t.closeNode()}}),s.walk(e,t)},this._traverseSnapshot=async(e,t,i)=>{let s=[],o=new v.PV;return o.setONodeTypeGuard(e=>v.T1.safeParse(e).success),o.setEnter(async(e,t)=>{let r=e.node.props.text??{delta:[]},a=t.currentNode();switch(e.node.flavour){case"affine:code":t.openNode({type:"code",lang:e.node.props.language??null,meta:null,value:r.delta.map(e=>e.insert).join("")},"children").closeNode();break;case"affine:paragraph":{let i=t.getGlobalContext("affine:paragraph:depth")??0;switch(e.node.props.type){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":t.openNode({type:"heading",depth:parseInt(e.node.props.type[1]),children:this._deltaToMdAST(r.delta,i)},"children").closeNode();break;case"text":t.openNode({type:"paragraph",children:this._deltaToMdAST(r.delta,i)},"children").closeNode();break;case"quote":t.openNode({type:"blockquote",children:[]},"children").openNode({type:"paragraph",children:this._deltaToMdAST(r.delta)},"children").closeNode().closeNode()}t.setGlobalContext("affine:paragraph:depth",i+1);break}case"affine:list":t.getNodeContext("affine:list:parent")===e.parent&&"list"===a.type&&a.ordered===("numbered"===e.node.props.type)&&er(a.children[0].checked)===er("todo"===e.node.props.type?e.node.props.checked:void 0)?t.openNode({type:"listItem",checked:"todo"===e.node.props.type?e.node.props.checked:void 0,spread:!1,children:[]},"children").openNode({type:"paragraph",children:this._deltaToMdAST(r.delta)},"children").closeNode():t.openNode({type:"list",ordered:"numbered"===e.node.props.type,spread:!1,children:[]},"children").setNodeContext("affine:list:parent",e.parent).openNode({type:"listItem",checked:"todo"===e.node.props.type?e.node.props.checked:void 0,spread:!1,children:[]},"children").openNode({type:"paragraph",children:this._deltaToMdAST(r.delta)},"children").closeNode();break;case"affine:divider":t.openNode({type:"thematicBreak"},"children").closeNode();break;case"affine:image":{let o=e.node.props.sourceId??"";if(!i)break;await i.readFromBlob(o);let r=i.getAssets().get(o);if(s.push(o),!r)break;let a=(0,v.wm)(i.getAssets(),o);t.openNode({type:"paragraph",children:[]},"children").openNode({type:"image",url:`assets/${a}`,title:e.node.props.caption??null,alt:r.name??null},"children").closeNode().closeNode();break}case"affine:page":{let i=e.node.props.title??{delta:[]};if(0===i.delta.length)break;t.openNode({type:"heading",depth:1,children:this._deltaToMdAST(i.delta,0)},"children").closeNode();break}case"affine:database":{let i=[],s=e.node.props.columns,o=e.node.children,r=e.node.props.cells,a=e=>({type:"tableCell",children:e}),n=Array.prototype.map.call(o,e=>Array.prototype.map.call(s,t=>{let i=r[e.id]?.[t.id];if(!i&&"title"!==t.type)return a([{type:"text",value:""}]);switch(t.type){case"link":case"progress":case"number":case"checkbox":default:return a([{type:"text",value:i.value}]);case"rich-text":return a(this._deltaToMdAST(i.value.delta));case"title":return a(this._deltaToMdAST(e.props.text.delta));case"date":return a([{type:"text",value:(0,R.GP)(new Date(i.value),"yyyy-MM-dd")}]);case"select":return a([{type:"text",value:t.data.options.find(e=>e.id===i.value)?.value}]);case"multi-select":return a([{type:"text",value:Array.prototype.map.call(i.value,e=>t.data.options.find(t=>e===t.id).value).filter(Boolean).join(",")}])}}));Array.isArray(s)&&i.push({type:"tableRow",children:Array.prototype.map.call(s,e=>a([{type:"text",value:e.name}]))}),Array.prototype.forEach.call(n,e=>{i.push({type:"tableRow",children:e})}),t.openNode({type:"table",children:i}).closeNode(),t.skipAllChildren();break}case"affine:embed-synced-doc":{let i=this.configs.get("embedSyncedDocExportType");void 0===t.getGlobalContext("embed-synced-doc-counter")&&t.setGlobalContext("embed-synced-doc-counter",0);let s=t.getGlobalContext("embed-synced-doc-counter");if(t.setGlobalContext("embed-synced-doc-counter",++s),"content"===i){(0,V.Z1)(e.node.props.pageId);let i=e.node.props.pageId,r=this.job.collection.getDoc(i);if(!r)break;if(1===s){let e=await this.job.docToSnapshot(r);e&&await o.walkONode(e.blocks)}else t.openNode({type:"paragraph",children:[{type:"text",value:r.meta?.title??""}]}).closeNode()}break}case"affine:embed-loom":case"affine:embed-github":case"affine:embed-youtube":case"affine:embed-figma":case"affine:bookmark":if("string"!=typeof e.node.props.title||"string"!=typeof e.node.props.url)break;t.openNode({type:"paragraph",children:[]},"children").openNode({type:"link",url:e.node.props.url,children:[{type:"text",value:e.node.props.title}]},"children").closeNode().closeNode()}}),o.setLeave((e,t)=>{let i=t.currentNode(),s=t.previousNode();switch(e.node.flavour){case"affine:paragraph":t.setGlobalContext("affine:paragraph:depth",t.getGlobalContext("affine:paragraph:depth")-1);break;case"affine:list":t.getPreviousNodeContext("affine:list:parent")===e.parent&&"listItem"===i.type&&s?.type==="list"&&s.ordered===("numbered"===e.node.props.type)&&er(i.checked)===er("todo"===e.node.props.type?e.node.props.checked:void 0)?(t.closeNode(),e.next?.flavour!=="affine:list"&&t.closeNode()):t.closeNode().closeNode();break;case"affine:embed-synced-doc":{let e=t.getGlobalContext("embed-synced-doc-counter");t.setGlobalContext("embed-synced-doc-counter",e-1)}}}),{ast:await o.walk(e,t),assetsIds:s}}}_astToMarkdown(e){return(0,N.l)().use(ei).use(F.A,{resourceLink:!0}).stringify(e).replace(/&#x20;\n/g," \n")}_deltaToMdAST(e,t=0){return t>0&&e.unshift({insert:" ".repeat(4).repeat(t)}),e.map(e=>{let t={type:"text",value:e.attributes?.underline?`<u>${e.insert}</u>`:e.insert};if(e.attributes?.reference){let i=this.configs.get("title:"+e.attributes.reference.pageId);"string"==typeof i&&(t={type:"text",value:i})}return e.attributes?.code&&(t={type:"inlineCode",value:e.insert}),e.attributes?.bold&&(t={type:"strong",children:[t]}),e.attributes?.italic&&(t={type:"emphasis",children:[t]}),e.attributes?.strike&&(t={type:"delete",children:[t]}),e.attributes?.link&&(""===e.insert?t={type:"text",value:e.attributes.link}:e.insert!==e.attributes.link&&(t={type:"link",url:e.attributes.link,children:[t]})),t})}_markdownToAst(e){return(0,N.l)().use(z.A).use(ei).parse(e)}_mdastToDelta(e){switch(e.type){case"text":return[{insert:e.value}];case"inlineCode":return[{insert:e.value,attributes:{code:!0}}];case"strong":return e.children.flatMap(e=>this._mdastToDelta(e).map(e=>(e.attributes={...e.attributes,bold:!0},e)));case"emphasis":return e.children.flatMap(e=>this._mdastToDelta(e).map(e=>(e.attributes={...e.attributes,italic:!0},e)));case"delete":return e.children.flatMap(e=>this._mdastToDelta(e).map(e=>(e.attributes={...e.attributes,strike:!0},e)));case"link":return e.children.flatMap(t=>this._mdastToDelta(t).map(t=>(t.attributes={...t.attributes,link:e.url},t)));case"list":return[]}return"children"in e?e.children.flatMap(e=>this._mdastToDelta(e)):[]}async fromBlockSnapshot({snapshot:e,assets:t}){let{ast:i,assetsIds:s}=await this._traverseSnapshot(e,{type:"root",children:[]},t);return{file:this._astToMarkdown(i),assetsIds:s}}async fromDocSnapshot({snapshot:e,assets:t}){let i="",{file:s,assetsIds:o}=await this.fromBlockSnapshot({snapshot:e.blocks,assets:t});return{file:i+=s,assetsIds:o}}async fromSliceSnapshot({snapshot:e,assets:t}){let i="",s=[];for(let o of e.content){let e={type:"root",children:[]},{ast:r,assetsIds:a}=await this._traverseSnapshot(o,e,t);s.push(...a),i+=this._astToMarkdown(r)}return{file:i.match(/\n/g)?.length===1?i.trimEnd():i,assetsIds:s}}async toBlockSnapshot(e){let t=this._markdownToAst(e.file),i={type:"block",id:(0,v.Ak)(),flavour:"affine:note",props:{xywh:"[0,0,800,95]",background:"--affine-background-secondary-color",index:"a0",hidden:!1,displayMode:q.ko.DocAndEdgeless},children:[]};return this._traverseMarkdown(t,i,e.assets)}async toDocSnapshot(e){let t=this._markdownToAst(e.file),i={type:"block",id:(0,v.Ak)(),flavour:"affine:note",props:{xywh:"[0,0,800,95]",background:"--affine-background-secondary-color",index:"a0",hidden:!1,displayMode:q.ko.DocAndEdgeless},children:[]};return{type:"page",meta:{id:(0,v.Ak)(),title:"Untitled",createDate:Date.now(),tags:[]},blocks:{type:"block",id:(0,v.Ak)(),flavour:"affine:page",props:{title:{"$blocksuite:internal:text$":!0,delta:[{insert:"Untitled"}]}},children:[{type:"block",id:(0,v.Ak)(),flavour:"affine:surface",props:{elements:{}},children:[]},await this._traverseMarkdown(t,i,e.assets)]}}}async toSliceSnapshot(e){let t="";e.file=e.file.split("\n").map(e=>{if(e.trimStart().startsWith("-"))return e;let i=e.trimStart();if(!t&&i.startsWith("```")){if((t=i.substring(0,i.lastIndexOf("```")+3)).split("").every(e=>"`"===e))return e;t=""}if(!t&&i.startsWith("~~~")){if((t=i.substring(0,i.lastIndexOf("~~~")+3)).split("").every(e=>"~"===e))return e;t=""}return(t&&i.startsWith(t)&&0===i.lastIndexOf(t)&&(t=""),t)?e:e.replace(/^ /,"&#x20;")}).join("\n");let i=this._markdownToAst(e.file),s={type:"block",id:(0,v.Ak)(),flavour:"affine:note",props:{xywh:"[0,0,800,95]",background:"--affine-background-secondary-color",index:"a0",hidden:!1,displayMode:q.ko.DocAndEdgeless},children:[]},o=await this._traverseMarkdown(i,s,e.assets);return 0===o.children.length?null:{type:"slice",content:[o],pageVersion:e.pageVersion,workspaceVersion:e.workspaceVersion,workspaceId:e.workspaceId,pageId:e.pageId}}}var ed=i(23725);let eh=ed.wBL({width:"24",height:"24"});(0,H.qy)`
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M7.03152 18.9667C8.07902 18.9667 8.92819 18.1175 8.92819 17.07C8.92819 16.0225 8.07902 15.1733 7.03152 15.1733C5.98402 15.1733 5.13485 16.0225 5.13485 17.07C5.13485 18.1175 5.98402 18.9667 7.03152 18.9667ZM7.03152 20.2667C8.79699 20.2667 10.2282 18.8355 10.2282 17.07C10.2282 15.3045 8.79699 13.8733 7.03152 13.8733C5.26605 13.8733 3.83485 15.3045 3.83485 17.07C3.83485 18.8355 5.26605 20.2667 7.03152 20.2667Z"
      fill="currentColor"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M4.75714 19.6175C4.75714 19.3949 4.81661 19.145 4.93113 18.856C5.02405 18.6215 5.30218 18.5315 5.52776 18.6442C5.75334 18.757 5.83848 19.0293 5.75223 19.2663C5.68785 19.4432 5.67047 19.5529 5.67047 19.6175C5.67047 19.6727 5.67683 19.6824 5.71909 19.7205C5.74837 19.7468 5.77881 19.7695 5.82813 19.8062C5.8416 19.8162 5.85647 19.8273 5.87312 19.8398C5.94101 19.8907 6.03269 19.9615 6.119 20.0543C6.31218 20.2619 6.44109 20.5388 6.44109 20.9276C6.44109 21.3166 6.3093 21.6272 6.02789 21.8443C5.80114 22.0192 5.50339 22.1052 5.27045 22.1724C5.26524 22.1739 5.26006 22.1754 5.25492 22.1769C5.24264 22.1804 5.23031 22.184 5.21794 22.1876C4.8171 22.3032 4.37177 22.4316 3.91148 22.7773C3.70983 22.9288 3.42276 22.9326 3.24443 22.7542C3.06609 22.5759 3.06453 22.2842 3.26124 22.1263C3.89506 21.6177 4.50962 21.4409 4.94956 21.3144C4.96714 21.3093 4.98443 21.3044 5.00143 21.2994C5.28007 21.2189 5.40217 21.1735 5.47003 21.1211C5.471 21.1204 5.47202 21.1196 5.47311 21.1188C5.49238 21.1045 5.52776 21.0781 5.52776 20.9276C5.52776 20.7684 5.48543 20.7141 5.45027 20.6763C5.42241 20.6464 5.38566 20.6159 5.32511 20.5705C5.31683 20.5642 5.30753 20.5574 5.29743 20.5499C5.24552 20.5114 5.17247 20.4573 5.1081 20.3994C4.92203 20.2319 4.75714 19.9905 4.75714 19.6175Z"
      fill="currentColor"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M12.2086 12.6149C11.9968 11.7531 12.903 11.0458 13.6876 11.4606L22.0945 15.905C22.9737 16.3698 22.7465 17.6876 21.7625 17.8313L17.8897 18.3968C17.8383 18.4043 17.7946 18.4384 17.7749 18.4867L16.3978 21.8656C16.0219 22.7881 14.685 22.6903 14.4473 21.7229L12.2086 12.6149ZM13.2757 12.2397C13.1636 12.1804 13.0342 12.2815 13.0644 12.4046L15.3031 21.5126C15.3371 21.6508 15.528 21.6648 15.5817 21.533L16.9588 18.1541C17.0963 17.8167 17.402 17.5773 17.7624 17.5247L21.6352 16.9593C21.7758 16.9388 21.8082 16.7505 21.6826 16.6841L13.2757 12.2397Z"
      fill="currentColor"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M19.1489 14.9806C20.1975 13.7474 20.8015 12.2466 20.8015 10.6767C20.8015 6.775 17.0709 3.3 12.0549 3.3C7.03878 3.3 3.30818 6.775 3.30818 10.6767C3.30818 12.1636 3.85 13.5886 4.7983 14.7828C4.47298 15.1005 4.21518 15.4871 4.04843 15.9189C2.76805 14.4626 2.00818 12.6463 2.00818 10.6767C2.00818 5.88468 6.50623 2 12.0549 2C17.6035 2 22.1015 5.88468 22.1015 10.6767C22.1015 12.4784 21.4656 14.1519 20.3771 15.5389L19.1489 14.9806ZM13.9695 17.8785C13.3575 17.9927 12.7174 18.0534 12.0549 18.0534C11.3871 18.0534 10.7422 17.9918 10.1258 17.8758C10.0103 18.3206 9.80141 18.7278 9.52133 19.0751C10.3307 19.2567 11.1797 19.3533 12.0549 19.3533C12.8212 19.3533 13.5675 19.2793 14.2846 19.1389L13.9695 17.8785Z"
      fill="currentColor"
    />
  </svg>
`,(0,H.qy)`
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M12.1538 12.3949C11.9419 11.533 12.8482 10.8257 13.6328 11.2405L22.0397 15.6849C22.9188 16.1497 22.6917 17.4676 21.7077 17.6112L17.8349 18.1767C17.7834 18.1842 17.7397 18.2184 17.7201 18.2666L16.343 21.6455C15.967 22.568 14.6302 22.4703 14.3924 21.5029L12.1538 12.3949ZM13.2209 12.0196C13.1088 11.9604 12.9793 12.0614 13.0096 12.1845L15.2482 21.2926C15.2822 21.4308 15.4732 21.4447 15.5269 21.3129L16.9039 17.934C17.0414 17.5967 17.3471 17.3573 17.7076 17.3047L21.5804 16.7393C21.7209 16.7187 21.7534 16.5304 21.6278 16.4641L13.2209 12.0196Z"
      fill="currentColor"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M9.11 18.9667C10.1575 18.9667 11.0067 18.1175 11.0067 17.07C11.0067 16.0225 10.1575 15.1733 9.11 15.1733C8.0625 15.1733 7.21333 16.0225 7.21333 17.07C7.21333 18.1175 8.0625 18.9667 9.11 18.9667ZM9.11 20.2667C10.8755 20.2667 12.3067 18.8355 12.3067 17.07C12.3067 15.3045 10.8755 13.8733 9.11 13.8733C7.34453 13.8733 5.91333 15.3045 5.91333 17.07C5.91333 18.8355 7.34453 20.2667 9.11 20.2667Z"
      fill="currentColor"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M20.15 1.78546V12.8479L18.2895 14.0882L17.0275 13.3671L18.85 12.1521V4.21453L10.565 9.7379L3.78505 6.77169L7.24943 14.4703C6.85977 14.7497 6.5355 15.1145 6.30404 15.5374L1.21497 4.22831L10.4351 8.26209L20.15 1.78546ZM12.0942 18.2184L13.8336 17.0588L13.443 15.7568L12.2635 16.5431C12.2919 16.7146 12.3067 16.8905 12.3067 17.07C12.3067 17.4748 12.2315 17.862 12.0942 18.2184Z"
      fill="currentColor"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M6.83562 19.6175C6.83562 19.3949 6.89509 19.145 7.00962 18.856C7.10254 18.6215 7.38066 18.5314 7.60625 18.6442C7.83183 18.757 7.91697 19.0293 7.83072 19.2663C7.76634 19.4432 7.74896 19.5529 7.74896 19.6175C7.74896 19.6726 7.75531 19.6824 7.79757 19.7204C7.82686 19.7468 7.8573 19.7695 7.90662 19.8062C7.92009 19.8162 7.93496 19.8273 7.9516 19.8398C8.0195 19.8907 8.11118 19.9615 8.19749 20.0542C8.39066 20.2619 8.51958 20.5387 8.51958 20.9276C8.51958 21.3165 8.38779 21.6272 8.10638 21.8443C7.87962 22.0192 7.58188 22.1051 7.34894 22.1724C7.34373 22.1739 7.33855 22.1754 7.33341 22.1769C7.32112 22.1804 7.3088 22.184 7.29643 22.1875C6.89559 22.3031 6.45026 22.4316 5.98997 22.7773C5.78832 22.9288 5.50125 22.9326 5.32291 22.7542C5.14457 22.5759 5.14302 22.2841 5.33973 22.1263C5.97355 21.6177 6.58811 21.4409 7.02805 21.3144C7.04562 21.3093 7.06292 21.3043 7.07992 21.2994C7.35856 21.2189 7.48065 21.1735 7.54851 21.1211C7.54948 21.1204 7.55051 21.1196 7.55159 21.1188C7.57087 21.1044 7.60625 21.0781 7.60625 20.9276C7.60625 20.7684 7.56391 20.7141 7.52876 20.6763C7.5009 20.6464 7.46415 20.6158 7.4036 20.5704C7.39532 20.5642 7.38602 20.5573 7.37592 20.5498C7.324 20.5114 7.25095 20.4573 7.18659 20.3993C7.00052 20.2319 6.83562 19.9905 6.83562 19.6175Z"
      fill="currentColor"
    />
  </svg>
`,ed.xfq({width:"20",height:"20"});let eu=ed.qUP({width:"24",height:"24"}),ep=ed.nFg({width:"20",height:"20"}),ef=ed.CIh({width:"24",height:"24"}),eg=ed.Uhd({width:"24",height:"24"}),em=ed.cFS({width:"24",height:"24"}),ev=ed.N0f({width:"24",height:"24"}),ey=ed.O4E({width:"24",height:"24"}),eb=ed.JmJ({width:"24",height:"24"}),ew=ed.EIO({width:"24",height:"24"}),ex=ed.eoT({width:"20",height:"20"}),e_=ed.Zes({width:"24",height:"24"}),eC=ed.ws({width:"20",height:"20"}),ek=ed.BfH({width:"24",height:"24"}),eS=ed.cEz({width:"16",height:"16"}),eM=ed.c11({width:"24",height:"24"});ed.xfq({width:"24",height:"24"});let eE=ed.xfq({width:"20",height:"20"}),eI=ed.cFy({width:"20",height:"20"}),eB=ed.rZj({width:"24",height:"24"}),e$=ed.jNf({width:"24",height:"24"}),eT=ed.dHM({width:"20",height:"20"}),eO=ed.YlR({width:"20",height:"20"}),eP=ed.e9L({width:"20",height:"20"}),eA=ed.o7e({width:"20",height:"20"}),eH=ed.EW9({width:"20",height:"20"}),eL=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M2.45993 3.83639C2.64271 3.81446 2.80866 3.94487 2.83059 4.12765C2.92285 4.89681 3.01537 5.61006 3.10321 6.28727C3.55933 9.80379 3.88941 12.3486 3.40424 16.7043C3.38386 16.8872 3.21901 17.019 3.03605 16.9986C2.85309 16.9783 2.72129 16.8134 2.74167 16.6304C3.21749 12.3587 2.89776 9.89136 2.44329 6.38415C2.3552 5.70441 2.26206 4.98561 2.16867 4.20705C2.14674 4.02427 2.27714 3.85832 2.45993 3.83639Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M14.6788 16.6731C13.5378 16.6615 12.1261 16.6616 11.0279 16.7078C9.45128 16.7741 7.43455 16.9812 5.80651 17.1726C4.99366 17.2682 4.27987 17.3596 3.76935 17.4271C3.51411 17.4609 3.30974 17.4887 3.16929 17.508L3.00817 17.5303L2.95355 17.538L2.90588 17.2081L2.85912 16.878L2.91585 16.8701L3.07845 16.8475C3.21994 16.8281 3.42545 16.8001 3.68194 16.7662C4.19488 16.6984 4.91194 16.6066 5.72866 16.5105C7.35976 16.3187 9.39704 16.1091 10.9999 16.0417C12.1163 15.9947 13.5424 15.9948 14.6856 16.0065C15.258 16.0123 15.761 16.0211 16.1209 16.0284C16.3009 16.032 16.4451 16.0353 16.5445 16.0377L16.6586 16.0405L16.6978 16.0415L16.6895 16.3747L16.6805 16.708L16.6416 16.7069L16.5285 16.7042C16.4299 16.7018 16.2865 16.6985 16.1074 16.6949C15.7492 16.6876 15.2485 16.6789 14.6788 16.6731ZM17.0228 16.3837C17.0178 16.5677 16.8646 16.7129 16.6805 16.708L16.6895 16.3747L16.6978 16.0415C16.8819 16.0465 17.0277 16.1997 17.0228 16.3837ZM2.57586 17.2549C2.54999 17.0727 2.67685 16.9039 2.85912 16.878L2.90588 17.2081L2.95355 17.538C2.77128 17.5639 2.60173 17.4372 2.57586 17.2549Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M16.2785 3.00004C16.4626 2.99705 16.6142 3.14384 16.6172 3.32791L16.2839 3.33333L15.9506 3.33875C15.9476 3.15468 16.0944 3.00304 16.2785 3.00004ZM15.8785 17.5L15.5461 17.4759L15.5604 17.2746C15.5695 17.1442 15.5827 16.9546 15.5988 16.7179C15.631 16.2445 15.6746 15.5827 15.7206 14.8294C15.8126 13.3217 15.9136 11.4516 15.9507 9.99154C15.9836 8.69575 15.9836 7.03343 15.9754 5.69274C15.9712 5.02289 15.9651 4.43425 15.9599 4.01309C15.9573 3.80252 15.955 3.63385 15.9533 3.51786L15.9506 3.33875L16.2839 3.33333L16.6172 3.32791L16.6199 3.50823C16.6216 3.62466 16.6239 3.79382 16.6265 4.00493C16.6317 4.42711 16.6379 5.01714 16.642 5.68864C16.6503 7.03063 16.6503 8.70165 16.6171 10.0085C16.5797 11.4809 16.4781 13.3608 16.386 14.87C16.3399 15.6251 16.2962 16.2885 16.2639 16.7631C16.2478 17.0004 16.2346 17.1905 16.2254 17.3214L16.211 17.5232L15.8785 17.5ZM15.8785 17.5L15.5461 17.4759C15.5327 17.6595 15.6708 17.8192 15.8544 17.8325C16.038 17.8458 16.1977 17.7077 16.211 17.5241L15.8785 17.5Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M17.8222 4.25378L17.8204 4.26045L17.8149 4.2812L17.7936 4.36248C17.7751 4.43352 17.7485 4.53713 17.7161 4.66674C17.6512 4.92604 17.5634 5.28896 17.4713 5.70299C17.2862 6.53525 17.0878 7.55848 17.0216 8.36138C16.9302 9.47192 16.9847 10.3393 17.0561 11.223C17.0633 11.3116 17.0706 11.4004 17.078 11.4898C17.1443 12.2918 17.2137 13.1322 17.1847 14.1766C17.1687 14.7528 17.1279 15.4868 17.0913 16.0741C17.073 16.3683 17.0556 16.6267 17.0429 16.8116C17.0365 16.9041 17.0312 16.9782 17.0276 17.0292L17.0219 17.1081L16.6894 17.084L16.357 17.0596L16.3626 16.9817C16.3662 16.9312 16.3714 16.8576 16.3778 16.7657C16.3905 16.5819 16.4077 16.325 16.4259 16.0326C16.4624 15.4467 16.5027 14.7223 16.5183 14.1581C16.5462 13.1522 16.4798 12.3467 16.4135 11.5437C16.4062 11.4547 16.3988 11.3658 16.3916 11.2767C16.3193 10.3821 16.2613 9.47185 16.3572 8.30666C16.4273 7.45607 16.6342 6.39597 16.8205 5.55827C16.9141 5.13732 17.0034 4.7686 17.0693 4.50502C17.1023 4.37318 17.1294 4.26753 17.1484 4.19467L17.1704 4.11077L17.1762 4.08879L17.1781 4.08154C17.2259 3.90374 17.4089 3.79769 17.5867 3.84542C17.7645 3.89315 17.8699 4.07598 17.8222 4.25378ZM16.6894 17.084L16.357 17.0596C16.3435 17.2432 16.4814 17.403 16.665 17.4165C16.8486 17.4299 17.0084 17.2917 17.0219 17.1081L16.6894 17.084Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M2.17283 3.02528C2.20726 2.84434 2.38177 2.72526 2.5626 2.75931L2.50025 3.08692L2.43789 3.41454C2.25707 3.38049 2.13839 3.20622 2.17283 3.02528ZM16.7595 4.58093L16.7545 4.91426L16.7174 4.91377L16.6111 4.91221C16.5186 4.9108 16.3842 4.9086 16.2166 4.90547C15.8815 4.89921 15.4131 4.88922 14.8802 4.87428C13.8159 4.84446 12.4887 4.79477 11.451 4.71525C9.67135 4.57888 7.41581 4.25301 5.61119 3.96257C4.70758 3.81715 3.91464 3.68021 3.34754 3.57961C3.06396 3.52931 2.83678 3.48809 2.68039 3.45942C2.60219 3.44508 2.54168 3.43388 2.50067 3.42626L2.43789 3.41454C2.43784 3.41453 2.43789 3.41454 2.50025 3.08692L2.5626 2.75931L2.62388 2.77075C2.66438 2.77828 2.72434 2.78937 2.80196 2.80361C2.95722 2.83207 3.18314 2.87307 3.46534 2.92312C4.0298 3.02325 4.81916 3.15957 5.7185 3.30431C7.51977 3.59421 9.75269 3.91632 11.5034 4.05047C12.5242 4.1287 13.8381 4.17805 14.9003 4.20782C15.4307 4.22268 15.8969 4.23263 16.2305 4.23886C16.3973 4.24197 16.5309 4.24416 16.6228 4.24556L16.7281 4.24711L16.7638 4.24758L16.7595 4.58093ZM16.7595 4.58093L16.7545 4.91426C16.9386 4.91657 17.09 4.76919 17.0927 4.5851C17.0954 4.401 16.9479 4.24989 16.7638 4.24758L16.7595 4.58093Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5.28443 2.99528C6.67178 2.78395 8.41647 2.57209 9.79924 2.58239C11.1018 2.59209 12.7438 2.80384 14.0493 3.01027C14.7044 3.11385 15.2791 3.21681 15.6901 3.29389C15.8957 3.33244 16.0604 3.36454 16.174 3.38705C16.2308 3.3983 16.2747 3.40715 16.3046 3.41322L16.3387 3.42017L16.3499 3.42246C16.3499 3.42247 16.3508 3.42264 16.2832 3.74905L16.2156 4.07546L16.2049 4.07326L16.1721 4.06658C16.1432 4.06071 16.1001 4.05205 16.0444 4.041C15.9328 4.01889 15.7703 3.98723 15.5672 3.94914C15.1609 3.87294 14.5926 3.77113 13.9452 3.66876C12.6456 3.46327 11.0445 3.25835 9.79428 3.24904C8.46713 3.23916 6.7659 3.44397 5.38482 3.65435C4.69677 3.75916 4.09275 3.86462 3.66085 3.94386C3.44495 3.98348 3.2722 4.01651 3.15363 4.0396C3.09434 4.05115 3.04861 4.0602 3.01781 4.06635L2.98298 4.07334L2.97218 4.07553L2.90493 3.74905C2.83827 3.42245 2.83831 3.42244 2.83836 3.42243L2.85104 3.41986L2.8873 3.41259C2.91908 3.40624 2.96584 3.39698 3.0262 3.38523C3.1469 3.36172 3.32204 3.32823 3.54054 3.28814C3.97744 3.20798 4.58826 3.10133 5.28443 2.99528ZM2.90493 3.74905L2.83836 3.42243C2.65798 3.45925 2.54151 3.63533 2.57833 3.81571C2.61514 3.99608 2.7918 4.11234 2.97218 4.07553L2.90493 3.74905ZM16.6096 3.81662C16.5723 3.99689 16.3959 4.11278 16.2156 4.07546L16.2832 3.74905L16.3508 3.42264C16.531 3.45996 16.6469 3.63635 16.6096 3.81662Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M3.28464 4.25107C3.46815 4.23644 3.62878 4.37334 3.64341 4.55685L3.31113 4.58335L2.97886 4.60985C2.96422 4.42634 3.10112 4.26571 3.28464 4.25107ZM4.12194 17.0834L3.78903 17.1002L3.77925 16.9095C3.77288 16.7861 3.76358 16.6067 3.75184 16.3828C3.72836 15.9349 3.69511 15.3089 3.65607 14.5966C3.57795 13.1716 3.47669 11.4024 3.38395 10.0224C3.31295 8.96574 3.2117 7.61287 3.12814 6.52347C3.08637 5.97892 3.04905 5.50047 3.02217 5.15816L2.97886 4.60985L3.31113 4.58335L3.64341 4.55685L3.68679 5.10597C3.71369 5.44858 3.75105 5.92744 3.79285 6.47249C3.87644 7.56228 3.97789 8.91775 4.04912 9.97767C4.14215 11.362 4.24359 13.1346 4.32174 14.5601C4.36082 15.2731 4.39409 15.8996 4.41759 16.3479C4.42935 16.572 4.43866 16.7516 4.44503 16.8752L4.4548 17.0656L4.12194 17.0834ZM4.12194 17.0834L3.78903 17.1002C3.79838 17.2841 3.95501 17.4256 4.13887 17.4163C4.32272 17.4069 4.46415 17.2495 4.4548 17.0656L4.12194 17.0834Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5.60257 16.7254C6.90834 16.7169 8.53454 16.7169 9.80648 16.751C11.2396 16.7895 13.0691 16.894 14.5375 16.9886C15.2723 17.036 15.9178 17.0809 16.3797 17.1141C16.6106 17.1306 16.7956 17.1442 16.923 17.1537L17.1194 17.1685L17.0948 17.5009L17.0693 17.8333L16.8735 17.8185C16.7467 17.8091 16.5623 17.7956 16.332 17.779C15.8714 17.746 15.2275 17.7011 14.4947 17.6539C13.0278 17.5594 11.2086 17.4555 9.78861 17.4174C8.52831 17.3836 6.91129 17.3836 5.60691 17.3921C4.95524 17.3963 4.38257 17.4027 3.97284 17.408C3.76798 17.4106 3.60389 17.413 3.49105 17.4147L3.31753 17.4175L3.31112 17.0842L3.30545 16.7509L3.48089 16.7481C3.59419 16.7464 3.7588 16.744 3.96421 16.7414C4.37503 16.7361 4.94916 16.7297 5.60257 16.7254ZM3.31112 17.0842L3.30545 16.7509C3.12138 16.7541 2.97467 16.9059 2.97783 17.09C2.981 17.274 3.13346 17.4207 3.31753 17.4175L3.31112 17.0842ZM17.4271 17.5263C17.4131 17.7099 17.2529 17.8473 17.0693 17.8333L17.0948 17.5009L17.1202 17.1685C17.3038 17.1826 17.4412 17.3428 17.4271 17.5263Z"
  />
</svg>`,eD=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.55739 3.93568C7.46902 0.8947 12.2002 1.1564 15.2608 3.91876C16.5142 5.04996 17.2816 6.49066 17.5878 8.01768C18.0083 8.94994 18.234 9.92054 18.249 10.8891C18.2779 12.7636 17.5162 14.6002 15.9043 16.0977C14.392 17.5028 12.5814 18.2375 10.7098 18.2491C9.97219 18.2537 9.22899 18.146 8.49453 17.9255C6.64295 17.767 4.87334 16.9658 3.58343 15.4367C1.676 13.1755 1.2832 10.344 2.28148 7.79433C2.57576 6.38916 3.46976 5.07164 4.55739 3.93568ZM2.42485 10.2275C2.34071 11.9006 2.88716 13.5774 4.093 15.0069C4.3286 15.2861 4.5828 15.5389 4.85254 15.7656C3.68056 14.5772 3.28103 13.0713 3.22018 11.7016C3.04507 11.4605 2.8826 11.214 2.75731 10.9819C2.62124 10.7297 2.51108 10.4781 2.42485 10.2275ZM3.2485 10.4782C2.84526 9.64052 2.76482 8.80019 2.9267 7.97457C3.20512 7.28242 3.59656 6.61183 4.09876 5.98247C6.83382 2.55491 12.419 2.76331 15.4335 6.00168C16.083 6.69948 16.589 7.44767 16.9464 8.21807C17.3965 10.5743 16.656 13.1556 14.8033 14.9846C13.1298 16.6366 10.8047 17.4377 8.61442 17.265C7.6035 16.9502 6.60135 16.3988 5.65306 15.5988C4.68607 14.7829 4.20276 13.7377 4.0001 12.6734C4.13559 12.8295 4.25734 12.9645 4.35215 13.0679C4.41501 13.1364 4.46616 13.1911 4.50176 13.2288L4.54306 13.2724L4.5541 13.2839L4.55706 13.287L4.55788 13.2879C4.6857 13.4204 4.8971 13.4246 5.02959 13.2967C5.16207 13.1689 5.16587 12.9579 5.03807 12.8254C5.03807 12.8254 5.03808 12.8254 5.03807 12.8254L5.03746 12.8248L5.03511 12.8224L5.02535 12.8121L4.98676 12.7714C4.95304 12.7357 4.90399 12.6832 4.84339 12.6172C4.7221 12.485 4.55505 12.2989 4.3723 12.0836C4.21091 11.8934 4.04049 11.6842 3.87965 11.4717C3.87539 11.2461 3.88058 11.0233 3.89318 10.8054C3.9396 10.0027 4.08633 9.28214 4.22199 8.76145C4.2897 8.50157 4.35434 8.29272 4.40167 8.14979C4.42533 8.07836 4.44464 8.02349 4.45781 7.98704C4.4644 7.96882 4.46945 7.95521 4.47274 7.94645L4.47632 7.93698L4.47707 7.93503C4.47705 7.93508 4.47709 7.93498 4.47707 7.93503C4.47705 7.9351 4.4771 7.93496 4.16643 7.81414M12.2502 17.3881C13.3911 17.104 14.4816 16.5096 15.4506 15.6093C16.8479 14.3111 17.5284 12.7623 17.5799 11.1863C17.2636 12.7577 16.4855 14.2608 15.2717 15.459C14.4028 16.3168 13.3632 16.9667 12.2502 17.3881ZM15.4936 5.12111C12.8787 2.70257 8.80143 2.11296 5.76705 3.74252C8.4055 1.71255 12.2223 2.07439 14.8142 4.41366C15.0612 4.63662 15.2876 4.87313 15.4936 5.12111Z"
  />
</svg>`,eZ=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M11.1077 1.89441C11.212 2.04607 11.1737 2.25361 11.022 2.35797L11.0139 2.36353L10.9891 2.38073C10.9672 2.39597 10.9346 2.41866 10.8925 2.44821C10.8083 2.50731 10.686 2.59381 10.5341 2.70295C10.2302 2.9213 9.80858 3.22993 9.33796 3.59077C8.39262 4.31558 7.26483 5.23952 6.49268 6.06158C5.75373 6.84829 4.9324 7.97618 4.29023 8.91779C3.97053 9.38655 3.69777 9.80539 3.50499 10.1069C3.40863 10.2577 3.33233 10.379 3.28022 10.4625C3.25417 10.5042 3.23417 10.5364 3.22074 10.5582L3.20559 10.5827L3.20093 10.5903C3.10482 10.7473 2.89938 10.7971 2.74236 10.701C2.58535 10.6049 2.53598 10.3997 2.63209 10.2427L2.63771 10.2335L2.65361 10.2077C2.66756 10.1852 2.6881 10.152 2.71472 10.1094C2.76796 10.0241 2.84553 9.90079 2.94329 9.74786C3.13876 9.4421 3.41522 9.01758 3.73945 8.54216C4.38514 7.5954 5.23047 6.43162 6.00676 5.60515C6.81794 4.74154 7.98182 3.79048 8.93232 3.06171C9.40961 2.69576 9.83695 2.38295 10.1451 2.16156C10.2992 2.05083 10.4235 1.96289 10.5096 1.90251C10.5526 1.87232 10.586 1.84901 10.6088 1.83319L10.6349 1.81514L10.6434 1.80924C10.6434 1.80921 10.6441 1.80876 10.8331 2.08336L10.6441 1.80876C10.7958 1.7044 11.0033 1.74275 11.1077 1.89441Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M1.82582 10.6214C1.94287 10.4793 2.15295 10.459 2.29504 10.5761L2.0831 10.8333L1.87116 11.0906C1.72907 10.9736 1.70877 10.7635 1.82582 10.6214ZM9.16643 17.9167L8.90914 18.1286L8.88737 18.1022L8.82364 18.0254C8.768 17.9584 8.68686 17.8611 8.58513 17.7399C8.38164 17.4975 8.09589 17.1598 7.76706 16.7791C7.1079 16.0159 6.28112 15.0861 5.5974 14.4024C4.91367 13.7187 3.98383 12.8919 3.22065 12.2327C2.83993 11.9039 2.5023 11.6181 2.25988 11.4146C2.1387 11.3129 2.04135 11.2318 1.97438 11.1761L1.89753 11.1124L1.87116 11.0906L2.0831 10.8333L2.29504 10.5761L2.32245 10.5987L2.40042 10.6634C2.46817 10.7197 2.56638 10.8015 2.68852 10.904C2.93274 11.1091 3.27283 11.3969 3.65642 11.7282C4.42187 12.3893 5.36702 13.2292 6.0688 13.931C6.77058 14.6328 7.61046 15.5779 8.27159 16.3434C8.60291 16.7269 8.89072 17.067 9.09574 17.3113C9.19826 17.4334 9.28012 17.5316 9.33641 17.5993L9.40107 17.6773L9.4233 17.7042L9.16643 17.9167ZM9.16643 17.9167L8.90914 18.1286C9.0262 18.2707 9.23628 18.291 9.37837 18.174C9.52046 18.0569 9.54035 17.8463 9.4233 17.7042L9.16643 17.9167Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M17.6976 10.1657C17.8365 10.045 18.0471 10.0597 18.1678 10.1987C18.2886 10.3376 18.2739 10.5481 18.1349 10.6689L17.9162 10.4173L17.6976 10.1657ZM9.99958 17.9173L9.76008 17.6855L9.86002 17.5825C9.9246 17.516 10.0185 17.4195 10.1358 17.2992C10.3704 17.0587 10.6989 16.7232 11.0744 16.343C11.8247 15.5834 12.7652 14.6428 13.52 13.9257C14.3177 13.1677 15.3629 12.2271 16.2067 11.4776C16.629 11.1026 17.0016 10.7747 17.2686 10.5406C17.4022 10.4235 17.5093 10.3299 17.5831 10.2654L17.6976 10.1657L17.9162 10.4173L18.1349 10.6689L18.0215 10.7678C17.948 10.8319 17.8412 10.9252 17.7081 11.0419C17.4419 11.2753 17.0704 11.6022 16.6494 11.9761C15.8066 12.7246 14.7684 13.6591 13.9792 14.409C13.2325 15.1184 12.2981 16.0528 11.5487 16.8115C11.1744 17.1905 10.8469 17.525 10.613 17.7648C10.496 17.8846 10.4025 17.9808 10.3382 18.047L10.2395 18.1487L9.99958 17.9173ZM9.99958 17.9173L9.76008 17.6855C9.63205 17.8178 9.63548 18.0288 9.76777 18.1569C9.90005 18.2849 10.1115 18.281 10.2395 18.1487L9.99958 17.9173Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M8.86605 1.93879C8.94592 1.77293 9.14513 1.70321 9.31099 1.78308L9.16638 2.08341C9.31099 1.78308 9.31095 1.78306 9.31099 1.78308L9.31301 1.78405L9.31817 1.78655L9.33763 1.79603C9.35457 1.80431 9.37932 1.81647 9.41107 1.83223C9.47457 1.86376 9.56614 1.90976 9.67943 1.9681C9.90588 2.08472 10.2198 2.251 10.57 2.44996C11.2644 2.84444 12.1242 3.37987 12.7228 3.91908C13.7803 4.87171 14.411 5.77009 15.1185 6.77795C15.4184 7.20516 15.7321 7.65205 16.0979 8.13108C16.36 8.47421 16.6824 9.01299 16.9328 9.45249C17.0596 9.67498 17.1707 9.87686 17.2501 10.0231C17.2898 10.0963 17.3217 10.1556 17.3437 10.1968L17.369 10.2444L17.3756 10.257L17.3778 10.2611C17.4636 10.4241 17.4012 10.626 17.2383 10.7117C17.0754 10.7975 16.8738 10.7349 16.7881 10.572C16.7881 10.572 16.7881 10.572 16.7881 10.572L16.7861 10.5682L16.7799 10.5565L16.7555 10.5107C16.7342 10.4708 16.7031 10.4128 16.6642 10.3412C16.5864 10.1978 16.4776 10.0001 16.3536 9.78259C16.1026 9.34207 15.7999 8.83917 15.5681 8.53574C15.1665 8.00993 14.837 7.54007 14.5307 7.10341C13.845 6.12584 13.2759 5.31463 12.2766 4.41441C11.7346 3.92618 10.9278 3.41994 10.2407 3.02962C9.90015 2.83617 9.59455 2.67427 9.37421 2.56079C9.2641 2.50409 9.17545 2.45957 9.11458 2.42934C9.08414 2.41423 9.06066 2.4027 9.04493 2.39501L9.02723 2.38639L9.02293 2.3843L9.02195 2.38383C9.02194 2.38383 9.02196 2.38383 9.02195 2.38383C8.8561 2.30395 8.78618 2.10465 8.86605 1.93879Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M10.1351 1.77876C10.3033 1.85355 10.379 2.05054 10.3042 2.21876L9.99966 2.08335C10.3042 2.21876 10.3043 2.21867 10.3042 2.21876L10.3038 2.21976L10.303 2.22152L10.3004 2.2273L10.291 2.24778C10.2828 2.26534 10.2709 2.29066 10.255 2.32333C10.2233 2.38866 10.1759 2.48339 10.1117 2.60425C9.9834 2.84595 9.78793 3.19226 9.51656 3.61699C8.97388 4.46634 8.12722 5.63001 6.90645 6.89788C5.76129 8.08722 4.70343 8.93382 3.92952 9.48433C3.54251 9.75963 3.22631 9.96102 3.00544 10.0943C2.89499 10.161 2.80836 10.2106 2.7486 10.244C2.71871 10.2607 2.69555 10.2733 2.67948 10.2819L2.66074 10.2919L2.65545 10.2947L2.65384 10.2955L2.65309 10.2959C2.65301 10.296 2.65293 10.296 2.49966 10L2.65309 10.2959C2.48961 10.3806 2.2883 10.3168 2.20366 10.1533C2.11903 9.98984 2.18288 9.78875 2.34627 9.70407C2.34623 9.70409 2.34631 9.70405 2.34627 9.70407L2.34968 9.70228L2.36383 9.69474C2.37682 9.68775 2.39686 9.67685 2.42359 9.66193C2.47703 9.63209 2.55716 9.5862 2.66095 9.52356C2.86854 9.39827 3.17066 9.206 3.54309 8.94108C4.28804 8.41117 5.31352 7.5911 6.42621 6.43548C7.61256 5.20335 8.43257 4.07535 8.95477 3.25804C9.21585 2.84943 9.40237 2.51866 9.52292 2.29161C9.5832 2.1781 9.62696 2.09053 9.6553 2.03217C9.66947 2.00298 9.67978 1.9811 9.68636 1.96693L9.69346 1.9515L9.69495 1.94821C9.76978 1.78008 9.9669 1.70399 10.1351 1.77876Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M2.20044 11.1035C2.28101 10.938 2.48051 10.8691 2.64604 10.9497L2.65448 10.9538L2.67799 10.9654C2.69853 10.9755 2.72864 10.9904 2.76738 11.0097C2.84485 11.0484 2.95685 11.1047 3.09572 11.176C3.37337 11.3186 3.75901 11.5212 4.19138 11.7614C5.05137 12.2392 6.11398 12.8756 6.87603 13.4899C7.75522 14.1987 8.71011 15.2618 9.43707 16.1347C9.80256 16.5736 10.1142 16.969 10.3345 17.2547C10.4447 17.3977 10.5322 17.5133 10.5923 17.5934C10.6223 17.6335 10.6455 17.6647 10.6613 17.686L10.6793 17.7104L10.684 17.7167L10.6852 17.7184C10.6853 17.7185 10.6857 17.7191 10.4168 17.9161L10.6857 17.7191C10.7945 17.8676 10.7623 18.0762 10.6138 18.185C10.4653 18.2938 10.2567 18.2616 10.1479 18.1131C10.1479 18.1131 10.1479 18.1131 10.1479 18.1131L10.1425 18.1057L10.1256 18.0828C10.1105 18.0625 10.0881 18.0324 10.0589 17.9934C10.0004 17.9154 9.91477 17.8021 9.80657 17.6618C9.59008 17.381 9.28376 16.9924 8.92478 16.5613C8.20281 15.6944 7.2827 14.6741 6.45761 14.0089C5.74236 13.4323 4.72163 12.8186 3.86761 12.3442C3.44298 12.1083 3.06395 11.9092 2.79118 11.7691C2.65485 11.6991 2.54519 11.6439 2.46982 11.6063C2.43213 11.5875 2.40303 11.5731 2.38345 11.5635L2.36135 11.5526L2.3546 11.5493"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M11.1157 2.32268C11.1157 2.32267 11.1157 2.32268 11.1157 2.32268L11.1168 2.32437L11.1208 2.33079L11.1378 2.35749C11.1531 2.38131 11.1762 2.417 11.2067 2.46344C11.2679 2.55632 11.3589 2.69213 11.4775 2.86197C11.7147 3.20175 12.0615 3.67705 12.4984 4.21674C13.3744 5.29881 14.6027 6.6276 16.0268 7.64481C16.362 7.88419 16.7818 8.19911 17.1162 8.45286C17.2837 8.58001 17.4305 8.69231 17.5354 8.77284L17.6588 8.86774L17.7036 8.90235L17.4997 9.16606L17.2958 9.42971L17.2518 9.39574L17.1294 9.30165C17.0253 9.2217 16.8795 9.11016 16.7132 8.98393C16.3797 8.7309 15.9662 8.42081 15.6393 8.1873C14.1468 7.12119 12.8751 5.74164 11.9802 4.63621C11.5317 4.08215 11.1754 3.5939 10.9308 3.24358C10.8085 3.06837 10.714 2.92749 10.6498 2.82994C10.6177 2.78116 10.5932 2.7432 10.5765 2.71718L10.5575 2.68725L10.5524 2.67926L10.551 2.67705L10.5505 2.67619C10.5504 2.67612 10.5504 2.67606 10.8331 2.49939L10.5505 2.67619C10.4529 2.52008 10.5003 2.31429 10.6564 2.21672C10.8125 2.11917 11.0181 2.16661 11.1157 2.32268ZM17.4997 9.16606L17.2958 9.42971C17.4414 9.54235 17.6508 9.51562 17.7634 9.37001C17.876 9.22439 17.8492 9.01499 17.7036 8.90235L17.4997 9.16606Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M17.0171 9.57164C17.1434 9.43772 17.3544 9.43155 17.4883 9.55787C17.6222 9.68418 17.6284 9.89515 17.5021 10.0291L17.2596 9.80035L17.0171 9.57164ZM11.0737 17.7016L10.794 17.5203L10.8145 17.4887L10.8734 17.3985C10.9246 17.3201 10.9992 17.2065 11.0926 17.065C11.2796 16.7822 11.5424 16.388 11.8458 15.9426C12.4514 15.0538 13.2238 13.9538 13.8796 13.1278C14.459 12.3981 15.2447 11.5079 15.8823 10.8034C16.2017 10.4504 16.4852 10.1427 16.6889 9.92319C16.7908 9.81342 16.8727 9.72566 16.9292 9.66529L16.9943 9.59593L17.0171 9.57164L17.2596 9.80035L17.5021 10.0291L17.48 10.0525L17.4159 10.1209C17.36 10.1806 17.2787 10.2677 17.1776 10.3766C16.9754 10.5946 16.6938 10.9003 16.3766 11.2508C15.7408 11.9532 14.9671 12.8304 14.4017 13.5424C13.7618 14.3484 13.0007 15.4316 12.3968 16.318C12.0954 16.7603 11.8344 17.1517 11.6488 17.4326C11.556 17.573 11.4821 17.6857 11.4314 17.7633L11.3734 17.8522L11.3538 17.8824L11.0737 17.7016ZM11.0737 17.7016L10.794 17.5203C10.6939 17.6748 10.738 17.8813 10.8925 17.9814C11.047 18.0814 11.2537 18.0369 11.3538 17.8824L11.0737 17.7016Z"
  />
</svg>`,ej=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M10.1042 1.55591C10.2801 1.61017 10.3787 1.79676 10.3245 1.97268L10.0059 1.87444L9.6874 1.7762C9.74166 1.60028 9.92825 1.50165 10.1042 1.55591ZM2.92782 15.5656L2.66613 15.3592L2.67298 15.3505L2.69374 15.324C2.71206 15.3007 2.7392 15.2659 2.77423 15.2209C2.84431 15.1308 2.94597 14.9995 3.07196 14.8347C3.32399 14.5053 3.6731 14.0427 4.0612 13.5107C4.83961 12.4437 5.76667 11.1085 6.38444 10.0089C7.22603 8.51089 8.05125 6.4576 8.66899 4.76689C8.97699 3.92394 9.23181 3.17556 9.4096 2.63803C9.49848 2.36931 9.56806 2.15343 9.61536 2.00491C9.63902 1.93066 9.65709 1.87326 9.66922 1.83453L9.68291 1.79067L9.6874 1.7762L10.0059 1.87444C10.3245 1.97268 10.3245 1.97262 10.3245 1.97268L10.3241 1.97381L10.3195 1.98852L10.3054 2.0338C10.293 2.0735 10.2746 2.13192 10.2506 2.20723C10.2026 2.35785 10.1323 2.5761 10.0425 2.84738C9.86313 3.38983 9.60604 4.14488 9.29517 4.99568C8.67521 6.69249 7.835 8.78805 6.96567 10.3354C6.32758 11.4712 5.38103 12.8327 4.59978 13.9036C4.20806 14.4406 3.85583 14.9073 3.60148 15.2398C3.47429 15.4061 3.3715 15.5389 3.30042 15.6303C3.26488 15.6759 3.23727 15.7113 3.21848 15.7352L3.19704 15.7626L3.19006 15.7714L2.92782 15.5656ZM2.92782 15.5656L2.66613 15.3592C2.55211 15.5037 2.57684 15.7133 2.72137 15.8274C2.86591 15.9414 3.07551 15.9166 3.18953 15.7721L2.92782 15.5656Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5.15809 16.0728C6.66763 16.0543 8.54993 16.0541 10.0224 16.1288C11.5853 16.2081 13.5722 16.4167 15.1634 16.6046C15.9601 16.6987 16.6596 16.7879 17.1599 16.8535C17.4101 16.8863 17.6106 16.9133 17.7486 16.932L17.9071 16.9537L17.9624 16.9614C18.1448 16.9869 18.272 17.1554 18.2465 17.3377C18.221 17.52 18.0525 17.6471 17.8702 17.6216L17.816 17.6141L17.6588 17.5926C17.5217 17.574 17.3223 17.5472 17.0732 17.5145C16.575 17.4492 15.8785 17.3604 15.0853 17.2667C13.4967 17.0791 11.5282 16.8728 9.98864 16.7947C8.53815 16.7211 6.67322 16.7209 5.16628 16.7394C4.4138 16.7487 3.7524 16.7626 3.27918 16.7741C3.04259 16.7799 2.85308 16.7851 2.72281 16.7889L2.57336 16.7933L2.52264 16.7949L2.51107 16.4618L2.50033 16.1286L2.55289 16.1269L2.70361 16.1225C2.83476 16.1187 3.02524 16.1135 3.26289 16.1077C3.73816 16.096 4.40233 16.0821 5.15809 16.0728ZM2.17791 16.4726C2.17194 16.2886 2.31633 16.1346 2.50033 16.1286L2.51107 16.4618L2.52264 16.7949C2.33865 16.8009 2.18388 16.6566 2.17791 16.4726Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M8.94721 2.04509C9.08267 1.92043 9.29354 1.92918 9.41821 2.06464L9.17293 2.29037L8.92766 2.51609C8.803 2.38063 8.81175 2.16976 8.94721 2.04509ZM17.5001 16.3965L17.1832 16.4996L17.1792 16.4874L17.1669 16.4503C17.1561 16.4175 17.14 16.3688 17.1189 16.3058C17.0767 16.1799 17.0146 15.9968 16.9356 15.7688C16.7775 15.3128 16.5516 14.6777 16.2801 13.9621C15.7356 12.5263 15.0142 10.7827 14.2952 9.50708C13.4583 8.02226 12.1209 6.27766 10.9829 4.89499C10.4157 4.20581 9.90135 3.61049 9.52889 3.18756C9.34269 2.97614 9.19206 2.80792 9.08812 2.69271C9.03616 2.63511 8.99587 2.59077 8.96866 2.56093L8.93783 2.52718L8.92766 2.51609L9.17293 2.29037C9.41821 2.06464 9.41816 2.06459 9.41821 2.06464L9.42942 2.07686L9.46134 2.1118C9.48929 2.14246 9.53035 2.18765 9.58312 2.24614C9.68866 2.36312 9.84107 2.53334 10.0292 2.74696C10.4054 3.17409 10.9247 3.77517 11.4976 4.47135C12.64 5.85938 14.0089 7.64131 14.876 9.17975C15.6209 10.5013 16.3567 12.2842 16.9035 13.7257C17.1777 14.4486 17.4059 15.0899 17.5655 15.5505C17.6454 15.7808 17.7081 15.9661 17.751 16.094C17.7724 16.158 17.7889 16.2076 17.8 16.2413L17.8127 16.2798L17.817 16.2932C17.8171 16.2932 17.8171 16.2933 17.5001 16.3965ZM17.5001 16.3965L17.1832 16.4996C17.2401 16.6747 17.4283 16.7704 17.6033 16.7134C17.7784 16.6564 17.874 16.4682 17.817 16.2932L17.5001 16.3965Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M9.73652 3.33805C9.84503 3.18934 10.0536 3.15674 10.2023 3.26525C10.351 3.37377 10.3836 3.58229 10.2751 3.731L10.0058 3.53453L9.73652 3.33805ZM3.76041 15.5662L3.44364 15.4624L3.44694 15.4524L3.4565 15.4234L3.4934 15.3123C3.52562 15.2158 3.57267 15.0759 3.63218 14.9017C3.75116 14.5534 3.92007 14.0677 4.11982 13.5182C4.51824 12.422 5.04339 11.0605 5.54203 10.0278C6.21751 8.62874 7.26905 6.95347 8.14522 5.63598C8.5845 4.97543 8.98196 4.40146 9.26965 3.99255C9.41352 3.78805 9.53001 3.62474 9.61064 3.51241C9.65096 3.45624 9.68231 3.41281 9.70364 3.38334L9.72799 3.34977L9.73652 3.33805C9.73655 3.33801 9.73652 3.33805 10.0058 3.53453L10.2751 3.731L10.2673 3.74174L10.2436 3.77428C10.2228 3.80305 10.192 3.84574 10.1522 3.90114C10.0727 4.01194 9.95745 4.17354 9.81489 4.37615C9.52974 4.78146 9.13569 5.35051 8.70034 6.00515C7.82723 7.31804 6.79698 8.96185 6.14238 10.3176C5.65914 11.3185 5.14339 12.6537 4.74638 13.7459C4.54842 14.2905 4.38098 14.772 4.26305 15.1172C4.20409 15.2898 4.15754 15.4282 4.12577 15.5234L4.0895 15.6326L4.08024 15.6606L4.07736 15.6694L3.76041 15.5662ZM3.76041 15.5662L3.44364 15.4624C3.38636 15.6374 3.48174 15.8257 3.6567 15.883C3.83166 15.9403 4.02009 15.8444 4.07736 15.6694L3.76041 15.5662Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M10.3149 2.38886C10.4893 2.32971 10.6785 2.42308 10.7377 2.59741L10.422 2.70452L10.1064 2.81163C10.0472 2.6373 10.1406 2.44802 10.3149 2.38886ZM10.422 2.70452C10.1064 2.81163 10.1064 2.81156 10.1064 2.81163L10.108 2.8163L10.1124 2.82938L10.1298 2.87998C10.1452 2.92432 10.1678 2.98953 10.1974 3.07354C10.2565 3.24157 10.3432 3.48485 10.4541 3.78682C10.6757 4.39063 10.9939 5.22977 11.3805 6.17156C12.1512 8.04929 13.2023 10.3568 14.3082 12.0168C14.83 12.7999 15.5668 13.7434 16.1684 14.486C16.4702 14.8584 16.7397 15.1824 16.9338 15.4134C17.0308 15.5289 17.1091 15.6212 17.1632 15.6847L17.2255 15.7577L17.2471 15.7829C17.3672 15.9225 17.5781 15.9387 17.7176 15.8186C17.8571 15.6985 17.8729 15.488 17.7528 15.3485L17.7476 15.3425L17.7319 15.3241L17.6708 15.2525C17.6175 15.19 17.5402 15.0988 17.4441 14.9845C17.252 14.7558 16.9851 14.435 16.6864 14.0663C16.0871 13.3267 15.3667 12.4031 14.863 11.6472C13.7957 10.0451 12.765 7.78891 11.9972 5.91841C11.6145 4.98608 11.2994 4.15499 11.0799 3.5571C10.9702 3.25822 10.8845 3.01778 10.8263 2.85229C10.7971 2.76955 10.7749 2.70557 10.76 2.6624L10.7432 2.61351L10.739 2.60126L10.7377 2.59741L10.422 2.70452Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M2.61027 17.5168C2.43001 17.5541 2.25355 17.4382 2.21619 17.2579C2.17883 17.0776 2.29468 16.9013 2.47494 16.864L2.54259 17.1904C2.47496 16.864 2.47489 16.864 2.47494 16.864L2.49141 16.8606L2.53887 16.8509C2.58054 16.8424 2.64195 16.83 2.7213 16.8142C2.87999 16.7825 3.11044 16.7372 3.3981 16.6823C3.97333 16.5726 4.77773 16.4247 5.69478 16.2721C7.52506 15.9674 9.81818 15.6413 11.634 15.5644C12.7876 15.5156 14.259 15.5457 15.4363 15.5876C16.0262 15.6086 16.5444 15.6325 16.9153 15.6513C17.1008 15.6607 17.2495 15.6688 17.3519 15.6745L17.4696 15.6812L17.5102 15.6836C17.6939 15.6947 17.8347 15.8527 17.8236 16.0365C17.8126 16.2202 17.6547 16.3602 17.4709 16.3491L17.4311 16.3467L17.3149 16.3401C17.2136 16.3344 17.0661 16.3264 16.8819 16.3171C16.5136 16.2985 15.9987 16.2746 15.4129 16.2538C14.2389 16.2121 12.7889 16.1828 11.6625 16.2305C9.88958 16.3055 7.62989 16.6259 5.80453 16.9297C4.89375 17.0813 4.09463 17.2282 3.52328 17.3372C3.23765 17.3916 3.00905 17.4366 2.85202 17.4679C2.77351 17.4836 2.71289 17.4959 2.67198 17.5042L2.62565 17.5136L2.61027 17.5168Z"
  />
</svg>`,eV=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M2.44887 6.33792C2.63082 6.30988 2.80104 6.43465 2.82908 6.61659C2.92357 7.22966 3.01845 7.79891 3.10866 8.34005C3.57794 11.1554 3.92041 13.2099 3.41887 16.7146C3.39279 16.8968 3.22391 17.0234 3.04168 16.9973C2.85944 16.9713 2.73284 16.8024 2.75892 16.6201C3.24508 13.2229 2.91967 11.2677 2.45308 8.4641C2.36247 7.91969 2.26654 7.34329 2.1702 6.71814C2.14216 6.53619 2.26692 6.36596 2.44887 6.33792Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M15.1061 16.1731C13.9651 16.1615 12.5534 16.1616 11.4552 16.2078C9.87853 16.2741 7.86179 16.4812 6.23376 16.6726C5.42091 16.7682 4.70712 16.8596 4.19659 16.9271C3.94136 16.9609 3.73699 16.9887 3.59653 17.008L3.43542 17.0303L3.38079 17.038L3.33313 16.7081L3.28636 16.378L3.34309 16.3701L3.50569 16.3475C3.64718 16.3281 3.8527 16.3001 4.10919 16.2662C4.62212 16.1984 5.33918 16.1066 6.1559 16.0105C7.787 15.8187 9.82429 15.6091 11.4272 15.5417C12.5436 15.4947 13.9697 15.4948 15.1129 15.5065C15.6853 15.5123 16.1882 15.5211 16.5482 15.5284C16.7281 15.532 16.8724 15.5353 16.9717 15.5377L17.0859 15.5405L17.1251 15.5415L17.1168 15.8747L17.1078 16.208L17.0689 16.2069L16.9558 16.2042C16.8572 16.2018 16.7137 16.1985 16.5346 16.1949C16.1764 16.1876 15.6757 16.1789 15.1061 16.1731ZM17.45 15.8837C17.445 16.0677 17.2918 16.2129 17.1078 16.208L17.1168 15.8747L17.1251 15.5415C17.3091 15.5465 17.455 15.6997 17.45 15.8837ZM3.0031 16.7549C2.97723 16.5727 3.10409 16.4039 3.28636 16.378L3.33313 16.7081L3.38079 17.038C3.19852 17.0639 3.02898 16.9372 3.0031 16.7549Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M17.4298 5.50028C17.6138 5.49278 17.769 5.63582 17.7765 5.81976L17.4434 5.83334L17.1104 5.84691C17.1029 5.66297 17.2459 5.50778 17.4298 5.50028ZM16.6664 16.6667L16.3384 16.6071L16.3454 16.5681L16.3657 16.4543C16.3832 16.355 16.4084 16.2105 16.4391 16.03C16.5006 15.6689 16.584 15.1641 16.6719 14.5896C16.848 13.4377 17.0404 12.016 17.1108 10.9102C17.1732 9.92887 17.1734 8.66525 17.1576 7.64117C17.1498 7.13036 17.1379 6.68143 17.1281 6.36026C17.1231 6.1997 17.1187 6.07114 17.1155 5.98282L17.1117 5.88158L17.1104 5.84691L17.4434 5.83334L17.7765 5.81976L17.7779 5.85588L17.7817 5.95871C17.785 6.04812 17.7894 6.17791 17.7944 6.3398C17.8044 6.66354 17.8163 7.11595 17.8242 7.63088C17.8401 8.65825 17.8403 9.94366 17.7761 10.9526C17.7037 12.0892 17.5076 13.5351 17.3309 14.6903C17.2423 15.2693 17.1583 15.7779 17.0963 16.1418C17.0654 16.3238 17.0399 16.4696 17.0222 16.5701L17.0017 16.6857L16.9945 16.7255L16.6664 16.6667ZM16.6664 16.6667L16.3384 16.6071C16.3055 16.7882 16.4257 16.9617 16.6068 16.9946C16.788 17.0275 16.9616 16.9066 16.9945 16.7255L16.6664 16.6667Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M18.6816 4.25378C18.6816 4.25378 18.6816 4.25377 18.6816 4.25378L18.6798 4.26045L18.6743 4.2812L18.653 4.36248C18.6345 4.43352 18.6079 4.53713 18.5755 4.66674C18.5106 4.92604 18.4227 5.28896 18.3307 5.70299C18.1456 6.53525 17.9471 7.55848 17.881 8.36138C17.7896 9.47192 17.8441 10.3393 17.9155 11.223C17.9227 11.3116 17.93 11.4004 17.9374 11.4898C18.0036 12.2918 18.0731 13.1322 18.0441 14.1766C18.0281 14.7528 17.9873 15.4868 17.9507 16.0741C17.9323 16.3683 17.915 16.6267 17.9022 16.8116C17.8958 16.9041 17.8906 16.9782 17.887 17.0292L17.8813 17.1081L17.5488 17.084L17.2164 17.0596L17.222 16.9817C17.2256 16.9312 17.2308 16.8576 17.2371 16.7657C17.2498 16.5819 17.2671 16.325 17.2853 16.0326C17.3218 15.4467 17.362 14.7223 17.3777 14.1581C17.4056 13.1522 17.3391 12.3467 17.2729 11.5437C17.2655 11.4547 17.2582 11.3658 17.251 11.2767C17.1787 10.3821 17.1206 9.47185 17.2166 8.30666C17.2867 7.45607 17.4936 6.39597 17.6799 5.55827C17.7735 5.13732 17.8628 4.7686 17.9287 4.50502C17.9617 4.37318 17.9888 4.26753 18.0078 4.19467L18.0298 4.11077L18.0356 4.08879L18.0375 4.08154C18.0852 3.90374 18.2682 3.79769 18.446 3.84542C18.6238 3.89315 18.7293 4.07598 18.6816 4.25378ZM17.5488 17.084L17.2164 17.0596C17.2029 17.2432 17.3408 17.403 17.5244 17.4165C17.708 17.4299 17.8678 17.2917 17.8813 17.1081L17.5488 17.084Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M3.83426 4.14247C3.84818 3.95882 4.00824 3.82092 4.19176 3.83446L4.16655 4.16698L4.14133 4.49951C3.95782 4.48597 3.82033 4.32611 3.83426 4.14247ZM4.16655 4.16698L4.14133 4.49951L4.18765 4.50286L4.32 4.5122C4.43514 4.5202 4.60234 4.53155 4.81097 4.54497C5.22818 4.5718 5.81134 4.60694 6.47532 4.64014C7.80099 4.70644 9.45741 4.76549 10.7588 4.73432C11.5177 4.71615 12.4849 4.65942 13.2592 4.60755C13.647 4.58156 13.9877 4.55671 14.2315 4.53835C14.3534 4.52917 14.4511 4.52161 14.5184 4.51634L14.6223 4.50811C14.8058 4.49328 14.9433 4.33243 14.9289 4.14888C14.9144 3.96534 14.754 3.82856 14.5705 3.84339L14.4678 3.85152C14.4011 3.85675 14.304 3.86425 14.1829 3.87338C13.9405 3.89163 13.6017 3.91635 13.2161 3.94218C12.4435 3.99394 11.4882 4.04985 10.7443 4.06766C9.46869 4.09821 7.8326 4.04026 6.51001 3.97412C5.84987 3.94111 5.26996 3.90617 4.85514 3.87949C4.64776 3.86615 4.48171 3.85488 4.36759 3.84695L4.23672 3.83772L4.19176 3.83446L4.16655 4.16698Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M6.90557 4.249C8.03011 4.03755 9.45202 3.82395 10.5835 3.83435C11.6494 3.84415 12.9876 4.05759 14.0458 4.26413C14.5778 4.36796 15.0444 4.47116 15.3782 4.54842C15.5451 4.58707 15.679 4.61926 15.7713 4.64185C15.8175 4.65315 15.8533 4.66204 15.8777 4.66815L15.9056 4.67516L15.9148 4.6775C15.9148 4.67751 15.9155 4.67769 15.833 5.00065L15.9148 4.6775C16.0931 4.72308 16.2015 4.90481 16.156 5.08318C16.1104 5.26154 15.9288 5.36918 15.7505 5.32361M5.0811 5.32388L5.08316 5.32337L5.09006 5.32164L5.11799 5.31473C5.14274 5.30863 5.17957 5.29962 5.22737 5.28813C5.32297 5.26515 5.46239 5.23224 5.63671 5.19276C5.98546 5.11377 6.47323 5.00865 7.02876 4.90419C8.14602 4.6941 9.51451 4.49122 10.5774 4.50099C11.5787 4.51019 12.8668 4.71325 13.9181 4.91845C14.4408 5.02048 14.8997 5.12196 15.2278 5.19791C15.3918 5.23588 15.523 5.26742 15.6129 5.28942C15.6578 5.30042 15.6925 5.30903 15.7158 5.31486L15.742 5.32147L15.7505 5.32361M4.99967 5.00065C4.91823 4.67742 4.91827 4.67741 4.91832 4.67739L4.9211 4.6767L4.92884 4.67476L4.95848 4.66742C4.9844 4.66103 5.02247 4.65173 5.07155 4.63993C5.16971 4.61633 5.312 4.58275 5.48945 4.54256C5.84422 4.46221 6.3402 4.35531 6.90557 4.249M4.99967 5.00065L4.91832 4.67739C4.73981 4.72237 4.63146 4.90357 4.67643 5.08208C4.72141 5.2606 4.90259 5.36885 5.0811 5.32388"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M2.09851 7.16634C2.28243 7.17439 2.425 7.33002 2.41694 7.51394L2.08393 7.49935L1.75092 7.48477C1.75897 7.30085 1.91459 7.15829 2.09851 7.16634ZM2.91732 16.666L2.59179 16.7377L2.5897 16.7282L2.58376 16.7009L2.56129 16.5965C2.5419 16.5058 2.5141 16.3741 2.48032 16.2097C2.41279 15.8811 2.32128 15.4215 2.22534 14.8975C2.0341 13.8528 1.82281 12.5389 1.75124 11.4944C1.69721 10.7057 1.6975 9.70092 1.71081 8.89957C1.71749 8.49756 1.7275 8.14425 1.73585 7.89139C1.74002 7.76493 1.74377 7.66352 1.74649 7.59361L1.74972 7.51316L1.75092 7.48477L2.08393 7.49935L2.41694 7.51394L2.41581 7.54077L2.41266 7.61951C2.40998 7.68825 2.40627 7.78834 2.40215 7.91337C2.3939 8.16348 2.38399 8.51306 2.37739 8.91065C2.36413 9.7085 2.36435 10.6898 2.41635 11.4488C2.48522 12.454 2.6907 13.7373 2.88111 14.7774C2.976 15.2957 3.06654 15.7505 3.13334 16.0755C3.16674 16.238 3.19418 16.368 3.21324 16.4573L3.23525 16.5595L3.24096 16.5857L3.24274 16.5938L2.91732 16.666ZM2.91732 16.666L2.59179 16.7377C2.63141 16.9175 2.80929 17.0312 2.98907 16.9915C3.16885 16.9519 3.28237 16.7736 3.24274 16.5938L2.91732 16.666Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5.62454 15.5047C6.93031 15.4962 8.55651 15.4962 9.82846 15.5303C11.2616 15.5688 13.0911 15.6733 14.5595 15.7679C15.2943 15.8153 15.9398 15.8602 16.4016 15.8934C16.6326 15.9099 16.8176 15.9235 16.9449 15.933L17.1413 15.9478L17.1167 16.2802L17.0913 16.6126L16.8955 16.5978C16.7687 16.5884 16.5842 16.5748 16.3539 16.5583C15.8933 16.5253 15.2495 16.4804 14.5166 16.4332C13.0497 16.3387 11.2306 16.2348 9.81058 16.1967C8.55028 16.1629 6.93327 16.1629 5.62888 16.1714C4.97721 16.1756 4.40454 16.182 3.99481 16.1873C3.78996 16.1899 3.62586 16.1923 3.51303 16.194L3.3395 16.1968L3.33309 15.8635L3.32742 15.5302L3.50286 15.5274C3.61616 15.5257 3.78077 15.5233 3.98619 15.5207C4.397 15.5154 4.97114 15.509 5.62454 15.5047ZM3.33309 15.8635L3.32742 15.5302C3.14335 15.5334 2.99664 15.6852 2.99981 15.8693C3.00297 16.0533 3.15543 16.2 3.3395 16.1968L3.33309 15.8635ZM17.4491 16.3056C17.4351 16.4892 17.2748 16.6266 17.0913 16.6126L17.1167 16.2802L17.1422 15.9478C17.3257 15.9619 17.4632 16.1221 17.4491 16.3056Z"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M15.4164 4.16586L15.3112 3.84959C15.1365 3.90772 15.042 4.09645 15.1002 4.27112C15.1583 4.4458 15.347 4.54027 15.5217 4.48214M15.4164 4.16586C15.3112 3.84959 15.3111 3.84961 15.3112 3.84959L15.312 3.8493L15.3136 3.8488L15.3186 3.84714L15.3364 3.84145C15.3515 3.83665 15.3731 3.82992 15.4003 3.82175C15.4547 3.80544 15.5319 3.78331 15.6251 3.75941C15.8101 3.71193 16.0639 3.65588 16.3298 3.62566C16.59 3.59607 16.8897 3.58772 17.1539 3.65441C17.4241 3.72264 17.7106 3.88695 17.8181 4.23381C17.8763 4.42122 17.8713 4.64093 17.8612 4.78275C17.8557 4.85982 17.8475 4.92756 17.8407 4.97617C17.8373 5.0006 17.8342 5.02054 17.8319 5.03479L17.829 5.05185L17.8281 5.05697L17.8278 5.05862L17.8276 5.05946C17.8276 5.05951 17.8276 5.05967 17.4998 4.9992L17.8276 5.05946C17.7942 5.2405 17.6203 5.3604 17.4393 5.327C17.2584 5.29363 17.1387 5.12 17.1719 4.9391"
    fill="currentColor"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M3.77882 6.55857C3.83811 6.73279 3.74499 6.92211 3.57078 6.98148C3.39653 7.04086 3.20713 6.94774 3.14774 6.77348L3.46323 6.66597C3.14774 6.77348 3.14777 6.77356 3.14774 6.77348L3.14716 6.77175L3.14616 6.76876L3.14299 6.7591C3.14038 6.75108 3.13683 6.73992 3.13255 6.72595C3.12399 6.69804 3.11247 6.65872 3.09978 6.61065C3.07458 6.51517 3.04391 6.38195 3.02326 6.23325C3.00283 6.08609 2.99073 5.91351 3.00806 5.74242C3.02512 5.57403 3.07338 5.38024 3.19659 5.21596C3.36782 4.98767 3.65782 4.85635 3.84492 4.7863C3.94807 4.74768 4.0425 4.71975 4.11102 4.70144C4.14549 4.69222 4.17396 4.6853 4.19437 4.68056L4.21882 4.67505L4.22612 4.67349L4.22846 4.673L4.2293 4.67283C4.22936 4.67281 4.2299 4.6727 4.29659 4.9993L4.2293 4.67283C4.40967 4.63599 4.58636 4.75223 4.62319 4.93261M4.36352 5.32584C4.36356 5.32583 4.36377 5.32579 4.36352 5.32584V5.32584Z"
    fill="currentColor"
  />
</svg>`,eR=ed.QGg({width:"24",height:"24"}),ez=ed.c11({width:"24",height:"24"}),eF=ed.u20({width:"24",height:"24"}),eN=(0,H.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M-0.939238 4.14286C-0.979281 4.4228 -1 4.70898 -1 5V6.71429H1.57143V9.28571H-1V11C-1 11.291 -0.979281 11.5772 -0.939238 11.8571H1.57143V14.4286H0.0754482C0.481795 15.0111 0.988871 15.5182 1.57143 15.9246V14.4286L4.14286 14.4286V16.9392C4.4228 16.9793 4.70898 17 5 17H6.71429V14.4286H9.28571V17H11C11.291 17 11.5772 16.9793 11.8571 16.9392V14.4286H14.4286L14.4286 15.9246C15.0111 15.5182 15.5182 15.0111 15.9246 14.4286L14.4286 14.4286V11.8571H16.9392C16.9793 11.5772 17 11.291 17 11V9.28571H14.4286V6.71429H17V5C17 4.70898 16.9793 4.4228 16.9392 4.14286H14.4286V1.57143H15.9246C15.5182 0.988871 15.0111 0.481795 14.4286 0.075448L14.4286 1.57143H11.8571V-0.939238C11.5772 -0.979281 11.291 -1 11 -1H9.28571V1.57143H6.71429V-1H5C4.70898 -1 4.4228 -0.979281 4.14286 -0.939238V1.57143H1.57143V0.0754479C0.988871 0.481795 0.481795 0.988871 0.0754479 1.57143H1.57143V4.14286H-0.939238ZM4.14286 4.14286V1.57143H6.71429V4.14286H4.14286ZM4.14286 6.71429H1.57143V4.14286H4.14286V6.71429ZM6.71429 6.71429V4.14286H9.28571V6.71429H6.71429ZM6.71429 9.28571V6.71429H4.14286V9.28571H1.57143V11.8571H4.14286V14.4286H6.71429V11.8571H9.28571V14.4286H11.8571V11.8571H14.4286V9.28571H11.8571V6.71429H14.4286V4.14286H11.8571V1.57143H9.28571V4.14286H11.8571V6.71429H9.28571V9.28571H6.71429ZM6.71429 9.28571V11.8571H4.14286V9.28571H6.71429ZM9.28571 9.28571H11.8571V11.8571H9.28571V9.28571Z"
    fill="#D9D9D9"
  />
</svg>`,eq=ed.jNK({width:"24",height:"24"}),eU=ed.FHP({width:"20",height:"20"}),eW=ed.HNp({width:"20",height:"20"}),eG=ed.cyP({width:"20",height:"20"}),eY=ed.N0f({width:"20",height:"20"}),eK=ed.cAq({width:"20",height:"20"}),eX=ed.WFt({width:"20",height:"20"}),eQ=ed.kjd({width:"20",height:"20"}),eJ=ed.O4E({width:"20",height:"20"}),e1=ed.vbr({width:"20",height:"20"}),e0=ed.njB({width:"20",height:"20"}),e2=ed.HNH({width:"20",height:"20"}),e5=ed.M80({width:"20",height:"20"});ed.K3f({width:"20",height:"20"}),ed.lL2({width:"20",height:"20"});let e7=ed.OSm({width:"20",height:"20"}),e3=ed.QlO({width:"20",height:"20"}),e4=ed.kqb({width:"20",height:"20"}),e6=ed.zPo({width:"20",height:"20"}),e8=ed.y3_({width:"20",height:"20"}),e9=ed.tPq({width:"20",height:"20"});ed.v_L({width:"16",height:"16"});let te=ed.v_L({width:"24",height:"24"}),tt=ed.P$Z({width:"20",height:"20"}),ti=ed.CbU({width:"20",height:"20"}),ts=(0,H.qy)`
  <svg
    width="60"
    height="72"
    viewBox="0 0 60 72"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <rect width="60" height="72" />
    <rect
      x="0.5"
      y="0.5"
      width="58.0769"
      height="71"
      stroke="black"
      stroke-opacity="0.1"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M21.9576 26.8962L38.6423 43.5809C42.5269 38.9268 42.2845 31.993 37.9149 27.6235C33.5454 23.254 26.6117 23.0115 21.9576 26.8962ZM37.1193 45.1038L20.4346 28.4192C16.55 33.0732 16.7924 40.007 21.162 44.3765C25.5315 48.746 32.4652 48.9885 37.1193 45.1038ZM19.639 26.1005C25.1063 20.6332 33.9706 20.6332 39.4379 26.1005C44.9053 31.5678 44.9053 40.4322 39.4379 45.8995C33.9706 51.3668 25.1063 51.3668 19.639 45.8995C14.1716 40.4322 14.1716 31.5678 19.639 26.1005Z"
      fill="black"
      fill-opacity="0.1"
    />
  </svg>
`,to=(0,H.qy)`
  <svg
    width="60"
    height="72"
    viewBox="0 0 60 72"
    xmlns="http://www.w3.org/2000/svg"
  >
    <rect width="60" height="72" />
    <rect
      x="9.23071"
      y="12.0771"
      width="32.3077"
      height="4.61538"
      rx="2"
      fill="black"
      fill-opacity="0.1"
    />
    <rect
      x="9.23071"
      y="25.8462"
      width="40.6154"
      height="2.76923"
      rx="1.38462"
      fill="black"
      fill-opacity="0.1"
    />
    <rect
      x="9.23071"
      y="35.6152"
      width="40.6154"
      height="2.76923"
      rx="1.38462"
      fill="black"
      fill-opacity="0.1"
    />
    <rect
      x="9.23071"
      y="45.3843"
      width="40.6154"
      height="2.76923"
      rx="1.38462"
      fill="black"
      fill-opacity="0.1"
    />
    <rect
      x="9.23071"
      y="55.1533"
      width="13.8462"
      height="2.76923"
      rx="1.38462"
      fill="black"
      fill-opacity="0.1"
    />
  </svg>
`,tr=ed.v_L({width:"20",height:"20"}),ta=ed.H0W({width:"20",height:"20"}),tn=ed.H0W({width:"24",height:"24"}),tl=ed.VNq({width:"20",height:"20"}),tc=ed.L0c({width:"20",height:"20"}),td=ed.Ui8({width:"20",height:"20"}),th=ed.Lfm({width:"20",height:"20"});ed.Vrn({width:"16",height:"16"});let tu=ed.b8b({width:"16",height:"16"}),tp=ed.b8b({width:"20",height:"20"}),tf=(0,H.qy)`<svg
  width="8"
  height="4"
  viewBox="0 0 8 4"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.22586 3.47595C7.05501 3.64681 6.778 3.64681 6.60714 3.47595L4.20608 1.07489C4.09217 0.960983 3.9075 0.960983 3.7936 1.07489L1.39253 3.47595C1.22168 3.64681 0.944665 3.64681 0.773811 3.47595C0.602957 3.3051 0.602957 3.02809 0.773811 2.85724L3.17488 0.456168C3.63049 0.000556783 4.36918 0.000555735 4.82479 0.456168L7.22586 2.85724C7.39672 3.02809 7.39672 3.3051 7.22586 3.47595Z"
    fill="currentColor"
  />
</svg>`,tg=ed.IDF({width:"20",height:"20"}),tm=(0,H.qy)`
  <svg
    width="36"
    height="60"
    viewBox="0 0 36 60"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    id="edgeless-pen-icon"
  >
    <g filter="url(#filter0_d_5310_64454)">
      <path
        d="M8 38.8965L12.2828 37.4689V106.538H8V38.8965Z"
        fill="currentColor"
      />
      <path
        d="M8 38.8965L12.2828 37.4689V106.538H8V38.8965Z"
        fill="white"
        fill-opacity="0.1"
      />
      <path
        d="M12.2832 36.993H17.5177V106.538H12.2832V36.993Z"
        fill="currentColor"
      />
      <path
        d="M17.5176 36.993H22.7521V106.538H17.5176V36.993Z"
        fill="currentColor"
      />
      <path
        d="M17.5176 36.993H22.7521V106.538H17.5176V36.993Z"
        fill="black"
        fill-opacity="0.1"
      />
      <path
        d="M22.752 30.9448L27.0347 38.8965V106.538H22.752V30.9448Z"
        fill="currentColor"
      />
      <path
        d="M22.752 30.9448L27.0347 38.8965V106.538H22.752V30.9448Z"
        fill="black"
        fill-opacity="0.2"
      />
      <path
        d="M16.5909 2.88078C16.8233 1.90625 18.2099 1.90623 18.4423 2.88075L19.896 8.97414L22.2755 18.9483L27.0345 38.8965L23.9871 38.0231C23.1982 37.7969 22.3511 37.9039 21.6431 38.3189L18.023 40.4414C17.7107 40.6245 17.3238 40.6245 17.0115 40.4414L13.0218 38.1023C12.5499 37.8256 11.9851 37.7543 11.4592 37.905L8 38.8965L12.7583 18.9483L15.1374 8.97414L16.5909 2.88078Z"
        fill="#F1F1F1"
      />
      <path
        d="M16.5909 2.88078C16.8233 1.90625 18.2099 1.90623 18.4423 2.88075L19.896 8.97414L22.2755 18.9483L27.0345 38.8965L23.9871 38.0231C23.1982 37.7969 22.3511 37.9039 21.6431 38.3189L18.023 40.4414C17.7107 40.6245 17.3238 40.6245 17.0115 40.4414L13.0218 38.1023C12.5499 37.8256 11.9851 37.7543 11.4592 37.905L8 38.8965L12.7583 18.9483L15.1374 8.97414L16.5909 2.88078Z"
        fill="url(#paint0_linear_5310_64454)"
        fill-opacity="0.1"
      />
      <g filter="url(#filter1_b_5310_64454)">
        <path
          d="M16.7391 2.26209C16.9345 1.44293 18.1 1.44293 18.2954 2.26209L20.3725 10.969H14.6621L16.7391 2.26209Z"
          fill="currentColor"
        />
      </g>
    </g>
    <defs>
      <filter
        id="filter0_d_5310_64454"
        x="0"
        y="-5"
        width="35.0352"
        height="124"
        filterUnits="userSpaceOnUse"
        color-interpolation-filters="sRGB"
      >
        <feFlood flood-opacity="0" result="BackgroundImageFix" />
        <feColorMatrix
          in="SourceAlpha"
          type="matrix"
          values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
          result="hardAlpha"
        />
        <feOffset dy="4" />
        <feGaussianBlur stdDeviation="4" />
        <feComposite in2="hardAlpha" operator="out" />
        <feColorMatrix
          type="matrix"
          values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"
        />
        <feBlend
          mode="normal"
          in2="BackgroundImageFix"
          result="effect1_dropShadow_5310_64454"
        />
        <feBlend
          mode="normal"
          in="SourceGraphic"
          in2="effect1_dropShadow_5310_64454"
          result="shape"
        />
      </filter>
      <filter
        id="filter1_b_5310_64454"
        x="12.7587"
        y="-0.255743"
        width="9.51686"
        height="13.1282"
        filterUnits="userSpaceOnUse"
        color-interpolation-filters="sRGB"
      >
        <feFlood flood-opacity="0" result="BackgroundImageFix" />
        <feGaussianBlur in="BackgroundImageFix" stdDeviation="0.951724" />
        <feComposite
          in2="SourceAlpha"
          operator="in"
          result="effect1_backgroundBlur_5310_64454"
        />
        <feBlend
          mode="normal"
          in="SourceGraphic"
          in2="effect1_backgroundBlur_5310_64454"
          result="shape"
        />
      </filter>
      <linearGradient
        id="paint0_linear_5310_64454"
        x1="22.1949"
        y1="19.2552"
        x2="11.0983"
        y2="21.5941"
        gradientUnits="userSpaceOnUse"
      >
        <stop />
        <stop offset="0.3125" stop-opacity="0" />
        <stop offset="1" stop-opacity="0" />
      </linearGradient>
    </defs>
  </svg>
`,tv=(0,H.qy)`<svg
  width="34"
  height="60"
  viewBox="0 0 34 60"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
  id="edgeless-pen-icon"
>
  <g filter="url(#filter0_d_5310_64464)">
    <path
      d="M7 38.8965L11.2828 37.4689V106.538H7V38.8965Z"
      fill="currentColor"
    />
    <path
      d="M7 38.8965L11.2828 37.4689V106.538H7V38.8965Z"
      fill="black"
      fill-opacity="0.1"
    />
    <path
      d="M11.2832 36.993H16.5177V106.538H11.2832V36.993Z"
      fill="currentColor"
    />
    <path
      d="M11.2832 36.993H16.5177V106.538H11.2832V36.993Z"
      fill="black"
      fill-opacity="0.26"
    />
    <path
      d="M16.5176 36.993H21.7521V106.538H16.5176V36.993Z"
      fill="currentColor"
    />
    <path
      d="M16.5176 36.993H21.7521V106.538H16.5176V36.993Z"
      fill="black"
      fill-opacity="0.4"
    />
    <path
      d="M21.752 30.9448L26.0347 38.8965V106.538H21.752V30.9448Z"
      fill="currentColor"
    />
    <path
      d="M21.752 30.9448L26.0347 38.8965V106.538H21.752V30.9448Z"
      fill="black"
      fill-opacity="0.6"
    />
    <path
      d="M15.5909 2.88078C15.8233 1.90625 17.2099 1.90623 17.4423 2.88075L18.896 8.97414L21.2755 18.9483L26.0345 38.8965L22.9871 38.0231C22.1982 37.7969 21.3511 37.9039 20.6431 38.3189L17.023 40.4414C16.7107 40.6245 16.3238 40.6245 16.0115 40.4414L12.0218 38.1023C11.5499 37.8256 10.9851 37.7543 10.4592 37.905L7 38.8965L11.7583 18.9483L14.1374 8.97414L15.5909 2.88078Z"
      fill="#C1C1C1"
    />
    <path
      d="M15.5909 2.88078C15.8233 1.90625 17.2099 1.90623 17.4423 2.88075L18.896 8.97414L21.2755 18.9483L26.0345 38.8965L22.9871 38.0231C22.1982 37.7969 21.3511 37.9039 20.6431 38.3189L17.023 40.4414C16.7107 40.6245 16.3238 40.6245 16.0115 40.4414L12.0218 38.1023C11.5499 37.8256 10.9851 37.7543 10.4592 37.905L7 38.8965L11.7583 18.9483L14.1374 8.97414L15.5909 2.88078Z"
      fill="url(#paint0_linear_5310_64464)"
      fill-opacity="0.1"
    />
    <g filter="url(#filter1_b_5310_64464)">
      <path
        d="M15.7391 2.26209C15.9345 1.44293 17.1 1.44293 17.2954 2.26209L19.3725 10.969H13.6621L15.7391 2.26209Z"
        fill="currentColor"
      />
      <path
        d="M15.7391 2.26209C15.9345 1.44293 17.1 1.44293 17.2954 2.26209L19.3725 10.969H13.6621L15.7391 2.26209Z"
        fill="black"
        fill-opacity="0.2"
      />
    </g>
  </g>
  <defs>
    <filter
      id="filter0_d_5310_64464"
      x="0"
      y="-6"
      width="33.0352"
      height="122"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset dy="2" />
      <feGaussianBlur stdDeviation="3.5" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.78 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_5310_64464"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_5310_64464"
        result="shape"
      />
    </filter>
    <filter
      id="filter1_b_5310_64464"
      x="11.7587"
      y="-0.255743"
      width="9.51686"
      height="13.1282"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feGaussianBlur in="BackgroundImageFix" stdDeviation="0.951724" />
      <feComposite
        in2="SourceAlpha"
        operator="in"
        result="effect1_backgroundBlur_5310_64464"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_backgroundBlur_5310_64464"
        result="shape"
      />
    </filter>
    <linearGradient
      id="paint0_linear_5310_64464"
      x1="21.1949"
      y1="19.2552"
      x2="11.5553"
      y2="21.8444"
      gradientUnits="userSpaceOnUse"
    >
      <stop />
      <stop offset="0.302413" stop-opacity="0" />
      <stop offset="0.557292" stop-opacity="0" />
      <stop offset="1" stop-opacity="0" />
    </linearGradient>
  </defs>
</svg>`,ty=(0,H.qy)`<svg
  width="44"
  height="49"
  viewBox="0 0 44 49"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
  id="edgeless-eraser-icon"
>
  <g filter="url(#filter0_d_5310_64451)">
    <rect x="6" y="2" width="32" height="59" rx="5.75" fill="#F1F1F1" />
    <rect x="6.5" y="2.5" width="31" height="58" rx="5.25" stroke="#E3E2E4" />
  </g>
  <g filter="url(#filter1_f_5310_64451)">
    <rect
      x="36.2002"
      y="4.44995"
      width="18.4"
      height="3.45"
      rx="1.725"
      transform="rotate(90 36.2002 4.44995)"
      fill="white"
      fill-opacity="0.78"
    />
  </g>
  <g filter="url(#filter2_f_5310_64451)">
    <path
      d="M4 60H40V22C40 18.6863 37.3137 16 34 16H10C6.68629 16 4 18.6863 4 22V60Z"
      fill="#343434"
      fill-opacity="0.22"
    />
  </g>
  <path
    d="M16.5 16.5H11H9.37046C8.79521 16.5 8.29403 16.8921 8.15566 17.4505L8.14174 17.5067C7.93847 18.3269 7.27583 18.9534 6.44553 19.1105C5.89708 19.2142 5.5 19.6934 5.5 20.2516V21.75V27.5V39V61.5H16.5V16.5Z"
    fill="#173654"
  />
  <path
    d="M16.5 16.5H11H9.37046C8.79521 16.5 8.29403 16.8921 8.15566 17.4505L8.14174 17.5067C7.93847 18.3269 7.27583 18.9534 6.44553 19.1105C5.89708 19.2142 5.5 19.6934 5.5 20.2516V21.75V27.5V39V61.5H16.5V16.5Z"
    fill="url(#paint0_linear_5310_64451)"
    fill-opacity="0.2"
  />
  <path
    d="M16.5 16.5H11H9.37046C8.79521 16.5 8.29403 16.8921 8.15566 17.4505L8.14174 17.5067C7.93847 18.3269 7.27583 18.9534 6.44553 19.1105C5.89708 19.2142 5.5 19.6934 5.5 20.2516V21.75V27.5V39V61.5H16.5V16.5Z"
    stroke="#E7E7E7"
  />
  <path
    d="M27.5 16.5H33H34.6295C35.2048 16.5 35.706 16.8921 35.8443 17.4505L35.8583 17.5067C36.0615 18.3269 36.7242 18.9534 37.5545 19.1105C38.1029 19.2142 38.5 19.6934 38.5 20.2516V21.75V27.5V39V61.5H27.5V16.5Z"
    fill="#1E96EB"
  />
  <path
    d="M27.5 16.5H33H34.6295C35.2048 16.5 35.706 16.8921 35.8443 17.4505L35.8583 17.5067C36.0615 18.3269 36.7242 18.9534 37.5545 19.1105C38.1029 19.2142 38.5 19.6934 38.5 20.2516V21.75V27.5V39V61.5H27.5V16.5Z"
    fill="url(#paint1_linear_5310_64451)"
    fill-opacity="0.2"
  />
  <path
    d="M27.5 16.5H33H34.6295C35.2048 16.5 35.706 16.8921 35.8443 17.4505L35.8583 17.5067C36.0615 18.3269 36.7242 18.9534 37.5545 19.1105C38.1029 19.2142 38.5 19.6934 38.5 20.2516V21.75V27.5V39V61.5H27.5V16.5Z"
    stroke="#E7E7E7"
  />
  <rect
    x="-0.5"
    y="0.5"
    width="11"
    height="45"
    transform="matrix(-1 0 0 1 27 16)"
    fill="#EFFAFF"
  />
  <rect
    x="-0.5"
    y="0.5"
    width="11"
    height="45"
    transform="matrix(-1 0 0 1 27 16)"
    fill="url(#paint2_linear_5310_64451)"
    fill-opacity="0.2"
  />
  <rect
    x="-0.5"
    y="0.5"
    width="11"
    height="45"
    transform="matrix(-1 0 0 1 27 16)"
    stroke="#E7E7E7"
  />
  <defs>
    <filter
      id="filter0_d_5310_64451"
      x="2"
      y="2"
      width="40"
      height="67"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset dy="4" />
      <feGaussianBlur stdDeviation="2" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_5310_64451"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_5310_64451"
        result="shape"
      />
    </filter>
    <filter
      id="filter1_f_5310_64451"
      x="30.45"
      y="2.14995"
      width="8.0502"
      height="23"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="BackgroundImageFix"
        result="shape"
      />
      <feGaussianBlur
        stdDeviation="1.15"
        result="effect1_foregroundBlur_5310_64451"
      />
    </filter>
    <filter
      id="filter2_f_5310_64451"
      x="0"
      y="12"
      width="44"
      height="52"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="BackgroundImageFix"
        result="shape"
      />
      <feGaussianBlur
        stdDeviation="2"
        result="effect1_foregroundBlur_5310_64451"
      />
    </filter>
    <linearGradient
      id="paint0_linear_5310_64451"
      x1="11"
      y1="16"
      x2="11"
      y2="62"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-opacity="0" />
      <stop offset="1" />
    </linearGradient>
    <linearGradient
      id="paint1_linear_5310_64451"
      x1="33"
      y1="16"
      x2="33"
      y2="62"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="white" />
      <stop offset="1" stop-opacity="0" />
    </linearGradient>
    <linearGradient
      id="paint2_linear_5310_64451"
      x1="6"
      y1="0"
      x2="6"
      y2="46"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#FFF8F8" stop-opacity="0" />
      <stop offset="1" />
    </linearGradient>
  </defs>
</svg>`,tb=(0,H.qy)`<svg
  width="44"
  height="49"
  viewBox="0 0 44 49"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
  id="edgeless-eraser-icon"
>
  <g filter="url(#filter0_d_5310_64471)">
    <path
      d="M6 7.75C6 4.57436 8.57436 2 11.75 2H32.25C35.4256 2 38 4.57436 38 7.75V61H6V7.75Z"
      fill="#C1C1C1"
    />
    <path
      d="M6.5 7.75C6.5 4.85051 8.85051 2.5 11.75 2.5H32.25C35.1495 2.5 37.5 4.85051 37.5 7.75V60.5H6.5V7.75Z"
      stroke="#DDDDDD"
    />
    <path
      d="M6.5 7.75C6.5 4.85051 8.85051 2.5 11.75 2.5H32.25C35.1495 2.5 37.5 4.85051 37.5 7.75V60.5H6.5V7.75Z"
      stroke="black"
      stroke-opacity="0.3"
    />
  </g>
  <g filter="url(#filter1_f_5310_64471)">
    <rect
      x="36.2002"
      y="4.44995"
      width="18.4"
      height="3.45"
      rx="1.725"
      transform="rotate(90 36.2002 4.44995)"
      fill="white"
      fill-opacity="0.38"
    />
  </g>
  <g filter="url(#filter2_f_5310_64471)">
    <path
      d="M4 62H40V23C40 19.6863 37.3137 17 34 17H10C6.68629 17 4 19.6863 4 23V62Z"
      fill="black"
      fill-opacity="0.44"
    />
  </g>
  <path
    d="M16.5 16.5H11H9.37046C8.79521 16.5 8.29403 16.8921 8.15566 17.4505L8.14174 17.5067C7.93847 18.3269 7.27583 18.9534 6.44553 19.1105C5.89708 19.2142 5.5 19.6934 5.5 20.2516V21.75V27.5V39V61.5H16.5V16.5Z"
    fill="#0D2338"
  />
  <path
    d="M16.5 16.5H11H9.37046C8.79521 16.5 8.29403 16.8921 8.15566 17.4505L8.14174 17.5067C7.93847 18.3269 7.27583 18.9534 6.44553 19.1105C5.89708 19.2142 5.5 19.6934 5.5 20.2516V21.75V27.5V39V61.5H16.5V16.5Z"
    fill="url(#paint0_linear_5310_64471)"
    fill-opacity="0.2"
  />
  <path
    d="M16.5 16.5H11H9.37046C8.79521 16.5 8.29403 16.8921 8.15566 17.4505L8.14174 17.5067C7.93847 18.3269 7.27583 18.9534 6.44553 19.1105C5.89708 19.2142 5.5 19.6934 5.5 20.2516V21.75V27.5V39V61.5H16.5V16.5Z"
    stroke="#D3D3D3"
  />
  <path
    d="M16.5 16.5H11H9.37046C8.79521 16.5 8.29403 16.8921 8.15566 17.4505L8.14174 17.5067C7.93847 18.3269 7.27583 18.9534 6.44553 19.1105C5.89708 19.2142 5.5 19.6934 5.5 20.2516V21.75V27.5V39V61.5H16.5V16.5Z"
    stroke="black"
    stroke-opacity="0.4"
  />
  <path
    d="M27.5 16.5H33H34.6295C35.2048 16.5 35.706 16.8921 35.8443 17.4505L35.8583 17.5067C36.0615 18.3269 36.7242 18.9534 37.5545 19.1105C38.1029 19.2142 38.5 19.6934 38.5 20.2516V21.75V27.5V39V61.5H27.5V16.5Z"
    fill="#1A7CC1"
  />
  <path
    d="M27.5 16.5H33H34.6295C35.2048 16.5 35.706 16.8921 35.8443 17.4505L35.8583 17.5067C36.0615 18.3269 36.7242 18.9534 37.5545 19.1105C38.1029 19.2142 38.5 19.6934 38.5 20.2516V21.75V27.5V39V61.5H27.5V16.5Z"
    fill="url(#paint1_linear_5310_64471)"
    fill-opacity="0.2"
  />
  <path
    d="M27.5 16.5H33H34.6295C35.2048 16.5 35.706 16.8921 35.8443 17.4505L35.8583 17.5067C36.0615 18.3269 36.7242 18.9534 37.5545 19.1105C38.1029 19.2142 38.5 19.6934 38.5 20.2516V21.75V27.5V39V61.5H27.5V16.5Z"
    stroke="#D3D3D3"
  />
  <path
    d="M27.5 16.5H33H34.6295C35.2048 16.5 35.706 16.8921 35.8443 17.4505L35.8583 17.5067C36.0615 18.3269 36.7242 18.9534 37.5545 19.1105C38.1029 19.2142 38.5 19.6934 38.5 20.2516V21.75V27.5V39V61.5H27.5V16.5Z"
    stroke="black"
    stroke-opacity="0.4"
  />
  <rect
    x="-0.5"
    y="0.5"
    width="11"
    height="45"
    transform="matrix(-1 0 0 1 27 16)"
    fill="#D0DFE5"
  />
  <rect
    x="-0.5"
    y="0.5"
    width="11"
    height="45"
    transform="matrix(-1 0 0 1 27 16)"
    fill="url(#paint2_linear_5310_64471)"
    fill-opacity="0.2"
  />
  <rect
    x="-0.5"
    y="0.5"
    width="11"
    height="45"
    transform="matrix(-1 0 0 1 27 16)"
    stroke="#D3D3D3"
  />
  <rect
    x="-0.5"
    y="0.5"
    width="11"
    height="45"
    transform="matrix(-1 0 0 1 27 16)"
    stroke="black"
    stroke-opacity="0.4"
  />
  <defs>
    <filter
      id="filter0_d_5310_64471"
      x="2"
      y="0"
      width="40"
      height="67"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset dy="2" />
      <feGaussianBlur stdDeviation="2" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.195003 0 0 0 0 0.0133398 0 0 0 0 0.0133398 0 0 0 0.66 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_5310_64471"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_5310_64471"
        result="shape"
      />
    </filter>
    <filter
      id="filter1_f_5310_64471"
      x="30.45"
      y="2.14995"
      width="8.0502"
      height="23"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="BackgroundImageFix"
        result="shape"
      />
      <feGaussianBlur
        stdDeviation="1.15"
        result="effect1_foregroundBlur_5310_64471"
      />
    </filter>
    <filter
      id="filter2_f_5310_64471"
      x="0"
      y="13"
      width="44"
      height="53"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="BackgroundImageFix"
        result="shape"
      />
      <feGaussianBlur
        stdDeviation="2"
        result="effect1_foregroundBlur_5310_64471"
      />
    </filter>
    <linearGradient
      id="paint0_linear_5310_64471"
      x1="11"
      y1="16"
      x2="11"
      y2="62"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-opacity="0" />
      <stop offset="1" />
    </linearGradient>
    <linearGradient
      id="paint1_linear_5310_64471"
      x1="33"
      y1="16"
      x2="33"
      y2="62"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="white" />
      <stop offset="1" stop-opacity="0" />
    </linearGradient>
    <linearGradient
      id="paint2_linear_5310_64471"
      x1="6"
      y1="0"
      x2="6"
      y2="46"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#FFF8F8" stop-opacity="0" />
      <stop offset="1" />
    </linearGradient>
  </defs>
</svg>`,tw=(0,H.qy)`<svg
  width="58"
  height="48"
  viewBox="0 0 58 48"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
  class="shape-icon-shape-group"
>
  <g>
    <g>
      <path
        d="M21.3608 1.8C21.8227 0.999997 22.9774 1 23.4392 1.8L40.7597 31.8C41.2216 32.6 40.6443 33.6 39.7205 33.6H5.07949C4.15573 33.6 3.57838 32.6 4.04026 31.8L21.3608 1.8Z"
      />
      <path
        d="M21.7072 2C22.0151 1.46667 22.7849 1.46667 23.0928 2L40.4133 32C40.7212 32.5333 40.3363 33.2 39.7205 33.2H5.07949C4.46365 33.2 4.07875 32.5333 4.38667 32L21.7072 2Z"
        stroke="black"
        stroke-opacity="0.1"
        stroke-width="0.8"
      />
    </g>
    <g>
      <circle cx="41.6001" cy="19.8008" r="16" />
      <circle
        cx="41.6001"
        cy="19.8008"
        r="15.6"
        stroke="black"
        stroke-opacity="0.1"
        stroke-width="0.8"
      />
    </g>
    <g>
      <rect x="7" y="11.4004" width="45" height="36" rx="1.5" />
      <rect
        x="7.5"
        y="11.9004"
        width="44"
        height="35"
        rx="1"
        stroke="black"
        stroke-opacity="0.1"
      />
    </g>
  </g>
</svg>`,tx=(0,H.qy)`<svg
  width="48"
  height="48"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <circle cx="24" cy="24" r="23.5" fill="currentColor" stroke="inherit" />
</svg> `,t_=(0,H.qy)`<svg
  width="62"
  height="50"
  viewBox="0 0 62 50"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M0.8 49.2L31 0.8L61.2 49.2H0.8Z"
    fill="currentColor"
    stroke="inherit"
  />
</svg> `;(0,H.qy)` <svg
  width="100"
  height="100"
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
>
  <polygon
    stroke="inherit"
    points="50,0 100,50 50,100 0,50"
    fill="currentColor"
  />
</svg>`;let tC=(0,H.qy)`<svg
  width="48"
  height="48"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <rect
    x="0.5"
    y="0.5"
    width="47"
    height="47"
    rx="5"
    fill="currentColor"
    stroke="inherit"
  />
</svg> `,tk=ed.jNK({width:"24",height:"24"}),tS=ed.Fzz({width:"20",height:"20"}),tM=ed.cEz({width:"20",height:"20"}),tE=ed.Tje({width:"20",height:"20"}),tI=ed.CVU({width:"20",height:"20"}),tB=ed.TdU({width:"20",height:"20"});ed.mK9({width:"20",height:"20"});let t$=ed.jaP({width:"20",height:"20"}),tT=ed.d7y({width:"20",height:"20"}),tO=ed.SAc({width:"16",height:"16"}),tP=ed.rWB({width:"20",height:"20"}),tA=ed.Vx1({width:"20",height:"20"}),tH=ed.$2o({width:"20",height:"20"}),tL=ed.OTM({width:"32",height:"32"}),tD=ed.SBc({width:"20",height:"20"}),tZ=ed.n7i({width:"20",height:"20"}),tj=ed.aJy({width:"20",height:"20"}),tV=ed.d$q({width:"20",height:"20"}),tR=ed.mib({width:"20",height:"20"}),tz=ed.uYI({width:"20",height:"20"}),tF=ed.A1x({width:"20",height:"20"}),tN=ed.fFF({width:"20",height:"20"}),tq=ed.tE0({width:"24",height:"24"}),tU=ed.QlO({width:"24",height:"24"}),tW=ed.Jps({width:"16",height:"16",style:"color:#77757D;"}),tG=ed.OTM({width:"16",height:"16",style:"color:#77757D;"}),tY=ed.Zes({width:"20",height:"20"}),tK=(0,H.qy)`<svg
  width="34"
  height="29"
  viewBox="0 0 34 29"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M3 14.4292L16.8345 18.9019C17.0345 18.9665 17.2498 18.9665 17.4498 18.9019L31.2843 14.4292"
    stroke="black"
    stroke-opacity="0.3"
    stroke-width="5"
    stroke-linecap="round"
  />
</svg>`,tX=ed.IDF({width:"20",height:"20"}),tQ=ed.v_L({width:"20",height:"20"}),tJ=(0,H.qy)`
  <svg
    width="16"
    height="16"
    viewBox="0 0 16 16"
    xmlns="http://www.w3.org/2000/svg"
    fill="currentColor"
  >
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M14.773 3.485l-.78-.184-2.108 2.096-1.194-1.216 2.056-2.157-.18-.792a4.42 4.42 0 0 0-1.347-.228 3.64 3.64 0 0 0-1.457.28 3.824 3.824 0 0 0-1.186.84 3.736 3.736 0 0 0-.875 1.265 3.938 3.938 0 0 0 0 2.966 335.341 335.341 0 0 0-6.173 6.234c-.21.275-.31.618-.284.963a1.403 1.403 0 0 0 .464.967c.124.135.272.247.437.328.17.075.353.118.538.127.316-.006.619-.126.854-.337 1.548-1.457 4.514-4.45 6.199-6.204.457.194.948.294 1.444.293a3.736 3.736 0 0 0 2.677-1.133 3.885 3.885 0 0 0 1.111-2.73 4.211 4.211 0 0 0-.196-1.378zM2.933 13.928a.31.31 0 0 1-.135.07.437.437 0 0 1-.149 0 .346.346 0 0 1-.144-.057.336.336 0 0 1-.114-.11c-.14-.143-.271-.415-.14-.568 1.37-1.457 4.191-4.305 5.955-6.046.1.132.21.258.328.376.118.123.245.237.38.341-1.706 1.75-4.488 4.564-5.98 5.994zm11.118-9.065c.002.765-.296 1.5-.832 2.048a2.861 2.861 0 0 1-4.007 0 2.992 2.992 0 0 1-.635-3.137A2.748 2.748 0 0 1 10.14 2.18a2.76 2.76 0 0 1 1.072-.214h.254L9.649 3.839v.696l1.895 1.886h.66l1.847-1.816v.258zM3.24 6.688h1.531l.705.717.678-.674-.665-.678V6.01l.057-1.649-.22-.437-2.86-1.882-.591.066-.831.849-.066.599 1.838 2.918.424.215zm-.945-3.632L4.609 4.58 4.57 5.703H3.494L2.002 3.341l.293-.285zm7.105 6.96l.674-.673 3.106 3.185a1.479 1.479 0 0 1 0 2.039 1.404 1.404 0 0 1-1.549.315 1.31 1.31 0 0 1-.437-.315l-3.142-3.203.679-.678 3.132 3.194a.402.402 0 0 0 .153.105.477.477 0 0 0 .359 0 .403.403 0 0 0 .153-.105.436.436 0 0 0 .1-.153.525.525 0 0 0 .036-.184.547.547 0 0 0-.035-.184.436.436 0 0 0-.1-.153L9.4 10.016z"
    />
  </svg>
`,t1=ed.ziP({width:"20",height:"20"}),t0=ed.JQk({width:"20",height:"20"}),t2=ed.C9h({width:"20",height:"20",style:"transform: rotate(0.5turn); transform-origin: center;"}),t5=ed.C9h({width:"20",height:"20"}),t7=(0,H.qy)`<svg
  width="64"
  height="48"
  viewBox="0 0 64 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <rect width="64" height="48" rx="4" />
  <path d="M23.976 24L43.4022 24" stroke="#E660A4" stroke-width="1.4" />
  <path
    d="M23.976 24.0001L26.5099 24.0001C30.4749 24.0001 33.6891 20.7858 33.6891 16.8208V16.8208C33.6891 12.8559 36.9034 9.6416 40.8684 9.6416L43.4022 9.6416"
    stroke="#6E52DF"
    stroke-width="1.4"
  />
  <path
    d="M23.976 24L26.5099 24C30.4749 24 33.6891 27.2143 33.6891 31.1792V31.1792C33.6891 35.1442 36.9034 38.3585 40.8684 38.3585L43.4022 38.3585"
    stroke="#FF8C38"
    stroke-width="1.4"
  />
  <g>
    <rect
      x="42.7023"
      y="33.4353"
      width="15.7585"
      height="9.84617"
      rx="2.38923"
      stroke="#FF8C38"
      stroke-width="1.4"
      shape-rendering="crispEdges"
    />
  </g>
  <g>
    <rect
      x="42.7023"
      y="19.0769"
      width="15.7585"
      height="9.84617"
      rx="2.38923"
      stroke="#E660A4"
      stroke-width="1.4"
      shape-rendering="crispEdges"
    />
  </g>
  <g>
    <rect
      x="42.7023"
      y="4.71846"
      width="15.7585"
      height="9.84617"
      rx="2.38923"
      stroke="#6E52DF"
      stroke-width="1.4"
      shape-rendering="crispEdges"
    />
  </g>
  <g>
    <rect
      x="5.53921"
      y="17.3879"
      width="18.2923"
      height="13.2246"
      rx="2.77776"
      stroke="#84CFFF"
      stroke-width="1.4"
      shape-rendering="crispEdges"
    />
  </g>
</svg> `,t3=(0,H.qy)`<svg
  width="64"
  height="48"
  viewBox="0 0 64 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M23.9761 24L43.4023 24"
    stroke="black"
    stroke-width="1.4"
    stroke-linejoin="round"
  />
  <path
    d="M23.9761 24.0001L33.5892 24.0001C33.6444 24.0001 33.6892 23.9553 33.6892 23.9001L33.6892 9.7416C33.6892 9.68637 33.7339 9.6416 33.7892 9.6416L43.4023 9.6416"
    stroke="black"
    stroke-width="1.4"
    stroke-linejoin="round"
  />
  <path
    d="M23.9761 24L33.5892 24C33.6444 24 33.6892 24.0448 33.6892 24.1L33.6892 38.2585C33.6892 38.3137 33.7339 38.3585 33.7892 38.3585L43.4023 38.3585"
    stroke="black"
    stroke-width="1.4"
    stroke-linejoin="round"
  />
  <g filter="url(#filter0_dd_7851_11431)">
    <rect
      x="43.4023"
      y="34.1353"
      width="14.3585"
      height="8.44617"
      rx="0.1"
      fill="#84CFFF"
    />
  </g>
  <g filter="url(#filter1_dd_7851_11431)">
    <rect
      x="43.4023"
      y="19.7769"
      width="14.3585"
      height="8.44617"
      rx="0.1"
      fill="#84CFFF"
    />
  </g>
  <g filter="url(#filter2_dd_7851_11431)">
    <rect
      x="43.4023"
      y="5.41846"
      width="14.3585"
      height="8.44617"
      rx="0.1"
      fill="#84CFFF"
    />
  </g>
  <g filter="url(#filter3_dd_7851_11431)">
    <rect
      x="6.23926"
      y="18.0879"
      width="16.8923"
      height="11.8246"
      rx="0.1"
      fill="#FFC46B"
    />
  </g>
  <defs>
    <filter
      id="filter0_dd_7851_11431"
      x="42.4023"
      y="33.1353"
      width="17.3585"
      height="11.4463"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feMorphology
        radius="1"
        operator="dilate"
        in="SourceAlpha"
        result="effect1_dropShadow_7851_11431"
      />
      <feOffset dx="1" dy="1" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_7851_11431"
      />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feMorphology
        radius="1"
        operator="dilate"
        in="SourceAlpha"
        result="effect2_dropShadow_7851_11431"
      />
      <feOffset />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"
      />
      <feBlend
        mode="normal"
        in2="effect1_dropShadow_7851_11431"
        result="effect2_dropShadow_7851_11431"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect2_dropShadow_7851_11431"
        result="shape"
      />
    </filter>
    <filter
      id="filter1_dd_7851_11431"
      x="42.4023"
      y="18.7769"
      width="17.3585"
      height="11.4463"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feMorphology
        radius="1"
        operator="dilate"
        in="SourceAlpha"
        result="effect1_dropShadow_7851_11431"
      />
      <feOffset dx="1" dy="1" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_7851_11431"
      />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feMorphology
        radius="1"
        operator="dilate"
        in="SourceAlpha"
        result="effect2_dropShadow_7851_11431"
      />
      <feOffset />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"
      />
      <feBlend
        mode="normal"
        in2="effect1_dropShadow_7851_11431"
        result="effect2_dropShadow_7851_11431"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect2_dropShadow_7851_11431"
        result="shape"
      />
    </filter>
    <filter
      id="filter2_dd_7851_11431"
      x="42.4023"
      y="4.41846"
      width="17.3585"
      height="11.4463"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feMorphology
        radius="1"
        operator="dilate"
        in="SourceAlpha"
        result="effect1_dropShadow_7851_11431"
      />
      <feOffset dx="1" dy="1" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_7851_11431"
      />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feMorphology
        radius="1"
        operator="dilate"
        in="SourceAlpha"
        result="effect2_dropShadow_7851_11431"
      />
      <feOffset />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"
      />
      <feBlend
        mode="normal"
        in2="effect1_dropShadow_7851_11431"
        result="effect2_dropShadow_7851_11431"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect2_dropShadow_7851_11431"
        result="shape"
      />
    </filter>
    <filter
      id="filter3_dd_7851_11431"
      x="5.23926"
      y="17.0879"
      width="19.8923"
      height="14.8247"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feMorphology
        radius="1"
        operator="dilate"
        in="SourceAlpha"
        result="effect1_dropShadow_7851_11431"
      />
      <feOffset dx="1" dy="1" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_7851_11431"
      />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feMorphology
        radius="1"
        operator="dilate"
        in="SourceAlpha"
        result="effect2_dropShadow_7851_11431"
      />
      <feOffset />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"
      />
      <feBlend
        mode="normal"
        in2="effect1_dropShadow_7851_11431"
        result="effect2_dropShadow_7851_11431"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect2_dropShadow_7851_11431"
        result="shape"
      />
    </filter>
  </defs>
</svg> `,t4=(0,H.qy)`<svg
  width="64"
  height="48"
  viewBox="0 0 64 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path d="M23.976 24L43.4022 24" stroke="#FFD338" stroke-width="1.4" />
  <path
    d="M23.976 24.0001L26.5099 24.0001C30.4749 24.0001 33.6891 20.7858 33.6891 16.8208V16.8208C33.6891 12.8559 36.9034 9.6416 40.8684 9.6416L43.4022 9.6416"
    stroke="#FFD338"
    stroke-width="1.4"
  />
  <path
    d="M23.976 24L26.5099 24C30.4749 24 33.6891 27.2143 33.6891 31.1792V31.1792C33.6891 35.1442 36.9034 38.3585 40.8684 38.3585L43.4022 38.3585"
    stroke="#FFD338"
    stroke-width="1.4"
  />
  <g filter="url(#filter0_d_7851_6843)">
    <rect
      x="43.4023"
      y="34.1353"
      width="14.3585"
      height="8.44617"
      rx="1.68923"
      fill="white"
    />
    <rect
      x="42.7023"
      y="33.4353"
      width="15.7585"
      height="9.84617"
      rx="2.38923"
      stroke="#FFD338"
      stroke-width="1.4"
    />
  </g>
  <g filter="url(#filter1_d_7851_6843)">
    <rect
      x="43.4023"
      y="19.7769"
      width="14.3585"
      height="8.44617"
      rx="1.68923"
      fill="white"
    />
    <rect
      x="42.7023"
      y="19.0769"
      width="15.7585"
      height="9.84617"
      rx="2.38923"
      stroke="#FFD338"
      stroke-width="1.4"
    />
  </g>
  <g filter="url(#filter2_d_7851_6843)">
    <rect
      x="43.4023"
      y="5.41846"
      width="14.3585"
      height="8.44617"
      rx="1.68923"
      fill="white"
    />
    <rect
      x="42.7023"
      y="4.71846"
      width="15.7585"
      height="9.84617"
      rx="2.38923"
      stroke="#FFD338"
      stroke-width="1.4"
    />
  </g>
  <g filter="url(#filter3_d_7851_6843)">
    <rect
      x="6.23921"
      y="18.0879"
      width="16.8923"
      height="11.8246"
      rx="2.07776"
      fill="#FFD338"
    />
    <rect
      x="5.53921"
      y="17.3879"
      width="18.2923"
      height="13.2246"
      rx="2.77776"
      stroke="white"
      stroke-width="1.4"
    />
  </g>
  <defs>
    <filter
      id="filter0_d_7851_6843"
      x="39.4684"
      y="30.2015"
      width="22.2262"
      height="16.3138"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset />
      <feGaussianBlur stdDeviation="1.26693" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_7851_6843"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_7851_6843"
        result="shape"
      />
    </filter>
    <filter
      id="filter1_d_7851_6843"
      x="39.4684"
      y="15.8431"
      width="22.2262"
      height="16.3138"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset />
      <feGaussianBlur stdDeviation="1.26693" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_7851_6843"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_7851_6843"
        result="shape"
      />
    </filter>
    <filter
      id="filter2_d_7851_6843"
      x="39.4684"
      y="1.4847"
      width="22.2262"
      height="16.3138"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset />
      <feGaussianBlur stdDeviation="1.26693" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_7851_6843"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_7851_6843"
        result="shape"
      />
    </filter>
    <filter
      id="filter3_d_7851_6843"
      x="2.30537"
      y="14.1541"
      width="24.76"
      height="19.6922"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset />
      <feGaussianBlur stdDeviation="1.26693" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_7851_6843"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_7851_6843"
        result="shape"
      />
    </filter>
  </defs>
</svg> `,t6=(0,H.qy)`<svg
  width="64"
  height="48"
  viewBox="0 0 64 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M23.9761 24L43.4023 24"
    stroke="#E660A4"
    stroke-width="1.4"
    stroke-linecap="round"
  />
  <path
    d="M23.9761 24.0001L26.5099 24.0001C30.4749 24.0001 33.6892 20.7858 33.6892 16.8208V16.8208C33.6892 12.8559 36.9034 9.6416 40.8684 9.6416L43.4023 9.6416"
    stroke="#6E52DF"
    stroke-width="1.4"
    stroke-linecap="round"
  />
  <path
    d="M23.9761 24L26.5099 24C30.4749 24 33.6892 27.2143 33.6892 31.1792V31.1792C33.6892 35.1442 36.9034 38.3585 40.8684 38.3585L43.4023 38.3585"
    stroke="#FF8C38"
    stroke-width="1.4"
    stroke-linecap="round"
  />
  <path
    d="M7 26C9.85124 21.8236 11.8347 18.5607 11.8347 20.649C11.8347 22.7372 10.9669 24.695 11.2149 25.3475C11.4628 26 12.9504 24.0423 13.9421 22.8677C14.9339 21.6931 15.9256 21.0405 15.8017 22.8677C15.6777 24.6949 16.2975 25.739 17.2893 24.8254C18.281 23.9118 19.2727 23.5203 20.0165 23.7813C20.6116 23.9901 21.5868 24.5644 22 24.8254"
    stroke="black"
    stroke-width="1.4"
    stroke-linecap="round"
  />
  <path
    d="M44 11C46.4711 7.51964 48.1901 4.80062 48.1901 6.54079C48.1901 8.28097 47.438 9.91246 47.6529 10.4562C47.8678 11 49.157 9.36862 50.0165 8.38977C50.876 7.41092 51.7355 6.86712 51.6281 8.38977C51.5207 9.91243 52.0579 10.7825 52.9174 10.0212C53.7769 9.25986 54.6364 8.93358 55.281 9.1511C55.7967 9.32512 56.6419 9.80367 57 10.0212"
    stroke="black"
    stroke-width="1.4"
    stroke-linecap="round"
  />
  <path
    d="M44 25.5C46.4711 22.0196 48.1901 19.3006 48.1901 21.0408C48.1901 22.781 47.438 24.4125 47.6529 24.9562C47.8678 25.5 49.157 23.8686 50.0165 22.8898C50.876 21.9109 51.7355 21.3671 51.6281 22.8898C51.5207 24.4124 52.0579 25.2825 52.9174 24.5212C53.7769 23.7599 54.6364 23.4336 55.281 23.6511C55.7967 23.8251 56.6419 24.3037 57 24.5212"
    stroke="black"
    stroke-width="1.4"
    stroke-linecap="round"
  />
  <path
    d="M44 40C46.4711 36.5196 48.1901 33.8006 48.1901 35.5408C48.1901 37.281 47.438 38.9125 47.6529 39.4562C47.8678 40 49.157 38.3686 50.0165 37.3898C50.876 36.4109 51.7355 35.8671 51.6281 37.3898C51.5207 38.9124 52.0579 39.7825 52.9174 39.0212C53.7769 38.2599 54.6364 37.9336 55.281 38.1511C55.7967 38.3251 56.6419 38.8037 57 39.0212"
    stroke="black"
    stroke-width="1.4"
    stroke-linecap="round"
  />
</svg> `,t8=ed._GB({width:"16",height:"16"}),t9=ed.Upg({width:"16",height:"16"}),ie=ed.Y2f({width:"20",height:"20"}),it=ed.eqL({width:"20",height:"20"}),ii=ed.Jps({width:"20",height:"20"}),is=ed.S1N({width:"24",height:"24",style:"color: white;"});var io=i(54074),ir=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ia=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let il=(()=>{let e,t,i=[(0,L.EM)("mini-mindmap-root-block")],s=[],o=P.p_;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;ir(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),ia(t,s)}render(){return(0,H.qy)`
      <style>
        .affine-mini-mindmap-root {
          display: block;
          width: 100%;
          height: 100%;

          background-size: 20px 20px;
          background-color: var(--affine-background-primary-color);
          background-image: radial-gradient(
            var(--affine-edgeless-grid-color) 1px,
            var(--affine-background-primary-color) 1px
          );
        }
      </style>
      <div class="affine-mini-mindmap-root">
        ${this.host.renderChildren(this.model)}
      </div>
    `}},t})();var ic=i(3874),id=i(7770),ih=i(72674);class iu extends P.ps{constructor(){super(...arguments),this.requestCenter=new v.DX}center(){this.requestCenter.emit()}mounted(){}}let ip=[{schema:id.x,service:iu,view:{component:(0,ic.eu)`mini-mindmap-root-block`}},{schema:ih.Y,view:{component:(0,ic.eu)`mini-mindmap-surface-block`}}],ig=[id.x,ih.Y];var im=i(66050),iv=i(31716),iy=i(82750);function ib(e,t,i){return i>0&&e>t||i<0&&e<t?t:e}class iw{constructor(){this._center={x:0,y:0},this._cumulativeParentScale=1,this._height=0,this._left=0,this._locked=!1,this._rafId=null,this._syncFlag=!1,this._top=0,this._width=0,this._zoom=1,this.ZOOM_MAX=6,this.ZOOM_MIN=.1,this.sizeUpdated=new v.DX,this.viewportMoved=new v.DX,this.viewportUpdated=new v.DX}applyDeltaCenter(e,t){this.setCenter(this.centerX+e,this.centerY+t)}dispose(){this.sizeUpdated.dispose(),this.viewportMoved.dispose(),this.viewportUpdated.dispose()}isInViewport(e){let t=m.z.from(this.viewportBounds);return t.contains(e)||t.isIntersectWithBound(e)}onResize(){let{centerX:e,centerY:t,zoom:i,width:s,height:o}=this,{left:r,top:a}=this._el.getBoundingClientRect(),{offsetWidth:n,offsetHeight:l}=this._el;this.setRect(r,a,n,l),this.setCenter(e-(s-n)/i/2,t-(o-l)/i/2)}setCenter(e,t){this._center.x=e,this._center.y=t,this.viewportUpdated.emit({zoom:this.zoom,center:iv.l.toVec(this.center)})}setContainer(e){let t=e.getBoundingClientRect();this._el=e,this.setRect(t.left,t.top,t.width,t.height)}setRect(e,t,i,s){this._left=e,this._top=t,this._width=i,this._height=s,this.sizeUpdated.emit({left:e,top:t,width:i,height:s})}setViewport(e,t=iv.l.toVec(this.center),i=!1){let s=this._zoom;if(i){let i=s/e;if(1===i)this.smoothTranslate(t[0],t[1]);else{let s=[this.centerX,this.centerY],o=iv.l.mul(iv.l.sub(t,iv.l.mul(s,i)),1/(1-i));this.smoothZoom(e,iv.l.toPoint(o))}}else this._center.x=t[0],this._center.y=t[1],this.setZoom(e)}setViewportByBound(e,t=[0,0,0,0],i=!1){let[s,o,r,a]=t,n=(0,iy.qE)((this.width-(o+a))/e.w,this.ZOOM_MIN,(this.height-(s+r))/e.h),l=[e.x+(e.w+o/n)/2-a/n/2,e.y+(e.h+r/n)/2-s/n/2];this.setViewport(n,l,i)}setZoom(e,t){let i=this.zoom;t=t??this._center,this._zoom=(0,iy.qE)(e,this.ZOOM_MIN,this.ZOOM_MAX);let s=this.zoom,o=iv.l.sub(iv.l.toVec(this.center),iv.l.toVec(t)),r=iv.l.add(iv.l.toVec(t),iv.l.mul(o,i/s));this.setCenter(r[0],r[1]),this.viewportUpdated.emit({zoom:this.zoom,center:iv.l.toVec(this.center)})}smoothTranslate(e,t){let{center:i}=this,s={x:e-i.x,y:t-i.y},o=()=>{this._rafId&&cancelAnimationFrame(this._rafId),this._rafId=requestAnimationFrame(()=>{let i={x:s.x/10,y:s.y/10},r={x:this.centerX+i.x,y:this.centerY+i.y},a=s.x>0?1:-1,n=s.y>0?1:-1;r.x=ib(r.x,e,a),r.y=ib(r.y,t,n),this.setCenter(r.x,r.y),(r.x!=e||r.y!=t)&&o()})};o()}smoothZoom(e,t){let i=e-this.zoom;this._rafId&&cancelAnimationFrame(this._rafId);let s=()=>{this._rafId=requestAnimationFrame(()=>{let o=ib(this.zoom+i/10,e,i>0?1:-1);this.setZoom(o,t),o!=e&&s()})};s()}sync(e){let t=(e,t)=>{t._syncFlag=!0,t.setZoom(e.zoom),t.setCenter(e.centerX,e.centerY),t._syncFlag=!1},i=(e,t)=>{t._syncFlag=!0,t.setRect(e.left,e.top,e.width,e.height),t._syncFlag=!1},s=[e.viewportUpdated.on(()=>{e._syncFlag||t(e,this)}),this.viewportUpdated.on(()=>{this._syncFlag||t(this,e)}),e.sizeUpdated.on(()=>{e._syncFlag||i(e,this)}),this.sizeUpdated.on(()=>{this._syncFlag||i(this,e)})];return t(e,this),()=>{s.forEach(e=>e.dispose())}}toModelBound(e){let{w:t,h:i}=e,[s,o]=this.toModelCoord(e.x,e.y);return new m.z(s,o,t/this.zoom,i/this.zoom)}toModelCoord(e,t){let{viewportX:i,viewportY:s,zoom:o,scale:r}=this;return[i+e/o/r,s+t/o/r]}toModelCoordFromClientCoord([e,t]){let{left:i,top:s}=this;return this.toModelCoord(e-i,t-s)}toViewBound(e){let{w:t,h:i}=e,[s,o]=this.toViewCoord(e.x,e.y);return new m.z(s,o,t*this.zoom,i*this.zoom)}toViewCoord(e,t){let{viewportX:i,viewportY:s,zoom:o,scale:r}=this;return[(e-i)*o*r,(t-s)*o*r]}toViewCoordFromClientCoord([e,t]){let{left:i,top:s}=this;return[e-i,t-s]}get boundingClientRect(){return this._el.getBoundingClientRect()}get center(){return this._center}get centerX(){return this._center.x}get centerY(){return this._center.y}get cumulativeParentScale(){return this._cumulativeParentScale}get height(){return this._height}get left(){return this._left}get locked(){return this._locked}set locked(e){this._locked=e}get scale(){return this.boundingClientRect.width/this._el.offsetWidth}get top(){return this._top}get translateX(){return-this.viewportX*this.zoom}get translateY(){return-this.viewportY*this.zoom}get viewportBounds(){let{viewportMinXY:e,viewportMaxXY:t}=this;return m.z.from({...e,w:(t.x-e.x)/this._cumulativeParentScale,h:(t.y-e.y)/this._cumulativeParentScale})}get viewportMaxXY(){let{centerX:e,centerY:t,width:i,height:s,zoom:o}=this;return{x:e+i/2/o,y:t+s/2/o}}get viewportMinXY(){let{centerX:e,centerY:t,width:i,height:s,zoom:o}=this;return{x:e-i/2/o,y:t-s/2/o}}get viewportX(){let{centerX:e,width:t,zoom:i}=this;return e-t/2/i}get viewportY(){let{centerY:e,height:t,zoom:i}=this;return e-t/2/i}get width(){return this._width}get zoom(){return this._zoom}}var ix=i(69050),i_=i(50620),iC=i(3471),ik=i(62602),iS=i(92820),iM=i(33096),iE=i(96448);function iI(e,t){let i=e[t].zIndex;for(let s=t;s<e.length;++s){let t=e[s];t.zIndex=i,i+="block"===t.type?t.elements.length:1}}function iB(e){let t=e.groups;if(t.length){let i=t.map(e=>e.index).reverse().join("-");return`${i}-${e.index}`}return e.index}function i$(e){return e.split("-")[0]}function iT(e,t){let i=0;for(;i<e.length&&[s.BEFORE,s.SAME].includes(iA(e[i],t));)++i;e.splice(i,0,t)}function iO(e,t){let i=e.indexOf(t);-1!==i&&e.splice(i,1)}function iP(e,t,i){let s=e.getParent(i);return s===e.root||s===t}function iA(e,t){if(e instanceof k.$b&&e.hasDescendant(t))return s.BEFORE;if(t instanceof k.$b&&t.hasDescendant(e))return s.AFTER;{let i=e.groups,o=t.groups,r=1,a=(0,ik.E7)(i,r),n=(0,ik.E7)(o,r);for(;a===n&&a;)++r,a=(0,ik.E7)(i,r),n=(0,ik.E7)(o,r);return a=a??e,n=n??t,a.index===n.index?s.SAME:a.index<n.index?s.BEFORE:s.AFTER}}!function(e){e[e.AFTER=1]="AFTER",e[e.BEFORE=-1]="BEFORE",e[e.SAME=0]="SAME"}(s||(s={}));var iH=i(11559);function iL(e){return Math.ceil(e/C.VF)-1}function iD(e){e.rotate&&(e=(0,iH.e0)(e));let t=iL(e.x);return[t,iL(e.x+e.w),iL(e.y),iL(e.y+e.h)]}class iZ{constructor(){this._elementToGrids=new Map,this._externalElementToGrids=new Map,this._externalGrids=new Map,this._grids=new Map}_addToExternalGrids(e){let t=function(e){if(!e.externalXYWH)return null;let t=m.z.deserialize(e.externalXYWH),i=iL(t.x);return[i,iL(t.maxX),iL(t.y),iL(t.maxY)]}(e);if(!t){this._removeFromExternalGrids(e);return}let[i,s,o,r]=t,a=new Set;this._externalElementToGrids.set(e,a);for(let t=i;t<=s;t++)for(let i=o;i<=r;i++){let s=this._getExternalGrid(t,i);s||(s=this._createExternalGrid(t,i)),s.add(e),a.add(s)}}_createExternalGrid(e,t){let i=new Set;return this._externalGrids.set(e+"|"+t,i),i}_createGrid(e,t){let i=new Set;return this._grids.set(e+"|"+t,i),i}_getExternalGrid(e,t){return this._externalGrids.get(e+"|"+t)}_getGrid(e,t){return this._grids.get(e+"|"+t)}_removeFromExternalGrids(e){let t=this._externalElementToGrids.get(e);if(t)for(let i of t)i.delete(e)}_searchExternal(e,t=!1){let[i,s,o,r]=iD(e),a=new Set,n=m.z.from(e);for(let l=i;l<=s;l++)for(let i=o;i<=r;i++){let s=this._getExternalGrid(l,i);if(s)for(let i of s){let s=i.externalBound;s&&(t?n.contains(s):(0,iH.HY)(s,e))&&a.add(i)}}return a}add(e){this._addToExternalGrids(e);let[t,i,s,o]=function(e){let t=e.elementBound,i=iL(t.x);return[i,iL(t.maxX),iL(t.y),iL(t.maxY)]}(e),r=new Set;this._elementToGrids.set(e,r);for(let a=t;a<=i;a++)for(let t=s;t<=o;t++){let i=this._getGrid(a,t);i||(i=this._createGrid(a,t)),i.add(e),r.add(i)}}boundHasChanged(e,t){let[i,s,o,r]=iD(e),[a,n,l,c]=iD(t);return i!==a||s!==n||o!==l||r!==c}has(e,t=!1,i=!1,s){let[o,r,a,n]=iD(e),l=m.z.from(e),c=i?e=>t?e.contains(l):(0,iH.HY)(l,e):e=>t?l.contains(e):(0,iH.HY)(e,l);for(let e=o;e<=r;e++)for(let t=a;t<=n;t++){let i=this._getGrid(e,t);if(i){for(let e of i)if(!s?.has(e)&&c(e.elementBound))return!0}}return!1}pick(e,t){let i=iL(e),s=iL(t),o=this._getGrid(i,s);if(!o)return[];let r=[];for(let i of o)(0,iH.Sp)((0,iH.e0)(m.z.deserialize(i.xywh)),e,t)&&r.push(i);return r}remove(e){let t=this._elementToGrids.get(e);if(t)for(let i of t)i.delete(e);this._removeFromExternalGrids(e)}search(e,t=!1,i=!1){let s=this._searchExternal(e,t),[o,r,a,n]=iD(e),l=m.z.from(e);for(let i=o;i<=r;i++)for(let o=a;o<=n;o++){let r=this._getGrid(i,o);if(r)for(let i of r)(t?l.contains(i.elementBound):(0,iH.HY)(i.elementBound,e))&&s.add(i)}return i?s:Array.from(s).sort(iA)}update(e){this.remove(e),this.add(e)}get isEmpty(){return 0===this._grids.size}}class ij{static{this.INITAL_INDEX="a0"}constructor(e,t){this._doc=e,this._surface=t,this._disposables=new ix.K,this.blocks=[],this.blocksGrid=new iZ,this.canvasElements=[],this.canvasGrid=new iZ,this.canvasLayers=[],this.frames=[],this.framesGrid=new iZ,this.layers=[],this.slots={layerUpdated:new i_.D},this._reset()}static create(e,t){let i=new ij(e,t);return i.listen(e,t),i}_buildCanvasLayers(){let e=this.layers.filter(e=>"canvas"===e.type).map(e=>({set:e.set,elements:e.elements,zIndex:e.zIndex,indexes:e.indexes}));e.length&&ik.HV(this.layers)?.type==="canvas"||e.push({set:new Set,elements:[],zIndex:0,indexes:[ij.INITAL_INDEX,ij.INITAL_INDEX]}),this.canvasLayers=e}_getModelType(e){return"flavour"in e?"block":"canvas"}_initLayers(){let e,t=0,i=0,s=[],o=1,r=()=>{e&&(e.indexes=[iB(e.elements[0]),iB((0,ik.HV)(e.elements))],e.zIndex=o,s.push(e),o+="block"===e.type?e.elements.length:1)},a=t=>{r(),e="canvas"===t?{type:t,indexes:[ij.INITAL_INDEX,ij.INITAL_INDEX],zIndex:0,set:new Set,elements:[],bound:new m.z}:{type:t,indexes:[ij.INITAL_INDEX,ij.INITAL_INDEX],zIndex:0,set:new Set,elements:[]}};for(;t<this.blocks.length||i<this.canvasElements.length;){let s=this.blocks[t],o=this.canvasElements[i];if(!s&&!o)break;if(!s){e?.type!=="canvas"&&a("canvas"),(0,V.j)(e);let t=this.canvasElements.slice(i);e.elements=e.elements.concat(t),t.forEach(t=>e.set.add(t));break}if(!o){e?.type!=="block"&&a("block"),(0,V.j)(e);let i=this.blocks.slice(t);e.elements=e.elements.concat(i),i.forEach(t=>e.set.add(t));break}switch(iA(s,o)){case -1:e?.type!=="block"&&a("block"),(0,V.j)(e),e.set.add(s),e.elements.push(s),++t;break;case 1:e?.type!=="canvas"&&a("canvas"),(0,V.j)(e),e.set.add(o),e.elements.push(o),++i;break;case 0:e||a("block"),"block"===e.type?(e.set.add(s),e.elements.push(s),++t):(e.set.add(o),e.elements.push(o),++i)}}e&&e.elements.length&&r(),this.layers=s}_insertIntoLayer(e,t){if(0===this.layers.length){this._initLayers();return}let i=this.layers,o=i.length-1,r=(e,t,i)=>{(0,V.j)(e),(0,V.j)(t),"tail"===i?e.elements.push(t):e.elements.splice(i,0,t),e.set.add(t),("tail"===i||0===i||i===e.elements.length-1)&&(e.indexes=[iB(e.elements[0]),iB((0,ik.HV)(e.elements))])},a=(e,t,i)=>({type:e,set:new Set(t),indexes:[iB(t[0]),iB((0,ik.HV)(t))],zIndex:i+1,elements:t});if([s.AFTER,s.SAME].includes(iA(e,(0,ik.HV)((0,ik.HV)(this.layers).elements)))){let s=(0,ik.HV)(this.layers);s?.type===t?(r(s,e,"tail"),iI(i,o)):this.layers.push(a(t,[e],function(e,t){let i=e[t];return i?"block"===i.type?i.zIndex+i.elements.length-1:i.zIndex:1}(i,i.length-1)))}else for(;o>-1;){var n;let s=i[o],l=s.elements;if(iA(e,(n=[l[0],(0,ik.HV)(l)])[0])>=0&&0>iA(e,n[1])){let n=l.findIndex((t,i)=>{let s=l[i-1];return 0>iA(e,l[i])&&(!s||iA(e,s)>=0)});if(s.type===t)r(s,e,n),iI(i,o);else{let r=s.elements.splice(n);s.set=new Set(s.elements),i.splice(o+1,0,a(s.type,r,1)),i.splice(o+1,0,a(t,[e],1)),iI(i,o)}break}{let n=i[o-1];if(!n||iA(e,(0,ik.HV)(n.elements))>=0){s.type===t?(r(s,e,0),iI(i,o)):n?(r(n,e,"tail"),iI(i,o-1)):(i.unshift(a(t,[e],1)),iI(i,0));break}}--o}}_removeFromLayer(e,t){let i=this.layers,s=i.findIndex(i=>i.type===t&&((0,V.j)(i),(0,V.j)(e),!!i.set.has(e)&&(i.set.delete(e),-1!==i.elements.indexOf(e)&&(i.elements.splice(i.elements.indexOf(e),1),i.elements.length&&(i.indexes=[iB(i.elements[0]),iB((0,ik.HV)(i.elements))])),!0)));if(-1===s)return;let o=0===s||s===i.length-1;if(0===i[s].set.size){if(o)i.splice(s,1),i[s]&&iI(i,s);else{let e=i[s-1],t=i[s+1];e.elements=e.elements.concat(t.elements),e.set=new Set(e.elements),i.splice(s,2),iI(i,s-1)}return}iI(i,s)}_reset(){let e=this._doc.getBlocks().filter(e=>e instanceof iE.y&&iP(this._doc,this._surface,e)).concat(this._surface?.elementModels??[]);this.canvasElements=[],this.blocks=[],this.frames=[],e.forEach(e=>{e instanceof k.nz?(this.canvasElements.push(e),this.canvasGrid.add(e)):(0,iS.o)(e,["affine:frame"])?(this.framesGrid.add(e),this.frames.push(e)):(this.blocksGrid.add(e),this.blocks.push(e))}),this.canvasElements.sort(iA),this.frames.sort(iA),this.blocks.sort(iA),this._initLayers(),this._buildCanvasLayers()}_updateLayer(e,t){let i;let s="flavour"in e?e.flavour:e.type,o=!t||"index"in t,r=t&&"childIds"in t,a=("group"===s||e instanceof k.$b)&&(o||r),n=(e,t)=>{o&&(iO(e,t),iT(e,t))};return a?(this._reset(),!0):(s.startsWith("affine:")?(0,iS.o)(e,["affine:frame"])?(n(this.frames,e),this.framesGrid.update(e)):(i="block",n(this.blocks,e),this.blocksGrid.update(e)):(i="canvas",n(this.canvasElements,e),this.canvasGrid.update(e)),!!i&&(!!o||!!r)&&(this._removeFromLayer(e,i),this._insertIntoLayer(e,i),!0))}listen(e,t){this._disposables.add(e.slots.blockUpdated.on(i=>{if("add"===i.type){let s=e.getBlockById(i.id);s instanceof iE.y&&iP(e,t,s)&&-1===this.blocks.indexOf(s)&&this.add(s)}if("update"===i.type){let s=e.getBlockById(i.id);("index"===i.props.key||"xywh"===i.props.key&&s instanceof iE.y&&iP(e,t,s))&&this.update(s,{[i.props.key]:!0})}if("delete"===i.type){let t=e.getBlockById(i.id);t instanceof iE.y&&this.delete(t)}})),this._disposables.add(t.elementAdded.on(e=>this.add(t.getElementById(e.id)))),this._disposables.add(t.elementUpdated.on(e=>{(e.props.index||e.props.xywh||e.props.externalXYWH||e.props.childIds)&&this.update(t.getElementById(e.id),e.props)})),this._disposables.add(t.elementRemoved.on(e=>this.delete(e.model)))}add(e){let t;let i="flavour"in e?e.flavour:e.type,s="group"===i||e instanceof k.$b;i.startsWith("affine:")?(0,iS.o)(e,["affine:frame"])?(iT(this.frames,e),this.framesGrid.add(e)):(t="block",iT(this.blocks,e),this.blocksGrid.add(e)):(t="canvas",s&&e.childElements.forEach(e=>{e&&"canvas"===this._getModelType(e)&&iO(this.canvasElements,e)}),iT(this.canvasElements,e),this.canvasGrid.add(e)),t&&(this._insertIntoLayer(e,t),s&&e.childElements.forEach(e=>e&&this._updateLayer(e)),this._buildCanvasLayers(),this.slots.layerUpdated.emit({type:"add",initiatingElement:e}))}compare(e,t){return iA(e,t)}createIndexGenerator(e=!1){let t=new ij(this._doc,this._surface);return i=>{e&&"affine:frame"!==i&&(i="shape");let s=t.generateIndex(i),o=new m.z(0,0,10,10);"group"===i&&(i="shape");let r={index:s,flavour:i,x:0,y:0,w:10,h:10,elementBound:o,xywh:"[0, 0, 10, 10]",get group(){return null},get groups(){return[]}};return t.add(r),s}}delete(e){let t;if(e instanceof k.$b){this._reset(),this.slots.layerUpdated.emit({type:"delete",initiatingElement:e});return}e instanceof k.nz?(t="canvas",iO(this.canvasElements,e),this.canvasGrid.remove(e)):(0,iS.o)(e,["affine:frame"])?(iO(this.frames,e),this.framesGrid.remove(e)):(t="block",iO(this.blocks,e),this.blocksGrid.remove(e)),t&&(this._removeFromLayer(e,t),this._buildCanvasLayers(),this.slots.layerUpdated.emit({type:"delete",initiatingElement:e}))}dispose(){this.slots.layerUpdated.dispose(),this._disposables.dispose()}generateIndex(e){let t="affine:frame"===e?"frame":"common",i=e.startsWith("affine:")?"block":"canvas";if("frame"===t){let e=(0,ik.HV)(this.frames);return e?(0,iC.TU)(i$(iB(e)),null):ij.INITAL_INDEX}{if("canvas"===i){let e=ik.HV(this.layers)?.indexes[1];return e?(0,iC.TU)(i$(e),null):ij.INITAL_INDEX}let e=(0,ik.HV)(this.layers);if(!e)return ij.INITAL_INDEX;if((0,V.j)(e),"canvas"===e.type){let t=(0,ik.E7)(this.layers,2),i=t?i$(t.indexes[1]):null,s=i$(e.indexes[0]);return(0,iC.TU)(i,i&&i>=s?null:s)}return(0,iC.TU)(e.indexes[1],null)}}getCanvasLayers(){return this.canvasLayers}getReorderedIndex(e,t){let i;let s=e.group||null,o="affine:frame"===e.flavour;null!==s?(i=s.childElements.filter(e=>e?.flavour==="affine:frame"===o)).sort(iA):i=o?this.frames:this.layers.reduce((e,t)=>e.concat(t.elements.filter(e=>null==e.group)),[]);let r=i.indexOf(e);switch(t){case"forward":case"front":if(-1===r||r===i.length-1)return e.index;{let e="forward"===t?i[r+1]:i[i.length-1],s="forward"===t?i[r+2]:null;return(0,iC.TU)(e.index,s?.index&&e.index<s.index?s.index:null)}case"backward":case"back":if(-1===r||0===r)return e.index;{let e="backward"===t?i[r-1]:i[0],s="backward"===t?i[r-2]:null;return(0,iC.TU)(!s||s?.index>=e.index?null:s.index,e.index)}}}getZIndex(e){if(e instanceof iM.K)return this.frames.indexOf(e)-this.frames.length;let t=this.layers.find(t=>t.set.has(e));return t?t.zIndex+t.elements.indexOf(e):-1}update(e,t){this._updateLayer(e,t)&&(this._buildCanvasLayers(),this.slots.layerUpdated.emit({type:"update",initiatingElement:e}))}}var iV=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},iR=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let iz=(()=>{let e,t,i=[(0,L.EM)("mini-mindmap-surface-block")],s=[],o=P.p_,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;iV(this,null,[(0,L.P)(".affine-mini-mindmap-surface")],{kind:"accessor",name:"editorContainer",static:!1,private:!1,access:{has:e=>"editorContainer"in e,get:e=>e.editorContainer,set:(e,t)=>{e.editorContainer=t}},metadata:n},r,a),iV(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),iR(t,s)}constructor(){super(),iR(this,a),this._viewport=new iw}_adjustNodeWidth(){this.model.doc.transact(()=>{this.model.elementModels.forEach(e=>{"shape"===e.type&&(0,x.hw)(e)})})}_resizeEffect(){let e=new ResizeObserver(()=>{this._viewport.onResize()});e.observe(this.editorContainer),this._disposables.add(()=>{e.disconnect()})}_setupCenterEffect(){this._disposables.add(this.mindmapService.requestCenter.on(()=>{let e;this.model.elementModels.forEach(t=>{e=e?e.unite(t.elementBound):t.elementBound}),e&&this._viewport.setViewportByBound(e,[10,10,10,10])}))}_setupRenderer(){this._disposables.add(this.model.elementUpdated.on(()=>{this._renderer?.refresh(),this.mindmapService.center()})),this._viewport.ZOOM_MIN=.01}connectedCallback(){super.connectedCallback(),this._layer=ij.create(this.doc,this.model),this._viewport=new iw,this._renderer=new _.A({viewport:this._viewport,layerManager:this._layer,enableStackingCanvas:!0,provider:{selectedElements:()=>[],getColorScheme:()=>im.Q.mode,getColorValue:(e,t,i)=>im.Q.getColorValue(e,t,i),generateColorProperty:(e,t)=>im.Q.generateColorProperty(e,t),getPropertyValue:e=>im.Q.getPropertyValue(e)}})}firstUpdated(e){this._renderer?.attach(this.editorContainer),this._viewport.setContainer(this.editorContainer),this._resizeEffect(),this._setupCenterEffect(),this._setupRenderer(),this._adjustNodeWidth(),this.mindmapService.center()}render(){return(0,H.qy)`
      <style>
        .affine-mini-mindmap-surface {
          width: 100%;
          height: 100%;
        }
      </style>
      <div class="affine-mini-mindmap-surface">
        <!-- attach cavnas later in renderer -->
      </div>
    `}get mindmapService(){return this.host.spec.getService("affine:page")}#V=iR(this,r,void 0);get editorContainer(){return this.#V}set editorContainer(e){this.#V=e}},t})();var iF=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},iN=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(0,A.lQ)(il),(0,A.lQ)(iz);let iq=[[io.cy.ONE,t7],[io.cy.TWO,t3],[io.cy.THREE,t4],[io.cy.FOUR,t6]],iU=(()=>{let e,t,i,s,o,r,a,n,l,c=[(0,L.EM)("mini-mindmap-preview")],d=[],h=(0,P.Tm)(H.WF),u=[],p=[],f=[],g=[],m=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[];return class extends h{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.P)("editor-host")],l=[(0,L.MZ)({attribute:!1})],iF(this,null,i,{kind:"accessor",name:"answer",static:!1,private:!1,access:{has:e=>"answer"in e,get:e=>e.answer,set:(e,t)=>{e.answer=t}},metadata:v},u,p),iF(this,null,s,{kind:"accessor",name:"ctx",static:!1,private:!1,access:{has:e=>"ctx"in e,get:e=>e.ctx,set:(e,t)=>{e.ctx=t}},metadata:v},f,g),iF(this,null,o,{kind:"accessor",name:"height",static:!1,private:!1,access:{has:e=>"height"in e,get:e=>e.height,set:(e,t)=>{e.height=t}},metadata:v},m,y),iF(this,null,r,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:v},b,w),iF(this,null,a,{kind:"accessor",name:"mindmapStyle",static:!1,private:!1,access:{has:e=>"mindmapStyle"in e,get:e=>e.mindmapStyle,set:(e,t)=>{e.mindmapStyle=t}},metadata:v},x,_),iF(this,null,n,{kind:"accessor",name:"portalHost",static:!1,private:!1,access:{has:e=>"portalHost"in e,get:e=>e.portalHost,set:(e,t)=>{e.portalHost=t}},metadata:v},C,k),iF(this,null,l,{kind:"accessor",name:"templateShow",static:!1,private:!1,access:{has:e=>"templateShow"in e,get:e=>e.templateShow,set:(e,t)=>{e.templateShow=t}},metadata:v},S,M),iF(null,e={value:t},c,{kind:"class",name:t.name,metadata:v},null,d),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    mini-mindmap-root-block,
    mini-mindmap-surface-block,
    editor-host {
      display: block;
      width: 100%;
      height: 100%;
    }

    .select-template-title {
      align-self: stretch;

      color: var(
        --light-textColor-textSecondaryColor,
        var(--textColor-textSecondaryColor, #8e8d91)
      );

      font-family: Inter;
      font-size: 12px;
      font-style: normal;
      font-weight: 500;
      line-height: 20px;

      margin-bottom: 4px;
    }

    .template {
      display: flex;
      gap: 12px;
    }

    .template-item {
      box-sizing: border-box;
      border: 2px solid var(--affine-border-color);
      border-radius: 4px;
      padding: 4px 6px;
    }

    .template-item.active,
    .template-item:hover {
      border-color: var(--affine-brand-color);
    }

    .template-item > svg {
      display: block;
    }
  `}_createTemporaryDoc(){let e=new v.Sj;e.register(ig);let t={id:"MINI_MINDMAP_TEMPORARY",schema:e,idGenerator:v.jH.NanoID,awarenessSources:[]},i=new v.rl(t);i.meta.initialize(),i.start();let s=i.createDoc({id:"doc:home"}).load(),o=s.addBlock("affine:page",{}),r=s.addBlock("affine:surface",{},o),a=s.getBlockById(r);return s.resetHistory(),{doc:s,surface:a}}get _mindmap(){return this.surface?.getElementById(this.mindmapId||"")??null}_switchStyle(e){this._mindmap&&this.doc&&(this.doc.transact(()=>{this._mindmap.style=e}),this.ctx.set({...this.ctx.get(),style:e}),this.requestUpdate())}_toMindmapNode(e,t){return iW(e,t)}connectedCallback(){super.connectedCallback();let e=this._createTemporaryDoc(),t=this._toMindmapNode(this.answer,e.doc);if(!t)return;this.doc=e.doc,this.surface=e.surface,this.mindmapId=this.surface.addElement({type:"mindmap",children:t,style:this.mindmapStyle??io.cy.FOUR});let i=this._mindmap?.tree.element.xywh;this.ctx.set({node:t,style:io.cy.FOUR,centerPosition:i})}render(){if(!this.doc||!this.surface||!this._mindmap)return H.s6;let e=this._mindmap.style;return(0,H.qy)` <div>
      <div
        style=${(0,Z.W)({height:this.height+"px",border:"1px solid var(--affine-border-color)",borderRadius:"4px"})}
      >
        ${this.host.renderSpecPortal(this.doc,ip)}
      </div>

      ${this.templateShow?(0,H.qy)` <div class="select-template-title">Select template</div>
            <div class="template">
              ${(0,D.u)(iq,([e])=>e,([t,i])=>(0,H.qy)`<div
                    class=${`template-item ${e===t?"active":""}`}
                    @click=${()=>this._switchStyle(t)}
                  >
                    ${i}
                  </div>`)}
            </div>`:H.s6}
    </div>`}#R=iN(this,u,void 0);get answer(){return this.#R}set answer(e){this.#R=e}#z=(iN(this,p),iN(this,f,void 0));get ctx(){return this.#z}set ctx(e){this.#z=e}#F=(iN(this,g),iN(this,m,400));get height(){return this.#F}set height(e){this.#F=e}#n=(iN(this,y),iN(this,b,void 0));get host(){return this.#n}set host(e){this.#n=e}#N=(iN(this,w),iN(this,x,void 0));get mindmapStyle(){return this.#N}set mindmapStyle(e){this.#N=e}#q=(iN(this,_),iN(this,C,void 0));get portalHost(){return this.#q}set portalHost(e){this.#q=e}#U=(iN(this,k),iN(this,S,!0));get templateShow(){return this.#U}set templateShow(e){this.#U=e}constructor(){super(...arguments),iN(this,M)}static{iN(t,d)}},t})(),iW=(e,t)=>{let i=null,s=new ec(new v._O({collection:t.collection}))._markdownToAst(e),o=(e,t=!1)=>{switch(e.type){case"list":{let i=e.children.map(e=>o(e)).filter(e=>e);if(t)return i[0]}break;case"listItem":{let t=e.children[0],i=e.children[1],s={text:"",children:[]};return t?.type==="paragraph"&&t.children[0]?.type==="text"&&(s.text=t.children[0].value),i?.type==="list"&&(s.children=i.children.map(e=>o(e)).filter(e=>e)),s}}return null};return s?.children?.[0]?.type==="list"&&(i=o(s.children[0],!0)),i};var iG=i(4536);i(11623),i(40907);var iY=i(61677),iK=i(30397);let iX={gapHorizontal:130,gapVertical:10,x:0,y:0},iQ=e=>e.reduce((e,t)=>e+t,0),iJ=(e,t)=>{let{height:i}=e,s=e.children.map(e=>iJ(e,t));return{self:e,height:Math.max(i,s.reduce((e,t)=>e+t.height,0)+t.gapVertical*(s.length-1)),children:s}},i1=(e,t,i,s)=>{let{self:o,children:r,height:a}=e,n={self:{x:t,y:i-o.height/2,width:o.width,height:o.height},children:[]},l=i-a/2;return r.forEach(i=>{let{height:o}=i,r=l+o/2;l+=o+s.gapVertical,n.children.push(i1(i,t+e.self.width+s.gapHorizontal,r,s))}),n},i0=(e,t,i,s)=>{let{self:o,children:r,height:a}=e,n={self:{x:t-o.width,y:i-o.height/2,width:o.width,height:o.height},children:[]},l=i-a/2;return r.forEach(i=>{let{height:o}=i,r=l+o/2;l+=o+s.gapVertical,n.children.push(i0(i,t-e.self.width-s.gapHorizontal,r,s))}),n},i2=(e,t)=>{let{width:i}=e,s=e.children.map(e=>i2(e,t));return{self:e,width:Math.max(i,s.reduce((e,t)=>e+t.width,0)+t.gapHorizontal*(s.length-1)),children:s}},i5=(e,t,i,s)=>{let{self:o,children:r,width:a}=e,n={self:{x:t,y:i,width:o.width,height:o.height},children:[]},l=t-a/2;return r.forEach(e=>{let{self:t,width:o}=e,r=l+o/2;l+=o+s.gapHorizontal,n.children.push(i5(e,r,i-t.height-s.gapVertical,s))}),n},i7=(e,t,i,s)=>{let{self:o,children:r,width:a}=e,n={self:{x:t,y:i,width:o.width,height:o.height},children:[]},l=t-a/2;return r.forEach(e=>{let{self:t,width:o}=e,r=l+o/2;l+=o+s.gapHorizontal,n.children.push(i7(e,r,i+t.height+s.gapVertical,s))}),n},i3={right:(e,t)=>{let i={...iX,...t};return i1(iJ(e,i),i.x,i.y,i)},left:(e,t)=>{let i={...iX,...t};return i0(iJ(e,i),0,0,i)},leftRight:(e,t)=>{let i={...iX,...t},s=e.children.map(e=>iJ(e,i)),o=s.reduce((e,t)=>Math.max(e,t.height),0)/2,r=[],a=[],n=!0,l=0;s.forEach(e=>{n?r.push(e):a.push(e),l+=e.height,n&&l>o&&(n=!1,l=0)});let c=0-(iQ(a.map(e=>e.height))+i.gapVertical*(a.length-1))/2,d=0-(r.reduce((e,t)=>e+t.height,0)+i.gapVertical*(r.length-1))/2,h={self:{x:0-e.width/2,y:0-e.height/2,width:e.width,height:e.height},children:[]};return r.forEach(t=>{h.children.push(i0(t,0-(e.width/2+i.gapHorizontal),d+t.height/2,i)),d+=t.height+i.gapVertical}),a.forEach(t=>{h.children.push(i1(t,e.width/2+i.gapHorizontal,c+t.height/2,i)),c+=t.height+i.gapVertical}),h},top:(e,t)=>{let i={...iX,...t};return i5(i2(e,i),0,0,i)},bottom:(e,t)=>{let i={...iX,...t};return i7(i2(e,i),0,0,i)},topBottom:(e,t)=>{let i={...iX,...t},s=e.children.map(e=>i2(e,i)),o=s.reduce((e,t)=>Math.max(e,t.width),0)/2,r=[],a=[],n=!0,l=0;s.forEach(e=>{n?r.push(e):a.push(e),l+=e.width,n&&l>o&&(n=!1,l=0)});let c=0-(iQ(r.map(e=>e.width))+i.gapHorizontal*(r.length-1))/2,d=0-(a.reduce((e,t)=>e+t.width,0)+i.gapHorizontal*(a.length-1))/2,h={self:{x:0,y:0,width:e.width,height:e.height},children:[]};return r.forEach(t=>{h.children.push(i5(t,c+t.width/2,0-(e.height/2+i.gapVertical),i)),c+=t.width+i.gapHorizontal}),a.forEach(t=>{h.children.push(i7(t,d+t.width/2,e.height/2+i.gapVertical,i)),d+=t.width+i.gapHorizontal}),h}},i4={shapeType:"rect",strokeColor:"--affine-palette-line-blue",fillColor:"--affine-palette-shape-blue",radius:.1,strokeWidth:2,strokeStyle:C.u1.Solid,shapeStyle:C.lH.General},i6={stroke:"--affine-palette-line-black",mode:S.B1.Orthogonal,strokeWidth:2,strokeStyle:C.u1.Solid,frontEndpointStyle:"None",rearEndpointStyle:"None"},i8={left:{from:[0,.5],to:[1,.5]},right:{from:[1,.5],to:[0,.5]},top:{from:[.5,0],to:[.5,1]},bottom:{from:[.5,1],to:[.5,0]}},i9=(e,t,i)=>{let s=[],o=[],r=(e,a=!1)=>{let{text:n,children:l}=e,c=e.id?e.id:a&&i?.rootId?i.rootId:t.addElement(E.J9.SHAPE,{...i4,xywh:"[0,0,0,0]",text:new v.rl.Y.Text(n)});s.push(c);let d=t.getElementById(c),h=Math.max(...n.split("\n").map(e=>T(e,(0,y.Dy)(d))))+2*b.OL,u=(0,w.d)(d,new m.z(0,0,Math.max(148,Math.min(600,h)),78));return{id:c,width:u.w,height:u.h,children:l.map(e=>{let t=r(e);return o.push({from:c,to:t.id}),t})}},a=r(e,!0),n=i?.rootId?t.getElementById(i.rootId):void 0,l=i3.right(a,{gapHorizontal:130,gapVertical:10,x:n?n.x:i?.x??0,y:n?n.y:i?.y??0}),c=(e,i)=>{let{id:s,width:o,height:r}=e,{x:a,y:n}=i.self;t.updateElement(s,{xywh:`[${a},${n},${o},${r}]`}),e.children.forEach((e,t)=>{c(e,i.children[t])})};return c(a,l),{shapeIds:s,connectorIds:[]}},se=(e,t,i)=>{let s=e=>{let{children:i,id:o}=e,r=t.getElementById(o);return{id:o,width:r.w,height:r.h,children:i.map(e=>s(e))}},o=s(e),r=i?.rootId?t.getElementById(i.rootId):void 0,a=i3.right(o,{gapHorizontal:130,gapVertical:10,x:r?r.x:i?.x??0,y:r?r.y:i?.y??0}),n=(e,i)=>{let{id:s,width:o,height:r}=e,{x:a,y:l}=i.self;t.updateElement(s,{xywh:`[${a},${l},${o},${r}]`}),e.children.forEach((e,t)=>{n(e,i.children[t])})};n(o,a)};var st=i(60019),si=i(46317),ss=i(10859);let so=new class{constructor(e){this.maxSize=e,this.cache=new Map}get(e){let t=this.cache.get(e);return void 0===t?null:(this.cache.delete(e),this.cache.set(e,t),t)}set(e,t){if(this.cache.size>=this.maxSize){let e=this.cache.keys().next().value;this.cache.delete(e)}this.cache.set(e,t)}}(4e3);var sr=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},sa=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o=[(0,L.EM)("affine-code-line")],r=[],a=P.ao,n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({type:Object})],s=[(0,L.MZ)({attribute:!1})],sr(this,null,i,{kind:"accessor",name:"delta",static:!1,private:!1,access:{has:e=>"delta"in e,get:e=>e.delta,set:(e,t)=>{e.delta=t}},metadata:h},n,l),sr(this,null,s,{kind:"accessor",name:"highlightOptionsGetter",static:!1,private:!1,access:{has:e=>"highlightOptionsGetter"in e,get:e=>e.highlightOptionsGetter,set:(e,t)=>{e.highlightOptionsGetter=t}},metadata:h},c,d),sr(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),sa(t,r)}render(){(0,V.Z1)(this.highlightOptionsGetter,"highlightOptionsGetter is not set");let{lang:e,highlighter:t}=this.highlightOptionsGetter();if(!t||!t.getLoadedLanguages().includes(e))return(0,H.qy)`<span><v-text .str=${this.delta.insert}></v-text></span>`;let i=im.Q.mode,s=`${this.delta.insert}-${e}-${i}`,o=so.get(s),r=[{content:this.delta.insert}];o?r=o:(r=t.codeToTokensBase(this.delta.insert,{lang:e,theme:"dark"===i?ss.n0:ss.dA})[0],so.set(s,r));let a=r.map(e=>(0,H.qy)`<v-text
        .str=${e.content}
        style=${(0,Z.W)({color:e.color})}
      ></v-text>`);return(0,H.qy)`<span>${a}</span>`}#W=sa(this,n,{insert:si.pe});get delta(){return this.#W}set delta(e){this.#W=e}#G=(sa(this,l),sa(this,c,null));get highlightOptionsGetter(){return this.#G}set highlightOptionsGetter(e){this.#G=e}constructor(){super(...arguments),sa(this,d)}})})();var sn=i(63820),sl=i(71323),sc=i(72938);let sd=Symbol("editor-host");var sh=i(31980),su=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},sp=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let sf=(()=>{let e,t,i,s=(0,sh.Jb)((0,P.Tm)(P.ao)),o=[],r=[],a=[],n=[],l=[],c=[];return class extends s{static{let d="function"==typeof Symbol&&Symbol.metadata?Object.create(s[Symbol.metadata]??null):void 0;e=[(0,L.MZ)({attribute:!1})],t=[(0,L.MZ)({attribute:!1})],i=[(0,L.MZ)({attribute:!1})],su(this,null,e,{kind:"accessor",name:"cell",static:!1,private:!1,access:{has:e=>"cell"in e,get:e=>e.cell,set:(e,t)=>{e.cell=t}},metadata:d},o,r),su(this,null,t,{kind:"accessor",name:"isEditing",static:!1,private:!1,access:{has:e=>"isEditing"in e,get:e=>e.isEditing,set:(e,t)=>{e.isEditing=t}},metadata:d},a,n),su(this,null,i,{kind:"accessor",name:"selectCurrentCell",static:!1,private:!1,access:{has:e=>"selectCurrentCell"in e,get:e=>e.selectCurrentCell,set:(e,t)=>{e.selectCurrentCell=t}},metadata:d},l,c),d&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:d})}beforeEnterEditMode(){return!0}blurCell(){return!0}connectedCallback(){super.connectedCallback(),this.style.width="100%",this._disposables.addFromEvent(this,"click",e=>{this.isEditing&&e.stopPropagation()}),this._disposables.addFromEvent(this,"copy",e=>{this.isEditing&&(e.stopPropagation(),this.onCopy(e))}),this._disposables.addFromEvent(this,"cut",e=>{this.isEditing&&(e.stopPropagation(),this.onCut(e))}),this._disposables.addFromEvent(this,"paste",e=>{this.isEditing&&(e.stopPropagation(),this.onPaste(e))})}focusCell(){return!0}forceUpdate(){this.requestUpdate()}onChange(e){this.cell.setValue(e)}onCopy(e){}onCut(e){}onEnterEditMode(){}onExitEditMode(){}onPaste(e){}get column(){return this.cell.column}get readonly(){return this.readonly$.value}get row(){return this.cell.row}get value(){return this.value$.value}get view(){return this.cell.view}#Y;get cell(){return this.#Y}set cell(e){this.#Y=e}#K;get isEditing(){return this.#K}set isEditing(e){this.#K=e}#X;get selectCurrentCell(){return this.#X}set selectCurrentCell(e){this.#X=e}constructor(){super(...arguments),this.readonly$=(0,sh.EW)(()=>this.cell.column.readonly$.value),this.value$=(0,sh.EW)(()=>this.cell.value$.value),this.#Y=sp(this,o,void 0),this.#K=(sp(this,r),sp(this,a,void 0)),this.#X=(sp(this,n),sp(this,l,void 0)),sp(this,c)}}})();var sg=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},sm=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let sv=(e,t,i)=>(0,H.qy)` <uni-lit
    .uni="${e}"
    .props="${t}"
    .ref="${i?.ref}"
    style=${i?.style?(0,Z.W)(i?.style):""}
  ></uni-lit>`;(()=>{let e,t,i,s,o,r=[(0,L.EM)("uni-lit")],a=[],n=P.ao,l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],sg(this,null,i,{kind:"accessor",name:"props",static:!1,private:!1,access:{has:e=>"props"in e,get:e=>e.props,set:(e,t)=>{e.props=t}},metadata:f},l,c),sg(this,null,s,{kind:"accessor",name:"ref",static:!1,private:!1,access:{has:e=>"ref"in e,get:e=>e.ref,set:(e,t)=>{e.ref=t}},metadata:f},d,h),sg(this,null,o,{kind:"accessor",name:"uni",static:!1,private:!1,access:{has:e=>"uni"in e,get:e=>e.uni,set:(e,t)=>{e.uni=t}},metadata:f},u,p),sg(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    uni-lit {
      display: contents;
    }
  `}mount(){this.uniReturn=this.uni?.(this,this.props),this.ref&&(this.ref.value=this.uniReturn?.expose)}unmount(){this.uniReturn?.unmount()}connectedCallback(){super.connectedCallback(),this.mount()}disconnectedCallback(){super.disconnectedCallback(),this.unmount()}render(){return(0,H.qy)``}updated(e){super.updated(e),e.has("uni")?(this.unmount(),this.mount()):e.has("props")&&this.uniReturn?.update(this.props)}get expose(){return this.uniReturn?.expose}#Q=sm(this,l,void 0);get props(){return this.#Q}set props(e){this.#Q=e}#J=(sm(this,c),sm(this,d,void 0));get ref(){return this.#J}set ref(e){this.#J=e}#ee=(sm(this,h),sm(this,u,void 0));get uni(){return this.#ee}set uni(e){this.#ee=e}constructor(){super(...arguments),sm(this,p)}static{sm(t,a)}})})();let sy=e=>(t,i)=>{let s=new e;return Object.assign(s,i),t.append(s),{update:e=>{Object.assign(s,e),s.requestUpdate()},unmount:()=>{s.remove()},expose:s}},sb=(()=>{let e,t,i,s,o,r=[(0,L.EM)("uni-any-render")],a=[],n=(0,sh.Jb)(P.ao),l=[],c=[],d=[],h=[],u=[],p=[];return class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],sg(this,null,i,{kind:"accessor",name:"expose",static:!1,private:!1,access:{has:e=>"expose"in e,get:e=>e.expose,set:(e,t)=>{e.expose=t}},metadata:f},l,c),sg(this,null,s,{kind:"accessor",name:"props",static:!1,private:!1,access:{has:e=>"props"in e,get:e=>e.props,set:(e,t)=>{e.props=t}},metadata:f},d,h),sg(this,null,o,{kind:"accessor",name:"renderTemplate",static:!1,private:!1,access:{has:e=>"renderTemplate"in e,get:e=>e.renderTemplate,set:(e,t)=>{e.renderTemplate=t}},metadata:f},u,p),sg(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f}),sm(t,a)}render(){return this.renderTemplate(this.props,this.expose)}#et=sm(this,l,void 0);get expose(){return this.#et}set expose(e){this.#et=e}#Q=(sm(this,c),sm(this,d,void 0));get props(){return this.#Q}set props(e){this.#Q=e}#ei=(sm(this,h),sm(this,u,void 0));get renderTemplate(){return this.#ei}set renderTemplate(e){this.#ei=e}constructor(){super(...arguments),sm(this,p)}},t})(),sw=e=>(t,i)=>{let s=new sb;return s.props=i,s.expose={},s.renderTemplate=e,t.append(s),{update:e=>{s.props=e,s.requestUpdate()},unmount:()=>{s.remove()},expose:s.expose}},sx=e=>sy(e),s_=e=>e,sC=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M3.75 9.5C3.75 6.32436 6.32436 3.75 9.5 3.75C12.6756 3.75 15.25 6.32436 15.25 9.5C15.25 12.6756 12.6756 15.25 9.5 15.25C6.32436 15.25 3.75 12.6756 3.75 9.5ZM9.5 2.25C5.49594 2.25 2.25 5.49594 2.25 9.5C2.25 13.5041 5.49594 16.75 9.5 16.75C11.2319 16.75 12.8219 16.1427 14.0689 15.1295L19.4697 20.5303C19.7626 20.8232 20.2374 20.8232 20.5303 20.5303C20.8232 20.2374 20.8232 19.7626 20.5303 19.4697L15.1295 14.0689C16.1427 12.8219 16.75 11.2319 16.75 9.5C16.75 5.49594 13.5041 2.25 9.5 2.25Z"
    fill="currentColor"
  />
</svg> `,sk=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M6 3.25C4.48122 3.25 3.25 4.48122 3.25 6V14C3.25 15.5188 4.48122 16.75 6 16.75H7.25V18C7.25 19.5188 8.48122 20.75 10 20.75H18C19.5188 20.75 20.75 19.5188 20.75 18V10C20.75 8.48122 19.5188 7.25 18 7.25H16.75V6C16.75 4.48122 15.5188 3.25 14 3.25H6ZM10 7.25H15.25V6C15.25 5.30964 14.6904 4.75 14 4.75H6C5.30964 4.75 4.75 5.30964 4.75 6V14C4.75 14.6904 5.30964 15.25 6 15.25H8C8.41421 15.25 8.75 15.5858 8.75 16V18C8.75 18.6904 9.30964 19.25 10 19.25H18C18.6904 19.25 19.25 18.6904 19.25 18V10C19.25 9.30964 18.6904 8.75 18 8.75H16H10C9.46561 8.75 9.00774 9.08568 8.82933 9.56024C8.68357 9.94796 8.2511 10.1441 7.86338 9.99835C7.47566 9.85259 7.27951 9.42012 7.42527 9.0324C7.81633 7.99216 8.82056 7.25 10 7.25ZM12.8871 10.489C12.6049 10.1858 12.1303 10.1688 11.8271 10.451C11.524 10.7333 11.507 11.2078 11.7892 11.511L12.4771 12.25H7.79999C7.38577 12.25 7.04999 12.5858 7.04999 13C7.04999 13.4142 7.38577 13.75 7.79999 13.75H12.4771L11.7892 14.489C11.507 14.7922 11.524 15.2667 11.8271 15.549C12.1303 15.8312 12.6049 15.8142 12.8871 15.511L14.7489 13.511C15.017 13.2231 15.017 12.7769 14.7489 12.489L12.8871 10.489Z"
    fill="currentColor"
  />
</svg> `,sS=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M14 3.75C13.0335 3.75 12.25 4.5335 12.25 5.5V18.5C12.25 19.4665 13.0335 20.25 14 20.25H18C18.9665 20.25 19.75 19.4665 19.75 18.5V5.5C19.75 4.5335 18.9665 3.75 18 3.75H14ZM13.75 5.5C13.75 5.36193 13.8619 5.25 14 5.25H18C18.1381 5.25 18.25 5.36193 18.25 5.5V18.5C18.25 18.6381 18.1381 18.75 18 18.75H14C13.8619 18.75 13.75 18.6381 13.75 18.5V5.5ZM8.25 9.5C8.25 9.08579 7.91421 8.75 7.5 8.75C7.08579 8.75 6.75 9.08579 6.75 9.5V11.25H5C4.58579 11.25 4.25 11.5858 4.25 12C4.25 12.4142 4.58579 12.75 5 12.75H6.75V14.5C6.75 14.9142 7.08579 15.25 7.5 15.25C7.91421 15.25 8.25 14.9142 8.25 14.5V12.75H10C10.4142 12.75 10.75 12.4142 10.75 12C10.75 11.5858 10.4142 11.25 10 11.25H8.25V9.5Z"
    fill="currentColor"
  />
</svg> `,sM=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M6 3.75C5.0335 3.75 4.25 4.5335 4.25 5.5V18.5C4.25 19.4665 5.0335 20.25 6 20.25H10C10.9665 20.25 11.75 19.4665 11.75 18.5V5.5C11.75 4.5335 10.9665 3.75 10 3.75H6ZM5.75 5.5C5.75 5.36193 5.86193 5.25 6 5.25H10C10.1381 5.25 10.25 5.36193 10.25 5.5V18.5C10.25 18.6381 10.1381 18.75 10 18.75H6C5.86193 18.75 5.75 18.6381 5.75 18.5V5.5ZM17.25 9.5C17.25 9.08579 16.9142 8.75 16.5 8.75C16.0858 8.75 15.75 9.08579 15.75 9.5V11.25H14C13.5858 11.25 13.25 11.5858 13.25 12C13.25 12.4142 13.5858 12.75 14 12.75H15.75V14.5C15.75 14.9142 16.0858 15.25 16.5 15.25C16.9142 15.25 17.25 14.9142 17.25 14.5V12.75H19C19.4142 12.75 19.75 12.4142 19.75 12C19.75 11.5858 19.4142 11.25 19 11.25H17.25V9.5Z"
    fill="currentColor"
  />
</svg> `,sE=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M4 4V20M8 12H20M8 12L12 8M8 12L12 16"
    stroke="currentColor"
    stroke-width="1.5"
    stroke-linecap="round"
    stroke-linejoin="round"
  />
</svg>`,sI=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M20 4V20M4 12H16M16 12L12 8M16 12L12 16"
    stroke="currentColor"
    stroke-width="1.5"
    stroke-linecap="round"
    stroke-linejoin="round"
  />
</svg>`,sB=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M4 5L6.42929 7.42929C6.46834 7.46834 6.53166 7.46834 6.57071 7.42929L9 5"
    stroke="currentColor"
    stroke-width="1.5"
    stroke-linecap="round"
  />
  <path
    d="M4 11L6.42929 13.4293C6.46834 13.4683 6.53166 13.4683 6.57071 13.4293L9 11"
    stroke="currentColor"
    stroke-width="1.5"
    stroke-linecap="round"
  />
  <path
    d="M4 17L6.42929 19.4293C6.46834 19.4683 6.53166 19.4683 6.57071 19.4293L9 17"
    stroke="currentColor"
    stroke-width="1.5"
    stroke-linecap="round"
  />
  <path
    d="M12 6L20 6"
    stroke="currentColor"
    stroke-width="1.5"
    stroke-linecap="round"
  />
  <path
    d="M12 12L20 12"
    stroke="currentColor"
    stroke-width="1.5"
    stroke-linecap="round"
  />
  <path
    d="M12 18L20 18"
    stroke="currentColor"
    stroke-width="1.5"
    stroke-linecap="round"
  />
</svg>`,s$=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M18.5 4L12.5 20"
    stroke="currentColor"
    stroke-width="1.5"
    stroke-linecap="round"
  />
  <path
    d="M12 4L6 20"
    stroke="currentColor"
    stroke-width="1.5"
    stroke-linecap="round"
  />
  <path
    d="M20 8.5H5.5"
    stroke="currentColor"
    stroke-width="1.5"
    stroke-linecap="round"
  />
  <path
    d="M19 15L4 15"
    stroke="currentColor"
    stroke-width="1.5"
    stroke-linecap="round"
  />
</svg>`,sT=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M12 3.75C7.44365 3.75 3.75 7.44365 3.75 12C3.75 16.5563 7.44365 20.25 12 20.25C16.5563 20.25 20.25 16.5563 20.25 12C20.25 7.44365 16.5563 3.75 12 3.75ZM2.25 12C2.25 6.61522 6.61522 2.25 12 2.25C17.3848 2.25 21.75 6.61522 21.75 12C21.75 17.3848 17.3848 21.75 12 21.75C6.61522 21.75 2.25 17.3848 2.25 12Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.46967 10.4697C7.76256 10.1768 8.23744 10.1768 8.53033 10.4697L12 13.9393L15.4697 10.4697C15.7626 10.1768 16.2374 10.1768 16.5303 10.4697C16.8232 10.7626 16.8232 11.2374 16.5303 11.5303L12.601 15.4596C12.2691 15.7916 11.7309 15.7916 11.399 15.4596L7.46967 11.5303C7.17678 11.2374 7.17678 10.7626 7.46967 10.4697Z"
  />
</svg>`,sO=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M15 4.25C15.4142 4.25 15.75 4.58579 15.75 5V6.25H18C20.0711 6.25 21.75 7.92893 21.75 10V14C21.75 16.0711 20.0711 17.75 18 17.75H15.75V19C15.75 19.4142 15.4142 19.75 15 19.75C14.5858 19.75 14.25 19.4142 14.25 19V17.75H6C3.92893 17.75 2.25 16.0711 2.25 14V10C2.25 7.92893 3.92893 6.25 6 6.25H14.25V5C14.25 4.58579 14.5858 4.25 15 4.25ZM14.25 7.75H6C4.75736 7.75 3.75 8.75736 3.75 10V14C3.75 15.2426 4.75736 16.25 6 16.25H14.25V7.75ZM15.75 16.25H18C19.2426 16.25 20.25 15.2426 20.25 14V10C20.25 8.75736 19.2426 7.75 18 7.75H15.75V16.25ZM6 9.25C6.41421 9.25 6.75 9.58579 6.75 10V14C6.75 14.4142 6.41421 14.75 6 14.75C5.58579 14.75 5.25 14.4142 5.25 14L5.25 10C5.25 9.58579 5.58579 9.25 6 9.25ZM9 9.25C9.41421 9.25 9.75 9.58579 9.75 10L9.75 14C9.75 14.4142 9.41421 14.75 9 14.75C8.58579 14.75 8.25 14.4142 8.25 14L8.25 10C8.25 9.58579 8.58579 9.25 9 9.25ZM12 9.25C12.4142 9.25 12.75 9.58579 12.75 10V14C12.75 14.4142 12.4142 14.75 12 14.75C11.5858 14.75 11.25 14.4142 11.25 14V10C11.25 9.58579 11.5858 9.25 12 9.25Z"
  />
</svg>`,sP=(0,H.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.22872 4.22878C4.42398 4.03352 4.74057 4.03352 4.93583 4.22878L7.99996 7.29291L11.0641 4.22878C11.2593 4.03352 11.5759 4.03352 11.7712 4.22878C11.9665 4.42405 11.9665 4.74063 11.7712 4.93589L8.70707 8.00002L11.7712 11.0641C11.9665 11.2594 11.9665 11.576 11.7712 11.7713C11.5759 11.9665 11.2593 11.9665 11.0641 11.7713L7.99996 8.70713L4.93583 11.7713C4.74057 11.9665 4.42398 11.9665 4.22872 11.7713C4.03346 11.576 4.03346 11.2594 4.22872 11.0641L7.29285 8.00002L4.22872 4.93589C4.03346 4.74063 4.03346 4.42405 4.22872 4.22878Z"
  />
</svg>`,sA=(0,H.qy)`<svg
  viewBox="0 0 16 16"
  style="
  width: 12px;
  height: 12px;
  fill: var(--affine-text-primary-color);"
>
  <path
    d="M7.977 14.963c.407 0 .747-.324.747-.723V8.72h5.362c.399 0 .74-.34.74-.747a.746.746 0 00-.74-.738H8.724V1.706c0-.398-.34-.722-.747-.722a.732.732 0 00-.739.722v5.529h-5.37a.746.746 0 00-.74.738c0 .407.341.747.74.747h5.37v5.52c0 .399.332.723.739.723z"
  ></path>
</svg>`,sH=(0,H.qy)`<svg
  width="10"
  height="14"
  viewBox="0 0 10 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <rect width="10" height="14" rx="2" />
  <rect width="10" height="14" rx="2" fill-opacity="0.08" />
  <g clip-path="url(#clip0_179_9218)">
    <circle cx="3" cy="3" r="1" fill="var(--affine-icon-color)" />
    <circle cx="3" cy="6.79163" r="1" fill="var(--affine-icon-color)" />
    <circle cx="3" cy="10.5833" r="1" fill="var(--affine-icon-color)" />
    <circle cx="7" cy="3" r="1" fill="var(--affine-icon-color)" />
    <circle cx="7" cy="6.79163" r="1" fill="var(--affine-icon-color)" />
    <circle cx="7" cy="10.5833" r="1" fill="var(--affine-icon-color)" />
  </g>
  <defs>
    <clipPath id="clip0_179_9218">
      <rect width="6" height="10" transform="translate(2 2)" />
    </clipPath>
  </defs>
</svg>`,sL=(0,H.qy)`
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M11.4697 3.46967C11.7626 3.17678 12.2374 3.17678 12.5303 3.46967L17.5303 8.46967C17.8232 8.76256 17.8232 9.23744 17.5303 9.53033C17.2374 9.82322 16.7626 9.82322 16.4697 9.53033L12 5.06066L7.53033 9.53033C7.23744 9.82322 6.76256 9.82322 6.46967 9.53033C6.17678 9.23744 6.17678 8.76256 6.46967 8.46967L11.4697 3.46967ZM6.46967 14.4697C6.76256 14.1768 7.23744 14.1768 7.53033 14.4697L12 18.9393L16.4697 14.4697C16.7626 14.1768 17.2374 14.1768 17.5303 14.4697C17.8232 14.7626 17.8232 15.2374 17.5303 15.5303L12.5303 20.5303C12.2374 20.8232 11.7626 20.8232 11.4697 20.5303L6.46967 15.5303C6.17678 15.2374 6.17678 14.7626 6.46967 14.4697Z"
    />
  </svg>
`,sD=(0,H.qy)`
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M6.34314 6.34321C6.63604 6.05031 7.11091 6.05031 7.4038 6.34321L12 10.9394L16.5962 6.34321C16.8891 6.05031 17.364 6.05031 17.6569 6.34321C17.9497 6.6361 17.9497 7.11097 17.6569 7.40387L13.0607 12.0001L17.6569 16.5963C17.9497 16.8891 17.9497 17.364 17.6569 17.6569C17.364 17.9498 16.8891 17.9498 16.5962 17.6569L12 13.0607L7.4038 17.6569C7.11091 17.9498 6.63604 17.9498 6.34314 17.6569C6.05025 17.364 6.05025 16.8891 6.34314 16.5963L10.9393 12.0001L6.34314 7.40387C6.05025 7.11097 6.05025 6.6361 6.34314 6.34321Z"
    />
  </svg>
`,sZ=(0,H.qy)` <svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M6.34315 6.34314C6.63604 6.05025 7.11091 6.05025 7.40381 6.34314L12 10.9393L16.5962 6.34314C16.8891 6.05025 17.364 6.05025 17.6569 6.34314C17.9497 6.63604 17.9497 7.11091 17.6569 7.4038L13.0607 12L17.6569 16.5962C17.9497 16.8891 17.9497 17.364 17.6569 17.6569C17.364 17.9497 16.8891 17.9497 16.5962 17.6569L12 13.0607L7.40381 17.6569C7.11091 17.9497 6.63604 17.9497 6.34315 17.6569C6.05025 17.364 6.05025 16.8891 6.34315 16.5962L10.9393 12L6.34315 7.4038C6.05025 7.11091 6.05025 6.63604 6.34315 6.34314Z"
  />
</svg>`,sj=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M12 5.25C12.4142 5.25 12.75 5.58579 12.75 6V11.25H18C18.4142 11.25 18.75 11.5858 18.75 12C18.75 12.4142 18.4142 12.75 18 12.75H12.75V18C12.75 18.4142 12.4142 18.75 12 18.75C11.5858 18.75 11.25 18.4142 11.25 18V12.75H6C5.58579 12.75 5.25 12.4142 5.25 12C5.25 11.5858 5.58579 11.25 6 11.25H11.25V6C11.25 5.58579 11.5858 5.25 12 5.25Z"
  />
</svg>`,sV=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M11 2.25C9.48122 2.25 8.25 3.48122 8.25 5V6.1499H4C3.53056 6.1499 3.15 6.53046 3.15 6.9999C3.15 7.46934 3.53056 7.8499 4 7.8499H4.3088L5.11923 19.1959C5.22202 20.635 6.41948 21.75 7.86224 21.75H16.1378C17.5805 21.75 18.778 20.635 18.8808 19.1959L19.6912 7.8499H20C20.4694 7.8499 20.85 7.46934 20.85 6.9999C20.85 6.53046 20.4694 6.1499 20 6.1499H15.75V5C15.75 3.48122 14.5188 2.25 13 2.25H11ZM14.25 6.1499V5C14.25 4.30964 13.6904 3.75 13 3.75H11C10.3096 3.75 9.75 4.30964 9.75 5V6.1499H14.25ZM18.1874 7.8499H5.81262L6.61542 19.0891C6.66214 19.7432 7.20644 20.25 7.86224 20.25H16.1378C16.7936 20.25 17.3379 19.7432 17.3846 19.0891L18.1874 7.8499ZM10.75 11C10.75 10.5858 10.4142 10.25 10 10.25C9.58579 10.25 9.25 10.5858 9.25 11V17C9.25 17.4142 9.58579 17.75 10 17.75C10.4142 17.75 10.75 17.4142 10.75 17V11ZM14 10.25C14.4142 10.25 14.75 10.5858 14.75 11V17C14.75 17.4142 14.4142 17.75 14 17.75C13.5858 17.75 13.25 17.4142 13.25 17V11C13.25 10.5858 13.5858 10.25 14 10.25Z"
  />
</svg>`,sR=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.5 12.0001C4.5 12.9559 5.27489 13.7308 6.23077 13.7308C7.18665 13.7308 7.96154 12.9559 7.96154 12.0001C7.96154 11.0442 7.18665 10.2693 6.23077 10.2693C5.27489 10.2693 4.5 11.0442 4.5 12.0001ZM12 13.7308C11.0441 13.7308 10.2692 12.9559 10.2692 12.0001C10.2692 11.0442 11.0441 10.2693 12 10.2693C12.9559 10.2693 13.7308 11.0442 13.7308 12.0001C13.7308 12.9559 12.9559 13.7308 12 13.7308ZM17.7692 13.7308C16.8134 13.7308 16.0385 12.9559 16.0385 12.0001C16.0385 11.0442 16.8134 10.2693 17.7692 10.2693C18.7251 10.2693 19.5 11.0442 19.5 12.0001C19.5 12.9559 18.7251 13.7308 17.7692 13.7308Z"
    fill="currentColor"
  />
</svg> `,sz=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M10.9968 6.4927C11.277 6.79778 11.2568 7.27223 10.9517 7.5524L6.92547 11.25L19 11.25C19.4142 11.25 19.75 11.5858 19.75 12C19.75 12.4142 19.4142 12.75 19 12.75L6.92547 12.75L10.9517 16.4476C11.2568 16.7278 11.277 17.2022 10.9968 17.5073C10.7167 17.8124 10.2422 17.8326 9.93714 17.5524L4.4927 12.5524C4.33803 12.4104 4.25 12.21 4.25 12C4.25 11.79 4.33803 11.5896 4.4927 11.4476L9.93714 6.44761C10.2422 6.16743 10.7167 6.18762 10.9968 6.4927Z"
    fill="currentColor"
  />
</svg> `,sF=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M3.25 4C3.25 3.58579 3.58579 3.25 4 3.25H20C20.4142 3.25 20.75 3.58579 20.75 4V6.66667C20.75 7.08088 20.4142 7.41667 20 7.41667C19.5858 7.41667 19.25 7.08088 19.25 6.66667V4.75H12.75V19.25H16C16.4142 19.25 16.75 19.5858 16.75 20C16.75 20.4142 16.4142 20.75 16 20.75H8C7.58579 20.75 7.25 20.4142 7.25 20C7.25 19.5858 7.58579 19.25 8 19.25H11.25V4.75H4.75V6.66667C4.75 7.08088 4.41421 7.41667 4 7.41667C3.58579 7.41667 3.25 7.08088 3.25 6.66667V4Z"
    fill="currentColor"
  />
</svg>`,sN=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M6 3.25C4.48122 3.25 3.25 4.48122 3.25 6V18C3.25 19.5188 4.48122 20.75 6 20.75H18C19.5188 20.75 20.75 19.5188 20.75 18V6C20.75 4.48122 19.5188 3.25 18 3.25H6ZM4.75 6C4.75 5.30964 5.30964 4.75 6 4.75H18C18.6904 4.75 19.25 5.30964 19.25 6V18C19.25 18.6904 18.6904 19.25 18 19.25H6C5.30964 19.25 4.75 18.6904 4.75 18V6ZM16.5303 9.53033C16.8232 9.23744 16.8232 8.76256 16.5303 8.46967C16.2374 8.17678 15.7626 8.17678 15.4697 8.46967L10.5 13.4393L9.03033 11.9697C8.73744 11.6768 8.26256 11.6768 7.96967 11.9697C7.67678 12.2626 7.67678 12.7374 7.96967 13.0303L9.96967 15.0303C10.2626 15.3232 10.7374 15.3232 11.0303 15.0303L16.5303 9.53033Z"
  />
</svg>`,sq=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M8 2.75C8.41421 2.75 8.75 3.08579 8.75 3.5V4.25H15.25V3.5C15.25 3.08579 15.5858 2.75 16 2.75C16.4142 2.75 16.75 3.08579 16.75 3.5V4.25H19C20.5188 4.25 21.75 5.48122 21.75 7V9.5V19C21.75 20.5188 20.5188 21.75 19 21.75H5C3.48122 21.75 2.25 20.5188 2.25 19V9.5V7C2.25 5.48122 3.48122 4.25 5 4.25H7.25V3.5C7.25 3.08579 7.58579 2.75 8 2.75ZM15.25 5.75V6.5C15.25 6.91421 15.5858 7.25 16 7.25C16.4142 7.25 16.75 6.91421 16.75 6.5V5.75H19C19.6904 5.75 20.25 6.30964 20.25 7V8.75H3.75V7C3.75 6.30964 4.30964 5.75 5 5.75H7.25V6.5C7.25 6.91421 7.58579 7.25 8 7.25C8.41421 7.25 8.75 6.91421 8.75 6.5V5.75H15.25ZM3.75 10.25H20.25V19C20.25 19.6904 19.6904 20.25 19 20.25H5C4.30964 20.25 3.75 19.6904 3.75 19V10.25Z"
    fill="currentColor"
  />
</svg> `,sU=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M6 3.25C4.48122 3.25 3.25 4.48122 3.25 6V16V18C3.25 19.5188 4.48122 20.75 6 20.75H18C19.5188 20.75 20.75 19.5188 20.75 18V14V6C20.75 4.48122 19.5188 3.25 18 3.25H6ZM4.75 18V16.3107L9.11612 11.9445C9.60427 11.4564 10.3957 11.4564 10.8839 11.9445L13.4697 14.5303L15.4697 16.5303C15.7626 16.8232 16.2374 16.8232 16.5303 16.5303C16.8232 16.2374 16.8232 15.7626 16.5303 15.4697L15.0607 14L16.1161 12.9445C16.6043 12.4564 17.3957 12.4564 17.8839 12.9445L19.25 14.3107V18C19.25 18.6904 18.6904 19.25 18 19.25H6C5.30964 19.25 4.75 18.6904 4.75 18ZM11.9445 10.8839L14 12.9393L15.0555 11.8839C16.1294 10.8099 17.8706 10.8099 18.9445 11.8839L19.25 12.1893V6C19.25 5.30964 18.6904 4.75 18 4.75H6C5.30964 4.75 4.75 5.30964 4.75 6V14.1893L8.05546 10.8839C9.1294 9.80994 10.8706 9.80994 11.9445 10.8839ZM14 9C14.5523 9 15 8.55228 15 8C15 7.44772 14.5523 7 14 7C13.4477 7 13 7.44772 13 8C13 8.55228 13.4477 9 14 9Z"
  />
</svg>`,sW=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M2.84088 5.25C2.42667 5.25 2.09088 5.58579 2.09088 6V8C2.09088 8.41421 2.42667 8.75 2.84088 8.75C3.25509 8.75 3.59088 8.41421 3.59088 8V6.75H6.99997V17.25H5.0227C4.60849 17.25 4.2727 17.5858 4.2727 18C4.2727 18.4142 4.60849 18.75 5.0227 18.75H7.74997H10.4772C10.8915 18.75 11.2272 18.4142 11.2272 18C11.2272 17.5858 10.8915 17.25 10.4772 17.25H8.49997V6.75H11.9091V8C11.9091 8.41421 12.2449 8.75 12.6591 8.75C13.0733 8.75 13.4091 8.41421 13.4091 8V6C13.4091 5.58579 13.0733 5.25 12.6591 5.25H7.74997H2.84088ZM15.6045 5.25C15.1903 5.25 14.8545 5.58579 14.8545 6C14.8545 6.41421 15.1903 6.75 15.6045 6.75H21.059C21.4733 6.75 21.809 6.41421 21.809 6C21.809 5.58579 21.4733 5.25 21.059 5.25H15.6045ZM14.8545 12C14.8545 11.5858 15.1903 11.25 15.6045 11.25H21.059C21.4733 11.25 21.809 11.5858 21.809 12C21.809 12.4142 21.4733 12.75 21.059 12.75H15.6045C15.1903 12.75 14.8545 12.4142 14.8545 12ZM15.6045 17.25C15.1903 17.25 14.8545 17.5858 14.8545 18C14.8545 18.4142 15.1903 18.75 15.6045 18.75H21.059C21.4733 18.75 21.809 18.4142 21.809 18C21.809 17.5858 21.4733 17.25 21.059 17.25H15.6045Z"
    fill="currentColor"
  />
</svg> `,sG=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M18.4283 5.57173C17.3326 4.47609 15.5563 4.47609 14.4606 5.57173L13.4832 6.54916C13.1903 6.84205 12.7154 6.84205 12.4225 6.54916C12.1296 6.25627 12.1296 5.78139 12.4225 5.4885L13.4 4.51107C15.0814 2.82964 17.8075 2.82964 19.4889 4.51107C21.1704 6.19249 21.1704 8.91862 19.4889 10.6L15.9334 14.1556C14.252 15.837 11.5258 15.837 9.8444 14.1556C9.55151 13.8627 9.55151 13.3878 9.8444 13.0949C10.1373 12.802 10.6122 12.802 10.9051 13.0949C12.0007 14.1906 13.7771 14.1906 14.8727 13.0949L18.4283 9.53938C19.5239 8.44375 19.5239 6.66737 18.4283 5.57173ZM13.0949 10.9051C11.9993 9.80942 10.2229 9.80942 9.12728 10.9051L5.57173 14.4606C4.47609 15.5563 4.47609 17.3326 5.57173 18.4283C6.66737 19.5239 8.44375 19.5239 9.53938 18.4283L10.5185 17.4491C10.8114 17.1562 11.2863 17.1562 11.5792 17.4491C11.8721 17.742 11.8721 18.2169 11.5792 18.5098L10.6 19.4889C8.91862 21.1704 6.19249 21.1704 4.51107 19.4889C2.82964 17.8075 2.82964 15.0814 4.51107 13.4L8.06662 9.8444C9.74805 8.16298 12.4742 8.16298 14.1556 9.8444C14.4485 10.1373 14.4485 10.6122 14.1556 10.9051C13.8627 11.198 13.3878 11.198 13.0949 10.9051Z"
  />
</svg>`,sY=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5.5 3.75C4.5335 3.75 3.75 4.5335 3.75 5.5V18C3.75 18.9665 4.5335 19.75 5.5 19.75H9.5C10.4665 19.75 11.25 18.9665 11.25 18V5.5C11.25 4.5335 10.4665 3.75 9.5 3.75H5.5ZM5.25 5.5C5.25 5.36193 5.36193 5.25 5.5 5.25H9.5C9.63807 5.25 9.75 5.36193 9.75 5.5V18C9.75 18.1381 9.63807 18.25 9.5 18.25H5.5C5.36193 18.25 5.25 18.1381 5.25 18V5.5ZM14.5 3.75C13.5335 3.75 12.75 4.5335 12.75 5.5V12.5C12.75 13.4665 13.5335 14.25 14.5 14.25H18.5C19.4665 14.25 20.25 13.4665 20.25 12.5V5.5C20.25 4.5335 19.4665 3.75 18.5 3.75H14.5ZM14.25 5.5C14.25 5.36193 14.3619 5.25 14.5 5.25H18.5C18.6381 5.25 18.75 5.36193 18.75 5.5V12.5C18.75 12.6381 18.6381 12.75 18.5 12.75H14.5C14.3619 12.75 14.25 12.6381 14.25 12.5V5.5Z"
  />
</svg>`,sK=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M3.25 6C3.25 4.48122 4.48122 3.25 6 3.25H18C19.5188 3.25 20.75 4.48122 20.75 6V18C20.75 19.5188 19.5188 20.75 18 20.75H6C4.48122 20.75 3.25 19.5188 3.25 18V6ZM6 4.75C5.30964 4.75 4.75 5.30964 4.75 6V8.25H19.25V6C19.25 5.30964 18.6904 4.75 18 4.75H6ZM4.75 18V9.75H7.75V19.25H6C5.30964 19.25 4.75 18.6904 4.75 18ZM9.25 19.25H18C18.6904 19.25 19.25 18.6904 19.25 18V9.75H9.25V19.25Z"
  />
</svg>`,sX=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M8.19232 4.25C7.7781 4.25 7.44232 4.58579 7.44232 5C7.44232 5.41421 7.7781 5.75 8.19232 5.75H16.7308C17.4211 5.75 17.9808 6.30965 17.9808 7V14.7278L16.3765 13.1235C16.0836 12.8306 15.6087 12.8306 15.3158 13.1235C15.0229 13.4164 15.0229 13.8913 15.3158 14.1842L18.2005 17.0688C18.3411 17.2094 18.5319 17.2885 18.7308 17.2885C18.9297 17.2885 19.1205 17.2094 19.2611 17.0688L22.1457 14.1842C22.4386 13.8913 22.4386 13.4164 22.1457 13.1235C21.8528 12.8306 21.378 12.8306 21.0851 13.1235L19.4808 14.7278V7C19.4808 5.48122 18.2496 4.25 16.7308 4.25H8.19232ZM15.4231 19.75C15.8373 19.75 16.1731 19.4142 16.1731 19C16.1731 18.5858 15.8373 18.25 15.4231 18.25H6.88462C6.19426 18.25 5.63461 17.6904 5.63461 17V9.2722L7.2389 10.8765C7.53179 11.1694 8.00667 11.1694 8.29956 10.8765C8.59245 10.5836 8.59245 10.1087 8.29956 9.81582L5.41494 6.93121C5.27429 6.79056 5.08353 6.71154 4.88461 6.71154C4.6857 6.71154 4.49494 6.79056 4.35429 6.93121L1.46967 9.81582C1.17678 10.1087 1.17678 10.5836 1.46967 10.8765C1.76256 11.1694 2.23744 11.1694 2.53033 10.8765L4.13461 9.2722V17C4.13461 18.5188 5.36583 19.75 6.88462 19.75H15.4231Z"
    fill="currentColor"
  />
</svg> `,sQ=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M3.75 12C3.75 7.44365 7.44365 3.75 12 3.75C16.5563 3.75 20.25 7.44365 20.25 12C20.25 16.5563 16.5563 20.25 12 20.25C7.44365 20.25 3.75 16.5563 3.75 12ZM12 2.25C6.61522 2.25 2.25 6.61522 2.25 12C2.25 17.3848 6.61522 21.75 12 21.75C17.3848 21.75 21.75 17.3848 21.75 12C21.75 6.61522 17.3848 2.25 12 2.25ZM8 8.75C7.58579 8.75 7.25 9.08579 7.25 9.5C7.25 9.91421 7.58579 10.25 8 10.25H16C16.4142 10.25 16.75 9.91421 16.75 9.5C16.75 9.08579 16.4142 8.75 16 8.75H8ZM8.25 12.5C8.25 12.0858 8.58579 11.75 9 11.75H15C15.4142 11.75 15.75 12.0858 15.75 12.5C15.75 12.9142 15.4142 13.25 15 13.25H9C8.58579 13.25 8.25 12.9142 8.25 12.5ZM11 14.75C10.5858 14.75 10.25 15.0858 10.25 15.5C10.25 15.9142 10.5858 16.25 11 16.25H13C13.4142 16.25 13.75 15.9142 13.75 15.5C13.75 15.0858 13.4142 14.75 13 14.75H11Z"
    fill="currentColor"
  />
</svg> `,sJ=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M2.75 6C2.75 4.48122 3.98122 3.25 5.5 3.25H9H15H18.5C20.0188 3.25 21.25 4.48122 21.25 6V18C21.25 19.5188 20.0188 20.75 18.5 20.75H5.5C3.98122 20.75 2.75 19.5188 2.75 18V6ZM14.25 4.75H9.75V19.25H14.25V4.75ZM15.75 19.25V4.75H18.5C19.1904 4.75 19.75 5.30964 19.75 6V18C19.75 18.6904 19.1904 19.25 18.5 19.25H15.75ZM5.5 4.75H8.25V19.25H5.5C4.80964 19.25 4.25 18.6904 4.25 18V6C4.25 5.30964 4.80964 4.75 5.5 4.75Z"
    fill="currentColor"
  />
</svg> `,s1=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M20.75 6C20.75 6.41421 20.4142 6.75 20 6.75L10.6465 6.75C10.32 7.90425 9.25878 8.75 8 8.75C6.74122 8.75 5.67998 7.90425 5.35352 6.75L4 6.75C3.58579 6.75 3.25 6.41421 3.25 6C3.25 5.58579 3.58579 5.25 4 5.25L5.35352 5.25C5.67998 4.09575 6.74122 3.25 8 3.25C9.25878 3.25 10.32 4.09575 10.6465 5.25L20 5.25C20.4142 5.25 20.75 5.58579 20.75 6ZM20.75 12C20.75 12.4142 20.4142 12.75 20 12.75L18.6465 12.75C18.32 13.9043 17.2588 14.75 16 14.75C14.7412 14.75 13.68 13.9043 13.3535 12.75L4 12.75C3.58579 12.75 3.25 12.4142 3.25 12C3.25 11.5858 3.58579 11.25 4 11.25L13.3535 11.25C13.68 10.0957 14.7412 9.25 16 9.25C17.2588 9.25 18.32 10.0957 18.6465 11.25L20 11.25C20.4142 11.25 20.75 11.5858 20.75 12ZM20.75 18C20.75 18.4142 20.4142 18.75 20 18.75L10.6465 18.75C10.32 19.9043 9.25878 20.75 8 20.75C6.74122 20.75 5.67998 19.9043 5.35352 18.75L4 18.75C3.58579 18.75 3.25 18.4142 3.25 18C3.25 17.5858 3.58579 17.25 4 17.25L5.35352 17.25C5.67998 16.0957 6.74122 15.25 8 15.25C9.25878 15.25 10.32 16.0957 10.6465 17.25L20 17.25C20.4142 17.25 20.75 17.5858 20.75 18ZM17.25 12C17.25 11.3096 16.6904 10.75 16 10.75C15.3096 10.75 14.75 11.3096 14.75 12C14.75 12.6904 15.3096 13.25 16 13.25C16.6904 13.25 17.25 12.6904 17.25 12ZM9.25 6C9.25 5.30964 8.69036 4.75 8 4.75C7.30964 4.75 6.75 5.30964 6.75 6C6.75 6.69036 7.30964 7.25 8 7.25C8.69036 7.25 9.25 6.69036 9.25 6ZM9.25 18C9.25 17.3096 8.69036 16.75 8 16.75C7.30964 16.75 6.75 17.3096 6.75 18C6.75 18.6904 7.30964 19.25 8 19.25C8.69036 19.25 9.25 18.6904 9.25 18Z"
    fill="currentColor"
  />
</svg> `,s0=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M19.5303 6.46967C19.8232 6.76256 19.8232 7.23744 19.5303 7.53033L9.53033 17.5303C9.23744 17.8232 8.76256 17.8232 8.46967 17.5303L4.46967 13.5303C4.17678 13.2374 4.17678 12.7626 4.46967 12.4697C4.76256 12.1768 5.23744 12.1768 5.53033 12.4697L9 15.9393L18.4697 6.46967C18.7626 6.17678 19.2374 6.17678 19.5303 6.46967Z"
    fill="currentColor"
  />
</svg> `,s2=(0,H.qy)`
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M0 10.5H2.66176V13.5H0V10.5ZM13.3333 18H20V21H13.3333V18ZM22.6259 17.9356L24 19.5282L22.6312 21.0585L20 24V15L22.6259 17.9356ZM3.99019 4.4953C3.99019 2.01262 5.78279 0 7.98405 0C10.1898 0 11.9779 2.02109 11.9779 4.4953V9.0047C11.9779 11.4874 10.1853 13.5 7.98405 13.5C5.7783 13.5 3.99019 11.4789 3.99019 9.0047V4.4953ZM6 4.49786V9.00214C6 10.2525 6.89543 11.25 8 11.25C9.11227 11.25 10 10.2436 10 9.00214V4.49786C10 3.24754 9.10457 2.25 8 2.25C6.88773 2.25 6 3.2564 6 4.49786ZM13.3235 4.4953C13.3235 2.01262 15.1161 0 17.3174 0C19.5231 0 21.3113 2.02109 21.3113 4.4953V9.0047C21.3113 11.4874 19.5187 13.5 17.3174 13.5C15.1116 13.5 13.3235 11.4789 13.3235 9.0047V4.4953ZM15.3333 4.49786V9.00214C15.3333 10.2525 16.2288 11.25 17.3333 11.25C18.4456 11.25 19.3333 10.2436 19.3333 9.00214V4.49786C19.3333 3.24754 18.4379 2.25 17.3333 2.25C16.2211 2.25 15.3333 3.2564 15.3333 4.49786Z"
      fill="currentColor"
    />
  </svg>
`,s5=(0,H.qy)`
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M0 10.5H3V13.5H0V10.5ZM18.09 22.41L16.305 20.625H24V18.375H16.305L18.09 16.59L16.5 15L12 19.5L16.5 24L18.09 22.41ZM13.5 9.375V4.125C13.5 1.845 11.655 0 9.375 0C7.095 0 5.25 1.845 5.25 4.125V9.375C5.25 11.655 7.095 13.5 9.375 13.5C11.655 13.5 13.5 11.655 13.5 9.375ZM11.25 9.375C11.25 10.41 10.41 11.25 9.375 11.25C8.34 11.25 7.5 10.41 7.5 9.375V4.125C7.5 3.09 8.34 2.25 9.375 2.25C10.41 2.25 11.25 3.09 11.25 4.125V9.375Z"
      fill="currentColor"
    />
  </svg>
`,s7=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5 4.75C4.86193 4.75 4.75 4.86193 4.75 5V7C4.75 7.41421 4.41421 7.75 4 7.75C3.58579 7.75 3.25 7.41421 3.25 7V5C3.25 4.0335 4.0335 3.25 5 3.25H7C7.41421 3.25 7.75 3.58579 7.75 4C7.75 4.41421 7.41421 4.75 7 4.75H5ZM16.25 4C16.25 3.58579 16.5858 3.25 17 3.25H19C19.9665 3.25 20.75 4.0335 20.75 5V7C20.75 7.41421 20.4142 7.75 20 7.75C19.5858 7.75 19.25 7.41421 19.25 7V5C19.25 4.86193 19.1381 4.75 19 4.75H17C16.5858 4.75 16.25 4.41421 16.25 4ZM7.25 9.1C7.25 8.63056 7.63056 8.25 8.1 8.25H15.9C16.3694 8.25 16.75 8.63055 16.75 9.1V14.9C16.75 15.3694 16.3694 15.75 15.9 15.75H8.1C7.63055 15.75 7.25 15.3694 7.25 14.9V9.1ZM8.75 9.75V14.25H15.25V9.75H8.75ZM4 16.25C4.41421 16.25 4.75 16.5858 4.75 17V19C4.75 19.1381 4.86193 19.25 5 19.25H7C7.41421 19.25 7.75 19.5858 7.75 20C7.75 20.4142 7.41421 20.75 7 20.75H5C4.0335 20.75 3.25 19.9665 3.25 19V17C3.25 16.5858 3.58579 16.25 4 16.25ZM20 16.25C20.4142 16.25 20.75 16.5858 20.75 17V19C20.75 19.9665 19.9665 20.75 19 20.75H17C16.5858 20.75 16.25 20.4142 16.25 20C16.25 19.5858 16.5858 19.25 17 19.25H19C19.1381 19.25 19.25 19.1381 19.25 19V17C19.25 16.5858 19.5858 16.25 20 16.25Z"
    fill="#77757D"
  />
</svg> `;var s3=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},s4=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let s6=(()=>{let e,t,i=[(0,L.EM)("affine-lit-icon")],s=[],o=P.ao,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;s3(this,null,[(0,L.MZ)({attribute:!1})],{kind:"accessor",name:"name",static:!1,private:!1,access:{has:e=>"name"in e,get:e=>e.name,set:(e,t)=>{e.name=t}},metadata:n},r,a),s3(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    affine-lit-icon {
      display: flex;
      align-items: center;
      justify-content: center;
    }
    affine-lit-icon svg {
      fill: var(--affine-icon-color);
    }
  `}render(){return(0,H.qy)`${h[this.name]}`}#es=s4(this,r,void 0);get name(){return this.#es}set name(e){this.#es=e}constructor(){super(...arguments),s4(this,a)}static{s4(t,s)}},t})(),s8=(e,t)=>(i,s)=>{let o=e(i,t(s));return{unmount:o.unmount,update:e=>{o.update(t(e))},expose:o.expose}},s9=sy(s6),oe=e=>s8(s9,()=>({name:e}));class ot{constructor(e,t){this.type=e,this.ops=t,this.convertMap=new Map,this.create=(e,t)=>({type:this.type,name:e,statCalcOp:"none",data:t??this.ops.defaultData()}),this.registerConvert=(e,t)=>{this.convertMap.set(e,t)}}convertCell(e,t,i){return this.convertMap.get(e)?.(t,i)}createWithId(e,t,i){return{id:e,type:this.type,name:t,data:i??this.ops.defaultData()}}dataType(e){return this.ops.type(e)}defaultData(){return this.ops.defaultData()}formatValue(e,t){return void 0===e?void 0:this.ops.formatValue?.(e,t)??e}fromString(e,t){return this.ops.cellFromString(e,t)}toJson(e,t){return this.ops.cellToJson(e,t)}toString(e,t){return this.ops.cellToString(e,t)}get name(){return this.ops.name}}let oi=e=>({type:e,modelConfig:t=>{let i=new ot(e,t);return{type:e,model:i,create:i.create,addConvert:i.registerConvert,renderConfig:t=>({type:e,model:i,renderer:s_({...t,type:e})})}}}),os=e=>({type:"union",title:"union",list:e}),oo=e=>({type:"array",title:"array",ele:e}),or=e=>"array"===e.type,oa=(e,t)=>({type:"typeVar",title:"typeVar",name:e,bound:t}),on=e=>({type:"typeRef",title:"typeRef",name:e}),ol=e=>({type:"function",title:"function",typeVars:e.typeVars??[],args:e.args,rt:e.rt});class oc{constructor(e,t){this.config=e,this.dataMap=t}isByName(e){return e===this.config.name}isSubOfByName(e){return!!this.isByName(e)||this.config.supers.some(t=>t.isSubOfByName(e))}create(e){return{type:"data",name:this.config.name,data:e}}is(e){return"data"===e.type&&e.name===this.config.name}isSubOf(e){return!!this.is(e)||this.config.supers.some(t=>t.isSubOf(e))}isSuperOf(e){let t=this.dataMap.get(e.name);if(!t)throw new u.Ss(p.O.DatabaseBlockError,"data config not found");return t.isSubOfByName(this.config.name)}}let od=(...e)=>({create:t=>({name:t,supers:e}),extends:t=>od(...e,t)}),oh=od(),ou=new class{constructor(){this.dataMap=new Map}defineData(e){let t=new oc(e,this.dataMap);return this.dataMap.set(e.name,t),t}instance(e,t,i,s){let o={...e};return s.args.forEach((e,i)=>{let s=t[i];s&&this.isSubtype(e,s,o)}),this.isSubtype(i,s.rt),this.subst(o,s)}isDataType(e){return"data"===e.type}isSubtype(e,t,i){if("typeRef"===e.type)return i&&"typeRef"!=t.type&&(i[e.name]=t),!0;if("typeRef"===t.type)return i&&(i[t.name]=e),!0;if(op.is(e))return!0;if("union"===e.type)return e.list.some(e=>this.isSubtype(e,t,i));if("union"===t.type)return t.list.every(t=>this.isSubtype(e,t,i));if(this.isDataType(t)){let i=this.dataMap.get(t.name);if(!i)throw new u.Ss(p.O.DatabaseBlockError,"data config not found");return!!this.isDataType(e)&&i.isSubOf(e)}return("array"===e.type||"array"===t.type)&&"array"===e.type&&"array"===t.type&&this.isSubtype(e.ele,t.ele,i)}subst(e,t){let i=t=>{if(this.isDataType(t))return t;switch(t.type){case"typeRef":return{...e[t.name]};case"union":return os(t.list.map(e=>i(e)));case"array":return oo(i(t.ele));case"function":throw new u.Ss(p.O.DatabaseBlockError,"not implement yet")}};return ol({args:t.args.map(e=>i(e)),rt:i(t.rt)})}},op=ou.defineData(oh.create("Unknown")),of=ou.defineData({name:"Number",supers:[]}),og=ou.defineData({name:"String",supers:[]}),om=ou.defineData({name:"RichText",supers:[og]}),ov=ou.defineData({name:"Boolean",supers:[]}),oy=ou.defineData({name:"Date",supers:[]});ou.defineData({name:"URL",supers:[og]});let ob=ou.defineData({name:"Image",supers:[]});ou.defineData({name:"Email",supers:[og]}),ou.defineData({name:"Phone",supers:[og]});let ow=ou.defineData({name:"Tag",supers:[]}),ox=[{color:"var(--affine-tag-red)",name:"Red"},{color:"var(--affine-tag-pink)",name:"Pink"},{color:"var(--affine-tag-orange)",name:"Orange"},{color:"var(--affine-tag-yellow)",name:"Yellow"},{color:"var(--affine-tag-green)",name:"Green"},{color:"var(--affine-tag-teal)",name:"Teal"},{color:"var(--affine-tag-blue)",name:"Blue"},{color:"var(--affine-tag-purple)",name:"Purple"},{color:"var(--affine-tag-gray)",name:"Gray"},{color:"var(--affine-tag-white)",name:"White"}],o_=ox.map(e=>e.color),oC=function(){let e=[...o_];return()=>{0===e.length&&(e=[...o_]);let t=Math.floor(Math.random()*e.length);return e.splice(t,1)[0]}}(),ok=e=>e instanceof v.EY?e.yText:e,oS=oi("rich-text").modelConfig({name:"Text",type:()=>om.create(),defaultData:()=>({}),cellToString:e=>e?.toString()??"",cellFromString:e=>({value:new v.EY(e)}),cellToJson:e=>e?.toString()??null,onUpdate:(e,t,i)=>{let s=ok(e);return s.observe(i),i(),{dispose:()=>{s.unobserve(i)}}},isEmpty:e=>null==e||0===e.length});oS.addConvert("select",(e,t)=>{let i={},s=e=>{if(i[e])return i[e];let t={id:(0,v.Ak)(),value:e,color:oC()};return i[e]=t,t};return{cells:t.map(e=>{let t=e?.toString().split(","),i=t?.[0]?.trim();if(i)return s(i).id}),column:{options:Object.values(i)}}}),oS.addConvert("multi-select",(e,t)=>{let i={},s=e=>{if(i[e])return i[e];let t={id:(0,v.Ak)(),value:e,color:oC()};return i[e]=t,t};return{cells:t.map(e=>{let t=[],i=e?.toString().split(",");return i?.forEach(e=>{(e=e.trim())&&t.push(s(e).id)}),t}),column:{options:Object.values(i)}}}),oS.addConvert("number",(e,t)=>({column:{decimal:0,format:"number"},cells:t.map(e=>{let t=e?parseFloat(e.toString()):NaN;return isNaN(t)?void 0:t})})),oS.addConvert("progress",(e,t)=>({column:{},cells:t.map(e=>{let t=e?parseInt(e.toString()):NaN;return isNaN(t)?void 0:(0,iy.qE)(t,0,100)})})),oS.addConvert("checkbox",(e,t)=>{let i=["yes","true"];return{column:{},cells:t.map(e=>!!(e&&i.includes(e.toString().toLowerCase()))||void 0)}});var oM=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},oE=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};function oI(e,t){let i=e.getInlineRange();if(!i)return;let s=e.rootElement;if(!s)return;let o=e.getDeltasByInlineRange(i),r={};for(let[e]of o){let t=e.attributes;t&&(r={...t})}let a=Object.fromEntries(Object.entries(t).map(([e,t])=>"boolean"==typeof t&&t===r[e]?[e,!t]:[e,t]));e.formatText(i,a,{mode:"merge"}),s.blur(),e.syncInlineRange()}let oB=(()=>{let e,t,i=[(0,L.EM)("affine-database-rich-text-cell")],s=[],o=sf,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;oM(this,null,[(0,L.P)("rich-text")],{kind:"accessor",name:"_richTextElement",static:!1,private:!1,access:{has:e=>"_richTextElement"in e,get:e=>e._richTextElement,set:(e,t)=>{e._richTextElement=t}},metadata:n},r,a),oM(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    affine-database-rich-text-cell {
      display: flex;
      align-items: center;
      width: 100%;
      user-select: none;
    }

    .affine-database-rich-text {
      display: flex;
      flex-direction: column;
      justify-content: center;
      width: 100%;
      height: 100%;
      outline: none;
      font-size: var(--data-view-cell-text-size);
      line-height: var(--data-view-cell-text-line-height);
      word-break: break-all;
    }

    .affine-database-rich-text v-line {
      display: flex !important;
      align-items: center;
      height: 100%;
      width: 100%;
    }

    .affine-database-rich-text v-line > div {
      flex-grow: 1;
    }
  `}render(){return this.service?this.value&&this.value instanceof v.EY?(0,sl.D)(this.value,(0,ic.qy)`<rich-text
        .yText=${this.value}
        .attributesSchema=${this.attributesSchema}
        .attributeRenderer=${this.attributeRenderer}
        .embedChecker=${this.inlineManager?.embedChecker}
        .markdownShortcutHandler=${this.inlineManager?.markdownShortcutHandler}
        .readonly=${!0}
        class="affine-database-rich-text inline-editor"
      ></rich-text>`):(0,ic.qy)`<div class="affine-database-rich-text"></div>`:H.s6}get attributeRenderer(){return this.inlineManager?.getRenderer()}get attributesSchema(){return this.inlineManager?.getSchema()}get inlineEditor(){(0,V.Z1)(this._richTextElement);let e=this._richTextElement.inlineEditor;return(0,V.Z1)(e),e}get inlineManager(){return this.service?.inlineManager}get service(){return this.view.getContext(sd)?.std.spec.getService("affine:database")}get topContenteditableElement(){let e=this.closest("affine-database");return e?.topContenteditableElement}#eo=oE(this,r,null);get _richTextElement(){return this.#eo}set _richTextElement(e){this.#eo=e}constructor(){super(...arguments),oE(this,a)}static{oE(t,s)}},t})(),o$=(()=>{let e,t,i=[(0,L.EM)("affine-database-rich-text-cell-editing")],s=[],o=sf,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;oM(this,null,[(0,L.P)("rich-text")],{kind:"accessor",name:"_richTextElement",static:!1,private:!1,access:{has:e=>"_richTextElement"in e,get:e=>e._richTextElement,set:(e,t)=>{e._richTextElement=t}},metadata:n},r,a),oM(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    affine-database-rich-text-cell-editing {
      display: flex;
      align-items: center;
      width: 100%;
      min-width: 1px;
      cursor: text;
    }

    .affine-database-rich-text {
      display: flex;
      flex-direction: column;
      justify-content: center;
      width: 100%;
      height: 100%;
      outline: none;
    }

    .affine-database-rich-text v-line {
      display: flex !important;
      align-items: center;
      height: 100%;
      width: 100%;
    }

    .affine-database-rich-text v-line > div {
      flex-grow: 1;
    }
  `}connectedCallback(){super.connectedCallback(),this.value&&"string"!=typeof this.value||this._initYText(this.value);let e=e=>{"a"===e.key&&(sn.vL?e.metaKey:e.ctrlKey)&&(e.stopPropagation(),e.preventDefault(),this.inlineEditor.selectAll())};this.addEventListener("keydown",e),this.disposables.addFromEvent(this,"keydown",e)}firstUpdated(){this._richTextElement?.updateComplete.then(()=>{this.disposables.add(this.inlineEditor.slots.keydown.on(this._handleKeyDown)),this.inlineEditor.focusEnd()}).catch(console.error)}render(){return this.service?(0,ic.qy)`<rich-text
      .yText=${this.value}
      .inlineEventSource=${this.topContenteditableElement}
      .attributesSchema=${this.attributesSchema}
      .attributeRenderer=${this.attributeRenderer}
      .embedChecker=${this.inlineManager?.embedChecker}
      .markdownShortcutHandler=${this.inlineManager?.markdownShortcutHandler}
      .verticalScrollContainerGetter=${()=>this.topContenteditableElement?.host?(0,sc.dV)(this.topContenteditableElement.host):null}
      class="affine-database-rich-text inline-editor"
    ></rich-text>`:H.s6}get attributeRenderer(){return this.inlineManager?.getRenderer()}get attributesSchema(){return this.inlineManager?.getSchema()}get inlineEditor(){(0,V.Z1)(this._richTextElement);let e=this._richTextElement.inlineEditor;return(0,V.Z1)(e),e}get inlineManager(){return this.service?.inlineManager}get service(){return this.view.getContext(sd)?.std.spec.getService("affine:database")}get topContenteditableElement(){let e=this.closest("affine-database");return e?.topContenteditableElement}#eo;get _richTextElement(){return this.#eo}set _richTextElement(e){this.#eo=e}constructor(){super(...arguments),this._handleKeyDown=e=>{if("Escape"!==e.key){if("Tab"===e.key){e.preventDefault();return}e.stopPropagation()}if("Enter"===e.key&&!e.isComposing){e.shiftKey?this._onSoftEnter():this.selectCurrentCell(!1),e.preventDefault();return}let t=this.inlineEditor;switch(e.key){case"B":case"b":(e.metaKey||e.ctrlKey)&&(e.preventDefault(),oI(this.inlineEditor,{bold:!0}));break;case"I":case"i":(e.metaKey||e.ctrlKey)&&(e.preventDefault(),oI(this.inlineEditor,{italic:!0}));break;case"U":case"u":(e.metaKey||e.ctrlKey)&&(e.preventDefault(),oI(this.inlineEditor,{underline:!0}));break;case"S":case"s":(e.metaKey||e.ctrlKey)&&e.shiftKey&&(e.preventDefault(),oI(t,{strike:!0}));break;case"E":case"e":(e.metaKey||e.ctrlKey)&&e.shiftKey&&(e.preventDefault(),oI(t,{code:!0}))}},this._initYText=e=>{let t=new v.EY(e);this.onChange(t)},this._onSoftEnter=()=>{if(this.value&&this.inlineEditor){let e=this.inlineEditor.getInlineRange();(0,V.Z1)(e),new v.EY(this.inlineEditor.yText).replace(e.index,e.length,"\n"),this.inlineEditor.setInlineRange({index:e.index+1,length:0})}},this.#eo=oE(this,r,null),oE(this,a)}static{oE(t,s)}},t})(),oT=oS.renderConfig({icon:oe("TextIcon"),cellRenderer:{view:sx(oB),edit:sx(o$)}}),oO=(0,H.qy)`
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <circle cx="7" cy="12" r="3" fill="currentColor" />
  </svg>
`,oP=(0,H.qy)`
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M7 14.25C8.24264 14.25 9.25 13.2426 9.25 12C9.25 10.7574 8.24264 9.75 7 9.75C5.75736 9.75 4.75 10.7574 4.75 12C4.75 13.2426 5.75736 14.25 7 14.25ZM7 15C8.65685 15 10 13.6569 10 12C10 10.3431 8.65685 9 7 9C5.34315 9 4 10.3431 4 12C4 13.6569 5.34315 15 7 15Z"
      fill="currentColor"
    />
  </svg>
`,oA=(0,H.qy)`
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M6.40841 9.24504C6.73514 8.91832 7.26486 8.91832 7.59159 9.24505L9.75496 11.4084C10.0817 11.7351 10.0817 12.2649 9.75495 12.5916L7.59159 14.755C7.26486 15.0817 6.73514 15.0817 6.40841 14.755L4.24504 12.5916C3.91832 12.2649 3.91832 11.7351 4.24505 11.4084L6.40841 9.24504Z"
      fill="currentColor"
    />
  </svg>
`,oH=(0,H.qy)`
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M9.16336 12L7 9.83664L4.83664 12L7 14.1634L9.16336 12ZM7.59159 9.24505C7.26486 8.91832 6.73514 8.91832 6.40841 9.24504L4.24505 11.4084C3.91832 11.7351 3.91832 12.2649 4.24504 12.5916L6.40841 14.755C6.73514 15.0817 7.26486 15.0817 7.59159 14.755L9.75495 12.5916C10.0817 12.2649 10.0817 11.7351 9.75496 11.4084L7.59159 9.24505Z"
      fill="currentColor"
    />
  </svg>
`,oL=(0,H.JW)`
  <path
    d="M16.5 11.134C17.1667 11.5189 17.1667 12.4811 16.5 12.866L9 17.1962C8.33333 17.5811 7.5 17.0999 7.5 16.3301L7.5 7.66989C7.5 6.90009 8.33333 6.41896 9 6.80386L16.5 11.134Z"
    fill="#77757D"
  />
`,oD=(0,H.qy)`
  <svg
    width="16"
    height="16"
    viewBox="0 0 24 24"
    xmlns="http://www.w3.org/2000/svg"
  >
    ${oL}
  </svg>
`,oZ=(0,H.qy)`
  <svg
    width="16"
    height="16"
    viewBox="0 0 24 24"
    style="transform: rotate(90deg)"
    xmlns="http://www.w3.org/2000/svg"
  >
    ${oL}
  </svg>
`,oj=()=>(0,H.qy)`
    <svg
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M3.25 6C3.25 4.48122 4.48122 3.25 6 3.25H18C19.5188 3.25 20.75 4.48122 20.75 6V18C20.75 19.5188 19.5188 20.75 18 20.75H6C4.48122 20.75 3.25 19.5188 3.25 18V6ZM16.5303 9.53033C16.8232 9.23744 16.8232 8.76256 16.5303 8.46967C16.2374 8.17678 15.7626 8.17678 15.4697 8.46967L10.5 13.4393L9.03033 11.9697C8.73744 11.6768 8.26256 11.6768 7.96967 11.9697C7.67678 12.2626 7.67678 12.7374 7.96967 13.0303L9.96967 15.0303C10.2626 15.3232 10.7374 15.3232 11.0303 15.0303L16.5303 9.53033Z"
        fill="#1E96EB"
      />
    </svg>
  `,oV=()=>(0,H.qy)`
    <svg
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M6 3.25C4.48122 3.25 3.25 4.48122 3.25 6V18C3.25 19.5188 4.48122 20.75 6 20.75H18C19.5188 20.75 20.75 19.5188 20.75 18V6C20.75 4.48122 19.5188 3.25 18 3.25H6ZM4.75 6C4.75 5.30964 5.30964 4.75 6 4.75H18C18.6904 4.75 19.25 5.30964 19.25 6V18C19.25 18.6904 18.6904 19.25 18 19.25H6C5.30964 19.25 4.75 18.6904 4.75 18V6Z"
        fill="currentColor"
      />
    </svg>
  `,oR=async(e,{left:t=0,size:i=20}={})=>{let s=document.createElement("div");s.classList.add("affine-check-animation"),i<20&&console.warn("If the size is less than 20, the animation may be abnormal."),s.style.cssText=`
    position: absolute;
    width: ${i}px;
    height: ${i}px;
    border-radius: 50%;
  `,s.style.left=`${t}px`,e.append(s),await s.animate([{boxShadow:"0 -18px 0 -8px #1e96eb, 16px -8px 0 -8px #1e96eb, 16px 8px 0 -8px #1e96eb, 0 18px 0 -8px #1e96eb, -16px 8px 0 -8px #1e96eb, -16px -8px 0 -8px #1e96eb"}],{duration:240,easing:"ease",fill:"forwards"}).finished,await s.animate([{boxShadow:"0 -36px 0 -10px transparent, 32px -16px 0 -10px transparent, 32px 16px 0 -10px transparent, 0 36px 0 -10px transparent, -32px 16px 0 -10px transparent, -32px -16px 0 -10px transparent"}],{duration:360,easing:"ease",fill:"forwards"}).finished,s.remove()},oz=[oO,oP,oA,oH],oF=oi("checkbox").modelConfig({name:"Checkbox",type:()=>ov.create(),defaultData:()=>({}),cellToString:e=>e?"True":"False",cellFromString:e=>({value:"False"!==e}),cellToJson:e=>e??null,isEmpty:()=>!1});oF.addConvert("rich-text",(e,t)=>({column:{},cells:t.map(e=>new v.EY(e?"Yes":"No").yText)}));var oN=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},oq=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let oU=(()=>{let e,t,i=[(0,L.EM)("affine-database-checkbox-cell")],s=[],o=sf,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;oN(this,null,[(0,L.P)(".affine-database-checkbox")],{kind:"accessor",name:"_checkbox",static:!1,private:!1,access:{has:e=>"_checkbox"in e,get:e=>e._checkbox,set:(e,t)=>{e._checkbox=t}},metadata:n},r,a),oN(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    affine-database-checkbox-cell {
      display: block;
      width: 100%;
      cursor: pointer;
    }

    .affine-database-checkbox-container {
      height: 100%;
    }

    .affine-database-checkbox {
      display: flex;
      align-items: center;
      height: var(--data-view-cell-text-line-height);
      width: 100%;
      position: relative;
    }
    .affine-database-checkbox svg {
      width: 16px;
      height: 16px;
    }
  `}beforeEnterEditMode(){let e=!this.value;return this.onChange(e),e&&oR(this._checkbox,{left:-2}).catch(console.error),!1}onCopy(e){e.preventDefault()}onCut(e){e.preventDefault()}onPaste(e){e.preventDefault()}render(){let e=this.value??!1,t=e?oj():oV();return(0,H.qy)` <div class="affine-database-checkbox-container">
      <div
        class="affine-database-checkbox checkbox ${e?"checked":""}"
      >
        ${t}
      </div>
    </div>`}#er=oq(this,r,void 0);get _checkbox(){return this.#er}set _checkbox(e){this.#er=e}constructor(){super(...arguments),oq(this,a)}static{oq(t,s)}},t})(),oW=oF.renderConfig({icon:oe("CheckBoxIcon"),cellRenderer:{view:sx(oU)}});var oG=i(41507),oY=i(99971),oK=i(70131),oX=i(59878),oQ=i(26299),oJ=i(83951);let o1=(0,H.JW)`<svg width="7" height="10" viewBox="0 0 7 10" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path 
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd" 
    d="M6.10861 0.391387C6.35269 0.635464 6.35269 1.03119 6.10861 1.27527L2.38388 5L6.10861 8.72472C6.35269 8.9688 6.35269 9.36453 6.10861 9.6086C5.86453 9.85268 5.4688 9.85268 5.22473 9.6086L1.05806 5.44194C0.813981 5.19786 0.813981 4.80213 1.05806 4.55805L5.22473 0.391387C5.4688 0.147309 5.86453 0.147309 6.10861 0.391387Z" 
  />
</svg>
`,o0=(0,H.AH)`
  :host {
    display: block;
  }

  .date-picker {
    background: var(--affine-background-overlay-panel-color);
    border-radius: 12px;
    box-sizing: border-box;
    box-shadow: var(--affine-menu-shadow);
    display: flex;
    flex-direction: column;
    gap: var(--gap-v);
    font-family: var(--affine-font-family);
  }

  /* small action */
  .date-picker-small-action {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    border-radius: 4px;
  }
  .interactive.date-picker-small-action,
  .interactive.action-label.today {
    color: var(--affine-icon-color);
  }
  .date-picker-small-action:hover {
    color: var(--affine-icon-hover-color);
    background: var(--affine-icon-hover-background);
  }
  .date-picker-small-action.left > svg {
    transform: rotate(0deg);
  }
  .date-picker-small-action.right > svg {
    transform: rotate(180deg);
  }
  .date-picker-small-action.down > svg {
    transform: rotate(-90deg);
  }

  /* action-header */
  .date-picker-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .date-picker-header__buttons {
    display: flex;
  }
  .date-picker-header__date {
    display: flex;
    align-items: center;
    gap: 4px;
    color: var(--affine-text-primary-color);
    font-weight: 600;
    padding: 2px;
    border-radius: 4px;
    font-size: 14px;
    line-height: 22px;
  }
  .date-picker-header__date > div {
    padding: 0px 4px;
  }
  .date-picker-header__action {
    display: flex;
    align-items: center;
    gap: 16px;
    color: var(--affine-icon-color);
  }
  .date-picker-header__action.with-slot {
    gap: 4px;
  }
  .date-picker-header__action .action-label {
    font-size: 12px;
    padding: 0px 4px;
    height: 20px;
    border-radius: 4px;
    transition: all 0.23s ease;
    max-width: 100px;
  }
  .date-picker-header__action .action-label > span {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
  }

  /** days header */
  .days-header {
    display: flex;
    gap: var(--gap-h);
  }
  .days-header > div {
    color: var(--affine-text-secondary-color);
    font-weight: 500;
    font-size: 12px;
    cursor: default;
  }

  /** week */
  .date-picker-weeks {
    display: flex;
    flex-direction: column;
    gap: var(--gap-v);
  }
  .date-picker-week {
    display: flex;
    gap: var(--gap-h);
  }

  /** cell */
  .date-cell {
    width: var(--cell-size);
    height: var(--cell-size);
    display: flex;
    align-items: center;
    justify-content: center;
    user-select: none;
    border-radius: 8px;
  }
  .date-cell[data-date] {
    font-weight: 400;
    font-size: 14px;
  }
  .date-cell.date-cell--not-curr-month {
    opacity: 0.1;
  }
  .date-cell.date-cell--today {
    color: var(--affine-primary-color);
    font-weight: 600;
  }
  .date-cell.date-cell--selected {
    background: var(--affine-primary-color);
    color: var(--affine-pure-white);
    font-weight: 500;
  }

  /** interactive  */
  .interactive {
    cursor: pointer;
    /* transition:
      background 0.23s ease,
      color 0.23s ease; */
    user-select: none;
    position: relative;
    border: none;
    background-color: unset;
    font-family: var(--affine-font-family);
    color: var(--affine-text-primary-color);
  }
  /* --hover */
  .interactive::after,
  .interactive::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    transition: background 0.23s ease;
  }
  .interactive::after {
    opacity: 1;
    background: transparent;
  }
  .interactive:hover::after {
    background: var(--affine-hover-color);
  }
  /* --focus */
  .interactive::before {
    opacity: 0;
    transition: none;
    box-shadow: 0 0 0 3px var(--affine-primary-color);
  }
  /* .interactive:active, */
  .interactive:focus-visible {
    outline: none;
    outline: 1px solid var(--affine-primary-color);
  }
  /* .interactive:active::before, */
  .interactive:focus-visible::before {
    opacity: 0.5;
  }
  /** disabled */
  .interactive[disabled] {
    cursor: not-allowed;
    opacity: 0.5;
  }

  /** Month Select */
  .date-picker-month {
    --btn-width: 36px;
  }
  .date-picker-year {
    --btn-width: 46px;
  }
  .date-picker-month,
  .date-picker-year {
    display: grid;
    grid-template-columns: repeat(3, var(--btn-width));
    gap: 18px 32px;
    justify-content: space-between;
  }
  .date-picker-month button,
  .date-picker-year button {
    height: 34px;
    width: fit-content;
    padding: 4px;
    border-radius: 8px;
    font-size: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--btn-width);
  }
  .date-picker-month button.active,
  .date-picker-year button.active {
    color: var(--affine-primary-color);
    /* background: var(--affine-primary-color); */
    font-weight: 600;
  }
  .date-picker .date-picker-header {
    padding: 0px;
    transition: padding 0.23s ease;
  }
  .date-picker--mode-month,
  .date-picker--mode-year {
    gap: 26px;
  }
  .date-picker--mode-month .date-picker-header,
  .date-picker--mode-year .date-picker-header {
    /* padding: 0 10px; */
  }
`;function o2(e){var t;return e instanceof Date?e:("string"==typeof e&&(t=e,/^\d+$/.test(t))&&(e=+e),e?new Date(e):new Date)}function o5(e,t,i){let[s,o]=[e,t].sort();return Math.min(Math.max(i,s),o)}var o7=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},o3=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let o4=["Su","Mo","Tu","We","Th","Fr","Sa"],o6=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o8=(()=>{let e,t,i,s,o,r,a,n,l,c,d,h,u,p,f,g=[(0,L.EM)("date-picker")],m=[],v=(0,P.Tm)(H.WF),y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[],O=[],A=[],D=[],j=[],V=[],R=[],z=[],F=[],N=[],q=[],U=[],W=[];return class extends v{static{t=this}static{let P="function"==typeof Symbol&&Symbol.metadata?Object.create(v[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({type:Number})],c=[(0,L.MZ)({type:Number})],d=[(0,L.MZ)({attribute:!1})],h=[(0,L.MZ)({attribute:!1})],u=[(0,L.MZ)({type:Number})],p=[(0,L.MZ)({type:Number})],f=[(0,L.MZ)({type:Number})],o7(this,null,i,{kind:"accessor",name:"_matrix",static:!1,private:!1,access:{has:e=>"_matrix"in e,get:e=>e._matrix,set:(e,t)=>{e._matrix=t}},metadata:P},y,b),o7(this,null,s,{kind:"accessor",name:"_mode",static:!1,private:!1,access:{has:e=>"_mode"in e,get:e=>e._mode,set:(e,t)=>{e._mode=t}},metadata:P},w,x),o7(this,null,o,{kind:"accessor",name:"_monthCursor",static:!1,private:!1,access:{has:e=>"_monthCursor"in e,get:e=>e._monthCursor,set:(e,t)=>{e._monthCursor=t}},metadata:P},_,C),o7(this,null,r,{kind:"accessor",name:"_monthPickYearCursor",static:!1,private:!1,access:{has:e=>"_monthPickYearCursor"in e,get:e=>e._monthPickYearCursor,set:(e,t)=>{e._monthPickYearCursor=t}},metadata:P},k,S),o7(this,null,a,{kind:"accessor",name:"_yearCursor",static:!1,private:!1,access:{has:e=>"_yearCursor"in e,get:e=>e._yearCursor,set:(e,t)=>{e._yearCursor=t}},metadata:P},M,E),o7(this,null,n,{kind:"accessor",name:"_yearMatrix",static:!1,private:!1,access:{has:e=>"_yearMatrix"in e,get:e=>e._yearMatrix,set:(e,t)=>{e._yearMatrix=t}},metadata:P},I,B),o7(this,null,l,{kind:"accessor",name:"gapH",static:!1,private:!1,access:{has:e=>"gapH"in e,get:e=>e.gapH,set:(e,t)=>{e.gapH=t}},metadata:P},$,T),o7(this,null,c,{kind:"accessor",name:"gapV",static:!1,private:!1,access:{has:e=>"gapV"in e,get:e=>e.gapV,set:(e,t)=>{e.gapV=t}},metadata:P},O,A),o7(this,null,d,{kind:"accessor",name:"onChange",static:!1,private:!1,access:{has:e=>"onChange"in e,get:e=>e.onChange,set:(e,t)=>{e.onChange=t}},metadata:P},D,j),o7(this,null,h,{kind:"accessor",name:"onEscape",static:!1,private:!1,access:{has:e=>"onEscape"in e,get:e=>e.onEscape,set:(e,t)=>{e.onEscape=t}},metadata:P},V,R),o7(this,null,u,{kind:"accessor",name:"padding",static:!1,private:!1,access:{has:e=>"padding"in e,get:e=>e.padding,set:(e,t)=>{e.padding=t}},metadata:P},z,F),o7(this,null,p,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:e=>"size"in e,get:e=>e.size,set:(e,t)=>{e.size=t}},metadata:P},N,q),o7(this,null,f,{kind:"accessor",name:"value",static:!1,private:!1,access:{has:e=>"value"in e,get:e=>e.value,set:(e,t)=>{e.value=t}},metadata:P},U,W),o7(null,e={value:t},g,{kind:"class",name:t.name,metadata:P},null,m),t=e.value,P&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:P})}static{this.styles=o0}get _cardStyle(){return{"--cell-size":`${this.size}px`,"--gap-h":`${this.gapH}px`,"--gap-v":`${this.gapV}px`,"min-width":`${this.cardWidth}px`,"min-height":`${this.cardHeight}px`,padding:`${this.padding}px`}}_cellRenderer(e){let t=(0,oJ.H)({interactive:!0,"date-cell":!0,"date-cell--today":e.isToday,"date-cell--not-curr-month":e.notCurrentMonth,"date-cell--selected":!!e.selected}),i=`${e.date.getFullYear()}-${e.date.getMonth()}-${e.date.getDate()}(${e.date.getDay()})`;return(0,H.qy)`<button
      tabindex=${e.tabIndex??-1}
      aria-label=${i}
      data-date=${i}
      class=${t}
      @click=${()=>{this._onChange(e.date)}}
    >
      ${e.label}
    </button>`}_dateContent(){return(0,H.qy)` <div class="date-picker-header">
        <div class="date-picker-header__buttons">
          <button
            class="date-picker-header__date interactive"
            @click=${()=>this.toggleMonthSelector()}
          >
            <div>${this.monthLabel}</div>
          </button>

          <button
            class="date-picker-header__date interactive"
            @click=${()=>this.toggleYearSelector()}
          >
            <div>${this.yearLabel}</div>
          </button>
        </div>

        ${this._navAction(()=>this._moveMonth(-1),()=>this._moveMonth(1),(0,H.qy)`<button
            tabindex="0"
            aria-label="today"
            class="action-label interactive today"
            @click=${()=>{this._onChange(new Date)}}
          >
            <span>TODAY</span>
          </button>`)}
      </div>
      ${this._dayHeaderRenderer()}
      <div class="date-picker-weeks">
        ${this._matrix.map(e=>(0,H.qy)`<div class="date-picker-week">
              ${e.map(e=>this._cellRenderer(e))}
            </div>`)}
      </div>`}_dayHeaderRenderer(){return(0,H.qy)`<div class="days-header">
      ${o4.map(e=>(0,H.qy)`<div class="date-cell">${e}</div>`)}
    </div>`}_getMatrix(){this._matrix=(function(e){let t=o2(e),i=function(e){let t=o2(e);return new Date(t.getFullYear(),t.getMonth(),1)}(t),s=function(e){let t=o2(e);return new Date(t.getFullYear(),t.getMonth()+1,0)}(t),o=new Date(i);o.setDate(i.getDate()-i.getDay());let r=new Date(s);r.setDate(s.getDate()+(6-s.getDay()));let a=[],n=[],l=new Date(o);for(;l<=r;)n.push(new Date(l)),7===n.length&&(a.push(n),n=[]),l.setDate(l.getDate()+1);return a})(this._cursor).map(e=>e.map(e=>{let t=(0,oK.r)(e,this._cursor)?0:-1;return{date:e,label:e.getDate().toString(),isToday:(0,oX.c)(e),notCurrentMonth:!(0,oQ.t)(e,this._cursor),selected:!!this.value&&(0,oK.r)(e,o2(this.value)),tabIndex:t}}))}_getYearMatrix(){let e=Math.floor((this._yearCursor-this._minYear)/12),t=this._minYear+12*e;this._yearMatrix=Array.from({length:t+12-t},(e,i)=>t+i).filter(e=>e>=this._minYear&&e<=this._maxYear)}_modeDecade(e){this._yearCursor=o5(this._minYear,this._maxYear,this._yearCursor+e),this._getYearMatrix()}_monthContent(){return(0,H.qy)` <div class="date-picker-header">
        <button
          class="date-picker-header__date interactive"
          @click=${()=>this.toggleMonthSelector()}
        >
          <div>${this._monthPickYearCursor}</div>
        </button>

        ${this._navAction({action:()=>this._monthPickYearCursor--,disable:this._monthPickYearCursor<=this._minYear},{action:()=>this._monthPickYearCursor++,disable:this._monthPickYearCursor>=this._maxYear})}
      </div>
      <div class="date-picker-month">
        ${o6.map((e,t)=>{let i=!!this.value&&(0,oQ.t)(this.value,new Date(this._monthPickYearCursor,t,1)),s=(0,oJ.H)({"month-cell":!0,interactive:!0,active:i});return(0,H.qy)`<button
            tabindex=${this._monthCursor===t?0:-1}
            aria-label=${e}
            class=${s}
            @click=${()=>{this._cursor.setMonth(t),this._cursor.setFullYear(this._monthPickYearCursor),this._mode="date",this._getMatrix()}}
          >
            ${e}
          </button>`})}
      </div>`}_moveMonth(e){this._cursor.setMonth(this._cursor.getMonth()+e),this._getMatrix()}_navAction(e,t,i){let s="function"==typeof e?e:e.action,o="function"==typeof t?t:t.action,r="function"!=typeof e&&e.disable,a="function"!=typeof t&&t.disable,n=(0,oJ.H)({"date-picker-header__action":!0,"with-slot":!!i});return(0,H.qy)`<div class=${n}>
      <button
        aria-label="previous month"
        class="date-picker-small-action interactive left"
        @click=${s}
        ?disabled=${r}
      >
        ${o1}
      </button>
      ${i??H.s6}
      <button
        aria-label="next month"
        class="date-picker-small-action interactive right"
        @click=${o}
        ?disabled=${a}
      >
        ${o1}
      </button>
    </div>`}_onChange(e,t=!0){this._cursor=e,this.value=e.getTime(),this._getMatrix(),t&&this.onChange?.(e)}_switchMode(e){return e[this._mode]??H.s6}_yearContent(){let e=this._yearMatrix[0],t=this._yearMatrix[this._yearMatrix.length-1];return(0,H.qy)`<div class="date-picker-header">
        <button
          class="date-picker-header__date interactive"
          @click=${()=>this.toggleYearSelector()}
        >
          <div>${e}-${t}</div>
        </button>
        ${this._navAction({action:()=>this._modeDecade(-12),disable:e<=this._minYear},{action:()=>this._modeDecade(12),disable:t>=this._maxYear})}
      </div>
      <div class="date-picker-year">
        ${this._yearMatrix.map(e=>{let t=e===this._cursor.getFullYear(),i=(0,oJ.H)({"year-cell":!0,interactive:!0,active:t});return(0,H.qy)`<button
            tabindex=${this._yearCursor===e?0:-1}
            aria-label=${e}
            class=${i}
            @click=${()=>{this._cursor.setFullYear(e),this._mode="date",this._getMatrix()}}
          >
            ${e}
          </button>`})}
      </div>`}closeMonthSelector(){this._mode="date"}closeYearSelector(){this._mode="date"}connectedCallback(){super.connectedCallback(),this.value&&(this._cursor=o2(this.value)),this._getMatrix()}firstUpdated(){this._disposables.addFromEvent(this,"keydown",e=>{e.stopPropagation();let t=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"];t.includes(e.key)&&this.isDateCellFocused()&&(e.preventDefault(),"ArrowLeft"===e.key?this._cursor.setDate(this._cursor.getDate()-1):"ArrowRight"===e.key?this._cursor.setDate(this._cursor.getDate()+1):"ArrowUp"===e.key?this._cursor.setDate(this._cursor.getDate()-7):"ArrowDown"===e.key&&this._cursor.setDate(this._cursor.getDate()+7),this._getMatrix(),setTimeout(this.focusDateCell.bind(this))),t.includes(e.key)&&this.isMonthCellFocused()&&(e.preventDefault(),"ArrowLeft"===e.key?this._monthCursor=(this._monthCursor-1+12)%12:"ArrowRight"===e.key?this._monthCursor=(this._monthCursor+1)%12:"ArrowUp"===e.key?this._monthCursor=(this._monthCursor-3+12)%12:"ArrowDown"===e.key&&(this._monthCursor=(this._monthCursor+3)%12),setTimeout(this.focusMonthCell.bind(this))),t.includes(e.key)&&this.isYearCellFocused()&&(e.preventDefault(),"ArrowLeft"===e.key?this._modeDecade(-1):"ArrowRight"===e.key?this._modeDecade(1):"ArrowUp"===e.key?this._modeDecade(-3):"ArrowDown"===e.key&&this._modeDecade(3),setTimeout(this.focusYearCell.bind(this))),"Tab"===e.key&&setTimeout(()=>{let t=this.shadowRoot?.activeElement,i=this.shadowRoot?.querySelector("button");e.shiftKey||t||i?.focus(),e.shiftKey&&!this.shadowRoot?.contains(t)&&this.focusDateCell()}),"Escape"===e.key&&this.onEscape?.(o2(this.value))},!0)}focusDateCell(){let e=this.shadowRoot?.querySelector('button.date-cell[tabindex="0"]');e?.focus()}focusMonthCell(){let e=this.shadowRoot?.querySelector('button.month-cell[tabindex="0"]');e?.focus()}focusYearCell(){let e=this.shadowRoot?.querySelector('button.year-cell[tabindex="0"]');e?.focus()}isDateCellFocused(){let e=this.shadowRoot?.activeElement;return e?.classList.contains("date-cell")}isMonthCellFocused(){let e=this.shadowRoot?.activeElement;return e?.classList.contains("month-cell")}isYearCellFocused(){let e=this.shadowRoot?.activeElement;return e?.classList.contains("year-cell")}openMonthSelector(){this._monthCursor=this.month,this._monthPickYearCursor=this.year,this._mode="month"}openYearSelector(){this._yearCursor=o5(this._minYear,this._maxYear,this.year),this._mode="year",this._getYearMatrix()}render(){let e=(0,oJ.H)({"date-picker":!0,[`date-picker--mode-${this._mode}`]:!0}),t=(0,Z.W)({"min-height":`${this.minHeight}px`});return(0,H.qy)`<div style=${t} class="date-picker-height-wrapper">
      <div class=${e} style=${(0,Z.W)(this._cardStyle)}>
        ${this._switchMode({date:this._dateContent(),month:this._monthContent(),year:this._yearContent()})}
      </div>
    </div>`}toggleMonthSelector(){"month"===this._mode?this.closeMonthSelector():this.openMonthSelector()}toggleYearSelector(){"year"===this._mode?this.closeYearSelector():this.openYearSelector()}updated(e){e.has("value")&&(this.value?this._onChange(o2(this.value),!1):this._getMatrix())}get cardHeight(){return 7*this.size+2*this.padding+6*this.gapV-2}get cardWidth(){return 7*this.size+2*this.padding+6*this.gapH}get date(){return this._cursor.getDate()}get day(){return this._cursor.getDay()}get dayLabel(){return o4[this.day]}get minHeight(){return 8*this.size+2*this.padding+7*this.gapV-2}get month(){return this._cursor.getMonth()}get monthLabel(){return o6[this.month]}get year(){return this._cursor.getFullYear()}get yearLabel(){return this.year}#ea;get _matrix(){return this.#ea}set _matrix(e){this.#ea=e}#en;get _mode(){return this.#en}set _mode(e){this.#en=e}#el;get _monthCursor(){return this.#el}set _monthCursor(e){this.#el=e}#ec;get _monthPickYearCursor(){return this.#ec}set _monthPickYearCursor(e){this.#ec=e}#ed;get _yearCursor(){return this.#ed}set _yearCursor(e){this.#ed=e}#eh;get _yearMatrix(){return this.#eh}set _yearMatrix(e){this.#eh=e}#eu;get gapH(){return this.#eu}set gapH(e){this.#eu=e}#ep;get gapV(){return this.#ep}set gapV(e){this.#ep=e}#ef;get onChange(){return this.#ef}set onChange(e){this.#ef=e}#eg;get onEscape(){return this.#eg}set onEscape(e){this.#eg=e}#em;get padding(){return this.#em}set padding(e){this.#em=e}#ev;get size(){return this.#ev}set size(e){this.#ev=e}#ey;get value(){return this.#ey}set value(e){this.#ey=e}constructor(){super(...arguments),this._cursor=new Date,this._maxYear=2099,this._minYear=1970,this.#ea=o3(this,y,[]),this.#en=(o3(this,b),o3(this,w,"date")),this.#el=(o3(this,x),o3(this,_,0)),this.#ec=(o3(this,C),o3(this,k,0)),this.#ed=(o3(this,S),o3(this,M,0)),this.#eh=(o3(this,E),o3(this,I,[])),this.#eu=(o3(this,B),o3(this,$,10)),this.#ep=(o3(this,T),o3(this,O,8)),this.#ef=(o3(this,A),o3(this,D,void 0)),this.#eg=(o3(this,j),o3(this,V,void 0)),this.#em=(o3(this,R),o3(this,z,20)),this.#ev=(o3(this,F),o3(this,N,28)),this.#ey=(o3(this,q),o3(this,U,void 0)),o3(this,W)}static{o3(t,m)}},t})();var o9=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},re=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};function rt({template:e,container:t=document.body,signal:i=new AbortController().signal,renderOptions:s,shadowDom:o=!0,identifyWrapper:r=!0}){let a=document.createElement("div");r&&a.classList.add("blocksuite-portal"),o&&a.attachShadow({mode:"open",..."boolean"!=typeof o?o:{}}),i.addEventListener("abort",()=>{a.remove()});let n=o?a.shadowRoot:a;(0,V.Z1)(n);let l=0,c=t=>{if(t!==l){console.warn("Potentially infinite recursion! Please clean up the old event listeners before `updatePortal`");return}let i=++l,o=e instanceof Function?e({updatePortal:()=>c(i)}):e;(0,V.Z1)(o),(0,H.XX)(o,n,s)};return c(l),t.append(a),a}function ri({computePosition:e,abortController:t,closeOnClickAway:i=!1,...s}){let o=new i_.D,r=s.template,a=r instanceof Function?({updatePortal:e})=>r({updatePortal:e,positionSlot:o=new i_.D}):r,n=rt({...s,signal:t.signal,template:a});if(i&&setTimeout(()=>document.addEventListener("click",e=>{n.contains(e.target)||t.abort()},{signal:t.signal})),!e)return n;let l=n.style.visibility;n.style.visibility="hidden",n.style.position="fixed",n.style.left="0",n.style.top="0",Object.assign(n.style,s.portalStyles);let c=e instanceof Function?e(n):e,{referenceElement:d,...h}=c;(0,V.Z1)(d,"referenceElement is required");let u=()=>{!1!==c.abortWhenRefRemoved&&d instanceof Element&&!(d.checkVisibility?d.checkVisibility():!!d.isConnected&&(!(d instanceof HTMLElement)||null!==d.offsetParent))&&t.abort(),(0,oG.rD)(d,n,h).then(e=>{let{x:t,y:i}=e;n.style.left=`${t}px`,n.style.top=`${i}px`,"hidden"===n.style.visibility&&(n.style.visibility=l),o.emit(e)}).catch(console.error)};if(c.autoUpdate){let e=!0===c.autoUpdate?{}:c.autoUpdate,i=(0,oG.ll)(d,n,u,e);t.signal.addEventListener("abort",()=>{i()})}else u();return n}(()=>{let e,t,i,s,o,r=[(0,L.EM)("blocksuite-portal")],a=[],n=H.WF,l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],o9(this,null,i,{kind:"accessor",name:"container",static:!1,private:!1,access:{has:e=>"container"in e,get:e=>e.container,set:(e,t)=>{e.container=t}},metadata:f},l,c),o9(this,null,s,{kind:"accessor",name:"shadowDom",static:!1,private:!1,access:{has:e=>"shadowDom"in e,get:e=>e.shadowDom,set:(e,t)=>{e.shadowDom=t}},metadata:f},d,h),o9(this,null,o,{kind:"accessor",name:"template",static:!1,private:!1,access:{has:e=>"template"in e,get:e=>e.template,set:(e,t)=>{e.template=t}},metadata:f},u,p),o9(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f}),re(t,a)}createRenderRoot(){let e=document.createElement("div"),t=this.shadowDom?e.attachShadow({mode:"open",..."boolean"!=typeof this.shadowDom?this.shadowDom:{}}):e;return e.classList.add("blocksuite-portal"),this.container.append(e),this._portalRoot=e,t}disconnectedCallback(){super.disconnectedCallback(),this._portalRoot?.remove()}render(){return this.template}#r;get container(){return this.#r}set container(e){this.#r=e}#eb;get shadowDom(){return this.#eb}set shadowDom(e){this.#eb=e}#ew;get template(){return this.#ew}set template(e){this.#ew=e}constructor(){super(...arguments),this._portalRoot=null,this.#r=re(this,l,document.body),this.#eb=(re(this,c),re(this,d,!0)),this.#ew=(re(this,h),re(this,u,(0,H.qy)``)),re(this,p)}})})();let rs=oi("date").modelConfig({name:"Date",type:()=>oy.create(),defaultData:()=>({}),cellToString:e=>e?.toString()??"",cellFromString:e=>({value:isNaN(Date.parse(e))?null:+new Date(e)}),cellToJson:e=>e??null,isEmpty:e=>null==e});var ro=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},rr=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let ra=(()=>{let e,t,i=[(0,L.EM)("affine-database-date-cell")],s=[],o=sf;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;ro(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    affine-database-date-cell {
      width: 100%;
    }

    .affine-database-date {
      display: flex;
      align-items: center;
      width: 100%;
      padding: 0;
      border: none;
      font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
      color: var(--affine-text-primary-color);
      font-weight: 400;
      background-color: transparent;
      font-size: var(--data-view-cell-text-size);
      line-height: var(--data-view-cell-text-line-height);
      height: var(--data-view-cell-text-line-height);
    }

    input.affine-database-date[type='date']::-webkit-calendar-picker-indicator {
      display: none;
    }
  `}render(){let e=this.value?(0,R.GP)(new Date(this.value),"yyyy/MM/dd"):"";return e?(0,H.qy)` <div class="affine-database-date date">${e}</div>`:""}static{rr(t,s)}},t})(),rn=(()=>{let e,t,i=[(0,L.EM)("affine-database-date-cell-editing")],s=[],o=sf,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;ro(this,null,[(0,L.wk)()],{kind:"accessor",name:"tempValue",static:!1,private:!1,access:{has:e=>"tempValue"in e,get:e=>e.tempValue,set:(e,t)=>{e.tempValue=t}},metadata:n},r,a),ro(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    affine-database-date-cell-editing {
      width: 100%;
      cursor: text;
    }

    .affine-database-date:focus {
      outline: none;
    }
  `}firstUpdated(){this.openDatePicker()}onExitEditMode(){this.updateValue(),this._prevPortalAbortController?.abort()}render(){return(0,H.qy)` <div
      class="affine-database-date date"
      @click="${this.openDatePicker}"
    >
      ${this.dateString}
    </div>`}get dateString(){let e=this.tempValue??this.value;return e?(0,R.GP)(e,"yyyy/MM/dd"):""}#ex;get tempValue(){return this.#ex}set tempValue(e){this.#ex=e}constructor(){super(...arguments),this._prevPortalAbortController=null,this.openDatePicker=()=>{if(this._prevPortalAbortController&&!this._prevPortalAbortController.signal.aborted)return;this._prevPortalAbortController?.abort();let e=new AbortController;e.signal.addEventListener("abort",()=>{this.selectCurrentCell(!1)},{once:!0}),this._prevPortalAbortController=e,ri({abortController:e,closeOnClickAway:!0,computePosition:{referenceElement:this,placement:"bottom",middleware:[(0,oG.cY)(10),(0,oG.UU)()]},template:()=>{let t=new o8;return t.value=this.value??Date.now(),t.onChange=e=>{this.tempValue=e},t.onEscape=()=>{e.abort()},requestAnimationFrame(()=>t.focusDateCell()),t}}).style.zIndex="1002"},this.updateValue=()=>{let e=this.tempValue;e&&(this.onChange(e.getTime()),this.tempValue=void 0)},this.#ex=rr(this,r,void 0),rr(this,a)}static{rr(t,s)}},t})(),rl=rs.renderConfig({icon:oe("DateTime"),cellRenderer:{view:sx(ra),edit:sx(rn)}}),rc=oi("image").modelConfig({name:"image",type:()=>ob.create(),defaultData:()=>({}),cellToString:e=>e??"",cellFromString:e=>({value:e}),cellToJson:e=>e??null,isEmpty:e=>null==e});var rd=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},rh=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let ru=(()=>{let e,t,i=[(0,L.EM)("affine-database-image-cell")],s=[],o=sf;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;rd(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    affine-database-image-cell {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
    }
    affine-database-image-cell img {
      width: 20px;
      height: 20px;
    }
  `}render(){return(0,H.qy)`<img src=${this.value??""}></img>`}static{rh(t,s)}},t})(),rp=rc.renderConfig({icon:oe("ImageIcon"),cellRenderer:{view:sx(ru)}}),rf=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_7444_26654)">
    <path
      d="M9.40033 4.57585C9.36627 4.27519 9.11207 4.04792 8.80948 4.04761C8.50689 4.0473 8.25223 4.27405 8.21756 4.57465C7.99211 6.52928 7.40771 7.90373 6.46492 8.84651C5.52213 9.7893 4.14769 10.3737 2.19305 10.5991C1.89246 10.6338 1.66571 10.8885 1.66602 11.1911C1.66633 11.4937 1.8936 11.7479 2.19426 11.7819C4.11659 11.9997 5.52025 12.5838 6.48542 13.5315C7.44696 14.4757 8.04356 15.8498 8.21597 17.7908C8.24327 18.0981 8.50096 18.3337 8.80954 18.3333C9.11813 18.333 9.37528 18.0969 9.40189 17.7894C9.56714 15.8804 10.1632 14.4774 11.1295 13.5111C12.0958 12.5448 13.4988 11.9487 15.4078 11.7835C15.7153 11.7569 15.9514 11.4997 15.9517 11.1911C15.9521 10.8825 15.7165 10.6249 15.4092 10.5976C13.4683 10.4252 12.0941 9.82855 11.15 8.86701C10.2022 7.90184 9.61807 6.49818 9.40033 4.57585Z"
      fill="#1E96EB"
    />
    <path
      d="M15.7849 1.87208C15.7717 1.75516 15.6728 1.66678 15.5551 1.66666C15.4375 1.66654 15.3384 1.75472 15.3249 1.87162C15.2373 2.63175 15.01 3.16626 14.6434 3.5329C14.2767 3.89954 13.7422 4.1268 12.9821 4.21448C12.8652 4.22796 12.777 4.327 12.7771 4.44467C12.7772 4.56234 12.8656 4.6612 12.9826 4.67445C13.7301 4.75912 14.276 4.9863 14.6513 5.35485C15.0253 5.72203 15.2573 6.25642 15.3243 7.01121C15.335 7.13075 15.4352 7.22235 15.5552 7.22221C15.6752 7.22208 15.7752 7.13025 15.7855 7.01069C15.8498 6.26831 16.0816 5.72268 16.4574 5.3469C16.8332 4.97111 17.3788 4.73932 18.1212 4.67505C18.2407 4.6647 18.3325 4.5647 18.3327 4.44469C18.3328 4.32469 18.2412 4.22448 18.1217 4.21386C17.3669 4.14681 16.8325 3.9148 16.4653 3.54087C16.0968 3.16552 15.8696 2.61966 15.7849 1.87208Z"
      fill="#1E96EB"
    />
  </g>
  <defs>
    <clipPath id="clip0_7444_26654">
      <rect width="20" height="20" fill="white" />
    </clipPath>
  </defs>
</svg>`,rg=(0,H.qy)`<dotlottie-player
  src='{"v":"5.12.1","fr":120,"ip":0,"op":239,"w":240,"h":240,"nm":"ai","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"big 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.5],"y":[1]},"o":{"x":[0.5],"y":[0]},"t":38,"s":[80]},{"t":76,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[107.859,132.143,0],"ix":2,"l":2},"a":{"a":0,"k":[8.572,11.429,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":38,"s":[0,0,100]},{"t":76,"s":[1005,1005,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.261,2.307],[0.363,0],[0.041,-0.361],[1.131,-1.132],[2.346,-0.271],[-0.001,-0.363],[-0.361,-0.041],[-1.158,-1.137],[-0.207,-2.329],[-0.37,0],[-0.032,0.369],[-1.16,1.16],[-2.291,0.198],[-0.001,0.371],[0.368,0.033],[1.133,1.154]],"o":[[-0.041,-0.361],[-0.363,0],[-0.271,2.345],[-1.132,1.131],[-0.36,0.042],[0,0.363],[2.307,0.262],[1.154,1.133],[0.033,0.369],[0.37,0],[0.198,-2.29],[1.16,-1.159],[0.369,-0.032],[0,-0.37],[-2.329,-0.207],[-1.138,-1.158]],"v":[[0.71,-7.937],[0.001,-8.571],[-0.709,-7.938],[-2.812,-2.812],[-7.939,-0.709],[-8.571,0.001],[-7.937,0.71],[-2.788,2.81],[-0.711,7.921],[0.001,8.572],[0.712,7.919],[2.785,2.785],[7.919,0.712],[8.572,0.001],[7.921,-0.711],[2.81,-2.788]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.117647058824,0.588235294118,0.921568627451,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.572,11.429],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":8400,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"big","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.5],"y":[1]},"o":{"x":[0.5],"y":[0]},"t":0,"s":[100]},{"i":{"x":[0.5],"y":[1]},"o":{"x":[0.5],"y":[0]},"t":15,"s":[80]},{"t":38,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[107.859,132.143,0],"ix":2,"l":2},"a":{"a":0,"k":[8.572,11.429,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":0,"s":[1005,1005,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":15,"s":[1035,1035,100]},{"t":38,"s":[0,0,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.261,2.307],[0.363,0],[0.041,-0.361],[1.131,-1.132],[2.346,-0.271],[-0.001,-0.363],[-0.361,-0.041],[-1.158,-1.137],[-0.207,-2.329],[-0.37,0],[-0.032,0.369],[-1.16,1.16],[-2.291,0.198],[-0.001,0.371],[0.368,0.033],[1.133,1.154]],"o":[[-0.041,-0.361],[-0.363,0],[-0.271,2.345],[-1.132,1.131],[-0.36,0.042],[0,0.363],[2.307,0.262],[1.154,1.133],[0.033,0.369],[0.37,0],[0.198,-2.29],[1.16,-1.159],[0.369,-0.032],[0,-0.37],[-2.329,-0.207],[-1.138,-1.158]],"v":[[0.71,-7.937],[0.001,-8.571],[-0.709,-7.938],[-2.812,-2.812],[-7.939,-0.709],[-8.571,0.001],[-7.937,0.71],[-2.788,2.81],[-0.711,7.921],[0.001,8.572],[0.712,7.919],[2.785,2.785],[7.919,0.712],[8.572,0.001],[7.921,-0.711],[2.81,-2.788]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.117647058824,0.588235294118,0.921568627451,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.572,11.429],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":8400,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"small 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.5],"y":[1]},"o":{"x":[0.5],"y":[0]},"t":48.074,"s":[80]},{"t":85.07421875,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[183,56.999,0],"ix":2,"l":2},"a":{"a":0,"k":[16.667,3.333,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":48,"s":[0,0,100]},{"t":85.07421875,"s":[1005,1005,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.102,0.897],[0.141,0.001],[0.016,-0.14],[0.44,-0.44],[0.912,-0.105],[0,-0.141],[-0.14,-0.016],[-0.451,-0.442],[-0.08,-0.906],[-0.144,0],[-0.013,0.144],[-0.451,0.451],[-0.89,0.077],[0,0.144],[0.143,0.013],[0.441,0.448]],"o":[[-0.016,-0.14],[-0.141,0],[-0.105,0.913],[-0.44,0.44],[-0.141,0.016],[0,0.141],[0.897,0.101],[0.448,0.441],[0.013,0.143],[0.144,0],[0.077,-0.891],[0.451,-0.451],[0.144,-0.013],[0,-0.144],[-0.906,-0.08],[-0.442,-0.451]],"v":[[0.276,-3.087],[0,-3.334],[-0.276,-3.088],[-1.094,-1.094],[-3.087,-0.276],[-3.333,0],[-3.087,0.276],[-1.084,1.092],[-0.277,3.08],[0,3.333],[0.277,3.079],[1.083,1.083],[3.079,0.277],[3.333,0],[3.08,-0.277],[1.092,-1.084]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.117647058824,0.588235294118,0.921568627451,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[16.667,3.333],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":8400,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"small","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.5],"y":[1]},"o":{"x":[0.5],"y":[0]},"t":10.074,"s":[100]},{"i":{"x":[0.5],"y":[1]},"o":{"x":[0.5],"y":[0]},"t":25.074,"s":[80]},{"t":48.07421875,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[183,56.999,0],"ix":2,"l":2},"a":{"a":0,"k":[16.667,3.333,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":10.074,"s":[1005,1005,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":25.074,"s":[1235,1235,100]},{"t":48,"s":[0,0,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.102,0.897],[0.141,0.001],[0.016,-0.14],[0.44,-0.44],[0.912,-0.105],[0,-0.141],[-0.14,-0.016],[-0.451,-0.442],[-0.08,-0.906],[-0.144,0],[-0.013,0.144],[-0.451,0.451],[-0.89,0.077],[0,0.144],[0.143,0.013],[0.441,0.448]],"o":[[-0.016,-0.14],[-0.141,0],[-0.105,0.913],[-0.44,0.44],[-0.141,0.016],[0,0.141],[0.897,0.101],[0.448,0.441],[0.013,0.143],[0.144,0],[0.077,-0.891],[0.451,-0.451],[0.144,-0.013],[0,-0.144],[-0.906,-0.08],[-0.442,-0.451]],"v":[[0.276,-3.087],[0,-3.334],[-0.276,-3.088],[-1.094,-1.094],[-3.087,-0.276],[-3.333,0],[-3.087,0.276],[-1.084,1.092],[-0.277,3.08],[0,3.333],[0.277,3.079],[1.083,1.083],[3.079,0.277],[3.333,0],[3.08,-0.277],[1.092,-1.084]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.117647058824,0.588235294118,0.921568627451,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[16.667,3.333],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":8400,"st":0,"ct":1,"bm":0}],"markers":[],"props":{}}'
  background="transparent"
  speed="1"
  style="width: 20px; height: 20px;"
  loop
  autoplay
></dotlottie-player>`,rm=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_7496_34464)">
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M17.0827 10C17.0827 13.912 13.9114 17.0834 9.99935 17.0834C6.08733 17.0834 2.91602 13.912 2.91602 10C2.91602 6.088 6.08733 2.91669 9.99935 2.91669C13.9114 2.91669 17.0827 6.088 17.0827 10ZM18.3327 10C18.3327 14.6024 14.6017 18.3334 9.99935 18.3334C5.39698 18.3334 1.66602 14.6024 1.66602 10C1.66602 5.39765 5.39698 1.66669 9.99935 1.66669C14.6017 1.66669 18.3327 5.39765 18.3327 10ZM8.33268 6.66669C7.41221 6.66669 6.66602 7.41288 6.66602 8.33335V11.6667C6.66602 12.5872 7.41221 13.3334 8.33268 13.3334H11.666C12.5865 13.3334 13.3327 12.5872 13.3327 11.6667V8.33335C13.3327 7.41288 12.5865 6.66669 11.666 6.66669H8.33268Z"
      fill="#1E96EB"
    />
  </g>
  <defs>
    <clipPath id="clip0_7496_34464">
      <rect width="20" height="20" fill="white" />
    </clipPath>
  </defs>
</svg>`,rv=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M16.2751 5.39143C16.5192 5.63551 16.5192 6.03124 16.2751 6.27532L7.94178 14.6086C7.6977 14.8527 7.30197 14.8527 7.0579 14.6086L3.72456 11.2753C3.48048 11.0312 3.48048 10.6355 3.72456 10.3914C3.96864 10.1474 4.36437 10.1474 4.60845 10.3914L7.49984 13.2828L15.3912 5.39143C15.6353 5.14735 16.031 5.14735 16.2751 5.39143Z"
  />
</svg>`,ry=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M11.2502 4.16663C11.2502 3.82145 11.53 3.54163 11.8752 3.54163H15.6252C15.9703 3.54163 16.2502 3.82145 16.2502 4.16663V11.25C16.2502 11.4157 16.1843 11.5747 16.0671 11.6919C15.9499 11.8091 15.7909 11.875 15.6252 11.875L5.45567 11.875L8.24903 14.6994C8.49175 14.9448 8.48957 15.3405 8.24414 15.5832C7.99872 15.826 7.603 15.8238 7.36027 15.5783L3.51412 11.6895C3.27329 11.4459 3.27329 11.054 3.51412 10.8105L7.36027 6.92158C7.603 6.67615 7.99872 6.67397 8.24414 6.91669C8.48957 7.15942 8.49175 7.55514 8.24903 7.80056L5.45567 10.625L15.0002 10.625V4.79163H11.8752C11.53 4.79163 11.2502 4.5118 11.2502 4.16663Z"
  />
</svg> `,rb=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.05838 5.39143C6.81431 5.63551 6.81431 6.03124 7.05838 6.27532L10.7831 10L7.05838 13.7248C6.81431 13.9688 6.81431 14.3646 7.05838 14.6087C7.30246 14.8527 7.69819 14.8527 7.94227 14.6087L12.1089 10.442C12.353 10.1979 12.353 9.80218 12.1089 9.5581L7.94227 5.39143C7.69819 5.14735 7.30246 5.14735 7.05838 5.39143Z"
  />
</svg> `,rw=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M19.5303 6.46967C19.8232 6.76256 19.8232 7.23744 19.5303 7.53033L9.53033 17.5303C9.23744 17.8232 8.76256 17.8232 8.46967 17.5303L4.46967 13.5303C4.17678 13.2374 4.17678 12.7626 4.46967 12.4697C4.76256 12.1768 5.23744 12.1768 5.53033 12.4697L9 15.9393L18.4697 6.46967C18.7626 6.17678 19.2374 6.17678 19.5303 6.46967Z"
    fill="currentColor"
  />
</svg> `,rx=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M6.80781 1.875L10.8332 1.875C10.9989 1.875 11.1579 1.94085 11.2751 2.05806L16.2751 7.05806C16.3923 7.17527 16.4582 7.33424 16.4582 7.5V14.8587C16.4582 15.3038 16.4582 15.6754 16.4334 15.9789C16.4075 16.2955 16.3516 16.5927 16.2084 16.8737C15.9887 17.3049 15.6381 17.6555 15.2069 17.8752C14.9258 18.0184 14.6286 18.0744 14.3121 18.1002C14.0085 18.125 13.637 18.125 13.1919 18.125H6.80779C6.36267 18.125 5.99114 18.125 5.68761 18.1002C5.37104 18.0744 5.07383 18.0184 4.79278 17.8752C4.36157 17.6555 4.01099 17.3049 3.79128 16.8737C3.64808 16.5927 3.59215 16.2955 3.56629 15.9789C3.54149 15.6754 3.5415 15.3038 3.5415 14.8587V5.1413C3.5415 4.69618 3.54149 4.32464 3.56629 4.02111C3.59215 3.70454 3.64808 3.40732 3.79128 3.12627C4.01099 2.69507 4.36157 2.34449 4.79278 2.12478C5.07383 1.98157 5.37104 1.92565 5.68761 1.89978C5.99114 1.87498 6.36268 1.87499 6.80781 1.875ZM5.7894 3.14563C5.55013 3.16518 5.43573 3.20008 5.36026 3.23854C5.16426 3.3384 5.00491 3.49776 4.90504 3.69376C4.86659 3.76923 4.83168 3.88363 4.81214 4.1229C4.79199 4.36946 4.7915 4.68964 4.7915 5.16667V14.8333C4.7915 15.3104 4.79199 15.6305 4.81214 15.8771C4.83168 16.1164 4.86659 16.2308 4.90504 16.3062C5.00491 16.5022 5.16426 16.6616 5.36026 16.7615C5.43573 16.7999 5.55013 16.8348 5.7894 16.8544C6.03597 16.8745 6.35615 16.875 6.83317 16.875H13.1665C13.6435 16.875 13.9637 16.8745 14.2103 16.8544C14.4495 16.8348 14.5639 16.7999 14.6394 16.7615C14.8354 16.6616 14.9948 16.5022 15.0946 16.3062C15.1331 16.2308 15.168 16.1164 15.1875 15.8771C15.2077 15.6305 15.2082 15.3104 15.2082 14.8333V8.125H11.6665C10.8611 8.125 10.2082 7.47208 10.2082 6.66667V3.125H6.83317C6.35615 3.125 6.03597 3.12549 5.7894 3.14563ZM11.4582 4.00888L14.3243 6.875H11.6665C11.5514 6.875 11.4582 6.78173 11.4582 6.66667V4.00888Z"
    fill="#77757D"
  />
</svg>`,r_=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M4.75 4C4.75 2.20508 6.20508 0.75 8 0.75H24C24.1212 0.75 24.2375 0.798159 24.3232 0.883885L35.1161 11.6768C35.2018 11.7625 35.25 11.8788 35.25 12V36C35.25 37.7949 33.7949 39.25 32 39.25H8C6.20507 39.25 4.75 37.7949 4.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M24 0.5V8C24 10.2091 25.7909 12 28 12H35.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
</svg>`,rC=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="26" height="16" rx="2" fill="#7F56D9" />
  <path
    d="M6.38947 22.7273V30H4.85183V22.7273H6.38947ZM7.65456 22.7273H9.55087L11.5537 27.6136H11.6389L13.6418 22.7273H15.5381V30H14.0466V25.2663H13.9862L12.1041 29.9645H11.0885L9.20641 25.2486H9.14604V30H7.65456V22.7273ZM21.6274 25.0781C21.5777 24.9053 21.5078 24.7526 21.4179 24.62C21.3279 24.4851 21.2178 24.3714 21.0876 24.2791C20.9598 24.1844 20.813 24.1122 20.6473 24.0625C20.4839 24.0128 20.3028 23.9879 20.104 23.9879C19.7323 23.9879 19.4056 24.0803 19.1238 24.2649C18.8445 24.4496 18.6267 24.7183 18.4704 25.071C18.3142 25.4214 18.2361 25.8499 18.2361 26.3565C18.2361 26.8632 18.313 27.294 18.4669 27.6491C18.6208 28.0043 18.8386 28.2753 19.1203 28.4624C19.402 28.647 19.7346 28.7393 20.1182 28.7393C20.4662 28.7393 20.7633 28.6778 21.0095 28.5547C21.2581 28.4292 21.4475 28.2528 21.5777 28.0256C21.7103 27.7983 21.7765 27.5296 21.7765 27.2195L22.089 27.2656H20.214V26.108H23.2574V27.0241C23.2574 27.6634 23.1224 28.2126 22.8525 28.6719C22.5827 29.1288 22.211 29.4815 21.7375 29.7301C21.264 29.9763 20.7219 30.0994 20.1111 30.0994C19.4292 30.0994 18.8303 29.9491 18.3142 29.6484C17.7981 29.3454 17.3956 28.9157 17.1068 28.3594C16.8203 27.8007 16.6771 27.1378 16.6771 26.3707C16.6771 25.7812 16.7623 25.2557 16.9328 24.794C17.1056 24.33 17.3471 23.937 17.6572 23.6151C17.9674 23.2931 18.3284 23.0481 18.7403 22.88C19.1523 22.7119 19.5985 22.6278 20.0791 22.6278C20.491 22.6278 20.8746 22.6882 21.2297 22.8089C21.5848 22.9273 21.8997 23.0954 22.1743 23.3132C22.4513 23.531 22.6773 23.7902 22.8525 24.0909C23.0277 24.3892 23.1402 24.7183 23.1899 25.0781H21.6274Z"
    fill="white"
  />
</svg>`,rk=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="26" height="16" rx="2" fill="#7F56D9" />
  <path
    d="M7.65146 22.7273H9.17134V27.7983C9.17134 28.267 9.06599 28.6742 8.85529 29.0199C8.64696 29.3655 8.35695 29.6319 7.98526 29.8189C7.61358 30.0059 7.18152 30.0994 6.6891 30.0994C6.25112 30.0994 5.8534 30.0225 5.49592 29.8686C5.1408 29.7124 4.85908 29.4756 4.65075 29.1584C4.44241 28.8388 4.33943 28.4375 4.3418 27.9545H5.87234C5.87707 28.1463 5.91613 28.3108 5.98952 28.4482C6.06528 28.5831 6.16826 28.6873 6.29847 28.7607C6.43105 28.8317 6.5873 28.8672 6.76722 28.8672C6.95662 28.8672 7.11642 28.8269 7.24663 28.7464C7.3792 28.6636 7.47982 28.5429 7.54847 28.3842C7.61713 28.2256 7.65146 28.0303 7.65146 27.7983V22.7273ZM10.4426 30V22.7273H13.312C13.8636 22.7273 14.3335 22.8326 14.7218 23.0433C15.11 23.2517 15.406 23.5417 15.6096 23.9134C15.8155 24.2827 15.9185 24.7088 15.9185 25.1918C15.9185 25.6747 15.8143 26.1009 15.606 26.4702C15.3977 26.8395 15.0958 27.1271 14.7005 27.3331C14.3075 27.5391 13.8316 27.642 13.2729 27.642H11.4441V26.4098H13.0243C13.3203 26.4098 13.5641 26.3589 13.7559 26.2571C13.95 26.1529 14.0944 26.0097 14.1891 25.8274C14.2862 25.6428 14.3347 25.4309 14.3347 25.1918C14.3347 24.9503 14.2862 24.7396 14.1891 24.5597C14.0944 24.3774 13.95 24.2365 13.7559 24.1371C13.5617 24.0353 13.3155 23.9844 13.0172 23.9844H11.9803V30H10.4426ZM21.7397 25.0781C21.69 24.9053 21.6201 24.7526 21.5302 24.62C21.4402 24.4851 21.3301 24.3714 21.1999 24.2791C21.0721 24.1844 20.9253 24.1122 20.7596 24.0625C20.5962 24.0128 20.4151 23.9879 20.2163 23.9879C19.8446 23.9879 19.5179 24.0803 19.2362 24.2649C18.9568 24.4496 18.739 24.7183 18.5827 25.071C18.4265 25.4214 18.3484 25.8499 18.3484 26.3565C18.3484 26.8632 18.4253 27.294 18.5792 27.6491C18.7331 28.0043 18.9509 28.2753 19.2326 28.4624C19.5143 28.647 19.8469 28.7393 20.2305 28.7393C20.5785 28.7393 20.8756 28.6778 21.1218 28.5547C21.3704 28.4292 21.5598 28.2528 21.69 28.0256C21.8226 27.7983 21.8888 27.5296 21.8888 27.2195L22.2013 27.2656H20.3263V26.108H23.3697V27.0241C23.3697 27.6634 23.2347 28.2126 22.9648 28.6719C22.695 29.1288 22.3233 29.4815 21.8498 29.7301C21.3763 29.9763 20.8342 30.0994 20.2234 30.0994C19.5415 30.0994 18.9426 29.9491 18.4265 29.6484C17.9104 29.3454 17.5079 28.9157 17.2191 28.3594C16.9326 27.8007 16.7894 27.1378 16.7894 26.3707C16.7894 25.7812 16.8746 25.2557 17.0451 24.794C17.2179 24.33 17.4594 23.937 17.7695 23.6151C18.0797 23.2931 18.4407 23.0481 18.8526 22.88C19.2646 22.7119 19.7108 22.6278 20.1914 22.6278C20.6033 22.6278 20.9869 22.6882 21.342 22.8089C21.6971 22.9273 22.012 23.0954 22.2866 23.3132C22.5636 23.531 22.7897 23.7902 22.9648 24.0909C23.14 24.3892 23.2525 24.7183 23.3022 25.0781H21.7397Z"
    fill="white"
  />
</svg>`,rS=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="32" height="16" rx="2" fill="#7F56D9" />
  <path
    d="M7.58993 22.7273H9.10982V27.7983C9.10982 28.267 9.00447 28.6742 8.79377 29.0199C8.58543 29.3655 8.29542 29.6319 7.92374 29.8189C7.55205 30.0059 7.12 30.0994 6.62757 30.0994C6.1896 30.0994 5.79187 30.0225 5.43439 29.8686C5.07928 29.7124 4.79756 29.4756 4.58922 29.1584C4.38089 28.8388 4.27791 28.4375 4.28027 27.9545H5.81081C5.81555 28.1463 5.85461 28.3108 5.928 28.4482C6.00376 28.5831 6.10674 28.6873 6.23695 28.7607C6.36953 28.8317 6.52578 28.8672 6.7057 28.8672C6.89509 28.8672 7.05489 28.8269 7.1851 28.7464C7.31768 28.6636 7.41829 28.5429 7.48695 28.3842C7.5556 28.2256 7.58993 28.0303 7.58993 27.7983V22.7273ZM10.3811 30V22.7273H13.2504C13.8021 22.7273 14.272 22.8326 14.6602 23.0433C15.0485 23.2517 15.3444 23.5417 15.548 23.9134C15.754 24.2827 15.857 24.7088 15.857 25.1918C15.857 25.6747 15.7528 26.1009 15.5445 26.4702C15.3361 26.8395 15.0343 27.1271 14.6389 27.3331C14.2459 27.5391 13.7701 27.642 13.2114 27.642H11.3825V26.4098H12.9628C13.2587 26.4098 13.5026 26.3589 13.6943 26.2571C13.8885 26.1529 14.0329 26.0097 14.1276 25.8274C14.2246 25.6428 14.2732 25.4309 14.2732 25.1918C14.2732 24.9503 14.2246 24.7396 14.1276 24.5597C14.0329 24.3774 13.8885 24.2365 13.6943 24.1371C13.5002 24.0353 13.254 23.9844 12.9557 23.9844H11.9188V30H10.3811ZM16.8557 30V22.7273H21.7563V23.995H18.3934V25.728H21.5042V26.9957H18.3934V28.7322H21.7705V30H16.8557ZM27.8012 25.0781C27.7515 24.9053 27.6817 24.7526 27.5917 24.62C27.5017 24.4851 27.3917 24.3714 27.2615 24.2791C27.1336 24.1844 26.9868 24.1122 26.8211 24.0625C26.6578 24.0128 26.4767 23.9879 26.2778 23.9879C25.9061 23.9879 25.5794 24.0803 25.2977 24.2649C25.0183 24.4496 24.8005 24.7183 24.6443 25.071C24.488 25.4214 24.4099 25.8499 24.4099 26.3565C24.4099 26.8632 24.4868 27.294 24.6407 27.6491C24.7946 28.0043 25.0124 28.2753 25.2941 28.4624C25.5758 28.647 25.9085 28.7393 26.292 28.7393C26.64 28.7393 26.9371 28.6778 27.1833 28.5547C27.4319 28.4292 27.6213 28.2528 27.7515 28.0256C27.8841 27.7983 27.9504 27.5296 27.9504 27.2195L28.2629 27.2656H26.3879V26.108H29.4312V27.0241C29.4312 27.6634 29.2963 28.2126 29.0264 28.6719C28.7565 29.1288 28.3848 29.4815 27.9113 29.7301C27.4378 29.9763 26.8957 30.0994 26.2849 30.0994C25.6031 30.0994 25.0041 29.9491 24.488 29.6484C23.9719 29.3454 23.5695 28.9157 23.2806 28.3594C22.9942 27.8007 22.8509 27.1378 22.8509 26.3707C22.8509 25.7812 22.9362 25.2557 23.1066 24.794C23.2794 24.33 23.5209 23.937 23.8311 23.6151C24.1412 23.2931 24.5022 23.0481 24.9142 22.88C25.3261 22.7119 25.7723 22.6278 26.2529 22.6278C26.6649 22.6278 27.0484 22.6882 27.4035 22.8089C27.7586 22.9273 28.0735 23.0954 28.3481 23.3132C28.6251 23.531 28.8512 23.7902 29.0264 24.0909C29.2016 24.3892 29.314 24.7183 29.3637 25.0781H27.8012Z"
    fill="white"
  />
</svg>`,rM=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="28" height="16" rx="2" fill="#7F56D9" />
  <path
    d="M4.91433 30V22.7273H7.78365C8.33526 22.7273 8.80519 22.8326 9.19345 23.0433C9.58171 23.2517 9.87763 23.5417 10.0812 23.9134C10.2872 24.2827 10.3902 24.7088 10.3902 25.1918C10.3902 25.6747 10.286 26.1009 10.0777 26.4702C9.86935 26.8395 9.5675 27.1271 9.17214 27.3331C8.77915 27.5391 8.3033 27.642 7.74458 27.642H5.91575V26.4098H7.496C7.79193 26.4098 8.03578 26.3589 8.22754 26.2571C8.42167 26.1529 8.56608 26.0097 8.66078 25.8274C8.75784 25.6428 8.80637 25.4309 8.80637 25.1918C8.80637 24.9503 8.75784 24.7396 8.66078 24.5597C8.56608 24.3774 8.42167 24.2365 8.22754 24.1371C8.03341 24.0353 7.7872 23.9844 7.4889 23.9844H6.45197V30H4.91433ZM17.472 22.7273V30H16.1439L12.9798 25.4226H12.9266V30H11.3889V22.7273H12.7384L15.8776 27.3011H15.9415V22.7273H17.472ZM23.5649 25.0781C23.5152 24.9053 23.4453 24.7526 23.3554 24.62C23.2654 24.4851 23.1553 24.3714 23.0251 24.2791C22.8973 24.1844 22.7505 24.1122 22.5848 24.0625C22.4214 24.0128 22.2403 23.9879 22.0415 23.9879C21.6698 23.9879 21.3431 24.0803 21.0613 24.2649C20.782 24.4496 20.5642 24.7183 20.4079 25.071C20.2517 25.4214 20.1736 25.8499 20.1736 26.3565C20.1736 26.8632 20.2505 27.294 20.4044 27.6491C20.5583 28.0043 20.7761 28.2753 21.0578 28.4624C21.3395 28.647 21.6721 28.7393 22.0557 28.7393C22.4037 28.7393 22.7008 28.6778 22.947 28.5547C23.1956 28.4292 23.385 28.2528 23.5152 28.0256C23.6478 27.7983 23.714 27.5296 23.714 27.2195L24.0265 27.2656H22.1515V26.108H25.1949V27.0241C25.1949 27.6634 25.0599 28.2126 24.79 28.6719C24.5202 29.1288 24.1485 29.4815 23.675 29.7301C23.2015 29.9763 22.6594 30.0994 22.0486 30.0994C21.3667 30.0994 20.7678 29.9491 20.2517 29.6484C19.7356 29.3454 19.3331 28.9157 19.0443 28.3594C18.7578 27.8007 18.6146 27.1378 18.6146 26.3707C18.6146 25.7812 18.6998 25.2557 18.8703 24.794C19.0431 24.33 19.2846 23.937 19.5947 23.6151C19.9049 23.2931 20.2659 23.0481 20.6778 22.88C21.0898 22.7119 21.536 22.6278 22.0166 22.6278C22.4285 22.6278 22.8121 22.6882 23.1672 22.8089C23.5223 22.9273 23.8372 23.0954 24.1118 23.3132C24.3888 23.531 24.6148 23.7902 24.79 24.0909C24.9652 24.3892 25.0777 24.7183 25.1274 25.0781H23.5649Z"
    fill="white"
  />
</svg>`,rE=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="36" height="16" rx="2" fill="#7F56D9" />
  <path
    d="M6.48402 30L4.40305 22.7273H6.08274L7.28658 27.7805H7.34695L8.67507 22.7273H10.1133L11.4379 27.7912H11.5018L12.7056 22.7273H14.3853L12.3043 30H10.8058L9.42081 25.245H9.36399L7.9826 30H6.48402ZM15.2083 30V22.7273H20.1088V23.995H16.7459V25.728H19.8567V26.9957H16.7459V28.7322H20.123V30H15.2083ZM21.3313 30V22.7273H24.2433C24.7783 22.7273 25.2246 22.8066 25.582 22.9652C25.9395 23.1238 26.2082 23.344 26.3881 23.6257C26.5681 23.9051 26.658 24.227 26.658 24.5916C26.658 24.8757 26.6012 25.1255 26.4876 25.3409C26.3739 25.554 26.2177 25.7292 26.0188 25.8665C25.8223 26.0014 25.5974 26.0973 25.3441 26.1541V26.2251C25.6211 26.237 25.8803 26.3151 26.1218 26.4595C26.3656 26.6039 26.5633 26.8063 26.7148 27.0668C26.8664 27.3248 26.9421 27.6326 26.9421 27.9901C26.9421 28.3759 26.8462 28.7204 26.6545 29.0234C26.4651 29.3241 26.1845 29.562 25.8129 29.7372C25.4412 29.9124 24.9831 30 24.4386 30H21.3313ZM22.869 28.7429H24.1225C24.551 28.7429 24.8635 28.6612 25.06 28.4979C25.2565 28.3321 25.3548 28.112 25.3548 27.8374C25.3548 27.6361 25.3062 27.4586 25.2092 27.3047C25.1121 27.1508 24.9736 27.0301 24.7937 26.9425C24.6161 26.8549 24.4042 26.8111 24.158 26.8111H22.869V28.7429ZM22.869 25.7706H24.0089C24.2196 25.7706 24.4066 25.7339 24.57 25.6605C24.7357 25.5848 24.8659 25.4782 24.9606 25.3409C25.0576 25.2036 25.1062 25.0391 25.1062 24.8473C25.1062 24.5845 25.0127 24.3726 24.8256 24.2116C24.641 24.0507 24.3782 23.9702 24.0373 23.9702H22.869V25.7706ZM27.9426 30V22.7273H30.812C31.3636 22.7273 31.8335 22.8326 32.2218 23.0433C32.61 23.2517 32.906 23.5417 33.1096 23.9134C33.3155 24.2827 33.4185 24.7088 33.4185 25.1918C33.4185 25.6747 33.3143 26.1009 33.106 26.4702C32.8977 26.8395 32.5958 27.1271 32.2005 27.3331C31.8075 27.5391 31.3316 27.642 30.7729 27.642H28.9441V26.4098H30.5243C30.8203 26.4098 31.0641 26.3589 31.2559 26.2571C31.45 26.1529 31.5944 26.0097 31.6891 25.8274C31.7862 25.6428 31.8347 25.4309 31.8347 25.1918C31.8347 24.9503 31.7862 24.7396 31.6891 24.5597C31.5944 24.3774 31.45 24.2365 31.2559 24.1371C31.0617 24.0353 30.8155 23.9844 30.5172 23.9844H29.4803V30H27.9426Z"
    fill="white"
  />
</svg>`,rI=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="28" height="16" rx="2" fill="#7F56D9" />
  <path
    d="M4.76429 23.995V22.7273H10.7373V23.995H8.51074V30H6.99086V23.995H4.76429ZM13.2586 22.7273V30H11.721V22.7273H13.2586ZM14.5237 30V22.7273H19.339V23.995H16.0613V25.728H19.0194V26.9957H16.0613V30H14.5237ZM20.3733 30V22.7273H25.1887V23.995H21.911V25.728H24.8691V26.9957H21.911V30H20.3733Z"
    fill="white"
  />
</svg>`,rB=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="23" height="16" rx="2" fill="#7F56D9" />
  <path
    d="M9.82466 25.0781C9.77495 24.9053 9.70511 24.7526 9.61515 24.62C9.52518 24.4851 9.4151 24.3714 9.28489 24.2791C9.15705 24.1844 9.01027 24.1122 8.84455 24.0625C8.6812 24.0128 8.50009 23.9879 8.30123 23.9879C7.92954 23.9879 7.60284 24.0803 7.32111 24.2649C7.04176 24.4496 6.82395 24.7183 6.6677 25.071C6.51145 25.4214 6.43333 25.8499 6.43333 26.3565C6.43333 26.8632 6.51027 27.294 6.66415 27.6491C6.81803 28.0043 7.03584 28.2753 7.31756 28.4624C7.59928 28.647 7.93191 28.7393 8.31543 28.7393C8.66344 28.7393 8.96055 28.6778 9.20676 28.5547C9.45534 28.4292 9.64474 28.2528 9.77495 28.0256C9.90752 27.7983 9.97381 27.5296 9.97381 27.2195L10.2863 27.2656H8.41131V26.108H11.4546V27.0241C11.4546 27.6634 11.3197 28.2126 11.0498 28.6719C10.7799 29.1288 10.4082 29.4815 9.93475 29.7301C9.46126 29.9763 8.91912 30.0994 8.30833 30.0994C7.62651 30.0994 7.02755 29.9491 6.51145 29.6484C5.99535 29.3454 5.59289 28.9157 5.30407 28.3594C5.01761 27.8007 4.87438 27.1378 4.87438 26.3707C4.87438 25.7812 4.95961 25.2557 5.13006 24.794C5.30288 24.33 5.54436 23.937 5.85449 23.6151C6.16462 23.2931 6.52566 23.0481 6.93759 22.88C7.34952 22.7119 7.79578 22.6278 8.27637 22.6278C8.6883 22.6278 9.07182 22.6882 9.42694 22.8089C9.78205 22.9273 10.0969 23.0954 10.3715 23.3132C10.6485 23.531 10.8746 23.7902 11.0498 24.0909C11.225 24.3892 11.3374 24.7183 11.3872 25.0781H9.82466ZM14.1473 22.7273V30H12.6096V22.7273H14.1473ZM15.4124 30V22.7273H20.2277V23.995H16.95V25.728H19.9081V26.9957H16.95V30H15.4124Z"
    fill="white"
  />
</svg>`,r$=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="28" height="16" rx="2" fill="#7F56D9" />
  <path
    d="M8.96218 24.8189C8.93377 24.5324 8.81185 24.3099 8.59641 24.1513C8.38098 23.9927 8.0886 23.9134 7.71928 23.9134C7.46834 23.9134 7.25645 23.9489 7.08363 24.0199C6.91081 24.0885 6.77823 24.1844 6.6859 24.3075C6.59594 24.4306 6.55096 24.5703 6.55096 24.7266C6.54622 24.8568 6.57345 24.9704 6.63263 25.0675C6.69419 25.1645 6.77823 25.2486 6.88477 25.3196C6.9913 25.3883 7.11441 25.4486 7.25408 25.5007C7.39376 25.5504 7.54291 25.593 7.70153 25.6286L8.35494 25.7848C8.67217 25.8558 8.96336 25.9505 9.22852 26.0689C9.49367 26.1873 9.72331 26.3329 9.91744 26.5057C10.1116 26.6785 10.2619 26.8821 10.3684 27.1165C10.4773 27.3509 10.533 27.6196 10.5353 27.9226C10.533 28.3677 10.4193 28.7536 10.1944 29.0803C9.97189 29.4046 9.64992 29.6567 9.22852 29.8366C8.80948 30.0142 8.30404 30.103 7.71218 30.103C7.12506 30.103 6.6137 30.013 6.17809 29.8331C5.74485 29.6532 5.40631 29.3868 5.16246 29.0341C4.92099 28.679 4.79433 28.2398 4.78249 27.7166H6.27042C6.28699 27.9605 6.35683 28.1641 6.47994 28.3274C6.60541 28.4884 6.77231 28.6103 6.98065 28.6932C7.19135 28.7737 7.42927 28.8139 7.69442 28.8139C7.95484 28.8139 8.18093 28.776 8.37269 28.7003C8.56682 28.6245 8.71715 28.5192 8.82369 28.3842C8.93022 28.2493 8.98349 28.0942 8.98349 27.919C8.98349 27.7557 8.93496 27.6184 8.83789 27.5071C8.74319 27.3958 8.60352 27.3011 8.41886 27.223C8.23656 27.1449 8.01284 27.0739 7.74769 27.0099L6.95579 26.8111C6.34263 26.6619 5.85849 26.4287 5.50337 26.1115C5.14826 25.7943 4.97189 25.367 4.97425 24.8295C4.97189 24.3892 5.08907 24.0045 5.32582 23.6754C5.56493 23.3464 5.89281 23.0895 6.30948 22.9048C6.72615 22.7202 7.19963 22.6278 7.72994 22.6278C8.26971 22.6278 8.74083 22.7202 9.14329 22.9048C9.54812 23.0895 9.86299 23.3464 10.0879 23.6754C10.3128 24.0045 10.4288 24.3857 10.4359 24.8189H8.96218ZM12.8835 22.7273L14.6413 28.2528H14.7088L16.4702 22.7273H18.1747L15.6676 30H13.6861L11.1754 22.7273H12.8835ZM23.4624 25.0781C23.4126 24.9053 23.3428 24.7526 23.2528 24.62C23.1629 24.4851 23.0528 24.3714 22.9226 24.2791C22.7947 24.1844 22.648 24.1122 22.4822 24.0625C22.3189 24.0128 22.1378 23.9879 21.9389 23.9879C21.5672 23.9879 21.2405 24.0803 20.9588 24.2649C20.6795 24.4496 20.4616 24.7183 20.3054 25.071C20.1491 25.4214 20.071 25.8499 20.071 26.3565C20.071 26.8632 20.148 27.294 20.3018 27.6491C20.4557 28.0043 20.6735 28.2753 20.9553 28.4624C21.237 28.647 21.5696 28.7393 21.9531 28.7393C22.3011 28.7393 22.5982 28.6778 22.8445 28.5547C23.093 28.4292 23.2824 28.2528 23.4126 28.0256C23.5452 27.7983 23.6115 27.5296 23.6115 27.2195L23.924 27.2656H22.049V26.108H25.0923V27.0241C25.0923 27.6634 24.9574 28.2126 24.6875 28.6719C24.4176 29.1288 24.0459 29.4815 23.5724 29.7301C23.099 29.9763 22.5568 30.0994 21.946 30.0994C21.2642 30.0994 20.6652 29.9491 20.1491 29.6484C19.633 29.3454 19.2306 28.9157 18.9418 28.3594C18.6553 27.8007 18.5121 27.1378 18.5121 26.3707C18.5121 25.7812 18.5973 25.2557 18.7678 24.794C18.9406 24.33 19.1821 23.937 19.4922 23.6151C19.8023 23.2931 20.1634 23.0481 20.5753 22.88C20.9872 22.7119 21.4335 22.6278 21.9141 22.6278C22.326 22.6278 22.7095 22.6882 23.0646 22.8089C23.4197 22.9273 23.7346 23.0954 24.0092 23.3132C24.2862 23.531 24.5123 23.7902 24.6875 24.0909C24.8627 24.3892 24.9751 24.7183 25.0249 25.0781H23.4624Z"
    fill="white"
  />
</svg>`,rT=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="26" height="16" rx="2" fill="#7F56D9" />
  <path
    d="M5.05691 30V22.7273H9.95748V23.995H6.59455V25.728H9.70534V26.9957H6.59455V28.7322H9.97168V30H5.05691ZM11.18 30V22.7273H14.0493C14.6009 22.7273 15.0708 22.8326 15.4591 23.0433C15.8473 23.2517 16.1433 23.5417 16.3469 23.9134C16.5528 24.2827 16.6558 24.7088 16.6558 25.1918C16.6558 25.6747 16.5516 26.1009 16.3433 26.4702C16.135 26.8395 15.8331 27.1271 15.4378 27.3331C15.0448 27.5391 14.5689 27.642 14.0102 27.642H12.1814V26.4098H13.7616C14.0576 26.4098 14.3014 26.3589 14.4932 26.2571C14.6873 26.1529 14.8317 26.0097 14.9264 25.8274C15.0235 25.6428 15.072 25.4309 15.072 25.1918C15.072 24.9503 15.0235 24.7396 14.9264 24.5597C14.8317 24.3774 14.6873 24.2365 14.4932 24.1371C14.299 24.0353 14.0528 23.9844 13.7545 23.9844H12.7176V30H11.18ZM21.5999 24.8189C21.5715 24.5324 21.4495 24.3099 21.2341 24.1513C21.0187 23.9927 20.7263 23.9134 20.357 23.9134C20.106 23.9134 19.8941 23.9489 19.7213 24.0199C19.5485 24.0885 19.4159 24.1844 19.3236 24.3075C19.2336 24.4306 19.1887 24.5703 19.1887 24.7266C19.1839 24.8568 19.2111 24.9704 19.2703 25.0675C19.3319 25.1645 19.4159 25.2486 19.5225 25.3196C19.629 25.3883 19.7521 25.4486 19.8918 25.5007C20.0315 25.5504 20.1806 25.593 20.3392 25.6286L20.9926 25.7848C21.3099 25.8558 21.6011 25.9505 21.8662 26.0689C22.1314 26.1873 22.361 26.3329 22.5551 26.5057C22.7493 26.6785 22.8996 26.8821 23.0061 27.1165C23.115 27.3509 23.1707 27.6196 23.173 27.9226C23.1707 28.3677 23.057 28.7536 22.8321 29.0803C22.6096 29.4046 22.2876 29.6567 21.8662 29.8366C21.4472 30.0142 20.9417 30.103 20.3499 30.103C19.7628 30.103 19.2514 30.013 18.8158 29.8331C18.3825 29.6532 18.044 29.3868 17.8002 29.0341C17.5587 28.679 17.432 28.2398 17.4202 27.7166H18.9081C18.9247 27.9605 18.9945 28.1641 19.1176 28.3274C19.2431 28.4884 19.41 28.6103 19.6183 28.6932C19.829 28.7737 20.067 28.8139 20.3321 28.8139C20.5925 28.8139 20.8186 28.776 21.0104 28.7003C21.2045 28.6245 21.3548 28.5192 21.4614 28.3842C21.5679 28.2493 21.6212 28.0942 21.6212 27.919C21.6212 27.7557 21.5727 27.6184 21.4756 27.5071C21.3809 27.3958 21.2412 27.3011 21.0566 27.223C20.8743 27.1449 20.6505 27.0739 20.3854 27.0099L19.5935 26.8111C18.9803 26.6619 18.4962 26.4287 18.1411 26.1115C17.786 25.7943 17.6096 25.367 17.6119 24.8295C17.6096 24.3892 17.7268 24.0045 17.9635 23.6754C18.2026 23.3464 18.5305 23.0895 18.9472 22.9048C19.3638 22.7202 19.8373 22.6278 20.3676 22.6278C20.9074 22.6278 21.3785 22.7202 21.781 22.9048C22.1858 23.0895 22.5007 23.3464 22.7256 23.6754C22.9505 24.0045 23.0665 24.3857 23.0736 24.8189H21.5999Z"
    fill="white"
  />
</svg>`,rO=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="26" height="16" rx="2" fill="#D92D20" />
  <path
    d="M4.8323 30V22.7273H7.70162C8.25323 22.7273 8.72316 22.8326 9.11142 23.0433C9.49967 23.2517 9.7956 23.5417 9.9992 23.9134C10.2052 24.2827 10.3082 24.7088 10.3082 25.1918C10.3082 25.6747 10.204 26.1009 9.99565 26.4702C9.78732 26.8395 9.48547 27.1271 9.09011 27.3331C8.69712 27.5391 8.22127 27.642 7.66255 27.642H5.83372V26.4098H7.41397C7.7099 26.4098 7.95375 26.3589 8.14551 26.2571C8.33964 26.1529 8.48405 26.0097 8.57875 25.8274C8.67581 25.6428 8.72434 25.4309 8.72434 25.1918C8.72434 24.9503 8.67581 24.7396 8.57875 24.5597C8.48405 24.3774 8.33964 24.2365 8.14551 24.1371C7.95138 24.0353 7.70517 23.9844 7.40687 23.9844H6.36994V30H4.8323ZM13.885 30H11.3069V22.7273H13.9063C14.6379 22.7273 15.2676 22.8729 15.7955 23.1641C16.3235 23.4529 16.7295 23.8684 17.0136 24.4105C17.3 24.9527 17.4433 25.6013 17.4433 26.3565C17.4433 27.1141 17.3 27.7652 17.0136 28.3097C16.7295 28.8542 16.3211 29.272 15.7884 29.5632C15.2581 29.8544 14.6237 30 13.885 30ZM12.8445 28.6825H13.8211C14.2757 28.6825 14.658 28.602 14.9681 28.4411C15.2806 28.2777 15.515 28.0256 15.6713 27.6847C15.8299 27.3414 15.9092 26.8987 15.9092 26.3565C15.9092 25.8191 15.8299 25.38 15.6713 25.0391C15.515 24.6982 15.2818 24.4472 14.9717 24.2862C14.6615 24.1252 14.2792 24.0447 13.8247 24.0447H12.8445V28.6825ZM18.5823 30V22.7273H23.3976V23.995H20.1199V25.728H23.078V26.9957H20.1199V30H18.5823Z"
    fill="white"
  />
</svg>`,rP=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="29" height="16" rx="2" fill="#155EEF" />
  <path
    d="M7.40163 30H4.82351V22.7273H7.42294C8.15447 22.7273 8.78421 22.8729 9.31214 23.1641C9.84008 23.4529 10.2461 23.8684 10.5302 24.4105C10.8166 24.9527 10.9599 25.6013 10.9599 26.3565C10.9599 27.1141 10.8166 27.7652 10.5302 28.3097C10.2461 28.8542 9.83771 29.272 9.30504 29.5632C8.77474 29.8544 8.14027 30 7.40163 30ZM6.36115 28.6825H7.33771C7.79226 28.6825 8.1746 28.602 8.48473 28.4411C8.79723 28.2777 9.03161 28.0256 9.18786 27.6847C9.34647 27.3414 9.42578 26.8987 9.42578 26.3565C9.42578 25.8191 9.34647 25.38 9.18786 25.0391C9.03161 24.6982 8.79841 24.4472 8.48828 24.2862C8.17815 24.1252 7.79581 24.0447 7.34126 24.0447H6.36115V28.6825ZM18.7821 26.3636C18.7821 27.1567 18.6318 27.8314 18.3311 28.3878C18.0328 28.9441 17.6257 29.3691 17.1096 29.6626C16.5958 29.9538 16.0182 30.0994 15.3766 30.0994C14.7303 30.0994 14.1503 29.9527 13.6365 29.6591C13.1228 29.3655 12.7168 28.9406 12.4185 28.3842C12.1202 27.8279 11.9711 27.1544 11.9711 26.3636C11.9711 25.5705 12.1202 24.8958 12.4185 24.3395C12.7168 23.7831 13.1228 23.3594 13.6365 23.0682C14.1503 22.7746 14.7303 22.6278 15.3766 22.6278C16.0182 22.6278 16.5958 22.7746 17.1096 23.0682C17.6257 23.3594 18.0328 23.7831 18.3311 24.3395C18.6318 24.8958 18.7821 25.5705 18.7821 26.3636ZM17.2232 26.3636C17.2232 25.8499 17.1462 25.4167 16.9924 25.0639C16.8408 24.7112 16.6266 24.4437 16.3496 24.2614C16.0726 24.0791 15.7483 23.9879 15.3766 23.9879C15.0049 23.9879 14.6806 24.0791 14.4036 24.2614C14.1266 24.4437 13.9112 24.7112 13.7573 25.0639C13.6058 25.4167 13.53 25.8499 13.53 26.3636C13.53 26.8774 13.6058 27.3106 13.7573 27.6634C13.9112 28.0161 14.1266 28.2836 14.4036 28.4659C14.6806 28.6482 15.0049 28.7393 15.3766 28.7393C15.7483 28.7393 16.0726 28.6482 16.3496 28.4659C16.6266 28.2836 16.8408 28.0161 16.9924 27.6634C17.1462 27.3106 17.2232 26.8774 17.2232 26.3636ZM26.3381 25.2734H24.7827C24.7543 25.0722 24.6963 24.8935 24.6087 24.7372C24.5211 24.5786 24.4086 24.4437 24.2713 24.3324C24.134 24.2211 23.9754 24.1359 23.7955 24.0767C23.6179 24.0175 23.425 23.9879 23.2166 23.9879C22.8402 23.9879 22.5123 24.0814 22.233 24.2685C21.9536 24.4531 21.737 24.723 21.5831 25.0781C21.4292 25.4309 21.3523 25.8594 21.3523 26.3636C21.3523 26.8821 21.4292 27.3177 21.5831 27.6705C21.7393 28.0232 21.9571 28.2895 22.2365 28.4695C22.5159 28.6494 22.839 28.7393 23.206 28.7393C23.4119 28.7393 23.6025 28.7121 23.7777 28.6577C23.9553 28.6032 24.1127 28.5239 24.25 28.4197C24.3873 28.3132 24.5009 28.1842 24.5909 28.0327C24.6832 27.8812 24.7472 27.7083 24.7827 27.5142L26.3381 27.5213C26.2978 27.8551 26.1972 28.1771 26.0362 28.4872C25.8776 28.795 25.6634 29.0708 25.3935 29.3146C25.1259 29.5561 24.8063 29.7479 24.4347 29.8899C24.0653 30.0296 23.6475 30.0994 23.1811 30.0994C22.5324 30.0994 21.9524 29.9527 21.4411 29.6591C20.9321 29.3655 20.5296 28.9406 20.2337 28.3842C19.9401 27.8279 19.7933 27.1544 19.7933 26.3636C19.7933 25.5705 19.9425 24.8958 20.2408 24.3395C20.5391 23.7831 20.9439 23.3594 21.4553 23.0682C21.9666 22.7746 22.5419 22.6278 23.1811 22.6278C23.6025 22.6278 23.9931 22.687 24.353 22.8054C24.7152 22.9238 25.036 23.0966 25.3153 23.3239C25.5947 23.5488 25.822 23.8246 25.9972 24.1513C26.1747 24.478 26.2884 24.852 26.3381 25.2734Z"
    fill="white"
  />
</svg>`,rA=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="36" height="16" rx="2" fill="#155EEF" />
  <path
    d="M7.40554 30H4.82741V22.7273H7.42685C8.15838 22.7273 8.78812 22.8729 9.31605 23.1641C9.84399 23.4529 10.25 23.8684 10.5341 24.4105C10.8205 24.9527 10.9638 25.6013 10.9638 26.3565C10.9638 27.1141 10.8205 27.7652 10.5341 28.3097C10.25 28.8542 9.84162 29.272 9.30895 29.5632C8.77865 29.8544 8.14418 30 7.40554 30ZM6.36506 28.6825H7.34162C7.79616 28.6825 8.1785 28.602 8.48864 28.4411C8.80114 28.2777 9.03551 28.0256 9.19176 27.6847C9.35038 27.3414 9.42969 26.8987 9.42969 26.3565C9.42969 25.8191 9.35038 25.38 9.19176 25.0391C9.03551 24.6982 8.80232 24.4472 8.49219 24.2862C8.18205 24.1252 7.79972 24.0447 7.34517 24.0447H6.36506V28.6825ZM18.786 26.3636C18.786 27.1567 18.6357 27.8314 18.335 28.3878C18.0368 28.9441 17.6296 29.3691 17.1135 29.6626C16.5997 29.9538 16.0221 30.0994 15.3805 30.0994C14.7342 30.0994 14.1542 29.9527 13.6404 29.6591C13.1267 29.3655 12.7207 28.9406 12.4224 28.3842C12.1241 27.8279 11.975 27.1544 11.975 26.3636C11.975 25.5705 12.1241 24.8958 12.4224 24.3395C12.7207 23.7831 13.1267 23.3594 13.6404 23.0682C14.1542 22.7746 14.7342 22.6278 15.3805 22.6278C16.0221 22.6278 16.5997 22.7746 17.1135 23.0682C17.6296 23.3594 18.0368 23.7831 18.335 24.3395C18.6357 24.8958 18.786 25.5705 18.786 26.3636ZM17.2271 26.3636C17.2271 25.8499 17.1502 25.4167 16.9963 25.0639C16.8448 24.7112 16.6305 24.4437 16.3535 24.2614C16.0765 24.0791 15.7522 23.9879 15.3805 23.9879C15.0088 23.9879 14.6845 24.0791 14.4075 24.2614C14.1305 24.4437 13.9151 24.7112 13.7612 25.0639C13.6097 25.4167 13.5339 25.8499 13.5339 26.3636C13.5339 26.8774 13.6097 27.3106 13.7612 27.6634C13.9151 28.0161 14.1305 28.2836 14.4075 28.4659C14.6845 28.6482 15.0088 28.7393 15.3805 28.7393C15.7522 28.7393 16.0765 28.6482 16.3535 28.4659C16.6305 28.2836 16.8448 28.0161 16.9963 27.6634C17.1502 27.3106 17.2271 26.8774 17.2271 26.3636ZM26.342 25.2734H24.7866C24.7582 25.0722 24.7002 24.8935 24.6126 24.7372C24.525 24.5786 24.4125 24.4437 24.2752 24.3324C24.1379 24.2211 23.9793 24.1359 23.7994 24.0767C23.6218 24.0175 23.4289 23.9879 23.2205 23.9879C22.8441 23.9879 22.5162 24.0814 22.2369 24.2685C21.9575 24.4531 21.7409 24.723 21.587 25.0781C21.4331 25.4309 21.3562 25.8594 21.3562 26.3636C21.3562 26.8821 21.4331 27.3177 21.587 27.6705C21.7433 28.0232 21.9611 28.2895 22.2404 28.4695C22.5198 28.6494 22.8429 28.7393 23.2099 28.7393C23.4158 28.7393 23.6064 28.7121 23.7816 28.6577C23.9592 28.6032 24.1166 28.5239 24.2539 28.4197C24.3912 28.3132 24.5049 28.1842 24.5948 28.0327C24.6871 27.8812 24.7511 27.7083 24.7866 27.5142L26.342 27.5213C26.3017 27.8551 26.2011 28.1771 26.0401 28.4872C25.8815 28.795 25.6673 29.0708 25.3974 29.3146C25.1299 29.5561 24.8103 29.7479 24.4386 29.8899C24.0692 30.0296 23.6514 30.0994 23.185 30.0994C22.5363 30.0994 21.9563 29.9527 21.445 29.6591C20.936 29.3655 20.5335 28.9406 20.2376 28.3842C19.944 27.8279 19.7972 27.1544 19.7972 26.3636C19.7972 25.5705 19.9464 24.8958 20.2447 24.3395C20.543 23.7831 20.9478 23.3594 21.4592 23.0682C21.9705 22.7746 22.5458 22.6278 23.185 22.6278C23.6064 22.6278 23.997 22.687 24.3569 22.8054C24.7191 22.9238 25.0399 23.0966 25.3192 23.3239C25.5986 23.5488 25.8259 23.8246 26.0011 24.1513C26.1786 24.478 26.2923 24.852 26.342 25.2734ZM28.7301 22.7273L30.1967 25.206H30.2536L31.7273 22.7273H33.4638L31.2443 26.3636L33.5135 30H31.745L30.2536 27.5178H30.1967L28.7053 30H26.9439L29.2202 26.3636L26.9865 22.7273H28.7301Z"
    fill="white"
  />
</svg>`,rH=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="27" height="16" rx="2" fill="#344054" />
  <path
    d="M4.60121 23.995V22.7273H10.5742V23.995H8.34766V30H6.82777V23.995H4.60121ZM12.9996 22.7273L14.4663 25.206H14.5231L15.9968 22.7273H17.7333L15.5138 26.3636L17.783 30H16.0146L14.5231 27.5178H14.4663L12.9748 30H11.2134L13.4897 26.3636L11.256 22.7273H12.9996ZM18.4293 23.995V22.7273H24.4023V23.995H22.1758V30H20.6559V23.995H18.4293Z"
    fill="white"
  />
</svg>`,rL=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="28" height="16" rx="2" fill="#099250" />
  <path
    d="M11.2726 25.2734H9.71724C9.68883 25.0722 9.63083 24.8935 9.54324 24.7372C9.45564 24.5786 9.34319 24.4437 9.20588 24.3324C9.06857 24.2211 8.90995 24.1359 8.73002 24.0767C8.55247 24.0175 8.35952 23.9879 8.15119 23.9879C7.77477 23.9879 7.44688 24.0814 7.16752 24.2685C6.88817 24.4531 6.67155 24.723 6.51767 25.0781C6.36378 25.4309 6.28684 25.8594 6.28684 26.3636C6.28684 26.8821 6.36378 27.3177 6.51767 27.6705C6.67392 28.0232 6.89172 28.2895 7.17108 28.4695C7.45043 28.6494 7.77359 28.7393 8.14054 28.7393C8.3465 28.7393 8.53708 28.7121 8.71227 28.6577C8.88983 28.6032 9.04726 28.5239 9.18457 28.4197C9.32188 28.3132 9.43552 28.1842 9.52548 28.0327C9.61781 27.8812 9.68173 27.7083 9.71724 27.5142L11.2726 27.5213C11.2324 27.8551 11.1318 28.1771 10.9708 28.4872C10.8122 28.795 10.5979 29.0708 10.328 29.3146C10.0605 29.5561 9.74092 29.7479 9.36923 29.8899C8.99991 30.0296 8.58206 30.0994 8.11568 30.0994C7.467 30.0994 6.88699 29.9527 6.37562 29.6591C5.86663 29.3655 5.46416 28.9406 5.16824 28.3842C4.87467 27.8279 4.72789 27.1544 4.72789 26.3636C4.72789 25.5705 4.87704 24.8958 5.17534 24.3395C5.47363 23.7831 5.87846 23.3594 6.38983 23.0682C6.90119 22.7746 7.47647 22.6278 8.11568 22.6278C8.53708 22.6278 8.9277 22.687 9.28755 22.8054C9.64977 22.9238 9.97056 23.0966 10.2499 23.3239C10.5293 23.5488 10.7565 23.8246 10.9317 24.1513C11.1093 24.478 11.2229 24.852 11.2726 25.2734ZM16.3206 24.8189C16.2922 24.5324 16.1702 24.3099 15.9548 24.1513C15.7394 23.9927 15.447 23.9134 15.0777 23.9134C14.8267 23.9134 14.6148 23.9489 14.442 24.0199C14.2692 24.0885 14.1366 24.1844 14.0443 24.3075C13.9543 24.4306 13.9094 24.5703 13.9094 24.7266C13.9046 24.8568 13.9318 24.9704 13.991 25.0675C14.0526 25.1645 14.1366 25.2486 14.2432 25.3196C14.3497 25.3883 14.4728 25.4486 14.6125 25.5007C14.7522 25.5504 14.9013 25.593 15.0599 25.6286L15.7133 25.7848C16.0306 25.8558 16.3218 25.9505 16.5869 26.0689C16.8521 26.1873 17.0817 26.3329 17.2758 26.5057C17.47 26.6785 17.6203 26.8821 17.7268 27.1165C17.8357 27.3509 17.8914 27.6196 17.8937 27.9226C17.8914 28.3677 17.7777 28.7536 17.5528 29.0803C17.3303 29.4046 17.0083 29.6567 16.5869 29.8366C16.1679 30.0142 15.6624 30.103 15.0706 30.103C14.4835 30.103 13.9721 30.013 13.5365 29.8331C13.1032 29.6532 12.7647 29.3868 12.5209 29.0341C12.2794 28.679 12.1527 28.2398 12.1409 27.7166H13.6288C13.6454 27.9605 13.7152 28.1641 13.8383 28.3274C13.9638 28.4884 14.1307 28.6103 14.339 28.6932C14.5497 28.7737 14.7877 28.8139 15.0528 28.8139C15.3132 28.8139 15.5393 28.776 15.7311 28.7003C15.9252 28.6245 16.0756 28.5192 16.1821 28.3842C16.2886 28.2493 16.3419 28.0942 16.3419 27.919C16.3419 27.7557 16.2934 27.6184 16.1963 27.5071C16.1016 27.3958 15.9619 27.3011 15.7773 27.223C15.595 27.1449 15.3712 27.0739 15.1061 27.0099L14.3142 26.8111C13.701 26.6619 13.2169 26.4287 12.8618 26.1115C12.5067 25.7943 12.3303 25.367 12.3327 24.8295C12.3303 24.3892 12.4475 24.0045 12.6842 23.6754C12.9233 23.3464 13.2512 23.0895 13.6679 22.9048C14.0845 22.7202 14.558 22.6278 15.0883 22.6278C15.6281 22.6278 16.0992 22.7202 16.5017 22.9048C16.9065 23.0895 17.2214 23.3464 17.4463 23.6754C17.6712 24.0045 17.7872 24.3857 17.7943 24.8189H16.3206ZM20.2419 22.7273L21.9997 28.2528H22.0672L23.8286 22.7273H25.5331L23.026 30H21.0445L18.5338 22.7273H20.2419Z"
    fill="white"
  />
</svg>`,rD=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="26" height="16" rx="2" fill="#099250" />
  <path
    d="M6.38636 22.7273L7.85298 25.206H7.9098L9.38352 22.7273H11.12L8.90057 26.3636L11.1697 30H9.40128L7.9098 27.5178H7.85298L6.36151 30H4.60014L6.87642 26.3636L4.64276 22.7273H6.38636ZM12.093 30V22.7273H13.6307V28.7322H16.7486V30H12.093ZM21.7122 24.8189C21.6838 24.5324 21.5618 24.3099 21.3464 24.1513C21.131 23.9927 20.8386 23.9134 20.4693 23.9134C20.2183 23.9134 20.0065 23.9489 19.8336 24.0199C19.6608 24.0885 19.5282 24.1844 19.4359 24.3075C19.3459 24.4306 19.301 24.5703 19.301 24.7266C19.2962 24.8568 19.3234 24.9704 19.3826 25.0675C19.4442 25.1645 19.5282 25.2486 19.6348 25.3196C19.7413 25.3883 19.8644 25.4486 20.0041 25.5007C20.1438 25.5504 20.2929 25.593 20.4515 25.6286L21.1049 25.7848C21.4222 25.8558 21.7134 25.9505 21.9785 26.0689C22.2437 26.1873 22.4733 26.3329 22.6674 26.5057C22.8616 26.6785 23.0119 26.8821 23.1184 27.1165C23.2273 27.3509 23.283 27.6196 23.2853 27.9226C23.283 28.3677 23.1693 28.7536 22.9444 29.0803C22.7219 29.4046 22.3999 29.6567 21.9785 29.8366C21.5595 30.0142 21.054 30.103 20.4622 30.103C19.8751 30.103 19.3637 30.013 18.9281 29.8331C18.4949 29.6532 18.1563 29.3868 17.9125 29.0341C17.671 28.679 17.5443 28.2398 17.5325 27.7166H19.0204C19.037 27.9605 19.1068 28.1641 19.2299 28.3274C19.3554 28.4884 19.5223 28.6103 19.7306 28.6932C19.9413 28.7737 20.1793 28.8139 20.4444 28.8139C20.7048 28.8139 20.9309 28.776 21.1227 28.7003C21.3168 28.6245 21.4672 28.5192 21.5737 28.3842C21.6802 28.2493 21.7335 28.0942 21.7335 27.919C21.7335 27.7557 21.685 27.6184 21.5879 27.5071C21.4932 27.3958 21.3535 27.3011 21.1689 27.223C20.9866 27.1449 20.7628 27.0739 20.4977 27.0099L19.7058 26.8111C19.0926 26.6619 18.6085 26.4287 18.2534 26.1115C17.8983 25.7943 17.7219 25.367 17.7243 24.8295C17.7219 24.3892 17.8391 24.0045 18.0758 23.6754C18.3149 23.3464 18.6428 23.0895 19.0595 22.9048C19.4761 22.7202 19.9496 22.6278 20.4799 22.6278C21.0197 22.6278 21.4908 22.7202 21.8933 22.9048C22.2981 23.0895 22.613 23.3464 22.8379 23.6754C23.0628 24.0045 23.1788 24.3857 23.1859 24.8189H21.7122Z"
    fill="white"
  />
</svg>`,rZ=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="33" height="16" rx="2" fill="#099250" />
  <path
    d="M6.31214 22.7273L7.77876 25.206H7.83558L9.3093 22.7273H11.0458L8.82635 26.3636L11.0955 30H9.32706L7.83558 27.5178H7.77876L6.28729 30H4.52592L6.8022 26.3636L4.56854 22.7273H6.31214ZM12.0188 30V22.7273H13.5565V28.7322H16.6744V30H12.0188ZM21.638 24.8189C21.6096 24.5324 21.4876 24.3099 21.2722 24.1513C21.0568 23.9927 20.7644 23.9134 20.3951 23.9134C20.1441 23.9134 19.9322 23.9489 19.7594 24.0199C19.5866 24.0885 19.454 24.1844 19.3617 24.3075C19.2717 24.4306 19.2267 24.5703 19.2267 24.7266C19.222 24.8568 19.2492 24.9704 19.3084 25.0675C19.37 25.1645 19.454 25.2486 19.5605 25.3196C19.6671 25.3883 19.7902 25.4486 19.9299 25.5007C20.0695 25.5504 20.2187 25.593 20.3773 25.6286L21.0307 25.7848C21.348 25.8558 21.6391 25.9505 21.9043 26.0689C22.1694 26.1873 22.3991 26.3329 22.5932 26.5057C22.7873 26.6785 22.9377 26.8821 23.0442 27.1165C23.1531 27.3509 23.2087 27.6196 23.2111 27.9226C23.2087 28.3677 23.0951 28.7536 22.8702 29.0803C22.6477 29.4046 22.3257 29.6567 21.9043 29.8366C21.4853 30.0142 20.9798 30.103 20.388 30.103C19.8008 30.103 19.2895 30.013 18.8539 29.8331C18.4206 29.6532 18.0821 29.3868 17.8382 29.0341C17.5968 28.679 17.4701 28.2398 17.4583 27.7166H18.9462C18.9628 27.9605 19.0326 28.1641 19.1557 28.3274C19.2812 28.4884 19.4481 28.6103 19.6564 28.6932C19.8671 28.7737 20.1051 28.8139 20.3702 28.8139C20.6306 28.8139 20.8567 28.776 21.0485 28.7003C21.2426 28.6245 21.3929 28.5192 21.4995 28.3842C21.606 28.2493 21.6593 28.0942 21.6593 27.919C21.6593 27.7557 21.6107 27.6184 21.5137 27.5071C21.419 27.3958 21.2793 27.3011 21.0946 27.223C20.9123 27.1449 20.6886 27.0739 20.4235 27.0099L19.6316 26.8111C19.0184 26.6619 18.5343 26.4287 18.1792 26.1115C17.824 25.7943 17.6477 25.367 17.65 24.8295C17.6477 24.3892 17.7649 24.0045 18.0016 23.6754C18.2407 23.3464 18.5686 23.0895 18.9853 22.9048C19.4019 22.7202 19.8754 22.6278 20.4057 22.6278C20.9455 22.6278 21.4166 22.7202 21.8191 22.9048C22.2239 23.0895 22.5388 23.3464 22.7637 23.6754C22.9886 24.0045 23.1046 24.3857 23.1117 24.8189H21.638ZM25.6871 22.7273L27.1538 25.206H27.2106L28.6843 22.7273H30.4208L28.2013 26.3636L30.4705 30H28.7021L27.2106 27.5178H27.1538L25.6623 30H23.9009L26.1772 26.3636L23.9435 22.7273H25.6871Z"
    fill="white"
  />
</svg>`,rj=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="26" height="16" rx="2" fill="#E62E05" />
  <path
    d="M4.81765 30V22.7273H7.68697C8.23858 22.7273 8.70851 22.8326 9.09677 23.0433C9.48503 23.2517 9.78095 23.5417 9.98455 23.9134C10.1905 24.2827 10.2935 24.7088 10.2935 25.1918C10.2935 25.6747 10.1893 26.1009 9.981 26.4702C9.77267 26.8395 9.47082 27.1271 9.07546 27.3331C8.68247 27.5391 8.20662 27.642 7.6479 27.642H5.81907V26.4098H7.39933C7.69525 26.4098 7.9391 26.3589 8.13086 26.2571C8.32499 26.1529 8.4694 26.0097 8.5641 25.8274C8.66116 25.6428 8.70969 25.4309 8.70969 25.1918C8.70969 24.9503 8.66116 24.7396 8.5641 24.5597C8.4694 24.3774 8.32499 24.2365 8.13086 24.1371C7.93673 24.0353 7.69052 23.9844 7.39222 23.9844H6.35529V30H4.81765ZM11.2923 30V22.7273H14.1616C14.7132 22.7273 15.1831 22.8326 15.5714 23.0433C15.9596 23.2517 16.2556 23.5417 16.4592 23.9134C16.6651 24.2827 16.7681 24.7088 16.7681 25.1918C16.7681 25.6747 16.6639 26.1009 16.4556 26.4702C16.2473 26.8395 15.9454 27.1271 15.5501 27.3331C15.1571 27.5391 14.6812 27.642 14.1225 27.642H12.2937V26.4098H13.8739C14.1699 26.4098 14.4137 26.3589 14.6055 26.2571C14.7996 26.1529 14.944 26.0097 15.0387 25.8274C15.1358 25.6428 15.1843 25.4309 15.1843 25.1918C15.1843 24.9503 15.1358 24.7396 15.0387 24.5597C14.944 24.3774 14.7996 24.2365 14.6055 24.1371C14.4113 24.0353 14.1651 23.9844 13.8668 23.9844H12.8299V30H11.2923ZM17.4899 23.995V22.7273H23.4629V23.995H21.2363V30H19.7164V23.995H17.4899Z"
    fill="white"
  />
</svg>`,rV=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="33" height="16" rx="2" fill="#E62E05" />
  <path
    d="M4.74343 30V22.7273H7.61275C8.16436 22.7273 8.63429 22.8326 9.02255 23.0433C9.41081 23.2517 9.70674 23.5417 9.91033 23.9134C10.1163 24.2827 10.2193 24.7088 10.2193 25.1918C10.2193 25.6747 10.1151 26.1009 9.90678 26.4702C9.69845 26.8395 9.3966 27.1271 9.00124 27.3331C8.60825 27.5391 8.1324 27.642 7.57369 27.642H5.74485V26.4098H7.32511C7.62103 26.4098 7.86488 26.3589 8.05664 26.2571C8.25077 26.1529 8.39518 26.0097 8.48988 25.8274C8.58694 25.6428 8.63548 25.4309 8.63548 25.1918C8.63548 24.9503 8.58694 24.7396 8.48988 24.5597C8.39518 24.3774 8.25077 24.2365 8.05664 24.1371C7.86251 24.0353 7.6163 23.9844 7.318 23.9844H6.28107V30H4.74343ZM11.218 30V22.7273H14.0874C14.639 22.7273 15.1089 22.8326 15.4972 23.0433C15.8854 23.2517 16.1813 23.5417 16.3849 23.9134C16.5909 24.2827 16.6939 24.7088 16.6939 25.1918C16.6939 25.6747 16.5897 26.1009 16.3814 26.4702C16.1731 26.8395 15.8712 27.1271 15.4759 27.3331C15.0829 27.5391 14.607 27.642 14.0483 27.642H12.2195V26.4098H13.7997C14.0956 26.4098 14.3395 26.3589 14.5312 26.2571C14.7254 26.1529 14.8698 26.0097 14.9645 25.8274C15.0616 25.6428 15.1101 25.4309 15.1101 25.1918C15.1101 24.9503 15.0616 24.7396 14.9645 24.5597C14.8698 24.3774 14.7254 24.2365 14.5312 24.1371C14.3371 24.0353 14.0909 23.9844 13.7926 23.9844H12.7557V30H11.218ZM17.4157 23.995V22.7273H23.3887V23.995H21.1621V30H19.6422V23.995H17.4157ZM25.8141 22.7273L27.2807 25.206H27.3375L28.8113 22.7273H30.5478L28.3283 26.3636L30.5975 30H28.829L27.3375 27.5178H27.2807L25.7892 30H24.0279L26.3042 26.3636L24.0705 22.7273H25.8141Z"
    fill="white"
  />
</svg>`,rR=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="23" height="16" rx="2" fill="#7F56D9" />
  <path
    d="M5.00222 30V22.7273H9.81756V23.995H6.53986V25.728H9.49796V26.9957H6.53986V30H5.00222ZM12.3895 22.7273V30H10.8518V22.7273H12.3895ZM18.477 25.0781C18.4273 24.9053 18.3575 24.7526 18.2675 24.62C18.1775 24.4851 18.0674 24.3714 17.9372 24.2791C17.8094 24.1844 17.6626 24.1122 17.4969 24.0625C17.3335 24.0128 17.1524 23.9879 16.9536 23.9879C16.5819 23.9879 16.2552 24.0803 15.9735 24.2649C15.6941 24.4496 15.4763 24.7183 15.32 25.071C15.1638 25.4214 15.0857 25.8499 15.0857 26.3565C15.0857 26.8632 15.1626 27.294 15.3165 27.6491C15.4704 28.0043 15.6882 28.2753 15.9699 28.4624C16.2516 28.647 16.5843 28.7393 16.9678 28.7393C17.3158 28.7393 17.6129 28.6778 17.8591 28.5547C18.1077 28.4292 18.2971 28.2528 18.4273 28.0256C18.5599 27.7983 18.6262 27.5296 18.6262 27.2195L18.9387 27.2656H17.0637V26.108H20.107V27.0241C20.107 27.6634 19.972 28.2126 19.7021 28.6719C19.4323 29.1288 19.0606 29.4815 18.5871 29.7301C18.1136 29.9763 17.5715 30.0994 16.9607 30.0994C16.2789 30.0994 15.6799 29.9491 15.1638 29.6484C14.6477 29.3454 14.2452 28.9157 13.9564 28.3594C13.67 27.8007 13.5267 27.1378 13.5267 26.3707C13.5267 25.7812 13.6119 25.2557 13.7824 24.794C13.9552 24.33 14.1967 23.937 14.5068 23.6151C14.817 23.2931 15.178 23.0481 15.5899 22.88C16.0019 22.7119 16.4481 22.6278 16.9287 22.6278C17.3406 22.6278 17.7242 22.6882 18.0793 22.8089C18.4344 22.9273 18.7493 23.0954 19.0239 23.3132C19.3009 23.531 19.527 23.7902 19.7021 24.0909C19.8773 24.3892 19.9898 24.7183 20.0395 25.0781H18.477Z"
    fill="white"
  />
</svg>`,rz=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="17" height="16" rx="2" fill="#E04F16" />
  <path
    d="M6.24405 30H4.59632L7.10698 22.7273H9.08851L11.5956 30H9.94789L8.12615 24.3892H8.06934L6.24405 30ZM6.14107 27.1413H10.0331V28.3416H6.14107V27.1413ZM14.0086 22.7273V30H12.471V22.7273H14.0086Z"
    fill="white"
  />
</svg>`,rF=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="27" height="16" rx="2" fill="#155EEF" />
  <path
    d="M4.98074 30V22.7273H7.85005C8.40166 22.7273 8.8716 22.8326 9.25985 23.0433C9.64811 23.2517 9.94404 23.5417 10.1476 23.9134C10.3536 24.2827 10.4566 24.7088 10.4566 25.1918C10.4566 25.6747 10.3524 26.1009 10.1441 26.4702C9.93575 26.8395 9.63391 27.1271 9.23855 27.3331C8.84556 27.5391 8.3697 27.642 7.81099 27.642H5.98216V26.4098H7.56241C7.85834 26.4098 8.10218 26.3589 8.29395 26.2571C8.48807 26.1529 8.63249 26.0097 8.72718 25.8274C8.82425 25.6428 8.87278 25.4309 8.87278 25.1918C8.87278 24.9503 8.82425 24.7396 8.72718 24.5597C8.63249 24.3774 8.48807 24.2365 8.29395 24.1371C8.09982 24.0353 7.8536 23.9844 7.55531 23.9844H6.51838V30H4.98074ZM15.4007 24.8189C15.3722 24.5324 15.2503 24.3099 15.0349 24.1513C14.8195 23.9927 14.5271 23.9134 14.1578 23.9134C13.9068 23.9134 13.6949 23.9489 13.5221 24.0199C13.3493 24.0885 13.2167 24.1844 13.1244 24.3075C13.0344 24.4306 12.9894 24.5703 12.9894 24.7266C12.9847 24.8568 13.0119 24.9704 13.0711 25.0675C13.1327 25.1645 13.2167 25.2486 13.3232 25.3196C13.4298 25.3883 13.5529 25.4486 13.6926 25.5007C13.8322 25.5504 13.9814 25.593 14.14 25.6286L14.7934 25.7848C15.1106 25.8558 15.4018 25.9505 15.667 26.0689C15.9321 26.1873 16.1618 26.3329 16.3559 26.5057C16.55 26.6785 16.7004 26.8821 16.8069 27.1165C16.9158 27.3509 16.9714 27.6196 16.9738 27.9226C16.9714 28.3677 16.8578 28.7536 16.6329 29.0803C16.4104 29.4046 16.0884 29.6567 15.667 29.8366C15.248 30.0142 14.7425 30.103 14.1507 30.103C13.5635 30.103 13.0522 30.013 12.6166 29.8331C12.1833 29.6532 11.8448 29.3868 11.6009 29.0341C11.3595 28.679 11.2328 28.2398 11.221 27.7166H12.7089C12.7255 27.9605 12.7953 28.1641 12.9184 28.3274C13.0439 28.4884 13.2108 28.6103 13.4191 28.6932C13.6298 28.7737 13.8677 28.8139 14.1329 28.8139C14.3933 28.8139 14.6194 28.776 14.8112 28.7003C15.0053 28.6245 15.1556 28.5192 15.2622 28.3842C15.3687 28.2493 15.422 28.0942 15.422 27.919C15.422 27.7557 15.3734 27.6184 15.2764 27.5071C15.1817 27.3958 15.042 27.3011 14.8573 27.223C14.675 27.1449 14.4513 27.0739 14.1862 27.0099L13.3943 26.8111C12.7811 26.6619 12.297 26.4287 11.9419 26.1115C11.5867 25.7943 11.4104 25.367 11.4127 24.8295C11.4104 24.3892 11.5276 24.0045 11.7643 23.6754C12.0034 23.3464 12.3313 23.0895 12.748 22.9048C13.1646 22.7202 13.6381 22.6278 14.1684 22.6278C14.7082 22.6278 15.1793 22.7202 15.5818 22.9048C15.9866 23.0895 16.3015 23.3464 16.5264 23.6754C16.7513 24.0045 16.8673 24.3857 16.8744 24.8189H15.4007ZM20.5862 30H18.0081V22.7273H20.6075C21.339 22.7273 21.9688 22.8729 22.4967 23.1641C23.0247 23.4529 23.4307 23.8684 23.7148 24.4105C24.0012 24.9527 24.1444 25.6013 24.1444 26.3565C24.1444 27.1141 24.0012 27.7652 23.7148 28.3097C23.4307 28.8542 23.0223 29.272 22.4896 29.5632C21.9593 29.8544 21.3248 30 20.5862 30ZM19.5457 28.6825H20.5223C20.9768 28.6825 21.3592 28.602 21.6693 28.4411C21.9818 28.2777 22.2162 28.0256 22.3724 27.6847C22.531 27.3414 22.6104 26.8987 22.6104 26.3565C22.6104 25.8191 22.531 25.38 22.3724 25.0391C22.2162 24.6982 21.983 24.4472 21.6729 24.2862C21.3627 24.1252 20.9804 24.0447 20.5258 24.0447H19.5457V28.6825Z"
    fill="white"
  />
</svg>`,rN=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="31" height="16" rx="2" fill="#BA24D5" />
  <path
    d="M6.31623 22.7273V30H4.77859V22.7273H6.31623ZM13.6644 22.7273V30H12.3363L9.17223 25.4226H9.11896V30H7.58132V22.7273H8.93075L12.07 27.3011H12.1339V22.7273H13.6644ZM17.513 30H14.9348V22.7273H17.5343C18.2658 22.7273 18.8955 22.8729 19.4235 23.1641C19.9514 23.4529 20.3574 23.8684 20.6415 24.4105C20.928 24.9527 21.0712 25.6013 21.0712 26.3565C21.0712 27.1141 20.928 27.7652 20.6415 28.3097C20.3574 28.8542 19.949 29.272 19.4164 29.5632C18.8861 29.8544 18.2516 30 17.513 30ZM16.4725 28.6825H17.449C17.9036 28.6825 18.2859 28.602 18.5961 28.4411C18.9086 28.2777 19.1429 28.0256 19.2992 27.6847C19.4578 27.3414 19.5371 26.8987 19.5371 26.3565C19.5371 25.8191 19.4578 25.38 19.2992 25.0391C19.1429 24.6982 18.9097 24.4472 18.5996 24.2862C18.2895 24.1252 17.9071 24.0447 17.4526 24.0447H16.4725V28.6825ZM24.7884 30H22.2102V22.7273H24.8097C25.5412 22.7273 26.1709 22.8729 26.6989 23.1641C27.2268 23.4529 27.6328 23.8684 27.9169 24.4105C28.2034 24.9527 28.3466 25.6013 28.3466 26.3565C28.3466 27.1141 28.2034 27.7652 27.9169 28.3097C27.6328 28.8542 27.2244 29.272 26.6918 29.5632C26.1615 29.8544 25.527 30 24.7884 30ZM23.7479 28.6825H24.7244C25.179 28.6825 25.5613 28.602 25.8714 28.4411C26.1839 28.2777 26.4183 28.0256 26.5746 27.6847C26.7332 27.3414 26.8125 26.8987 26.8125 26.3565C26.8125 25.8191 26.7332 25.38 26.5746 25.0391C26.4183 24.6982 26.1851 24.4472 25.875 24.2862C25.5649 24.1252 25.1825 24.0447 24.728 24.0447H23.7479V28.6825Z"
    fill="white"
  />
</svg>`,rq=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="27" height="16" rx="2" fill="#6938EF" />
  <path
    d="M6.34659 30H4.69886L7.20952 22.7273H9.19105L11.6982 30H10.0504L8.22869 24.3892H8.17188L6.34659 30ZM6.24361 27.1413H10.1357V28.3416H6.24361V27.1413ZM12.5735 30V22.7273H17.4741V23.995H14.1112V25.728H17.2219V26.9957H14.1112V28.7322H17.4883V30H12.5735ZM18.6966 30V22.7273H21.5659C22.1175 22.7273 22.5874 22.8326 22.9757 23.0433C23.3639 23.2517 23.6599 23.5417 23.8635 23.9134C24.0694 24.2827 24.1724 24.7088 24.1724 25.1918C24.1724 25.6747 24.0682 26.1009 23.8599 26.4702C23.6516 26.8395 23.3497 27.1271 22.9544 27.3331C22.5614 27.5391 22.0855 27.642 21.5268 27.642H19.698V26.4098H21.2782C21.5742 26.4098 21.818 26.3589 22.0098 26.2571C22.2039 26.1529 22.3483 26.0097 22.443 25.8274C22.5401 25.6428 22.5886 25.4309 22.5886 25.1918C22.5886 24.9503 22.5401 24.7396 22.443 24.5597C22.3483 24.3774 22.2039 24.2365 22.0098 24.1371C21.8156 24.0353 21.5694 23.9844 21.2711 23.9844H20.2342V30H18.6966Z"
    fill="white"
  />
</svg>`,rU=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="29" height="16" rx="2" fill="#DD2590" />
  <path
    d="M5.0237 22.7273H6.92001L8.92285 27.6136H9.00808L11.0109 22.7273H12.9072V30H11.4157V25.2663H11.3554L9.47328 29.9645H8.45765L6.57555 25.2486H6.51518V30H5.0237V22.7273ZM14.1741 30V22.7273H17.0434C17.595 22.7273 18.065 22.8326 18.4532 23.0433C18.8415 23.2517 19.1374 23.5417 19.341 23.9134C19.547 24.2827 19.6499 24.7088 19.6499 25.1918C19.6499 25.6747 19.5458 26.1009 19.3374 26.4702C19.1291 26.8395 18.8273 27.1271 18.4319 27.3331C18.0389 27.5391 17.5631 27.642 17.0044 27.642H15.1755V26.4098H16.7558C17.0517 26.4098 17.2955 26.3589 17.4873 26.2571C17.6814 26.1529 17.8258 26.0097 17.9205 25.8274C18.0176 25.6428 18.0661 25.4309 18.0661 25.1918C18.0661 24.9503 18.0176 24.7396 17.9205 24.5597C17.8258 24.3774 17.6814 24.2365 17.4873 24.1371C17.2932 24.0353 17.047 23.9844 16.7487 23.9844H15.7117V30H14.1741ZM23.2943 30.0994C22.764 30.0994 22.2917 30.0083 21.8774 29.826C21.4655 29.6413 21.1399 29.388 20.9008 29.0661C20.6641 28.7417 20.5422 28.3677 20.5351 27.9439H22.0834C22.0928 28.1214 22.1508 28.2777 22.2574 28.4126C22.3663 28.5452 22.5107 28.6482 22.6906 28.7216C22.8705 28.795 23.0729 28.8317 23.2979 28.8317C23.5322 28.8317 23.7394 28.7902 23.9193 28.7074C24.0992 28.6245 24.2401 28.5097 24.3419 28.3629C24.4437 28.2161 24.4946 28.0469 24.4946 27.8551C24.4946 27.661 24.4401 27.4893 24.3312 27.3402C24.2247 27.1887 24.0708 27.0703 23.8696 26.9851C23.6707 26.8999 23.434 26.8572 23.1594 26.8572H22.4811V25.728H23.1594C23.3914 25.728 23.5961 25.6877 23.7737 25.6072C23.9536 25.5268 24.0933 25.4155 24.1927 25.2734C24.2922 25.129 24.3419 24.9609 24.3419 24.7692C24.3419 24.5869 24.2981 24.4271 24.2105 24.2898C24.1253 24.1501 24.0045 24.0412 23.8483 23.9631C23.6944 23.8849 23.5145 23.8459 23.3085 23.8459C23.1002 23.8459 22.9096 23.8838 22.7368 23.9595C22.564 24.0329 22.4255 24.1383 22.3213 24.2756C22.2171 24.4129 22.1615 24.5739 22.1544 24.7585H20.6807C20.6878 24.3395 20.8073 23.9702 21.0393 23.6506C21.2713 23.331 21.5838 23.0812 21.9768 22.9013C22.3722 22.719 22.8184 22.6278 23.3156 22.6278C23.8175 22.6278 24.2567 22.719 24.6331 22.9013C25.0095 23.0836 25.3019 23.3298 25.5102 23.6399C25.7209 23.9477 25.8251 24.2933 25.8227 24.6768C25.8251 25.084 25.6984 25.4238 25.4427 25.696C25.1894 25.9683 24.8592 26.1411 24.452 26.2145V26.2713C24.987 26.34 25.3942 26.5258 25.6736 26.8288C25.9553 27.1295 26.095 27.5059 26.0926 27.9581C26.095 28.3724 25.9754 28.7405 25.7339 29.0625C25.4948 29.3845 25.1646 29.6378 24.7432 29.8224C24.3218 30.0071 23.8388 30.0994 23.2943 30.0994Z"
    fill="white"
  />
</svg>`,rW=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="30" height="16" rx="2" fill="#DD2590" />
  <path
    d="M6.42836 30L4.34739 22.7273H6.02708L7.23091 27.7805H7.29128L8.61941 22.7273H10.0576L11.3822 27.7912H11.4461L12.6499 22.7273H14.3296L12.2487 30H10.7501L9.36515 25.245H9.30833L7.92694 30H6.42836ZM15.6737 30H14.026L16.5367 22.7273H18.5182L21.0253 30H19.3776L17.5558 24.3892H17.499L15.6737 30ZM15.5708 27.1413H19.4628V28.3416H15.5708V27.1413ZM22.3064 22.7273L24.0642 28.2528H24.1317L25.893 22.7273H27.5976L25.0905 30H23.1089L20.5983 22.7273H22.3064Z"
    fill="white"
  />
</svg>`,rG=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="29" height="16" rx="2" fill="#155EEF" />
  <path
    d="M4.93093 22.7273H6.82724L8.83008 27.6136H8.91531L10.9181 22.7273H12.8145V30H11.323V25.2663H11.2626L9.3805 29.9645H8.36488L6.48278 25.2486H6.42241V30H4.93093V22.7273ZM14.0813 30V22.7273H16.9506C17.5022 22.7273 17.9722 22.8326 18.3604 23.0433C18.7487 23.2517 19.0446 23.5417 19.2482 23.9134C19.4542 24.2827 19.5572 24.7088 19.5572 25.1918C19.5572 25.6747 19.453 26.1009 19.2447 26.4702C19.0363 26.8395 18.7345 27.1271 18.3391 27.3331C17.9461 27.5391 17.4703 27.642 16.9116 27.642H15.0827V26.4098H16.663C16.9589 26.4098 17.2028 26.3589 17.3945 26.2571C17.5887 26.1529 17.7331 26.0097 17.8278 25.8274C17.9248 25.6428 17.9734 25.4309 17.9734 25.1918C17.9734 24.9503 17.9248 24.7396 17.8278 24.5597C17.7331 24.3774 17.5887 24.2365 17.3945 24.1371C17.2004 24.0353 16.9542 23.9844 16.6559 23.9844H15.619V30H14.0813ZM20.4032 28.7216V27.5107L23.4395 22.7273H24.4835V24.4034H23.8656L21.9515 27.4325V27.4893H26.2662V28.7216H20.4032ZM23.894 30V28.3523L23.9224 27.8161V22.7273H25.3642V30H23.894Z"
    fill="white"
  />
</svg>`,rY=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="36" height="16" rx="2" fill="#155EEF" />
  <path
    d="M4.95437 22.7273H6.85067L8.85352 27.6136H8.93874L10.9416 22.7273H12.8379V30H11.3464V25.2663H11.286L9.40394 29.9645H8.38832L6.50621 25.2486H6.44585V30H4.95437V22.7273ZM14.1048 30V22.7273H16.9741C17.5257 22.7273 17.9956 22.8326 18.3839 23.0433C18.7721 23.2517 19.0681 23.5417 19.2717 23.9134C19.4776 24.2827 19.5806 24.7088 19.5806 25.1918C19.5806 25.6747 19.4764 26.1009 19.2681 26.4702C19.0598 26.8395 18.7579 27.1271 18.3626 27.3331C17.9696 27.5391 17.4937 27.642 16.935 27.642H15.1062V26.4098H16.6864C16.9824 26.4098 17.2262 26.3589 17.418 26.2571C17.6121 26.1529 17.7565 26.0097 17.8512 25.8274C17.9483 25.6428 17.9968 25.4309 17.9968 25.1918C17.9968 24.9503 17.9483 24.7396 17.8512 24.5597C17.7565 24.3774 17.6121 24.2365 17.418 24.1371C17.2238 24.0353 16.9776 23.9844 16.6793 23.9844H15.6424V30H14.1048ZM20.5794 30V22.7273H25.4799V23.995H22.117V25.728H25.2278V26.9957H22.117V28.7322H25.4941V30H20.5794ZM31.5249 25.0781C31.4751 24.9053 31.4053 24.7526 31.3153 24.62C31.2254 24.4851 31.1153 24.3714 30.9851 24.2791C30.8572 24.1844 30.7105 24.1122 30.5447 24.0625C30.3814 24.0128 30.2003 23.9879 30.0014 23.9879C29.6297 23.9879 29.303 24.0803 29.0213 24.2649C28.742 24.4496 28.5241 24.7183 28.3679 25.071C28.2116 25.4214 28.1335 25.8499 28.1335 26.3565C28.1335 26.8632 28.2105 27.294 28.3643 27.6491C28.5182 28.0043 28.736 28.2753 29.0178 28.4624C29.2995 28.647 29.6321 28.7393 30.0156 28.7393C30.3636 28.7393 30.6607 28.6778 30.907 28.5547C31.1555 28.4292 31.3449 28.2528 31.4751 28.0256C31.6077 27.7983 31.674 27.5296 31.674 27.2195L31.9865 27.2656H30.1115V26.108H33.1548V27.0241C33.1548 27.6634 33.0199 28.2126 32.75 28.6719C32.4801 29.1288 32.1084 29.4815 31.6349 29.7301C31.1615 29.9763 30.6193 30.0994 30.0085 30.0994C29.3267 30.0994 28.7277 29.9491 28.2116 29.6484C27.6955 29.3454 27.2931 28.9157 27.0043 28.3594C26.7178 27.8007 26.5746 27.1378 26.5746 26.3707C26.5746 25.7812 26.6598 25.2557 26.8303 24.794C27.0031 24.33 27.2446 23.937 27.5547 23.6151C27.8648 23.2931 28.2259 23.0481 28.6378 22.88C29.0497 22.7119 29.496 22.6278 29.9766 22.6278C30.3885 22.6278 30.772 22.6882 31.1271 22.8089C31.4822 22.9273 31.7971 23.0954 32.0717 23.3132C32.3487 23.531 32.5748 23.7902 32.75 24.0909C32.9252 24.3892 33.0376 24.7183 33.0874 25.0781H31.5249Z"
    fill="white"
  />
</svg>`,rK=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="23" height="16" rx="2" fill="#155EEF" />
  <path
    d="M5.95792 30H4.31019L6.82085 22.7273H8.80238L11.3095 30H9.66175L7.84002 24.3892H7.7832L5.95792 30ZM5.85494 27.1413H9.74698V28.3416H5.85494V27.1413ZM12.5906 22.7273L14.3484 28.2528H14.4158L16.1772 22.7273H17.8817L15.3746 30H13.3931L10.8825 22.7273H12.5906ZM20.2947 22.7273V30H18.7571V22.7273H20.2947Z"
    fill="white"
  />
</svg>`,rX=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="30" height="16" rx="2" fill="#155EEF" />
  <path
    d="M4.86941 22.7273H6.76571L8.76855 27.6136H8.85378L10.8566 22.7273H12.7529V30H11.2615V25.2663H11.2011L9.31898 29.9645H8.30336L6.42125 25.2486H6.36088V30H4.86941V22.7273ZM14.0198 30V22.7273H15.5574V25.9339H15.6533L18.2705 22.7273H20.1135L17.4147 25.9837L20.1455 30H18.306L16.3138 27.0099L15.5574 27.9332V30H14.0198ZM22.2282 22.7273L23.9861 28.2528H24.0535L25.8149 22.7273H27.5194L25.0123 30H23.0308L20.5202 22.7273H22.2282Z"
    fill="white"
  />
</svg>`,rQ=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="35" height="16" rx="2" fill="#444CE7" />
  <path
    d="M4.64968 30V22.7273H6.18732V25.728H9.30877V22.7273H10.8429V30H9.30877V26.9957H6.18732V30H4.64968ZM11.8336 23.995V22.7273H17.8066V23.995H15.5801V30H14.0602V23.995H11.8336ZM18.7903 22.7273H20.6866L22.6895 27.6136H22.7747L24.7775 22.7273H26.6738V30H25.1824V25.2663H25.122L23.2399 29.9645H22.2243L20.3422 25.2486H20.2818V30H18.7903V22.7273ZM27.9407 30V22.7273H29.4783V28.7322H32.5962V30H27.9407Z"
    fill="white"
  />
</svg>`,rJ=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="27" height="16" rx="2" fill="#444CE7" />
  <path
    d="M11.2365 25.2734H9.68111C9.6527 25.0722 9.5947 24.8935 9.5071 24.7372C9.41951 24.5786 9.30706 24.4437 9.16974 24.3324C9.03243 24.2211 8.87382 24.1359 8.69389 24.0767C8.51634 24.0175 8.32339 23.9879 8.11506 23.9879C7.73864 23.9879 7.41075 24.0814 7.13139 24.2685C6.85204 24.4531 6.63542 24.723 6.48153 25.0781C6.32765 25.4309 6.25071 25.8594 6.25071 26.3636C6.25071 26.8821 6.32765 27.3177 6.48153 27.6705C6.63778 28.0232 6.85559 28.2895 7.13494 28.4695C7.4143 28.6494 7.73745 28.7393 8.1044 28.7393C8.31037 28.7393 8.50095 28.7121 8.67614 28.6577C8.85369 28.6032 9.01113 28.5239 9.14844 28.4197C9.28575 28.3132 9.39938 28.1842 9.48935 28.0327C9.58168 27.8812 9.6456 27.7083 9.68111 27.5142L11.2365 27.5213C11.1963 27.8551 11.0956 28.1771 10.9347 28.4872C10.776 28.795 10.5618 29.0708 10.2919 29.3146C10.0244 29.5561 9.70478 29.7479 9.3331 29.8899C8.96378 30.0296 8.54593 30.0994 8.07955 30.0994C7.43087 30.0994 6.85085 29.9527 6.33949 29.6591C5.83049 29.3655 5.42803 28.9406 5.1321 28.3842C4.83854 27.8279 4.69176 27.1544 4.69176 26.3636C4.69176 25.5705 4.84091 24.8958 5.1392 24.3395C5.4375 23.7831 5.84233 23.3594 6.35369 23.0682C6.86506 22.7746 7.44034 22.6278 8.07955 22.6278C8.50095 22.6278 8.89157 22.687 9.25142 22.8054C9.61364 22.9238 9.93442 23.0966 10.2138 23.3239C10.4931 23.5488 10.7204 23.8246 10.8956 24.1513C11.0732 24.478 11.1868 24.852 11.2365 25.2734ZM16.2844 24.8189C16.256 24.5324 16.1341 24.3099 15.9187 24.1513C15.7032 23.9927 15.4109 23.9134 15.0415 23.9134C14.7906 23.9134 14.5787 23.9489 14.4059 24.0199C14.2331 24.0885 14.1005 24.1844 14.0082 24.3075C13.9182 24.4306 13.8732 24.5703 13.8732 24.7266C13.8685 24.8568 13.8957 24.9704 13.9549 25.0675C14.0165 25.1645 14.1005 25.2486 14.207 25.3196C14.3136 25.3883 14.4367 25.4486 14.5763 25.5007C14.716 25.5504 14.8652 25.593 15.0238 25.6286L15.6772 25.7848C15.9944 25.8558 16.2856 25.9505 16.5508 26.0689C16.8159 26.1873 17.0456 26.3329 17.2397 26.5057C17.4338 26.6785 17.5842 26.8821 17.6907 27.1165C17.7996 27.3509 17.8552 27.6196 17.8576 27.9226C17.8552 28.3677 17.7416 28.7536 17.5167 29.0803C17.2942 29.4046 16.9722 29.6567 16.5508 29.8366C16.1317 30.0142 15.6263 30.103 15.0344 30.103C14.4473 30.103 13.936 30.013 13.5004 29.8331C13.0671 29.6532 12.7286 29.3868 12.4847 29.0341C12.2433 28.679 12.1166 28.2398 12.1048 27.7166H13.5927C13.6093 27.9605 13.6791 28.1641 13.8022 28.3274C13.9277 28.4884 14.0946 28.6103 14.3029 28.6932C14.5136 28.7737 14.7515 28.8139 15.0167 28.8139C15.2771 28.8139 15.5032 28.776 15.695 28.7003C15.8891 28.6245 16.0394 28.5192 16.146 28.3842C16.2525 28.2493 16.3058 28.0942 16.3058 27.919C16.3058 27.7557 16.2572 27.6184 16.1602 27.5071C16.0655 27.3958 15.9258 27.3011 15.7411 27.223C15.5588 27.1449 15.3351 27.0739 15.07 27.0099L14.2781 26.8111C13.6649 26.6619 13.1808 26.4287 12.8256 26.1115C12.4705 25.7943 12.2942 25.367 12.2965 24.8295C12.2942 24.3892 12.4113 24.0045 12.6481 23.6754C12.8872 23.3464 13.2151 23.0895 13.6317 22.9048C14.0484 22.7202 14.5219 22.6278 15.0522 22.6278C15.592 22.6278 16.0631 22.7202 16.4656 22.9048C16.8704 23.0895 17.1853 23.3464 17.4102 23.6754C17.6351 24.0045 17.7511 24.3857 17.7582 24.8189H16.2844ZM22.8372 24.8189C22.8088 24.5324 22.6868 24.3099 22.4714 24.1513C22.256 23.9927 21.9636 23.9134 21.5943 23.9134C21.3433 23.9134 21.1315 23.9489 20.9586 24.0199C20.7858 24.0885 20.6532 24.1844 20.5609 24.3075C20.4709 24.4306 20.426 24.5703 20.426 24.7266C20.4212 24.8568 20.4484 24.9704 20.5076 25.0675C20.5692 25.1645 20.6532 25.2486 20.7598 25.3196C20.8663 25.3883 20.9894 25.4486 21.1291 25.5007C21.2688 25.5504 21.4179 25.593 21.5765 25.6286L22.2299 25.7848C22.5472 25.8558 22.8384 25.9505 23.1035 26.0689C23.3687 26.1873 23.5983 26.3329 23.7924 26.5057C23.9866 26.6785 24.1369 26.8821 24.2434 27.1165C24.3523 27.3509 24.408 27.6196 24.4103 27.9226C24.408 28.3677 24.2943 28.7536 24.0694 29.0803C23.8469 29.4046 23.5249 29.6567 23.1035 29.8366C22.6845 30.0142 22.179 30.103 21.5872 30.103C21.0001 30.103 20.4887 30.013 20.0531 29.8331C19.6199 29.6532 19.2813 29.3868 19.0375 29.0341C18.796 28.679 18.6693 28.2398 18.6575 27.7166H20.1454C20.162 27.9605 20.2318 28.1641 20.3549 28.3274C20.4804 28.4884 20.6473 28.6103 20.8556 28.6932C21.0663 28.7737 21.3043 28.8139 21.5694 28.8139C21.8298 28.8139 22.0559 28.776 22.2477 28.7003C22.4418 28.6245 22.5922 28.5192 22.6987 28.3842C22.8052 28.2493 22.8585 28.0942 22.8585 27.919C22.8585 27.7557 22.81 27.6184 22.7129 27.5071C22.6182 27.3958 22.4785 27.3011 22.2939 27.223C22.1116 27.1449 21.8878 27.0739 21.6227 27.0099L20.8308 26.8111C20.2176 26.6619 19.7335 26.4287 19.3784 26.1115C19.0233 25.7943 18.8469 25.367 18.8493 24.8295C18.8469 24.3892 18.9641 24.0045 19.2008 23.6754C19.4399 23.3464 19.7678 23.0895 20.1845 22.9048C20.6011 22.7202 21.0746 22.6278 21.6049 22.6278C22.1447 22.6278 22.6158 22.7202 23.0183 22.9048C23.4231 23.0895 23.738 23.3464 23.9629 23.6754C24.1878 24.0045 24.3038 24.3857 24.3109 24.8189H22.8372Z"
    fill="white"
  />
</svg>`,r1=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="26" height="16" rx="2" fill="#444CE7" />
  <path
    d="M4.79812 30V22.7273H7.66744C8.21668 22.7273 8.68543 22.8255 9.07369 23.022C9.46431 23.2161 9.76142 23.492 9.96502 23.8494C10.171 24.2045 10.274 24.6224 10.274 25.103C10.274 25.5859 10.1698 26.0014 9.96147 26.3494C9.75314 26.6951 9.45129 26.9602 9.05593 27.1449C8.66294 27.3295 8.18709 27.4219 7.62837 27.4219H5.70721V26.1861H7.37979C7.67335 26.1861 7.9172 26.1458 8.11133 26.0653C8.30546 25.9848 8.44987 25.8641 8.54457 25.7031C8.64163 25.5421 8.69016 25.3421 8.69016 25.103C8.69016 24.8615 8.64163 24.6579 8.54457 24.4922C8.44987 24.3265 8.30427 24.201 8.10778 24.1158C7.91365 24.0282 7.66862 23.9844 7.37269 23.9844H6.33576V30H4.79812ZM8.72567 26.6903L10.5332 30H8.83576L7.06729 26.6903H8.72567ZM15.3059 24.8189C15.2775 24.5324 15.1556 24.3099 14.9402 24.1513C14.7247 23.9927 14.4324 23.9134 14.063 23.9134C13.8121 23.9134 13.6002 23.9489 13.4274 24.0199C13.2546 24.0885 13.122 24.1844 13.0297 24.3075C12.9397 24.4306 12.8947 24.5703 12.8947 24.7266C12.89 24.8568 12.9172 24.9704 12.9764 25.0675C13.0379 25.1645 13.122 25.2486 13.2285 25.3196C13.335 25.3883 13.4582 25.4486 13.5978 25.5007C13.7375 25.5504 13.8867 25.593 14.0453 25.6286L14.6987 25.7848C15.0159 25.8558 15.3071 25.9505 15.5723 26.0689C15.8374 26.1873 16.0671 26.3329 16.2612 26.5057C16.4553 26.6785 16.6056 26.8821 16.7122 27.1165C16.8211 27.3509 16.8767 27.6196 16.8791 27.9226C16.8767 28.3677 16.7631 28.7536 16.5382 29.0803C16.3156 29.4046 15.9937 29.6567 15.5723 29.8366C15.1532 30.0142 14.6478 30.103 14.0559 30.103C13.4688 30.103 12.9574 30.013 12.5218 29.8331C12.0886 29.6532 11.7501 29.3868 11.5062 29.0341C11.2647 28.679 11.1381 28.2398 11.1262 27.7166H12.6142C12.6307 27.9605 12.7006 28.1641 12.8237 28.3274C12.9492 28.4884 13.1161 28.6103 13.3244 28.6932C13.5351 28.7737 13.773 28.8139 14.0382 28.8139C14.2986 28.8139 14.5247 28.776 14.7164 28.7003C14.9106 28.6245 15.0609 28.5192 15.1674 28.3842C15.274 28.2493 15.3272 28.0942 15.3272 27.919C15.3272 27.7557 15.2787 27.6184 15.1816 27.5071C15.0869 27.3958 14.9473 27.3011 14.7626 27.223C14.5803 27.1449 14.3566 27.0739 14.0914 27.0099L13.2995 26.8111C12.6864 26.6619 12.2022 26.4287 11.8471 26.1115C11.492 25.7943 11.3156 25.367 11.318 24.8295C11.3156 24.3892 11.4328 24.0045 11.6696 23.6754C11.9087 23.3464 12.2366 23.0895 12.6532 22.9048C13.0699 22.7202 13.5434 22.6278 14.0737 22.6278C14.6135 22.6278 15.0846 22.7202 15.487 22.9048C15.8919 23.0895 16.2067 23.3464 16.4316 23.6754C16.6565 24.0045 16.7725 24.3857 16.7797 24.8189H15.3059ZM21.8587 24.8189C21.8303 24.5324 21.7083 24.3099 21.4929 24.1513C21.2775 23.9927 20.9851 23.9134 20.6158 23.9134C20.3648 23.9134 20.1529 23.9489 19.9801 24.0199C19.8073 24.0885 19.6747 24.1844 19.5824 24.3075C19.4924 24.4306 19.4474 24.5703 19.4474 24.7266C19.4427 24.8568 19.4699 24.9704 19.5291 25.0675C19.5907 25.1645 19.6747 25.2486 19.7812 25.3196C19.8878 25.3883 20.0109 25.4486 20.1506 25.5007C20.2902 25.5504 20.4394 25.593 20.598 25.6286L21.2514 25.7848C21.5687 25.8558 21.8598 25.9505 22.125 26.0689C22.3902 26.1873 22.6198 26.3329 22.8139 26.5057C23.008 26.6785 23.1584 26.8821 23.2649 27.1165C23.3738 27.3509 23.4295 27.6196 23.4318 27.9226C23.4295 28.3677 23.3158 28.7536 23.0909 29.0803C22.8684 29.4046 22.5464 29.6567 22.125 29.8366C21.706 30.0142 21.2005 30.103 20.6087 30.103C20.0215 30.103 19.5102 30.013 19.0746 29.8331C18.6413 29.6532 18.3028 29.3868 18.0589 29.0341C17.8175 28.679 17.6908 28.2398 17.679 27.7166H19.1669C19.1835 27.9605 19.2533 28.1641 19.3764 28.3274C19.5019 28.4884 19.6688 28.6103 19.8771 28.6932C20.0878 28.7737 20.3258 28.8139 20.5909 28.8139C20.8513 28.8139 21.0774 28.776 21.2692 28.7003C21.4633 28.6245 21.6136 28.5192 21.7202 28.3842C21.8267 28.2493 21.88 28.0942 21.88 27.919C21.88 27.7557 21.8314 27.6184 21.7344 27.5071C21.6397 27.3958 21.5 27.3011 21.3153 27.223C21.133 27.1449 20.9093 27.0739 20.6442 27.0099L19.8523 26.8111C19.2391 26.6619 18.755 26.4287 18.3999 26.1115C18.0447 25.7943 17.8684 25.367 17.8707 24.8295C17.8684 24.3892 17.9856 24.0045 18.2223 23.6754C18.4614 23.3464 18.7893 23.0895 19.206 22.9048C19.6226 22.7202 20.0961 22.6278 20.6264 22.6278C21.1662 22.6278 21.6373 22.7202 22.0398 22.9048C22.4446 23.0895 22.7595 23.3464 22.9844 23.6754C23.2093 24.0045 23.3253 24.3857 23.3324 24.8189H21.8587Z"
    fill="white"
  />
</svg>`,r0=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="27" height="16" rx="2" fill="#444CE7" />
  <path
    d="M9.053 24.8189C9.02459 24.5324 8.90267 24.3099 8.68723 24.1513C8.4718 23.9927 8.17942 23.9134 7.8101 23.9134C7.55916 23.9134 7.34727 23.9489 7.17445 24.0199C7.00163 24.0885 6.86905 24.1844 6.77672 24.3075C6.68676 24.4306 6.64178 24.5703 6.64178 24.7266C6.63704 24.8568 6.66427 24.9704 6.72346 25.0675C6.78501 25.1645 6.86905 25.2486 6.97559 25.3196C7.08212 25.3883 7.20523 25.4486 7.3449 25.5007C7.48458 25.5504 7.63373 25.593 7.79235 25.6286L8.44576 25.7848C8.76299 25.8558 9.05418 25.9505 9.31934 26.0689C9.58449 26.1873 9.81413 26.3329 10.0083 26.5057C10.2024 26.6785 10.3527 26.8821 10.4593 27.1165C10.5682 27.3509 10.6238 27.6196 10.6262 27.9226C10.6238 28.3677 10.5102 28.7536 10.2852 29.0803C10.0627 29.4046 9.74074 29.6567 9.31934 29.8366C8.9003 30.0142 8.39486 30.103 7.803 30.103C7.21588 30.103 6.70452 30.013 6.26891 29.8331C5.83567 29.6532 5.49713 29.3868 5.25328 29.0341C5.01181 28.679 4.88515 28.2398 4.87331 27.7166H6.36124C6.37781 27.9605 6.44765 28.1641 6.57076 28.3274C6.69623 28.4884 6.86313 28.6103 7.07147 28.6932C7.28217 28.7737 7.52009 28.8139 7.78525 28.8139C8.04566 28.8139 8.27175 28.776 8.46351 28.7003C8.65764 28.6245 8.80797 28.5192 8.91451 28.3842C9.02104 28.2493 9.07431 28.0942 9.07431 27.919C9.07431 27.7557 9.02578 27.6184 8.92871 27.5071C8.83401 27.3958 8.69434 27.3011 8.50968 27.223C8.32739 27.1449 8.10366 27.0739 7.83851 27.0099L7.04661 26.8111C6.43345 26.6619 5.94931 26.4287 5.59419 26.1115C5.23908 25.7943 5.06271 25.367 5.06507 24.8295C5.06271 24.3892 5.17989 24.0045 5.41664 23.6754C5.65575 23.3464 5.98364 23.0895 6.4003 22.9048C6.81697 22.7202 7.29045 22.6278 7.82076 22.6278C8.36053 22.6278 8.83165 22.7202 9.23411 22.9048C9.63894 23.0895 9.95381 23.3464 10.1787 23.6754C10.4036 24.0045 10.5196 24.3857 10.5267 24.8189H9.053ZM14.4055 27.4716H15.7123L16.3692 28.3168L17.0155 29.0696L18.2336 30.5966H16.7989L15.9608 29.5668L15.5312 28.956L14.4055 27.4716ZM18.3437 26.3636C18.3437 27.1567 18.1933 27.8314 17.8927 28.3878C17.5944 28.9441 17.1872 29.3691 16.6711 29.6626C16.1573 29.9538 15.5797 30.0994 14.9381 30.0994C14.2918 30.0994 13.7118 29.9527 13.1981 29.6591C12.6843 29.3655 12.2783 28.9406 11.98 28.3842C11.6817 27.8279 11.5326 27.1544 11.5326 26.3636C11.5326 25.5705 11.6817 24.8958 11.98 24.3395C12.2783 23.7831 12.6843 23.3594 13.1981 23.0682C13.7118 22.7746 14.2918 22.6278 14.9381 22.6278C15.5797 22.6278 16.1573 22.7746 16.6711 23.0682C17.1872 23.3594 17.5944 23.7831 17.8927 24.3395C18.1933 24.8958 18.3437 25.5705 18.3437 26.3636ZM16.7847 26.3636C16.7847 25.8499 16.7078 25.4167 16.5539 25.0639C16.4024 24.7112 16.1881 24.4437 15.9111 24.2614C15.6341 24.0791 15.3098 23.9879 14.9381 23.9879C14.5664 23.9879 14.2421 24.0791 13.9651 24.2614C13.6881 24.4437 13.4727 24.7112 13.3188 25.0639C13.1673 25.4167 13.0915 25.8499 13.0915 26.3636C13.0915 26.8774 13.1673 27.3106 13.3188 27.6634C13.4727 28.0161 13.6881 28.2836 13.9651 28.4659C14.2421 28.6482 14.5664 28.7393 14.9381 28.7393C15.3098 28.7393 15.6341 28.6482 15.9111 28.4659C16.1881 28.2836 16.4024 28.0161 16.5539 27.6634C16.7078 27.3106 16.7847 26.8774 16.7847 26.3636ZM19.4827 30V22.7273H21.0203V28.7322H24.1382V30H19.4827Z"
    fill="white"
  />
</svg>`,r2=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="19" height="16" rx="2" fill="#444CE7" />
  <path
    d="M7.9161 22.7273H9.43599V27.7983C9.43599 28.267 9.33064 28.6742 9.11994 29.0199C8.91161 29.3655 8.6216 29.6319 8.24991 29.8189C7.87823 30.0059 7.44617 30.0994 6.95375 30.0994C6.51577 30.0994 6.11805 30.0225 5.76056 29.8686C5.40545 29.7124 5.12373 29.4756 4.91539 29.1584C4.70706 28.8388 4.60408 28.4375 4.60645 27.9545H6.13699C6.14172 28.1463 6.18078 28.3108 6.25417 28.4482C6.32993 28.5831 6.43291 28.6873 6.56312 28.7607C6.6957 28.8317 6.85195 28.8672 7.03187 28.8672C7.22127 28.8672 7.38107 28.8269 7.51127 28.7464C7.64385 28.6636 7.74447 28.5429 7.81312 28.3842C7.88178 28.2256 7.9161 28.0303 7.9161 27.7983V22.7273ZM14.6526 24.8189C14.6242 24.5324 14.5023 24.3099 14.2868 24.1513C14.0714 23.9927 13.779 23.9134 13.4097 23.9134C13.1588 23.9134 12.9469 23.9489 12.7741 24.0199C12.6012 24.0885 12.4687 24.1844 12.3763 24.3075C12.2864 24.4306 12.2414 24.5703 12.2414 24.7266C12.2367 24.8568 12.2639 24.9704 12.3231 25.0675C12.3846 25.1645 12.4687 25.2486 12.5752 25.3196C12.6817 25.3883 12.8048 25.4486 12.9445 25.5007C13.0842 25.5504 13.2333 25.593 13.392 25.6286L14.0454 25.7848C14.3626 25.8558 14.6538 25.9505 14.9189 26.0689C15.1841 26.1873 15.4137 26.3329 15.6079 26.5057C15.802 26.6785 15.9523 26.8821 16.0589 27.1165C16.1678 27.3509 16.2234 27.6196 16.2258 27.9226C16.2234 28.3677 16.1098 28.7536 15.8849 29.0803C15.6623 29.4046 15.3403 29.6567 14.9189 29.8366C14.4999 30.0142 13.9945 30.103 13.4026 30.103C12.8155 30.103 12.3041 30.013 11.8685 29.8331C11.4353 29.6532 11.0967 29.3868 10.8529 29.0341C10.6114 28.679 10.4848 28.2398 10.4729 27.7166H11.9608C11.9774 27.9605 12.0473 28.1641 12.1704 28.3274C12.2958 28.4884 12.4627 28.6103 12.6711 28.6932C12.8818 28.7737 13.1197 28.8139 13.3849 28.8139C13.6453 28.8139 13.8714 28.776 14.0631 28.7003C14.2573 28.6245 14.4076 28.5192 14.5141 28.3842C14.6207 28.2493 14.6739 28.0942 14.6739 27.919C14.6739 27.7557 14.6254 27.6184 14.5283 27.5071C14.4336 27.3958 14.2939 27.3011 14.1093 27.223C13.927 27.1449 13.7033 27.0739 13.4381 27.0099L12.6462 26.8111C12.0331 26.6619 11.5489 26.4287 11.1938 26.1115C10.8387 25.7943 10.6623 25.367 10.6647 24.8295C10.6623 24.3892 10.7795 24.0045 11.0162 23.6754C11.2554 23.3464 11.5832 23.0895 11.9999 22.9048C12.4166 22.7202 12.8901 22.6278 13.4204 22.6278C13.9601 22.6278 14.4313 22.7202 14.8337 22.9048C15.2385 23.0895 15.5534 23.3464 15.7783 23.6754C16.0032 24.0045 16.1192 24.3857 16.1263 24.8189H14.6526Z"
    fill="white"
  />
</svg>`,r5=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="34" height="16" rx="2" fill="#444CE7" />
  <path
    d="M7.82821 22.7273H9.3481V27.7983C9.3481 28.267 9.24275 28.6742 9.03205 29.0199C8.82372 29.3655 8.53371 29.6319 8.16202 29.8189C7.79033 30.0059 7.35828 30.0994 6.86586 30.0994C6.42788 30.0994 6.03016 30.0225 5.67267 29.8686C5.31756 29.7124 5.03584 29.4756 4.8275 29.1584C4.61917 28.8388 4.51619 28.4375 4.51855 27.9545H6.04909C6.05383 28.1463 6.09289 28.3108 6.16628 28.4482C6.24204 28.5831 6.34502 28.6873 6.47523 28.7607C6.60781 28.8317 6.76406 28.8672 6.94398 28.8672C7.13337 28.8672 7.29318 28.8269 7.42338 28.7464C7.55596 28.6636 7.65658 28.5429 7.72523 28.3842C7.79389 28.2256 7.82821 28.0303 7.82821 27.7983V22.7273ZM14.5647 24.8189C14.5363 24.5324 14.4144 24.3099 14.199 24.1513C13.9835 23.9927 13.6911 23.9134 13.3218 23.9134C13.0709 23.9134 12.859 23.9489 12.6862 24.0199C12.5133 24.0885 12.3808 24.1844 12.2884 24.3075C12.1985 24.4306 12.1535 24.5703 12.1535 24.7266C12.1488 24.8568 12.176 24.9704 12.2352 25.0675C12.2967 25.1645 12.3808 25.2486 12.4873 25.3196C12.5938 25.3883 12.7169 25.4486 12.8566 25.5007C12.9963 25.5504 13.1454 25.593 13.3041 25.6286L13.9575 25.7848C14.2747 25.8558 14.5659 25.9505 14.8311 26.0689C15.0962 26.1873 15.3258 26.3329 15.52 26.5057C15.7141 26.6785 15.8644 26.8821 15.971 27.1165C16.0799 27.3509 16.1355 27.6196 16.1379 27.9226C16.1355 28.3677 16.0219 28.7536 15.797 29.0803C15.5744 29.4046 15.2525 29.6567 14.8311 29.8366C14.412 30.0142 13.9066 30.103 13.3147 30.103C12.7276 30.103 12.2162 30.013 11.7806 29.8331C11.3474 29.6532 11.0088 29.3868 10.765 29.0341C10.5235 28.679 10.3969 28.2398 10.385 27.7166H11.873C11.8895 27.9605 11.9594 28.1641 12.0825 28.3274C12.2079 28.4884 12.3749 28.6103 12.5832 28.6932C12.7939 28.7737 13.0318 28.8139 13.297 28.8139C13.5574 28.8139 13.7835 28.776 13.9752 28.7003C14.1694 28.6245 14.3197 28.5192 14.4262 28.3842C14.5328 28.2493 14.586 28.0942 14.586 27.919C14.586 27.7557 14.5375 27.6184 14.4404 27.5071C14.3457 27.3958 14.2061 27.3011 14.0214 27.223C13.8391 27.1449 13.6154 27.0739 13.3502 27.0099L12.5583 26.8111C11.9452 26.6619 11.461 26.4287 11.1059 26.1115C10.7508 25.7943 10.5744 25.367 10.5768 24.8295C10.5744 24.3892 10.6916 24.0045 10.9284 23.6754C11.1675 23.3464 11.4954 23.0895 11.912 22.9048C12.3287 22.7202 12.8022 22.6278 13.3325 22.6278C13.8722 22.6278 14.3434 22.7202 14.7458 22.9048C15.1507 23.0895 15.4655 23.3464 15.6904 23.6754C15.9153 24.0045 16.0313 24.3857 16.0384 24.8189H14.5647ZM23.8554 26.3636C23.8554 27.1567 23.705 27.8314 23.4044 28.3878C23.1061 28.9441 22.6989 29.3691 22.1828 29.6626C21.6691 29.9538 21.0914 30.0994 20.4498 30.0994C19.8035 30.0994 19.2235 29.9527 18.7098 29.6591C18.1961 29.3655 17.79 28.9406 17.4917 28.3842C17.1934 27.8279 17.0443 27.1544 17.0443 26.3636C17.0443 25.5705 17.1934 24.8958 17.4917 24.3395C17.79 23.7831 18.1961 23.3594 18.7098 23.0682C19.2235 22.7746 19.8035 22.6278 20.4498 22.6278C21.0914 22.6278 21.6691 22.7746 22.1828 23.0682C22.6989 23.3594 23.1061 23.7831 23.4044 24.3395C23.705 24.8958 23.8554 25.5705 23.8554 26.3636ZM22.2964 26.3636C22.2964 25.8499 22.2195 25.4167 22.0656 25.0639C21.9141 24.7112 21.6998 24.4437 21.4229 24.2614C21.1459 24.0791 20.8215 23.9879 20.4498 23.9879C20.0782 23.9879 19.7538 24.0791 19.4768 24.2614C19.1998 24.4437 18.9844 24.7112 18.8305 25.0639C18.679 25.4167 18.6032 25.8499 18.6032 26.3636C18.6032 26.8774 18.679 27.3106 18.8305 27.6634C18.9844 28.0161 19.1998 28.2836 19.4768 28.4659C19.7538 28.6482 20.0782 28.7393 20.4498 28.7393C20.8215 28.7393 21.1459 28.6482 21.4229 28.4659C21.6998 28.2836 21.9141 28.0161 22.0656 27.6634C22.2195 27.3106 22.2964 26.8774 22.2964 26.3636ZM31.0775 22.7273V30H29.7494L26.5853 25.4226H26.532V30H24.9944V22.7273H26.3438L29.483 27.3011H29.547V22.7273H31.0775Z"
    fill="white"
  />
</svg>`,r7=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="33" height="16" rx="2" fill="#444CE7" />
  <path
    d="M7.90927 22.7273H9.42915V27.7983C9.42915 28.267 9.3238 28.6742 9.1131 29.0199C8.90477 29.3655 8.61476 29.6319 8.24308 29.8189C7.87139 30.0059 7.43933 30.0994 6.94691 30.0994C6.50894 30.0994 6.11121 30.0225 5.75373 29.8686C5.39862 29.7124 5.11689 29.4756 4.90856 29.1584C4.70022 28.8388 4.59724 28.4375 4.59961 27.9545H6.13015C6.13488 28.1463 6.17395 28.3108 6.24734 28.4482C6.32309 28.5831 6.42608 28.6873 6.55629 28.7607C6.68886 28.8317 6.84511 28.8672 7.02504 28.8672C7.21443 28.8672 7.37423 28.8269 7.50444 28.7464C7.63701 28.6636 7.73763 28.5429 7.80629 28.3842C7.87494 28.2256 7.90927 28.0303 7.90927 27.7983V22.7273ZM11.954 30H10.3063L12.8169 22.7273H14.7985L17.3056 30H15.6578L13.8361 24.3892H13.7793L11.954 30ZM11.851 27.1413H15.7431V28.3416H11.851V27.1413ZM18.5866 22.7273L20.3445 28.2528H20.4119L22.1733 22.7273H23.8778L21.3707 30H19.3892L16.8786 22.7273H18.5866ZM25.04 30H23.3922L25.9029 22.7273H27.8844L30.3915 30H28.7438L26.9221 24.3892H26.8652L25.04 30ZM24.937 27.1413H28.829V28.3416H24.937V27.1413Z"
    fill="white"
  />
</svg>`,r3=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="28" height="16" rx="2" fill="#444CE7" />
  <path
    d="M6.08754 22.7273L7.55415 25.206H7.61097L9.08469 22.7273H10.8212L8.60174 26.3636L10.8709 30H9.10245L7.61097 27.5178H7.55415L6.06268 30H4.30131L6.57759 26.3636L4.34393 22.7273H6.08754ZM11.7942 22.7273H13.6905L15.6934 27.6136H15.7786L17.7814 22.7273H19.6777V30H18.1863V25.2663H18.1259L16.2438 29.9645H15.2282L13.3461 25.2486H13.2857V30H11.7942V22.7273ZM20.9446 30V22.7273H22.4822V28.7322H25.6001V30H20.9446Z"
    fill="white"
  />
</svg>`,r4=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="26" height="16" rx="2" fill="#444CE7" />
  <path
    d="M4.93484 30V22.7273H9.8354V23.995H6.47248V25.728H9.58327V26.9957H6.47248V28.7322H9.84961V30H4.93484ZM12.4996 22.7273L13.9663 25.206H14.0231L15.4968 22.7273H17.2333L15.0138 26.3636L17.283 30H15.5146L14.0231 27.5178H13.9663L12.4748 30H10.7134L12.9897 26.3636L10.756 22.7273H12.4996ZM18.2063 30V22.7273H23.1069V23.995H19.744V25.728H22.8548V26.9957H19.744V28.7322H23.1211V30H18.2063Z"
    fill="white"
  />
</svg>`,r6=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="31" height="16" rx="2" fill="#444CE7" />
  <path
    d="M7.69363 30H5.1155V22.7273H7.71493C8.44647 22.7273 9.0762 22.8729 9.60414 23.1641C10.1321 23.4529 10.5381 23.8684 10.8222 24.4105C11.1086 24.9527 11.2519 25.6013 11.2519 26.3565C11.2519 27.1141 11.1086 27.7652 10.8222 28.3097C10.5381 28.8542 10.1297 29.272 9.59703 29.5632C9.06673 29.8544 8.43226 30 7.69363 30ZM6.65314 28.6825H7.62971C8.08425 28.6825 8.46659 28.602 8.77672 28.4411C9.08922 28.2777 9.3236 28.0256 9.47985 27.6847C9.63846 27.3414 9.71777 26.8987 9.71777 26.3565C9.71777 25.8191 9.63846 25.38 9.47985 25.0391C9.3236 24.6982 9.09041 24.4472 8.78027 24.2862C8.47014 24.1252 8.0878 24.0447 7.63326 24.0447H6.65314V28.6825ZM12.3909 22.7273H14.2872L16.29 27.6136H16.3753L18.3781 22.7273H20.2744V30H18.7829V25.2663H18.7226L16.8405 29.9645H15.8248L13.9427 25.2486H13.8824V30H12.3909V22.7273ZM26.3637 25.0781C26.314 24.9053 26.2442 24.7526 26.1542 24.62C26.0642 24.4851 25.9542 24.3714 25.824 24.2791C25.6961 24.1844 25.5493 24.1122 25.3836 24.0625C25.2203 24.0128 25.0392 23.9879 24.8403 23.9879C24.4686 23.9879 24.1419 24.0803 23.8602 24.2649C23.5808 24.4496 23.363 24.7183 23.2068 25.071C23.0505 25.4214 22.9724 25.8499 22.9724 26.3565C22.9724 26.8632 23.0493 27.294 23.2032 27.6491C23.3571 28.0043 23.5749 28.2753 23.8566 28.4624C24.1383 28.647 24.471 28.7393 24.8545 28.7393C25.2025 28.7393 25.4996 28.6778 25.7458 28.5547C25.9944 28.4292 26.1838 28.2528 26.314 28.0256C26.4466 27.7983 26.5129 27.5296 26.5129 27.2195L26.8254 27.2656H24.9504V26.108H27.9937V27.0241C27.9937 27.6634 27.8588 28.2126 27.5889 28.6719C27.319 29.1288 26.9473 29.4815 26.4738 29.7301C26.0003 29.9763 25.4582 30.0994 24.8474 30.0994C24.1656 30.0994 23.5666 29.9491 23.0505 29.6484C22.5344 29.3454 22.132 28.9157 21.8431 28.3594C21.5567 27.8007 21.4134 27.1378 21.4134 26.3707C21.4134 25.7812 21.4987 25.2557 21.6691 24.794C21.8419 24.33 22.0834 23.937 22.3936 23.6151C22.7037 23.2931 23.0647 23.0481 23.4767 22.88C23.8886 22.7119 24.3348 22.6278 24.8154 22.6278C25.2274 22.6278 25.6109 22.6882 25.966 22.8089C26.3211 22.9273 26.636 23.0954 26.9106 23.3132C27.1876 23.531 27.4137 23.7902 27.5889 24.0909C27.7641 24.3892 27.8765 24.7183 27.9262 25.0781H26.3637Z"
    fill="white"
  />
</svg>`,r8=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="22" height="16" rx="2" fill="#344054" />
  <path
    d="M4.58034 30V29.0874L8.20961 23.995H4.57324V22.7273H10.1414V23.6399L6.50861 28.7322H10.1485V30H4.58034ZM12.866 22.7273V30H11.3284V22.7273H12.866ZM14.1311 30V22.7273H17.0004C17.5521 22.7273 18.022 22.8326 18.4102 23.0433C18.7985 23.2517 19.0944 23.5417 19.298 23.9134C19.504 24.2827 19.607 24.7088 19.607 25.1918C19.607 25.6747 19.5028 26.1009 19.2945 26.4702C19.0861 26.8395 18.7843 27.1271 18.3889 27.3331C17.9959 27.5391 17.5201 27.642 16.9614 27.642H15.1325V26.4098H16.7128C17.0087 26.4098 17.2526 26.3589 17.4443 26.2571C17.6385 26.1529 17.7829 26.0097 17.8776 25.8274C17.9746 25.6428 18.0232 25.4309 18.0232 25.1918C18.0232 24.9503 17.9746 24.7396 17.8776 24.5597C17.7829 24.3774 17.6385 24.2365 17.4443 24.1371C17.2502 24.0353 17.004 23.9844 16.7057 23.9844H15.6688V30H14.1311Z"
    fill="white"
  />
</svg>`,r9=(0,H.qy)`<svg
  width="40"
  height="40"
  viewBox="0 0 40 40"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.75 4C7.75 2.20508 9.20508 0.75 11 0.75H27C27.1212 0.75 27.2375 0.798159 27.3232 0.883885L38.1161 11.6768C38.2018 11.7625 38.25 11.8788 38.25 12V36C38.25 37.7949 36.7949 39.25 35 39.25H11C9.20507 39.25 7.75 37.7949 7.75 36V4Z"
    fill="white"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <path
    d="M27 0.5V8C27 10.2091 28.7909 12 31 12H38.5"
    stroke="#D0D5DD"
    stroke-width="1.5"
  />
  <rect x="1" y="18" width="27" height="16" rx="2" fill="#344054" />
  <path
    d="M4.82937 30V22.7273H7.69869C8.24793 22.7273 8.71668 22.8255 9.10494 23.022C9.49556 23.2161 9.79267 23.492 9.99627 23.8494C10.2022 24.2045 10.3052 24.6224 10.3052 25.103C10.3052 25.5859 10.2011 26.0014 9.99272 26.3494C9.78439 26.6951 9.48254 26.9602 9.08718 27.1449C8.69419 27.3295 8.21834 27.4219 7.65962 27.4219H5.73846V26.1861H7.41104C7.7046 26.1861 7.94845 26.1458 8.14258 26.0653C8.33671 25.9848 8.48112 25.8641 8.57582 25.7031C8.67288 25.5421 8.72141 25.3421 8.72141 25.103C8.72141 24.8615 8.67288 24.6579 8.57582 24.4922C8.48112 24.3265 8.33552 24.201 8.13903 24.1158C7.9449 24.0282 7.69987 23.9844 7.40394 23.9844H6.36701V30H4.82937ZM8.75692 26.6903L10.5645 30H8.86701L7.09854 26.6903H8.75692ZM12.6454 30H10.9977L13.5083 22.7273H15.4899L17.997 30H16.3493L14.5275 24.3892H14.4707L12.6454 30ZM12.5424 27.1413H16.4345V28.3416H12.5424V27.1413ZM18.8723 30V22.7273H21.7417C22.2909 22.7273 22.7596 22.8255 23.1479 23.022C23.5385 23.2161 23.8356 23.492 24.0392 23.8494C24.2452 24.2045 24.3482 24.6224 24.3482 25.103C24.3482 25.5859 24.244 26.0014 24.0357 26.3494C23.8274 26.6951 23.5255 26.9602 23.1301 27.1449C22.7372 27.3295 22.2613 27.4219 21.7026 27.4219H19.7814V26.1861H21.454C21.7476 26.1861 21.9914 26.1458 22.1855 26.0653C22.3797 25.9848 22.5241 25.8641 22.6188 25.7031C22.7158 25.5421 22.7644 25.3421 22.7644 25.103C22.7644 24.8615 22.7158 24.6579 22.6188 24.4922C22.5241 24.3265 22.3785 24.201 22.182 24.1158C21.9879 24.0282 21.7428 23.9844 21.4469 23.9844H20.41V30H18.8723ZM22.7999 26.6903L24.6074 30H22.91L21.1415 26.6903H22.7999Z"
    fill="white"
  />
</svg>`,ae=(0,H.qy)`
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M5.46967 5.46967C5.76256 5.17678 6.23744 5.17678 6.53033 5.46967L12 10.9393L17.4697 5.46967C17.7626 5.17678 18.2374 5.17678 18.5303 5.46967C18.8232 5.76256 18.8232 6.23744 18.5303 6.53033L13.0607 12L18.5303 17.4697C18.8232 17.7626 18.8232 18.2374 18.5303 18.5303C18.2374 18.8232 17.7626 18.8232 17.4697 18.5303L12 13.0607L6.53033 18.5303C6.23744 18.8232 5.76256 18.8232 5.46967 18.5303C5.17678 18.2374 5.17678 17.7626 5.46967 17.4697L10.9393 12L5.46967 6.53033C5.17678 6.23744 5.17678 5.76256 5.46967 5.46967Z"
      fill="currentColor"
    />
  </svg>
`,at=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M8 2.25C6.48122 2.25 5.25 3.48122 5.25 5V8C5.25 8.41421 5.58579 8.75 6 8.75C6.41421 8.75 6.75 8.41421 6.75 8V5C6.75 4.30964 7.30964 3.75 8 3.75H13H15.5218C15.9076 3.75 16.2717 3.92809 16.5085 4.23257L18.9867 7.41879C19.1573 7.63821 19.25 7.90825 19.25 8.18622V12V18C19.25 18.6904 18.6904 19.25 18 19.25H8C7.30964 19.25 6.75 18.6904 6.75 18V16.5C6.75 16.0858 6.41421 15.75 6 15.75C5.58579 15.75 5.25 16.0858 5.25 16.5V18C5.25 19.5188 6.48122 20.75 8 20.75H18C19.5188 20.75 20.75 19.5188 20.75 18V12V8.18622C20.75 7.57468 20.5462 6.98059 20.1707 6.49788L17.6926 3.31166C17.1715 2.6418 16.3705 2.25 15.5218 2.25H13H8ZM2.76855 13.8408C2.76855 14.1765 2.94849 14.3672 3.26538 14.3672C3.58228 14.3672 3.76221 14.1765 3.76221 13.8408V12.0549H3.78369L4.55444 13.9966C4.62964 14.1899 4.76123 14.2812 4.96533 14.2812C5.16675 14.2812 5.29028 14.1926 5.36816 13.9966L6.13892 12.0549H6.1604V13.8408C6.1604 14.1765 6.34033 14.3672 6.65723 14.3672C6.97412 14.3672 7.15405 14.1765 7.15405 13.8408V11.1042C7.15405 10.6262 6.89087 10.3577 6.41553 10.3577C6.01538 10.3577 5.80322 10.5161 5.64209 10.9377L4.97339 12.686H4.9519L4.28052 10.9377C4.11938 10.5161 3.90723 10.3577 3.50708 10.3577C3.03174 10.3577 2.76855 10.6262 2.76855 11.1042V13.8408ZM7.69385 13.7039C7.69385 14.0852 7.90063 14.3 8.26318 14.3H9.35083C10.5244 14.3 11.2173 13.575 11.2173 12.3342C11.2173 11.0935 10.5271 10.4248 9.35083 10.4248H8.26318C7.90063 10.4248 7.69385 10.6396 7.69385 11.021V13.7039ZM9.1897 13.395H8.83252V11.3298H9.1897C9.73486 11.3298 10.0571 11.6816 10.0571 12.3342C10.0571 13.0486 9.75903 13.395 9.1897 13.395Z"
    fill="currentColor"
  />
</svg> `,ai=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M8 2.25C6.48122 2.25 5.25 3.48122 5.25 5V8C5.25 8.41421 5.58579 8.75 6 8.75C6.41421 8.75 6.75 8.41421 6.75 8V5C6.75 4.30964 7.30964 3.75 8 3.75H15.5218C15.9076 3.75 16.2717 3.92809 16.5085 4.23257L18.9867 7.41879C19.1573 7.63821 19.25 7.90825 19.25 8.18622V18C19.25 18.6904 18.6904 19.25 18 19.25H8C7.30964 19.25 6.75 18.6904 6.75 18V16.5C6.75 16.0858 6.41421 15.75 6 15.75C5.58579 15.75 5.25 16.0858 5.25 16.5V18C5.25 19.5188 6.48122 20.75 8 20.75H18C19.5188 20.75 20.75 19.5188 20.75 18V8.18622C20.75 7.57468 20.5462 6.98059 20.1707 6.49788L17.6926 3.31166C17.1715 2.6418 16.3705 2.25 15.5218 2.25H8ZM2.76855 13.771C2.76855 14.1523 2.97534 14.3672 3.33789 14.3672C3.70044 14.3672 3.90723 14.1523 3.90723 13.771V12.8015H5.27148V13.771C5.27148 14.1523 5.47827 14.3672 5.84082 14.3672C6.20337 14.3672 6.41016 14.1523 6.41016 13.771V10.9539C6.41016 10.5725 6.20337 10.3577 5.84082 10.3577C5.47827 10.3577 5.27148 10.5725 5.27148 10.9539V11.8965H3.90723V10.9539C3.90723 10.5725 3.70044 10.3577 3.33789 10.3577C2.97534 10.3577 2.76855 10.5725 2.76855 10.9539V13.771ZM7.82007 13.771C7.82007 14.1523 8.02686 14.3672 8.3894 14.3672C8.75195 14.3672 8.95874 14.1523 8.95874 13.771V11.3325H9.53076C9.83154 11.3325 10.033 11.1687 10.033 10.8787C10.033 10.5886 9.83691 10.4248 9.53076 10.4248H7.24805C6.94189 10.4248 6.74585 10.5886 6.74585 10.8787C6.74585 11.1687 6.94727 11.3325 7.24805 11.3325H7.82007V13.771ZM10.8655 14.3672C10.5486 14.3672 10.3687 14.1765 10.3687 13.8408V11.1042C10.3687 10.6262 10.6318 10.3577 11.1072 10.3577C11.5073 10.3577 11.7195 10.5161 11.8806 10.9377L12.552 12.686H12.5735L13.2422 10.9377C13.4033 10.5161 13.6155 10.3577 14.0156 10.3577C14.491 10.3577 14.7542 10.6262 14.7542 11.1042V13.8408C14.7542 14.1765 14.5742 14.3672 14.2573 14.3672C13.9404 14.3672 13.7605 14.1765 13.7605 13.8408V12.0549H13.739L12.9683 13.9966C12.8904 14.1926 12.7668 14.2812 12.5654 14.2812C12.3613 14.2812 12.2297 14.1899 12.1545 13.9966L11.3838 12.0549H11.3623V13.8408C11.3623 14.1765 11.1824 14.3672 10.8655 14.3672ZM15.2939 13.7039C15.2939 14.0852 15.5007 14.3 15.8633 14.3H17.5042C17.8103 14.3 18.0063 14.1362 18.0063 13.8462C18.0063 13.5562 17.8049 13.3923 17.5042 13.3923H16.4326V10.9539C16.4326 10.5725 16.2258 10.3577 15.8633 10.3577C15.5007 10.3577 15.2939 10.5725 15.2939 10.9539V13.7039Z"
    fill="currentColor"
  />
</svg> `,as=(0,H.qy)`
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M6.26795 6.19873C6.83575 6.65959 7.04771 6.62458 8.11333 6.55361L18.1589 5.9508C18.3728 5.9508 18.1949 5.7369 18.1239 5.70189L16.4555 4.49627C16.1356 4.24834 15.7097 3.96346 14.894 4.03444L5.16636 4.7442C4.81245 4.7792 4.74147 4.95713 4.88245 5.09908L6.26795 6.19873ZM6.87076 8.53997V19.1086C6.87076 19.6774 7.15466 19.8893 7.79442 19.8543L18.8336 19.2156C19.4724 19.1806 19.5434 18.7897 19.5434 18.3288V7.83021C19.5434 7.36935 19.3664 7.12044 18.9756 7.15642L7.43857 7.83021C7.01271 7.86521 6.87076 8.07814 6.87076 8.53997ZM17.77 9.1068C17.84 9.42571 17.77 9.74559 17.4491 9.78156L16.9173 9.88754V17.6901C16.4555 17.939 16.0296 18.0809 15.6747 18.0809C15.1069 18.0809 14.965 17.903 14.5391 17.3712L11.0593 11.9089V17.1942L12.1609 17.4421C12.1609 17.4421 12.1609 18.0809 11.2723 18.0809L8.82309 18.2229C8.75211 18.0809 8.82309 17.727 9.07199 17.6551L9.71078 17.4781V10.4904L8.82309 10.4194C8.75211 10.0995 8.93004 9.63864 9.42687 9.60267L12.054 9.42668L15.6747 14.9589V10.0655L14.7511 9.95949C14.6811 9.56864 14.965 9.2857 15.3198 9.24973L17.77 9.1068ZM4.34964 3.78651L14.4672 3.04175C15.7087 2.9348 16.0286 3.00674 16.8103 3.57358L20.0393 5.84385C20.5721 6.23373 20.75 6.33971 20.75 6.76556V19.2156C20.75 19.9963 20.4661 20.4572 19.4724 20.5281L7.72247 21.2379C6.97673 21.2729 6.62185 21.1669 6.231 20.6701L3.85281 17.5841C3.42695 17.0163 3.25 16.5914 3.25 16.0936V5.02811C3.25 4.38932 3.53293 3.85749 4.34964 3.78651Z"
      fill="currentColor"
    />
  </svg>
`,ao=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.43531 5.11765C7.43531 3.53389 8.7192 2.25 10.303 2.25C11.1416 2.25 11.8962 2.61004 12.4206 3.18398C12.945 2.61004 13.6996 2.25 14.5382 2.25C16.122 2.25 17.4059 3.53389 17.4059 5.11765C17.4059 5.61288 17.2804 6.07879 17.0594 6.48529H19.8912C20.8577 6.48529 21.6412 7.2688 21.6412 8.23529V10.4706C21.6412 11.1916 21.2051 11.8108 20.5824 12.0788V19C20.5824 20.5188 19.3511 21.75 17.8324 21.75H7.00884C5.49006 21.75 4.25884 20.5188 4.25884 19V12.0788C3.63606 11.8108 3.20001 11.1916 3.20001 10.4706V8.2353C3.20001 7.2688 3.98351 6.48529 4.95001 6.48529H7.78183C7.56084 6.07879 7.43531 5.61288 7.43531 5.11765ZM10.303 6.48529H11.6706V5.11765C11.6706 4.36232 11.0583 3.75 10.303 3.75C9.54762 3.75 8.93531 4.36232 8.93531 5.11765C8.93531 5.87298 9.54762 6.48529 10.303 6.48529ZM13.1706 5.11765V6.48529H14.5382C15.2936 6.48529 15.9059 5.87298 15.9059 5.11765C15.9059 4.36232 15.2936 3.75 14.5382 3.75C13.7829 3.75 13.1706 4.36232 13.1706 5.11765ZM4.95001 7.98529C4.81194 7.98529 4.70001 8.09722 4.70001 8.2353V10.4706C4.70001 10.6087 4.81194 10.7206 4.95001 10.7206H19.8912C20.0293 10.7206 20.1412 10.6087 20.1412 10.4706V8.23529C20.1412 8.09722 20.0293 7.98529 19.8912 7.98529H4.95001ZM5.75884 12.2206V19C5.75884 19.6904 6.31848 20.25 7.00884 20.25H11.6706V12.2206H5.75884ZM13.1706 12.2206V20.25H17.8324C18.5227 20.25 19.0824 19.6904 19.0824 19V12.2206H13.1706Z"
    fill="currentColor"
  />
</svg>`,ar=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M3.75 12C3.75 7.44365 7.44365 3.75 12 3.75C16.5563 3.75 20.25 7.44365 20.25 12C20.25 16.5563 16.5563 20.25 12 20.25C7.44365 20.25 3.75 16.5563 3.75 12ZM12 2.25C6.61522 2.25 2.25 6.61522 2.25 12C2.25 17.3848 6.61522 21.75 12 21.75C17.3848 21.75 21.75 17.3848 21.75 12C21.75 6.61522 17.3848 2.25 12 2.25ZM12.2385 10.9834C11.3157 11.708 10.9944 12.166 10.9944 12.9727C10.9944 13.4102 11.2678 13.7383 11.7668 13.7383C12.2454 13.7383 12.4231 13.4648 12.594 13.0615C12.7512 12.4873 12.9768 12.248 13.6399 11.7422C14.5149 11.0928 15.0959 10.5117 15.0959 9.45215C15.0959 7.92773 13.845 6.99121 12.0471 6.99121C11.0764 6.99121 10.3313 7.24414 9.83228 7.66797C9.42212 8.03027 9.15552 8.50879 9.15552 8.95996C9.15552 9.33594 9.39478 9.64355 9.82544 9.64355C10.1125 9.64355 10.2766 9.51367 10.4885 9.2334C10.8167 8.67285 11.2678 8.41992 11.9241 8.41992C12.676 8.41992 13.2708 8.86426 13.2708 9.53418C13.2708 10.1357 12.9016 10.4639 12.2385 10.9834ZM11.7668 14.709C11.1995 14.709 10.7346 15.1055 10.7346 15.6729C10.7346 16.2402 11.1995 16.6367 11.7668 16.6367C12.3342 16.6367 12.8059 16.2402 12.8059 15.6729C12.8059 15.1055 12.3342 14.709 11.7668 14.709Z"
    fill="currentColor"
  />
</svg> `,aa=(0,H.qy)`
  <svg
    width="20"
    height="20"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M12 3.25C12.4142 3.25 12.75 3.58579 12.75 4L12.75 14.1893L15.4697 11.4697C15.7626 11.1768 16.2374 11.1768 16.5303 11.4697C16.8232 11.7626 16.8232 12.2374 16.5303 12.5303L12.5303 16.5303C12.2374 16.8232 11.7626 16.8232 11.4697 16.5303L7.46967 12.5303C7.17678 12.2374 7.17678 11.7626 7.46967 11.4697C7.76256 11.1768 8.23744 11.1768 8.53033 11.4697L11.25 14.1893L11.25 4C11.25 3.58579 11.5858 3.25 12 3.25ZM4 15.25C4.41421 15.25 4.75 15.5858 4.75 16V17C4.75 18.2426 5.75736 19.25 7 19.25H17C18.2426 19.25 19.25 18.2426 19.25 17V16C19.25 15.5858 19.5858 15.25 20 15.25C20.4142 15.25 20.75 15.5858 20.75 16V17C20.75 19.0711 19.0711 20.75 17 20.75H7C4.92893 20.75 3.25 19.0711 3.25 17V16C3.25 15.5858 3.58579 15.25 4 15.25Z"
      fill="currentColor"
    />
  </svg>
`,an=(0,H.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.99935 3.16663C5.32997 3.16663 3.16602 5.33058 3.16602 7.99996C3.16602 10.6693 5.32997 12.8333 7.99935 12.8333C10.6687 12.8333 12.8327 10.6693 12.8327 7.99996C12.8327 5.33058 10.6687 3.16663 7.99935 3.16663ZM2.16602 7.99996C2.16602 4.7783 4.77769 2.16663 7.99935 2.16663C11.221 2.16663 13.8327 4.7783 13.8327 7.99996C13.8327 11.2216 11.221 13.8333 7.99935 13.8333C4.77769 13.8333 2.16602 11.2216 2.16602 7.99996ZM7.99935 5.12959C8.27549 5.12959 8.49935 5.35345 8.49935 5.62959V7.99996C8.49935 8.2761 8.27549 8.49996 7.99935 8.49996C7.72321 8.49996 7.49935 8.2761 7.49935 7.99996V5.62959C7.49935 5.35345 7.72321 5.12959 7.99935 5.12959ZM7.49935 10.3703C7.49935 10.0942 7.72321 9.87033 7.99935 9.87033H8.00528C8.28142 9.87033 8.50528 10.0942 8.50528 10.3703C8.50528 10.6465 8.28142 10.8703 8.00528 10.8703H7.99935C7.72321 10.8703 7.49935 10.6465 7.49935 10.3703Z"
    fill="#77757D"
    fill-opacity="0.6"
  />
</svg>`,al=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M3.54102 5.41675C3.54102 5.07157 3.82084 4.79175 4.16602 4.79175H15.8327C16.1779 4.79175 16.4577 5.07157 16.4577 5.41675C16.4577 5.76193 16.1779 6.04175 15.8327 6.04175H4.16602C3.82084 6.04175 3.54102 5.76193 3.54102 5.41675ZM3.54102 8.33341C3.54102 7.98824 3.82084 7.70841 4.16602 7.70841H15.8327C16.1779 7.70841 16.4577 7.98824 16.4577 8.33341C16.4577 8.67859 16.1779 8.95842 15.8327 8.95842H4.16602C3.82084 8.95842 3.54102 8.67859 3.54102 8.33341ZM10.8327 10.6251C10.4875 10.6251 10.2077 10.9049 10.2077 11.2501C10.2077 11.5953 10.4875 11.8751 10.8327 11.8751H15.8327C16.1779 11.8751 16.4577 11.5953 16.4577 11.2501C16.4577 10.9049 16.1779 10.6251 15.8327 10.6251H10.8327ZM10.2077 14.1667C10.2077 13.8216 10.4875 13.5417 10.8327 13.5417H15.8327C16.1779 13.5417 16.4577 13.8216 16.4577 14.1667C16.4577 14.5119 16.1779 14.7917 15.8327 14.7917H10.8327C10.4875 14.7917 10.2077 14.5119 10.2077 14.1667ZM5.20768 10.8334C5.20768 10.4882 4.92786 10.2084 4.58268 10.2084C4.2375 10.2084 3.95768 10.4882 3.95768 10.8334V13.3334C3.95768 13.6786 4.2375 13.9584 4.58268 13.9584H6.87435V14.5834C6.87435 14.8362 7.02663 15.0641 7.26017 15.1608C7.49372 15.2576 7.76254 15.2041 7.94129 15.0254L9.19129 13.7754C9.43537 13.5313 9.43537 13.1356 9.19129 12.8915L7.94129 11.6415C7.76254 11.4627 7.49372 11.4093 7.26017 11.506C7.02663 11.6027 6.87435 11.8306 6.87435 12.0834V12.7084H5.20768V10.8334Z"
  />
</svg>`,ac=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M2.70898 9.99992C2.70898 5.97284 5.97357 2.70825 10.0007 2.70825C11.8678 2.70825 13.5723 3.41084 14.8619 4.56508L14.8639 4.56687L16.0423 5.63071V3.33325C16.0423 2.98807 16.3221 2.70825 16.6673 2.70825C17.0125 2.70825 17.2923 2.98807 17.2923 3.33325V7.03696C17.2923 7.38213 17.0125 7.66196 16.6673 7.66196H12.9636C12.6184 7.66196 12.3386 7.38213 12.3386 7.03696C12.3386 6.69178 12.6184 6.41196 12.9636 6.41196H15.0423L14.0283 5.4965C14.0279 5.4962 14.0276 5.49591 14.0273 5.49561C12.9581 4.53909 11.5479 3.95825 10.0007 3.95825C6.66393 3.95825 3.95898 6.6632 3.95898 9.99992C3.95898 13.3366 6.66393 16.0416 10.0007 16.0416C12.8751 16.0416 15.2821 14.0335 15.8926 11.3431C15.969 11.0065 16.3038 10.7955 16.6404 10.8719C16.977 10.9483 17.188 11.2831 17.1116 11.6197C16.3748 14.867 13.4716 17.2916 10.0007 17.2916C5.97357 17.2916 2.70898 14.027 2.70898 9.99992Z"
  />
</svg>`;function ad(e,t=24){return(0,H.qy)`<svg
    width="${t}"
    height="${t}"
    viewBox="0 0 24 24"
    xmlns="http://www.w3.org/2000/svg"
  >
    ${e}
  </svg>`}(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M14.8132 11.2542C14.6939 11.3852 14.5246 11.4594 14.3474 11.4583C14.1702 11.4572 14.0018 11.381 13.8841 11.2485L12.0322 9.16519C11.8029 8.9072 11.8261 8.51215 12.0841 8.28283C12.3421 8.0535 12.7372 8.07674 12.9665 8.33473L13.7262 9.18942V4.99996C13.7262 4.8849 13.6329 4.79163 13.5179 4.79163H8.33269C7.98751 4.79163 7.70769 4.5118 7.70769 4.16663C7.70769 3.82145 7.98751 3.54163 8.33269 3.54163H13.5179C14.3233 3.54163 14.9762 4.19454 14.9762 4.99996V9.21932L15.7874 8.32903C16.0198 8.07387 16.4151 8.05549 16.6703 8.28796C16.9254 8.52044 16.9438 8.91574 16.7114 9.17089L14.8132 11.2542ZM5.60217 8.7457C5.7215 8.61472 5.89082 8.54055 6.068 8.54164C6.24519 8.54273 6.41358 8.61897 6.5313 8.7514L8.38315 10.8347C8.61247 11.0927 8.58924 11.4878 8.33125 11.7171C8.07326 11.9464 7.67821 11.9232 7.44889 11.6652L6.68917 10.8105V15C6.68917 15.115 6.78244 15.2083 6.8975 15.2083H12.0827C12.4279 15.2083 12.7077 15.4881 12.7077 15.8333C12.7077 16.1785 12.4279 16.4583 12.0827 16.4583H6.8975C6.09208 16.4583 5.43917 15.8054 5.43917 15V10.7806L4.62802 11.6709C4.39554 11.926 4.00024 11.9444 3.74509 11.712C3.48993 11.4795 3.47155 11.0842 3.70402 10.829L5.60217 8.7457Z"
  />
</svg>`;let ah=ad((0,H.JW)`<path fill-rule="evenodd" clip-rule="evenodd" d="M8.26257 2.48082C7.85697 2.49584 7.54034 2.83683 7.55536 3.24243C7.57038 3.64803 7.91137 3.96466 8.31697 3.94964L12.5926 3.79128C12.9329 3.77867 13.2632 3.90835 13.504 4.14919L19.8106 10.4558C20.0976 10.7428 20.5629 10.7428 20.8499 10.4558C21.1369 10.1688 21.1369 9.70348 20.8499 9.41648L14.5433 3.10987C14.0135 2.58003 13.287 2.29473 12.5382 2.32247L8.26257 2.48082ZM7.72668 6.72224C6.0604 6.78396 4.72384 8.12053 4.66212 9.7868L4.53585 13.1963C4.52324 13.5366 4.65292 13.8669 4.89376 14.1077L10.5116 19.7256C10.99 20.2039 11.7655 20.2039 12.2438 19.7256L17.6655 14.304C18.1438 13.8256 18.1438 13.0501 17.6655 12.5718L12.0476 6.95388C11.8068 6.71304 11.4765 6.58336 11.1362 6.59597L7.72668 6.72224ZM3.19331 9.7324C3.28351 7.29707 5.23695 5.34363 7.67228 5.25343L11.0818 5.12716C11.8305 5.09942 12.5571 5.38472 13.0869 5.91456L18.7048 11.5324C19.7571 12.5848 19.7571 14.2909 18.7048 15.3433L13.2832 20.7649C12.2308 21.8173 10.5246 21.8173 9.47232 20.7649L3.85444 15.147C3.3246 14.6172 3.0393 13.8907 3.06703 13.1419L3.19331 9.7324ZM7.8664 8.75593C8.18961 9.07914 8.18961 9.60317 7.8664 9.92638C7.54319 10.2496 7.01916 10.2496 6.69595 9.92638C6.37274 9.60317 6.37274 9.07914 6.69595 8.75593C7.01916 8.43272 7.54319 8.43272 7.8664 8.75593Z" fill="currentColor"/>`,16),au=ed.N$i({width:"20",height:"20"}),ap=ed.Z$r({width:"20",height:"20"}),af=ed.BQZ({width:"20",height:"20"}),ag=ed.SoJ({width:"20",height:"20"}),am=ed.Nrq({width:"20",height:"20"}),av=ed.WXD({width:"20",height:"20"}),ay=ed.TXg({width:"20",height:"20"}),ab=ed.ma5({width:"20",height:"20"}),aw=ed.RyS({width:"20",height:"20"}),ax=ed.gZg({width:"20",height:"20"}),a_=ed.ucD({width:"24",height:"24"}),aC=ed.ucD({width:"20",height:"20"}),ak=ed.vKo({width:"24",height:"24"}),aS=ed.vKo({width:"20",height:"20"}),aM=ed.Syo({width:"20",height:"20"}),aE=ed.I5t({width:"20",height:"20"}),aI=ed.cyi({width:"20",height:"20"}),aB=ed.za1({width:"20",height:"20"}),a$=ed.$oz({width:"20",height:"20"}),aT=ed.yOR({width:"20",height:"20"}),aO=ed._PQ({width:"20",height:"20"}),aP=ed.Xnc({width:"20",height:"20"}),aA=ed.loI({width:"20",height:"20"}),aH=ed.qYV({width:"20",height:"20"}),aL=ed.TdU({width:"20",height:"20"}),aD=ed.vrT({width:"20",height:"20"}),aZ=ed.jaP({width:"20",height:"20"}),aj=ed.d7y({width:"20",height:"20"}),aV=ed.FlE({width:"20",height:"20"}),aR=ed.t5i({width:"20",height:"20"}),az=ed.cqr({width:"20",height:"20"}),aF=ed.mjz({width:"20",height:"20"}),aN=ed.USm({width:"24",height:"24"}),aq=ed.WIv({width:"20",height:"20"}),aU=ed.NAP({width:"20",height:"20"}),aW=ed.VQ$({width:"16",height:"16"}),aG=ed.eqL({width:"20",height:"20"}),aY=ed.PHA({width:"20",height:"20"}),aK=ed.KRn({width:"20",height:"20"}),aX=ed.JmJ({width:"20",height:"20"});ed.t5Y({width:"20",height:"20"});let aQ=ed.qUP({width:"20",height:"20"}),aJ=ed.xPL({width:"20",height:"20"}),a1=ed.ITz({width:"20",height:"20"}),a0=ed.s3U({width:"20",height:"20"}),a2=ed.w$A({width:"20",height:"20"}),a5=ed.Ea5({width:"20",height:"20"});ed.tCQ({width:"20",height:"20"}),ed.RGD({width:"20",height:"20"});let a7=ed.SAc({width:"20",height:"20"}),a3=ed.v_L({width:"1.25em",height:"1.25em",style:"vertical-align: middle; font-size: inherit; margin-bottom: 0.1em;"}),a4=ed.v_L({width:"20",height:"20"}),a6=ed.v_L({width:"16",height:"16"}),a8=ed.Qol({width:"1.25em",height:"1.25em",style:"vertical-align: middle; font-size: inherit; margin-bottom: 0.1em;"}),a9=ed.FYP({width:"20",height:"20"}),ne=ed.c11({width:"20",height:"20"}),nt=ed.w4L({width:"16",height:"16"}),ni=ed.SAc({width:"24",height:"24"}),ns=ed.c11({width:"24",height:"24"}),no=ed.l88({width:"20",height:"20"}),nr=ed.PtA({width:"20",height:"20"}),na=ed.PtA({width:"16",height:"16"}),nn=(0,H.qy)` <svg
  xmlns="http://www.w3.org/2000/svg"
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M2.62503 4.58336C2.62503 3.50181 3.50181 2.62503 4.58336 2.62503H15.4167C16.4983 2.62503 17.375 3.50181 17.375 4.58336V15.4167C17.375 16.4983 16.4983 17.375 15.4167 17.375H4.58336C3.50181 17.375 2.62503 16.4983 2.62503 15.4167V4.58336Z"
    fill="currentColor"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M2.625 4.58333C2.625 3.50178 3.50178 2.625 4.58333 2.625H15.4167C16.4982 2.625 17.375 3.50178 17.375 4.58333V15.4167C17.375 16.4982 16.4982 17.375 15.4167 17.375H4.58333C3.50178 17.375 2.625 16.4982 2.625 15.4167V4.58333ZM4.58333 3.20833C3.82394 3.20833 3.20833 3.82394 3.20833 4.58333V15.4167C3.20833 16.1761 3.82394 16.7917 4.58333 16.7917H15.4167C16.1761 16.7917 16.7917 16.1761 16.7917 15.4167V4.58333C16.7917 3.82394 16.1761 3.20833 15.4167 3.20833H4.58333Z"
    fill="black"
    fill-opacity="0.3"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M8.85183 6.254C9.03131 5.77539 9.48885 5.45831 10 5.45831C10.5112 5.45831 10.9687 5.77539 11.1482 6.254L13.9185 13.6416C14.0397 13.9648 13.876 14.3251 13.5528 14.4463C13.2296 14.5675 12.8693 14.4037 12.7481 14.0805L11.9654 11.9932H8.03465L7.25188 14.0805C7.13068 14.4037 6.77042 14.5675 6.44722 14.4463C6.12402 14.3251 5.96027 13.9648 6.08147 13.6416L8.85183 6.254ZM8.5034 10.7432H11.4966L10 6.7522L8.5034 10.7432Z"
    fill="var(--affine-text-primary-color)"
  />
</svg>`,nl=(0,H.qy)` <svg
  xmlns="http://www.w3.org/2000/svg"
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M2.625 4.58333C2.625 3.50178 3.50178 2.625 4.58333 2.625H15.4167C16.4982 2.625 17.375 3.50178 17.375 4.58333V15.4167C17.375 16.4982 16.4982 17.375 15.4167 17.375H4.58333C3.50178 17.375 2.625 16.4982 2.625 15.4167V4.58333ZM4.58333 3.20833C3.82394 3.20833 3.20833 3.82394 3.20833 4.58333V15.4167C3.20833 16.1761 3.82394 16.7917 4.58333 16.7917H15.4167C16.1761 16.7917 16.7917 16.1761 16.7917 15.4167V4.58333C16.7917 3.82394 16.1761 3.20833 15.4167 3.20833H4.58333Z"
    fill="black"
    fill-opacity="0.3"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M8.85183 6.254C9.03131 5.77539 9.48885 5.45831 10 5.45831C10.5112 5.45831 10.9687 5.77539 11.1482 6.254L13.9185 13.6416C14.0397 13.9648 13.876 14.3251 13.5528 14.4463C13.2296 14.5675 12.8693 14.4037 12.7481 14.0805L11.9654 11.9932H8.03465L7.25188 14.0805C7.13068 14.4037 6.77042 14.5675 6.44722 14.4463C6.12402 14.3251 5.96027 13.9648 6.08147 13.6416L8.85183 6.254ZM8.5034 10.7432H11.4966L10 6.7522L8.5034 10.7432Z"
    fill="currentColor"
  />
</svg>`,nc=ad((0,H.JW)`
  <path d="M5.82912 16.3197L7.91758 18.4082L6.57812 19.7476C6.53121 19.7945 6.46407 19.8151 6.39891 19.8026L3.37038 19.2199C3.21286 19.1896 3.15332 18.9955 3.26674 18.8821L5.82912 16.3197Z" fill="currentColor"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M19.0095 3.51624C17.9526 2.45932 16.26 2.39465 15.1255 3.36783L7.3214 10.0624C6.35443 10.8919 6.0528 12.261 6.58168 13.42L6.73506 13.7562L5.67702 14.8142C5.30174 15.1895 5.30174 15.7979 5.67702 16.1732L8.06384 18.56C8.43912 18.9353 9.04757 18.9353 9.42285 18.56L10.4809 17.502L10.8171 17.6555C11.9761 18.1843 13.3453 17.8827 14.1747 16.9157L20.8693 9.11159C21.8425 7.9771 21.7778 6.28452 20.7209 5.22761L19.0095 3.51624ZM16.1022 4.50634C16.6416 4.04362 17.4463 4.07437 17.9489 4.5769L19.6602 6.28827C20.1628 6.79079 20.1935 7.59555 19.7308 8.13496L14.6424 14.0667L10.1705 9.59469L16.1022 4.50634ZM9.02862 10.5742L8.29803 11.2009C7.83827 11.5953 7.69486 12.2462 7.94632 12.7973L8.2979 13.5678C8.43485 13.8679 8.37953 14.233 8.13377 14.4788L7.11884 15.4937L8.74335 17.1182L9.75818 16.1034C10.004 15.8576 10.3692 15.8023 10.6693 15.9392L11.4398 16.2908C11.9909 16.5423 12.6419 16.3989 13.0362 15.9391L13.663 15.2085L9.02862 10.5742Z" fill="#77757D"/>
`,20),nd=ed.zII({width:"24",height:"24"}),nh=ed.oik({width:"24",height:"24"}),nu=ed.JvT({width:"24",height:"24"}),np=ed.JmJ({width:"24",height:"24"}),nf=ed.EIO({width:"24",height:"24"}),ng=ed.aiU({width:"24",height:"24"}),nm=ed.hhC({width:"24",height:"24"}),nv=ed.cEz({width:"20",height:"20"}),ny=ed.Tje({width:"20",height:"20"}),nb=ed.v1n({width:"20",height:"20"}),nw=e=>(0,H.qy)`<svg
    width="16"
    height="16"
    viewBox="0 0 16 16"
    xmlns="http://www.w3.org/2000/svg"
  >
    <style xmlns="http://www.w3.org/2000/svg">
      .spinner {
        transform-origin: center;
        animation: spinner_animate 0.75s infinite linear;
      }
      @keyframes spinner_animate {
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
    <path
      d="M14.6666 8.00004C14.6666 11.6819 11.6818 14.6667 7.99992 14.6667C4.31802 14.6667 1.33325 11.6819 1.33325 8.00004C1.33325 4.31814 4.31802 1.33337 7.99992 1.33337C11.6818 1.33337 14.6666 4.31814 14.6666 8.00004ZM3.30003 8.00004C3.30003 10.5957 5.40424 12.6999 7.99992 12.6999C10.5956 12.6999 12.6998 10.5957 12.6998 8.00004C12.6998 5.40436 10.5956 3.30015 7.99992 3.30015C5.40424 3.30015 3.30003 5.40436 3.30003 8.00004Z"
      fill=${e}
      fill-opacity="0.1"
    />
    <path
      d="M13.6833 8.00004C14.2263 8.00004 14.674 7.55745 14.5942 7.02026C14.5142 6.48183 14.3684 5.954 14.1591 5.44882C13.8241 4.63998 13.333 3.90505 12.714 3.286C12.0949 2.66694 11.36 2.17588 10.5511 1.84084C10.046 1.63159 9.51812 1.48576 8.9797 1.40576C8.44251 1.32595 7.99992 1.77363 7.99992 2.31671C7.99992 2.85979 8.44486 3.28974 8.9761 3.40253C9.25681 3.46214 9.53214 3.54746 9.79853 3.65781C10.3688 3.894 10.8869 4.2402 11.3233 4.67664C11.7598 5.11307 12.106 5.6312 12.3422 6.20143C12.4525 6.46782 12.5378 6.74315 12.5974 7.02386C12.7102 7.5551 13.1402 8.00004 13.6833 8.00004Z"
      fill="#1C9EE4"
      class="spinner"
    />
  </svg>`,nx=nw("white"),n_=nw("black"),nC=(0,H.qy)`<svg
  width="340"
  height="170"
  viewBox="0 0 340 170"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M0.000108291 4C4.84837e-05 1.79086 1.79086 0 4 0H336C338.209 0 340 1.79086 340 4L340.005 170H0.00460238L0.000108291 4Z"
    fill="#F4F4F5"
  />
  <path
    d="M47.4226 181.578L133.723 53.5251C136.164 49.904 141.057 48.9089 144.718 51.2892L345.111 181.578H47.4226Z"
    fill="#C0BFC1"
  />
  <path
    d="M0.00305283 184.375L71.1716 78.1816C73.6115 74.5409 78.5267 73.5413 82.195 75.9397L248.044 184.375H0.00305283Z"
    fill="#E3E2E4"
  />
  <ellipse
    cx="19.6135"
    cy="19.8036"
    rx="19.6135"
    ry="19.8036"
    transform="matrix(1 0 2.70729e-05 1 38 17)"
    fill="#C0BFC1"
  />
</svg>`,nk=(0,H.qy)`<svg
  width="340"
  height="170"
  viewBox="0 0 340 170"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M0.000108291 4C4.84837e-05 1.79086 1.79086 0 4 0H336C338.209 0 340 1.79086 340 4L340.005 170H0.00460238L0.000108291 4Z"
    fill="#252525"
  />
  <path
    d="M47.4226 181.578L133.723 53.5251C136.164 49.904 141.057 48.9089 144.718 51.2892L345.111 181.578H47.4226Z"
    fill="#3E3E3F"
  />
  <path
    d="M0.00305283 184.375L71.1716 78.1816C73.6115 74.5409 78.5267 73.5413 82.195 75.9397L248.044 184.375H0.00305283Z"
    fill="#727272"
  />
  <ellipse
    cx="19.6135"
    cy="19.8036"
    rx="19.6135"
    ry="19.8036"
    transform="matrix(1 0 2.70729e-05 1 38 17)"
    fill="#3E3E3F"
  />
</svg>`,nS=(0,H.qy)`
  <svg
    width="70"
    height="32"
    viewBox="0 0 70 32"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <rect x="0.25" y="0.25" width="69.5" height="31.5" rx="3.75" fill="white" />
    <rect
      x="0.25"
      y="0.25"
      width="69.5"
      height="31.5"
      rx="3.75"
      stroke="#E3E2E4"
      stroke-width="0.5"
    />
    <rect x="4" y="4" width="21" height="3" rx="1.5" fill="#DBDBDB" />
    <rect x="4" y="11" width="34.1467" height="2" rx="1" fill="#E9E9E9" />
    <rect x="4" y="17" width="34.1467" height="2" rx="1" fill="#E9E9E9" />
    <rect x="4" y="23" width="30" height="2" rx="1" fill="#E9E9E9" />
    <g clip-path="url(#clip0_8629_12484)">
      <rect
        width="23.8527"
        height="24"
        rx="2"
        transform="matrix(1 0 2.70729e-05 1 42.1467 4)"
        fill="#EDEDED"
      />
      <path
        d="M47.0005 30.0001L57.6988 14.2824C58.6142 12.9375 60.4347 12.5674 61.8027 13.448L87.5143 30.0001H47.0005Z"
        fill="#CCCCCC"
      />
      <circle
        cx="2.10328"
        cy="2.10328"
        r="2.10328"
        transform="matrix(1 0 2.70729e-05 1 47.7163 9)"
        fill="#CCCCCC"
      />
    </g>
    <defs>
      <clipPath id="clip0_8629_12484">
        <rect
          width="23.8527"
          height="24"
          rx="2"
          transform="matrix(1 0 2.70729e-05 1 42.1467 4)"
          fill="white"
        />
      </clipPath>
    </defs>
  </svg>
`,nM=(0,H.qy)`
  <svg
    width="70"
    height="32"
    viewBox="0 0 70 32"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <rect
      x="0.25"
      y="0.25"
      width="69.5"
      height="31.5"
      rx="3.75"
      fill="#141414"
    />
    <rect
      x="0.25"
      y="0.25"
      width="69.5"
      height="31.5"
      rx="3.75"
      stroke="#484848"
      stroke-width="0.5"
    />
    <rect x="4" y="4" width="21" height="3" rx="1.5" fill="#4A4A4A" />
    <rect x="4" y="11" width="34.1467" height="2" rx="1" fill="#323232" />
    <rect x="4" y="17" width="34.1467" height="2" rx="1" fill="#323232" />
    <rect x="4" y="23" width="30" height="2" rx="1" fill="#323232" />
    <g clip-path="url(#clip0_8635_14321)">
      <rect
        width="23.8527"
        height="24"
        rx="2"
        transform="matrix(1 0 2.70729e-05 1 42.1467 4)"
        fill="#2E2E2E"
      />
      <path
        d="M47.0005 30.0001L57.6988 14.2824C58.6142 12.9375 60.4347 12.5674 61.8027 13.448L87.5143 30.0001H47.0005Z"
        fill="#5D5D5D"
      />
      <circle
        cx="2.10328"
        cy="2.10328"
        r="2.10328"
        transform="matrix(1 0 2.70729e-05 1 47.7163 9)"
        fill="#5D5D5D"
      />
    </g>
    <defs>
      <clipPath id="clip0_8635_14321">
        <rect
          width="23.8527"
          height="24"
          rx="2"
          transform="matrix(1 0 2.70729e-05 1 42.1467 4)"
          fill="white"
        />
      </clipPath>
    </defs>
  </svg>
`,nE=(0,H.qy)`
  <svg
    width="70"
    height="14"
    viewBox="0 0 70 14"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <rect x="0.25" y="0.25" width="69.5" height="13.5" rx="2.75" fill="white" />
    <rect
      x="0.25"
      y="0.25"
      width="69.5"
      height="13.5"
      rx="2.75"
      stroke="#E3E2E4"
      stroke-width="0.5"
    />
    <circle cx="6.5" cy="7" r="2.5" fill="#D9D9D9" />
    <rect x="13" y="5" width="53" height="4" rx="2" fill="#DBDBDB" />
  </svg>
`,nI=(0,H.qy)`
  <svg
    width="70"
    height="14"
    viewBox="0 0 70 14"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <rect
      x="0.25"
      y="0.25"
      width="69.5"
      height="13.5"
      rx="2.75"
      fill="#141414"
    />
    <rect
      x="0.25"
      y="0.25"
      width="69.5"
      height="13.5"
      rx="2.75"
      stroke="#484848"
      stroke-width="0.5"
    />
    <circle cx="6.5" cy="7" r="2.5" fill="#4A4A4A" />
    <rect x="13" y="5" width="53" height="4" rx="2" fill="#4A4A4A" />
  </svg>
`,nB=(0,H.qy)`
  <svg
    width="60"
    height="66"
    viewBox="0 0 60 66"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <rect
      x="0.25"
      y="1.10718"
      width="59.5"
      height="63.7857"
      rx="3.75"
      fill="white"
    />
    <rect
      x="0.25"
      y="1.10718"
      width="59.5"
      height="63.7857"
      rx="3.75"
      stroke="#E3E2E4"
      stroke-width="0.5"
    />
    <g clip-path="url(#clip0_8629_12498)">
      <path
        d="M3.00005 5.85718C3.00002 4.75261 3.89543 3.85718 5 3.85718H55C56.1046 3.85718 57 4.75261 57.0001 5.85718L57.0008 34.7143H3.00084L3.00005 5.85718Z"
        fill="#EDEDED"
      />
      <path
        d="M18.0007 37.3179L33.5882 14.4172C34.5036 13.0723 36.3241 12.7021 37.692 13.5828L74.5616 37.3179H18.0007Z"
        fill="#CCCCCC"
      />
      <circle
        cx="2.93637"
        cy="2.93637"
        r="2.93637"
        transform="matrix(1 0 2.70729e-05 1 19 8)"
        fill="#CCCCCC"
      />
    </g>
    <rect x="3" y="38.7144" width="30" height="3" rx="1.5" fill="#DBDBDB" />
    <rect x="3" y="45.7144" width="54" height="3" rx="1.5" fill="#E9E9E9" />
    <rect x="3" y="52.7144" width="54" height="3" rx="1.5" fill="#E9E9E9" />
    <defs>
      <clipPath id="clip0_8629_12498">
        <path
          d="M3.00005 5.85718C3.00002 4.75261 3.89543 3.85718 5 3.85718H55C56.1046 3.85718 57 4.75261 57.0001 5.85718L57.0008 34.7143H3.00084L3.00005 5.85718Z"
          fill="white"
        />
      </clipPath>
    </defs>
  </svg>
`,n$=(0,H.qy)`
  <svg
    width="60"
    height="66"
    viewBox="0 0 60 66"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <rect
      x="0.25"
      y="1.10718"
      width="59.5"
      height="63.7857"
      rx="3.75"
      fill="#141414"
    />
    <rect
      x="0.25"
      y="1.10718"
      width="59.5"
      height="63.7857"
      rx="3.75"
      stroke="#484848"
      stroke-width="0.5"
    />
    <g clip-path="url(#clip0_8635_14335)">
      <path
        d="M3.00005 5.85718C3.00002 4.75261 3.89543 3.85718 5 3.85718H55C56.1046 3.85718 57 4.75261 57.0001 5.85718L57.0008 34.7143H3.00084L3.00005 5.85718Z"
        fill="#2E2E2E"
      />
      <path
        d="M18.0007 37.3179L33.5882 14.4172C34.5036 13.0723 36.3241 12.7021 37.692 13.5828L74.5616 37.3179H18.0007Z"
        fill="#5D5D5D"
      />
      <circle
        cx="2.93637"
        cy="2.93637"
        r="2.93637"
        transform="matrix(1 0 2.70729e-05 1 19 8)"
        fill="#5D5D5D"
      />
    </g>
    <rect x="3" y="38.7144" width="30" height="3" rx="1.5" fill="#4A4A4A" />
    <rect x="3" y="45.7144" width="54" height="3" rx="1.5" fill="#323232" />
    <rect x="3" y="52.7144" width="54" height="3" rx="1.5" fill="#323232" />
    <defs>
      <clipPath id="clip0_8635_14335">
        <path
          d="M3.00005 5.85718C3.00002 4.75261 3.89543 3.85718 5 3.85718H55C56.1046 3.85718 57 4.75261 57.0001 5.85718L57.0008 34.7143H3.00084L3.00005 5.85718Z"
          fill="white"
        />
      </clipPath>
    </defs>
  </svg>
`,nT=(0,H.qy)`
  <svg
    width="38"
    height="30"
    viewBox="0 0 38 30"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <rect x="0.25" y="0.25" width="37.5" height="29.5" rx="3.75" fill="white" />
    <rect
      x="0.25"
      y="0.25"
      width="37.5"
      height="29.5"
      rx="3.75"
      stroke="#E3E2E4"
      stroke-width="0.5"
    />
    <circle cx="6.5" cy="6.5" r="2.5" fill="#D9D9D9" />
    <rect x="4" y="13" width="30" height="3" rx="1.5" fill="#E9E9E9" />
    <rect x="4" y="20" width="30" height="3" rx="1.5" fill="#E9E9E9" />
  </svg>
`,nO=(0,H.qy)`
  <svg
    width="38"
    height="30"
    viewBox="0 0 38 30"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <rect
      x="0.25"
      y="0.25"
      width="37.5"
      height="29.5"
      rx="3.75"
      fill="#141414"
    />
    <rect
      x="0.25"
      y="0.25"
      width="37.5"
      height="29.5"
      rx="3.75"
      stroke="#484848"
      stroke-width="0.5"
    />
    <circle cx="6.5" cy="6.5" r="2.5" fill="#4A4A4A" />
    <rect x="4" y="13" width="30" height="3" rx="1.5" fill="#4A4A4A" />
    <rect x="4" y="20" width="30" height="3" rx="1.5" fill="#4A4A4A" />
  </svg>
`,nP=(0,H.qy)`<svg
  width="12"
  height="12"
  viewBox="0 0 12 12"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_6505_24239)">
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M1.625 6C1.625 3.58375 3.58375 1.625 6 1.625C7.12028 1.625 8.14299 2.04656 8.91676 2.7391L8.91796 2.74017L9.625 3.37847V2C9.625 1.79289 9.79289 1.625 10 1.625C10.2071 1.625 10.375 1.79289 10.375 2V4.22222C10.375 4.42933 10.2071 4.59722 10 4.59722H7.77778C7.57067 4.59722 7.40278 4.42933 7.40278 4.22222C7.40278 4.01512 7.57067 3.84722 7.77778 3.84722H9.025L8.41657 3.29795C8.41637 3.29777 8.41617 3.29759 8.41597 3.29741C7.77447 2.7235 6.92838 2.375 6 2.375C3.99797 2.375 2.375 3.99797 2.375 6C2.375 8.00203 3.99797 9.625 6 9.625C7.72469 9.625 9.16888 8.42017 9.53518 6.80591C9.58101 6.60393 9.78189 6.47736 9.98386 6.52319C10.1858 6.56902 10.3124 6.7699 10.2666 6.97187C9.82447 8.92025 8.08257 10.375 6 10.375C3.58375 10.375 1.625 8.41625 1.625 6Z"
      fill="#1E96EB"
    />
  </g>
  <defs>
    <clipPath id="clip0_6505_24239">
      <rect width="12" height="12" fill="white" />
    </clipPath>
  </defs>
</svg>`,nA=ed.Qol({width:"16",height:"16"}),nH=ed.FYP({width:"16",height:"16"}),nL=ed.Qol({width:"20",height:"20"}),nD=["http","https","ftp","sftp","mailto","tel"],nZ=/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,nj=RegExp("^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,6}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$","i");function nV(e){return nD.find(t=>e.startsWith(t+":"))?e:nZ.test(e)?"mailto:"+e:"http://"+e}function nR(e){if(!e)return!1;let t=nV(e);if(t===e){try{new URL(t)}catch{return!1}return!0}return nj.test(t)}let nz=["com","org","net","edu","gov","co","io","me","moe","mil","top","dev","xyz","info","cat","ru","de","jp","uk","pro"];function nF(){return"light"===im.Q.mode?{LoadingIcon:nx,EmbedCardBannerIcon:nC,EmbedCardHorizontalIcon:nS,EmbedCardListIcon:nE,EmbedCardVerticalIcon:nB,EmbedCardCubeIcon:nT}:{LoadingIcon:n_,EmbedCardBannerIcon:nk,EmbedCardHorizontalIcon:nM,EmbedCardListIcon:nI,EmbedCardVerticalIcon:n$,EmbedCardCubeIcon:nO}}function nN(e){try{return new URL(e).hostname}catch{return e}}function nq(e){e.stopPropagation()}var nU=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},nW=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("affine-database-link-node")],s=[],o=P.ao,r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;nU(this,null,[(0,L.MZ)({attribute:!1})],{kind:"accessor",name:"link",static:!1,private:!1,access:{has:e=>"link"in e,get:e=>e.link,set:(e,t)=>{e.link=t}},metadata:n},r,a),nU(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    .link-node {
      word-break: break-all;
      color: var(--affine-link-color);
      fill: var(--affine-link-color);
      cursor: pointer;
      font-weight: normal;
      font-style: normal;
      text-decoration: none;
    }
  `}render(){return nR(this.link)?(0,H.qy)`<a
      class="link-node"
      href=${this.link}
      rel="noopener noreferrer"
      target="_blank"
      ><span class="link-node-text">${this.link}</span></a
    >`:(0,H.qy)`<span class="normal-text">${this.link}</span>`}#e_=nW(this,r,void 0);get link(){return this.#e_}set link(e){this.#e_=e}constructor(){super(...arguments),nW(this,a)}static{nW(t,s)}})})();let nG=oi("link").modelConfig({name:"Link",type:()=>og.create(),defaultData:()=>({}),cellToString:e=>e?.toString()??"",cellFromString:e=>({value:e}),cellToJson:e=>e??null,isEmpty:e=>null==e||0==e.length});var nY=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},nK=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let nX=(()=>{let e,t,i=[(0,L.EM)("affine-database-link-cell")],s=[],o=sf,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;nY(this,null,[(0,L.wk)()],{kind:"accessor",name:"docId",static:!1,private:!1,access:{has:e=>"docId"in e,get:e=>e.docId,set:(e,t)=>{e.docId=t}},metadata:n},r,a),nY(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    affine-database-link-cell {
      width: 100%;
      user-select: none;
    }

    affine-database-link-cell:hover .affine-database-link-icon {
      visibility: visible;
    }

    .affine-database-link {
      display: flex;
      position: relative;
      align-items: center;
      width: 100%;
      height: 100%;
      outline: none;
      overflow: hidden;
      font-size: var(--data-view-cell-text-size);
      line-height: var(--data-view-cell-text-line-height);
      word-break: break-all;
    }

    affine-database-link-node {
      flex: 1;
      word-break: break-all;
    }

    .affine-database-link-icon {
      position: absolute;
      right: 0;
      display: flex;
      align-items: center;
      visibility: hidden;
      cursor: pointer;
      background: var(--affine-background-primary-color);
      border-radius: 4px;
    }
    .affine-database-link-icon:hover {
      background: var(--affine-hover-color);
    }

    .affine-database-link-icon svg {
      width: 16px;
      height: 16px;
      fill: var(--affine-icon-color);
    }
    .data-view-link-column-linked-doc {
      text-decoration: underline;
      text-decoration-color: var(--affine-divider-color);
      transition: text-decoration-color 0.2s ease-out;
      cursor: pointer;
    }
    .data-view-link-column-linked-doc:hover {
      text-decoration-color: var(--affine-icon-color);
    }
  `}render(){let e=this.value??"",t=this.docId&&this.std?.collection.getDoc(this.docId)?.meta?.title;return(0,ic.qy)`
      <div class="affine-database-link" @click="${this._onClick}">
        ${t?(0,ic.qy)`<span
              class="data-view-link-column-linked-doc"
              @click="${this.openDoc}"
              >${t}</span
            >`:(0,ic.qy)`<affine-database-link-node
              .link="${e}"
            ></affine-database-link-node>`}
        <div class="affine-database-link-icon" @click="${this._onEdit}">
          ${eB}
        </div>
      </div>
    `}updated(){if(this.value!==this.preValue){let e=this.std;if(this.preValue=this.value,!this.value||!nR(this.value)){this.docId=void 0;return}let t=e?.spec.getService("affine:page").quickSearchService?.searchDoc({userInput:this.value,skipSelection:!0});t?.then(e=>{if(e&&"docId"in e){this.docId=e.docId;return}this.docId=void 0}).catch(()=>{this.docId=void 0})}}get std(){let e=this.view.getContext(sd);return e?.std}#eC;get docId(){return this.#eC}set docId(e){this.#eC=e}constructor(){super(...arguments),this._onClick=e=>{e.stopPropagation();let t=this.value??"";if(!t||!nR(t)){this.selectCurrentCell(!0);return}if(nR(t)){let t=e.target.querySelector(".link-node");t&&(e.preventDefault(),t.click());return}},this._onEdit=e=>{e.stopPropagation(),this.selectCurrentCell(!0)},this.openDoc=e=>{if(e.stopPropagation(),!this.docId)return;let t=this.std,i=t?.doc.root?.id;if(!i)return;let s=t?.view.viewFromPath("block",[i]);(0,V.Z1)(s),s.slots.docLinkClicked.emit({docId:this.docId})},this.#eC=nK(this,r,void 0),nK(this,a)}static{nK(t,s)}},t})(),nQ=(()=>{let e,t,i=[(0,L.EM)("affine-database-link-cell-editing")],s=[],o=sf,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;nY(this,null,[(0,L.P)(".affine-database-link-editing")],{kind:"accessor",name:"_container",static:!1,private:!1,access:{has:e=>"_container"in e,get:e=>e._container,set:(e,t)=>{e._container=t}},metadata:n},r,a),nY(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    affine-database-link-cell-editing {
      width: 100%;
      cursor: text;
    }

    .affine-database-link-editing {
      display: flex;
      align-items: center;
      width: 100%;
      padding: 0;
      border: none;
      font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
      color: var(--affine-text-primary-color);
      font-weight: 400;
      background-color: transparent;
      font-size: var(--data-view-cell-text-size);
      line-height: var(--data-view-cell-text-line-height);
      word-break: break-all;
    }

    .affine-database-link-editing:focus {
      outline: none;
    }
  `}firstUpdated(){this._focusEnd()}onExitEditMode(){this._setValue()}render(){let e=this.value??"";return(0,ic.qy)`<input
      class="affine-database-link-editing link"
      .value=${e}
      @keydown=${this._onKeydown}
      @pointerdown=${nq}
    />`}#ek;get _container(){return this.#ek}set _container(e){this.#ek=e}constructor(){super(...arguments),this._focusEnd=()=>{let e=this._container.value.length;this._container.focus(),this._container.setSelectionRange(e,e)},this._onKeydown=e=>{"Enter"!==e.key||e.isComposing||(this._setValue(),setTimeout(()=>{this.selectCurrentCell(!1)}))},this._setValue=(e=this._container.value)=>{let t=e;nR(e)&&(t=nV(e)),this.onChange(t),this._container.value=t},this.#ek=nK(this,r,void 0),nK(this,a)}static{nK(t,s)}},t})(),nJ=nG.renderConfig({icon:oe("LinkIcon"),cellRenderer:{view:sx(nX),edit:sx(nQ)}}),n1=(0,H.AH)`
  .menu-item {
    position: relative;
    width: 100%;
    display: flex;
    flex-direction: row;
    align-items: center;
    padding: 4px var(--item-padding, 12px);
    gap: 4px;
    align-self: stretch;
    border-radius: 4px;
    box-sizing: border-box;
  }
  .menu-item:hover {
    background: var(--affine-hover-color);
    cursor: pointer;
  }
  .item-icon {
    display: flex;
    color: var(--item-icon-color, var(--affine-brand-color));
  }
  .menu-item:hover .item-icon {
    color: var(--item-icon-hover-color, var(--affine-brand-color));
  }
  .menu-item.discard:hover {
    background: var(--affine-background-error-color);
    .item-name,
    .item-icon,
    .enter-icon {
      color: var(--affine-error-color);
    }
  }
  .item-name {
    display: flex;
    padding: 0px 4px;
    align-items: baseline;
    flex: 1 0 0;
    color: var(--affine-text-primary-color);
    text-align: start;
    white-space: nowrap;
    font-feature-settings:
      'clig' off,
      'liga' off;
    font-size: var(--affine-font-sm);
    font-style: normal;
    font-weight: 400;
    line-height: 22px;
  }

  .item-beta {
    color: var(--affine-text-secondary-color);
    font-size: var(--affine-font-xs);
    font-weight: 500;
    margin-left: 0.5em;
  }

  .enter-icon,
  .arrow-right-icon {
    color: var(--affine-icon-color);
    display: flex;
  }
  .enter-icon {
    opacity: 0;
  }
  .arrow-right-icon,
  .menu-item:hover .enter-icon {
    opacity: 1;
  }
`;var n0=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},n2=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,P.fF)({host:P.By.instanceOf(P.AE),item:P.By.object}),(0,L.EM)("ai-sub-item-list")],n=[],l=(0,P.Tm)(H.WF),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],n0(this,null,i,{kind:"accessor",name:"abortController",static:!1,private:!1,access:{has:e=>"abortController"in e,get:e=>e.abortController,set:(e,t)=>{e.abortController=t}},metadata:v},c,d),n0(this,null,s,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:v},h,u),n0(this,null,o,{kind:"accessor",name:"item",static:!1,private:!1,access:{has:e=>"item"in e,get:e=>e.item,set:(e,t)=>{e.item=t}},metadata:v},p,f),n0(this,null,r,{kind:"accessor",name:"onClick",static:!1,private:!1,access:{has:e=>"onClick"in e,get:e=>e.onClick,set:(e,t)=>{e.onClick=t}},metadata:v},g,m),n0(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    .ai-sub-menu {
      display: flex;
      flex-direction: column;
      box-sizing: border-box;
      padding: 8px;
      min-width: 240px;
      max-height: 320px;
      overflow-y: auto;
      background: var(--affine-background-overlay-panel-color);
      box-shadow: var(--affine-shadow-2);
      border-radius: 8px;
      z-index: var(--affine-z-index-popover);
      font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
      color: var(--affine-text-primary-color);
      text-align: justify;
      font-feature-settings:
        'clig' off,
        'liga' off;
      font-size: var(--affine-font-sm);
      font-style: normal;
      font-weight: 400;
      line-height: 22px;
      user-select: none;
    }
    ${n1}
  `}render(){return!this.item.subItem||this.item.subItem.length<=0?H.s6:(0,H.qy)`<div class="ai-sub-menu">
      ${this.item.subItem?.map(e=>H.qy`<div
            class="menu-item"
            @click=${()=>this._handleClick(e)}
          >
            <div class="item-name">${e.type}</div>
            <span class="enter-icon">${ry}</span>
          </div>`)}
    </div>`}#eS;get abortController(){return this.#eS}set abortController(e){this.#eS=e}#n;get host(){return this.#n}set host(e){this.#n=e}#eM;get item(){return this.#eM}set item(e){this.#eM=e}#eE;get onClick(){return this.#eE}set onClick(e){this.#eE=e}constructor(){super(...arguments),this._handleClick=e=>{e.handler&&e.handler(this.host),this.abortController.abort(),this.onClick?.()},this.#eS=n2(this,c,new AbortController),this.#n=(n2(this,d),n2(this,h,void 0)),this.#eM=(n2(this,u),n2(this,p,void 0)),this.#eE=(n2(this,f),n2(this,g,void 0)),n2(this,m)}static{n2(t,n)}})})();var n5=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},n7=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,P.fF)({host:P.By.instanceOf(P.AE),item:P.By.object}),(0,L.EM)("ai-item")],n=[],l=(0,P.Tm)(H.WF),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.P)(".menu-item")],r=[(0,L.MZ)({attribute:!1})],n5(this,null,i,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:v},c,d),n5(this,null,s,{kind:"accessor",name:"item",static:!1,private:!1,access:{has:e=>"item"in e,get:e=>e.item,set:(e,t)=>{e.item=t}},metadata:v},h,u),n5(this,null,o,{kind:"accessor",name:"menuItem",static:!1,private:!1,access:{has:e=>"menuItem"in e,get:e=>e.menuItem,set:(e,t)=>{e.menuItem=t}},metadata:v},p,f),n5(this,null,r,{kind:"accessor",name:"onClick",static:!1,private:!1,access:{has:e=>"onClick"in e,get:e=>e.onClick,set:(e,t)=>{e.onClick=t}},metadata:v},g,m),n5(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    ${n1}
  `}render(){let{item:e}=this,t=e.name.split(" ").join("-").toLocaleLowerCase();return(0,H.qy)`<div
      class="menu-item ${t}"
      @pointerdown=${e=>e.stopPropagation()}
      @click=${()=>{"function"==typeof e.handler&&e.handler(this.host),this.onClick?.()}}
    >
      <span class="item-icon">${e.icon}</span>
      <div class="item-name">
        ${e.name}${e.beta?(0,H.qy)`<div class="item-beta">(Beta)</div>`:H.s6}
      </div>
      ${e.subItem?(0,H.qy)`<span class="arrow-right-icon">${rb}</span>`:(0,H.qy)`<span class="enter-icon">${ry}</span>`}
    </div>`}#n=n7(this,c,void 0);get host(){return this.#n}set host(e){this.#n=e}#eM=(n7(this,d),n7(this,h,void 0));get item(){return this.#eM}set item(e){this.#eM=e}#eI=(n7(this,u),n7(this,p,null));get menuItem(){return this.#eI}set menuItem(e){this.#eI=e}#eE=(n7(this,f),n7(this,g,void 0));get onClick(){return this.#eE}set onClick(e){this.#eE=e}constructor(){super(...arguments),n7(this,m)}static{n7(t,n)}})})();var n3=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},n4=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,P.fF)({host:P.By.instanceOf(P.AE)}),(0,L.EM)("ai-item-list")],a=[],n=(0,P.Tm)(H.WF),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],n3(this,null,i,{kind:"accessor",name:"groups",static:!1,private:!1,access:{has:e=>"groups"in e,get:e=>e.groups,set:(e,t)=>{e.groups=t}},metadata:f},l,c),n3(this,null,s,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:f},d,h),n3(this,null,o,{kind:"accessor",name:"onClick",static:!1,private:!1,access:{has:e=>"onClick"in e,get:e=>e.onClick,set:(e,t)=>{e.onClick=t}},metadata:f},u,p),n3(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      flex-direction: column;
      gap: 2px;
      width: 100%;
      font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
      user-select: none;
    }
    .group-name {
      display: flex;
      padding: 4px calc(var(--item-padding, 8px) + 4px);
      align-items: center;
      color: var(--affine-text-secondary-color);
      text-align: justify;
      font-size: var(--affine-font-xs);
      font-style: normal;
      font-weight: 500;
      line-height: 20px;
      width: 100%;
      box-sizing: border-box;
    }
  `}render(){return(0,H.qy)`${(0,D.u)(this.groups,e=>(0,H.qy)`
        ${e.name?(0,H.qy)`<div class="group-name">
              ${e.name.toLocaleUpperCase()}
            </div>`:H.s6}
        ${(0,D.u)(e.items,e=>(0,H.qy)`<ai-item
              .onClick=${()=>{this.onClick?.()}}
              .item=${e}
              .host=${this.host}
              class=${this._itemClassName(e)}
              @mouseover=${()=>{this._openSubMenu(e)}}
            ></ai-item>`)}
      `)}`}#eB;get groups(){return this.#eB}set groups(e){this.#eB=e}#n;get host(){return this.#n}set host(e){this.#n=e}#eE;get onClick(){return this.#eE}set onClick(e){this.#eE=e}constructor(){super(...arguments),this._abortController=null,this._activeSubMenuItem=null,this._closeSubMenu=()=>{this._abortController&&(this._abortController.abort(),this._abortController=null),this._activeSubMenuItem=null},this._itemClassName=e=>"ai-item-"+e.name.split(" ").join("-").toLocaleLowerCase(),this._openSubMenu=e=>{if(!e.subItem||0===e.subItem.length){this._closeSubMenu();return}if(e===this._activeSubMenuItem)return;let t=this.shadowRoot?.querySelector(`.${this._itemClassName(e)}`);if(!t||!t.menuItem)return;this._closeSubMenu(),this._activeSubMenuItem=e,this._abortController=new AbortController,this._abortController.signal.addEventListener("abort",()=>{this._closeSubMenu()});let i=t.menuItem,s={mainAxis:e.subItemOffset?.[0]??12,crossAxis:e.subItemOffset?.[1]??-60};ri({template:(0,H.qy)`<ai-sub-item-list
        .item=${e}
        .host=${this.host}
        .onClick=${this.onClick}
        .abortController=${this._abortController}
      ></ai-sub-item-list>`,container:i,computePosition:{referenceElement:i,placement:"right-start",middleware:[(0,oG.UU)(),(0,oG.cY)(s)],autoUpdate:!0},abortController:this._abortController,closeOnClickAway:!0})},this.#eB=n4(this,l,[]),this.#n=(n4(this,c),n4(this,d,void 0)),this.#eE=(n4(this,h),n4(this,u,void 0)),n4(this,p)}static{n4(t,a)}})})();class n6 extends Error{}!function(e){e.GeneralNetworkError="GeneralNetworkError",e.PaymentRequired="PaymentRequired",e.Unauthorized="Unauthorized"}(o||(o={}));class n8 extends n6{constructor(){super("Unauthorized"),this.type=o.Unauthorized}}class n9 extends n6{constructor(){super("Payment required"),this.type=o.PaymentRequired}}class le extends n6{constructor(e="Network error"){super(e),this.type=o.GeneralNetworkError}}var lt=i(8834),li=i(23156),ls=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},lo=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("block-caption-editor")],n=[],l=(0,P.Tm)(P.ao),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.wk)()],o=[(0,L.wk)()],r=[(0,L.P)(".block-caption-editor")],ls(this,null,i,{kind:"accessor",name:"block",static:!1,private:!1,access:{has:e=>"block"in e,get:e=>e.block,set:(e,t)=>{e.block=t}},metadata:v},c,d),ls(this,null,s,{kind:"accessor",name:"caption",static:!1,private:!1,access:{has:e=>"caption"in e,get:e=>e.caption,set:(e,t)=>{e.caption=t}},metadata:v},h,u),ls(this,null,o,{kind:"accessor",name:"display",static:!1,private:!1,access:{has:e=>"display"in e,get:e=>e.display,set:(e,t)=>{e.display=t}},metadata:v},p,f),ls(this,null,r,{kind:"accessor",name:"input",static:!1,private:!1,access:{has:e=>"input"in e,get:e=>e.input,set:(e,t)=>{e.input=t}},metadata:v},g,m),ls(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    .block-caption-editor {
      display: inline-table;
      resize: none;
      width: 100%;
      outline: none;
      border: 0;
      background: transparent;
      color: var(--affine-icon-color);
      font-size: var(--affine-font-sm);
      font-family: inherit;
      text-align: center;
    }
    .block-caption-editor::placeholder {
      color: var(--affine-placeholder-color);
    }
  `}_onCaptionKeydown(e){if(e.stopPropagation(),!this.block.isInSurface&&!e.isComposing&&"Enter"===e.key){e.preventDefault();let t=this.block.doc,i=e.target,s=i.selectionStart;if(null===s)return;let o=this.block.model,r=t.getParent(o);if(!r)return;let a=i.value,n=a.slice(0,s);t.updateBlock(o,{caption:n});let l=a.slice(s),c=r.children.indexOf(o),d=t.addBlock("affine:paragraph",{text:new v.EY(l)},r,c+1);li.Km(this.block.host,d)?.catch(console.error)}}_onInputBlur(){this._focus=!1,this.display=!!this.caption?.length}_onInputChange(e){let t=e.target;this.caption=t.value,this.block.doc.updateBlock(this.block.model,{caption:this.caption})}_onInputFocus(){this._focus=!0}connectedCallback(){super.connectedCallback(),this.caption=this.block.model.caption,this.disposables.add(this.block.model.propsUpdated.on(({key:e})=>{"caption"!==e||(this.caption=this.block.model.caption,this._focus||(this.display=!!this.caption?.length))}))}render(){return this.display||this.caption?(0,H.qy)`<textarea
      .disabled=${this.block.doc.readonly}
      placeholder="Write a caption"
      class="block-caption-editor"
      .value=${this.caption??""}
      @input=${this._onInputChange}
      @focus=${this._onInputFocus}
      @blur=${this._onInputBlur}
      @pointerdown=${lt.dG}
      @click=${lt.dG}
      @dblclick=${lt.dG}
      @cut=${lt.dG}
      @copy=${lt.dG}
      @paste=${lt.dG}
      @keydown=${this._onCaptionKeydown}
      @keyup=${lt.dG}
    ></textarea>`:H.s6}#e$;get block(){return this.#e$}set block(e){this.#e$=e}#eT;get caption(){return this.#eT}set caption(e){this.#eT=e}#e;get display(){return this.#e}set display(e){this.#e=e}#eO;get input(){return this.#eO}set input(e){this.#eO=e}constructor(){super(...arguments),this._focus=!1,this.show=()=>{this.display=!0,this.updateComplete.then(()=>this.input.focus()).catch(console.error)},this.#e$=lo(this,c,void 0),this.#eT=(lo(this,d),lo(this,h,void 0)),this.#e=(lo(this,u),lo(this,p,!1)),this.#eO=(lo(this,f),lo(this,g,void 0)),lo(this,m)}static{lo(t,n)}})})();var lr=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},la=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,L.EM)("affine-block-selection")],a=[],n=(0,sh.Jb)(H.WF),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],lr(this,null,i,{kind:"accessor",name:"block",static:!1,private:!1,access:{has:e=>"block"in e,get:e=>e.block,set:(e,t)=>{e.block=t}},metadata:f},l,c),lr(this,null,s,{kind:"accessor",name:"borderRadius",static:!1,private:!1,access:{has:e=>"borderRadius"in e,get:e=>e.borderRadius,set:(e,t)=>{e.borderRadius=t}},metadata:f},d,h),lr(this,null,o,{kind:"accessor",name:"borderWidth",static:!1,private:!1,access:{has:e=>"borderWidth"in e,get:e=>e.borderWidth,set:(e,t)=>{e.borderWidth=t}},metadata:f},u,p),lr(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    :host {
      position: absolute;
      z-index: 1;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      background-color: var(--affine-hover-color);
      border-color: transparent;
      border-style: solid;
    }
  `}connectedCallback(){super.connectedCallback(),this.style.borderRadius=`${this.borderRadius}px`,0!==this.borderWidth&&(this.style.boxSizing="content-box",this.style.transform=`translate(-${this.borderWidth}px, -${this.borderWidth}px)`),this.style.borderWidth=`${this.borderWidth}px`}updated(e){super.updated(e),this.style.display=this.block.selected?.is("block")?"block":"none"}#e$=la(this,l,void 0);get block(){return this.#e$}set block(e){this.#e$=e}#eP=(la(this,c),la(this,d,5));get borderRadius(){return this.#eP}set borderRadius(e){this.#eP=e}#eA=(la(this,h),la(this,u,0));get borderWidth(){return this.#eA}set borderWidth(e){this.#eA=e}constructor(){super(...arguments),la(this,p)}static{la(t,a)}})})();var ln=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ll=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let lc=(()=>{let e=P.p_,t=[],i=[];return class extends e{static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(e[Symbol.metadata]??null):void 0;ln(this,null,[(0,L.P)(".affine-block-component > block-caption-editor")],{kind:"accessor",name:"_captionEditor",static:!1,private:!1,access:{has:e=>"_captionEditor"in e,get:e=>e._captionEditor,set:(e,t)=>{e._captionEditor=t}},metadata:s},t,i),s&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}constructor(){super(),this.addRenderer(this._renderWithWidget)}_renderWithWidget(e){let t=(0,Z.W)({position:"relative",...this.blockContainerStyles});return(0,H.qy)`<div style=${t} class="affine-block-component">
      ${e}
      ${this.useCaptionEditor?(0,H.qy)`<block-caption-editor .block=${this}></block-caption-editor>`:H.s6}
      ${this.showBlockSelection?(0,H.qy)`<affine-block-selection .block=${this}></affine-block-selection>`:H.s6}
    </div>`}get captionEditor(){return this.useCaptionEditor&&this._captionEditor||console.error("Oops! Please enable useCaptionEditor before accessing captionEditor"),this._captionEditor}#eH=ll(this,t,void 0);get _captionEditor(){return this.#eH}set _captionEditor(e){this.#eH=e}#eL=void ll(this,i);get blockContainerStyles(){return this.#eL}set blockContainerStyles(e){this.#eL=e}#eD=!0;get showBlockSelection(){return this.#eD}set showBlockSelection(e){this.#eD=e}#eZ=!1;get useCaptionEditor(){return this.#eZ}set useCaptionEditor(e){this.#eZ=e}}})(),ld=new Map,lh=new Map;var lu=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},lp=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let lf=(()=>{let e,t,i=[(0,L.EM)("affine-drag-indicator")],s=[],o=H.WF,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;lu(this,null,[(0,L.MZ)({attribute:!1})],{kind:"accessor",name:"rect",static:!1,private:!1,access:{has:e=>"rect"in e,get:e=>e.rect,set:(e,t)=>{e.rect=t}},metadata:n},r,a),lu(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    .affine-drag-indicator {
      position: absolute;
      top: 0;
      left: 0;
      background: var(--affine-primary-color);
      transition-property: width, height, transform;
      transition-duration: 100ms;
      transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      transition-delay: 0s;
      transform-origin: 0 0;
      pointer-events: none;
      z-index: 2;
    }
  `}render(){if(!this.rect)return null;let{left:e,top:t,width:i,height:s}=this.rect,o=(0,Z.W)({width:`${i}px`,height:`${s}px`,transform:`translate(${e}px, ${t}px)`});return(0,H.qy)`<div class="affine-drag-indicator" style=${o}></div>`}#ej=lp(this,r,null);get rect(){return this.#ej}set rect(e){this.#ej=e}constructor(){super(...arguments),lp(this,a)}static{lp(t,s)}},t})();class lg{static{this._dropResult=null}constructor(e,t){this._onDrop=e=>{this._indicator.rect=null;let{onDrop:t}=this._fileDropOptions;if(!t)return;let i=e.dataTransfer;if(!i||"none"===i.effectAllowed)return;let s=i.files;if(!s||!s.length)return;e.preventDefault();let{targetModel:o,type:r}=this,{x:a,y:n}=e;t({files:[...s],targetModel:o,place:r,point:[a,n]})?.catch(console.error)},this.onDragLeave=()=>{lg._dropResult=null,this._indicator.rect=null},this.onDragOver=e=>{e.preventDefault();let t=e.dataTransfer;if(!t||"none"===t.effectAllowed)return;let{clientX:i,clientY:s}=e,o=new g.b(i,s),r=(0,st.hF)(o.clone()),a=null;if(r){let e=(0,st.BE)(r),t=this.doc.getParent(e);(0,st.op)(t,["affine:surface"])||(a=(0,st.Ip)(o,e,r))}a?(lg._dropResult=a,this._indicator.rect=a.rect):(lg._dropResult=null,this._indicator.rect=null)},this._blockService=e,this._fileDropOptions=t,this._indicator=document.querySelector("affine-drag-indicator"),this._indicator||(this._indicator=document.createElement("affine-drag-indicator"),document.body.append(this._indicator)),t.onDrop&&this._blockService.disposables.addFromEvent(this._blockService.std.host,"drop",this._onDrop)}get doc(){return this._blockService.doc}get editorHost(){return this._blockService.std.host}get targetModel(){let e=lg._dropResult?.modelState.model||null;if(!e&&(0,st.zU)(this.editorHost)){let t=this.doc.root;(0,V.Z1)(t);let i=t.children[t.children.length-1];if(!i||!(0,st.op)(i,["affine:note"])){let e=this.doc.addBlock("affine:note",{},t.id),s=this.doc.getBlockById(e);(0,V.Z1)(s),i=s}let s=i.children[i.children.length-1];if(s)e=s;else{let t=this.doc.addBlock("affine:paragraph",{},i,0),s=this.doc.getBlockById(t);(0,V.Z1)(s),e=s}}return e}get type(){return lg._dropResult&&"before"===lg._dropResult.type?"before":"after"}}let lm=(e=!0)=>{let t=!1;return({event:i,floatingElement:s})=>{let o=t;return"mouseover"===i.type?o!==(t=!0)||!!e&&(!s||!s.isConnected):"mouseleave"===i.type?!!(o!==(t=!1)||e&&s?.isConnected):(console.warn("Unknown event type in hover middleware",i),!0)}},lv=e=>{let t=new AbortController;return async({event:i})=>{t.abort();let s=new AbortController;return t=s,"mouseover"!==i.type||e<=0||(await (0,A.yy)(e,s.signal),!s.signal.aborted)}},ly=e=>{let t=new AbortController;return async({event:i})=>{t.abort();let s=new AbortController;return t=s,"mouseleave"!==i.type||e<=0||(await (0,A.yy)(e,s.signal),!s.signal.aborted)}};function lb({x:e,y:t},{x:i,y:s},{x:o,y:r},{x:a,y:n}){let l=(i-e)*(n-r)-(a-o)*(s-t);if(0===l)return!1;{let c=((n-r)*(a-e)+(o-a)*(n-t))/l,d=((t-s)*(a-e)+(i-e)*(n-t))/l;return 0<c&&c<1&&0<d&&d<1}}function lw({x:e,y:t},i,s=0){return e>=i.left-s&&e<=i.right+s&&t>=i.top-s&&t<=i.bottom-s}let lx=(e,t)=>{let i={x:t.x+t.width/2,y:t.y+t.height/2},s={x:t.x,y:t.y},o={x:t.right,y:t.y},r={x:t.x,y:t.bottom},a={x:t.right,y:t.bottom};return lb(e,i,r,a)?["top",r,a]:lb(e,i,s,o)?["bottom",s,o]:lb(e,i,s,r)?["right",s,r]:lb(e,i,o,a)?["left",o,a]:null},l_=({zIndex:e=1e4,buffer:t=2,idleTimeout:i=40,debug:s=!1}={})=>{let o=new AbortController;return async({event:r,referenceElement:a,floatingElement:n})=>{o.abort();let l=new AbortController;if(o=l,"mouseleave"!==r.type||r.target!==a)return!0;if(!(r instanceof MouseEvent))return console.warn("Unknown event type in hover middleware",r),!0;if(!n)return!0;let c=r.x,d=r.y,h=a.getBoundingClientRect(),u=n.getBoundingClientRect();if(lw({x:c,y:d},h))return!0;let p=lx({x:c,y:d},u);if(!p)return!0;let f=p[0];if("top"===f&&d>=h.bottom-1||"bottom"===f&&d<=h.top+1||"left"===f&&c>=h.right-1||"right"===f&&c<=h.left+1)return!0;let g=document.createElementNS("http://www.w3.org/2000/svg","svg"),m=document.createElementNS("http://www.w3.org/2000/svg","path"),v=(i,s)=>{if(l.signal.aborted)return;i>=u.left&&i<=u.right&&s>=u.top&&s<=u.bottom&&l.abort();let o={x:i,y:s},r=p[1],a=p[2],n={x:Math.min(o.x,r.x,a.x)-t,y:Math.min(o.y,r.y,a.y)-t},c=Math.max(Math.abs(o.y-r.y),Math.abs(o.y-a.y),Math.abs(r.y-a.y)),d=Math.max(Math.abs(o.x-r.x),Math.abs(o.x-a.x),Math.abs(r.x-a.x));Object.assign(g.style,{position:"fixed",pointerEvents:"none",width:d+2*t,height:c+2*t,zIndex:e,top:0,left:0,transform:`translate(${n.x}px, ${n.y}px)`}),m.setAttributeNS(null,"d",`M${o.x-n.x} ${o.y-n.y} ${r.x-n.x} ${r.y-n.y} ${a.x-n.x} ${a.y-n.y} z`)};m.setAttributeNS(null,"pointer-events","auto"),m.setAttributeNS(null,"fill","transparent"),m.setAttributeNS(null,"stroke-width",t.toString()),m.setAttributeNS(null,"stroke","transparent"),s&&m.setAttributeNS(null,"stroke","red"),v(c,d),g.append(m),document.body.append(g),o.signal.addEventListener("abort",()=>g.remove());let y=0,b=window.setTimeout(()=>l.abort(),i);return g.addEventListener("mousemove",e=>{clearTimeout(b),b=window.setTimeout(()=>l.abort(),i),cancelAnimationFrame(y),y=requestAnimationFrame(()=>v(e.clientX,e.clientY))},{signal:l.signal}),await new Promise(e=>{l.signal.aborted&&e(),l.signal.addEventListener("abort",()=>e()),g.addEventListener("mouseleave",()=>l.abort(),{signal:l.signal})}),!0}},lC=({debug:e=!1,idleTimeout:t=500}={})=>{let i=new AbortController;return async({event:s,referenceElement:o,floatingElement:r})=>{i.abort();let a=new AbortController;if(i=a,"mouseleave"!==s.type||s.target!==o)return!0;if(!(s instanceof MouseEvent))return console.warn("Unknown event type in hover middleware",s),!0;if(!r)return!0;let n=(t,i)=>{let s;if(a.signal.aborted)return!1;let n={x:t,y:i},l=o.getBoundingClientRect(),c=r.getBoundingClientRect(),d=lx(n,c);if(!d)return!1;let h=d[0];if("top"===h&&i>l.top+1||"bottom"===h&&i<l.bottom-1||"left"===h&&t>l.left+1||"right"===h&&t<l.right-1)return!1;switch(h){case"top":s=new DOMRect(Math.max(c.left,l.left),c.bottom,Math.min(c.right,l.right)-Math.max(c.left,l.left),l.top-c.bottom);break;case"bottom":s=new DOMRect(Math.max(c.left,l.left),l.bottom,Math.min(c.right,l.right)-Math.max(c.left,l.left),c.top-l.bottom);break;case"left":s=new DOMRect(c.right,Math.max(c.top,l.top),l.left-c.right,Math.min(c.bottom,l.bottom)-Math.max(c.top,l.top));break;case"right":s=new DOMRect(l.right,Math.max(c.top,l.top),c.left-l.right,Math.min(c.bottom,l.bottom)-Math.max(c.top,l.top));break;default:return!1}let u=lw(n,s,1);if(u&&e){let e="debug-rectangle-bridge-rect",t=document.querySelector(`#${e}`)??document.createElement("div");t.id=e,Object.assign(t.style,{position:"fixed",pointerEvents:"none",background:"aqua",opacity:"0.3",top:s.top+"px",left:s.left+"px",width:s.width+"px",height:s.height+"px"}),document.body.append(t),a.signal.addEventListener("abort",()=>t.remove())}return u};return!n(s.x,s.y)||(await new Promise(e=>{a.signal.aborted&&e(),a.signal.addEventListener("abort",()=>e());let i=window.setTimeout(()=>a.abort(),t);document.addEventListener("mousemove",e=>{clearTimeout(i),i=window.setTimeout(()=>a.abort(),t),n(e.clientX,e.clientY)||a.abort()},{signal:a.signal})}),!0)}},lk=(e,{enterDelay:t=0,leaveDelay:i=250,alwayRunWhenNoFloating:s=!0,safeTriangle:o=!1,safeBridge:r=!0}={})=>{let a,n;let l=new AbortController,c=[lm(s),o&&l_("boolean"==typeof o?void 0:o),r&&lC("boolean"==typeof r?void 0:r),lv(t),ly(i)].filter(e=>"boolean"!=typeof e),d=null,h=async t=>{for(let e of(d=t,c))if(!await e({event:t,floatingElement:n,referenceElement:a}))return;t===d&&e("mouseover"===t.type,t)},u=e=>{e&&(e.matches(":hover")&&!l.signal.aborted&&h(new MouseEvent("mouseover")),e.addEventListener("mouseover",h,{capture:!0,signal:l.signal}),e.addEventListener("mouseleave",h,{signal:l.signal}))},p=e=>{e&&(e.removeEventListener("mouseover",h),e.removeEventListener("mouseleave",h))};return{setReference:e=>{p(a),u(e),a=e},setFloating:e=>{p(n),u(e),n=e},dispose:()=>{l.abort()}}},lS={transition:{duration:100,in:{opacity:"1",transition:"opacity 0.1s ease-in-out"},out:{opacity:"0",transition:"opacity 0.1s ease-in-out"}},setPortalAsFloating:!0,allowMultiple:!1},lM=({portal:e,hoverOptions:t,abortController:i})=>{if(!e||!t.transition){i.abort();return}Object.assign(e.style,t.transition.out),e.addEventListener("transitionend",()=>{i.abort()},{signal:i.signal}),e.addEventListener("transitioncancel",()=>{i.abort()},{signal:i.signal}),setTimeout(()=>i.abort(),t.transition.duration)};class lE{constructor(e,t,i){this._disposables=new ix.K,this._isHovering=!1,this._setReference=()=>{console.error("setReference is not ready")},this.onAbort=()=>{this.abort()},this._hoverOptions={...lS,...i},(this.host=e).addController(this),this._onHover=t}abort(e=!1){if(this._abortController){if(e){this._abortController.abort();return}lM({portal:this._portal,hoverOptions:this._hoverOptions,abortController:this._abortController})}}hostConnected(){this._disposables.disposed&&(this._disposables=new ix.K);let{setReference:e,setFloating:t,dispose:i}=lk(i=>{if(!this.host.isConnected)return;if(this._isHovering=i,!i){this.onAbort();return}if(this._abortController)return;this._abortController=new AbortController,this._abortController.signal.addEventListener("abort",()=>{this._abortController=void 0}),this._hoverOptions.allowMultiple||(lE.globalAbortController?.abort(),lE.globalAbortController=this._abortController);let s=this._onHover({setReference:e,abortController:this._abortController});if(!s){this._abortController.abort();return}this._portal=ri({...s,abortController:this._abortController});let o=this._hoverOptions.transition;o&&Object.assign(this._portal.style,o.in),this._hoverOptions.setPortalAsFloating&&t(this._portal)},this._hoverOptions);this._setReference=e,this._disposables.add(i)}hostDisconnected(){this._abortController?.abort(),this._disposables.dispose()}get isHovering(){return this._isHovering}get portal(){return this._portal}get setReference(){return this._setReference}}var lI=i(9013),lB=i(45601),l$=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},lT=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let lO=e=>"select"===e.type,lP=(()=>{let e,t,i,s,o,r=[(0,L.EM)("affine-menu")],a=[],n=(0,P.Tm)(P.ao),l=[],c=[],d=[],h=[],u=[],p=[];var f=class extends n{static{t=this}static{let g="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.MZ)({attribute:!1})],l$(this,null,i,{kind:"accessor",name:"_selectedIndex",static:!1,private:!1,access:{has:e=>"_selectedIndex"in e,get:e=>e._selectedIndex,set:(e,t)=>{e._selectedIndex=t}},metadata:g},l,c),l$(this,null,s,{kind:"accessor",name:"_text",static:!1,private:!1,access:{has:e=>"_text"in e,get:e=>e._text,set:(e,t)=>{e._text=t}},metadata:g},d,h),l$(this,null,o,{kind:"accessor",name:"options",static:!1,private:!1,access:{has:e=>"options"in e,get:e=>e.options,set:(e,t)=>{e.options=t}},metadata:g},u,p),l$(null,e={value:t},r,{kind:"class",name:t.name,metadata:g},null,a),f=t=e.value,g&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:g})}static{this.styles=(0,H.AH)`
    affine-menu {
      font-family: var(--affine-font-family);
      display: flex;
      flex-direction: column;
      user-select: none;
      min-width: 276px;
      box-shadow: var(--affine-shadow-2);
      border-radius: 8px;
      background-color: var(--affine-background-overlay-panel-color);
      padding: 8px;
      position: absolute;
      z-index: 999;
    }

    affine-menu * {
      box-sizing: border-box;
    }

    .affine-menu-body {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .affine-menu-header {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
    }

    /* .affine-menu-header .icon {
    } */
    .affine-menu-header input {
      flex: 1;
      border-radius: 4px;
      outline: none;
      font-size: 14px;
      line-height: 22px;
      padding: 5px 12px;
      border: 1px solid var(--affine-border-color);
    }

    .affine-menu-header input::placeholder {
      color: var(--affine-placeholder-color);
    }

    .affine-menu-header input:focus {
      border: 1px solid var(--affine-primary-color);
    }

    .affine-menu-action {
      padding: 4px 12px;
      cursor: pointer;
      display: flex;
      gap: 4px;
      border-radius: 4px;
    }

    .affine-menu-action svg {
      width: 20px;
      height: 20px;
    }

    .affine-menu-action .icon {
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--affine-icon-color);
      fill: var(--affine-icon-color);
    }

    .affine-menu-action .content {
      border-radius: 4px;
      cursor: pointer;
      white-space: nowrap;
      justify-content: space-between;
      display: flex;
      align-items: center;
      font-size: 14px;
      line-height: 22px;
      flex: 1;
      gap: 8px;
    }

    .affine-menu-action.selected {
      background-color: var(--affine-hover-color);
    }

    .affine-menu-action.selected.delete-item {
      background-color: var(--affine-background-error-color);
      color: var(--affine-error-color);
    }

    .affine-menu-action.selected.delete-item .icon > svg {
      color: var(--affine-error-color);
    }

    .affine-menu-action.selected-item {
      color: var(--affine-text-emphasis-color);
    }

    .affine-menu-action.selected-item .icon {
      color: var(--affine-text-emphasis-color);
      fill: currentColor;
    }

    .database-menu-component-action-button:hover {
      background-color: rgba(0, 0, 0, 0.1);
    }

    .no-results {
      font-size: 12px;
      line-height: 20px;
      color: var(--affine-text-secondary-color);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 8px;
    }

    .affine-menu-action-text {
      flex: 1;
      padding: 0 4px;
    }
  `}_isConsciousChoice(){return Date.now()<this.initTime+100}clearSubMenu(){this.subMenu?.remove(),this.subMenu=void 0,this.focusInput()}close(){this.options.onClose?.()}focusInput(){this.inputRef.value?.focus()}getChecked(e){return this._checked[e]}get isSearchMode(){return this.options.input?.search}get minIndex(){return this.isSearchMode?0:-1}process(e){return this.show(e)?this.processMap[e.type](e):[]}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let t=null!=this._selectedIndex?this.selectableItems[this._selectedIndex]:void 0;if(t?.onHover?.(!1),null==e){this._selectedIndex=e;return}let i=(0,iy.Kf)(e??this.minIndex,this.minIndex,this.selectableItems.length);this._selectedIndex=i,this.selectableItems[i]?.onHover?.(!0)}get selectedItem(){return null!=this.selectedIndex?this.selectableItems[this.selectedIndex]:void 0}setChecked(e,t){this._checked[e]=t,this.requestUpdate()}show(e){if(this.isSearchMode){if("group"===e.type)return!e.hide?.();if("custom"===e.type)return 0===this.text.length;if(!e.name.toLowerCase().includes(this.text.toLowerCase()))return!1}return!e.hide?.()}showHeader(){return!this.isSearchMode||!!this.text}get text(){return this._text??this.options.input?.initValue??""}set text(e){this._text=e}disconnectedCallback(){super.disconnectedCallback(),this.selectedItem?.onHover?.(!1)}firstUpdated(){this.initTime=Date.now();let e=this.inputRef.value;if(e){requestAnimationFrame(()=>{this.focusInput()});let t=e.value.length;e.setSelectionRange(t,t),this._disposables.addFromEvent(e,"keydown",e=>{if(e.stopPropagation(),"Escape"===e.key){this.close();return}if("Enter"===e.key&&!e.isComposing){let e=this.selectedItem;e?e.select():(this.options.input?.onComplete?.(this.text),this._complete());return}if("ArrowUp"===e.key){e.preventDefault(),this.selectedIndex=null!=this.selectedIndex?this.selectedIndex-1:this.minIndex;return}if("ArrowDown"===e.key){e.preventDefault(),this.selectedIndex=null!=this.selectedIndex?this.selectedIndex+1:this.minIndex;return}}),this._disposables.addFromEvent(e,"copy",e=>{e.stopPropagation()}),this._disposables.addFromEvent(e,"cut",e=>{e.stopPropagation()})}}processItems(){this.allItems=[],this.selectableItems=[],this.options.items.flatMap(e=>this.process(e)).forEach(e=>{let t=lO(e);this.allItems.push({...e,index:t?this.selectableItems.length:void 0}),t&&this.selectableItems.push(e)})}render(){this.processItems(),this.selectedIndex=this._selectedIndex;let e=this.showHeader(),t=(0,Z.W)({opacity:e?"1":"0",height:e?void 0:"0",overflow:e?void 0:"hidden",position:e?void 0:"absolute"}),i=this.selectableItems.length>0&&e&&this.options.input?.divider!==!1;return(0,H.qy)`
      <div
        class="affine-menu"
        style=${(0,lI.J)(this.options.style)}
        @click="${this._clickContainer}"
      >
        ${this.options.input?(0,H.qy)` <div
                class="affine-menu-header"
                style=${t}
                @mouseenter="${this.mouseEnterHeader}"
              >
                ${this.options.input.icon?(0,H.qy)`<div class="icon">${this.options.input.icon}</div>`:H.s6}
                <input
                  autocomplete="off"
                  data-1p-ignore
                  ${(0,lB.K)(this.inputRef)}
                  type="text"
                  placeholder="${this.options.input?.placeholder??""}"
                  value="${this.text??this.options.input?.initValue??""}"
                  @input="${this._inputText}"
                />
              </div>
              ${i?(0,H.qy)`<menu-divider style="width: 100%"></menu-divider>`:null}`:null}
        <div class="affine-menu-body">
          ${0===this.selectableItems.length&&this.isSearchMode?(0,H.qy)` <div class="no-results">No Results</div>`:""}
          ${(0,D.u)(this.allItems,(e,t)=>{let i=e.index,s=0===i,o=e.upDivider||this.allItems[t-1]?.downDivider,r=()=>{this._mouseEnter(i)};if("ui"===e.type)return(0,H.qy)`
                ${o?(0,H.qy)`<menu-divider style="width: 100%"></menu-divider>`:null}
                <div @mouseenter=${r}>${e.render()}</div>
              `;let a=e.class||"affine-menu-item",n=(0,oJ.H)({"affine-menu-action":!0,selected:"select"===e.type&&this._selectedIndex===i,[a]:!0});return(0,H.qy)`
              ${o&&!s?(0,H.qy)`<menu-divider style="width: 100%"></menu-divider>`:null}
              <div
                class="${n}"
                @click=${()=>{lO(e)&&e.select()}}
                @mouseenter=${r}
              >
                <div class="content">${e.label()}</div>
              </div>
            `})}
        </div>
      </div>
    `}#eV;get _selectedIndex(){return this.#eV}set _selectedIndex(e){this.#eV=e}#eR;get _text(){return this.#eR}set _text(e){this.#eR=e}#ez;get options(){return this.#ez}set options(e){this.#ez=e}constructor(){super(...arguments),this._checked={},this._clickContainer=e=>{e.stopPropagation(),this.focusInput()},this._complete=()=>{this.options.onComplete?.(),this.close()},this._inputText=e=>{let t=e.target;this.text=t.value},this._mouseEnter=e=>{this._isConsciousChoice()||e===this.selectedIndex||(this.selectedIndex=e,this.clearSubMenu(),this.selectedItem?.mouseEnter?.())},this.allItems=[],this.initTime=0,this.inputRef=(0,lB._)(),this.processMap={action:e=>{let t=e.icon?(0,H.qy)` <div class="icon">${e.icon}</div>`:H.s6,i=e.postfix??(e.isSelected?rw:void 0),s=i?(0,H.qy)` <div class="icon">${i}</div>`:H.s6;return[{type:"select",label:()=>(0,H.qy)`
            ${t}
            <div class="affine-menu-action-text">
              ${e.label?.()??e.name}
            </div>
            ${s}
          `,onHover:e.onHover,select:()=>{e.select(),this._complete()},class:e.class??(e.isSelected?"selected-item":"")}]},checkbox:e=>{let t=e.postfix?(0,H.qy)` <div class="icon">${e.postfix}</div>`:H.s6,i=this.getChecked(e.name)??e.checked;return[{type:"select",label:()=>(0,H.qy)`
            <div class="icon">
              ${i?oj():oV()}
            </div>
            <div class="affine-menu-action-text">
              ${e.label?.()??e.name}
            </div>
            ${t}
          `,select:()=>{this.setChecked(e.name,e.select(i))},class:e.class??""}]},"toggle-switch":e=>{let t=e.postfix?(0,H.qy)` <div class="icon">${e.postfix}</div>`:H.s6,i=t=>{e.onChange(t)};return[{type:"normal",label:()=>(0,H.qy)`
            <div class="affine-menu-action-text">
              ${e.label?.()??e.name}
            </div>

            <toggle-switch .on=${e.on} .onChange=${i}></toggle-switch>
            ${t}
          `,class:e.class??""}]},group:e=>{let t=e.children().flatMap(e=>this.process(e));return t[0]&&(t[0].upDivider=!0),t[t.length-1]&&(t[t.length-1].downDivider=!0),t},"sub-menu":e=>{let t=()=>{this.subMenu?.remove(),setTimeout(()=>{let t=new f,i=e.options;t.options={...i,onClose:()=>{i.onClose?.(),this.clearSubMenu()},onComplete:()=>{this._complete()}},this.append(t),(0,oG.rD)(this,t,{placement:"right-start",middleware:[(0,oG.UU)({fallbackPlacements:["left-start","right-end","left-end"]}),(0,oG.cY)(4)]}).then(({x:e,y:i})=>{Object.assign(t.style,{left:`${e}px`,top:`${i}px`})}).catch(console.error),this.subMenu=t})},i=(0,H.qy)` <div class="icon">
        ${e.postfix??tL}
      </div>`;return[{type:"select",label:()=>(0,H.qy)`${e.icon?(0,H.qy)` <div class="icon">${e.icon}</div>`:H.s6}
              <div class="affine-menu-action-text">
                ${e.label?.()??e.name}
              </div>
              ${i}`,mouseEnter:t,select:()=>{e.select?.(),e.select?this._complete():t()},class:e.isSelected?"selected-item":""}]},custom:e=>[{type:"ui",render:e.render}]},this.mouseEnterHeader=()=>{this.isSearchMode||this._mouseEnter(-1)},this.#eV=lT(this,l,void 0),this.#eR=(lT(this,c),lT(this,d,void 0)),this.#ez=(lT(this,h),lT(this,u,void 0)),lT(this,p)}static{lT(t,a)}};return f=t})(),lA=e=>(e.closest("editor-host")??e.closest(".data-view-popup-container"))||document.body,lH=(e=document.body)=>{let t=document.createElement("div");return t.style.pointerEvents="auto",t.style.position="absolute",t.style.left="0",t.style.top="0",t.style.width="100%",t.style.height="100%",t.style.zIndex="1001",t.style.fontFamily="var(--affine-font-family)",e.append(t),t},lL=(e,t,i)=>{let s=lH(i?.container??lA(e));return(0,oG.ll)(e,t,()=>{(0,oG.rD)(e,t,{placement:i?.placement,middleware:i?.middleware??[(0,oG.BN)({crossAxis:!0})]}).then(({x:e,y:i})=>{Object.assign(t.style,{left:`${e}px`,top:`${i}px`})}).catch(console.error)}),s.append(t),s.onmousedown=e=>{e.target===s&&(s.remove(),i?.onClose?.())},s.oncontextmenu=e=>{e.preventDefault(),e.target===s&&(s.remove(),i?.onClose?.())},()=>s.remove()},lD=(e,t)=>{let i=new lP;i.options={...t.options,onClose:()=>{t.options.onClose?.(),s()}};let s=lL(e,i,{onClose:t.options.onClose,middleware:t.middleware,container:t.container,placement:t.placement});return{close:s}},lZ=(e,t,i)=>{lD(e,{options:{input:{placeholder:"Search",search:!0},items:t,onClose:i}})};var lj=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},lV=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o=[(0,L.EM)("menu-divider")],r=[],a=H.WF,n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],lj(this,null,i,{kind:"accessor",name:"dividerMargin",static:!1,private:!1,access:{has:e=>"dividerMargin"in e,get:e=>e.dividerMargin,set:(e,t)=>{e.dividerMargin=t}},metadata:h},n,l),lj(this,null,s,{kind:"accessor",name:"vertical",static:!1,private:!1,access:{has:e=>"vertical"in e,get:e=>e.vertical,set:(e,t)=>{e.vertical=t}},metadata:h},c,d),lj(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=(0,H.AH)`
    :host {
      display: inline-block;
    }

    .divider {
      background-color: var(--affine-border-color);
    }

    .divider.vertical {
      width: 1px;
      height: 100%;
      margin: 0 var(--divider-margin);
    }

    .divider.horizontal {
      width: 100%;
      height: 1px;
      margin: var(--divider-margin) 0;
    }
  `}render(){let e=(0,Z.W)({"--divider-margin":`${this.dividerMargin}px`});return(0,H.qy)`<div
      class="divider ${this.vertical?"vertical":"horizontal"}"
      style=${e}
    ></div>`}#eF=lV(this,n,7);get dividerMargin(){return this.#eF}set dividerMargin(e){this.#eF=e}#eN=(lV(this,l),lV(this,c,!1));get vertical(){return this.#eN}set vertical(e){this.#eN=e}constructor(){super(...arguments),lV(this,d)}static{lV(t,r)}})})();class lR{constructor(e,t){this.target=e,this.enable=t,this.getRootService=()=>this.target.std.spec.getService("affine:page"),this.peek=e=>Promise.resolve(this.getRootService().peekViewService?.peek(this.target,e))}get peekable(){return!!this.getRootService().peekViewService&&(!this.enable||this.enable(this.target))}}let lz=Symbol("peekable"),lF=e=>Reflect.has(e,lz)&&e[lz]?.peekable,lN=(e,t)=>{lF(e)&&e[lz]?.peek(t)},lq=(e={action:["double-click","shift-click"]})=>(t,i)=>{var s;(0,V.Z1)("class"===i.kind),void 0===e.action&&(e.action=["double-click","shift-click"]);let o=Array.isArray(e.action)?e.action:e.action?[e.action]:[];return class extends t{constructor(){super(...arguments),this[s]=new lR(this,e.enableOn)}static{s=lz}connectedCallback(){super.connectedCallback();let t=(e.selector?this.querySelector(e.selector):this)||this;o.includes("double-click")&&this.disposables.addFromEvent(t,"dblclick",e=>{this[lz].peekable&&(e.stopPropagation(),this[lz].peek().catch(console.error))}),o.includes("shift-click")&&this.disposables.addFromEvent(t,"click",e=>{e.shiftKey&&this[lz].peekable&&(e.stopPropagation(),e.stopImmediatePropagation(),this[lz].peek().catch(console.error))})}}},lU=e=>{let[t,i]=e.std.command.chain().tryAll(e=>[e.getTextSelection(),e.getBlockSelections()]).getSelectedBlocks({types:["text","block"]}).run();return((t?i.selectedBlocks:[])||[]).filter(lF)},lW=(e,t)=>{let i=lU(e);i.length>0&&t({selectedPeekableBlocks:i})},lG=(e,t)=>{let i=lU(e).at(0);i&&(lN(i),t())};var lY=i(67448);let lK=["code","link"],lX=[],lQ=e=>{if(" "!==e.data)return;if(e.attributes?.link){e.inlineRange.index===e.inlineEditor.yText.length&&delete e.attributes.link;return}let t=e.inlineEditor.getLine(e.inlineRange.index);if(!t)return;let{line:i,lineIndex:s,rangeIndexRelatedToLine:o}=t;if(0!==s)return;let r=i.vTextContent.slice(0,o).split(" "),a=r[r.length-1];if(!function(e){return!!nR(e)&&!!function(e){let t=e.hostname.split(".").pop();return!!t&&nz.includes(t)}(new URL(nV(e)))}(a))return;let n=e.inlineRange.index-a.length;e.inlineEditor.formatText({index:n,length:a.length},{link:a})};function lJ(e){let{data:t,inlineEditor:i,inlineRange:s}=e,o=i.getDeltasByInlineRange(s);if(t&&t.length>0&&"\n"!==t&&(o.length>1||1===o.length&&0!==s.index)&&!i.isEmbed(o[0][0])){let{attributes:t}=o[0][0];(1!==o.length||s.index===i.yText.length)&&lK.forEach(e=>{delete t?.[e]}),lX.forEach(e=>{delete t?.[e]}),e.attributes=t??{}}return e}let l1=e=>{lJ(e),lQ(e)},l0=e=>{lJ(e)};var l2=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},l5=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let l7=(()=>{let e,t,i,s,o,r,a,n,l,c,d,h,u,p,f,g,m,y,b,w=[(0,L.EM)("rich-text")],x=[],_=(0,P.Tm)(P.ao),C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[],O=[],A=[],D=[],Z=[],j=[],R=[],z=[],F=[],N=[],q=[],U=[],W=[],G=[],Y=[],K=[],X=[],Q=[],J=[],ee=[],et=[],ei=[],es=[],eo=[],er=[],ea=[];return class extends _{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(_[Symbol.metadata]??null):void 0;i=[(0,L.P)(".inline-editor")],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({attribute:!1})],c=[(0,L.MZ)({attribute:!1})],d=[(0,L.MZ)({attribute:!1})],h=[(0,L.MZ)({attribute:!1})],u=[(0,L.MZ)({attribute:!1})],p=[(0,L.MZ)({attribute:!1})],f=[(0,L.MZ)({attribute:!1})],g=[(0,L.MZ)({attribute:!1})],m=[(0,L.MZ)({attribute:!1})],y=[(0,L.MZ)({attribute:!1})],b=[(0,L.MZ)({attribute:!1})],l2(this,null,i,{kind:"accessor",name:"_inlineEditorContainer",static:!1,private:!1,access:{has:e=>"_inlineEditorContainer"in e,get:e=>e._inlineEditorContainer,set:(e,t)=>{e._inlineEditorContainer=t}},metadata:v},C,k),l2(this,null,s,{kind:"accessor",name:"attributeRenderer",static:!1,private:!1,access:{has:e=>"attributeRenderer"in e,get:e=>e.attributeRenderer,set:(e,t)=>{e.attributeRenderer=t}},metadata:v},S,M),l2(this,null,o,{kind:"accessor",name:"attributesSchema",static:!1,private:!1,access:{has:e=>"attributesSchema"in e,get:e=>e.attributesSchema,set:(e,t)=>{e.attributesSchema=t}},metadata:v},E,I),l2(this,null,r,{kind:"accessor",name:"embedChecker",static:!1,private:!1,access:{has:e=>"embedChecker"in e,get:e=>e.embedChecker,set:(e,t)=>{e.embedChecker=t}},metadata:v},B,$),l2(this,null,a,{kind:"accessor",name:"enableAutoScrollHorizontally",static:!1,private:!1,access:{has:e=>"enableAutoScrollHorizontally"in e,get:e=>e.enableAutoScrollHorizontally,set:(e,t)=>{e.enableAutoScrollHorizontally=t}},metadata:v},T,O),l2(this,null,n,{kind:"accessor",name:"enableClipboard",static:!1,private:!1,access:{has:e=>"enableClipboard"in e,get:e=>e.enableClipboard,set:(e,t)=>{e.enableClipboard=t}},metadata:v},A,D),l2(this,null,l,{kind:"accessor",name:"enableFormat",static:!1,private:!1,access:{has:e=>"enableFormat"in e,get:e=>e.enableFormat,set:(e,t)=>{e.enableFormat=t}},metadata:v},Z,j),l2(this,null,c,{kind:"accessor",name:"enableUndoRedo",static:!1,private:!1,access:{has:e=>"enableUndoRedo"in e,get:e=>e.enableUndoRedo,set:(e,t)=>{e.enableUndoRedo=t}},metadata:v},R,z),l2(this,null,d,{kind:"accessor",name:"inlineEventSource",static:!1,private:!1,access:{has:e=>"inlineEventSource"in e,get:e=>e.inlineEventSource,set:(e,t)=>{e.inlineEventSource=t}},metadata:v},F,N),l2(this,null,h,{kind:"accessor",name:"inlineRangeProvider",static:!1,private:!1,access:{has:e=>"inlineRangeProvider"in e,get:e=>e.inlineRangeProvider,set:(e,t)=>{e.inlineRangeProvider=t}},metadata:v},q,U),l2(this,null,u,{kind:"accessor",name:"markdownShortcutHandler",static:!1,private:!1,access:{has:e=>"markdownShortcutHandler"in e,get:e=>e.markdownShortcutHandler,set:(e,t)=>{e.markdownShortcutHandler=t}},metadata:v},W,G),l2(this,null,p,{kind:"accessor",name:"readonly",static:!1,private:!1,access:{has:e=>"readonly"in e,get:e=>e.readonly,set:(e,t)=>{e.readonly=t}},metadata:v},Y,K),l2(this,null,f,{kind:"accessor",name:"undoManager",static:!1,private:!1,access:{has:e=>"undoManager"in e,get:e=>e.undoManager,set:(e,t)=>{e.undoManager=t}},metadata:v},X,Q),l2(this,null,g,{kind:"accessor",name:"vLineRenderer",static:!1,private:!1,access:{has:e=>"vLineRenderer"in e,get:e=>e.vLineRenderer,set:(e,t)=>{e.vLineRenderer=t}},metadata:v},J,ee),l2(this,null,m,{kind:"accessor",name:"verticalScrollContainerGetter",static:!1,private:!1,access:{has:e=>"verticalScrollContainerGetter"in e,get:e=>e.verticalScrollContainerGetter,set:(e,t)=>{e.verticalScrollContainerGetter=t}},metadata:v},et,ei),l2(this,null,y,{kind:"accessor",name:"wrapText",static:!1,private:!1,access:{has:e=>"wrapText"in e,get:e=>e.wrapText,set:(e,t)=>{e.wrapText=t}},metadata:v},es,eo),l2(this,null,b,{kind:"accessor",name:"yText",static:!1,private:!1,access:{has:e=>"yText"in e,get:e=>e.yText,set:(e,t)=>{e.yText=t}},metadata:v},er,ea),l2(null,e={value:t},w,{kind:"class",name:t.name,metadata:v},null,x),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}#eq;static{this.styles=(0,H.AH)`
    rich-text {
      display: block;
      height: 100%;
      width: 100%;
      overflow-x: auto;

      scroll-margin-top: 50px;
      scroll-margin-bottom: 30px;
    }

    .inline-editor {
      height: 100%;
      width: 100%;
      outline: none;
      cursor: text;
    }

    .inline-editor.readonly {
      cursor: default;
    }

    rich-text .nowrap-lines v-text span,
    rich-text .nowrap-lines v-element span {
      white-space: pre !important;
    }
  `}_init(){if(this._inlineEditor){console.error("Inline editor already exists.");return}this.enableFormat||(this.attributesSchema=lY.z.object({})),this._inlineEditor=new si.hq(this._yText,{isEmbed:e=>this.embedChecker(e),hooks:{beforeinput:l1,compositionEnd:l0},inlineRangeProvider:this.inlineRangeProvider,vLineRenderer:this.vLineRenderer}),this.attributesSchema&&this._inlineEditor.setAttributeSchema(this.attributesSchema),this.attributeRenderer&&this._inlineEditor.setAttributeRenderer(this.attributeRenderer);let e=this._inlineEditor,t=this.markdownShortcutHandler;if(t){let i=(0,si.BS)(e,{inputRule:{key:[" ","Enter"],handler:e=>t(e,this.undoManager)}});e.disposables.addFromEvent(this.inlineEventSource??this.inlineEditorContainer,"keydown",i)}e.disposables.add(e.slots.inlineRangeUpdate.on(([t])=>{if(!t)return;let i=this.#eq||(this.#eq=this.verticalScrollContainerGetter?.()||null);e.waitForUpdate().then(()=>{if(!e.mounted)return;let s=e.toDomRange(t);if(s){if(i){let e=i.getBoundingClientRect(),t=s.getBoundingClientRect();t.top<e.top?this.scrollIntoView({block:"start"}):t.bottom>e.bottom&&this.scrollIntoView({block:"end"})}if(this.enableAutoScrollHorizontally){let e=this.getBoundingClientRect(),t=s.getBoundingClientRect(),i=this.scrollLeft;t.left+t.width>e.left+e.width&&(i+=t.left+t.width-(e.left+e.width)+2),this.scrollLeft=i}}}).catch(console.error)})),e.mount(this.inlineEditorContainer,this.inlineEventSource,this.readonly)}_unmount(){this.inlineEditor?.mounted&&this.inlineEditor.unmount(),this._inlineEditor=null}get _yText(){return this.yText instanceof v.EY?this.yText.yText:this.yText}connectedCallback(){if(super.connectedCallback(),!this._yText){console.error("rich-text need yText to init.");return}if(!this._yText.doc){console.error("yText should be bind to yDoc.");return}this.undoManager||(this.undoManager=new v.rl.Y.UndoManager(this._yText,{trackedOrigins:new Set([this._yText.doc.clientID])})),this.enableUndoRedo&&(this.disposables.addFromEvent(this,"keydown",e=>{(e.ctrlKey||e.metaKey)&&("z"===e.key||"Z"===e.key)&&(e.shiftKey?this.undoManager.redo():this.undoManager.undo(),e.stopPropagation())}),this.undoManager.on("stack-item-added",this._onStackItemAdded),this.undoManager.on("stack-item-popped",this._onStackItemPopped),this.disposables.add({dispose:()=>{this.undoManager.off("stack-item-added",this._onStackItemAdded),this.undoManager.off("stack-item-popped",this._onStackItemPopped)}})),this.enableClipboard&&(this.disposables.addFromEvent(this,"copy",this._onCopy),this.disposables.addFromEvent(this,"cut",this._onCut),this.disposables.addFromEvent(this,"paste",this._onPaste)),this.updateComplete.then(()=>{this._unmount(),this._init(),this.disposables.add({dispose:()=>{this._unmount()}})}).catch(console.error)}async getUpdateComplete(){let e=await super.getUpdateComplete();return await this.inlineEditor?.waitForUpdate(),e}render(){let e=(0,oJ.H)({"inline-editor":!0,"nowrap-lines":!this.wrapText,readonly:this.readonly});return(0,H.qy)`<div
      contenteditable=${this.readonly?"false":"true"}
      class=${e}
    ></div>`}updated(e){this._inlineEditor&&e.has("readonly")&&this._inlineEditor.setReadonly(this.readonly)}get inlineEditor(){return this._inlineEditor}get inlineEditorContainer(){return(0,V.Z1)(this._inlineEditorContainer),this._inlineEditorContainer}#eU;get _inlineEditorContainer(){return this.#eU}set _inlineEditorContainer(e){this.#eU=e}#eW;get attributeRenderer(){return this.#eW}set attributeRenderer(e){this.#eW=e}#eG;get attributesSchema(){return this.#eG}set attributesSchema(e){this.#eG=e}#eY;get embedChecker(){return this.#eY}set embedChecker(e){this.#eY=e}#eK;get enableAutoScrollHorizontally(){return this.#eK}set enableAutoScrollHorizontally(e){this.#eK=e}#eX;get enableClipboard(){return this.#eX}set enableClipboard(e){this.#eX=e}#eQ;get enableFormat(){return this.#eQ}set enableFormat(e){this.#eQ=e}#eJ;get enableUndoRedo(){return this.#eJ}set enableUndoRedo(e){this.#eJ=e}#e1;get inlineEventSource(){return this.#e1}set inlineEventSource(e){this.#e1=e}#e0;get inlineRangeProvider(){return this.#e0}set inlineRangeProvider(e){this.#e0=e}#e2;get markdownShortcutHandler(){return this.#e2}set markdownShortcutHandler(e){this.#e2=e}#e5;get readonly(){return this.#e5}set readonly(e){this.#e5=e}#e7;get undoManager(){return this.#e7}set undoManager(e){this.#e7=e}#e3;get vLineRenderer(){return this.#e3}set vLineRenderer(e){this.#e3=e}#e4;get verticalScrollContainerGetter(){return this.#e4}set verticalScrollContainerGetter(e){this.#e4=e}#e6;get wrapText(){return this.#e6}set wrapText(e){this.#e6=e}#e8;get yText(){return this.#e8}set yText(e){this.#e8=e}constructor(){super(...arguments),this.#eq=null,this._inlineEditor=null,this._onCopy=e=>{let t=this.inlineEditor;if(!t)return;let i=t.getInlineRange();if(!i)return;let s=t.yTextString.slice(i.index,i.index+i.length);e.clipboardData?.setData("text/plain",s),e.preventDefault(),e.stopPropagation()},this._onCut=e=>{let t=this.inlineEditor;if(!t)return;let i=t.getInlineRange();if(!i)return;let s=t.yTextString.slice(i.index,i.index+i.length);t.deleteText(i),t.setInlineRange({index:i.index,length:0}),e.clipboardData?.setData("text/plain",s),e.preventDefault(),e.stopPropagation()},this._onPaste=e=>{let t=this.inlineEditor;if(!t)return;let i=t.getInlineRange();if(!i)return;let s=e.clipboardData?.getData("text/plain")?.replace(/\r?\n|\r/g,"\n");s&&(t.insertText(i,s),t.setInlineRange({index:i.index+s.length,length:0}),e.preventDefault(),e.stopPropagation())},this._onStackItemAdded=e=>{let t=this.inlineEditor?.getInlineRange();t&&e.stackItem.meta.set("richtext-v-range",t)},this._onStackItemPopped=e=>{let t=e.stackItem.meta.get("richtext-v-range");t&&this.inlineEditor?.isValidInlineRange(t)&&this.inlineEditor?.setInlineRange(t)},this.#eU=l5(this,C,void 0),this.#eW=(l5(this,k),l5(this,S,void 0)),this.#eG=(l5(this,M),l5(this,E,void 0)),this.#eY=(l5(this,I),l5(this,B,()=>!1)),this.#eK=(l5(this,$),l5(this,T,!0)),this.#eX=(l5(this,O),l5(this,A,!0)),this.#eQ=(l5(this,D),l5(this,Z,!0)),this.#eJ=(l5(this,j),l5(this,R,!0)),this.#e1=(l5(this,z),l5(this,F,void 0)),this.#e0=(l5(this,N),l5(this,q,void 0)),this.#e2=(l5(this,U),l5(this,W,void 0)),this.#e5=(l5(this,G),l5(this,Y,!1)),this.#e7=(l5(this,K),l5(this,X,void 0)),this.#e3=(l5(this,Q),l5(this,J,void 0)),this.#e4=(l5(this,ee),l5(this,et,void 0)),this.#e6=(l5(this,ei),l5(this,es,!0)),this.#e8=(l5(this,eo),l5(this,er,void 0)),l5(this,ea)}static{l5(t,x)}},t})(),l3=null,l4=e=>{let t=document.createElement("template");if("string"==typeof e)e=e.trim(),t.innerHTML=e;else{let i=String.raw(e.strings,...e.values);t.innerHTML=i}return t.content.firstChild},l6=e=>{let t=`
    position: fixed;
    z-index: 9999;
    top: 16px;
    left: 16px;
    right: 16px;
    bottom: 78px;
    pointer-events: none;
    display: flex;
    flex-direction: column-reverse;
    align-items: center;
  `,i=l4((0,H.qy)`<div class="toast-container" style="${t}"></div>`),s=(0,sc.$n)(e);(0,V.Z1)(s);let o=s.viewportElement;return o?.append(i),i},l8=(e,t,i=2500)=>{l3||(l3=l6(e));let s=`
    max-width: 480px;
    text-align: center;
    font-family: ${oY.$7.fontSansFamily};
    font-size: var(--affine-font-sm);
    padding: 6px 12px;
    margin: 10px 0 0 0;
    color: var(--affine-white);
    background: var(--affine-tooltip);
    box-shadow: var(--affine-float-button-shadow);
    border-radius: 10px;
    transition: all 230ms cubic-bezier(0.21, 1.02, 0.73, 1);
    opacity: 0;
  `,o=l4((0,H.qy)`<div style="${s}"></div>`);o.textContent=t,l3.append(o);let r=[{opacity:0},{opacity:1}],a={duration:230,easing:"cubic-bezier(0.21, 1.02, 0.73, 1)",fill:"forwards"};return o.animate(r,a),setTimeout(()=>{let e=r.reverse();o.animate(e,a).finished.then(()=>{o.style.maxHeight="0",o.style.margin="0",o.style.padding="0",o.addEventListener("transitionend",()=>{o.remove()},{once:!0})}).catch(console.error)},i),o};var l9=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ce=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let ct=(0,H.AH)`
  .affine-tooltip {
    box-sizing: border-box;
    max-width: 280px;
    min-height: 32px;
    font-family: var(--affine-font-family);
    font-size: var(--affine-font-sm);
    border-radius: 4px;
    padding: 6px 12px;
    color: var(--affine-white);
    background: var(--affine-tooltip);

    display: flex;
    justify-content: center;
    align-items: center;
  }

  .arrow {
    position: absolute;

    width: 0;
    height: 0;
  }
`,ci={top:{bottom:"-6px",borderStyle:"solid",borderWidth:"6px 5px 0 5px",borderColor:"var(--affine-tooltip) transparent transparent transparent"},right:{left:"-6px",borderStyle:"solid",borderWidth:"5px 6px 5px 0",borderColor:"transparent var(--affine-tooltip) transparent transparent"},bottom:{top:"-6px",borderStyle:"solid",borderWidth:"0 5px 6px 5px",borderColor:"transparent transparent var(--affine-tooltip) transparent"},left:{right:"-6px",borderStyle:"solid",borderWidth:"5px 0 5px 6px",borderColor:"transparent transparent transparent var(--affine-tooltip)"}},cs=({placement:e,middlewareData:t})=>{let i=t.arrow?.x,s=t.arrow?.y;return{left:null!=i?`${i}px`:"",top:null!=s?`${s}px`:"",...ci[e.split("-")[0]]}},co=(()=>{let e,t,i,s,o,r,a,n,l,c,d=[(0,L.EM)("affine-tooltip")],h=[],u=H.WF,p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[];return class extends u{static{t=this}static{let B="function"==typeof Symbol&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:"tip-position"})],l=[(0,L.MZ)({attribute:!1})],c=[(0,L.MZ)({attribute:!1})],l9(this,null,i,{kind:"accessor",name:"allowInteractive",static:!1,private:!1,access:{has:e=>"allowInteractive"in e,get:e=>e.allowInteractive,set:(e,t)=>{e.allowInteractive=t}},metadata:B},p,f),l9(this,null,s,{kind:"accessor",name:"arrow",static:!1,private:!1,access:{has:e=>"arrow"in e,get:e=>e.arrow,set:(e,t)=>{e.arrow=t}},metadata:B},g,m),l9(this,null,o,{kind:"accessor",name:"autoFlip",static:!1,private:!1,access:{has:e=>"autoFlip"in e,get:e=>e.autoFlip,set:(e,t)=>{e.autoFlip=t}},metadata:B},v,y),l9(this,null,r,{kind:"accessor",name:"hoverOptions",static:!1,private:!1,access:{has:e=>"hoverOptions"in e,get:e=>e.hoverOptions,set:(e,t)=>{e.hoverOptions=t}},metadata:B},b,w),l9(this,null,a,{kind:"accessor",name:"offset",static:!1,private:!1,access:{has:e=>"offset"in e,get:e=>e.offset,set:(e,t)=>{e.offset=t}},metadata:B},x,_),l9(this,null,n,{kind:"accessor",name:"placement",static:!1,private:!1,access:{has:e=>"placement"in e,get:e=>e.placement,set:(e,t)=>{e.placement=t}},metadata:B},C,k),l9(this,null,l,{kind:"accessor",name:"tooltipStyle",static:!1,private:!1,access:{has:e=>"tooltipStyle"in e,get:e=>e.tooltipStyle,set:(e,t)=>{e.tooltipStyle=t}},metadata:B},S,M),l9(this,null,c,{kind:"accessor",name:"zIndex",static:!1,private:!1,access:{has:e=>"zIndex"in e,get:e=>e.zIndex,set:(e,t)=>{e.zIndex=t}},metadata:B},E,I),l9(null,e={value:t},d,{kind:"class",name:t.name,metadata:B},null,h),t=e.value,B&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:B})}static{this.styles=(0,H.AH)`
    :host {
      display: none;
    }
  `}_getStyles(){return(0,H.AH)`
      ${ct}
      :host {
        z-index: ${(0,H.iz)(this.zIndex)};
        opacity: 0;
        ${(0,H.iz)(this.style.cssText)}
      }

      ${this.allowInteractive?(0,H.AH)``:(0,H.AH)`
            :host {
              pointer-events: none;
            }
          `}

      ${this.tooltipStyle}
    `}connectedCallback(){super.connectedCallback(),this._setUpHoverController()}getPortal(){return this._hoverController.portal}#e9;get allowInteractive(){return this.#e9}set allowInteractive(e){this.#e9=e}#te;get arrow(){return this.#te}set arrow(e){this.#te=e}#tt;get autoFlip(){return this.#tt}set autoFlip(e){this.#tt=e}#ti;get hoverOptions(){return this.#ti}set hoverOptions(e){this.#ti=e}#ts;get offset(){return this.#ts}set offset(e){this.#ts=e}#to;get placement(){return this.#to}set placement(e){this.#to=e}#tr;get tooltipStyle(){return this.#tr}set tooltipStyle(e){this.#tr=e}#ta;get zIndex(){return this.#ta}set zIndex(e){this.#ta=e}constructor(){super(...arguments),this._setUpHoverController=()=>{this._hoverController=new lE(this,()=>{if(this.hidden)return null;let e={};return{template:({positionSlot:t,updatePortal:i})=>{t.on(t=>{e=this.arrow?cs(t):{},i()});let s=Array.from(this.childNodes).map(e=>e.cloneNode(!0));return(0,H.qy)`
              <style>
                ${this._getStyles()}
              </style>
              <div class="affine-tooltip" role="tooltip">${s}</div>
              <div class="arrow" style=${(0,Z.W)(e)}></div>
            `},computePosition:e=>({referenceElement:this.parentElement,placement:this.placement,middleware:[this.autoFlip&&(0,oG.UU)({padding:12}),(0,oG.cY)((this.arrow?6:0)+this.offset),(0,oG.UE)({element:e.shadowRoot.querySelector(".arrow")})],autoUpdate:!0})}},{leaveDelay:0,safeBridge:!1,allowMultiple:!0,...this.hoverOptions});let e=this.parentElement;(0,V.Z1)(e,"Tooltip must have a parent element"),setTimeout(()=>{this._hoverController.setReference(e)},0)},this.#e9=ce(this,p,!1),this.#te=(ce(this,f),ce(this,g,!0)),this.#tt=(ce(this,m),ce(this,v,!0)),this.#ti=(ce(this,y),ce(this,b,{})),this.#ts=(ce(this,w),ce(this,x,4)),this.#to=(ce(this,_),ce(this,C,"top")),this.#tr=(ce(this,k),ce(this,S,(0,H.AH)``)),this.#ta=(ce(this,M),ce(this,E,"var(--affine-z-index-popover)")),ce(this,I)}static{ce(t,h)}},t})();function cr(e,t){let i=(0,li.oV)();if(!i)return null;if(i.startContainer!==i.endContainer)return console.warn("Failed to parse query! Current range is not collapsed.",i),null;if(i.startContainer.nodeType!==Node.TEXT_NODE)return console.warn("Failed to parse query! Current range is not a text node.",i),null;let s=e.getInlineRange();return t&&s&&!(s.index<t.index)?e.yText.toString().slice(t.index,s.index):null}let ca=({target:e,signal:t,inlineEditor:i,onInput:s,onDelete:o,onMove:r,onConfirm:a,onAbort:n,onPaste:l,interceptor:c=(e,t)=>t()})=>{let d=e=>{i.slots.inlineRangeUpdate.once(e)},h=e=>{if(!e.defaultPrevented){if((0,lt.QI)(e)){if((e.ctrlKey||e.metaKey)&&!e.altKey&&!e.shiftKey&&1===e.key.length)switch(e.key){case"p":r?.(-1),e.stopPropagation(),e.preventDefault();return;case"n":r?.(1),e.stopPropagation(),e.preventDefault();return;case"v":l?.();return}if("Control"===e.key||"Meta"===e.key||"Alt"===e.key){e.stopPropagation();return}n?.();return}if(e.stopPropagation(),!(0,lt.QI)(e)&&1===e.key.length||e.isComposing){d(()=>s?.());return}switch(e.key){case"Escape":case"ArrowLeft":case"ArrowRight":n?.();return;case"Backspace":d(()=>o?.());return;case"Enter":if(e.shiftKey){n?.();return}a?.(),e.preventDefault();return;case"Tab":e.shiftKey?r?.(-1):r?.(1),e.preventDefault();return;case"ArrowUp":if(e.shiftKey){n?.();return}r?.(-1),e.preventDefault();return;case"ArrowDown":if(e.shiftKey){n?.();return}r?.(1),e.preventDefault();return;default:return}}};e.addEventListener("keydown",e=>c(e,()=>h(e)),{capture:!0,signal:t}),e.addEventListener("paste",()=>d(()=>s?.()),{signal:t}),e.addEventListener("input",()=>d(()=>s?.()),{signal:t})};function cn(e,t,i){if(!i){console.warn("Failed to clean text! Unexpected empty string");return}let s=t instanceof v.zg?(0,sc.h9)(e,t):t;if(!s)return;let o=s.getInlineRange();if(!o)return;let r=o.index-i.length,a=s.yText.toString().slice(r,r+i.length);if(a!==i){console.warn(`Failed to clean text! Text mismatch expected: ${i} but actual: ${a}`);return}s.deleteText({index:r,length:i.length}),s.setInlineRange({index:r,length:0})}let cl=e=>e?e.includes("{")||e.includes("}")?(console.error("Invalid container name! Please use a valid CSS selector."),(0,H.AH)``):(0,H.AH)`
    ${(0,H.iz)(e)} {
      scrollbar-gutter: stable;
    }
    ${(0,H.iz)(e)}::-webkit-scrollbar {
      -webkit-appearance: none;
      width: 4px;
    }
    ${(0,H.iz)(e)}::-webkit-scrollbar-thumb {
      border-radius: 2px;
      background-color: #b1b1b1;
    }
    ${(0,H.iz)(e)}::-webkit-scrollbar-corner {
      display: none;
    }
  `:(console.error("To prevent style pollution of the whole doc, you must add a container before the scrollbar style."),(0,H.AH)``),cc=(0,H.AH)`
  affine-multi-tag-select {
    position: absolute;
    z-index: 2;
    border: 1px solid var(--affine-border-color);
    border-radius: 8px;
    background: var(--affine-background-primary-color);
    box-shadow: var(--affine-shadow-2);
    font-family: var(--affine-font-family);
    min-width: 300px;
    max-width: 720px;
  }

  .affine-select-cell-select {
    font-size: var(--affine-font-sm);
  }

  @media print {
    .affine-select-cell-select {
      display: none;
    }
  }

  .select-input-container {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 6px;
    min-height: 44px;
    padding: 10px 8px;
    background: var(--affine-hover-color);
    border-radius: 8px;
  }

  .select-input {
    flex: 1 1 0;
    height: 24px;
    border: none;
    font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
    color: inherit;
    background: transparent;
    line-height: 24px;
  }

  .select-input:focus {
    outline: none;
  }

  .select-input::placeholder {
    color: var(--affine-placeholder-color);
  }

  .select-option-container {
    padding: 8px;
    color: var(--affine-black-90);
    fill: var(--affine-black-90);
    max-height: 400px;
    overflow-y: auto;
  }

  .select-option-container-header {
    padding: 0px 4px 8px 4px;
    color: var(--affine-black-60);
    font-size: 12px;
    user-select: none;
  }

  .select-input-container .select-selected {
    display: flex;
    align-items: center;
    padding: 2px 10px;
    gap: 10px;
    height: 28px;
    background: var(--affine-tag-white);
    border-radius: 4px;
    color: var(--affine-black-90);
    background: var(--affine-tertiary-color);
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .select-selected-text {
    width: calc(100% - 16px);
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .select-selected > .close-icon {
    display: flex;
    align-items: center;
  }

  .select-selected > .close-icon:hover {
    cursor: pointer;
  }

  .select-selected > .close-icon > svg {
    fill: var(--affine-black-90);
  }

  .select-option-new {
    display: flex;
    flex-direction: row;
    align-items: center;
    height: 36px;
    padding: 4px;
    gap: 5px;
    border-radius: 4px;
    background: var(--affine-selected-color);
  }

  .select-option-new-text {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    height: 28px;
    padding: 2px 10px;
    border-radius: 4px;
    background: var(--affine-tag-red);
  }

  .select-option-new-icon {
    display: flex;
    align-items: center;
    gap: 6px;
    height: 28px;
    color: var(--affine-text-primary-color);
    margin-right: 8px;
  }

  .select-option-new-icon svg {
    width: 16px;
    height: 16px;
  }

  .select-option {
    position: relative;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 4px;
    border-radius: 4px;
    margin-bottom: 4px;
    cursor: pointer;
  }

  .select-option.selected {
    background: var(--affine-hover-color);
  }

  .select-option-text-container {
    width: 100%;
    overflow: hidden;
    display: flex;
  }

  .select-option-group-name {
    font-size: 9px;
    padding: 0 2px;
    border-radius: 2px;
  }

  .select-option-name {
    padding: 4px 8px;
    border-radius: 4px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .select-option-icon {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 28px;
    height: 28px;
    border-radius: 3px;
    cursor: pointer;
    opacity: 0;
  }

  .select-option.selected .select-option-icon {
    opacity: 1;
  }

  .select-option-icon:hover {
    background: var(--affine-hover-color);
  }

  .select-option-icon svg {
    width: 16px;
    height: 16px;
    pointer-events: none;
  }
`;var cd=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ch=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let cu=(()=>{let e,t,i,s,o,r,a,n,l,c,d,h=[(0,L.EM)("affine-multi-tag-select")],u=[],p=(0,P.Tm)(P.ao),f=[],g=[],m=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[],O=[];return class extends p{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(p[Symbol.metadata]??null):void 0;i=[(0,L.P)(".select-input")],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)()],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.wk)()],c=[(0,L.wk)()],d=[(0,L.MZ)({attribute:!1})],cd(this,null,i,{kind:"accessor",name:"_selectInput",static:!1,private:!1,access:{has:e=>"_selectInput"in e,get:e=>e._selectInput,set:(e,t)=>{e._selectInput=t}},metadata:v},f,g),cd(this,null,s,{kind:"accessor",name:"editComplete",static:!1,private:!1,access:{has:e=>"editComplete"in e,get:e=>e.editComplete,set:(e,t)=>{e.editComplete=t}},metadata:v},m,y),cd(this,null,o,{kind:"accessor",name:"mode",static:!1,private:!1,access:{has:e=>"mode"in e,get:e=>e.mode,set:(e,t)=>{e.mode=t}},metadata:v},b,w),cd(this,null,r,{kind:"accessor",name:"onChange",static:!1,private:!1,access:{has:e=>"onChange"in e,get:e=>e.onChange,set:(e,t)=>{e.onChange=t}},metadata:v},x,_),cd(this,null,a,{kind:"accessor",name:"onOptionsChange",static:!1,private:!1,access:{has:e=>"onOptionsChange"in e,get:e=>e.onOptionsChange,set:(e,t)=>{e.onOptionsChange=t}},metadata:v},C,k),cd(this,null,n,{kind:"accessor",name:"options",static:!1,private:!1,access:{has:e=>"options"in e,get:e=>e.options,set:(e,t)=>{e.options=t}},metadata:v},S,M),cd(this,null,l,{kind:"accessor",name:"selectedIndex",static:!1,private:!1,access:{has:e=>"selectedIndex"in e,get:e=>e.selectedIndex,set:(e,t)=>{e.selectedIndex=t}},metadata:v},E,I),cd(this,null,c,{kind:"accessor",name:"text",static:!1,private:!1,access:{has:e=>"text"in e,get:e=>e.text,set:(e,t)=>{e.text=t}},metadata:v},B,$),cd(this,null,d,{kind:"accessor",name:"value",static:!1,private:!1,access:{has:e=>"value"in e,get:e=>e.value,set:(e,t)=>{e.value=t}},metadata:v},T,O),cd(null,e={value:t},h,{kind:"class",name:t.name,metadata:v},null,u),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=cc}_filterOptions(){let e=this.optionsIdMap(),t=!1,i=this.options.map(t=>({...t,group:this.getTagGroup(t,e)})).filter(e=>!this.text||this.getTagFullName(e,e.group).toLocaleLowerCase().includes(this.text.toLocaleLowerCase())).map(e=>(this.getTagFullName(e,e.group)===this.text&&(t=!0),{...e,isCreate:!1,select:()=>this._onSelect(e.id)}));return this.text&&!t&&i.push({id:"create",color:this.color,value:this.text,isCreate:!0,group:[],select:this._createOption}),i}clearColor(){this._currentColor=void 0}get color(){return this._currentColor||(this._currentColor=oC()),this._currentColor}getGroupInfoByFullName(e){let t=e.split("/"),i=t.slice(0,-1),s=[];for(let e of i){let t=s[s.length-1],i=this.options.find(i=>i.parentId===t?.id&&i.value===e);if(!i)return;s.push(i)}return{name:t[t.length-1],group:s,parent:s[s.length-1]}}getTagFullName(e,t){return[...t,e].map(e=>e.value).join("/")}getTagGroup(e,t=this.optionsIdMap()){let i=[],s=e.parentId;for(;s;){let e=t[s];i.unshift(e),s=e.parentId}return i}optionsIdMap(){return Object.fromEntries(this.options.map(e=>[e.id,e]))}get selectedTag(){return this.filteredOptions[this.selectedIndex]}setSelectedOption(e){this.selectedIndex=(0,iy.Kf)(e,0,this.filteredOptions.length)}firstUpdated(){requestAnimationFrame(()=>{this._selectInput.focus()}),this._disposables.addFromEvent(this,"click",()=>{this._selectInput.focus()}),this._disposables.addFromEvent(this._selectInput,"copy",e=>{e.stopPropagation()}),this._disposables.addFromEvent(this._selectInput,"cut",e=>{e.stopPropagation()})}render(){this.filteredOptions=this._filterOptions(),this.setSelectedOption(this.selectedIndex);let e=this.value,t=new Map(this.options.map(e=>[e.id,e]));return(0,ic.qy)`
      <div class="affine-select-cell-select">
        <div class="select-input-container">
          ${e.map(i=>{let s=t.get(i);if(!s)return;let o=(0,Z.W)({backgroundColor:s.color});return(0,ic.qy)` <div class="select-selected" style=${o}>
              <div class="select-selected-text">${s.value}</div>
              <span
                class="close-icon"
                @click="${()=>this._onDeleteSelected(e,i)}"
                >${sP}</span
              >
            </div>`})}
          <input
            class="select-input"
            placeholder="Type here..."
            .value="${this.text}"
            @input="${this._onInput}"
            @keydown="${this._onInputKeydown}"
            @pointerdown="${nq}"
          />
        </div>
        <div class="select-option-container">
          <div class="select-option-container-header">
            Select tag or create one
          </div>
          ${(0,D.u)(this.filteredOptions,e=>e.id,(e,t)=>{let i=t===this.selectedIndex,s=(0,oJ.H)({"select-option":!0,selected:i}),o=(0,Z.W)({backgroundColor:e.color});return(0,ic.qy)`
                <div class="${s}" @mouseenter="${()=>{this.setSelectedOption(t)}}">
                  <div
                    class="select-option-text-container"
                    @click="${e.select}"
                  >
                    ${e.isCreate?(0,ic.qy)` <div class="select-option-new-icon">
                          Create ${sj}
                        </div>`:""}
                    <div style="display:flex;flex-direction: column">
                      <div
                        style="display:flex;align-items:center;margin-bottom: 2px;opacity: 0.5;"
                      >
                        ${e.group.map((e,t)=>{let i=(0,Z.W)({backgroundColor:e.color});return(0,ic.qy)`${0===t?"":(0,ic.qy)`<span style="margin: 0 1px">/</span>`}<span
                              class="select-option-group-name"
                              style=${i}
                              >${e.value}</span
                            >`})}
                      </div>
                      <div style="display:flex;">
                        <div style=${o} class="select-option-name">
                          ${e.value}
                        </div>
                      </div>
                    </div>
                  </div>
                  ${e.isCreate?null:(0,ic.qy)` <div
                        class="select-option-icon"
                        @click="${t=>this._clickItemOption(t,e.id)}"
                      >
                        ${sR}
                      </div>`}
                </div>
              `})}
        </div>
      </div>
    `}get isSingleMode(){return"single"===this.mode}#tn;get _selectInput(){return this.#tn}set _selectInput(e){this.#tn=e}#tl;get editComplete(){return this.#tl}set editComplete(e){this.#tl=e}#tc;get mode(){return this.#tc}set mode(e){this.#tc=e}#ef;get onChange(){return this.#ef}set onChange(e){this.#ef=e}#td;get onOptionsChange(){return this.#td}set onOptionsChange(e){this.#td=e}#ez;get options(){return this.#ez}set options(e){this.#ez=e}#th;get selectedIndex(){return this.#th}set selectedIndex(e){this.#th=e}#tu;get text(){return this.#tu}set text(e){this.#tu=e}#ey;get value(){return this.#ey}set value(e){this.#ey=e}constructor(){super(...arguments),this._clickItemOption=(e,t)=>{e.stopPropagation();let i=this.options.find(e=>e.id===t);i&&lD(e.target,{options:{input:{initValue:i.value,onComplete:e=>{this.changeTag({...i,value:e})}},items:[{type:"action",name:"Delete",icon:sV,class:"delete-item",select:()=>{this.deleteTag(t)}},{type:"group",name:"color",children:()=>ox.map(e=>{let t=(0,Z.W)({backgroundColor:e.color,borderRadius:"50%",width:"20px",height:"20px"});return{type:"action",name:e.name,icon:(0,ic.qy)` <div style=${t}></div>`,isSelected:i.color===e.color,select:()=>{this.changeTag({...i,color:e.color})}}})}]},middleware:[(0,oG.RK)()]})},this._createOption=()=>{let e=this.text.trim();if(""===e)return;let t=this.getGroupInfoByFullName(e);if(!t)return;let i=t.name,s=this.color;this.clearColor();let o={id:(0,v.Ak)(),value:i,color:s,parentId:t.parent?.id};this.newTags([o]);let r=this.isSingleMode?[o.id]:[...this.value,o.id];this.onChange(r),this.text="",this.isSingleMode&&this.editComplete()},this._currentColor=void 0,this._onDeleteSelected=(e,t)=>{let i=e.filter(e=>e!==t);this.onChange(i)},this._onInput=e=>{this.text=e.target.value},this._onInputKeydown=e=>{e.stopPropagation();let t=this.text.trim();if("Backspace"===e.key&&""===t)this._onDeleteSelected(this.value,this.value[this.value.length-1]);else if("Enter"!==e.key||e.isComposing){if("ArrowUp"===e.key)e.preventDefault(),this.setSelectedOption(this.selectedIndex-1);else if("ArrowDown"===e.key)e.preventDefault(),this.setSelectedOption(this.selectedIndex+1);else if("Escape"===e.key)this.editComplete();else if("Tab"===e.key){e.preventDefault();let t=this.selectedTag;t&&(this.text=this.getTagFullName(t,t.group))}}else this.selectedTag?.select()},this._onSelect=e=>{if(!this.value.some(t=>t===e)){if(!(this.value.indexOf(e)>-1)){let t=this.isSingleMode?[e]:[...this.value,e];this.onChange(t),this.isSingleMode&&setTimeout(()=>{this.editComplete()},4)}this.text=""}},this.filteredOptions=[],this.changeTag=e=>{this.onOptionsChange(this.options.map(t=>t.id===e.id?e:t))},this.deleteTag=e=>{this.onOptionsChange(this.options.filter(t=>t.id!==e).map(t=>({...t,parentId:t.parentId===e?void 0:t.parentId})))},this.newTags=e=>{this.onOptionsChange([...e,...this.options])},this.#tn=ch(this,f,void 0),this.#tl=(ch(this,g),ch(this,m,void 0)),this.#tc=(ch(this,y),ch(this,b,"multi")),this.#ef=(ch(this,w),ch(this,x,void 0)),this.#td=(ch(this,_),ch(this,C,void 0)),this.#ez=(ch(this,k),ch(this,S,[])),this.#th=(ch(this,M),ch(this,E,0)),this.#tu=(ch(this,I),ch(this,B,"")),this.#ey=(ch(this,$),ch(this,T,[])),ch(this,O)}static{ch(t,u)}},t})(),cp=(e,t)=>{let i=new cu;t.mode&&(i.mode=t.mode),i.style.width=`${Math.max(t.minWidth??e.offsetWidth,e.offsetWidth)}px`,i.value=t.value,i.onChange=e=>{t.onChange(e),i.value=e},i.options=t.options,i.onOptionsChange=e=>{t.onOptionsChange(e),i.options=e},i.editComplete=()=>{t.onComplete?.(),s()};let s=lL(e,i,{onClose:t.onComplete,middleware:[(0,oG.UU)(),(0,oG.cY)({mainAxis:-28,crossAxis:112})],container:t.container});return s};var cf=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},cg=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,L.EM)("affine-multi-tag-view")],a=[],n=(0,P.Tm)(P.ao),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.P)(".affine-select-cell-container")],o=[(0,L.MZ)({attribute:!1})],cf(this,null,i,{kind:"accessor",name:"options",static:!1,private:!1,access:{has:e=>"options"in e,get:e=>e.options,set:(e,t)=>{e.options=t}},metadata:f},l,c),cf(this,null,s,{kind:"accessor",name:"selectContainer",static:!1,private:!1,access:{has:e=>"selectContainer"in e,get:e=>e.selectContainer,set:(e,t)=>{e.selectContainer=t}},metadata:f},d,h),cf(this,null,o,{kind:"accessor",name:"value",static:!1,private:!1,access:{has:e=>"value"in e,get:e=>e.value,set:(e,t)=>{e.value=t}},metadata:f},u,p),cf(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    affine-multi-tag-view {
      display: flex;
      align-items: center;
      width: 100%;
      height: 100%;
      min-height: 22px;
    }

    .affine-select-cell-container * {
      box-sizing: border-box;
    }

    .affine-select-cell-container {
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      gap: 6px;
      width: 100%;
      font-size: var(--affine-font-sm);
    }

    .affine-select-cell-container .select-selected {
      height: 22px;
      font-size: 14px;
      line-height: 22px;
      padding: 0 8px;
      border-radius: 4px;
      white-space: nowrap;
      background: var(--affine-tag-white);
      overflow: hidden;
      text-overflow: ellipsis;
    }
  `}render(){let e=this.value,t=new Map(this.options?.map(e=>[e.id,e]));return(0,ic.qy)`
      <div contenteditable="false" class="affine-select-cell-container">
        ${(0,D.u)(e,e=>{let i=t.get(e);if(!i)return;let s=(0,Z.W)({backgroundColor:i.color});return(0,ic.qy)`<span class="select-selected" style=${s}
            >${i.value}</span
          >`})}
      </div>
    `}#ez=cg(this,l,[]);get options(){return this.#ez}set options(e){this.#ez=e}#tp=(cg(this,c),cg(this,d,void 0));get selectContainer(){return this.#tp}set selectContainer(e){this.#tp=e}#ey=(cg(this,h),cg(this,u,[]));get value(){return this.#ey}set value(e){this.#ey=e}constructor(){super(...arguments),cg(this,p)}static{cg(t,a)}})})();let cm=oi("multi-select").modelConfig({name:"Multi-select",type:e=>oo(ow.create({tags:e.options})),defaultData:()=>({options:[]}),addGroup:(e,t)=>({options:[...t.options,{id:(0,v.Ak)(),value:e,color:oC()}]}),formatValue:e=>Array.isArray(e)?e.filter(e=>null!=e):[],cellToString:(e,t)=>e?.map(e=>t.options.find(t=>t.id===e)?.value).join(","),cellFromString:(e,t)=>{let i=Object.fromEntries(t.options.map(e=>[e.value,e])),s=e.split(",").map(e=>e.trim()).filter(e=>e),o=[];return s.forEach(e=>{if(i[e])o.push(i[e].id);else{let i={id:(0,v.Ak)(),value:e,color:oC()};t.options.push(i),o.push(i.id)}}),{value:o,data:t}},cellToJson:e=>e??null,isEmpty:e=>null==e||0===e.length});cm.addConvert("select",(e,t)=>({column:e,cells:t.map(e=>e?.[0])})),cm.addConvert("rich-text",(e,t)=>{let i=Object.fromEntries(e.options.map(e=>[e.id,e]));return{column:{},cells:t.map(e=>new v.EY(e?.map(e=>i[e]?.value??"").join(",")).yText)}});var cv=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},cy=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let cb=(()=>{let e,t,i=[(0,L.EM)("affine-database-multi-select-cell")],s=[],o=sf;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;cv(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),cy(t,s)}render(){return(0,ic.qy)`
      <affine-multi-tag-view
        .value="${Array.isArray(this.value)?this.value:[]}"
        .options="${this.column.data$.value.options}"
      ></affine-multi-tag-view>
    `}},t})(),cw=(()=>{let e,t,i=[(0,L.EM)("affine-database-multi-select-cell-editing")],s=[],o=sf;return class extends o{static{t=this}constructor(){super(...arguments),this._editComplete=()=>{this.selectCurrentCell(!1)},this._onChange=e=>{this.onChange(e)},this._onOptionsChange=e=>{this.column.updateData(t=>({...t,options:e}))},this.popTagSelect=()=>{this._disposables.add({dispose:cp(this.querySelector("affine-multi-tag-view")??this,{options:this._options,onOptionsChange:this._onOptionsChange,value:this._value,onChange:this._onChange,onComplete:this._editComplete,minWidth:400})})}}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;cv(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),cy(t,s)}get _options(){return this.column.data$.value.options}get _value(){return this.value??[]}firstUpdated(){this.popTagSelect()}render(){return(0,ic.qy)`
      <affine-multi-tag-view
        .value="${this._value}"
        .options="${this._options}"
      ></affine-multi-tag-view>
    `}},t})(),cx=cm.renderConfig({icon:oe("DatabaseMultiSelect"),cellRenderer:{view:sx(cb),edit:sx(cw)}}),c_=oi("number").modelConfig({name:"Number",type:()=>of.create(),defaultData:()=>({decimal:0,format:"number"}),cellToString:e=>e?.toString()??"",cellFromString:e=>{let t=e?Number(e):NaN;return{value:isNaN(t)?null:t}},cellToJson:e=>e??null,isEmpty:e=>null==e});c_.addConvert("rich-text",(e,t)=>({column:{},cells:t.map(e=>new v.EY(e?.toString()).yText)})),c_.addConvert("progress",(e,t)=>({column:{},cells:t.map(e=>(0,iy.qE)(e??0,0,100))}));let cC=e=>({style:"currency",currency:e,currencyDisplay:"symbol"}),ck={number:{style:"decimal",useGrouping:!1},numberWithCommas:{style:"decimal",useGrouping:!0},percent:{style:"percent",useGrouping:!1},currencyINR:cC("INR"),currencyYen:cC("JPY"),currencyCNY:cC("CNY"),currencyUSD:cC("USD"),currencyEUR:cC("EUR"),currencyGBP:cC("GBP")};function cS(e,t,i){let s={...ck[t]};return void 0!==i&&Object.assign(s,{minimumFractionDigits:i,maximumFractionDigits:i}),new Intl.NumberFormat(navigator.language,s).format(e)}var cM=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},cE=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let cI=(()=>{let e,t,i=[(0,L.EM)("affine-database-number-cell")],s=[],o=sf;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;cM(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    affine-database-number-cell {
      display: block;
      width: 100%;
    }

    .affine-database-number {
      display: flex;
      align-items: center;
      justify-content: flex-end;
      width: 100%;
      padding: 0;
      border: none;
      font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
      font-size: var(--data-view-cell-text-size);
      line-height: var(--data-view-cell-text-line-height);
      color: var(--affine-text-primary-color);
      font-weight: 400;
      background-color: transparent;
    }
  `}_getFormattedString(){let e=this.view.featureFlags$.value.enable_number_formatting,t=this.column.data$.value.decimal??0,i=this.column.data$.value.format??"number";return this.value?e?cS(this.value,i,t):this.value.toString():""}render(){return(0,H.qy)` <div class="affine-database-number number">
      ${this._getFormattedString()}
    </div>`}static{cE(t,s)}},t})(),cB=(()=>{let e,t,i=[(0,L.EM)("affine-database-number-cell-editing")],s=[],o=sf,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;cM(this,null,[(0,L.P)("input")],{kind:"accessor",name:"_inputEle",static:!1,private:!1,access:{has:e=>"_inputEle"in e,get:e=>e._inputEle,set:(e,t)=>{e._inputEle=t}},metadata:n},r,a),cM(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    affine-database-number-cell-editing {
      display: block;
      width: 100%;
      cursor: text;
    }

    .affine-database-number {
      display: flex;
      align-items: center;
      width: 100%;
      padding: 0;
      border: none;
      font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
      font-size: var(--data-view-cell-text-size);
      line-height: var(--data-view-cell-text-line-height);
      color: var(--affine-text-primary-color);
      font-weight: 400;
      background-color: transparent;
      text-align: right;
    }

    .affine-database-number:focus {
      outline: none;
    }
  `}_blur(){this.selectCurrentCell(!1)}_focus(){this.isEditing||this.selectCurrentCell(!0)}firstUpdated(){requestAnimationFrame(()=>{this.focusEnd()})}onExitEditMode(){this._setValue()}render(){let e=this.value?this._getFormattedString(this.value):"";return(0,H.qy)`<input
      type="text"
      autocomplete="off"
      .value="${e}"
      @keydown="${this._keydown}"
      @blur="${this._blur}"
      @focus="${this._focus}"
      class="affine-database-number number"
      @pointerdown="${nq}"
    />`}#tf;get _inputEle(){return this.#tf}set _inputEle(e){this.#tf=e}constructor(){super(...arguments),this._getFormattedString=e=>{let t=this.view.featureFlags$.value.enable_number_formatting,i=this.column.data$.value.decimal??0,s=this.column.data$.value.format??"number";return t?cS(e,s,i):e.toString()},this._keydown=e=>{let t=sn.vL?e.metaKey:e.ctrlKey;if("z"===e.key.toLowerCase()&&t){e.stopPropagation();return}"Enter"!==e.key||e.isComposing||requestAnimationFrame(()=>{this.selectCurrentCell(!1)})},this._setValue=(e=this._inputEle.value)=>{if(!e){this.onChange(void 0);return}let t=this.view.featureFlags$.value.enable_number_formatting?function(e,t){t=t??1.1.toLocaleString((void 0)??navigator.language).slice(1,2);let i=e.replace(RegExp(`\\${t}`,"g"),".").replace(/^[^\d-+eE.]+|[^\d]+$/g,"");if(i=(i=(i=(i=i.replace(/[^0-9.eE+-]/g,"")).replace(/([-+]){2,}/g,"$1")).replace(/^([-+]?)[^eE]*([eE][-+]?\d+)?$/,(e,t,s)=>t+i.replace(/[eE].*/,"").replace(/[^\d.]/g,"")+(s||""))).replace(/(\..*)\./g,"$1"),/[eE]/.test(i)){let[e,t]=i.split(/[eE]/);if(!e||!t||t.includes(".")||t.includes("e")||t.includes("E"))return NaN}return parseFloat(i)}(e):parseFloat(e);if(isNaN(t)){this._inputEle.value=this.value?this._getFormattedString(this.value):"";return}this._inputEle.value=this._getFormattedString(t),this.onChange(t)},this.focusEnd=()=>{let e=this._inputEle.value.length;this._inputEle.focus(),this._inputEle.setSelectionRange(e,e)},this.#tf=cE(this,r,void 0),cE(this,a)}static{cE(t,s)}},t})(),c$=c_.renderConfig({icon:oe("DatabaseNumber"),cellRenderer:{view:sx(cI),edit:sx(cB)}}),cT=(e,t)=>{let i=t?.transform??(e=>e),s=i(e),o={data:t.onDrag(s),last:s,move:e=>{o.data=t.onMove(e)}},r=()=>{window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",l),window.removeEventListener("keydown",a),t.onClear()},a=e=>{"Escape"===e.key&&r()},n=e=>{e.preventDefault();let s=i(e);o.last=s,o.data=t.onMove(s)},l=()=>{try{t.onDrop(o.data)}finally{r()}};return window.addEventListener("pointermove",n),window.addEventListener("pointerup",l),window.addEventListener("keydown",a),o},cO=oi("progress").modelConfig({name:"Progress",type:()=>of.create(),defaultData:()=>({}),cellToString:e=>e?.toString()??"",cellFromString:e=>{let t=e?Number(e):NaN;return{value:isNaN(t)?null:t}},cellToJson:e=>e??null,isEmpty:()=>!1});cO.addConvert("rich-text",(e,t)=>({column:{},cells:t.map(e=>new v.EY(e?.toString()).yText)})),cO.addConvert("number",(e,t)=>({column:{decimal:0,format:"number"},cells:t.map(e=>e)}));var cP=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},cA=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let cH=(0,H.AH)`
  affine-database-progress-cell-editing {
    display: block;
    width: 100%;
    padding: 0 4px;
  }

  affine-database-progress-cell {
    display: block;
    width: 100%;
    padding: 0 4px;
  }

  .affine-database-progress {
    display: flex;
    align-items: center;
    height: var(--data-view-cell-text-line-height);
    gap: 4px;
  }

  .affine-database-progress-bar {
    position: relative;
    width: 104px;
  }

  .affine-database-progress-bg {
    overflow: hidden;
    width: 100%;
    height: 10px;
    border-radius: 22px;
  }

  .affine-database-progress-fg {
    height: 100%;
  }

  .affine-database-progress-drag-handle {
    position: absolute;
    top: 0;
    left: 0;
    transform: translate(0px, -1px);
    width: 6px;
    height: 12px;
    border-radius: 2px;
    opacity: 1;
    cursor: ew-resize;
    background: var(--affine-primary-color);
    transition: opacity 0.2s ease-in-out;
  }

  .progress-number {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 18px;
    width: 25px;
    color: var(--affine-text-secondary-color);
    font-size: 14px;
  }
`,cL={empty:"var(--affine-black-10)",processing:"var(--affine-processing-color)",success:"var(--affine-success-color)"},cD=(()=>{let e,t,i=[(0,L.EM)("affine-database-progress-cell")],s=[],o=sf;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;cP(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=cH}render(){let e=this.value??0,t=cL.processing;100===e&&(t=cL.success);let i=(0,Z.W)({width:`${e}%`,backgroundColor:t}),s=(0,Z.W)({backgroundColor:0===e?cL.empty:"var(--affine-hover-color)"});return(0,H.qy)` <div class="affine-database-progress">
      <div class="affine-database-progress-bar">
        <div class="affine-database-progress-bg" style=${s}>
          <div class="affine-database-progress-fg" style=${i}></div>
        </div>
      </div>
      <div class="progress-number progress">${e}</div>
    </div>`}static{cA(t,s)}},t})(),cZ=(()=>{let e,t,i,s,o=[(0,L.EM)("affine-database-progress-cell-editing")],r=[],a=sf,n=[],l=[],c=[],d=[];return class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.P)(".affine-database-progress-bg")],s=[(0,L.wk)()],cP(this,null,i,{kind:"accessor",name:"_progressBg",static:!1,private:!1,access:{has:e=>"_progressBg"in e,get:e=>e._progressBg,set:(e,t)=>{e._progressBg=t}},metadata:h},n,l),cP(this,null,s,{kind:"accessor",name:"tempValue",static:!1,private:!1,access:{has:e=>"tempValue"in e,get:e=>e.tempValue,set:(e,t)=>{e.tempValue=t}},metadata:h},c,d),cP(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=cH}_onChange(e){this.tempValue=e}get _value(){return this.tempValue??this.value??0}firstUpdated(){let e=this._disposables;e.addFromEvent(this._progressBg,"pointerdown",this.startDrag),e.addFromEvent(window,"keydown",e=>{if("ArrowDown"===e.key){this._onChange(Math.max(0,this._value-1));return}if("ArrowUp"===e.key){this._onChange(Math.min(100,this._value+1));return}})}onCopy(e){e.preventDefault()}onCut(e){e.preventDefault()}onExitEditMode(){this.onChange(this._value)}onPaste(e){e.preventDefault()}render(){let e=this._value,t=cL.processing;100===e&&(t=cL.success);let i=(0,Z.W)({width:`${e}%`,backgroundColor:t}),s=(0,Z.W)({backgroundColor:0===e?cL.empty:"var(--affine-hover-color)"}),o=(0,Z.W)({left:`calc(${e}% - 3px)`});return(0,H.qy)` <div class="affine-database-progress">
      <div class="affine-database-progress-bar">
        <div class="affine-database-progress-bg" style=${s}>
          <div class="affine-database-progress-fg" style=${i}></div>
          <div
            class="affine-database-progress-drag-handle"
            style=${o}
          ></div>
        </div>
      </div>
      <div class="progress-number progress">${e}</div>
    </div>`}#tg;get _progressBg(){return this.#tg}set _progressBg(e){this.#tg=e}#ex;get tempValue(){return this.#ex}set tempValue(e){this.#ex=e}constructor(){super(...arguments),this.startDrag=e=>{let t=this._progressBg.getBoundingClientRect(),i=t.left,s=t.right,o=e=>{this.tempValue=Math.round((Math.min(s,Math.max(i,e))-i)/(s-i)*100)};cT(e,{onDrag:({x:e})=>{o(e)},onMove:({x:e})=>{o(e)},onDrop:()=>{},onClear:()=>{}})},this.#tg=cA(this,n,void 0),this.#ex=(cA(this,l),cA(this,c,void 0)),cA(this,d)}static{cA(t,r)}},t})(),cj=cO.renderConfig({icon:oe("DatabaseProgress"),cellRenderer:{view:sx(cD),edit:sx(cZ)}}),cV=oi("select").modelConfig({name:"Select",type:e=>ow.create({tags:e.options}),defaultData:()=>({options:[]}),addGroup:(e,t)=>({options:[...t.options,{id:(0,v.Ak)(),value:e,color:oC()}]}),cellToString:(e,t)=>t.options.find(t=>t.id===e)?.value??"",cellFromString:(e,t)=>{if(!e)return{value:null,data:t};let i=Object.fromEntries(t.options.map(e=>[e.value,e])),s=e.split(",").map(e=>e.trim()).filter(e=>e)[0],o=null,r=i[s];if(r)o=r.id;else{let e={id:(0,v.Ak)(),value:s,color:oC()};t.options.push(e),o=e.id}return{value:o,data:t}},cellToJson:e=>e??null,isEmpty:e=>null==e});cV.addConvert("multi-select",(e,t)=>({column:e,cells:t.map(e=>e?[e]:void 0)})),cV.addConvert("rich-text",(e,t)=>{let i=Object.fromEntries(e.options.map(e=>[e.id,e]));return{column:{},cells:t.map(e=>new v.EY(e?i[e]?.value:"").yText)}});var cR=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},cz=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let cF=(()=>{let e,t,i=[(0,L.EM)("affine-database-select-cell")],s=[],o=sf;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;cR(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),cz(t,s)}render(){let e=this.value?[this.value]:[];return(0,ic.qy)`
      <affine-multi-tag-view
        .value="${e}"
        .options="${this.column.data$.value.options}"
      ></affine-multi-tag-view>
    `}},t})(),cN=(()=>{let e,t,i=[(0,L.EM)("affine-database-select-cell-editing")],s=[],o=sf;return class extends o{static{t=this}constructor(){super(...arguments),this._editComplete=()=>{this.selectCurrentCell(!1)},this._onChange=([e])=>{this.onChange(e)},this._onOptionsChange=e=>{this.column.updateData(t=>({...t,options:e}))},this.popTagSelect=()=>{this._disposables.add({dispose:cp(this.querySelector("affine-multi-tag-view")??this,{mode:"single",options:this._options,onOptionsChange:this._onOptionsChange,value:this._value,onChange:this._onChange,onComplete:this._editComplete,minWidth:400})})}}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;cR(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),cz(t,s)}get _options(){return this.column.data$.value.options}get _value(){let e=this.value;return e?[e]:[]}firstUpdated(){this.popTagSelect()}render(){return(0,ic.qy)`
      <affine-multi-tag-view
        .value="${this._value}"
        .options="${this._options}"
      ></affine-multi-tag-view>
    `}},t})(),cq=cV.renderConfig({icon:oe("DatabaseSelect"),cellRenderer:{view:sx(cF),edit:sx(cN)}}),cU=oi("text").modelConfig({name:"Plain-Text",type:()=>og.create(),defaultData:()=>({}),cellToString:e=>e??"",cellFromString:e=>({value:e}),cellToJson:e=>e??null,isEmpty:e=>null==e||0===e.length});var cW=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},cG=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let cY=(()=>{let e,t,i=[(0,L.EM)("affine-database-text-cell")],s=[],o=sf;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;cW(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    affine-database-text-cell {
      display: block;
      width: 100%;
      height: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .affine-database-text {
      display: flex;
      align-items: center;
      height: 100%;
      width: 100%;
      padding: 0;
      border: none;
      font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
      font-size: var(--affine-font-base);
      line-height: var(--affine-line-height);
      color: var(--affine-text-primary-color);
      font-weight: 400;
      background-color: transparent;
    }
  `}render(){return(0,H.qy)` <div class="affine-database-text">${this.value??""}</div>`}static{cG(t,s)}},t})(),cK=(()=>{let e,t,i=[(0,L.EM)("affine-database-text-cell-editing")],s=[],o=sf,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;cW(this,null,[(0,L.P)("input")],{kind:"accessor",name:"_inputEle",static:!1,private:!1,access:{has:e=>"_inputEle"in e,get:e=>e._inputEle,set:(e,t)=>{e._inputEle=t}},metadata:n},r,a),cW(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    affine-database-text-cell-editing {
      display: block;
      width: 100%;
      height: 100%;
      cursor: text;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .affine-database-text {
      display: flex;
      align-items: center;
      height: 100%;
      width: 100%;
      padding: 0;
      border: none;
      font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
      font-size: var(--affine-font-base);
      line-height: var(--affine-line-height);
      color: var(--affine-text-primary-color);
      font-weight: 400;
      background-color: transparent;
    }

    .affine-database-text:focus {
      outline: none;
    }
  `}firstUpdated(){this.focusEnd()}onExitEditMode(){this._setValue()}render(){return(0,H.qy)`<input
      .value="${this.value??""}"
      @keydown="${this._keydown}"
      class="affine-database-text"
    />`}#tf;get _inputEle(){return this.#tf}set _inputEle(e){this.#tf=e}constructor(){super(...arguments),this._keydown=e=>{"Enter"!==e.key||e.isComposing||(this._setValue(),setTimeout(()=>{this.selectCurrentCell(!1)}))},this._setValue=(e=this._inputEle.value)=>{this._inputEle.value=`${this.value??""}`,this.onChange(e)},this.focusEnd=()=>{let e=this._inputEle.value.length;this._inputEle.focus(),this._inputEle.setSelectionRange(e,e)},this.#tf=cG(this,r,void 0),cG(this,a)}static{cG(t,s)}},t})(),cX={checkboxColumnConfig:oW,dateColumnConfig:rl,imageColumnConfig:rp,linkColumnConfig:nJ,multiSelectColumnConfig:cx,numberColumnConfig:c$,progressColumnConfig:cj,selectColumnConfig:cq,textColumnConfig:cU.renderConfig({icon:oe("TextIcon"),cellRenderer:{view:sx(cY),edit:sx(cK)}})};class cQ{constructor(){this.context=new Map}getContext(e){return this.context.get(e)}propertyGetDefaultWidth(e){return 180}propertyGetReadonly(e){return!1}setContext(e,t){this.context.set(e,t)}get detailSlots(){return{}}}let cJ=lY.z.union([lY.z.object({viewId:lY.z.string(),type:lY.z.literal("table"),selectionType:lY.z.literal("area"),rowsSelection:lY.z.object({start:lY.z.number(),end:lY.z.number()}),columnsSelection:lY.z.object({start:lY.z.number(),end:lY.z.number()}),focus:lY.z.object({rowIndex:lY.z.number(),columnIndex:lY.z.number()}),isEditing:lY.z.boolean()}),lY.z.object({viewId:lY.z.string(),type:lY.z.literal("table"),selectionType:lY.z.literal("row"),rows:lY.z.array(lY.z.object({id:lY.z.string(),groupKey:lY.z.string().optional()}))})]),c1=lY.z.object({selectionType:lY.z.literal("cell"),groupKey:lY.z.string(),cardId:lY.z.string(),columnId:lY.z.string(),isEditing:lY.z.boolean()}),c0=lY.z.object({selectionType:lY.z.literal("card"),cards:lY.z.array(lY.z.object({groupKey:lY.z.string(),cardId:lY.z.string()}))}),c2=lY.z.object({selectionType:lY.z.literal("group"),groupKeys:lY.z.array(lY.z.string())}),c5=lY.z.object({blockId:lY.z.string(),viewSelection:lY.z.union([cJ,c1,c0,c2])});class c7 extends P.qZ{static{this.group="note"}static{this.type="database"}constructor({blockId:e,viewSelection:t}){super({blockId:e}),this.viewSelection=t}static fromJSON(e){return c5.parse(e),new c7({blockId:e.blockId,viewSelection:e.viewSelection})}equals(e){return e instanceof c7&&this.blockId===e.blockId}getSelection(e){return this.viewSelection.type===e?this.viewSelection:void 0}toJSON(){return{type:"database",blockId:this.blockId,viewSelection:this.viewSelection}}get viewId(){return this.viewSelection.viewId}}let c3=()=>`
  --data-view-cell-text-size:14px;
  --data-view-cell-text-line-height:22px;
`,c4=e=>`
  ${e}{
    ${c3()}
  }
  .with-data-view-css-variable{
    ${c3()}
    font-family: var(--affine-font-family)
  }
  .dv-pd-2{
    padding:2px;
  }
  .dv-pd-4{
    padding:4px;
  }
  .dv-pd-8{
    padding:8px;
  }
  .dv-hover:hover{
    background-color: var(--affine-hover-color);
    cursor: pointer;
  }
  .dv-icon-16 svg{
    width: 16px;
    height: 16px;
    color: var(--affine-icon-color);
    fill: var(--affine-icon-color);
  }
  .dv-icon-20 svg{
    width: 20px;
    height: 20px;
    color: var(--affine-icon-color);
    fill: var(--affine-icon-color);
  }
  .dv-border{
    border: 1px solid var(--affine-border-color);
  }
  .dv-round-4{
    border-radius: 4px;
  }
  .dv-round-8{
    border-radius: 8px;
  }
  .dv-color-2{
    color: var(--affine-text-secondary-color);
  }
  .dv-shadow-2{
    box-shadow: var(--affine-shadow-2)
  }
  .dv-divider-h{
    height: 1px;
    background-color: var(--affine-divider-color);
    margin: 8px 0;
  }
`,c6=e=>({icon:(0,ic.qy)`
      <div class="affine-database-column-type-menu-icon">
        ${sv(e.icon)}
      </div>
    `,divider:!1,initValue:e.name,onComplete:t=>{e.updateName(t)}}),c8=e=>({type:"sub-menu",name:"Type",hide:()=>!e.updateType||"title"===e.type,postfix:(0,ic.qy)`<div
      class="affine-database-column-type-icon"
      style="color: var(--affine-text-secondary-color);gap:4px"
    >
      ${sv(e.icon)}
      ${e.view.allColumnConfig.find(t=>t.type===e.type)?.name}
    </div>`,options:{input:{search:!0},items:e.view.allColumnConfig.map(t=>({type:"action",isSelected:t.type===e.type,name:t.name,icon:sv(e.view.getIcon(t.type)),select:()=>{e.type!==t.type&&e.updateType?.(t.type)}}))}});var c9=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},de=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let dt=(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("affine-data-view-record-field")],l=[],c=(0,P.Tm)(P.ao),d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[];return class extends c{static{t=this}static{let w="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.wk)()],o=[(0,L.wk)()],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],c9(this,null,i,{kind:"accessor",name:"column",static:!1,private:!1,access:{has:e=>"column"in e,get:e=>e.column,set:(e,t)=>{e.column=t}},metadata:w},d,h),c9(this,null,s,{kind:"accessor",name:"editing",static:!1,private:!1,access:{has:e=>"editing"in e,get:e=>e.editing,set:(e,t)=>{e.editing=t}},metadata:w},u,p),c9(this,null,o,{kind:"accessor",name:"isFocus",static:!1,private:!1,access:{has:e=>"isFocus"in e,get:e=>e.isFocus,set:(e,t)=>{e.isFocus=t}},metadata:w},f,g),c9(this,null,r,{kind:"accessor",name:"rowId",static:!1,private:!1,access:{has:e=>"rowId"in e,get:e=>e.rowId,set:(e,t)=>{e.rowId=t}},metadata:w},m,v),c9(this,null,a,{kind:"accessor",name:"view",static:!1,private:!1,access:{has:e=>"view"in e,get:e=>e.view,set:(e,t)=>{e.view=t}},metadata:w},y,b),c9(null,e={value:t},n,{kind:"class",name:t.name,metadata:w},null,l),t=e.value,w&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w})}static{this.styles=(0,H.AH)`
    affine-data-view-record-field {
      display: flex;
      gap: 12px;
    }

    .field-left {
      padding: 6px;
      display: flex;
      height: max-content;
      align-items: center;
      gap: 6px;
      font-size: var(--data-view-cell-text-size);
      line-height: var(--data-view-cell-text-line-height);
      color: var(--affine-text-secondary-color);
      width: 160px;
      border-radius: 4px;
      cursor: pointer;
      user-select: none;
    }

    .field-left:hover {
      background-color: var(--affine-hover-color);
    }

    affine-data-view-record-field .icon {
      display: flex;
      align-items: center;
      width: 16px;
      height: 16px;
    }

    affine-data-view-record-field .icon svg {
      width: 16px;
      height: 16px;
      fill: var(--affine-icon-color);
    }

    .filed-name {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .field-content {
      padding: 6px 8px;
      border-radius: 4px;
      flex: 1;
      cursor: pointer;
      display: flex;
      align-items: center;
      border: 1px solid transparent;
    }

    .field-content .affine-database-number {
      text-align: left;
      justify-content: start;
    }

    .field-content:hover {
      background-color: var(--affine-hover-color);
    }

    .field-content.is-editing {
      box-shadow: 0px 0px 0px 2px rgba(30, 150, 235, 0.3);
    }

    .field-content.is-focus {
      border: 1px solid var(--affine-primary-color);
    }
    .field-content.empty::before {
      content: 'Empty';
      color: var(--affine-text-disable-color);
      font-size: 14px;
      line-height: 22px;
    }
  `}get readonly(){return this.view.readonly$.value}render(){let e=this.column,t={cell:this.cell$.value,isEditing:this.editing,selectCurrentCell:this.changeEditing},i=this.column.renderer$.value;if(!i)return;let{view:s,edit:o}=i,r=(0,oJ.H)({"field-content":!0,empty:!this.editing&&this.cell$.value.isEmpty$.value,"is-editing":this.editing,"is-focus":this.isFocus});return(0,ic.qy)`
      <div>
        <div class="field-left" @click="${this._clickLeft}">
          <div class="icon">
            <uni-lit .uni="${this.column.icon}"></uni-lit>
          </div>
          <div class="filed-name">${e.name}</div>
        </div>
      </div>
      <div @click="${this._click}" class="${r}">
        ${sv(this.editing&&o?o:s,t,{ref:this._cell,class:"kanban-cell"})}
      </div>
    `}get cell(){return this._cell.value}#tm;get column(){return this.#tm}set column(e){this.#tm=e}#tv;get editing(){return this.#tv}set editing(e){this.#tv=e}#ty;get isFocus(){return this.#ty}set isFocus(e){this.#ty=e}#tb;get rowId(){return this.#tb}set rowId(e){this.#tb=e}#tw;get view(){return this.#tw}set view(e){this.#tw=e}constructor(){super(...arguments),this._cell=(0,lB._)(),this._click=e=>{e.stopPropagation(),this.readonly||this.changeEditing(!0)},this._clickLeft=e=>{if(this.readonly)return;let t=e.currentTarget,i=this.view.detailColumns$.value;lD(t,{options:{input:c6(this.column),items:[{type:"group",name:"Column Prop Group ",children:()=>[c8(this.column)]},{type:"action",name:"Duplicate Column",icon:sk,hide:()=>!this.column.duplicate||"title"===this.column.type,select:()=>{this.column.duplicate?.()}},{type:"action",name:"Move Up",icon:(0,ic.qy)` <div
              style="transform: rotate(90deg);display:flex;align-items:center;"
            >
              ${sE}
            </div>`,hide:()=>0===i.findIndex(e=>e===this.column.id),select:()=>{let e=i.findIndex(e=>e===this.column.id),t=i[e-1];t&&this.view.columnMove(this.column.id,{id:t,before:!0})}},{type:"action",name:"Move Down",icon:(0,ic.qy)` <div
              style="transform: rotate(90deg);display:flex;align-items:center;"
            >
              ${sI}
            </div>`,hide:()=>i.findIndex(e=>e===this.column.id)===i.length-1,select:()=>{let e=i.findIndex(e=>e===this.column.id),t=i[e+1];t&&this.view.columnMove(this.column.id,{id:t,before:!1})}},{type:"group",name:"operation",children:()=>[{type:"action",name:"Delete Column",icon:sV,hide:()=>!this.column.delete||"title"===this.column.type,select:()=>{this.column.delete?.()},class:"delete-item"}]}]}})},this.cell$=(0,sh.EW)(()=>this.column.cellGet(this.rowId)),this.changeEditing=e=>{let t=this.closest("affine-data-view-record-detail")?.selection;t&&(t.selection={propertyId:this.column.id,isEditing:e})},this.#tm=de(this,d,void 0),this.#tv=(de(this,h),de(this,u,!1)),this.#ty=(de(this,p),de(this,f,!1)),this.#tb=(de(this,g),de(this,m,void 0)),this.#tw=(de(this,v),de(this,y,void 0)),de(this,b)}static{de(t,l)}},t})();var di=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ds=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let dr=(0,H.AH)`
  affine-data-view-kanban-cell {
    border-radius: 4px;
    display: flex;
    align-items: center;
    padding: 4px;
    min-height: 20px;
    border: 1px solid transparent;
    box-sizing: border-box;
  }

  affine-data-view-kanban-cell:hover {
    background-color: var(--affine-hover-color);
  }

  affine-data-view-kanban-cell .icon {
    display: flex;
    align-items: center;
    justify-content: center;
    align-self: start;
    margin-right: 12px;
    height: var(--data-view-cell-text-line-height);
  }

  affine-data-view-kanban-cell .icon svg {
    width: 16px;
    height: 16px;
    fill: var(--affine-icon-color);
    color: var(--affine-icon-color);
  }

  .kanban-cell {
    flex: 1;
    display: block;
    width: 196px;
  }
`,da=(()=>{let e,t,i,s,o,r,a,n,l,c=[(0,L.EM)("affine-data-view-kanban-cell")],d=[],h=(0,P.Tm)(P.ao),u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[];return class extends h{static{t=this}static{let M="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.wk)()],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.wk)()],l=[(0,L.MZ)({attribute:!1})],di(this,null,i,{kind:"accessor",name:"cardId",static:!1,private:!1,access:{has:e=>"cardId"in e,get:e=>e.cardId,set:(e,t)=>{e.cardId=t}},metadata:M},u,p),di(this,null,s,{kind:"accessor",name:"column",static:!1,private:!1,access:{has:e=>"column"in e,get:e=>e.column,set:(e,t)=>{e.column=t}},metadata:M},f,g),di(this,null,o,{kind:"accessor",name:"contentOnly",static:!1,private:!1,access:{has:e=>"contentOnly"in e,get:e=>e.contentOnly,set:(e,t)=>{e.contentOnly=t}},metadata:M},m,v),di(this,null,r,{kind:"accessor",name:"editing",static:!1,private:!1,access:{has:e=>"editing"in e,get:e=>e.editing,set:(e,t)=>{e.editing=t}},metadata:M},y,b),di(this,null,a,{kind:"accessor",name:"groupKey",static:!1,private:!1,access:{has:e=>"groupKey"in e,get:e=>e.groupKey,set:(e,t)=>{e.groupKey=t}},metadata:M},w,x),di(this,null,n,{kind:"accessor",name:"isFocus",static:!1,private:!1,access:{has:e=>"isFocus"in e,get:e=>e.isFocus,set:(e,t)=>{e.isFocus=t}},metadata:M},_,C),di(this,null,l,{kind:"accessor",name:"view",static:!1,private:!1,access:{has:e=>"view"in e,get:e=>e.view,set:(e,t)=>{e.view=t}},metadata:M},k,S),di(null,e={value:t},c,{kind:"class",name:t.name,metadata:M},null,d),t=e.value,M&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:M})}static{this.styles=dr}connectedCallback(){super.connectedCallback(),this._disposables.addFromEvent(this,"click",e=>{!e.shiftKey&&(e.stopPropagation(),this.closest("affine-data-view-kanban")?.selectionController&&(e.shiftKey||this.editing||this.selectCurrentCell(!this.column.readonly$.value)))})}isSelected(e){if("cell"===e.selectionType&&e.groupKey===this.groupKey)return e.cardId===this.cardId&&e.columnId===this.column.id}render(){let e={cell:this.column.cellGet(this.cardId),isEditing:this.editing,selectCurrentCell:this.selectCurrentCell},t=this.column.renderer$.value;if(!t)return;let{view:i,edit:s}=t;return this.style.border=this.isFocus?"1px solid var(--affine-primary-color)":"",this.style.boxShadow=this.editing?"0px 0px 0px 2px rgba(30, 150, 235, 0.30)":"",(0,ic.qy)` ${this.renderIcon()}
    ${sv(this.editing&&s?s:i,e,{ref:this._cell,class:"kanban-cell",style:{display:"block",flex:"1",overflow:"hidden"}})}`}renderIcon(){if(!this.contentOnly)return(0,ic.qy)` <uni-lit class="icon" .uni="${this.column.icon}"></uni-lit>`}get cell(){return this._cell.value}get selection(){return this.closest("affine-data-view-kanban")?.selectionController}#tx;get cardId(){return this.#tx}set cardId(e){this.#tx=e}#tm;get column(){return this.#tm}set column(e){this.#tm=e}#t_;get contentOnly(){return this.#t_}set contentOnly(e){this.#t_=e}#tv;get editing(){return this.#tv}set editing(e){this.#tv=e}#tC;get groupKey(){return this.#tC}set groupKey(e){this.#tC=e}#ty;get isFocus(){return this.#ty}set isFocus(e){this.#ty=e}#tw;get view(){return this.#tw}set view(e){this.#tw=e}constructor(){super(...arguments),this._cell=(0,lB._)(),this.selectCurrentCell=e=>{let t=this.closest("affine-data-view-kanban")?.selectionController;if(t&&t){let i=t.selection;i&&this.isSelected(i)&&e?t.selection={selectionType:"cell",groupKey:this.groupKey,cardId:this.cardId,columnId:this.column.id,isEditing:!0}:t.selection={selectionType:"cell",groupKey:this.groupKey,cardId:this.cardId,columnId:this.column.id,isEditing:!1}}},this.#tx=ds(this,u,void 0),this.#tm=(ds(this,p),ds(this,f,void 0)),this.#t_=(ds(this,g),ds(this,m,!1)),this.#tv=(ds(this,v),ds(this,y,!1)),this.#tC=(ds(this,b),ds(this,w,void 0)),this.#ty=(ds(this,x),ds(this,_,!1)),this.#tw=(ds(this,C),ds(this,k,void 0)),ds(this,S)}static{ds(t,d)}},t})();class dn{constructor(e){this.viewEle=e,this.onSelect=e=>{let t=this._selection;t&&this.blur(t),this._selection=e,e&&this.focus(e)}}blur(e){let t=this.getFocusCellContainer(e);if(!t)return;t.isFocus=!1;let i=t.cell;e.isEditing?(requestAnimationFrame(()=>{i?.onExitEditMode()}),i?.blurCell()&&t.blur(),t.editing=!1):t.blur()}deleteProperty(){}focus(e){let t=this.getFocusCellContainer(e);if(!t)return;t.isFocus=!0;let i=t.cell;e.isEditing?(i?.onEnterEditMode(),i?.focusCell()&&t.focus(),t.editing=!0):t.focus()}focusDown(){let e=this.selection;if(!e||e?.isEditing)return;let t=this.getFocusCellContainer(e)?.nextElementSibling;t instanceof da&&(this.selection={propertyId:t.column.id,isEditing:!1})}focusFirstCell(){let e=this.viewEle.querySelector("affine-data-view-record-field")?.column.id;e&&(this.selection={propertyId:e,isEditing:!0})}focusUp(){let e=this.selection;if(!e||e?.isEditing)return;let t=this.getFocusCellContainer(e)?.previousElementSibling;t instanceof dt&&(this.selection={propertyId:t.column.id,isEditing:!1})}getFocusCellContainer(e){return this.viewEle.querySelector(`affine-data-view-record-field[data-column-id="${e.propertyId}"]`)}getSelectCard(e){let{groupKey:t,cardId:i}=e.cards[0];return this.viewEle.querySelector(`affine-data-view-kanban-group[data-key="${t}"]`)?.querySelector(`affine-data-view-kanban-card[data-card-id="${i}"]`)}get selection(){return this._selection}set selection(e){if(!e){this.onSelect();return}if(e.isEditing){let t=this.getFocusCellContainer(e),i=t?.cell,s=!!i&&!!i.beforeEnterEditMode()&&e.isEditing;this.onSelect({propertyId:e.propertyId,isEditing:s})}else this.onSelect(e)}}var dl=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},dc=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let dd=(0,ic.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M17.5073 13.0032C17.2022 12.723 16.7278 12.7432 16.4476 13.0483L12.75 17.0745L12.75 5C12.75 4.58579 12.4142 4.25 12 4.25C11.5858 4.25 11.25 4.58579 11.25 5L11.25 17.0745L7.55239 13.0483C7.27222 12.7432 6.79777 12.723 6.49269 13.0032C6.18761 13.2833 6.16742 13.7578 6.4476 14.0629L11.4476 19.5073C11.5896 19.662 11.79 19.75 12 19.75C12.21 19.75 12.4104 19.662 12.5524 19.5073L17.5524 14.0629C17.8326 13.7578 17.8124 13.2833 17.5073 13.0032Z"
    fill="#77757D"
  />
</svg> `,dh=(0,ic.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M17.5073 10.9968C17.2022 11.277 16.7278 11.2568 16.4476 10.9517L12.75 6.92547L12.75 19C12.75 19.4142 12.4142 19.75 12 19.75C11.5858 19.75 11.25 19.4142 11.25 19L11.25 6.92547L7.55239 10.9517C7.27222 11.2568 6.79777 11.277 6.49269 10.9968C6.18761 10.7167 6.16742 10.2422 6.4476 9.93714L11.4476 4.4927C11.5896 4.33803 11.79 4.25 12 4.25C12.21 4.25 12.4104 4.33803 12.5524 4.4927L17.5524 9.93714C17.8326 10.2422 17.8124 10.7167 17.5073 10.9968Z"
    fill="#77757D"
  />
</svg> `,du=(0,H.AH)`
  ${(0,H.iz)(c4("affine-data-view-record-detail"))}
  affine-data-view-record-detail {
    position: relative;
    display: flex;
    flex: 1;
    flex-direction: column;
    padding: 20px;
    gap: 12px;
    background-color: var(--affine-background-primary-color);
    border-radius: 8px;
    height: 100%;
    width: 100%;
  }

  .add-property {
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: var(--data-view-cell-text-size);
    font-style: normal;
    font-weight: 400;
    line-height: var(--data-view-cell-text-line-height);
    color: var(--affine-text-disable-color);
    border-radius: 4px;
    padding: 6px 8px 6px 4px;
    cursor: pointer;
    margin-top: 8px;
    width: max-content;
  }

  .add-property:hover {
    background-color: var(--affine-hover-color);
  }

  .add-property .icon {
    display: flex;
    align-items: center;
  }

  .add-property .icon svg {
    fill: var(--affine-icon-color);
    width: 20px;
    height: 20px;
  }
  .switch-row {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2px;
    border-radius: 4px;
    cursor: pointer;
  }
  .switch-row:hover {
    background-color: var(--affine-hover-color);
  }
  .switch-row.disable {
    cursor: default;
    background: none;
    opacity: 0.5;
  }
`,dp=(()=>{let e,t,i,s,o,r=[(0,L.EM)("affine-data-view-record-detail")],a=[],n=(0,P.Tm)(P.ao),l=[],c=[],d=[],h=[],u=[],p=[];return class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.P)(".add-property")],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],dl(this,null,i,{kind:"accessor",name:"addPropertyButton",static:!1,private:!1,access:{has:e=>"addPropertyButton"in e,get:e=>e.addPropertyButton,set:(e,t)=>{e.addPropertyButton=t}},metadata:f},l,c),dl(this,null,s,{kind:"accessor",name:"rowId",static:!1,private:!1,access:{has:e=>"rowId"in e,get:e=>e.rowId,set:(e,t)=>{e.rowId=t}},metadata:f},d,h),dl(this,null,o,{kind:"accessor",name:"view",static:!1,private:!1,access:{has:e=>"view"in e,get:e=>e.view,set:(e,t)=>{e.view=t}},metadata:f},u,p),dl(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=du}get readonly(){return this.view.readonly$.value}renderHeader(){let e=this.detailSlots?.header;if(e)return sv(e,{view:this.view,rowId:this.rowId})}renderNote(){let e=this.detailSlots?.note;if(e)return sv(e,{view:this.view,rowId:this.rowId})}connectedCallback(){super.connectedCallback(),this.disposables.addFromEvent(this,"click",e=>{e.stopPropagation(),this.selection.selection=void 0}),this.dataset.widgetId="affine-detail-widget",this.detailSlots=this.view.detailSlots}hasNext(){return null!=this.view.rowGetNext(this.rowId)}hasPrev(){return null!=this.view.rowGetPrev(this.rowId)}nextRow(){let e=this.view.rowGetNext(this.rowId);null!=e&&(this.rowId=e,this.requestUpdate())}prevRow(){let e=this.view.rowGetPrev(this.rowId);null!=e&&(this.rowId=e,this.requestUpdate())}render(){let e=this.columns$.value,t=(0,oJ.H)({"switch-row":!0,disable:!this.hasPrev()}),i=(0,oJ.H)({"switch-row":!0,disable:!this.hasNext()});return(0,ic.qy)`
      <div
        style="position: absolute;left: 20px;top:20px;display: flex;align-items:center;gap:4px;"
      >
        <div @click="${this.prevRow}" class="${t}">${dh}</div>
        <div @click="${this.nextRow}" class="${i}">${dd}</div>
      </div>
      <div
        style="max-width: var(--affine-editor-width);display: flex;flex-direction: column;margin: 0 auto"
      >
        ${(0,sl.D)(this.rowId,this.renderHeader())}
        ${(0,D.u)(e,e=>e.id,e=>(0,sl.D)(this.rowId,(0,ic.qy)` <affine-data-view-record-field
                .view="${this.view}"
                .column="${e}"
                .rowId="${this.rowId}"
                data-column-id="${e.id}"
              ></affine-data-view-record-field>`))}
        ${this.readonly?H.s6:(0,ic.qy)`<div class="add-property" @click="${this._clickAddProperty}">
              <div class="icon">${sj}</div>
              Add Property
            </div>`}
        <div style="width: var(--affine-editor-width)"></div>
      </div>
      ${(0,sl.D)(this.rowId,this.renderNote())}
    `}#tk;get addPropertyButton(){return this.#tk}set addPropertyButton(e){this.#tk=e}#tb;get rowId(){return this.#tb}set rowId(e){this.#tb=e}#tw;get view(){return this.#tw}set view(e){this.#tw=e}constructor(){super(...arguments),this._clickAddProperty=()=>{lZ(this.addPropertyButton,this.view.allColumnConfig.map(e=>({type:"action",name:e.name,icon:sv(this.view.getIcon(e.type)),select:()=>{this.view.columnAdd("end",e.type)}})))},this.columns$=(0,sh.EW)(()=>this.view.detailColumns$.value.map(e=>this.view.columnGet(e))),this.selection=new dn(this),this.#tk=dc(this,l,void 0),this.#tb=(dc(this,c),dc(this,d,void 0)),this.#tw=(dc(this,h),dc(this,u,void 0)),dc(this,p)}static{dc(t,a)}},t})();var df=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},dg=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let dm=(()=>{let e,t,i,s,o=[(0,L.EM)("side-layout-modal")],r=[],a=P.ao,n=[],l=[],c=[],d=[];return class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],df(this,null,i,{kind:"accessor",name:"close",static:!1,private:!1,access:{has:e=>"close"in e,get:e=>e.close,set:(e,t)=>{e.close=t}},metadata:h},n,l),df(this,null,s,{kind:"accessor",name:"content",static:!1,private:!1,access:{has:e=>"content"in e,get:e=>e.content,set:(e,t)=>{e.content=t}},metadata:h},c,d),df(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=(0,H.AH)`
    side-layout-modal {
      display: flex;
      flex-direction: column;
      position: absolute;
      top: 0;
      bottom: 0;
      width: 1200px;
      background-color: var(--affine-background-overlay-panel-color);
      border-left: 0.5px solid var(--affine-border-color);
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
    }

    .side-modal-content {
      flex: 1;
      overflow-y: auto;
    }

    .side-modal-header {
      padding: 12px;
      display: flex;
      align-items: center;
    }

    .header-ops {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .header-op {
      display: flex;
      align-items: center;
      padding: 2px;
      border-radius: 4px;
      cursor: pointer;
    }

    .header-op svg {
      width: 20px;
      height: 20px;
      color: var(--affine-icon-color);
    }

    .header-op:hover {
      background-color: var(--affine-hover-color);
    }
  `}render(){return(0,H.qy)`
      <div class="side-modal-header">
        <div @click="${this.close}" class="close-modal header-op">
          ${sZ}
        </div>
        <div class="header-ops">${this.renderOps()}</div>
      </div>
      <div class="side-modal-content">${this.content}</div>
    `}renderOps(){return(0,H.qy)``}#tS=dg(this,n,void 0);get close(){return this.#tS}set close(e){this.#tS=e}#tM=(dg(this,l),dg(this,c,void 0));get content(){return this.#tM}set content(e){this.#tM=e}constructor(){super(...arguments),dg(this,d)}static{dg(t,r)}},t})(),dv=e=>{let t=lH(document.body),i=(0,oG.ll)(e.target,t,()=>{(0,oG.rD)(e.target,t,{middleware:[(0,oG.Ej)({apply:({rects:e})=>{Object.assign(t.style,{left:`${e.reference.x}px`,top:`${e.reference.y}px`,width:`${e.reference.width}px`,height:`${e.reference.height}px`})}})]}).catch(console.error)}),s=()=>{t.remove(),e.onClose?.(),i()},o=new dp;o.view=e.view,o.rowId=e.rowId;let r=new dm;r.content=o,r.close=s,t.onclick=e=>e.target===t&&s(),t.append(r)},dy=e=>(0,H.qy)`<affine-data-view-record-detail
    .view=${e.view}
    .rowId=${e.rowId}
    class="data-view-popup-container"
  ></affine-data-view-record-detail>`;class db{constructor(e=ou.isSubtype.bind(ou)){this._match=e,this.list=[]}all(){return this.list}allMatched(e){let t=[];for(let i of this.list)this._match(i.type,e)&&t.push(i);return t}allMatchedData(e){let t=[];for(let i of this.list)this._match(i.type,e)&&t.push(i.data);return t}find(e){return this.list.find(e)}findData(e){return this.list.find(t=>e(t.data))?.data}isMatched(e,t){return this._match(e,t)}match(e){for(let t of this.list)if(this._match(t.type,e))return t.data}register(e,t){this.list.push({type:e,data:t})}}let dw=new db;var dx=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},d_=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let dC=(()=>{let e,t,i,s,o,r=(0,P.Tm)(P.ao),a=[],n=[],l=[],c=[],d=[],h=[],u=[],p=[],f=[],g=[];return class extends r{static{let m="function"==typeof Symbol&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;e=[(0,L.MZ)({attribute:!1})],t=[(0,L.MZ)({attribute:!1})],i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],dx(this,null,e,{kind:"accessor",name:"data",static:!1,private:!1,access:{has:e=>"data"in e,get:e=>e.data,set:(e,t)=>{e.data=t}},metadata:m},a,n),dx(this,null,t,{kind:"accessor",name:"readonly",static:!1,private:!1,access:{has:e=>"readonly"in e,get:e=>e.readonly,set:(e,t)=>{e.readonly=t}},metadata:m},l,c),dx(this,null,i,{kind:"accessor",name:"updateData",static:!1,private:!1,access:{has:e=>"updateData"in e,get:e=>e.updateData,set:(e,t)=>{e.updateData=t}},metadata:m},d,h),dx(this,null,s,{kind:"accessor",name:"updateValue",static:!1,private:!1,access:{has:e=>"updateValue"in e,get:e=>e.updateValue,set:(e,t)=>{e.updateValue=t}},metadata:m},u,p),dx(this,null,o,{kind:"accessor",name:"value",static:!1,private:!1,access:{has:e=>"value"in e,get:e=>e.value,set:(e,t)=>{e.value=t}},metadata:m},f,g),m&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m})}#tE=d_(this,a,void 0);get data(){return this.#tE}set data(e){this.#tE=e}#e5=(d_(this,n),d_(this,l,void 0));get readonly(){return this.#e5}set readonly(e){this.#e5=e}#tI=(d_(this,c),d_(this,d,void 0));get updateData(){return this.#tI}set updateData(e){this.#tI=e}#tB=(d_(this,h),d_(this,u,void 0));get updateValue(){return this.#tB}set updateValue(e){this.#tB=e}#ey=(d_(this,p),d_(this,f,void 0));get value(){return this.#ey}set value(e){this.#ey=e}constructor(){super(...arguments),d_(this,g)}}})();var dk=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},dS=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let dM=(()=>{let e,t,i=[(0,L.EM)("data-view-group-title-boolean-view")],s=[],o=dC;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;dk(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    .data-view-group-title-boolean-view {
      display: flex;
      align-items: center;
    }
    .data-view-group-title-boolean-view svg {
      width: 20px;
      height: 20px;
    }
  `}render(){return(0,H.qy)` <div class="data-view-group-title-boolean-view">
      ${this.value?oj():oV()}
    </div>`}static{dS(t,s)}},t})();var dE=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},dI=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let dB=(()=>{let e,t,i=[(0,L.EM)("data-view-group-title-number-view")],s=[],o=dC;return class extends o{static{t=this}constructor(){super(...arguments),this._click=()=>{this.readonly||lD(this,{options:{input:{initValue:this.value?`${10*this.value}`:"",onComplete:e=>{let t=Number.parseFloat(e);Number.isNaN(t)||this.updateValue?.(t)}},items:[]}})}}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;dE(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    .data-view-group-title-number-view {
      border-radius: 8px;
      padding: 4px 8px;
      width: max-content;
      cursor: pointer;
    }

    .data-view-group-title-number-view:hover {
      background-color: var(--affine-hover-color);
    }
  `}render(){return null==this.value?(0,H.qy)` <div>Ungroups</div>`:this.value>=10?(0,H.qy)` <div
        @click="${this._click}"
        class="data-view-group-title-number-view"
      >
        >= 100
      </div>`:(0,H.qy)` <div
      @click="${this._click}"
      class="data-view-group-title-number-view"
    >
      ${10*this.value} - ${10*this.value+9}
    </div>`}static{dI(t,s)}},t})();var d$=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},dT=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let dO=(()=>{let e,t,i=[(0,L.EM)("data-view-group-title-select-view")],s=[],o=dC;return class extends o{static{t=this}constructor(){super(...arguments),this._click=()=>{this.readonly||lD(this,{options:{input:{initValue:this.tag?.value??"",onComplete:e=>{this.updateTag({value:e})}},items:ox.map(({color:e,name:t})=>{let i=(0,Z.W)({backgroundColor:e,borderRadius:"50%",width:"20px",height:"20px"});return{type:"action",name:t,isSelected:this.tag?.color===e,icon:(0,H.qy)` <div style=${i}></div>`,select:()=>{this.updateTag({color:e})}}})}})}}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;d$(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    data-view-group-title-select-view {
      overflow: hidden;
    }
    .data-view-group-title-select-view {
      width: 100%;
      cursor: pointer;
    }

    .data-view-group-title-select-view.readonly {
      cursor: inherit;
    }

    .tag {
      padding: 0 8px;
      border-radius: 4px;
      font-size: var(--data-view-cell-text-size);
      line-height: var(--data-view-cell-text-line-height);
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
  `}render(){let e=this.tag;if(!e)return(0,H.qy)` <div
        style="font-size: 14px;color: var(--affine-text-primary-color);line-height: 22px;"
      >
        Ungroups
      </div>`;let t=(0,Z.W)({backgroundColor:e.color}),i=(0,oJ.H)({"data-view-group-title-select-view":!0,readonly:this.readonly});return(0,H.qy)` <div @click="${this._click}" class="${i}">
      <div class="tag" style="${t}">${e.value}</div>
    </div>`}updateTag(e){this.updateData?.({...this.data,options:this.data.options.map(t=>t.id===this.value?{...t,...e}:t)})}get tag(){return this.data.options.find(e=>e.id===this.value)}static{dT(t,s)}},t})();var dP=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},dA=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let dH=(()=>{let e,t,i=[(0,L.EM)("data-view-group-title-string-view")],s=[],o=dC;return class extends o{static{t=this}constructor(){super(...arguments),this._click=()=>{this.readonly||lD(this,{options:{input:{initValue:this.value??"",onComplete:e=>{this.updateValue?.(e)}},items:[]}})}}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;dP(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    .data-view-group-title-string-view {
      border-radius: 8px;
      padding: 4px 8px;
      width: max-content;
      cursor: pointer;
    }

    .data-view-group-title-string-view:hover {
      background-color: var(--affine-hover-color);
    }
  `}render(){return this.value?(0,H.qy)` <div
      @click="${this._click}"
      class="data-view-group-title-string-view"
    >
      ${this.value}
    </div>`:(0,H.qy)` <div>Ungroups</div>`}static{dA(t,s)}},t})(),dL={key:"Ungroups",value:null};dw.register(ow.create(),{name:"select",groupName:(e,t)=>ow.is(e)&&e.data?e.data.tags.find(e=>e.id===t)?.value??"":"",defaultKeys:e=>ow.is(e)&&e.data?[dL,...e.data.tags.map(e=>({key:e.id,value:e.id}))]:[dL],valuesGroup:(e,t)=>null==e?[dL]:[{key:`${e}`,value:e}],view:sy(dO)}),dw.register(oo(ow.create()),{name:"multi-select",groupName:(e,t)=>ow.is(e)&&e.data?e.data.tags.find(e=>e.id===t)?.value??"":"",defaultKeys:e=>or(e)&&ow.is(e.ele)&&e.ele.data?[dL,...e.ele.data.tags.map(e=>({key:e.id,value:e.id}))]:[dL],valuesGroup:(e,t)=>null==e?[dL]:Array.isArray(e)&&e.length?e.map(e=>({key:`${e}`,value:e})):[dL],addToGroup:(e,t)=>null==e?t:Array.isArray(t)?[...t,e]:[e],removeFromGroup:(e,t)=>Array.isArray(t)?t.filter(t=>t!==e):t,view:sy(dO)}),dw.register(og.create(),{name:"text",groupName:(e,t)=>`${t??""}`,defaultKeys:e=>[dL],valuesGroup:(e,t)=>e?[{key:`g:${e}`,value:e}]:[dL],view:sy(dH)}),dw.register(of.create(),{name:"number",groupName:(e,t)=>`${t??""}`,defaultKeys:e=>[dL],valuesGroup:(e,t)=>"number"!=typeof e?[dL]:[{key:`g:${Math.floor(e/10)}`,value:Math.floor(e/10)}],addToGroup:e=>"number"==typeof e?10*e:void 0,view:sy(dB)}),dw.register(ov.create(),{name:"boolean",groupName:(e,t)=>`${t?.toString()??""}`,defaultKeys:e=>[{key:"true",value:!0},{key:"false",value:!1}],valuesGroup:(e,t)=>"boolean"!=typeof e?[{key:"false",value:!1}]:[{key:e.toString(),value:e}],view:sy(dM)});var dD=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},dZ=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o=[(0,L.EM)("affine-data-view-renderer")],r=[],a=(0,sh.Jb)((0,P.Tm)(P.ao)),n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.wk)()],dD(this,null,i,{kind:"accessor",name:"config",static:!1,private:!1,access:{has:e=>"config"in e,get:e=>e.config,set:(e,t)=>{e.config=t}},metadata:h},n,l),dD(this,null,s,{kind:"accessor",name:"currentView",static:!1,private:!1,access:{has:e=>"currentView"in e,get:e=>e.currentView,set:(e,t)=>{e.currentView=t}},metadata:h},c,d),dD(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=(0,H.AH)`
    ${(0,H.iz)(c4("affine-data-view-renderer"))}
    affine-data-view-renderer {
      background-color: var(--affine-background-primary-color);
      display: contents;
    }
  `}renderView(e){if(!e)return;let t={dataViewEle:this,view:e.view,headerWidget:this.config.headerWidget,selection$:e.selection$,setSelection:e.setSelection,bindHotkey:e.bindHotkey,handleEvent:e.handleEvent,onDrag:this.config.onDrag,std:this.config.std,dataSource:this.config.dataSource};return(0,sl.D)(e.view.id,sv(e.view.viewMeta.renderer.view,t,{ref:this._view}))}connectedCallback(){let e;super.connectedCallback(),this.disposables.add(this.currentViewId$.subscribe(t=>{t!==e&&this.config.setSelection(void 0),e=t}))}render(){let e=(0,oJ.H)({"toolbar-hover-container":!0,"data-view-root":!0,"prevent-reference-popup":!0});return(0,ic.qy)`
      <div style="display: contents" class="${e}">
        ${this.renderView(this.currentViewConfig$.value)}
      </div>
    `}get expose(){return this._view.value}#t$;get config(){return this.#t$}set config(e){this.#t$=e}#tT;get currentView(){return this.#tT}set currentView(e){this.#tT=e}constructor(){super(...arguments),this._view=(0,lB._)(),this.currentViewId$=(0,sh.EW)(()=>this.config.dataSource.viewManager.currentViewId$.value),this.currentViewConfig$=(0,sh.EW)(()=>{let e=this.currentViewId$.value;if(e)return{view:this.viewMap$.value[e],selection$:(0,sh.EW)(()=>{let t=this.config.selection$;if(t.value?.viewId===e)return t.value}),setSelection:e=>{this.config.setSelection(e)},handleEvent:(e,t)=>this.config.handleEvent(e,e=>t(e)),bindHotkey:e=>this.config.bindHotkey(Object.fromEntries(Object.entries(e).map(([e,t])=>[e,e=>t(e)])))}}),this.focusFirstCell=()=>{this._view.value?.focusFirstCell()},this.openDetailPanel=e=>{let t=this.config.detailPanelConfig?.openDetailPanel;t?t(this,dy({view:e.view,rowId:e.rowId})).catch(console.error).finally(e.onClose):dv({target:this.config.detailPanelConfig?.target?.()??document.body,view:e.view,rowId:e.rowId,onClose:e.onClose})},this.viewMap$=(0,sh.EW)(()=>{let e=this.config.dataSource.viewManager;return Object.fromEntries(e.views$.value.map(t=>[t,e.viewGet(t)]))}),this.#t$=dZ(this,n,void 0),this.#tT=(dZ(this,l),dZ(this,c,void 0)),dZ(this,d)}static{dZ(t,r)}})})();class dj{constructor(){this._ref=(0,lB._)()}render(e){return(0,ic.qy)` <affine-data-view-renderer
      ${(0,lB.K)(this._ref)}
      .config="${e}"
    ></affine-data-view-renderer>`}get expose(){return this._ref.value?.expose}}var dV=i(73297);let dR=e=>({type:e,modelConfig:t=>({type:e,model:t,rendererConfig:i=>({type:e,model:t,renderer:i})})});new class{constructor(){this.map=new Map}getView(e){let t=this.map.get(e);if(!t)throw new u.Ss(p.O.DatabaseBlockError,`${e} is not exist`);return t}get all(){return Array.from(this.map.values())}};let dz=new db((e,t)=>{if("function"!==e.type)return!1;let i=ou.subst(Object.fromEntries(e.typeVars?.map(e=>[e.name,e.bound])??[]),e).args[0];return i&&ou.isSubtype(i,t)});dz.register(ol({args:[og.create()],rt:of.create()}),{name:"Length",impl:e=>"string"!=typeof e?0:e.length}),dz.register(ol({args:[oy.create()],rt:of.create()}),{name:"Day of month",impl:e=>"number"!=typeof e?0:new Date(e).getDate()}),dz.register(ol({args:[oy.create()],rt:of.create()}),{name:"Day of week",impl:e=>"number"!=typeof e?0:new Date(e).getDay()}),dz.register(ol({args:[oy.create()],rt:of.create()}),{name:"Month of year",impl:e=>"number"!=typeof e?0:new Date(e).getMonth()+1}),dz.register(ol({args:[oo(op.create())],rt:of.create()}),{name:"Size",impl:e=>Array.isArray(e)?e.length:0});let dF={isChecked:{type:ol({args:[ov.create()],rt:ov.create()}),label:"Is checked",impl:e=>!!e},isUnchecked:{type:ol({args:[ov.create()],rt:ov.create()}),label:"Is unchecked",impl:e=>!e}},dN={before:{type:ol({args:[oy.create(),oy.create()],rt:ov.create()}),label:"Before",impl:(e,t)=>"number"!=typeof e||"number"!=typeof t||e<t},after:{type:ol({args:[oy.create(),oy.create()],rt:ov.create()}),label:"After",impl:(e,t)=>"number"!=typeof e||"number"!=typeof t||e>t}},dq={containsAll:{type:ol({typeVars:[oa("options",ow.create())],args:[oo(on("options")),oo(on("options"))],rt:ov.create()}),label:"Contains all",impl:(e,t)=>!(Array.isArray(t)&&Array.isArray(e))||!t.length||t.every(t=>e.includes(t))},containsOneOf:{type:ol({typeVars:[oa("options",ow.create())],args:[oo(on("options")),oo(on("options"))],rt:ov.create()}),name:"containsOneOf",label:"Contains one of",impl:(e,t)=>!(Array.isArray(t)&&Array.isArray(e))||!t.length||t.some(t=>e.includes(t))},doesNotContainsOneOf:{type:ol({typeVars:[oa("options",ow.create())],args:[oo(on("options")),oo(on("options"))],rt:ov.create()}),label:"Does not contains one of",impl:(e,t)=>!(Array.isArray(t)&&Array.isArray(e))||!t.length||t.every(t=>!e.includes(t))},doesNotContainsAll:{type:ol({typeVars:[oa("options",ow.create())],args:[oo(on("options")),oo(on("options"))],rt:ov.create()}),label:"Does not contains all",impl:(e,t)=>!(Array.isArray(t)&&Array.isArray(e))||!t.length||!t.every(t=>e.includes(t))}},dU={greatThan:{type:ol({args:[of.create(),of.create()],rt:ov.create()}),label:">",impl:(e,t)=>"number"!=typeof(e=e??0)||"number"!=typeof t||e>t},greatThanOrEqual:{type:ol({args:[of.create(),of.create()],rt:ov.create()}),label:">=",impl:(e,t)=>"number"!=typeof(e=e??0)||"number"!=typeof t||e>=t},lessThan:{type:ol({args:[of.create(),of.create()],rt:ov.create()}),label:"<",impl:(e,t)=>"number"!=typeof(e=e??0)||"number"!=typeof t||e<t},lessThanOrEqual:{type:ol({args:[of.create(),of.create()],rt:ov.create()}),label:"<=",impl:(e,t)=>"number"!=typeof(e=e??0)||"number"!=typeof t||e<=t},equal:{type:ol({args:[of.create(),of.create()],rt:ov.create()}),label:"==",impl:(e,t)=>"number"!=typeof(e=e??0)||"number"!=typeof t||e==t},notEqual:{type:ol({args:[of.create(),of.create()],rt:ov.create()}),label:"!=",impl:(e,t)=>"number"!=typeof(e=e??0)||"number"!=typeof t||e!=t}},dW={is:{type:ol({args:[og.create(),og.create()],rt:ov.create()}),label:"Is",impl:(e,t)=>"string"!=typeof e||"string"!=typeof t||""===t||e==t},isNot:{type:ol({args:[og.create(),og.create()],rt:ov.create()}),label:"Is not",impl:(e,t)=>"string"!=typeof e||"string"!=typeof t||""===t||e!=t},contains:{type:ol({args:[og.create(),og.create()],rt:ov.create()}),label:"Contains",impl:(e,t)=>"string"!=typeof e||"string"!=typeof t||""===t||e.includes(t)},doesNoContains:{type:ol({args:[og.create(),og.create()],rt:ov.create()}),label:"Does no contains",impl:(e,t)=>"string"!=typeof e||"string"!=typeof t||""===t||!e.includes(t)},startsWith:{type:ol({args:[og.create(),og.create()],rt:ov.create()}),label:"Starts with",impl:(e,t)=>"string"!=typeof e||"string"!=typeof t||""===t||e.startsWith(t)},endsWith:{type:ol({args:[og.create(),og.create()],rt:ov.create()}),label:"Ends with",impl:(e,t)=>"string"!=typeof e||"string"!=typeof t||""===t||e.endsWith(t)}},dG={isOneOf:{type:ol({typeVars:[oa("options",ow.create())],args:[on("options"),oo(on("options"))],rt:ov.create()}),label:"Is one of",impl:(e,t)=>!Array.isArray(t)||!t.length||t.includes(e)},isNotOneOf:{type:ol({typeVars:[oa("options",ow.create())],args:[on("options"),oo(on("options"))],rt:ov.create()}),label:"Is not one of",impl:(e,t)=>!Array.isArray(t)||!t.length||!t.includes(e)}},dY={isNotEmpty:{type:ol({args:[op.create()],rt:ov.create()}),label:"Is not empty",impl:e=>Array.isArray(e)?e.length>0:"string"==typeof e?!!e:null!=e},isEmpty:{type:ol({args:[op.create()],rt:ov.create()}),label:"Is empty",impl:e=>Array.isArray(e)?0===e.length:"string"==typeof e?!e:null==e}},dK=new db((e,t)=>{if("function"!==e.type)return!1;let i=ou.subst(Object.fromEntries(e.typeVars?.map(e=>[e.name,e.bound])??[]),e).args[0];return i&&ou.isSubtype(i,t)});Object.entries({...dN,...dq,...dU,...dW,...dG,...dF,...dY}).forEach(([e,{type:t,...i}])=>{dK.register(t,{name:e,...i})});let dX=(e,t)=>"ref"===t.type?e.find(e=>e.id===t.name)?.type:dz.find(e=>e.data.name===t.propertyFuncName)?.type.rt,dQ=(e,t)=>{let i=dX(e,t);if(!i)throw new u.Ss(p.O.DatabaseBlockError,"can't resolve ref type");return dK.match(i)?.name},dJ=(e,t)=>({type:"filter",left:t,function:dQ(e,t),args:[]}),d1=e=>{let t={type:"ref",name:e[0].id},i=dQ(e,t);if(!i)throw new u.Ss(p.O.DatabaseBlockError,"can't match any filter");return{type:"filter",left:t,function:i,args:[]}},d0=e=>({type:"group",op:"and",conditions:[d1(e)]}),d2={type:"group",op:"and",conditions:[]},d5=(e,t,i)=>{let s=dw.match(e.model.dataType(i))?.name;return null!=s?{type:"groupBy",columnId:t,name:s}:void 0};class d7{constructor(e,t,i,s,o){this.groupBy=e,this.viewManager=s,this.ops=o,this.updateData=e=>{this.viewManager.columnUpdateData(this.columnId,e)},this.groupMap=Object.fromEntries(t.defaultKeys(i).map(({key:e,value:s})=>[e,{key:e,name:t.groupName(i,s),helper:this,type:i,value:s,rows:[]}])),this.viewManager.rows$.value.forEach(s=>{let o=this.viewManager.cellGetJsonValue(s,e.columnId);t.valuesGroup(o,i).forEach(({key:e,value:o})=>{this.groupMap[e]||(this.groupMap[e]={key:e,name:t.groupName(i,o),helper:this,value:o,rows:[],type:i}),this.groupMap[e].rows.push(s)})});let r=o.sortGroup(Object.keys(this.groupMap));r.forEach(e=>{this.groupMap[e].rows=o.sortRow(e,this.groupMap[e].rows)}),this.groups=r.map(e=>this.groupMap[e])}addToGroup(e,t){let i=this.columnId,s=(this.groupConfig()?.addToGroup??(e=>e))(this.groupMap[t].value,this.viewManager.cellGetJsonValue(e,i));this.viewManager.cellUpdateValue(e,i,s)}changeCardSort(e,t){this.ops.changeRowSort(this.groups.map(e=>e.key),e,t)}changeGroupSort(e){this.ops.changeGroupSort(e)}defaultGroupProperty(e){return{key:e,hide:!1,manuallyCardSort:[]}}groupConfig(){return dw.findData(e=>e.name===this.groupBy.name)}moveCardTo(e,t,i,s){if(t!==i){let s;let o=this.columnId,r=this.groupConfig()?.removeFromGroup??(()=>void 0),a=null!=t?this.groupMap[t]:void 0;a&&(s=r(a.value,this.viewManager.cellGetJsonValue(e,o))),s=(this.groupConfig()?.addToGroup??(e=>e))(this.groupMap[i].value,s),this.viewManager.cellUpdateValue(e,o,s)}let o=this.groupMap[i].rows.filter(t=>t!==e),r=(0,dV.q)(s,o,e=>e);o.splice(r,0,e),this.changeCardSort(i,o)}moveGroupTo(e,t){let i=this.groups.map(e=>e.key);i.splice(i.findIndex(t=>t===e),1);let s=(0,dV.q)(t,i,e=>e);i.splice(s,0,e),this.changeGroupSort(i)}removeFromGroup(e,t){let i=this.columnId,s=(this.groupConfig()?.removeFromGroup??(()=>void 0))(this.groupMap[t].value,this.viewManager.cellGetJsonValue(e,i));this.viewManager.cellUpdateValue(e,i,s)}updateValue(e,t){e.forEach(e=>{this.viewManager.cellUpdateValue(e,this.columnId,t)})}get addGroup(){return this.viewManager.columnGetMeta(this.column.type)?.model.ops.addGroup}get column(){return this.viewManager.columnGet(this.groupBy.columnId)}get columnId(){return this.groupBy.columnId}get data(){return this.viewManager.columnGetData(this.columnId)}get dataType(){return this.viewManager.columnGetDataType(this.groupBy.columnId)}get type(){return this.viewManager.columnGetType(this.columnId)}}let d3=(e,t,i)=>{let s=new Map(e.map(e=>[t(e),e])),o=[];for(let e of i){let t=s.get(e);t&&(s.delete(e),o.push(t))}return o.push(...s.values()),o},d4=(e,t)=>{if("ref"===e.type)return t[e.name];let i=d4(e.ref,t),s=dz.findData(t=>t.name===e.propertyFuncName);try{return s?.impl(i)}catch(e){console.error(e);return}},d6=(e,t)=>e.value,d8=(e,t)=>{let i=e=>{if("filter"===e.type){let i=d4(e.left,t),s=dK.findData(t=>t.name===e.function),o=e.args.map(e=>d6(e,t));try{if((s?.impl.length??0)>o.length+1)return!0;return s?.impl(i,...o)??!0}catch(e){console.error(e)}}else if("group"===e.type){if("and"===e.op)return e.conditions.every(e=>i(e));if("or"===e.op)return e.conditions.some(e=>i(e))}return!0};return i(e)};class d9{constructor(e,t){this.view=e,this.columnId=t,this.data$=(0,sh.EW)(()=>this.view.columnGetData(this.id)),this.detailRenderer$=(0,sh.EW)(()=>this.view.columnGetMeta(this.type)?.renderer.detailCellRenderer??this.renderer$.value),this.readonly$=(0,sh.EW)(()=>this.view.readonly$.value||this.view.columnGetReadonly(this.id)),this.renderer$=(0,sh.EW)(()=>this.view.columnGetMeta(this.type)?.renderer.cellRenderer)}cellGet(e){return this.view.cellGet(e,this.id)}getStringValue(e){return this.cellGet(e).stringValue$.value}getValue(e){return this.cellGet(e).value$.value}setValue(e,t){return this.cellGet(e).setValue(t)}setValueFromString(e,t){let i=this.view.columnParseValueFromString(this.id,t);i&&(i.data&&this.updateData(()=>i.data),this.setValue(e,i.value))}updateData(e){let t=this.data$.value;this.view.columnUpdateData(this.id,{...t,...e(t)})}updateHide(e){this.view.columnUpdateHide(this.id,e)}updateName(e){this.view.columnUpdateName(this.id,e)}get dataType(){return this.view.columnGetDataType(this.id)}get delete(){return()=>this.view.columnDelete(this.id)}get duplicate(){return()=>this.view.columnDuplicate(this.id)}get hide(){return this.view.columnGetHide(this.id)}get icon(){if(this.type)return this.view.getIcon(this.type)}get id(){return this.columnId}get index(){return this.view.columnGetIndex(this.id)}get isFirst(){return 0===this.view.columnGetIndex(this.id)}get isLast(){return this.view.columnGetIndex(this.id)===this.view.columnManagerList$.value.length-1}get name(){return this.view.columnGetName(this.id)}get type(){return this.view.columnGetType(this.id)}get updateType(){return e=>this.view.columnUpdateType(this.id,e)}}class he{constructor(e,t,i){this.view=e,this.columnId=t,this.rowId=i,this.column$=(0,sh.EW)(()=>this.view.columnGet(this.columnId)),this.isEmpty$=(0,sh.EW)(()=>this.meta$.value.model.ops.isEmpty(this.value$.value)),this.jsonValue$=(0,sh.EW)(()=>this.view.cellGetJsonValue(this.rowId,this.columnId)),this.meta$=(0,sh.EW)(()=>this.view.viewManager.dataSource.getPropertyMeta(this.column.type)),this.stringValue$=(0,sh.EW)(()=>this.view.cellGetStringValue(this.rowId,this.columnId)),this.value$=(0,sh.EW)(()=>this.view.viewManager.dataSource.cellGetValue(this.rowId,this.columnId))}getExtra(){}setValue(e){this.view.viewManager.dataSource.cellChangeValue(this.rowId,this.columnId,e)}get column(){return this.column$.value}get row(){return this.view.rowGet(this.rowId)}}class ht{constructor(e,t){this.singleView=e,this.rowId=t,this.cells$=(0,sh.EW)(()=>this.singleView.columns$.value.map(e=>new he(this.singleView,e,this.rowId)))}}class hi{constructor(e,t){this.viewManager=e,this.id=t,this._filterVisible$=(0,sh.vP)(!1),this.searchString=(0,sh.vP)(""),this.columnManagerList$=(0,sh.EW)(()=>this.columns$.value.map(e=>this.columnGet(e))),this.filterVisible$=(0,sh.EW)(()=>this._filterVisible$.value??(this.filter$.value?.conditions.length??0)>0),this.name$=(0,sh.EW)(()=>this.viewData$.value?.name??""),this.rows$=(0,sh.EW)(()=>this.filteredRows(this.searchString.value)),this.vars$=(0,sh.EW)(()=>this.columnsWithoutFilter$.value.map(e=>{let t=this.columnGet(e),i=this.dataSource.getPropertyMeta(t.type);return{id:t.id,name:t.name,type:i.model.dataType(t.data$.value),icon:t.icon}})),this.viewData$=(0,sh.EW)(()=>this.dataSource.viewDataGet(this.id))}filteredRows(e){return this.dataSource.rows$.value.filter(t=>(!e||!!this.columns$.value.some(i=>this.cellGetStringValue(t,i)?.toLowerCase().includes(e?.toLowerCase())))&&this.isShow(t))}cellGet(e,t){return new he(this,t,e)}cellGetJsonValue(e,t){let i=this.columnGetType(t);if(i)return this.dataSource.getPropertyMeta(i).model.toJson(this.dataSource.cellGetValue(e,t),this.columnGetData(t))}cellGetStringValue(e,t){let i=this.columnGetType(t);if(i)return this.dataSource.getPropertyMeta(i).model.toString(this.dataSource.cellGetValue(e,t),this.columnGetData(t))??""}cellGetValue(e,t){let i=this.columnGetType(t);if(i)return this.dataSource.getPropertyMeta(i).model.formatValue(this.dataSource.cellGetValue(e,t),this.columnGetData(t))}cellUpdateRenderValue(e,t,i){this.dataSource.cellChangeValue(e,t,i)}cellUpdateValue(e,t,i){this.dataSource.cellChangeValue(e,t,i)}columnAdd(e,t){let i=this.dataSource.propertyAdd(e,t);return this.columnMove(i,e),i}columnDelete(e){this.dataSource.propertyDelete(e)}columnDuplicate(e){let t=this.dataSource.propertyDuplicate(e);this.columnMove(t,{before:!1,id:e})}columnGetData(e){return this.dataSource.propertyGetData(e)}columnGetDataType(e){let t=this.columnGetType(e);if(t)return this.dataSource.getPropertyMeta(t).model.dataType(this.columnGetData(e))}columnGetIdByIndex(e){return this.columns$.value[e]}columnGetIndex(e){return this.columns$.value.indexOf(e)}columnGetMeta(e){return this.dataSource.getPropertyMeta(e)}columnGetName(e){return this.dataSource.propertyGetName(e)}columnGetNextColumn(e){return this.columnGet(this.columnGetIdByIndex(this.columnGetIndex(e)+1))}columnGetPreColumn(e){return this.columnGet(this.columnGetIdByIndex(this.columnGetIndex(e)-1))}columnGetReadonly(e){return this.dataSource.propertyGetReadonly(e)}columnGetType(e){return this.dataSource.propertyGetType(e)}columnParseValueFromString(e,t){let i=this.columnGetType(e);if(i)return this.dataSource.getPropertyMeta(i).model.fromString(t,this.columnGetData(e))??""}columnUpdateData(e,t){this.dataSource.propertyChangeData(e,t)}columnUpdateName(e,t){this.dataSource.propertyChangeName(e,t)}columnUpdateType(e,t){this.dataSource.propertyChangeType(e,t)}delete(){this.viewManager.viewDelete(this.id)}duplicate(){this.viewManager.viewDuplicate(this.id)}filterSetVisible(e){this._filterVisible$.value=e}getContext(e){return this.dataSource.getContext(e)}getIcon(e){return this.dataSource.getPropertyMeta(e).renderer.icon}rowAdd(e){return this.dataSource.rowAdd(e)}rowDelete(e){this.dataSource.rowDelete(e)}rowGet(e){return new ht(this,e)}rowMove(e,t){this.dataSource.rowMove(e,t)}setSearch(e){this.searchString.value=e}updateName(e){this.viewDataUpdate(()=>({name:e}))}viewDataUpdate(e){this.dataSource.viewDataUpdate(this.id,e)}get allColumnConfig(){return this.dataSource.addPropertyConfigList}get dataSource(){return this.viewManager.dataSource}get detailSlots(){return this.dataSource.detailSlots}get featureFlags$(){return this.dataSource.featureFlags$}get viewMeta(){return this.dataSource.viewMetaGet(this.type)}}class hs extends hi{constructor(){super(...arguments),this.columns$=(0,sh.EW)(()=>this.columnsWithoutFilter$.value.filter(e=>!this.columnGetHide(e))),this.columnsWithoutFilter$=(0,sh.EW)(()=>{let e=new Set(this.dataSource.properties$.value),t=[];return this.viewData$.value?.columns.forEach(i=>{e.has(i.id)&&(t.push(i.id),e.delete(i.id))}),t.push(...e),t}),this.detailColumns$=(0,sh.EW)(()=>this.columnsWithoutFilter$.value.filter(e=>"title"!==this.columnGetType(e))),this.filter$=(0,sh.EW)(()=>this.viewData$.value?.filter??d2),this.header$=(0,sh.EW)(()=>this.viewData$.value?.header??{titleColumn:this.columnsWithoutFilter$.value.find(e=>"title"===this.columnGetType(e)),iconColumn:"type"}),this.readonly$=(0,sh.EW)(()=>this.viewManager.readonly$.value)}addCard(e,t){let i=this.rowAdd(e);return this.groupHelper?.addToGroup(i,t),i}changeGroup(e){let t=this.columnGet(e);this.viewDataUpdate(e=>({groupBy:d5(this.columnGetMeta(t.type),t.id,t.data$.value)}))}checkGroup(e,t,i){return!!dw.isMatched(t,i)||(this.changeGroup(e),!1)}columnGet(e){return new ho(this,e)}columnGetHide(e){return this.view?.columns.find(t=>t.id===e)?.hide??!1}columnMove(e,t){this.viewDataUpdate(i=>{let s=i.columns.findIndex(t=>t.id===e);if(s<0)return{};let o=[...i.columns],[r]=o.splice(s,1),a=(0,dV.q)(t,o);return o.splice(a,0,r),{columns:o}})}columnUpdateHide(e,t){this.viewDataUpdate(i=>({columns:i.columns.map(i=>i.id===e?{...i,hide:t}:i)}))}getHeaderCover(e){let t=this.view?.header.coverColumn;if(t)return this.columnGet(t)}getHeaderIcon(e){let t=this.view?.header.iconColumn;if(t)return this.columnGet(t)}getHeaderTitle(e){let t=this.view?.header.titleColumn;if(t)return this.columnGet(t)}hasHeader(e){let t=this.view?.header;return!!t&&(!!t.titleColumn||!!t.iconColumn||!!t.coverColumn)}isInHeader(e){let t=this.view?.header;return!!t&&(t.titleColumn===e||t.iconColumn===e||t.coverColumn===e)}isShow(e){if(this.filter$.value?.conditions.length){let t=Object.fromEntries(this.columnManagerList$.value.map(t=>[t.id,t.cellGet(e).jsonValue$.value]));return d8(this.filter$.value,t)}return!0}rowGetNext(e){let t=this.rows$.value.indexOf(e);return this.rows$.value[t+1]}rowGetPrev(e){let t=this.rows$.value.indexOf(e);return this.rows$.value[t-1]}rowMove(e,t){this.dataSource.rowMove(e,t)}updateFilter(e){this.viewDataUpdate(()=>({filter:e}))}get columns(){return this.columnsWithoutFilter$.value.filter(e=>!this.columnGetHide(e))}get columnsWithoutFilter(){let e=new Set(this.dataSource.properties$.value),t=[];return this.view?.columns.forEach(i=>{e.has(i.id)&&(t.push(i.id),e.delete(i.id))}),t.push(...e),t}get filter(){return this.view?.filter??d2}get groupHelper(){let e=this.view?.groupBy;if(!e)return;let t=dw.find(t=>t.data.name===e.name);if(!t)return;let i=t.data,s=this.columnGetDataType(e.columnId);return s?this.checkGroup(e.columnId,t.type,s)?new d7(e,i,s,this,{sortGroup:e=>d3(e,e=>e,this.view?.groupProperties.map(e=>e.key)??[]),sortRow:(e,t)=>{let i=this.view?.groupProperties.find(t=>t.key===e);return d3(t,e=>e,i?.manuallyCardSort??[])},changeGroupSort:e=>{let t=new Map(this.view?.groupProperties.map(e=>[e.key,e]));this.viewDataUpdate(()=>({groupProperties:e.map(e=>t.get(e)||{key:e,hide:!1,manuallyCardSort:[]})}))},changeRowSort:(e,t,i)=>{let s=new Map(this.view?.groupProperties.map(e=>[e.key,e]));this.viewDataUpdate(()=>({groupProperties:e.map(e=>{if(e!==t)return s.get(e)??{key:e,hide:!1,manuallyCardSort:[]};{let t=s.get(e);return t?{...t,manuallyCardSort:i}:{key:e,hide:!1,manuallyCardSort:i}}})}))}}):this.groupHelper:void 0}get header(){return this.view?.header}get type(){return this.view?.mode??"kanban"}get view(){return this.viewData$.value}}class ho extends d9{constructor(e,t){super(e,t)}}let hr=dR("kanban").modelConfig({defaultName:"Kanban View",dataViewManager:hs});var ha=i(81856),hn=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},hl=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let hc=(()=>{let e,t,i,s,o,r,a,n,l,c,d,h,u=(0,sh.Jb)((0,P.Tm)(P.ao)),p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[],O=[],A=[],H=[],D=[],Z=[];return class extends u{static{let P="function"==typeof Symbol&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;e=[(0,L.MZ)({attribute:!1})],t=[(0,L.MZ)({attribute:!1})],i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({attribute:!1})],c=[(0,L.MZ)({attribute:!1})],d=[(0,L.MZ)({attribute:!1})],h=[(0,L.MZ)({attribute:!1})],hn(this,null,e,{kind:"accessor",name:"bindHotkey",static:!1,private:!1,access:{has:e=>"bindHotkey"in e,get:e=>e.bindHotkey,set:(e,t)=>{e.bindHotkey=t}},metadata:P},p,f),hn(this,null,t,{kind:"accessor",name:"dataSource",static:!1,private:!1,access:{has:e=>"dataSource"in e,get:e=>e.dataSource,set:(e,t)=>{e.dataSource=t}},metadata:P},g,m),hn(this,null,i,{kind:"accessor",name:"dataViewEle",static:!1,private:!1,access:{has:e=>"dataViewEle"in e,get:e=>e.dataViewEle,set:(e,t)=>{e.dataViewEle=t}},metadata:P},v,y),hn(this,null,s,{kind:"accessor",name:"handleEvent",static:!1,private:!1,access:{has:e=>"handleEvent"in e,get:e=>e.handleEvent,set:(e,t)=>{e.handleEvent=t}},metadata:P},b,w),hn(this,null,o,{kind:"accessor",name:"headerWidget",static:!1,private:!1,access:{has:e=>"headerWidget"in e,get:e=>e.headerWidget,set:(e,t)=>{e.headerWidget=t}},metadata:P},x,_),hn(this,null,r,{kind:"accessor",name:"modalMode",static:!1,private:!1,access:{has:e=>"modalMode"in e,get:e=>e.modalMode,set:(e,t)=>{e.modalMode=t}},metadata:P},C,k),hn(this,null,a,{kind:"accessor",name:"onDrag",static:!1,private:!1,access:{has:e=>"onDrag"in e,get:e=>e.onDrag,set:(e,t)=>{e.onDrag=t}},metadata:P},S,M),hn(this,null,n,{kind:"accessor",name:"selection$",static:!1,private:!1,access:{has:e=>"selection$"in e,get:e=>e.selection$,set:(e,t)=>{e.selection$=t}},metadata:P},E,I),hn(this,null,l,{kind:"accessor",name:"setSelection",static:!1,private:!1,access:{has:e=>"setSelection"in e,get:e=>e.setSelection,set:(e,t)=>{e.setSelection=t}},metadata:P},B,$),hn(this,null,c,{kind:"accessor",name:"std",static:!1,private:!1,access:{has:e=>"std"in e,get:e=>e.std,set:(e,t)=>{e.std=t}},metadata:P},T,O),hn(this,null,d,{kind:"accessor",name:"view",static:!1,private:!1,access:{has:e=>"view"in e,get:e=>e.view,set:(e,t)=>{e.view=t}},metadata:P},A,H),hn(this,null,h,{kind:"accessor",name:"viewSource",static:!1,private:!1,access:{has:e=>"viewSource"in e,get:e=>e.viewSource,set:(e,t)=>{e.viewSource=t}},metadata:P},D,Z),P&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:P})}#tO=hl(this,p,void 0);get bindHotkey(){return this.#tO}set bindHotkey(e){this.#tO=e}#tP=(hl(this,f),hl(this,g,void 0));get dataSource(){return this.#tP}set dataSource(e){this.#tP=e}#tA=(hl(this,m),hl(this,v,void 0));get dataViewEle(){return this.#tA}set dataViewEle(e){this.#tA=e}#tH=(hl(this,y),hl(this,b,void 0));get handleEvent(){return this.#tH}set handleEvent(e){this.#tH=e}#tL=(hl(this,w),hl(this,x,void 0));get headerWidget(){return this.#tL}set headerWidget(e){this.#tL=e}#tD=(hl(this,_),hl(this,C,void 0));get modalMode(){return this.#tD}set modalMode(e){this.#tD=e}#tZ=(hl(this,k),hl(this,S,void 0));get onDrag(){return this.#tZ}set onDrag(e){this.#tZ=e}#tj=(hl(this,M),hl(this,E,void 0));get selection$(){return this.#tj}set selection$(e){this.#tj=e}#tV=(hl(this,I),hl(this,B,void 0));get setSelection(){return this.#tV}set setSelection(e){this.#tV=e}#u=(hl(this,$),hl(this,T,void 0));get std(){return this.#u}set std(e){this.#u=e}#tw=(hl(this,O),hl(this,A,void 0));get view(){return this.#tw}set view(e){this.#tw=e}#tR=(hl(this,H),hl(this,D,void 0));get viewSource(){return this.#tR}set viewSource(e){this.#tR=e}constructor(){super(...arguments),hl(this,Z)}}})();class hd{constructor(e){this.host=e,this._onCopy=(e,t)=>!0,this._onPaste=e=>!0,e.addController(this)}get readonly(){return this.host.view.readonly$.value}hostConnected(){this.host.disposables.add(this.host.handleEvent("copy",e=>{let t=this.host.selectionController.selection;return!!t&&(this._onCopy(e,t),!0)})),this.host.disposables.add(this.host.handleEvent("paste",e=>!this.readonly&&(this._onPaste(e),!0)))}}let hh=e=>{let t=0,i=0,s=()=>{t=requestAnimationFrame(t=>{try{e(t-i)}finally{i=t,s()}})};return s(),()=>{cancelAnimationFrame(t)}},hu=1/16,hp=1/8,hf=(e,t)=>{let{vertical:i=!1,horizontal:s=!0,boundary:o}=t??{},{left:r=20,right:a=20,top:n=20,bottom:l=20}="number"==typeof o?{left:o,right:o,top:o,bottom:o}:o??{left:20,right:20,top:20,bottom:20},c={x:0,y:0},d=e=>{c.x=e.clientX,c.y=e.clientY};document.addEventListener("mousemove",d);let h=hh(o=>{let d=e.getBoundingClientRect(),{x:h,y:u}=c;if(s){let t=d.left+r,i=d.right-a;h<t?e.scrollLeft-=((t-h)*hp+1)*o*hu:h>i&&(e.scrollLeft+=((h-i)*hp+1)*o*hu)}if(i){let t=d.top+n,i=d.bottom-l;u<t?e.scrollTop-=((t-h)*hp+1)*o*hu:u>i&&(e.scrollTop+=((h-i)*hp+1)*o*hu)}t?.onScroll?.()});return()=>{h(),document.removeEventListener("mousemove",d)}},hg=(e,t,i)=>{let s=i.selection;i.selection=void 0,e.openDetailPanel({view:i.view,rowId:t,onClose:()=>{i.selection=s}})},hm=(e,t,i,s)=>{lZ(t,[{type:"action",name:"Expand Card",icon:np,select:()=>{hg(e,i,s)}},{type:"sub-menu",name:"Move To",icon:nd,options:{input:{search:!0},items:s.view.groupHelper?.groups.filter(e=>{let t=s.selection;return t?.selectionType==="card"&&e.key!==t?.cards[0].groupKey}).map(e=>({type:"action",name:null!=e.value?e.name:"Ungroup",select:()=>{s.moveCard(i,e.key)}}))??[]}},{type:"group",name:"",children:()=>[{type:"action",name:"Insert Before",icon:(0,H.qy)` <div
            style="transform: rotate(90deg);display:flex;align-items:center;"
          >
            ${ng}
          </div>`,select:()=>{s.insertRowBefore()}},{type:"action",name:"Insert After",icon:(0,H.qy)` <div
            style="transform: rotate(90deg);display:flex;align-items:center;"
          >
            ${nm}
          </div>`,select:()=>{s.insertRowAfter()}}]},{type:"group",name:"",children:()=>[{type:"action",name:"Delete Card",class:"delete-item",icon:sV,select:()=>{s.deleteCard()}}]}])};var hv=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},hy=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let hb=(0,H.AH)`
  affine-data-view-kanban-card {
    display: flex;
    position: relative;
    flex-direction: column;
    border: 1px solid var(--affine-border-color);
    box-shadow: 0px 2px 3px 0px rgba(0, 0, 0, 0.05);
    border-radius: 8px;
    transition: background-color 100ms ease-in-out;
    background-color: var(--affine-background-kanban-card-color);
  }

  affine-data-view-kanban-card:hover {
    background-color: var(--affine-hover-color);
  }

  affine-data-view-kanban-card .card-header {
    padding: 8px;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  affine-data-view-kanban-card .card-header-title uni-lit {
    width: 100%;
  }

  .card-header.has-divider {
    border-bottom: 0.5px solid var(--affine-border-color);
  }

  affine-data-view-kanban-card .card-header-title {
    font-size: var(--data-view-cell-text-size);
    line-height: var(--data-view-cell-text-line-height);
  }

  affine-data-view-kanban-card .card-header-icon {
    padding: 4px;
    background-color: var(--affine-background-secondary-color);
    display: flex;
    align-items: center;
    border-radius: 4px;
    width: max-content;
  }

  affine-data-view-kanban-card .card-header-icon svg {
    width: 16px;
    height: 16px;
    fill: var(--affine-icon-color);
    color: var(--affine-icon-color);
  }

  affine-data-view-kanban-card .card-body {
    display: flex;
    flex-direction: column;
    padding: 8px;
    gap: 4px;
  }

  affine-data-view-kanban-card:hover .card-ops {
    visibility: visible;
  }

  .card-ops {
    position: absolute;
    right: 8px;
    top: 8px;
    visibility: hidden;
    display: flex;
    gap: 4px;
    cursor: pointer;
  }

  .card-op {
    display: flex;
    position: relative;
    padding: 4px;
    border-radius: 4px;
    box-shadow: 0px 0px 4px 0px rgba(66, 65, 73, 0.14);
    background-color: var(--affine-background-primary-color);
  }

  .card-op:hover:before {
    content: '';
    border-radius: 4px;
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    background-color: var(--affine-hover-color);
  }

  .card-op svg {
    fill: var(--affine-icon-color);
    color: var(--affine-icon-color);
    width: 16px;
    height: 16px;
  }
`,hw=(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("affine-data-view-kanban-card")],l=[],c=(0,P.Tm)(P.ao),d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[];return class extends c{static{t=this}static{let w="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.wk)()],a=[(0,L.MZ)({attribute:!1})],hv(this,null,i,{kind:"accessor",name:"cardId",static:!1,private:!1,access:{has:e=>"cardId"in e,get:e=>e.cardId,set:(e,t)=>{e.cardId=t}},metadata:w},d,h),hv(this,null,s,{kind:"accessor",name:"dataViewEle",static:!1,private:!1,access:{has:e=>"dataViewEle"in e,get:e=>e.dataViewEle,set:(e,t)=>{e.dataViewEle=t}},metadata:w},u,p),hv(this,null,o,{kind:"accessor",name:"groupKey",static:!1,private:!1,access:{has:e=>"groupKey"in e,get:e=>e.groupKey,set:(e,t)=>{e.groupKey=t}},metadata:w},f,g),hv(this,null,r,{kind:"accessor",name:"isFocus",static:!1,private:!1,access:{has:e=>"isFocus"in e,get:e=>e.isFocus,set:(e,t)=>{e.isFocus=t}},metadata:w},m,v),hv(this,null,a,{kind:"accessor",name:"view",static:!1,private:!1,access:{has:e=>"view"in e,get:e=>e.view,set:(e,t)=>{e.view=t}},metadata:w},y,b),hv(null,e={value:t},n,{kind:"class",name:t.name,metadata:w},null,l),t=e.value,w&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w})}static{this.styles=hb}getSelection(){return this.closest("affine-data-view-kanban")?.selectionController}renderBody(e){return 0===e.length?"":(0,ic.qy)` <div class="card-body">
      ${(0,D.u)(e,e=>e.id,e=>this.view.isInHeader(e.id)?"":(0,ic.qy)` <affine-data-view-kanban-cell
            .contentOnly="${!1}"
            data-column-id="${e.id}"
            .view="${this.view}"
            .groupKey="${this.groupKey}"
            .column="${e}"
            .cardId="${this.cardId}"
          ></affine-data-view-kanban-cell>`)}
    </div>`}renderHeader(e){if(!this.view.hasHeader(this.cardId))return"";let t=(0,oJ.H)({"card-header":!0,"has-divider":e.length>0});return(0,ic.qy)`
      <div class="${t}">${this.renderTitle()} ${this.renderIcon()}</div>
    `}renderIcon(){let e=this.view.getHeaderIcon(this.cardId);if(e)return(0,ic.qy)` <div class="card-header-icon">
      ${e.cellGet(this.cardId).value$.value}
    </div>`}renderOps(){if(!this.view.readonly$.value)return(0,ic.qy)`
      <div class="card-ops">
        <div class="card-op" @click="${this.clickEdit}">${s7}</div>
        <div class="card-op" @click="${this.clickMore}">
          ${sR}
        </div>
      </div>
    `}renderTitle(){let e=this.view.getHeaderTitle(this.cardId);if(e)return(0,ic.qy)` <div class="card-header-title">
      <affine-data-view-kanban-cell
        .contentOnly="${!0}"
        data-column-id="${e.id}"
        .view="${this.view}"
        .groupKey="${this.groupKey}"
        .column="${e}"
        .cardId="${this.cardId}"
      ></affine-data-view-kanban-cell>
    </div>`}connectedCallback(){super.connectedCallback(),this.view.readonly$.value||(this._disposables.addFromEvent(this,"contextmenu",e=>{this.contextMenu(e)}),this._disposables.addFromEvent(this,"click",e=>{if(e.shiftKey){this.getSelection()?.shiftClickCard(e);return}let t=this.getSelection(),i=t?.selection;i?.selectionType==="card"&&(t&&(t.selection=void 0),this.dataViewEle.openDetailPanel({view:this.view,rowId:this.cardId,onClose:()=>{t&&(t.selection=i)}}))}))}render(){let e=this.view.columnManagerList$.value.filter(e=>!this.view.isInHeader(e.id));return this.style.border=this.isFocus?"1px solid var(--affine-primary-color)":"",(0,ic.qy)`
      ${this.renderHeader(e)} ${this.renderBody(e)}
      ${this.renderOps()}
    `}#tx;get cardId(){return this.#tx}set cardId(e){this.#tx=e}#tA;get dataViewEle(){return this.#tA}set dataViewEle(e){this.#tA=e}#tC;get groupKey(){return this.#tC}set groupKey(e){this.#tC=e}#ty;get isFocus(){return this.#ty}set isFocus(e){this.#ty=e}#tw;get view(){return this.#tw}set view(e){this.#tw=e}constructor(){super(...arguments),this.clickEdit=e=>{e.stopPropagation();let t=this.getSelection();t&&hg(this.dataViewEle,this.cardId,t)},this.clickMore=e=>{e.stopPropagation();let t=this.getSelection(),i=e.currentTarget;t&&(t.selection={selectionType:"card",cards:[{groupKey:this.groupKey,cardId:this.cardId}]},hm(this.dataViewEle,i,this.cardId,t))},this.contextMenu=e=>{e.stopPropagation(),e.preventDefault();let t=this.getSelection();if(t){t.selection={selectionType:"card",cards:[{groupKey:this.groupKey,cardId:this.cardId}]};let i=e.target.closest("affine-data-view-kanban-cell")??this;hm(this.dataViewEle,i,this.cardId,t)}},this.#tx=hy(this,d,void 0),this.#tA=(hy(this,h),hy(this,u,void 0)),this.#tC=(hy(this,p),hy(this,f,void 0)),this.#ty=(hy(this,g),hy(this,m,!1)),this.#tw=(hy(this,v),hy(this,y,void 0)),hy(this,b)}static{hy(t,l)}},t})();function hx(e,t){let i=e.helper.groupConfig();if(!i)return H.s6;let s=null==e.value?"":(0,ic.qy)` <uni-lit
          class="group-header-icon"
          .uni="${e.helper.column.icon}"
        ></uni-lit>`,o={value:e.value,data:e.helper.data,updateData:e.helper.updateData,updateValue:t=>e.helper.updateValue(e.rows,t),readonly:t.readonly};return(0,ic.qy)`
    <style>
      .group-header-count {
        flex-shrink: 0;
        width: 20px;
        height: 20px;
        border-radius: 4px;
        background-color: var(--affine-background-secondary-color);
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--affine-text-secondary-color);
        font-size: var(--data-view-cell-text-size);
      }

      .group-header-name {
        flex: 1;
        overflow: hidden;
      }

      .group-header-ops {
        display: flex;
        align-items: center;
      }

      .group-header-op {
        display: flex;
        align-items: center;
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        visibility: hidden;
        opacity: 0;
        transition: all 150ms cubic-bezier(0.42, 0, 1, 1);
      }

      .group-header-icon {
        display: flex;
        align-items: center;
        margin-right: -4px;
      }

      .group-header-icon svg {
        width: 16px;
        height: 16px;
        color: var(--affine-icon-color);
        fill: var(--affine-icon-color);
      }

      .group-header-op:hover {
        background-color: var(--affine-hover-color);
      }

      .group-header-op svg {
        width: 16px;
        height: 16px;
        fill: var(--affine-icon-color);
        color: var(--affine-icon-color);
      }
    </style>
    <div
      style="display:flex;align-items:center;gap: 8px;overflow: hidden;height: 22px;"
    >
      ${s} ${sv(i.view,o)} ${function(e){let t=e.rows;if(t.length)return(0,ic.qy)` <div class="group-header-count">${t.length}</div>`}(e)}
    </div>
    ${t.readonly?H.s6:(0,ic.qy)` <div class="group-header-ops">
          <div @click="${t.clickAdd}" class="group-header-op add-card">
            ${sj}
          </div>
          <div @click="${t.clickOps}" class="group-header-op">
            ${sR}
          </div>
        </div>`}
  `}var h_=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},hC=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let hk=(0,H.AH)`
  affine-data-view-kanban-group {
    width: 260px;
    flex-shrink: 0;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
  }

  .group-header {
    height: 32px;
    padding: 6px 4px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
    overflow: hidden;
  }

  .group-header-title {
    overflow: hidden;
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: var(--data-view-cell-text-size);
  }

  affine-data-view-kanban-group:hover .group-header-op {
    visibility: visible;
    opacity: 1;
  }

  .group-body {
    margin-top: 4px;
    display: flex;
    flex-direction: column;
    padding: 0 4px;
    gap: 12px;
  }

  .add-card {
    display: flex;
    align-items: center;
    padding: 4px;
    border-radius: 4px;
    cursor: pointer;
    font-size: var(--data-view-cell-text-size);
    line-height: var(--data-view-cell-text-line-height);
    visibility: hidden;
    opacity: 0;
    transition: all 150ms cubic-bezier(0.42, 0, 1, 1);
    color: var(--affine-text-secondary-color);
  }

  affine-data-view-kanban-group:hover .add-card {
    visibility: visible;
    opacity: 1;
  }

  affine-data-view-kanban-group .add-card:hover {
    background-color: var(--affine-hover-color);
    color: var(--affine-text-primary-color);
  }

  .sortable-ghost {
    background-color: var(--affine-hover-color);
    opacity: 0.5;
  }

  .sortable-drag {
    background-color: var(--affine-background-primary-color);
  }
`,hS=(()=>{let e,t,i,s,o,r=[(0,L.EM)("affine-data-view-kanban-group")],a=[],n=(0,P.Tm)(P.ao),l=[],c=[],d=[],h=[],u=[],p=[];return class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],h_(this,null,i,{kind:"accessor",name:"dataViewEle",static:!1,private:!1,access:{has:e=>"dataViewEle"in e,get:e=>e.dataViewEle,set:(e,t)=>{e.dataViewEle=t}},metadata:f},l,c),h_(this,null,s,{kind:"accessor",name:"group",static:!1,private:!1,access:{has:e=>"group"in e,get:e=>e.group,set:(e,t)=>{e.group=t}},metadata:f},d,h),h_(this,null,o,{kind:"accessor",name:"view",static:!1,private:!1,access:{has:e=>"view"in e,get:e=>e.view,set:(e,t)=>{e.view=t}},metadata:f},u,p),h_(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=hk}render(){let e=this.group.rows;return(0,ic.qy)`
      <div class="group-header">
        ${hx(this.group,{readonly:this.view.readonly$.value,clickAdd:this.clickAddCardInStart,clickOps:this.clickGroupOptions})}
      </div>
      <div class="group-body">
        ${(0,D.u)(e,e=>e,e=>(0,ic.qy)`
              <affine-data-view-kanban-card
                data-card-id="${e}"
                .groupKey="${this.group.key}"
                .dataViewEle="${this.dataViewEle}"
                .view="${this.view}"
                .cardId="${e}"
              ></affine-data-view-kanban-card>
            `)}
        ${this.view.readonly$.value?H.s6:(0,ic.qy)`<div class="add-card" @click="${this.clickAddCard}">
              <div
                style="margin-right: 4px;width: 16px;height: 16px;display:flex;align-items:center;"
              >
                ${ns}
              </div>
              Add
            </div>`}
      </div>
    `}#tA;get dataViewEle(){return this.#tA}set dataViewEle(e){this.#tA=e}#tz;get group(){return this.#tz}set group(e){this.#tz=e}#tw;get view(){return this.#tw}set view(e){this.#tw=e}constructor(){super(...arguments),this.clickAddCard=()=>{let e=this.view.addCard("end",this.group.key);requestAnimationFrame(()=>{let t=this.closest("affine-data-view-kanban");t&&(t.selectionController.selection={selectionType:"cell",groupKey:this.group.key,cardId:e,columnId:this.view.header$.value.titleColumn||this.view.columns$.value[0],isEditing:!0})})},this.clickAddCardInStart=()=>{let e=this.view.addCard("start",this.group.key);requestAnimationFrame(()=>{let t=this.closest("affine-data-view-kanban");t&&(t.selectionController.selection={selectionType:"cell",groupKey:this.group.key,cardId:e,columnId:this.view.header$.value.titleColumn||this.view.columns$.value[0],isEditing:!0})})},this.clickGroupOptions=e=>{lZ(e.currentTarget,[{type:"action",name:"Ungroup",hide:()=>null==this.group.value,select:()=>{this.group.rows.forEach(e=>{this.group.helper.removeFromGroup(e,this.group.key)})}},{type:"action",name:"Delete Cards",select:()=>{this.view.rowDelete(this.group.rows)}}])},this.#tA=hC(this,l,void 0),this.#tz=(hC(this,c),hC(this,d,void 0)),this.#tw=(hC(this,h),hC(this,u,void 0)),hC(this,p)}static{hC(t,a)}},t})();class hM{constructor(e){this.host=e,this.dragStart=(e,t)=>{let i=e.getBoundingClientRect(),s=t.x-i.left,o=t.y-i.top,r=hE(e,t.x-s,t.y-o),a=e.closest("affine-data-view-kanban-group"),n=hf(this.scrollContainer);cT(t,{onDrag:()=>void 0,onMove:t=>{if(!(t.target instanceof HTMLElement))return;if(r.display(t.x-s,t.y-o),!st.rw.fromDOM(this.host).isPointIn(g.b.from(t))){let i=this.host.onDrag;return i?(this.dropPreview.remove(),{type:"out",callback:i(t,e.cardId)}):void 0}let i=this.shooIndicator(t,e);if(i)return{type:"self",key:i.group.group.key,position:i.position}},onClear:()=>{r.remove(),this.dropPreview.remove(),n()},onDrop:t=>{if(t){if("out"===t.type){t.callback();return}t&&a&&a.group.helper.moveCardTo(e.cardId,a.group.key,t.key,t.position)}}})},this.dropPreview=hI(),this.getInsertPosition=e=>{let t=document.elementsFromPoint(e.x,e.y).find(e=>e instanceof hS);if(t){let i=hB(t,e.y);return{group:t,card:i,position:i?{before:!0,id:i.cardId}:"end"}}},this.shooIndicator=(e,t)=>{let i=this.getInsertPosition(e);return i?this.dropPreview.display(i.group,t,i.card):this.dropPreview.remove(),i},this.host.addController(this)}hostConnected(){this.host.view.readonly$.value||this.host.disposables.add(this.host.handleEvent("dragStart",e=>{let t=e.get("pointerState").raw,i=t.target;if(i instanceof Element){let e=i.closest("affine-data-view-kanban-cell");if(e?.editing)return;e?.selectCurrentCell(!1);let s=i.closest("affine-data-view-kanban-card");s&&this.dragStart(s,t)}return!0}))}get scrollContainer(){let e=this.host.querySelector(".affine-data-view-kanban-groups");return(0,V.Z1)(e),e}}let hE=(e,t,i)=>{let s=e.style.opacity;e.style.opacity="0.5";let o=document.createElement("div"),r=new hw;return r.cardId=e.cardId,r.view=e.view,r.isFocus=!0,r.style.backgroundColor="var(--affine-background-primary-color)",o.append(r),o.className="with-data-view-css-variable",o.style.width=`${e.getBoundingClientRect().width}px`,o.style.position="fixed",o.style.transform="rotate(-3deg)",o.style.left=`${t}px`,o.style.top=`${i}px`,o.style.zIndex="9999",document.body.append(o),{display(e,t){o.style.left=`${Math.round(e)}px`,o.style.top=`${Math.round(t)}px`},remove(){e.style.opacity=s,o.remove()}}},hI=()=>{let e=document.createElement("div");return e.style.height="2px",e.style.borderRadius="1px",e.style.backgroundColor="var(--affine-primary-color)",e.style.boxShadow="0px 0px 8px 0px rgba(30, 150, 235, 0.35)",{display(t,i,s){let o=s??t.querySelector(".add-card");if((0,V.Z1)(o),o.previousElementSibling===i||o===i){e.remove();return}o.previousElementSibling!==e&&o.insertAdjacentElement("beforebegin",e)},remove(){e.remove()}}},hB=(e,t)=>{let i=Array.from(e.querySelectorAll("affine-data-view-kanban-card")),s=i.map(e=>{let t=e.getBoundingClientRect();return(t.top+t.bottom)/2}).findIndex(e=>e>t);return i[s]};class h${constructor(e){this.host=e,this.host.addController(this)}get hasSelection(){return!!this.host.selectionController.selection}hostConnected(){this.host.disposables.add(this.host.bindHotkey({Escape:()=>(this.host.selectionController.focusOut(),!0),Enter:()=>{this.host.selectionController.focusIn()},ArrowUp:e=>!!this.hasSelection&&(this.host.selectionController.focusNext("up"),e.get("keyboardState").raw.preventDefault(),!0),ArrowDown:e=>!!this.hasSelection&&(this.host.selectionController.focusNext("down"),e.get("keyboardState").raw.preventDefault(),!0),Tab:e=>!!this.hasSelection&&(this.host.selectionController.focusNext("down"),e.get("keyboardState").raw.preventDefault(),!0),ArrowLeft:e=>!!this.hasSelection&&(this.host.selectionController.focusNext("left"),e.get("keyboardState").raw.preventDefault(),!0),ArrowRight:e=>!!this.hasSelection&&(this.host.selectionController.focusNext("right"),e.get("keyboardState").raw.preventDefault(),!0),Backspace:()=>{this.host.selectionController.deleteCard()}}))}}class hT{constructor(e){this.host=e,this.shiftClickCard=e=>{e.preventDefault();let t=this.selection,i=e.target,s=i.closest("affine-data-view-kanban-card")?.cardId,o=i.closest("affine-data-view-kanban-group")?.group.key;if(!s||!o)return;let r=t?.selectionType==="card"?t.cards:[],a=r.some(e=>e.cardId===s)?r.filter(e=>e.cardId!==s):[...r,{cardId:s,groupKey:o}];this.selection=hj(a)?{selectionType:"card",cards:a}:void 0},this.host.addController(this)}blur(e){if("cell"!==e.selectionType){hL(this.host,e).forEach(e=>e.isFocus=!1);return}let t=hD(this.host,e);if(!t)return;t.isFocus=!1;let i=t?.cell;e.isEditing?(requestAnimationFrame(()=>{i?.onExitEditMode()}),i?.blurCell()&&t.blur(),t.editing=!1):t.blur()}deleteCard(){let e=this.selection;e&&"cell"!==e.selectionType&&"card"===e.selectionType&&(this.host.view.rowDelete(e.cards.map(e=>e.cardId)),this.selection=void 0)}focus(e){if("cell"!==e.selectionType){hL(this.host,e).forEach((e,t)=>{0===t&&e.scrollIntoView({block:"nearest",inline:"nearest"}),e.isFocus=!0});return}let t=hD(this.host,e);if(!t)return;t.scrollIntoView({block:"nearest",inline:"nearest"}),t.isFocus=!0;let i=t?.cell;e.isEditing?(i?.onEnterEditMode(),i?.focusCell()&&t.focus(),t.editing=!0):t.focus()}focusFirstCell(){let e=this.host.groupHelper?.groups[0],t=e?.rows[0],i=t&&this.host.view.getHeaderTitle(t)?.id;e&&t&&i&&(this.selection={selectionType:"cell",groupKey:e.key,cardId:t,columnId:i,isEditing:!1})}focusIn(){let e=this.selection;if(e&&("cell"!==e.selectionType||!e.isEditing)){if("cell"===e.selectionType){this.selection={...e,isEditing:!0};return}if("card"===e.selectionType){let t=hL(this.host,e)[0],i=t?.querySelector("affine-data-view-kanban-cell");i&&(this.selection={groupKey:t.groupKey,cardId:t.cardId,selectionType:"cell",columnId:i.column.id,isEditing:!1})}}}focusNext(e){let t=this.selection;if(t){if("cell"!==t.selectionType||t.isEditing){if("card"===t.selectionType){let i=this.host.querySelector(`affine-data-view-kanban-group[data-key="${t.cards[0].groupKey}"]`),s=Array.from(i?.querySelectorAll("affine-data-view-kanban-card")??[]).findIndex(e=>e.cardId===t.cards[0].cardId),{card:o,cards:r}=this.getNextFocusCard(t,s,e);if(o instanceof hw){let e=r??t.cards;this.selection=hj(e)?{...t,cards:e}:void 0}}}else{let i=hA(this.host,t).findIndex(e=>e.column.id===t.columnId),{cell:s,cardId:o,groupKey:r}=this.getNextFocusCell(t,i,e);s instanceof da&&(this.selection={...t,cardId:o??t.cardId,groupKey:r??t.groupKey,columnId:s.column.id})}}}focusOut(){let e=this.selection;if(e?.selectionType==="card"){if(!hj(e.cards))return;this.selection={...e,cards:[e.cards[0]]}}e?.selectionType==="cell"&&(e.isEditing?this.selection={...e,isEditing:!1}:this.selection={selectionType:"card",cards:[{cardId:e.cardId,groupKey:e.groupKey}]})}getNextFocusCard(e,t,i){let s=this.host.querySelector(`affine-data-view-kanban-group[data-key="${e.cards[0].groupKey}"]`),o=Array.from(s?.querySelectorAll("affine-data-view-kanban-card")??[]);if("up"===i){let e=t-1,i=e<0?o.length-1:e,s=o[i];return{card:s,cards:[{cardId:s.cardId,groupKey:s.groupKey}]}}if("down"===i){let e=t+1,i=e>o.length-1?0:e,s=o[i];return{card:s,cards:[{cardId:s.cardId,groupKey:s.groupKey}]}}let r=Array.from(this.host.querySelectorAll("affine-data-view-kanban-group"));if("right"===i)return hO(this.host,r,e,e=>e===r.length-1?0:e+1);if("left"===i)return hO(this.host,r,e,e=>0===e?r.length-1:e-1);throw new u.Ss(p.O.DatabaseBlockError,"Unknown arrow keys, only support: up, down, left, and right keys.")}getNextFocusCell(e,t,i){let s=hA(this.host,e),o=this.host.querySelector(`affine-data-view-kanban-group[data-key="${e.groupKey}"]`),r=Array.from(o?.querySelectorAll("affine-data-view-kanban-card")??[]);if("up"===i){let o=t-1;return o<0?r.length>1?hP(i,r,e,e=>0===e?r.length-1:e-1):{cell:s[s.length-1]}:{cell:s[o]}}if("down"===i){let o=t+1;return o>=s.length?r.length>1?hP(i,r,e,e=>e===r.length-1?0:e+1):{cell:s[0]}:{cell:s[o]}}let a=Array.from(this.host.querySelectorAll("affine-data-view-kanban-group"));if("right"===i)return hO(this.host,a,e,e=>e===a.length-1?0:e+1);if("left"===i)return hO(this.host,a,e,e=>0===e?a.length-1:e-1);throw new u.Ss(p.O.DatabaseBlockError,"Unknown arrow keys, only support: up, down, left, and right keys.")}hostConnected(){this.host.disposables.add(this.host.selection$.subscribe(e=>{let t=this._selection;t&&this.blur(t),this._selection=e,e&&this.focus(e)}))}insertRowAfter(){let e=this.selection;if(e?.selectionType!=="card")return;let{cardId:t,groupKey:i}=e.cards[0],s=this.view.addCard({before:!1,id:t},i);requestAnimationFrame(()=>{let e=this.view.header$.value.titleColumn;e?this.selection={selectionType:"cell",groupKey:i,cardId:s,columnId:e,isEditing:!0}:this.selection={selectionType:"card",cards:[{cardId:s,groupKey:i}]}})}insertRowBefore(){let e=this.selection;if(e?.selectionType!=="card")return;let{cardId:t,groupKey:i}=e.cards[0],s=this.view.addCard({before:!0,id:t},i);requestAnimationFrame(()=>{let e=this.view.header$.value.titleColumn;e?this.selection={selectionType:"cell",groupKey:i,cardId:s,columnId:e,isEditing:!0}:this.selection={selectionType:"card",cards:[{cardId:s,groupKey:i}]}})}moveCard(e,t){let i=this.selection;i?.selectionType==="card"&&(this.view.groupHelper?.moveCardTo(e,i.cards[0].groupKey,t,"start"),requestAnimationFrame(()=>{if(this.selection?.selectionType!=="card")return;let e=i.cards.map(e=>({...e,groupKey:e.groupKey}));this.selection=hj(e)?{...i,cards:e}:void 0}))}get selection(){return this._selection}set selection(e){if(!e){this.host.setSelection();return}let t={...e,viewId:this.host.view.id,type:"kanban"};if("cell"===t.selectionType&&t.isEditing){let e=hD(this.host,t),i=e?.cell,s=!!i&&!!i.beforeEnterEditMode()&&t.isEditing;this.host.setSelection({...t,isEditing:s})}else this.host.setSelection(t)}get view(){return this.host.view}}function hO(e,t,i,s){let o=s(t.findIndex(e=>"cell"===i.selectionType?e.group.key===i.groupKey:e.group.key===i.cards[0].groupKey)),r=t[o];for(;0===r.group.rows.length;)r=t[o=s(o)];let a="cell"===i.selectionType?hD(e,i):hL(e,i)[0];(0,V.Z1)(a);let n=a.getBoundingClientRect(),l=Array.from(r.querySelectorAll("affine-data-view-kanban-card")),c=l.map((e,t)=>({offsetY:hZ(n,e.getBoundingClientRect()),index:t})).reduce((e,t)=>e.offsetY<t.offsetY?e:t),d=l[c.index];if("card"===i.selectionType)return{card:d,cards:[{cardId:d.cardId,groupKey:r.group.key}]};let h=Array.from(d.querySelectorAll("affine-data-view-kanban-cell")),u=h.map((e,t)=>({offsetY:hZ(n,e.getBoundingClientRect()),index:t})).reduce((e,t)=>e.offsetY<t.offsetY?e:t);return{cell:h[u.index],cardId:d.cardId,groupKey:r.group.key}}function hP(e,t,i,s){let o=s(t.findIndex(e=>e.cardId===i.cardId)),r=t[o],a=Array.from(r.querySelectorAll("affine-data-view-kanban-cell")),n="up"===e?a.length-1:0;return{cell:a[n],cardId:r.cardId}}function hA(e,t){let i=hH(e,t);return Array.from(i?.querySelectorAll("affine-data-view-kanban-cell")??[])}function hH(e,t){let i=e.querySelector(`affine-data-view-kanban-group[data-key="${t.groupKey}"]`);return i?i.querySelector(`affine-data-view-kanban-card[data-card-id="${t.cardId}"]`):null}function hL(e,t){if("group"===t.selectionType)return[];let i=t.cards.map(e=>e.groupKey).map(t=>e.querySelector(`affine-data-view-kanban-group[data-key="${t}"]`)).filter(e=>null!==e),s=t.cards.map(e=>e.cardId);return i.flatMap(e=>s.map(t=>e.querySelector(`affine-data-view-kanban-card[data-card-id="${t}"]`))).filter(e=>null!==e)}function hD(e,t){let i=hH(e,t);return i?.querySelector(`affine-data-view-kanban-cell[data-column-id="${t.columnId}"]`)}function hZ(e,t){return Math.abs(e.top+(e.bottom-e.top)/2-(t.top+(t.bottom-t.top)/2))}let hj=e=>e.length>0;var hV=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},hR=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let hz=(0,H.AH)`
  affine-data-view-kanban-header {
    display: flex;
    justify-content: space-between;
    padding: 4px;
  }

  .select-group {
    border-radius: 8px;
    padding: 4px 8px;
    cursor: pointer;
  }

  .select-group:hover {
    background-color: var(--affine-hover-color);
  }
`;(()=>{let e,t,i=[(0,L.EM)("affine-data-view-kanban-header")],s=[],o=(0,P.Tm)(P.ao),r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;hV(this,null,[(0,L.MZ)({attribute:!1})],{kind:"accessor",name:"view",static:!1,private:!1,access:{has:e=>"view"in e,get:e=>e.view,set:(e,t)=>{e.view=t}},metadata:n},r,a),hV(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=hz}render(){return(0,ic.qy)`
      <div></div>
      <div>
        <div class="select-group" @click="${this.clickGroup}">Group</div>
      </div>
    `}#tw;get view(){return this.#tw}set view(e){this.#tw=e}constructor(){super(...arguments),this.clickGroup=e=>{lD(e.target,{options:{input:{search:!0},items:this.view.columnManagerList$.value.filter(e=>e.id!==this.view.view?.groupBy?.columnId).map(e=>({type:"action",name:e.name,select:()=>{this.view.changeGroup(e.id)}}))}})},this.#tw=hR(this,r,void 0),hR(this,a)}static{hR(t,s)}})})();var hF=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},hN=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let hq=(0,H.AH)`
  affine-data-view-kanban {
    user-select: none;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  .affine-data-view-kanban-groups {
    position: relative;
    z-index: 1;
    display: flex;
    gap: 20px;
    width: 100%;
    padding-bottom: 4px;
    overflow-x: scroll;
    overflow-y: hidden;
  }

  .affine-data-view-kanban-groups:hover {
    padding-bottom: 0px;
  }

  .affine-data-view-kanban-groups::-webkit-scrollbar {
    -webkit-appearance: none;
    display: block;
  }

  .affine-data-view-kanban-groups::-webkit-scrollbar:horizontal {
    height: 4px;
  }

  .affine-data-view-kanban-groups::-webkit-scrollbar-thumb {
    border-radius: 2px;
    background-color: transparent;
  }

  .affine-data-view-kanban-groups:hover::-webkit-scrollbar:horizontal {
    height: 8px;
  }

  .affine-data-view-kanban-groups:hover::-webkit-scrollbar-thumb {
    border-radius: 16px;
    background-color: var(--affine-black-30);
  }

  .affine-data-view-kanban-groups:hover::-webkit-scrollbar-track {
    background-color: var(--affine-hover-color);
  }

  .add-group-icon {
    padding: 4px;
    border-radius: 4px;
    display: flex;
    align-items: center;
    cursor: pointer;
  }

  .add-group-icon:hover {
    background-color: var(--affine-hover-color);
  }

  .add-group-icon svg {
    width: 16px;
    height: 16px;
    fill: var(--affine-icon-color);
    color: var(--affine-icon-color);
  }
`,hU=(()=>{let e,t,i=[(0,L.EM)("affine-data-view-kanban")],s=[],o=hc,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;hF(this,null,[(0,L.P)(".affine-data-view-kanban-groups")],{kind:"accessor",name:"groups",static:!1,private:!1,access:{has:e=>"groups"in e,get:e=>e.groups,set:(e,t)=>{e.groups=t}},metadata:n},r,a),hF(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=hq}firstUpdated(){let e=ha.Ay.create(this.groups,{group:`kanban-group-drag-${this.view.id}`,handle:".group-header",draggable:"affine-data-view-kanban-group",animation:100,onEnd:e=>{if(e.item instanceof hS){let t=Array.from(this.groups.querySelectorAll("affine-data-view-kanban-group")),i=null!=e.newIndex?t[e.newIndex-1]?.group.key:void 0;this.groupHelper?.moveGroupTo(e.item.group.key,i?{before:!1,id:i}:"start")}}});this._disposables.add({dispose:()=>{e.destroy()}})}focusFirstCell(){this.selectionController.focusFirstCell()}getSelection(){return this.selectionController.selection}hideIndicator(){this.dragController.dropPreview.remove()}moveTo(e,t){let i=this.dragController.getInsertPosition(t);i&&i.group.group.helper.moveCardTo(e,"",i.group.group.key,i.position)}render(){this.groupHelper=this.view.groupHelper;let e=this.groupHelper?.groups;return e?(0,ic.qy)`
      ${sv(this.headerWidget,{view:this.view,viewMethods:this})}
      <div class="affine-data-view-kanban-groups" @wheel="${this.onWheel}">
        ${(0,D.u)(e,e=>e.key,e=>(0,ic.qy)` <affine-data-view-kanban-group
              data-key="${e.key}"
              .dataViewEle="${this.dataViewEle}"
              .view="${this.view}"
              .group="${e}"
            ></affine-data-view-kanban-group>`)}
        ${this.renderAddGroup()}
      </div>
    `:(0,ic.qy)``}showIndicator(e){return null!=this.dragController.shooIndicator(e,void 0)}#eB;get groups(){return this.#eB}set groups(e){this.#eB=e}constructor(){super(...arguments),this.dragController=new hM(this),this.clipboardController=new hd(this),this.hotkeysController=new h$(this),this.onWheel=e=>{if(e.metaKey||e.ctrlKey)return;let t=e.currentTarget;if(t instanceof HTMLElement){if(t.scrollWidth===t.clientWidth)return;e.stopPropagation()}},this.renderAddGroup=()=>{let e=this.groupHelper?.addGroup;if(e)return(0,ic.qy)` <div
      style="height: 32px;width: 100px;flex-shrink:0;display:flex;align-items:center;"
      @click="${t=>{lD(t.currentTarget,{options:{input:{onComplete:t=>{let i=this.groupHelper?.column;i&&i.updateData(()=>e(t,i.data$))}},items:[]}})}}"
    >
      <div class="add-group-icon">${ns}</div>
    </div>`},this.selectionController=new hT(this),this.#eB=hN(this,r,void 0),hN(this,a)}static{hN(t,s)}},t})(),hW=hr.rendererConfig({icon:oe("DatabaseKanbanViewIcon"),view:sy(hU)});class hG{constructor(e){this.column=e,this.dataViewManager=e.view}_assertColumnType(e){(0,V.U2)(this.column.type,e,`This function should only be called in a column of type ${e}`)}_getAllValuesAsString(e){let t=this.column.type,i=[];for(let s of e?.rows??this.dataViewManager.rows$.value)if("multi-select"===t){let e=this.column.data$.value.options??[],t=this.column.getValue(s)??[],o=new Map(e?.map(e=>[e.id,e]));for(let e of t){let t=o.get(e);t&&i.push(t.value)}}else{let e=this.column.getStringValue(s);""!==e.trim()&&i.push(e)}return i}_getCheckBoxColValues(e){return this._assertColumnType("checkbox"),(e?.rows??this.dataViewManager.rows$.value).map(e=>this.column.getValue(e))}_getColValuesAsNumber(e){this._assertColumnType("number");let t=[];for(let i of e?.rows??this.dataViewManager.rows$.value){let e=this.column.getValue(i);void 0!==e&&t.push(e)}return t}_getColValuesAsString(e,t=!1){let i=(e?.rows??this.dataViewManager.rows$.value).map(e=>this.column.getStringValue(e));return t?i.filter(e=>""!==e.trim()):i}_getColumnValueCounts(e){return this._getAllValuesAsString(e).length}_getEmptyCellCount(e){let t=0;for(let i of e?.rows??this.dataViewManager.rows$.value)""===this.column.getStringValue(i).trim()&&t++;return t}_getNonEmptyCellCount(e){let t=0;for(let i of e?.rows??this.dataViewManager.rows$.value)""!==this.column.getStringValue(i).trim()&&t++;return t}checked(e){let t=0;for(let i of this._getCheckBoxColValues(e))i&&t++;return t}countAll(e){return e?.rows.length??this.dataViewManager.rows$.value.length}countEmpty(e){return this._getEmptyCellCount(e)}countNonEmpty(e){return this._getNonEmptyCellCount(e)}countUniqueValues(e){return[...new Set(this._getAllValuesAsString(e))].length}countValues(e){return this._getColumnValueCounts(e)}max(e){return Math.max(...this._getColValuesAsNumber(e))}mean(e){let t=this._getColValuesAsNumber(e),i=0;for(let e of t)i+=e;return i/t.length}median(e){let t=this._getColValuesAsNumber(e).sort((e,t)=>e-t),i=t.length,s=Math.floor(i/2);return i%2==0?(t[s-1]+t[s])/2:t[s]}min(e){return Math.min(...this._getColValuesAsNumber(e))}mode(e){let t=this._getColValuesAsNumber(e),i=new Map;t.forEach(e=>{let t=i.get(e);void 0===t?i.set(e,1):i.set(e,t+1)});let s=0,o=0;return i.forEach((e,t)=>{e>o&&(s=t,o=e)}),s}notChecked(e){let t=0;for(let i of this._getCheckBoxColValues(e))!i&&t++;return t}percentChecked(e){return this._assertColumnType("checkbox"),this.checked(e)/this.countAll(e)}percentEmpty(e){return this._getEmptyCellCount(e)/this.countAll(e)}percentNonEmpty(e){return 1-this.percentEmpty(e)}percentNotChecked(e){return this._assertColumnType("checkbox"),1-this.percentChecked(e)}range(e){return this.max(e)-this.min(e)}sum(e){let t=this._getColValuesAsNumber(e),i=0;for(let e of t)i+=e;return i}}class hY extends hi{constructor(e,t){super(e,t),this.computedColumns$=(0,sh.EW)(()=>this.columnsWithoutFilter$.value.map(e=>{let t=this.columnGet(e);return{id:t.id,hide:t.hide,width:t.width$.value,statCalcType:t.statCalcOp}})),this.columns$=(0,sh.EW)(()=>this.columnsWithoutFilter$.value.filter(e=>!this.columnGetHide(e))),this.columnsWithoutFilter$=(0,sh.EW)(()=>{let e=new Set(this.dataSource.properties$.value),t=[];return this.viewData$.value?.columns.forEach(i=>{e.has(i.id)&&(t.push(i.id),e.delete(i.id))}),t.push(...e),t}),this.detailColumns$=(0,sh.EW)(()=>this.columnsWithoutFilter$.value.filter(e=>"title"!==this.columnGetType(e))),this.filter$=(0,sh.EW)(()=>this.viewData$.value?.filter??d2),this.header$=(0,sh.EW)(()=>this.viewData$.value?.header??{titleColumn:this.columnsWithoutFilter$.value.find(e=>"title"===this.columnGetType(e)),iconColumn:"type"}),this.readonly$=(0,sh.EW)(()=>this.viewManager.readonly$.value)}changeGroup(e){if(null==e){this.viewDataUpdate(()=>({groupBy:void 0}));return}let t=this.columnGet(e);this.viewDataUpdate(e=>({groupBy:d5(this.columnGetMeta(t.type),t.id,t.data$)}))}checkGroup(e,t,i){return!!dw.isMatched(t,i)||(this.changeGroup(e),!1)}columnGet(e){return new hK(this,e)}columnGetHide(e){return this.viewData$.value?.columns.find(t=>t.id===e)?.hide??!1}columnGetStatCalcOp(e){return this.viewData$.value?.columns.find(t=>t.id===e)?.statCalcType??"none"}columnGetWidth(e){return this.viewData$.value?.columns.find(t=>t.id===e)?.width??this.dataSource.propertyGetDefaultWidth(e)}columnMove(e,t){this.viewDataUpdate(()=>{let i=this.computedColumns$.value.findIndex(t=>t.id===e);if(i<0)return{};let s=[...this.computedColumns$.value],[o]=s.splice(i,1),r=(0,dV.q)(t,s);return s.splice(r,0,o),{columns:s}})}columnUpdateHide(e,t){this.viewDataUpdate(()=>({columns:this.computedColumns$.value.map(i=>i.id===e?{...i,hide:t}:i)}))}columnUpdateStatCalcOp(e,t){this.viewDataUpdate(()=>({columns:this.computedColumns$.value.map(i=>i.id===e?{...i,statCalcType:t}:i)}))}columnUpdateWidth(e,t){this.viewDataUpdate(()=>({columns:this.computedColumns$.value.map(i=>i.id===e?{...i,width:t}:i)}))}hasHeader(e){return Object.values(this.header$).some(t=>this.cellGetValue(e,t))}isInHeader(e){return Object.values(this.header$).some(t=>t===e)}isShow(e){if(this.filter$.value?.conditions.length){let t=Object.fromEntries(this.columnManagerList$.value.map(t=>[t.id,t.cellGet(e).jsonValue$.value]));return d8(this.filter$.value,t)}return!0}rowAdd(e,t){let i=super.rowAdd(e);return t&&this.groupHelper?.addToGroup(i,t),i}rowGetNext(e){let t=this.rows$.value.indexOf(e);return this.rows$.value[t+1]}rowGetPrev(e){let t=this.rows$.value.indexOf(e);return this.rows$.value[t-1]}rowMove(e,t,i,s){if(null==s){super.rowMove(e,t);return}this.groupHelper?.moveCardTo(e,i,s,t)}updateFilter(e){this.viewDataUpdate(()=>({filter:e}))}get groupHelper(){let e=this.viewData$.value?.groupBy;if(!e)return;let t=dw.find(t=>t.data.name===e.name);if(!t)return;let i=t.data,s=this.columnGetDataType(e.columnId);return s?this.checkGroup(e.columnId,t.type,s)?new d7(e,i,s,this,{sortGroup:e=>d3(e,e=>e,this.groupProperties.map(e=>e.key)),sortRow:(e,t)=>{let i=this.groupProperties.find(t=>t.key===e);return d3(t,e=>e,i?.manuallyCardSort??[])},changeGroupSort:e=>{let t=new Map(this.groupProperties.map(e=>[e.key,e]));this.viewDataUpdate(()=>({groupProperties:e.map(e=>t.get(e)||{key:e,hide:!1,manuallyCardSort:[]})}))},changeRowSort:(e,t,i)=>{let s=new Map(this.groupProperties.map(e=>[e.key,e]));this.viewDataUpdate(()=>({groupProperties:e.map(e=>{if(e!==t)return s.get(e)??{key:e,hide:!1,manuallyCardSort:[]};{let t=s.get(e);return t?{...t,manuallyCardSort:i}:{key:e,hide:!1,manuallyCardSort:i}}})}))}}):this.groupHelper:void 0}get groupProperties(){return this.viewData$.value?.groupProperties??[]}get name(){return this.viewData$.value?.name??""}get type(){return this.viewData$.value?.mode??"table"}}class hK extends d9{constructor(e,t){super(e,t),this.tableView=e,this.stats=new hG(this),this.width$=(0,sh.EW)(()=>this.tableView.columnGetWidth(this.id))}updateStatCalcOp(e){return this.tableView.columnUpdateStatCalcOp(this.id,e)}updateWidth(e){this.tableView.columnUpdateWidth(this.id,e)}get statCalcOp(){return this.tableView.columnGetStatCalcOp(this.id)}}let hX=dR("table").modelConfig({defaultName:"Table View",dataViewManager:hY}),hQ=e=>{let t=e.closest(".affine-database-table-container");return(0,V.Z1)(t),t},hJ={equal:(e,t)=>null!=e&&null!=t&&e.id===t.id&&e.groupKey===t.groupKey},h1={rows:e=>e?.selectionType==="row"?e.rows:[],rowsIds:e=>h1.rows(e).map(e=>e.id),includes:(e,t)=>!!e&&h1.rows(e).some(e=>hJ.equal(e,t)),create:e=>({selectionType:"row",rows:e.rows}),is:e=>e?.selectionType==="row"},h0={create:e=>({...e,selectionType:"area",rowsSelection:e.rowsSelection??{start:e.focus.rowIndex,end:e.focus.rowIndex},columnsSelection:e.columnsSelection??{start:e.focus.columnIndex,end:e.focus.columnIndex}}),isFocus:e=>e.focus.rowIndex===e.rowsSelection.start&&e.focus.rowIndex===e.rowsSelection.end&&e.focus.columnIndex===e.columnsSelection.start&&e.focus.columnIndex===e.columnsSelection.end};var h2=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},h5=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l,c=[(0,L.EM)("affine-database-cell-container")],d=[],h=(0,sh.Jb)((0,P.Tm)(P.ao)),u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[];(class extends h{static{t=this}static{let M="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.wk)()],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({attribute:!1})],h2(this,null,i,{kind:"accessor",name:"column",static:!1,private:!1,access:{has:e=>"column"in e,get:e=>e.column,set:(e,t)=>{e.column=t}},metadata:M},u,p),h2(this,null,s,{kind:"accessor",name:"columnId",static:!1,private:!1,access:{has:e=>"columnId"in e,get:e=>e.columnId,set:(e,t)=>{e.columnId=t}},metadata:M},f,g),h2(this,null,o,{kind:"accessor",name:"columnIndex",static:!1,private:!1,access:{has:e=>"columnIndex"in e,get:e=>e.columnIndex,set:(e,t)=>{e.columnIndex=t}},metadata:M},m,v),h2(this,null,r,{kind:"accessor",name:"isEditing",static:!1,private:!1,access:{has:e=>"isEditing"in e,get:e=>e.isEditing,set:(e,t)=>{e.isEditing=t}},metadata:M},y,b),h2(this,null,a,{kind:"accessor",name:"rowId",static:!1,private:!1,access:{has:e=>"rowId"in e,get:e=>e.rowId,set:(e,t)=>{e.rowId=t}},metadata:M},w,x),h2(this,null,n,{kind:"accessor",name:"rowIndex",static:!1,private:!1,access:{has:e=>"rowIndex"in e,get:e=>e.rowIndex,set:(e,t)=>{e.rowIndex=t}},metadata:M},_,C),h2(this,null,l,{kind:"accessor",name:"view",static:!1,private:!1,access:{has:e=>"view"in e,get:e=>e.view,set:(e,t)=>{e.view=t}},metadata:M},k,S),h2(null,e={value:t},c,{kind:"class",name:t.name,metadata:M},null,d),t=e.value,M&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:M})}static{this.styles=(0,H.AH)`
    affine-database-cell-container {
      display: flex;
      align-items: start;
      width: 100%;
      height: 100%;
      border: none;
      outline: none;
    }

    affine-database-cell-container * {
      box-sizing: border-box;
    }

    affine-database-cell-container uni-lit > *:first-child {
      padding: 8px;
    }
  `}get groupKey(){return this.closest("affine-data-view-table-group")?.group?.key}get readonly(){return this.column.readonly$.value}get selectionView(){return this.closest("affine-database-table")?.selectionController}connectedCallback(){super.connectedCallback(),this._disposables.addFromEvent(this,"click",()=>{this.isEditing||this.selectCurrentCell(!this.column.readonly$.value)})}isSelected(e){return"area"===e.selectionType&&(e.groupKey===this.groupKey&&e.focus.columnIndex===this.columnIndex?e.focus.rowIndex===this.rowIndex:void 0)}render(){let e=this.column.renderer$.value;if(!e)return;let{edit:t,view:i}=e;return sv(!this.readonly&&this.isEditing&&null!=t?t:i,{cell:this.cell$.value,isEditing:this.isEditing,selectCurrentCell:this.selectCurrentCell},{ref:this._cell,style:{display:"contents"}})}get cell(){return this._cell.value}get table(){let e=this.closest("affine-database-table");return(0,V.Z1)(e),e}#tm;get column(){return this.#tm}set column(e){this.#tm=e}#tF;get columnId(){return this.#tF}set columnId(e){this.#tF=e}#tN;get columnIndex(){return this.#tN}set columnIndex(e){this.#tN=e}#K;get isEditing(){return this.#K}set isEditing(e){this.#K=e}#tb;get rowId(){return this.#tb}set rowId(e){this.#tb=e}#tq;get rowIndex(){return this.#tq}set rowIndex(e){this.#tq=e}#tw;get view(){return this.#tw}set view(e){this.#tw=e}constructor(){super(...arguments),this._cell=(0,lB._)(),this.cell$=(0,sh.EW)(()=>this.column.cellGet(this.rowId)),this.selectCurrentCell=e=>{if(this.view.readonly$.value)return;let t=this.selectionView;if(t){let i=t.selection;i&&this.isSelected(i)&&e?t.selection=h0.create({groupKey:this.groupKey,focus:{rowIndex:this.rowIndex,columnIndex:this.columnIndex},isEditing:!0}):t.selection=h0.create({groupKey:this.groupKey,focus:{rowIndex:this.rowIndex,columnIndex:this.columnIndex},isEditing:!1})}},this.#tm=h5(this,u,void 0),this.#tF=(h5(this,p),h5(this,f,void 0)),this.#tN=(h5(this,g),h5(this,m,void 0)),this.#K=(h5(this,v),h5(this,y,!1)),this.#tb=(h5(this,b),h5(this,w,void 0)),this.#tq=(h5(this,x),h5(this,_,void 0)),this.#tw=(h5(this,C),h5(this,k,void 0)),h5(this,S)}static{h5(t,d)}})})();let h7=e=>{let t=e;for(;t&&!h3(t);)t=t.parentElement;return t??document.body},h3=e=>{let t=window.getComputedStyle(e).overflowY;return"scroll"===t||"auto"===t},h4=[{type:"number",label:"Number",symbol:"#"},{type:"numberWithCommas",label:"Number With Commas",symbol:"#"},{type:"percent",label:"Percent",symbol:"%"},{type:"currencyYen",label:"Japanese Yen",symbol:"¥"},{type:"currencyCNY",label:"Chinese Yuan",symbol:"¥"},{type:"currencyINR",label:"Indian Rupee",symbol:"₹"},{type:"currencyUSD",label:"US Dollar",symbol:"$"},{type:"currencyEUR",label:"Euro",symbol:"€"},{type:"currencyGBP",label:"British Pound",symbol:"£"}],h6=(e,t,i)=>Math.max(t,Math.min(i,e));var h8=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},h9=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let ue=(()=>{let e,t,i,s,o,r=[(0,L.EM)("affine-data-view-column-preview")],a=[],n=(0,P.Tm)(P.ao),l=[],c=[],d=[],h=[],u=[],p=[];return class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],h8(this,null,i,{kind:"accessor",name:"column",static:!1,private:!1,access:{has:e=>"column"in e,get:e=>e.column,set:(e,t)=>{e.column=t}},metadata:f},l,c),h8(this,null,s,{kind:"accessor",name:"table",static:!1,private:!1,access:{has:e=>"table"in e,get:e=>e.table,set:(e,t)=>{e.table=t}},metadata:f},d,h),h8(this,null,o,{kind:"accessor",name:"tableViewManager",static:!1,private:!1,access:{has:e=>"tableViewManager"in e,get:e=>e.tableViewManager,set:(e,t)=>{e.tableViewManager=t}},metadata:f},u,p),h8(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    affine-data-view-column-preview {
      pointer-events: none;
      display: block;
    }
  `}renderGroup(e){let t=this.tableViewManager.columnGetIndex(this.column.id);return(0,ic.qy)`
      <div
        style="background-color: var(--affine-background-primary-color);border-top: 1px solid var(--affine-border-color);box-shadow: var(--affine-shadow-2);"
      >
        <affine-database-header-column
          .tableViewManager="${this.tableViewManager}"
          .column="${this.column}"
        ></affine-database-header-column>
        ${(0,D.u)(e,(e,i)=>{let s=this.table.querySelector(`affine-database-cell-container[data-row-id="${e}"]`)?.clientHeight,o=(0,Z.W)({height:s+"px"});return(0,ic.qy)`<div
            style="border-top: 1px solid var(--affine-border-color)"
          >
            <div style="${o}">
              <affine-database-cell-container
                .column="${this.column}"
                .view="${this.tableViewManager}"
                .rowId="${e}"
                .columnId="${this.column.id}"
                .rowIndex="${i}"
                .columnIndex="${t}"
              ></affine-database-cell-container>
            </div>
          </div>`})}
      </div>
      <div style="height: 45px;"></div>
    `}render(){let e=this.tableViewManager.groupHelper;if(!e){let e=this.tableViewManager.rows$.value;return this.renderGroup(e)}return e.groups.map(e=>(0,ic.qy)`
        <div style="height: 44px;"></div>
        ${this.renderGroup(e.rows)}
      `)}#tm=h9(this,l,void 0);get column(){return this.#tm}set column(e){this.#tm=e}#tU=(h9(this,c),h9(this,d,void 0));get table(){return this.#tU}set table(e){this.#tU=e}#tW=(h9(this,h),h9(this,u,void 0));get tableViewManager(){return this.#tW}set tableViewManager(e){this.#tW=e}constructor(){super(...arguments),h9(this,p)}static{h9(t,a)}},t})();var ut=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ui=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("affine-database-number-format-bar")],s=[],o=(0,P.Tm)(H.WF),r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;ut(this,null,[(0,L.MZ)({attribute:!1})],{kind:"accessor",name:"column",static:!1,private:!1,access:{has:e=>"column"in e,get:e=>e.column,set:(e,t)=>{e.column=t}},metadata:n},r,a),ut(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    .number-format-toolbar-container {
      padding: 4px 12px;
      display: flex;
      gap: 7px;
      flex-direction: column;
    }

    .number-format-decimal-places {
      display: flex;
      gap: 4px;
      align-items: center;
      justify-content: flex-start;
    }

    .number-format-toolbar-button {
      box-sizing: border-box;
      background-color: transparent;
      border: none;
      border-radius: 4px;
      color: var(--affine-icon-color);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 4px;
      position: relative;

      user-select: none;
    }

    .number-format-toolbar-button svg {
      width: 16px;
      height: 16px;
    }

    .number-formatting-sample {
      font-size: var(--affine-font-xs);
      color: var(--affine-icon-color);
      margin-left: auto;
    }
    .number-format-toolbar-button:hover {
      background-color: var(--affine-hover-color);
    }
    .divider {
      width: 100%;
      height: 1px;
      background-color: var(--affine-border-color);
    }
  `}render(){return(0,H.qy)`
      <div class="number-format-toolbar-container">
        <div class="number-format-decimal-places">
          <button
            class="number-format-toolbar-button"
            aria-label="decrease decimal places"
            @click=${this._decrementDecimalPlaces}
          >
            ${s5}
          </button>

          <button
            class="number-format-toolbar-button"
            aria-label="increase decimal places"
            @click=${this._incrementDecimalPlaces}
          >
            ${s2}
          </button>
          <span class="number-formatting-sample">
            &lpar;&nbsp;${cS(1,"number",this.column.data$.value.decimal??0)}&nbsp;&rpar;
          </span>
        </div>
        <div class="divider"></div>
      </div>
    `}#tm;get column(){return this.#tm}set column(e){this.#tm=e}constructor(){super(...arguments),this._decrementDecimalPlaces=()=>{this.column.updateData(e=>({decimal:Math.max((e.decimal??0)-1,0)})),this.requestUpdate()},this._incrementDecimalPlaces=()=>{this.column.updateData(e=>({decimal:Math.min((e.decimal??0)+1,8)})),this.requestUpdate()},this.#tm=ui(this,r,void 0),ui(this,a)}static{ui(t,s)}})})();var us=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},uo=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let ur=(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("data-view-table-vertical-indicator")],l=[],c=(0,P.Tm)(P.ao),d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[];return class extends c{static{t=this}static{let w="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],us(this,null,i,{kind:"accessor",name:"left",static:!1,private:!1,access:{has:e=>"left"in e,get:e=>e.left,set:(e,t)=>{e.left=t}},metadata:w},d,h),us(this,null,s,{kind:"accessor",name:"lines",static:!1,private:!1,access:{has:e=>"lines"in e,get:e=>e.lines,set:(e,t)=>{e.lines=t}},metadata:w},u,p),us(this,null,o,{kind:"accessor",name:"shadow",static:!1,private:!1,access:{has:e=>"shadow"in e,get:e=>e.shadow,set:(e,t)=>{e.shadow=t}},metadata:w},f,g),us(this,null,r,{kind:"accessor",name:"top",static:!1,private:!1,access:{has:e=>"top"in e,get:e=>e.top,set:(e,t)=>{e.top=t}},metadata:w},m,v),us(this,null,a,{kind:"accessor",name:"width",static:!1,private:!1,access:{has:e=>"width"in e,get:e=>e.width,set:(e,t)=>{e.width=t}},metadata:w},y,b),us(null,e={value:t},n,{kind:"class",name:t.name,metadata:w},null,l),t=e.value,w&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w})}static{this.styles=(0,H.AH)`
    data-view-table-vertical-indicator {
      position: fixed;
      left: 0;
      top: 0;
      z-index: 1;
      pointer-events: none;
    }

    .vertical-indicator-container {
      position: absolute;
      pointer-events: none;
    }

    .vertical-indicator-group {
      position: absolute;
      z-index: 1;
      width: 100%;
      background-color: var(--affine-hover-color);
      pointer-events: none;
    }
    .vertical-indicator-group::after {
      position: absolute;
      z-index: 1;
      width: 2px;
      height: 100%;
      content: '';
      right: 0;
      background-color: var(--affine-primary-color);
      border-radius: 1px;
    }
    .with-shadow.vertical-indicator-group::after {
      box-shadow: 0px 0px 8px 0px rgba(30, 150, 235, 0.35);
    }
  `}render(){let e=(0,Z.W)({top:`${this.top}px`,left:`${this.left}px`,width:`${Math.max(this.width,1)}px`});return(0,H.qy)`
      <div class="vertical-indicator-container" style=${e}>
        ${(0,D.u)(this.lines,({top:e,bottom:t})=>{let i=(0,Z.W)({top:`${e}px`,height:`${t-e}px`}),s=(0,oJ.H)({"with-shadow":this.shadow,"vertical-indicator-group":!0});return(0,H.qy)`<div class="${s}" style=${i}></div>`})}
      </div>
    `}#tG=uo(this,d,void 0);get left(){return this.#tG}set left(e){this.#tG=e}#tY=(uo(this,h),uo(this,u,void 0));get lines(){return this.#tY}set lines(e){this.#tY=e}#tK=(uo(this,p),uo(this,f,!1));get shadow(){return this.#tK}set shadow(e){this.#tK=e}#tX=(uo(this,g),uo(this,m,void 0));get top(){return this.#tX}set top(e){this.#tX=e}#tQ=(uo(this,v),uo(this,y,void 0));get width(){return this.#tQ}set width(e){this.#tQ=e}constructor(){super(...arguments),uo(this,b)}static{uo(t,l)}},t})(),ua=e=>{let t=e.getBoundingClientRect();return Array.from(e.querySelectorAll("affine-data-view-table-group")).map(e=>{let i=e.getBoundingClientRect(),s=e.querySelector(".affine-database-column-header")?.getBoundingClientRect().top??i.top,o=e.querySelector(".affine-database-block-rows")?.getBoundingClientRect().bottom??i.bottom;return{top:s-t.top,bottom:o-t.top}})},un=(e,t,i,s)=>{let o=i/s.width$.value,r=t.getBoundingClientRect(),a=t.querySelector(`affine-database-header-column[data-column-id='${s.id}']`)?.getBoundingClientRect().left??0,n=ua(t),l=uc();l.display(s.width$.value*o,r.top,n,a),t.style.pointerEvents="none",cT(e,{onDrag:()=>({width:s.width$.value}),onMove:({x:e})=>{let t=Math.round(h6((e-a)/o,100,1/0));return l.display(t*o,r.top,n,a),{width:t}},onDrop:({width:e})=>{s.updateWidth(e)},onClear:()=>{t.style.pointerEvents="auto",l.remove()}})},ul=null,uc=()=>{if(!ul){let e=new ur;ul={display(t,i,s,o,r=!1){document.body.append(e),e.left=o,e.lines=s,e.top=i,e.width=t,e.shadow=r},remove(){e.remove()}}}return ul};var ud=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},uh=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,L.EM)("affine-database-header-column")],a=[],n=(0,sh.Jb)((0,P.Tm)(P.ao)),l=[],c=[],d=[],h=[],u=[],p=[];var f=class extends n{static{t=this}static{let g="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],ud(this,null,i,{kind:"accessor",name:"column",static:!1,private:!1,access:{has:e=>"column"in e,get:e=>e.column,set:(e,t)=>{e.column=t}},metadata:g},l,c),ud(this,null,s,{kind:"accessor",name:"grabStatus",static:!1,private:!1,access:{has:e=>"grabStatus"in e,get:e=>e.grabStatus,set:(e,t)=>{e.grabStatus=t}},metadata:g},d,h),ud(this,null,o,{kind:"accessor",name:"tableViewManager",static:!1,private:!1,access:{has:e=>"tableViewManager"in e,get:e=>e.tableViewManager,set:(e,t)=>{e.tableViewManager=t}},metadata:g},u,p),ud(null,e={value:t},r,{kind:"class",name:t.name,metadata:g},null,a),f=t=e.value,g&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:g})}static{this.styles=(0,H.AH)`
    affine-database-header-column {
      display: flex;
    }

    .affine-database-header-column-grabbing * {
      cursor: grabbing;
    }
  `}popMenu(e){let t=this.tableViewManager.featureFlags$.value.enable_number_formatting;lD(e??this,{options:{input:c6(this.column),items:[{type:"group",name:"Column Prop Group ",children:()=>{var e;return[c8(this.column),...t?[{type:"sub-menu",name:"Number Format",hide:()=>!this.column.updateData||"number"!==this.column.type,options:{input:{search:!0},items:[(e=this.column,{type:"custom",render:()=>(0,ic.qy)` <affine-database-number-format-bar
        .column="${e}"
      ></affine-database-number-format-bar>`}),...h4.map(e=>{let t=this.column.data$.value;return{type:"action",isSelected:t.format===e.type,icon:(0,ic.qy)`<span
                                style="font-size: var(--affine-font-base); scale: 1.2;"
                                >${e.symbol}</span
                              >`,name:e.label,select:()=>{t.format!==e.type&&this.column.updateData(()=>({format:e.type}))}}})]}}]:[]]}},{type:"action",name:"Duplicate Column",icon:sk,hide:()=>!this.column.duplicate||"title"===this.column.type,select:()=>{this.column.duplicate?.()}},{type:"action",name:"Insert Left Column",icon:sS,select:()=>{this.tableViewManager.columnAdd({id:this.column.id,before:!0}),Promise.resolve().then(()=>{let e=this.previousElementSibling;e instanceof f&&(e.editTitle(),e.scrollIntoView({inline:"nearest",block:"nearest"}))}).catch(console.error)}},{type:"action",name:"Insert Right Column",icon:sM,select:()=>{this.tableViewManager.columnAdd({id:this.column.id,before:!1}),Promise.resolve().then(()=>{let e=this.nextElementSibling;e instanceof f&&(e.editTitle(),e.scrollIntoView({inline:"nearest",block:"nearest"}))}).catch(console.error)}},{type:"action",name:"Move Left",icon:sE,hide:()=>this.column.isFirst,select:()=>{let e=this.tableViewManager.columnGetPreColumn(this.column.id)?.id;e&&this.tableViewManager.columnMove(this.column.id,{id:e,before:!0})}},{type:"action",name:"Move Right",icon:sI,hide:()=>this.column.isLast,select:()=>{let e=this.tableViewManager.columnGetNextColumn(this.column.id)?.id;e&&this.tableViewManager.columnMove(this.column.id,{id:e,before:!1})}},{type:"group",name:"operation",children:()=>[{type:"action",name:"Delete Column",icon:sV,hide:()=>!this.column.delete||"title"===this.column.type,select:()=>{this.column.delete?.()},class:"delete-item"}]}]}})}get readonly(){return this.tableViewManager.readonly$.value}widthDragStart(e){un(e,hQ(this),this.getBoundingClientRect().width,this.column)}connectedCallback(){super.connectedCallback();let e=this.closest("affine-database-table");e&&this.disposables.add(e.handleEvent("dragStart",e=>{if(this.tableViewManager.readonly$.value)return;let t=e.get("pointerState").raw,i=t.target;if(i instanceof Element){if(this.widthDragBar.value?.contains(i))return t.preventDefault(),this.widthDragStart(t),!0;if(this.contains(i))return t.preventDefault(),this.moveColumn(t),!0}return!1}))}render(){let e=this.column,t=(0,Z.W)({height:"36px"}),i=(0,oJ.H)({"affine-database-column-move":!0,[this.grabStatus]:!0});return(0,ic.qy)`
      <div
        style=${t}
        class="affine-database-column-content"
        @click="${this._clickColumn}"
        @contextmenu="${this._contextMenu}"
      >
        ${this.readonly?null:(0,ic.qy)` <button class="${i}">
              <div class="hover-trigger"></div>
              <div class="control-h"></div>
              <div class="control-l"></div>
              <div class="control-r"></div>
            </button>`}
        <div class="affine-database-column-text ${e.type}">
          <div
            class="affine-database-column-type-icon dv-hover"
            @click="${this._clickTypeIcon}"
          >
            <uni-lit .uni="${e.icon}"></uni-lit>
          </div>
          <div class="affine-database-column-text-content">
            <div class="affine-database-column-text-input">${e.name}</div>
          </div>
        </div>
      </div>
      <div
        ${(0,lB.K)(this.widthDragBar)}
        @mouseenter="${this._enterWidthDragBar}"
        @mouseleave="${this._leaveWidthDragBar}"
        style="width: 0;position: relative;height: 100%;z-index: 1;cursor: col-resize"
      >
        <div style="width: 8px;height: 100%;margin-left: -4px;"></div>
      </div>
    `}#tm;get column(){return this.#tm}set column(e){this.#tm=e}#tJ;get grabStatus(){return this.#tJ}set grabStatus(e){this.#tJ=e}#tW;get tableViewManager(){return this.#tW}set tableViewManager(e){this.#tW=e}constructor(){super(...arguments),this._clickColumn=()=>{this.tableViewManager.readonly$.value||this.popMenu()},this._clickTypeIcon=e=>{this.tableViewManager.readonly$.value||"title"===this.column.type||(e.stopPropagation(),lD(this,{options:{input:{search:!0,placeholder:"Search"},items:this.tableViewManager.allColumnConfig.map(e=>({type:"action",name:e.name,isSelected:e.type===this.column.type,icon:sv(this.tableViewManager.getIcon(e.type)),select:()=>{this.column.updateType?.(e.type)}}))}}))},this._columnsOffset=(e,t)=>{let i=e.querySelectorAll("affine-database-header-column"),s=[],o=[],r=s,a=[],n=Array.from(i);for(let t=0;t<n.length;t++){let i=n[t];if(i===this){r=o,a.push(-1);continue}r.push({x:i.offsetLeft+i.offsetWidth/2,ele:i}),a.push(i.getBoundingClientRect().left-e.getBoundingClientRect().left),t===n.length-1&&a.push(i.getBoundingClientRect().right-e.getBoundingClientRect().left)}s.reverse();let l=(e,t)=>{let i;for(let t=0;t<s.length;t++){let{x:o,ele:r}=s[t];if(o<e){if(i)return i;break}i={before:!0,id:r.column.id}}let r=e+t;for(let{x:e,ele:t}of o){if(e>r){if(i)return i;break}i={before:!1,id:t.column.id}}return i},c=n.map(e=>({id:e.column.id})),d=e=>a[(0,dV.q)(e,c)];return{computeInsertInfo:(e,t)=>{let i=l(e,t);return{insertPosition:i,insertOffset:i?d(i):void 0}}}},this._contextMenu=e=>{this.tableViewManager.readonly$.value||(e.preventDefault(),this.popMenu(e.target))},this._enterWidthDragBar=()=>{this.tableViewManager.readonly$.value||(this.drawWidthDragBarTask&&(cancelAnimationFrame(this.drawWidthDragBarTask),this.drawWidthDragBarTask=0),this.drawWidthDragBar())},this._leaveWidthDragBar=()=>{cancelAnimationFrame(this.drawWidthDragBarTask),this.drawWidthDragBarTask=0,uc().remove()},this.drawWidthDragBar=()=>{let e=hQ(this),t=e.getBoundingClientRect(),i=ua(e);uc().display(0,t.top,i,this.getBoundingClientRect().right),this.drawWidthDragBarTask=requestAnimationFrame(this.drawWidthDragBar)},this.drawWidthDragBarTask=0,this.moveColumn=e=>{let t=hQ(this),i=this.closest("affine-database-column-header"),s=t?.parentElement;(0,V.Z1)(i),(0,V.Z1)(t),(0,V.Z1)(s);let o=this.getBoundingClientRect(),r=o.width/this.column.width$.value,a=t.getBoundingClientRect(),n=e.x-o.left,l=o.right-e.x,c=(o.left-a.left)/r,d=(a.width-o.width)/r,{computeInsertInfo:h}=this._columnsOffset(i,r),u=new ue;u.tableViewManager=this.tableViewManager,u.column=this.column,u.table=t;let p=uu(t,o.width/r,a.height/r,c,u),f=ua(t),g=uc(),m=hf(s,{boundary:{left:n,right:l},onScroll:()=>{y.move({x:y.last.x})}}),v=document.querySelector("html");v?.classList.toggle("affine-database-header-column-grabbing",!0);let y=cT(e,{onDrag:()=>(this.grabStatus="grabbing",{}),onMove:({x:e})=>{this.grabStatus="grabbing";let i=h6((e-t.getBoundingClientRect().left-n)/r,0,d),s=h(i,o.width/r);return null!=s.insertOffset?g.display(0,a.top,f,t.getBoundingClientRect().left+s.insertOffset,!0):g.remove(),p.display(i),{insertPosition:s.insertPosition}},onDrop:({insertPosition:e})=>{this.grabStatus="grabEnd",e&&this.tableViewManager.columnMove(this.column.id,e)},onClear:()=>{m(),v?.classList.toggle("affine-database-header-column-grabbing",!1),g.remove(),p.remove()}})},this.widthDragBar=(0,lB._)(),this.editTitle=()=>{this._clickColumn()},this.#tm=uh(this,l,void 0),this.#tJ=(uh(this,c),uh(this,d,"grabEnd")),this.#tW=(uh(this,h),uh(this,u,void 0)),uh(this,p)}static{uh(t,a)}};return f=t})();let uu=(e,t,i,s,o)=>{let r=document.createElement("div");return r.append(o),r.style.opacity="0.8",r.style.position="absolute",r.style.width=`${t}px`,r.style.height=`${i}px`,r.style.left=`${s}px`,r.style.top="0px",r.style.zIndex="9",e.append(r),{display(e){r.style.left=`${Math.round(e)}px`},remove(){r.remove()}}},up=(0,H.AH)`
    affine-database-column-header {
        display: block;
        background-color: var(--affine-background-primary-color);
        position: relative;
        z-index: 2;
    }

    .affine-database-column-header {
        position: relative;
        display: flex;
        flex-direction: row;
        border-bottom: 1px solid var(--affine-border-color);
        border-top: 1px solid var(--affine-border-color);
        box-sizing: border-box;
        user-select: none;
        background-color: var(--affine-background-primary-color);
    }

    .affine-database-column {
        cursor: pointer;
    }

    .database-cell {
        min-width: ${100}px;
        user-select: none;
    }

    .database-cell.add-column-button {
        flex: 1;
        min-width: ${40}px;
        min-height: 100%;
        display: flex;
        align-items: center;
    }

    .affine-database-column-content {
        display: flex;
        align-items: center;
        gap: 6px;
        width: 100%;
        height: 100%;
        padding: 8px;
        box-sizing: border-box;
        position: relative;
    }

    .affine-database-column-content:hover,
    .affine-database-column-content.edit {
        background: var(--affine-hover-color);
    }

    .affine-database-column-content.edit .affine-database-column-text-icon {
        opacity: 1;
    }

    .affine-database-column-text {
        flex: 1;
        display: flex;
        align-items: center;
        gap: 6px;
        /* https://stackoverflow.com/a/36247448/15443637 */
        overflow: hidden;
        color: var(--affine-text-secondary-color);
        font-size: 14px;
        position: relative;
    }

    .affine-database-column-type-icon {
        display: flex;
        align-items: center;
        border-radius: 4px;
        padding: 2px;
    }

    .affine-database-column-type-icon svg {
        width: 16px;
        height: 16px;
        fill: var(--affine-icon-color);
    }

    .affine-database-column-text-content {
        flex: 1;
        display: flex;
        align-items: center;
        overflow: hidden;
    }

    .affine-database-column-content:hover .affine-database-column-text-icon {
        opacity: 1;
    }

    .affine-database-column-text-input {
        flex: 1;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .affine-database-column-text-icon {
        display: flex;
        align-items: center;
        width: 16px;
        height: 16px;
        background: var(--affine-white);
        border: 1px solid var(--affine-border-color);
        border-radius: 4px;
        opacity: 0;
    }

    .affine-database-column-text-save-icon {
        display: flex;
        align-items: center;
        width: 16px;
        height: 16px;
        border: 1px solid transparent;
        border-radius: 4px;
        fill: var(--affine-icon-color);
    }

    .affine-database-column-text-save-icon:hover {
        background: var(--affine-white);
        border-color: var(--affine-border-color);
    }

    .affine-database-column-text-icon svg {
        fill: var(--affine-icon-color);
    }

    .affine-database-column-input {
        width: 100%;
        height: 24px;
        padding: 0;
        border: none;
        color: inherit;
        font-weight: 600;
        font-size: 14px;
        font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
        background: transparent;
    }

    .affine-database-column-input:focus {
        outline: none;
    }

    .affine-database-column-move {
        display: flex;
        align-items: center;
    }

    .affine-database-column-move svg {
        width: 10px;
        height: 14px;
        color: var(--affine-black-10);
        cursor: grab;
        opacity: 0;
    }

    .affine-database-column-content:hover svg {
        opacity: 1;
    }

    .affine-database-add-column-button {
        position: sticky;
        right: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 38px;
        cursor: pointer;
    }

    .header-add-column-button {
        height: ${36}px;
        background-color: var(--affine-background-primary-color);
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        cursor: pointer;
    }

    .header-add-column-button svg {
        color: var(--affine-icon-color);
    }

    .affine-database-column-type-menu-icon {
        border: 1px solid var(--affine-border-color);
        border-radius: 4px;
        padding: 4px;
        background-color: var(--affine-background-secondary-color);
    }

    .affine-database-column-type-menu-icon svg {
        color: var(--affine-text-secondary-color);
        width: 24px;
        height: 24px;

    }

    .affine-database-column-move-preview {
        position: fixed;
        z-index: 100;
        width: 100px;
        height: 100px;
        background: var(--affine-text-emphasis-color);
    }

    .affine-database-column-move {
        --color: var(--affine-placeholder-color);
        --active: var(--affine-black-10);
        --bw: 1px;
        --bw2: -1px;
        cursor: grab;
        background: none;
        border: none;
        border-radius: 0;
        position: absolute;
        inset: 0;
    }

    .affine-database-column-move .control-l::before,
    .affine-database-column-move .control-h::before,
    .affine-database-column-move .control-l::after,
    .affine-database-column-move .control-h::after,
    .affine-database-column-move .control-r,
    .affine-database-column-move .hover-trigger {
        --delay: 0s;
        --delay-opacity: 0s;
        content: '';
        position: absolute;
        transition: all 0.2s ease var(--delay),
        opacity 0.2s ease var(--delay-opacity);
    }

    .affine-database-column-move .control-r {
        --delay: 0s;
        --delay-opacity: 0.6s;
        width: 4px;
        border-radius: 1px;
        height: 32%;
        background: var(--color);
        right: 6px;
        top: 50%;
        transform: translateY(-50%);
        opacity: 0;
        pointer-events: none;
    }

    .affine-database-column-move .hover-trigger {
        width: 12px;
        height: 80%;
        right: 3px;
        top: 10%;
        background: transparent
        z-index: 1;
        opacity: 1;
    }

    .affine-database-column-move:hover .control-r {
        opacity: 1;
    }

    .affine-database-column-move .control-h::before,
    .affine-database-column-move .control-h::after {
        --delay: 0.2s;
        width: calc(100% - var(--bw2) * 2);
        opacity: 0;
        height: var(--bw);
        right: var(--bw2);
        background: var(--active);
    }

    .affine-database-column-move .control-h::before {
        top: var(--bw2);
    }

    .affine-database-column-move .control-h::after {
        bottom: var(--bw2);
    }

    .affine-database-column-move .control-l::before {
        --delay: 0s;
        width: var(--bw);
        height: 100%;
        opacity: 0;
        background: var(--active);
        left: var(--bw2);
    }

    .affine-database-column-move .control-l::before {
        top: 0;
    }

    .affine-database-column-move .control-l::after {
        bottom: 0;
    }

    /* handle--active style */

    .affine-database-column-move:hover .control-r {
        --delay-opacity: 0s;
        opacity: 1;
    }

    .affine-database-column-move:active .control-r,
    .hover-trigger:hover ~ .control-r,
    .grabbing.affine-database-column-move .control-r {
        opacity: 1;
        --delay: 0s;
        --delay-opacity: 0s;
        right: var(--bw2);
        width: var(--bw);
        height: 100%;
        background: var(--active);
    }

    .affine-database-column-move:active .control-h::before,
    .affine-database-column-move:active .control-h::after,
    .hover-trigger:hover ~ .control-h::before,
    .hover-trigger:hover ~ .control-h::after,
    .grabbing.affine-database-column-move .control-h::before,
    .grabbing.affine-database-column-move .control-h::after {
        --delay: 0.2s;
        width: calc(100% - var(--bw2) * 2);
        opacity: 1;
    }

    .affine-database-column-move:active .control-l::before,
    .affine-database-column-move:active .control-l::after,
    .hover-trigger:hover ~ .control-l::before,
    .hover-trigger:hover ~ .control-l::after,
    .grabbing.affine-database-column-move .control-l::before,
    .grabbing.affine-database-column-move .control-l::after {
        --delay: 0.4s;
        opacity: 1;
    }
`;var uf=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ug=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,L.EM)("affine-database-column-header")],a=[],n=(0,sh.Jb)((0,P.Tm)(P.ao)),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.P)(".scale-div")],o=[(0,L.MZ)({attribute:!1})],uf(this,null,i,{kind:"accessor",name:"renderGroupHeader",static:!1,private:!1,access:{has:e=>"renderGroupHeader"in e,get:e=>e.renderGroupHeader,set:(e,t)=>{e.renderGroupHeader=t}},metadata:f},l,c),uf(this,null,s,{kind:"accessor",name:"scaleDiv",static:!1,private:!1,access:{has:e=>"scaleDiv"in e,get:e=>e.scaleDiv,set:(e,t)=>{e.scaleDiv=t}},metadata:f},d,h),uf(this,null,o,{kind:"accessor",name:"tableViewManager",static:!1,private:!1,access:{has:e=>"tableViewManager"in e,get:e=>e.tableViewManager,set:(e,t)=>{e.tableViewManager=t}},metadata:f},u,p),uf(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=up}autoSetHeaderPosition(e,t){this.preAutoSet&&(cancelAnimationFrame(this.preAutoSet),this.preAutoSet=0);let i=e.getBoundingClientRect(),s=this.getBoundingClientRect(),o=t.getBoundingClientRect(),r=0;o.top>i.top&&(r=Math.min(i.bottom-s.height,o.top)-i.top),(0!==r||0!==this.preMove)&&(this.preMove=r,this.style.transform=`translate3d(0,${r/this.getScale()}px,0)`,this.preAutoSet=requestAnimationFrame(()=>{this.preAutoSet=0,this.autoSetHeaderPosition(e,t)}))}get readonly(){return this.tableViewManager.readonly$.value}connectedCallback(){super.connectedCallback();let e=h7(this.closest("affine-data-view-renderer")),t=this.closest("affine-data-view-table-group");if(t){let i=(0,oG.ll)(t,this,()=>{e&&this.autoSetHeaderPosition(t,e)});this.disposables.add(i),this.disposables.add(()=>{cancelAnimationFrame(this.preAutoSet)})}}getScale(){return this.scaleDiv?.getBoundingClientRect().width??1}render(){return(0,ic.qy)`
      ${this.renderGroupHeader?.()}
      <div class="affine-database-column-header database-row">
        ${this.readonly?H.s6:(0,ic.qy)`<div class="data-view-table-left-bar"></div>`}
        ${(0,D.u)(this.tableViewManager.columnManagerList$.value,e=>e.id,(e,t)=>{let i=(0,Z.W)({width:`${e.width$.value}px`,border:0===t?"none":void 0});return(0,ic.qy)` <affine-database-header-column
              style="${i}"
              data-column-id="${e.id}"
              data-column-index="${t}"
              class="affine-database-column database-cell"
              .column="${e}"
              .tableViewManager="${this.tableViewManager}"
            ></affine-database-header-column>`})}
        <div
          style="background-color: var(--affine-border-color);width: 1px;"
        ></div>
        <div
          @click="${this._onAddColumn}"
          class="header-add-column-button dv-hover"
        >
          ${ns}
        </div>
        <div class="scale-div" style="width: 1px;height: 1px;"></div>
      </div>
    `}#t1;get renderGroupHeader(){return this.#t1}set renderGroupHeader(e){this.#t1=e}#t0;get scaleDiv(){return this.#t0}set scaleDiv(e){this.#t0=e}#tW;get tableViewManager(){return this.#tW}set tableViewManager(e){this.#tW=e}constructor(){super(...arguments),this._onAddColumn=e=>{if(this.readonly)return;this.tableViewManager.columnAdd("end");let t=e.currentTarget;requestAnimationFrame(()=>{this.editLastColumnTitle(),t.scrollIntoView({block:"nearest",inline:"nearest"})})},this.preAutoSet=0,this.editLastColumnTitle=()=>{let e=this.querySelectorAll("affine-database-header-column"),t=e.item(e.length-1);t.scrollIntoView({block:"nearest",inline:"nearest"}),t.editTitle()},this.preMove=0,this.#t1=ug(this,l,void 0),this.#t0=(ug(this,c),ug(this,d,void 0)),this.#tW=(ug(this,h),ug(this,u,void 0)),ug(this,p)}static{ug(t,a)}})})();let um=[{type:"none",label:"None",display:"Calculate",calculate:()=>({value:0,displayFormat:"x10"})},{type:"count-all",label:"Count All",display:"Count",calculate:(e,t)=>({value:e.stats.countAll(t),displayFormat:"x10"})},{type:"count-values",label:"Count Values",display:"Values",calculate:(e,t)=>({value:e.stats.countValues(t),displayFormat:"x10"})},{type:"count-uni-values",label:"Count Unique Values",display:"Unique",calculate:(e,t)=>({value:e.stats.countUniqueValues(t),displayFormat:"x10"})},{type:"count-empty",label:"Count Empty",display:"Empty",calculate:(e,t)=>({value:e.stats.countEmpty(t),displayFormat:"x10"})},{type:"count-not-empty",label:"Count Not Empty",display:"Not Empty",calculate:(e,t)=>({value:e.stats.countNonEmpty(t),displayFormat:"x10"})},{type:"percent-empty",label:"Percent Empty",display:"Empty",calculate:(e,t)=>({value:e.stats.percentEmpty(t),displayFormat:"%"})},{type:"percent-not-empty",label:"Percent Not Empty",display:"Not Empty",calculate:(e,t)=>({value:e.stats.percentNonEmpty(t),displayFormat:"%"})}],uv=[...um,{type:"sum",label:"Sum",display:"Sum",calculate:(e,t)=>({value:e.stats.sum(t),displayFormat:"x10"})},{type:"avg",label:"Average",display:"Avg",calculate:(e,t)=>({value:e.stats.mean(t),displayFormat:"x10"})},{type:"median",label:"Median",display:"Median",calculate:(e,t)=>({value:e.stats.median(t),displayFormat:"x10"})},{type:"mode",label:"Mode",display:"Mode",calculate:(e,t)=>({value:e.stats.mode(t),displayFormat:"x10"})},{type:"min",label:"Min",display:"Min",calculate:(e,t)=>({value:e.stats.min(t),displayFormat:"x10"})},{type:"max",label:"Max",display:"Max",calculate:(e,t)=>({value:e.stats.max(t),displayFormat:"x10"})},{type:"range",label:"Range",display:"Range",calculate:(e,t)=>({value:e.stats.range(t),displayFormat:"x10"})}],uy=[...um.slice(0,2),{type:"checked",label:"Checked",display:"Checked",calculate:(e,t)=>({value:e.stats.checked(t),displayFormat:"x10"})},{type:"not-checked",label:"Not Checked",display:"Not Checked",calculate:(e,t)=>({value:e.stats.notChecked(t),displayFormat:"x10"})},{type:"percent-checked",label:"Percent Checked",display:"Checked",calculate:(e,t)=>({value:e.stats.percentChecked(t),displayFormat:"%"})},{type:"percent-not-checked",label:"Percent Not Checked",display:"Not Checked",calculate:(e,t)=>({value:e.stats.percentNotChecked(t),displayFormat:"%"})}],ub=Array.from(new Set([...um,...uv,...uy])),uw=(e,t,i)=>{let s=i.selection;i.selection=void 0,e.openDetailPanel({view:i.host.view,rowId:t,onClose:()=>{i.selection=s}})},ux=(e,t,i)=>{let s=i.selection;if(!h1.is(s))return;if(s.rows.length>1){let e=h1.rowsIds(s);lZ(t,[{type:"group",name:"",children:()=>[{type:"action",name:"Copy",icon:(0,H.qy)` <div
              style="transform: rotate(90deg);display:flex;align-items:center;"
            >
              ${aL}
            </div>`,select:()=>{i.host.clipboardController.copy()}}]},{type:"group",name:"",children:()=>[{type:"action",name:"Delete Rows",class:"delete-item",icon:sV,select:()=>{i.view.rowDelete(e)}}]}]);return}let o=s.rows[0];lZ(t,[{type:"action",name:"Expand Row",icon:np,select:()=>{uw(e,o.id,i)}},{type:"group",name:"",children:()=>[{type:"action",name:"Insert Before",icon:(0,H.qy)` <div
            style="transform: rotate(90deg);display:flex;align-items:center;"
          >
            ${ng}
          </div>`,select:()=>{i.insertRowBefore(o.groupKey,o.id)}},{type:"action",name:"Insert After",icon:(0,H.qy)` <div
            style="transform: rotate(90deg);display:flex;align-items:center;"
          >
            ${nm}
          </div>`,select:()=>{i.insertRowAfter(o.groupKey,o.id)}}]},{type:"group",name:"",children:()=>[{type:"action",name:"Delete Row",class:"delete-item",icon:sV,select:()=>{i.deleteRow(o.id)}}]}])},u_=(e,t,i,s,o)=>{let r=[];switch(s){case"number":r=uv;break;case"checkbox":r=uy;break;default:r=um}return lZ(t,r.map(e=>({type:"action",name:e.label,select:()=>{o(e)}})))};var uC=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},uk=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,L.EM)("row-select-checkbox")],a=[],n=(0,sh.Jb)((0,P.Tm)(P.ao)),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],uC(this,null,i,{kind:"accessor",name:"groupKey",static:!1,private:!1,access:{has:e=>"groupKey"in e,get:e=>e.groupKey,set:(e,t)=>{e.groupKey=t}},metadata:f},l,c),uC(this,null,s,{kind:"accessor",name:"rowId",static:!1,private:!1,access:{has:e=>"rowId"in e,get:e=>e.rowId,set:(e,t)=>{e.rowId=t}},metadata:f},d,h),uC(this,null,o,{kind:"accessor",name:"selection",static:!1,private:!1,access:{has:e=>"selection"in e,get:e=>e.selection,set:(e,t)=>{e.selection=t}},metadata:f},u,p),uC(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    row-select-checkbox {
      display: contents;
    }
    .row-select-checkbox {
      display: flex;
      align-items: center;
      background-color: var(--affine-background-primary-color);
      opacity: 0;
      cursor: pointer;
    }
    .row-select-checkbox:hover {
      opacity: 1;
    }
    .row-select-checkbox.selected {
      opacity: 1;
    }
    .row-select-checkbox svg {
      width: 18px;
      height: 18px;
      color: var(--affine-icon-color);
    }
  `}connectedCallback(){super.connectedCallback(),this.disposables.addFromEvent(this,"click",()=>{this.closest("affine-database-table")?.selectionController.toggleRow(this.rowId,this.groupKey)})}render(){let e=(0,oJ.H)({"row-selected-bg":!0,"row-select-checkbox":!0,selected:this.isSelected$.value});return(0,H.qy)`
      <div class="${e}">
        ${this.isSelected$.value?oj():oV()}
      </div>
    `}#tC;get groupKey(){return this.#tC}set groupKey(e){this.#tC=e}#tb;get rowId(){return this.#tb}set rowId(e){this.#tb=e}#t2;get selection(){return this.#t2}set selection(e){this.#t2=e}constructor(){super(...arguments),this.isSelected$=(0,sh.EW)(()=>{let e=this.selection.value;return!!e&&"row"===e.selectionType&&h1.includes(e,{id:this.rowId,groupKey:this.groupKey})}),this.#tC=uk(this,l,void 0),this.#tb=(uk(this,c),uk(this,d,void 0)),this.#t2=(uk(this,h),uk(this,u,void 0)),uk(this,p)}static{uk(t,a)}})})();var uS=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},uM=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let uE=(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("data-view-table-row")],n=[],l=(0,sh.Jb)((0,P.Tm)(P.ao)),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];return class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],uS(this,null,i,{kind:"accessor",name:"dataViewEle",static:!1,private:!1,access:{has:e=>"dataViewEle"in e,get:e=>e.dataViewEle,set:(e,t)=>{e.dataViewEle=t}},metadata:v},c,d),uS(this,null,s,{kind:"accessor",name:"rowId",static:!1,private:!1,access:{has:e=>"rowId"in e,get:e=>e.rowId,set:(e,t)=>{e.rowId=t}},metadata:v},h,u),uS(this,null,o,{kind:"accessor",name:"rowIndex",static:!1,private:!1,access:{has:e=>"rowIndex"in e,get:e=>e.rowIndex,set:(e,t)=>{e.rowIndex=t}},metadata:v},p,f),uS(this,null,r,{kind:"accessor",name:"view",static:!1,private:!1,access:{has:e=>"view"in e,get:e=>e.view,set:(e,t)=>{e.view=t}},metadata:v},g,m),uS(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    .affine-database-block-row:has(.row-select-checkbox.selected) {
      background: var(--affine-primary-color-04);
    }
    .affine-database-block-row:has(.row-select-checkbox.selected)
      .row-selected-bg {
      position: relative;
    }
    .affine-database-block-row:has(.row-select-checkbox.selected)
      .row-selected-bg:before {
      content: '';
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
      background: var(--affine-primary-color-04);
    }
    .affine-database-block-row {
      width: 100%;
      display: flex;
      flex-direction: row;
      border-bottom: 1px solid var(--affine-border-color);
      position: relative;
    }

    .affine-database-block-row.selected > .database-cell {
      background: transparent;
    }

    .database-cell {
      min-width: ${100}px;
    }

    .row-ops {
      position: relative;
      width: 0;
      margin-top: 8px;
      height: max-content;
      visibility: hidden;
      display: flex;
      gap: 4px;
      cursor: pointer;
      justify-content: end;
    }

    .row-op:last-child {
      margin-right: 8px;
    }

    .affine-database-block-row .show-on-hover-row {
      visibility: hidden;
      opacity: 0;
    }
    .affine-database-block-row:hover .show-on-hover-row {
      visibility: visible;
      opacity: 1;
    }

    .row-op {
      display: flex;
      padding: 4px;
      border-radius: 4px;
      box-shadow: 0px 0px 4px 0px rgba(66, 65, 73, 0.14);
      background-color: var(--affine-background-primary-color);
      position: relative;
    }

    .row-op:hover:before {
      content: '';
      border-radius: 4px;
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
      background-color: var(--affine-hover-color);
    }

    .row-op svg {
      fill: var(--affine-icon-color);
      color: var(--affine-icon-color);
      width: 16px;
      height: 16px;
    }
    .data-view-table-view-drag-handler {
      width: 8px;
      height: 38px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: grab;
      background-color: var(--affine-background-primary-color);
    }
  `}connectedCallback(){super.connectedCallback(),this.disposables.addFromEvent(this,"contextmenu",this.contextMenu),this.classList.add("affine-database-block-row","database-row")}render(){let e=this.view;return(0,ic.qy)`
      ${e.readonly$.value?H.s6:(0,ic.qy)`<div class="data-view-table-left-bar" style="height: 38px">
            <div style="display: flex;">
              <div
                class="data-view-table-view-drag-handler show-on-hover-row row-selected-bg"
                @click=${this._clickDragHandler}
              >
                <div
                  style="width: 4px;
                  border-radius: 2px;
                  height: 12px;
                  background-color: var(--affine-placeholder-color);"
                ></div>
              </div>
              <row-select-checkbox
                .selection="${this.dataViewEle.config.selection$}"
                .rowId="${this.rowId}"
                .groupKey="${this.groupKey}"
              ></row-select-checkbox>
            </div>
          </div>`}
      ${(0,D.u)(e.columnManagerList$.value,e=>e.id,(t,i)=>(0,ic.qy)`
            <div>
              <affine-database-cell-container
                class="database-cell"
                style=${(0,Z.W)({width:`${t.width$.value}px`,border:0===i?"none":void 0})}
                .view="${e}"
                .column="${t}"
                .rowId="${this.rowId}"
                data-row-id="${this.rowId}"
                .rowIndex="${this.rowIndex}"
                data-row-index="${this.rowIndex}"
                .columnId="${t.id}"
                data-column-id="${t.id}"
                .columnIndex="${i}"
                data-column-index="${i}"
              >
              </affine-database-cell-container>
            </div>
            ${t.readonly$.value||t.view.header$.value.titleColumn!==t.id?H.s6:(0,ic.qy)`<div class="row-ops show-on-hover-row">
                  <div class="row-op" @click="${()=>{this.selectionController&&(this.setSelection(h1.create({rows:[{id:this.rowId,groupKey:this.groupKey}]})),uw(this.dataViewEle,this.rowId,this.selectionController))}}">
                    ${s7}
                  </div>
                  ${e.readonly$.value?H.s6:(0,ic.qy)`<div class="row-op" @click="${e=>{if(!this.selectionController)return;let t=e.currentTarget,i={id:this.rowId,groupKey:this.groupKey};this.setSelection(h1.create({rows:[i]})),ux(this.dataViewEle,t,this.selectionController)}}">
                        ${sR}
                      </div>`}
                </div>`}
          `)}
      <div class="database-cell add-column-button"></div>
    `}get groupKey(){return this.closest("affine-data-view-table-group")?.group?.key}get selectionController(){return this.closest("affine-database-table")?.selectionController}#tA;get dataViewEle(){return this.#tA}set dataViewEle(e){this.#tA=e}#tb;get rowId(){return this.#tb}set rowId(e){this.#tb=e}#tq;get rowIndex(){return this.#tq}set rowIndex(e){this.#tq=e}#tw;get view(){return this.#tw}set view(e){this.#tw=e}constructor(){super(...arguments),this._clickDragHandler=()=>{this.view.readonly$.value||this.selectionController?.toggleRow(this.rowId,this.groupKey)},this.contextMenu=e=>{if(this.view.readonly$.value)return;let t=this.selectionController;if(!t)return;e.preventDefault();let i=e.target.closest("affine-database-cell-container"),s={id:this.rowId,groupKey:this.groupKey};h1.includes(t.selection,s)||(t.selection=h1.create({rows:[s]}));let o=i??e.target.closest(".database-cell")??e.target;ux(this.dataViewEle,o,t)},this.setSelection=e=>{this.selectionController&&(this.selectionController.selection=e)},this.#tA=uM(this,c,void 0),this.#tb=(uM(this,d),uM(this,h,void 0)),this.#tq=(uM(this,u),uM(this,p,void 0)),this.#tw=(uM(this,f),uM(this,g,void 0)),uM(this,m)}static{uM(t,n)}},t})(),uI="blocksuite/database/table";class uB{constructor(e){this.host=e,this._onCopy=(e,t=!1)=>{let i=this.host,s=function(e,t){let i=t.view;if(h1.is(e))return h1.rows(e).map(e=>({y:t.selectionController.getRow(e.groupKey,e.id)?.getBoundingClientRect().y??0,row:e})).sort((e,t)=>e.y-t.y).map(e=>e.row).map(e=>{let t=i.rowGet(e.id);return{row:t,cells:t.cells$.value}});let{rowsSelection:s,columnsSelection:o,groupKey:r}=e,a=[],n=r?i.groupHelper?.groupMap[r].rows:i.rows$.value,l=i.columns$.value;if(n){for(let e=s.start;e<=s.end;e++){let t={cells:[]},s=n[e];for(let e=o.start;e<=o.end;e++){let o=l[e],r=i.cellGet(s,o);t.cells.push(r)}a.push(t)}return a}}(e,i);if(!s)return;let o=s.map(e=>e.cells.map(e=>e.stringValue$.value).join("	")).join("\n"),r=s.map(e=>e.cells.map(e=>e.stringValue$.value));if(t){let e=[];for(let t of s)if(t.row)e.push(t.row.rowId);else for(let e of t.cells)e.setValue(void 0);e.length&&i.view.rowDelete(e)}return this.std.clipboard.writeToClipboard(e=>({...e,"text/plain":o,[uI]:JSON.stringify(r)})).then(()=>{if(s[0]?.row)l8(this.host.std.host,`${s.length} row${s.length>1?"s":""} copied to clipboard`);else{let e=s.flatMap(e=>e.cells).length;l8(this.host.std.host,`${e} cell${e>1?"s":""} copied to clipboard`)}}).catch(console.error),!0},this._onCut=e=>{this._onCopy(e,!0)},this._onPaste=async e=>{let t=e.get("clipboardState").raw;t.stopPropagation();let i=this.host,s=t.clipboardData;if(!s)return;let o=this.host.selectionController.selection;if(!h1.is(o)){if(o){let e=(await this.std.clipboard.readFromClipboard(s))[uI];if(!e)return;(function(e,t,i){let s=t.length,o=t[0].length,r=function(e,t){let{rowsSelection:i,columnsSelection:s,focus:o}=e;return h0.isFocus(e)?{row:{start:o.rowIndex,length:t.length},column:{start:o.columnIndex,length:t[0].length}}:{row:{start:i.start,length:i.end-i.start+1},column:{start:s.start,length:s.end-s.start+1}}}(i,t);for(let a=0;a<r.row.length;a++)for(let n=0;n<r.column.length;n++){let l=r.row.start+a,c=r.column.start+n,d=n%o,h=t[a%s][d],u=e.selectionController.getCellContainer(i.groupKey,l,c),p=u?.dataset.rowId,f=u?.dataset.columnId;p&&f&&u?.column.setValueFromString(p,h)}})(i,JSON.parse(e),o)}return!0}},e.addController(this)}get readonly(){return this.host.view.readonly$.value}get std(){return this.host.std}copy(){let e=this.host.selectionController.selection;e&&this._onCopy(e)}cut(){let e=this.host.selectionController.selection;e&&this._onCopy(e,!0)}hostConnected(){this.host.disposables.add(this.host.handleEvent("copy",e=>{let t=this.host.selectionController.selection;return!!t&&(this._onCopy(t),!0)})),this.host.disposables.add(this.host.handleEvent("cut",e=>{let t=this.host.selectionController.selection;return!!t&&(this._onCut(t),!0)})),this.host.disposables.add(this.host.handleEvent("paste",e=>!this.readonly&&(this._onPaste(e).catch(console.error),!0)))}}class u${constructor(e){this.host=e,this.dragStart=(e,t)=>{let i=e.getBoundingClientRect(),s=t.x-i.left,o=t.y-i.top,r=uT(e,t.x-s,t.y-o),a=e.groupKey;cT(t,{onDrag:()=>void 0,onMove:t=>{if(r.display(t.x-s,t.y-o),!this.host.contains(t.target)){let i=this.host.onDrag;return i?(this.dropPreview.remove(),{type:"out",callback:i(t,e.rowId)}):void 0}let i=this.showIndicator(t);if(i)return{type:"self",groupKey:i.groupKey,position:i.position}},onClear:()=>{r.remove(),this.dropPreview.remove()},onDrop:t=>{if(t){if("out"===t.type){t.callback();return}"self"===t.type&&this.host.view.rowMove(e.rowId,t.position,a,t.groupKey)}}})},this.dropPreview=uO(),this.getInsertPosition=e=>{let t=e.y,i=this.host.getBoundingClientRect(),s=this.host.querySelectorAll("data-view-table-row");if(s&&i&&!(t<i.top))for(let e=0;e<s.length;e++){let o=s.item(e),r=o.getBoundingClientRect(),a=(r.top+r.bottom)/2;if(t<r.bottom)return{groupKey:o.groupKey,position:{id:o.dataset.rowId,before:t<a},y:t<a?r.top:r.bottom,width:i.width,x:i.left}}},this.showIndicator=e=>{let t=this.getInsertPosition(e);return t?this.dropPreview.display(t.x,t.y,t.width):this.dropPreview.remove(),t},this.host.addController(this)}hostConnected(){this.host.view.readonly$.value||this.host.disposables.add(this.host.handleEvent("dragStart",e=>{let t=e.get("pointerState").raw,i=t.target;if(i instanceof Element&&this.host.contains(i)&&i.closest(".data-view-table-view-drag-handler")){t.preventDefault();let e=i.closest("data-view-table-row");return e&&(getSelection()?.removeAllRanges(),this.dragStart(e,t)),!0}return!1}))}}let uT=(e,t,i)=>{let s=document.createElement("div"),o=new uE;return o.view=e.view,o.rowIndex=e.rowIndex,o.rowId=e.rowId,s.append(o),s.className="with-data-view-css-variable",s.style.width=`${e.getBoundingClientRect().width}px`,s.style.position="fixed",s.style.pointerEvents="none",s.style.backgroundColor="var(--affine-background-primary-color)",s.style.boxShadow="var(--affine-shadow-2)",s.style.left=`${t}px`,s.style.top=`${i}px`,s.style.zIndex="9999",document.body.append(s),{display(e,t){s.style.left=`${Math.round(e)}px`,s.style.top=`${Math.round(t)}px`},remove(){s.remove()}}},uO=()=>{let e=document.createElement("div");return e.dataset.isDropPreview="true",e.style.pointerEvents="none",e.style.position="fixed",e.style.zIndex="9999",e.style.height="2px",e.style.borderRadius="1px",e.style.backgroundColor="var(--affine-primary-color)",e.style.boxShadow="0px 0px 8px 0px rgba(30, 150, 235, 0.35)",{display(t,i,s){document.body.append(e),e.style.left=`${t}px`,e.style.top=`${i-2}px`,e.style.width=`${s}px`},remove(){e.remove()}}};class uP{constructor(e){this.host=e,this.host.addController(this)}hostConnected(){this.host.disposables.add(this.host.bindHotkey({Backspace:()=>{let e=this.selectionController.selection;if(!e)return;if(h1.is(e)){let t=h1.rowsIds(e);this.selectionController.selection=void 0,this.host.view.rowDelete(t);return}let{focus:t,rowsSelection:i,columnsSelection:s,isEditing:o,groupKey:r}=e;if(t&&!o){if(i&&s)for(let e=i.start;e<=i.end;e++){let{start:t,end:i}=s;for(let s=t;s<=i;s++){let t=this.selectionController.getCellContainer(r,e,s),i=t?.dataset.rowId,o=t?.dataset.columnId;i&&o&&t?.column.setValueFromString(i,"")}}else{let e=this.selectionController.getCellContainer(r,t.rowIndex,t.columnIndex),i=e?.dataset.rowId,s=e?.dataset.columnId;i&&s&&e?.column.setValueFromString(i,"")}}},Escape:()=>{let e=this.selectionController.selection;if(!e)return!1;if(h1.is(e)){let t=this.selectionController.rowsToArea(e.rows.map(e=>e.id));t?this.selectionController.selection=h0.create({groupKey:t.groupKey,focus:{rowIndex:t.start,columnIndex:0},rowsSelection:{start:t.start,end:t.end},isEditing:!1}):this.selectionController.selection=void 0}else if(e.isEditing)this.selectionController.selection={...e,isEditing:!1};else{let t=this.selectionController.areaToRows(e);this.selectionController.rowSelectionChange({add:t,remove:[]})}return!0},Enter:e=>{let t=this.selectionController.selection;if(!t)return!1;if(h1.is(t)){let e=this.selectionController.rowsToArea(t.rows.map(e=>e.id));e&&(this.selectionController.selection=h0.create({groupKey:e.groupKey,focus:{rowIndex:e.start,columnIndex:0},rowsSelection:{start:e.start,end:e.end},isEditing:!1}))}else{if(t.isEditing)return!1;this.selectionController.selection={...t,isEditing:!0}}return e.get("keyboardState").raw.preventDefault(),!0},"Shift-Enter":()=>{let e=this.selectionController.selection;if(!e||h1.is(e)||e.isEditing)return!1;let t=this.selectionController.getCellContainer(e.groupKey,e.focus.rowIndex,e.focus.columnIndex);return t&&this.selectionController.insertRowAfter(e.groupKey,t.rowId),!0},Tab:e=>{let t=this.selectionController.selection;return!(!t||h1.is(t))&&!t.isEditing&&(e.get("keyboardState").raw.preventDefault(),this.selectionController.focusToCell("right"),!0)},"Shift-Tab":e=>{let t=this.selectionController.selection;return!(!t||h1.is(t))&&!t.isEditing&&(e.get("keyboardState").raw.preventDefault(),this.selectionController.focusToCell("left"),!0)},ArrowLeft:e=>{let t=this.selectionController.selection;return!(!t||h1.is(t))&&!t.isEditing&&(this.selectionController.focusToCell("left"),e.get("keyboardState").raw.preventDefault(),!0)},ArrowRight:e=>{let t=this.selectionController.selection;return!(!t||h1.is(t))&&!t.isEditing&&(this.selectionController.focusToCell("right"),e.get("keyboardState").raw.preventDefault(),!0)},ArrowUp:e=>{let t=this.selectionController.selection;if(!t)return!1;if(h1.is(t))this.selectionController.navigateRowSelection("up",!1);else{if(t.isEditing)return!1;this.selectionController.focusToCell("up")}return e.get("keyboardState").raw.preventDefault(),!0},ArrowDown:e=>{let t=this.selectionController.selection;if(!t)return!1;if(h1.is(t))this.selectionController.navigateRowSelection("down",!1);else{if(t.isEditing)return!1;this.selectionController.focusToCell("down")}return e.get("keyboardState").raw.preventDefault(),!0},"Shift-ArrowUp":e=>{let t=this.selectionController.selection;if(!t)return!1;if(h1.is(t))this.selectionController.navigateRowSelection("up",!0);else{if(t.isEditing)return!1;this.selectionController.selectionAreaUp()}return e.get("keyboardState").raw.preventDefault(),!0},"Shift-ArrowDown":e=>{let t=this.selectionController.selection;if(!t)return!1;if(h1.is(t))this.selectionController.navigateRowSelection("down",!0);else{if(t.isEditing)return!1;this.selectionController.selectionAreaDown()}return e.get("keyboardState").raw.preventDefault(),!0},"Shift-ArrowLeft":e=>{let t=this.selectionController.selection;return!(!t||h1.is(t)||t.isEditing||this.selectionController.isRowSelection())&&(this.selectionController.selectionAreaLeft(),e.get("keyboardState").raw.preventDefault(),!0)},"Shift-ArrowRight":e=>{let t=this.selectionController.selection;return!(!t||h1.is(t)||t.isEditing||this.selectionController.isRowSelection())&&(this.selectionController.selectionAreaRight(),e.get("keyboardState").raw.preventDefault(),!0)},"Mod-a":e=>{let t=this.selectionController.selection;return!h1.is(t)&&(!!t?.isEditing||(t?(e.get("keyboardState").raw.preventDefault(),this.selectionController.selection=h1.create({rows:this.host.view.groupHelper?.groups.flatMap(e=>e.rows.map(t=>({groupKey:e.key,id:t})))??this.host.view.rows$.value.map(e=>({groupKey:void 0,id:e}))}),!0):void 0))},"/":e=>{let t=this.selectionController.selection;if(!t||h1.is(t)||t.isEditing)return;let i=this.selectionController.getCellContainer(t.groupKey,t.focus.rowIndex,t.focus.columnIndex);if(i){e.get("keyboardState").raw.preventDefault();let s={id:i.rowId,groupKey:t.groupKey};this.selectionController.selection=h1.create({rows:[s]}),ux(this.host.dataViewEle,i,this.selectionController)}}}))}get selectionController(){return this.host.selectionController}}var uA=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},uH=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let uL=(()=>{let e,t,i=[(0,L.EM)("data-view-drag-to-fill")],s=[],o=P.ao,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;uA(this,null,[(0,L.wk)()],{kind:"accessor",name:"dragging",static:!1,private:!1,access:{has:e=>"dragging"in e,get:e=>e.dragging,set:(e,t)=>{e.dragging=t}},metadata:n},r,a),uA(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    .drag-to-fill {
      border-radius: 50%;
      box-sizing: border-box;
      background-color: var(--affine-background-primary-color);
      border: 2px solid var(--affine-primary-color);
      display: none;
      position: absolute;
      cursor: ns-resize;
      width: 10px;
      height: 10px;
      transform: translate(-50%, -50%);
      pointer-events: auto;
      user-select: none;
      transition: scale 0.2s ease;
      z-index: 2;
    }
    .drag-to-fill.dragging {
      scale: 1.1;
    }
  `}render(){return(0,H.qy)`<div
      ${(0,lB.K)(this.dragToFillRef)}
      data-drag-to-fill="true"
      class="drag-to-fill ${this.dragging?"dragging":""}"
    ></div>`}#t5;get dragging(){return this.#t5}set dragging(e){this.#t5=e}constructor(){super(...arguments),this.dragToFillRef=(0,lB._)(),this.#t5=uH(this,r,!1),uH(this,a)}static{uH(t,s)}},t})();var uD=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},uZ=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};class uj{constructor(e){this.host=e,this.__dragToFillElement=new uL,this.getFocusCellContainer=()=>{if(!this._tableViewSelection||"area"!==this._tableViewSelection.selectionType)return null;let{groupKey:e,focus:t}=this._tableViewSelection;return this.getCellContainer(e,t.rowIndex,t.columnIndex)??null},this.selectionStyleUpdateTask=0,e.addController(this),this.__selectionElement=new uV,this.__selectionElement.controller=this}get areaSelectionElement(){return this.__selectionElement.selectionRef.value}clearSelection(){this.host.setSelection()}get focusSelectionElement(){return this.__selectionElement.focusRef.value}handleDragEvent(){this.host.disposables.add(this.host.handleEvent("dragStart",e=>{if(this.host.view.readonly$.value)return;let t=e.get("pointerState").raw,i=t.target;if(i instanceof HTMLElement){let[e,s]=this.resolveDragStartTarget(i);if(e){let i=this.selection;return(!i||"area"!==i.selectionType||!i.isEditing||i.focus.rowIndex!==e.rowIndex||i.focus.columnIndex!==e.columnIndex)&&(this.startDrag(t,e,s),t.preventDefault(),!0)}}return!1}))}handleSelectionChange(){this.host.disposables.add(this.host.selection$.subscribe(e=>{if(!this.isValidSelection(e)){this.selection=void 0;return}let t=this._tableViewSelection?.selectionType==="area"?this._tableViewSelection:void 0,i=e?.selectionType==="area"?e:void 0;if((t?.focus.rowIndex!==i?.focus.rowIndex||t?.focus.columnIndex!==i?.focus.columnIndex)&&requestAnimationFrame(()=>{this.scrollToFocus()}),this.isRowSelection()&&(t?.rowsSelection?.start!==i?.rowsSelection?.start||t?.rowsSelection?.end!==i?.rowsSelection?.end)&&requestAnimationFrame(()=>{this.scrollToAreaSelection()}),t){let e=this.getCellContainer(t.groupKey,t.focus.rowIndex,t.focus.columnIndex);if(e){let i=e.cell;t.isEditing&&(requestAnimationFrame(()=>{i?.onExitEditMode()}),i?.blurCell(),e.isEditing=!1)}}if(this._tableViewSelection=e,i){let e=this.getCellContainer(i.groupKey,i.focus.rowIndex,i.focus.columnIndex);if(e){let t=e.cell;i.isEditing&&(t?.onEnterEditMode(),e.isEditing=!0,t?.focusCell())}}}))}insertTo(e,t,i){let s=this.view.rowAdd({before:i,id:t});null!=e&&this.view.groupHelper?.moveCardTo(s,void 0,e,{before:i,id:t});let o=null!=e?this.view.groupHelper?.groupMap[e].rows:this.view.rows$.value;requestAnimationFrame(()=>{let t=this.host.view.columnManagerList$.value.findIndex(e=>"title"===e.type);this.selection=h0.create({groupKey:e,focus:{rowIndex:o?.findIndex(e=>e===s)??0,columnIndex:t},isEditing:!0})})}resolveDragStartTarget(e){let t;let i=!!e.dataset.dragToFill;if(i){let e=this.getFocusCellContainer();(0,V.Z1)(e),t=e}else t=e.closest("affine-database-cell-container");return[t,i]}scrollToAreaSelection(){this.areaSelectionElement?.scrollIntoView({block:"nearest",inline:"nearest"})}scrollToFocus(){this.focusSelectionElement?.scrollIntoView({block:"nearest",inline:"nearest"})}areaToRows(e){let t=this.rows(e.groupKey);return Array.from({length:e.rowsSelection.end-e.rowsSelection.start+1}).map((t,i)=>i+e.rowsSelection.start).map(e=>t[e]?.rowId).map(t=>({id:t,groupKey:e.groupKey}))}cellPosition(e){let t=this.rows(e),i=t?.item(0).querySelectorAll("affine-database-cell-container");return(e,s,o,r)=>{let a=Array.from(t??[]).map(e=>e.getBoundingClientRect().top),n=Array.from(i??[]).map(e=>e.getBoundingClientRect().left),[l,c]=e<s?[e,s]:[s,e],[d,h]=o<r?[o,r]:[r,o],u={start:0,end:0},p={start:0,end:0};for(let e=0;e<a.length;e++){let t=a[e];t<d&&(u.start=e),t<h&&(u.end=e)}for(let e=0;e<n.length;e++){let t=n[e];t<l&&(p.start=e),t<c&&(p.end=e)}return{row:u,column:p}}}deleteRow(e){this.view.rowDelete([e]),this.focusToCell("up")}focusFirstCell(){this.selection=h0.create({focus:{rowIndex:0,columnIndex:0},isEditing:!1})}focusToArea(e){return{...e,rowsSelection:e.rowsSelection??{start:e.focus.rowIndex,end:e.focus.rowIndex},columnsSelection:e.columnsSelection??{start:e.focus.columnIndex,end:e.focus.columnIndex},isEditing:!1}}focusToCell(e){if(!this.selection||"area"!==this.selection.selectionType)return;let t=this.getCellContainer(this.selection.groupKey,this.selection.focus.rowIndex,this.selection.focus.columnIndex);if(!t)return;let i=t.closest("data-view-table-row"),s=Array.from(i?.closest(".affine-database-table-container")?.querySelectorAll("data-view-table-row")??[]),o=Array.from(i?.querySelectorAll("affine-database-cell-container")??[]);if(!i||!s||!o)return;let r=s.indexOf(i),a=o.indexOf(t);"left"===e&&(0===a?(a=o.length-1,r--):a--),"right"===e&&(a===o.length-1?(a=0,r++):a++),"up"===e&&(0===r||r--),"down"===e&&(r===s.length-1||r++),s[r]?.querySelectorAll("affine-database-cell-container")?.item(a)?.selectCurrentCell(!1)}getCellContainer(e,t,i){let s=this.rows(e)?.item(t);return s?.querySelectorAll("affine-database-cell-container").item(i)}getGroup(e){let t=null!=e?this.tableContainer?.querySelector(`affine-data-view-table-group[data-group-key="${e}"]`):this.tableContainer;return(0,V.Z1)(t),t}getRect(e,t,i,s,o){let r=this.rows(e),a=r.item(t),n=r.item(i);if(!a||!n)return;let l=a.querySelectorAll("affine-database-cell-container"),c=l.item(s),d=l.item(o),h=c.getBoundingClientRect(),u=h.width/c.column.width$.value;return{top:h.top/u,left:h.left/u,width:(d.getBoundingClientRect().right-h.left)/u,height:(n.getBoundingClientRect().bottom-h.top)/u,scale:u}}getRow(e,t){return this.getGroup(e)?.querySelector(`data-view-table-row[data-row-id='${t}']`)}getSelectionAreaBorder(e){return this.__selectionElement.selectionRef.value?.querySelector(`.area-border.area-${e}`)}hostConnected(){requestAnimationFrame(()=>{this.tableContainer?.append(this.__selectionElement),this.tableContainer?.append(this.__dragToFillElement)}),this.handleDragEvent(),this.handleSelectionChange()}insertRowAfter(e,t){this.insertTo(e,t,!1)}insertRowBefore(e,t){this.insertTo(e,t,!0)}isRowSelection(){return this.selection?.selectionType==="row"}isValidSelection(e){return!e||"row"===e.selectionType||!(e.focus.rowIndex>this.view.rows$.value.length-1)&&!(e.focus.columnIndex>this.view.columns$.value.length-1)||(this.selection=void 0,!1)}navigateRowSelection(e,t=!1){if(!h1.is(this.selection))return;let i=this.selection.rows,s=i[i.length-1],o=this.getGroup(s.groupKey)?.querySelector(`data-view-table-row[data-row-id='${s.id}']`)?.rowIndex??0,r=e=>{let t=this.rows(s.groupKey).item(e);if(t)return{id:t.rowId,groupKey:s.groupKey}},a=r(o-1),n=r(o+1),l=e=>!!e&&i.some(t=>hJ.equal(t,e));if(t){let t=[],i=[];"up"===e&&null!=a&&(l(a)?i.push(s):t.push(a)),"down"===e&&null!=n&&(l(n)?i.push(s):t.push(n)),this.rowSelectionChange({add:t,remove:i})}else{let t="up"===e?a:n;null!=t&&(this.selection=h1.create({rows:[t]}))}}rowSelectionChange({add:e,remove:t}){let i=e=>`${e.id}.${e.groupKey?e.groupKey:""}`,s=new Set(h1.rows(this.selection).map(e=>i(e)));t.forEach(e=>s.delete(i(e))),e.forEach(e=>s.add(i(e)));let o=[...s].map(e=>e.split(".")).map(([e,t])=>({id:e,groupKey:t||void 0}));this.selection=h1.create({rows:o})}rows(e){let t=null!=e?this.tableContainer?.querySelector(`affine-data-view-table-group[data-group-key="${e}"]`):this.tableContainer;return(0,V.Z1)(t),t.querySelectorAll("data-view-table-row")}rowsToArea(e){let t,i,s;let o=new Set(e);if(this.tableContainer){for(let e of this.tableContainer.querySelectorAll("data-view-table-row").values())if(o.has(e.rowId)){if(i=null!=i?Math.min(i,e.rowIndex):e.rowIndex,s=null!=s?Math.max(s,e.rowIndex):e.rowIndex,null==t)t=e.groupKey;else if(t!==e.groupKey)return}if(null==i||null==s)return;return{groupKey:t,start:i,end:s}}}selectionAreaDown(){let e=this.selection;if(!e||"area"!==e.selectionType)return;let t=this.focusToArea(e);t.rowsSelection.start===t.focus.rowIndex?(t.rowsSelection.end=Math.min(this.rows(t.groupKey).length-1,t.rowsSelection.end+1),requestAnimationFrame(()=>{this.getSelectionAreaBorder("bottom")?.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})})):(t.rowsSelection.start+=1,requestAnimationFrame(()=>{this.getSelectionAreaBorder("top")?.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})})),this.selection=t}selectionAreaLeft(){let e=this.selection;if(!e||"area"!==e.selectionType)return;let t=this.focusToArea(e);t.columnsSelection.end===t.focus.columnIndex?(t.columnsSelection.start=Math.max(0,t.columnsSelection.start-1),requestAnimationFrame(()=>{this.getSelectionAreaBorder("left")?.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})})):(t.columnsSelection.end-=1,requestAnimationFrame(()=>{this.getSelectionAreaBorder("right")?.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})})),this.selection=t}selectionAreaRight(){let e=this.selection;if(!e||"area"!==e.selectionType)return;let t=this.focusToArea(e);if(t.columnsSelection.start===t.focus.columnIndex){let e=this.rows(t.groupKey)?.item(0).querySelectorAll("affine-database-cell-container").length-1;t.columnsSelection.end=Math.min(e,t.columnsSelection.end+1),requestAnimationFrame(()=>{this.getSelectionAreaBorder("right")?.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})})}else t.columnsSelection.start+=1,requestAnimationFrame(()=>{this.getSelectionAreaBorder("left")?.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})});this.selection=t}selectionAreaUp(){let e=this.selection;if(!e||"area"!==e.selectionType)return;let t=this.focusToArea(e);t.rowsSelection.end===t.focus.rowIndex?(t.rowsSelection.start=Math.max(0,t.rowsSelection.start-1),requestAnimationFrame(()=>{this.getSelectionAreaBorder("top")?.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})})):(t.rowsSelection.end-=1,requestAnimationFrame(()=>{this.getSelectionAreaBorder("bottom")?.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})})),this.selection=t}startDrag(e,t,i){let s=t.closest("affine-data-view-table-group")?.group?.key,o=this.tableContainer;if(!o)return;let r=o.parentElement;if(!r)return;let a=o.getBoundingClientRect(),n=e.x-a.left,l=e.y-a.top,c=this.cellPosition(s),d=e=>{this.selection=h0.create({groupKey:s,rowsSelection:e.row,columnsSelection:e.column,focus:{rowIndex:t.rowIndex,columnIndex:t.columnIndex},isEditing:!1})},h=hf(r,{onScroll(){u.move({x:u.last.x,y:u.last.y})}}),u=cT(e,{transform:e=>({x:e.x,y:e.y}),onDrag:()=>{i&&(this.__dragToFillElement.dragging=!0)},onMove:({x:e,y:s})=>{if(!o)return;let r=o.getBoundingClientRect(),a=c(r.left+n,e,r.top+l,s);return i&&(a.column={start:t.columnIndex,end:t.columnIndex}),d(a),a},onDrop:e=>{e&&(d(e),i&&this.selection&&(this.__dragToFillElement.dragging=!1,function(e,t){let{groupKey:i,rowsSelection:s,columnsSelection:o,focus:r}=t,a=e.selectionController.getCellContainer(i,r.rowIndex,r.columnIndex);if(a&&s&&o){(0,V.U2)(o.start,o.end,"expected selections on a single column");let t=a.column,n=a.cell$.value.value$.value,l=o.start,{start:c,end:d}=s;for(let s=c;s<=d;s++){if(s===r.rowIndex)continue;let o=e.selectionController.getCellContainer(i,s,l);if(!o)continue;let a=o.cell$.value;if(om.is(t.dataType)){let e=n?.toDelta()??[{insert:""}],t=a.value$.value;if(t)t.clear(),t.applyDelta(e);else{let t=new v.rl.Y.Text;t.applyDelta(e),a.setValue(t)}}else a.setValue(n)}}}(this.host,h0.create({groupKey:s,rowsSelection:e.row,columnsSelection:e.column,focus:{rowIndex:t.rowIndex,columnIndex:t.columnIndex},isEditing:!1}))))},onClear:()=>{h()}})}toggleRow(e,t){let i={id:e,groupKey:t},s=h1.includes(this.selection,i);this.rowSelectionChange({add:s?[]:[i],remove:s?[i]:[]})}get dragToFillDraggable(){return this.__dragToFillElement.dragToFillRef.value}get selection(){return this._tableViewSelection}set selection(e){if(!e){this.clearSelection();return}let t={...e,viewId:this.view.id,type:"table"};if("area"===t.selectionType&&t.isEditing){let e=t.focus,i=this.getCellContainer(t.groupKey,e.rowIndex,e.columnIndex),s=i?.cell,o=!s||s.beforeEnterEditMode();this.host.setSelection({...t,isEditing:o})}else this.host.setSelection(t)}get tableContainer(){return this.host.querySelector(".affine-database-table-container")}get view(){return this.host.view}get viewData(){return this.view}}let uV=(()=>{let e,t,i=[(0,L.EM)("data-view-table-selection")],s=[],o=(0,P.Tm)(P.ao),r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;uD(this,null,[(0,L.MZ)({attribute:!1})],{kind:"accessor",name:"controller",static:!1,private:!1,access:{has:e=>"controller"in e,get:e=>e.controller,set:(e,t)=>{e.controller=t}},metadata:n},r,a),uD(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    .database-selection {
      position: absolute;
      z-index: 2;
      box-sizing: border-box;
      background: var(--affine-primary-color-04);
      pointer-events: none;
      display: none;
    }

    .database-focus {
      position: absolute;
      width: 100%;
      z-index: 2;
      box-sizing: border-box;
      border: 1px solid var(--affine-primary-color);
      border-radius: 2px;
      pointer-events: none;
      display: none;
      outline: none;
    }

    .area-border {
      position: absolute;
      pointer-events: none;
    }
    .area-left {
      left: 0;
      height: 100%;
      width: 1px;
    }
    .area-right {
      right: 0;
      height: 100%;
      width: 1px;
    }
    .area-top {
      top: 0;
      width: 100%;
      height: 1px;
    }
    .area-bottom {
      bottom: 0;
      width: 100%;
      height: 1px;
    }
    @media print {
      affine-database-selection {
        display: none;
      }
    }
  `}clearAreaStyle(){let e=this.selectionRef.value;e&&(e.style.display="none")}clearFocusStyle(){let e=this.focusRef.value,t=this.controller.dragToFillDraggable;e&&t&&(e.style.display="none",t.style.display="none")}connectedCallback(){super.connectedCallback(),this.disposables.add((0,sh.QZ)(()=>{this.startUpdate(this.selection$.value)}))}render(){return(0,H.qy)`
      <div ${(0,lB.K)(this.selectionRef)} class="database-selection">
        <div class="area-border area-left"></div>
        <div class="area-border area-right"></div>
        <div class="area-border area-top"></div>
        <div class="area-border area-bottom"></div>
      </div>
      <div tabindex="0" ${(0,lB.K)(this.focusRef)} class="database-focus"></div>
    `}startUpdate(e){if(this.preTask&&(cancelAnimationFrame(this.preTask),this.preTask=0),e?.selectionType!=="area"||this.controller.host.view.readonly$.value)this.clearFocusStyle(),this.clearAreaStyle();else{this.updateAreaSelectionStyle(e.groupKey,e.rowsSelection,e.columnsSelection);let t=this.controller.__dragToFillElement.dragging,i=e.isEditing;this.updateFocusSelectionStyle(e.groupKey,e.focus,i,!i&&t),this.preTask=requestAnimationFrame(()=>this.startUpdate(this.selection$.value))}}updateAreaSelectionStyle(e,t,i){let s=this.selectionRef.value;if(!s)return;let o=this.controller.tableContainer;if(!o)return;let r=o.getBoundingClientRect(),a=this.controller.getRect(e,t?.start??0,t?.end??this.controller.view.rows$.value.length-1,i?.start??0,i?.end??this.controller.view.columnManagerList$.value.length-1);if(!a){this.clearAreaStyle();return}let{left:n,top:l,width:c,height:d,scale:h}=a;s.style.left=`${n-r.left/h}px`,s.style.top=`${l-r.top/h}px`,s.style.width=`${c}px`,s.style.height=`${d}px`,s.style.display="block"}updateFocusSelectionStyle(e,t,i,s=!1){let o=this.focusRef.value,r=this.controller.dragToFillDraggable;if(!o||!r||(this.controller.rows(e)??[]).length<=t.rowIndex)return;let a=this.controller.getRect(e,t.rowIndex,t.rowIndex,t.columnIndex,t.columnIndex);if(!a){this.clearFocusStyle();return}let{left:n,top:l,width:c,height:d,scale:h}=a,u=this.controller.tableContainer;if(!u)return;let p=u.getBoundingClientRect(),f=n-p.left/h,g=l-1-p.top/h,m=c+1,v=d+1;o.style.left=`${f}px`,o.style.top=`${g}px`,o.style.width=`${m}px`,o.style.height=`${v}px`,o.style.borderColor="var(--affine-primary-color)",o.style.borderStyle=this.controller.__dragToFillElement.dragging?"dashed":"solid",o.style.boxShadow=i?"0px 0px 0px 2px rgba(30, 150, 235, 0.30)":"unset",o.style.display="block",r.style.left=`${f+m}px`,r.style.top=`${g+v}px`,r.style.display=s?"block":"none"}get selection$(){return this.controller.host.selection$}#t7;get controller(){return this.#t7}set controller(e){this.#t7=e}constructor(){super(...arguments),this.focusRef=(0,lB._)(),this.preTask=0,this.selectionRef=(0,lB._)(),this.#t7=uZ(this,r,void 0),uZ(this,a)}static{uZ(t,s)}},t})();var uR=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},uz=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let uF=(0,H.AH)`
  .affine-database-column-stats {
    width: 100%;
    margin-left: 8px;
    display: flex;
  }
`;(()=>{let e,t,i,s,o=[(0,L.EM)("affine-database-column-stats")],r=[],a=(0,P.Tm)(H.WF),n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],uR(this,null,i,{kind:"accessor",name:"group",static:!1,private:!1,access:{has:e=>"group"in e,get:e=>e.group,set:(e,t)=>{e.group=t}},metadata:h},n,l),uR(this,null,s,{kind:"accessor",name:"view",static:!1,private:!1,access:{has:e=>"view"in e,get:e=>e.view,set:(e,t)=>{e.view=t}},metadata:h},c,d),uR(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=uF}render(){let e=this.view.columnManagerList$.value;return(0,H.qy)`
      <div class="affine-database-column-stats">
        ${(0,D.u)(e,e=>e.id,e=>(0,H.qy)`<affine-database-column-stats-cell
              .column=${e}
              .group=${this.group}
            ></affine-database-column-stats-cell>`)}
      </div>
    `}#tz=uz(this,n,void 0);get group(){return this.#tz}set group(e){this.#tz=e}#tw=(uz(this,l),uz(this,c,void 0));get view(){return this.#tw}set view(e){this.#tw=e}constructor(){super(...arguments),uz(this,d)}static{uz(t,r)}})})();var uN=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},uq=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let uU=(0,H.AH)`
  .stats-cell {
    cursor: pointer;
    transition: opacity 230ms ease;
    padding: 8px 0px;
    font-size: 12px;
    color: var(--affine-text-secondary-color);
    display: flex;
    opacity: 0;
    min-width: ${100}px;
    justify-content: flex-end;
  }
  .stats-cell:hover {
    background-color: var(--affine-hover-color);
    cursor: pointer;
    opacity: 1;
  }
  .stats-cell[calculated='true'] {
    opacity: 1;
  }
  .stats-cell .content {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.2rem;
    margin-inline: 5px;
  }
  .label {
    text-transform: uppercase;
  }
  .value {
    color: var(--affine-text-primary-color);
  }
`;(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("affine-database-column-stats-cell")],n=[],l=(0,P.Tm)(H.WF),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.wk)()],r=[(0,L.wk)()],uN(this,null,i,{kind:"accessor",name:"column",static:!1,private:!1,access:{has:e=>"column"in e,get:e=>e.column,set:(e,t)=>{e.column=t}},metadata:v},c,d),uN(this,null,s,{kind:"accessor",name:"group",static:!1,private:!1,access:{has:e=>"group"in e,get:e=>e.group,set:(e,t)=>{e.group=t}},metadata:v},h,u),uN(this,null,o,{kind:"accessor",name:"operation",static:!1,private:!1,access:{has:e=>"operation"in e,get:e=>e.operation,set:(e,t)=>{e.operation=t}},metadata:v},p,f),uN(this,null,r,{kind:"accessor",name:"result",static:!1,private:!1,access:{has:e=>"result"in e,get:e=>e.result,set:(e,t)=>{e.result=t}},metadata:v},g,m),uN(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=uU}getResultString(){if(!this.result||!isFinite(this.result.value))return"";let{displayFormat:e,value:t}=this.result;switch(e){case"%":return`${(100*t).toFixed(3)}%`;case"x10":return`${t}`}}calculate(){this.operation&&(this.result=this.operation.calculate(this.column,this.group))}connectedCallback(){super.connectedCallback(),this.operation=function(e){let t=ub.find(t=>t.type===e);return(0,V.Z1)(t,`Invalid operation type ${e}`),t}(this.column.statCalcOp),this.calculate(),this.disposables.addFromEvent(this,"click",this.openMenu)}getColumnType(){let e=this.column.type;return"number"===e||"checkbox"===e?e:"other"}render(){let e={width:`${this.column.width$.value}px`};return(0,H.qy)`<div
      calculated="${!!this.operation&&"none"!==this.operation.type}"
      style="${(0,Z.W)(e)}"
      class="stats-cell"
    >
      <div class="content">
        ${this.operation&&"none"!==this.operation.type?(0,H.qy)`
              <span class="label">${this.operation.display}</span>
              <span class="value">${this.getResultString()} </span>
            `:(0,H.qy)`Calculate ${a7}`}
      </div>
    </div>`}#tm;get column(){return this.#tm}set column(e){this.#tm=e}#tz;get group(){return this.#tz}set group(e){this.#tz=e}#t3;get operation(){return this.#t3}set operation(e){this.#t3=e}#t4;get result(){return this.#t4}set result(e){this.#t4=e}constructor(){super(...arguments),this.onSelect=e=>{if("none"===e.type){this.operation=null,this.result=null;return}this.column.updateStatCalcOp(e.type),this.operation=e,this.calculate()},this.openMenu=e=>{u_((0,st.mD)(this),e.target,this.column,this.getColumnType(),this.onSelect)},this.#tm=uq(this,c,void 0),this.#tz=(uq(this,d),uq(this,h,void 0)),this.#t3=(uq(this,u),uq(this,p,null)),this.#t4=(uq(this,f),uq(this,g,null)),uq(this,m)}static{uq(t,n)}})})();var uW=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},uG=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let uY=(0,H.AH)`
  affine-data-view-table-group:hover .group-header-op {
    visibility: visible;
    opacity: 1;
  }
  .data-view-table-group-add-row {
    display: flex;
    width: 100%;
    height: 28px;
    position: relative;
    z-index: 0;
    cursor: pointer;
    transition: opacity 0.2s ease-in-out;
    padding: 4px 8px;
    border-bottom: 1px solid var(--affine-border-color);
  }

  @media print {
    .data-view-table-group-add-row {
      display: none;
    }
  }

  .data-view-table-group-add-row-button {
    position: sticky;
    left: ${30}px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    user-select: none;
    font-size: 12px;
    line-height: 20px;
    color: var(--affine-text-secondary-color);
  }
`;(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("affine-data-view-table-group")],n=[],l=(0,sh.Jb)((0,P.Tm)(P.ao)),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],uW(this,null,i,{kind:"accessor",name:"dataViewEle",static:!1,private:!1,access:{has:e=>"dataViewEle"in e,get:e=>e.dataViewEle,set:(e,t)=>{e.dataViewEle=t}},metadata:v},c,d),uW(this,null,s,{kind:"accessor",name:"group",static:!1,private:!1,access:{has:e=>"group"in e,get:e=>e.group,set:(e,t)=>{e.group=t}},metadata:v},h,u),uW(this,null,o,{kind:"accessor",name:"view",static:!1,private:!1,access:{has:e=>"view"in e,get:e=>e.view,set:(e,t)=>{e.view=t}},metadata:v},p,f),uW(this,null,r,{kind:"accessor",name:"viewEle",static:!1,private:!1,access:{has:e=>"viewEle"in e,get:e=>e.viewEle,set:(e,t)=>{e.viewEle=t}},metadata:v},g,m),uW(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=uY}renderRows(e){return(0,H.qy)`
      <affine-database-column-header
        .renderGroupHeader="${this.renderGroupHeader}"
        .tableViewManager="${this.view}"
      ></affine-database-column-header>
      <div class="affine-database-block-rows">
        ${(0,D.u)(e,e=>e,(e,t)=>(0,H.qy)`<data-view-table-row
              data-row-index="${t}"
              data-row-id="${e}"
              .dataViewEle="${this.dataViewEle}"
              .view="${this.view}"
              .rowId="${e}"
              .rowIndex="${t}"
            ></data-view-table-row>`)}
      </div>
      ${this.view.readonly$.value?null:(0,H.qy)` <div
            class="data-view-table-group-add-row dv-hover"
            @click="${this.clickAddRow}"
          >
            <div
              class="data-view-table-group-add-row-button dv-icon-16"
              data-test-id="affine-database-add-row-button"
              role="button"
            >
              ${sj}<span>New Record</span>
            </div>
          </div>`}
      ${this.view.featureFlags$.value.enable_database_statistics?(0,H.qy)`
            <affine-database-column-stats
              .view="${this.view}"
              .group=${this.group}
            >
            </affine-database-column-stats>
          `:null}
    `}render(){return this.renderRows(this.rows)}updated(e){super.updated(e),this.querySelectorAll("data-view-table-row").forEach(e=>{e.requestUpdate()})}get rows(){return this.group?.rows??this.view.rows$.value}#tA;get dataViewEle(){return this.#tA}set dataViewEle(e){this.#tA=e}#tz;get group(){return this.#tz}set group(e){this.#tz=e}#tw;get view(){return this.#tw}set view(e){this.#tw=e}#t6;get viewEle(){return this.#t6}set viewEle(e){this.#t6=e}constructor(){super(...arguments),this.clickAddRow=()=>{this.view.rowAdd("end",this.group?.key),requestAnimationFrame(()=>{let e=this.viewEle.selectionController,t=this.view.columnManagerList$.value.findIndex(e=>"title"===e.type);e.selection=h0.create({groupKey:this.group?.key,focus:{rowIndex:this.rows.length-1,columnIndex:t},isEditing:!0})})},this.clickAddRowInStart=()=>{this.view.rowAdd("start",this.group?.key),requestAnimationFrame(()=>{let e=this.viewEle.selectionController,t=this.view.columnManagerList$.value.findIndex(e=>"title"===e.type);e.selection=h0.create({groupKey:this.group?.key,focus:{rowIndex:0,columnIndex:t},isEditing:!0})})},this.clickGroupOptions=e=>{let t=this.group;t&&lZ(e.currentTarget,[{type:"action",name:"Ungroup",hide:()=>null==t.value,select:()=>{t.rows.forEach(e=>{t.helper.removeFromGroup(e,t.key)})}},{type:"action",name:"Delete Cards",select:()=>{this.view.rowDelete(t.rows)}}])},this.renderGroupHeader=()=>this.group?(0,H.qy)`
      <div
        style="position: sticky;left: 0;width: max-content;padding: 6px 0;margin-bottom: 4px;display:flex;align-items:center;gap: 12px;max-width: 400px"
      >
        ${hx(this.group,{readonly:this.view.readonly$.value,clickAdd:this.clickAddRowInStart,clickOps:this.clickGroupOptions})}
      </div>
    `:null,this.#tA=uG(this,c,void 0),this.#tz=(uG(this,d),uG(this,h,void 0)),this.#tw=(uG(this,u),uG(this,p,void 0)),this.#t6=(uG(this,f),uG(this,g,void 0)),uG(this,m)}static{uG(t,n)}})})();var uK=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},uX=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let uQ=(0,H.AH)`
  affine-database-table {
    position: relative;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  affine-database-table * {
    box-sizing: border-box;
  }
  .affine-database-table {
    overflow-y: auto;
  }

  .affine-database-block-title-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 44px;
    margin: 2px 0 2px;
  }

  .affine-database-block-table {
    position: relative;
    width: 100%;
    padding-bottom: 4px;
    z-index: 1;
    overflow-x: scroll;
    overflow-y: hidden;
  }

  .affine-database-block-table:hover {
    padding-bottom: 0px;
  }

  .affine-database-block-table::-webkit-scrollbar {
    -webkit-appearance: none;
    display: block;
  }

  .affine-database-block-table::-webkit-scrollbar:horizontal {
    height: 4px;
  }

  .affine-database-block-table::-webkit-scrollbar-thumb {
    border-radius: 2px;
    background-color: transparent;
  }

  .affine-database-block-table:hover::-webkit-scrollbar:horizontal {
    height: 8px;
  }

  .affine-database-block-table:hover::-webkit-scrollbar-thumb {
    border-radius: 16px;
    background-color: var(--affine-black-30);
  }

  .affine-database-block-table:hover::-webkit-scrollbar-track {
    background-color: var(--affine-hover-color);
  }

  .affine-database-table-container {
    position: relative;
    width: fit-content;
    min-width: 100%;
  }

  .affine-database-block-tag-circle {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    display: inline-block;
  }

  .affine-database-block-tag {
    display: inline-flex;
    border-radius: 11px;
    align-items: center;
    padding: 0 8px;
    cursor: pointer;
  }

  .database-cell {
    border-left: 1px solid var(--affine-border-color);
  }
  .data-view-table-left-bar {
    display: flex;
    align-items: center;
    position: sticky;
    z-index: 1;
    left: 0;
    width: ${22}px;
    flex-shrink: 0;
  }
  .affine-database-block-rows {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-start;
  }
`,uJ=(()=>{let e,t,i=[(0,L.EM)("affine-database-table")],s=[],o=hc;return class extends o{static{t=this}constructor(){super(...arguments),this._addRow=(e,t)=>{if(this.readonly)return;let i="number"==typeof t?t:(0,dV.q)(t,this.view.rows$.value.map(e=>({id:e})));e.rowAdd(t),requestAnimationFrame(()=>{this.selectionController.selection=h0.create({focus:{rowIndex:i,columnIndex:0},isEditing:!0})})},this.clipboardController=new uB(this),this.dragController=new u$(this),this.getSelection=()=>this.selectionController.selection,this.hotkeysController=new uP(this),this.onWheel=e=>{if(e.metaKey||e.ctrlKey)return;let t=e.currentTarget;if(t instanceof HTMLElement){if(t.scrollWidth===t.clientWidth)return;e.stopPropagation()}},this.renderAddGroup=e=>{let t=e.addGroup;if(t)return(0,ic.qy)` <div style="display:flex;">
      <div
        class="dv-hover dv-round-8"
        style="display:flex;align-items:center;gap: 10px;padding: 6px 12px 6px 8px;color: var(--affine-text-secondary-color);font-size: 12px;line-height: 20px;position: sticky;left: ${22}px;"
        @click="${i=>{lD(i.currentTarget,{options:{input:{onComplete:i=>{let s=e.column;s&&s.updateData(()=>t(i,s.data$))}},items:[]}})}}"
      >
        <div class="dv-icon-16" style="display:flex;">${ns}</div>
        <div>New Group</div>
      </div>
    </div>`},this.selectionController=new uj(this)}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;uK(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=uQ}get readonly(){return this.view.readonly$.value}renderTable(){let e=this.view.groupHelper;return e?(0,ic.qy)`
        <div style="display:flex;flex-direction: column;gap: 16px;">
          ${e.groups.map(e=>(0,ic.qy)`<affine-data-view-table-group
              data-group-key="${e.key}"
              .dataViewEle="${this.dataViewEle}"
              .view="${this.view}"
              .viewEle="${this}"
              .group="${e}"
            ></affine-data-view-table-group>`)}
          ${this.renderAddGroup(e)}
        </div>
      `:(0,ic.qy)`<affine-data-view-table-group
      .dataViewEle="${this.dataViewEle}"
      .view="${this.view}"
      .viewEle="${this}"
    ></affine-data-view-table-group>`}addRow(e){this._addRow(this.view,e)}focusFirstCell(){this.selectionController.focusFirstCell()}hideIndicator(){this.dragController.dropPreview.remove()}moveTo(e,t){let i=this.dragController.getInsertPosition(t);i&&this.view.rowMove(e,i.position,void 0,i.groupKey)}render(){return(0,ic.qy)`
      ${sv(this.headerWidget,{view:this.view,viewMethods:this})}
      <div class="affine-database-table">
        <div class="affine-database-block-table" @wheel="${this.onWheel}">
          <div class="affine-database-table-container">
            ${this.renderTable()}
          </div>
        </div>
      </div>
    `}showIndicator(e){return null!=this.dragController.showIndicator(e)}static{uX(t,s)}},t})(),u1={tableViewConfig:hX.rendererConfig({view:sy(uJ),icon:oe("DatabaseTableViewIcon")}),kanbanViewConfig:hW};var u0=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},u2=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,L.EM)("variable-ref-view")],a=[],n=(0,P.Tm)(P.ao),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],u0(this,null,i,{kind:"accessor",name:"data",static:!1,private:!1,access:{has:e=>"data"in e,get:e=>e.data,set:(e,t)=>{e.data=t}},metadata:f},l,c),u0(this,null,s,{kind:"accessor",name:"setData",static:!1,private:!1,access:{has:e=>"setData"in e,get:e=>e.setData,set:(e,t)=>{e.setData=t}},metadata:f},d,h),u0(this,null,o,{kind:"accessor",name:"vars",static:!1,private:!1,access:{has:e=>"vars"in e,get:e=>e.vars,set:(e,t)=>{e.vars=t}},metadata:f},u,p),u0(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    variable-ref-view {
      font-size: 12px;
      line-height: 20px;
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 0 4px;
      border-radius: 4px;
      cursor: pointer;
    }

    variable-ref-view:hover {
      background-color: var(--affine-hover-color);
    }

    variable-ref-view svg {
      width: 16px;
      height: 16px;
      fill: var(--affine-icon-color);
      color: var(--affine-icon-color);
    }
  `}connectedCallback(){super.connectedCallback(),this.disposables.addFromEvent(this,"click",e=>{lZ(e.target,this.vars.map(e=>({type:"action",name:e.name,icon:sv(e.icon,{}),select:()=>{this.setData({type:"ref",name:e.id})}})))})}render(){let e=this.fieldData;return(0,H.qy)` ${sv(e?.icon,{})} ${e?.name} `}get field(){return this.data?"ref"===this.data.type?this.data.name:this.data.ref.name:void 0}get fieldData(){let e=this.field;if(e)return this.vars.find(t=>t.id===e)}get property(){if(this.data&&"ref"!==this.data.type)return this.data.propertyFuncName}#tE=u2(this,l,void 0);get data(){return this.#tE}set data(e){this.#tE=e}#t8=(u2(this,c),u2(this,d,void 0));get setData(){return this.#t8}set setData(e){this.#t8=e}#t9=(u2(this,h),u2(this,u,void 0));get vars(){return this.#t9}set vars(e){this.#t9=e}constructor(){super(...arguments),u2(this,p)}static{u2(t,a)}})})();let u5=(e,t)=>{lZ(e,[...t.vars.map(e=>({type:"action",name:e.name,icon:sv(e.icon,{}),select:()=>{t.onSelect(dJ(t.vars,{type:"ref",name:e.id}))}})),{type:"group",name:"",children:()=>[{type:"action",name:"Add filter group",icon:ns,select:()=>{t.onSelect(d0(t.vars))}}]}],t.onClose)};var u7=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},u3=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let u4=(()=>{let e,t,i,s,o=[(0,L.EM)("any-render")],r=[],a=(0,sh.Jb)(P.ao),n=[],l=[],c=[],d=[];return class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],u7(this,null,i,{kind:"accessor",name:"props",static:!1,private:!1,access:{has:e=>"props"in e,get:e=>e.props,set:(e,t)=>{e.props=t}},metadata:h},n,l),u7(this,null,s,{kind:"accessor",name:"renderTemplate",static:!1,private:!1,access:{has:e=>"renderTemplate"in e,get:e=>e.renderTemplate,set:(e,t)=>{e.renderTemplate=t}},metadata:h},c,d),u7(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),u3(t,r)}render(){return this.renderTemplate(this.props)}#Q=u3(this,n,void 0);get props(){return this.#Q}set props(e){this.#Q=e}#ei=(u3(this,l),u3(this,c,void 0));get renderTemplate(){return this.#ei}set renderTemplate(e){this.#ei=e}constructor(){super(...arguments),u3(this,d)}},t})(),u6=e=>{let t=new u4;return t.renderTemplate=e,t},u8=(e,t,i)=>{let s=pe.match(e);if(s)return sv(s.view,{value:t,onChange:i,type:e})},u9=(e,t,i,s)=>{let o=pe.match(t);o&&o.popEdit(e,{value:i,onChange:s,type:t})},pe=new db;var pt=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},pi=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let ps=(()=>{let e,t,i,s=(0,P.Tm)(P.ao),o=[],r=[],a=[],n=[],l=[],c=[];return class extends s{static{let d="function"==typeof Symbol&&Symbol.metadata?Object.create(s[Symbol.metadata]??null):void 0;e=[(0,L.MZ)({attribute:!1})],t=[(0,L.MZ)({attribute:!1})],i=[(0,L.MZ)({attribute:!1})],pt(this,null,e,{kind:"accessor",name:"onChange",static:!1,private:!1,access:{has:e=>"onChange"in e,get:e=>e.onChange,set:(e,t)=>{e.onChange=t}},metadata:d},o,r),pt(this,null,t,{kind:"accessor",name:"type",static:!1,private:!1,access:{has:e=>"type"in e,get:e=>e.type,set:(e,t)=>{e.type=t}},metadata:d},a,n),pt(this,null,i,{kind:"accessor",name:"value",static:!1,private:!1,access:{has:e=>"value"in e,get:e=>e.value,set:(e,t)=>{e.value=t}},metadata:d},l,c),d&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:d})}#ef=pi(this,o,void 0);get onChange(){return this.#ef}set onChange(e){this.#ef=e}#ie=(pi(this,r),pi(this,a,void 0));get type(){return this.#ie}set type(e){this.#ie=e}#ey=(pi(this,n),pi(this,l,void 0));get value(){return this.#ey}set value(e){this.#ey=e}constructor(){super(...arguments),pi(this,c)}}})(),po=(()=>{let e,t,i=[(0,L.EM)("data-view-literal-boolean-view")],s=[],o=ps;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;pt(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),pi(t,s)}render(){return this.value?"True":"False"}},t})(),pr=(()=>{let e,t,i=[(0,L.EM)("data-view-literal-number-view")],s=[],o=ps;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;pt(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    data-view-literal-number-view {
      display: block;
      max-width: 100px;
      text-overflow: ellipsis;
      overflow: hidden;
      white-space: nowrap;
    }
  `}render(){return this.value?.toString()??(0,H.qy)`<span class="dv-color-2">Value</span>`}static{pi(t,s)}},t})(),pa=(()=>{let e,t,i=[(0,L.EM)("data-view-literal-string-view")],s=[],o=ps;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;pt(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    data-view-literal-string-view {
      display: block;
      max-width: 100px;
      text-overflow: ellipsis;
      overflow: hidden;
      white-space: nowrap;
    }
  `}render(){return this.value?.toString()??(0,H.qy)`<span class="dv-color-2">Value</span>`}static{pi(t,s)}},t})();var pn=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},pl=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let pc=(()=>{let e,t,i=[(0,L.EM)("data-view-literal-date-view")],s=[],o=ps;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;pn(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),pl(t,s)}render(){return this.value?(0,R.GP)(new Date(this.value),"yyyy/MM/dd"):(0,H.qy)`<span class="dv-color-2">Value</span>`}},t})();var pd=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ph=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let pu=(()=>{let e,t,i=[(0,L.EM)("data-view-literal-tag-view")],s=[],o=ps;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;pd(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    data-view-literal-tag-view {
      max-width: 100px;
      display: block;
      text-overflow: ellipsis;
      overflow: hidden;
      white-space: nowrap;
    }
  `}render(){return this.value?this.tags().find(e=>e.id===this.value)?.value??(0,H.qy)`<span class="dv-color-2">Value</span>`:(0,H.qy)`<span class="dv-color-2">Value</span>`}tags(){return this.type.data?.tags||[]}static{ph(t,s)}},t})(),pp=(()=>{let e,t,i=[(0,L.EM)("data-view-literal-multi-tag-view")],s=[],o=ps;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;pd(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    data-view-literal-multi-tag-view {
      max-width: 100px;
      display: block;
      text-overflow: ellipsis;
      overflow: hidden;
      white-space: nowrap;
    }
  `}render(){if(!this.value?.length)return(0,H.qy)`<span class="dv-color-2">Value</span>`;let e=new Map(this.tags().map(e=>[e.id,e.value]));return(0,H.qy)`${this.value.map(t=>e.get(t)).join(",")}`}tags(){let e=this.type.ele;return ow.is(e)&&e.data?.tags||[]}static{ph(t,s)}},t})();pe.register(ov.create(),{view:sy(po),popEdit:(e,{value:t,onChange:i})=>{lD(e,{options:{input:{search:!0},items:[!0,!1].map(e=>({type:"action",name:e.toString().toUpperCase(),isSelected:e===t,select:()=>{i(e)}}))}})}}),pe.register(og.create(),{view:sy(pa),popEdit:(e,{value:t,onChange:i})=>{lD(e,{options:{input:{initValue:t?.toString()??"",onComplete:e=>{i(e||void 0)}},items:[]}})}}),pe.register(of.create(),{view:sy(pr),popEdit:(e,{value:t,onChange:i})=>{lD(e,{options:{input:{initValue:t?.toString()??"",onComplete:e=>{if(!e){i(void 0);return}let t=Number.parseFloat(e);Number.isNaN(t)||i(t)}},items:[]}})}}),pe.register(oo(ow.create()),{view:sy(pp),popEdit:(e,{value:t,onChange:i,type:s})=>{if(!or(s)||!ow.is(s.ele))return;let o=Array.isArray(t)?t:[];lD(e,{options:{input:{search:!0},items:s.ele.data?.tags.map(e=>{let t=Z.W({backgroundColor:e.color,padding:"0 8px",width:"max-content"});return{type:"checkbox",name:e.value,checked:o.includes(e.id),label:()=>H.qy` <div class="dv-round-4" style=${t}>
                  ${e.value}
                </div>`,select:t=>t?(i(o=o.filter(t=>t!==e.id)),!1):(i(o=[...o,e.id]),!0)}})??[]}})}}),pe.register(ow.create(),{view:sy(pu),popEdit:(e,{onChange:t,type:i})=>{ow.is(i)&&lD(e,{options:{input:{search:!0},items:i.data?.tags.map(e=>{let i=Z.W({backgroundColor:e.color,padding:"0 8px",width:"max-content"});return{type:"action",name:e.value,label:()=>H.qy` <div class="dv-round-4" style=${i}>
                  ${e.value}
                </div>`,select:()=>{t(e.id)}}})??[]}})}}),pe.register(oy.create(),{view:sy(pc),popEdit:(e,{value:t,onChange:i})=>{let s=document.createElement("input");s.type="date",s.click(),s.valueAsNumber=t,document.body.append(s),s.style.position="absolute";let o=lL(e,s);requestAnimationFrame(()=>{s.showPicker(),s.onchange=()=>{i(s.valueAsNumber),o()}})}});var pf=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},pg=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("filter-condition-view")],n=[],l=(0,P.Tm)(P.ao),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],pf(this,null,i,{kind:"accessor",name:"data",static:!1,private:!1,access:{has:e=>"data"in e,get:e=>e.data,set:(e,t)=>{e.data=t}},metadata:v},c,d),pf(this,null,s,{kind:"accessor",name:"onDelete",static:!1,private:!1,access:{has:e=>"onDelete"in e,get:e=>e.onDelete,set:(e,t)=>{e.onDelete=t}},metadata:v},h,u),pf(this,null,o,{kind:"accessor",name:"setData",static:!1,private:!1,access:{has:e=>"setData"in e,get:e=>e.setData,set:(e,t)=>{e.setData=t}},metadata:v},p,f),pf(this,null,r,{kind:"accessor",name:"vars",static:!1,private:!1,access:{has:e=>"vars"in e,get:e=>e.vars,set:(e,t)=>{e.vars=t}},metadata:v},g,m),pf(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    filter-condition-view {
      display: flex;
      align-items: center;
      padding: 4px;
      gap: 16px;
      border: 1px solid var(--affine-border-color);
      border-radius: 8px;
      background-color: var(--affine-white);
    }

    .filter-condition-expression {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .filter-condition-delete {
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      height: max-content;
      cursor: pointer;
    }

    .filter-condition-delete:hover {
      background-color: var(--affine-hover-color);
    }

    .filter-condition-delete svg {
      width: 16px;
      height: 16px;
    }

    .filter-condition-function-name {
      font-size: 12px;
      line-height: 20px;
      color: var(--affine-text-secondary-color);
      padding: 2px 8px;
      border-radius: 4px;
      cursor: pointer;
    }

    .filter-condition-function-name:hover {
      background-color: var(--affine-hover-color);
    }

    .filter-condition-arg {
      font-size: 12px;
      font-style: normal;
      font-weight: 600;
      padding: 0 4px;
      height: 100%;
      display: flex;
      align-items: center;
    }
  `}_args(){let e=dK.find(e=>e.data.name===this.data.function);if(!e)return[];let t=dX(this.vars,this.data.left);return t?ou.instance({},[t],ov.create(),e.type).args.slice(1):[]}_filterLabel(){return dK.find(e=>e.data.name===this.data.function)?.data.label}_filterList(){let e=dX(this.vars,this.data.left);return e?dK.allMatchedData(e):[]}_selectFilter(e){lZ(e.currentTarget,this._filterList().map(e=>{let t=e.name===this.data.function;return{type:"action",name:e.label,isSelected:t,select:()=>{this.setData({...this.data,function:e.name})}}}))}render(){let e=this.data;return(0,H.qy)`
      <div class="filter-condition-expression">
        <variable-ref-view
          .data="${e.left}"
          .setData="${this._setRef}"
          .vars="${this.vars}"
          style="height: 24px"
        ></variable-ref-view>
        <div
          class="filter-condition-function-name"
          @click="${this._selectFilter}"
        >
          ${this._filterLabel()}
        </div>
        ${(0,D.u)(this._args(),(e,t)=>{let i=this.data.args[t],s=e=>{let i=this.data.args.slice();i[t]={type:"literal",value:e},this.setData({...this.data,args:i})};return(0,H.qy)` <div
            class="dv-hover dv-round-4 filter-condition-arg"
            @click="${t=>{u9(t.currentTarget,e,i?.value,s)}}"
          >
            ${u8(e,i?.value,s)}
          </div>`})}
      </div>
      ${this.onDelete?(0,H.qy)` <div
            @click="${this.onDelete}"
            class="dv-icon-16 dv-round-4 dv-pd-4 dv-hover"
            style="display:flex;align-items:center;"
          >
            ${sZ}
          </div>`:H.s6}
    `}#tE;get data(){return this.#tE}set data(e){this.#tE=e}#it;get onDelete(){return this.#it}set onDelete(e){this.#it=e}#t8;get setData(){return this.#t8}set setData(e){this.#t8=e}#t9;get vars(){return this.#t9}set vars(e){this.#t9=e}constructor(){super(...arguments),this._setRef=e=>{this.setData(dJ(this.vars,e))},this.#tE=pg(this,c,void 0),this.#it=(pg(this,d),pg(this,h,void 0)),this.#t8=(pg(this,u),pg(this,p,void 0)),this.#t9=(pg(this,f),pg(this,g,void 0)),pg(this,m)}static{pg(t,n)}})})();let pm=(e,t)=>{lZ(e,[{type:"action",name:"Add filter",select:()=>{t.onChange({...t.value,conditions:[...t.value.conditions,d1(t.vars)]})}},{type:"action",name:"Add filter group",select:()=>{t.onChange({...t.value,conditions:[...t.value.conditions,d0(t.vars)]})}}])};var pv=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},py=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("filter-group-view")],l=[],c=(0,P.Tm)(P.ao),d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[];(class extends c{static{t=this}static{let w="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],pv(this,null,i,{kind:"accessor",name:"containerClass",static:!1,private:!1,access:{has:e=>"containerClass"in e,get:e=>e.containerClass,set:(e,t)=>{e.containerClass=t}},metadata:w},d,h),pv(this,null,s,{kind:"accessor",name:"data",static:!1,private:!1,access:{has:e=>"data"in e,get:e=>e.data,set:(e,t)=>{e.data=t}},metadata:w},u,p),pv(this,null,o,{kind:"accessor",name:"depth",static:!1,private:!1,access:{has:e=>"depth"in e,get:e=>e.depth,set:(e,t)=>{e.depth=t}},metadata:w},f,g),pv(this,null,r,{kind:"accessor",name:"setData",static:!1,private:!1,access:{has:e=>"setData"in e,get:e=>e.setData,set:(e,t)=>{e.setData=t}},metadata:w},m,v),pv(this,null,a,{kind:"accessor",name:"vars",static:!1,private:!1,access:{has:e=>"vars"in e,get:e=>e.vars,set:(e,t)=>{e.vars=t}},metadata:w},y,b),pv(null,e={value:t},n,{kind:"class",name:t.name,metadata:w},null,l),t=e.value,w&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w})}static{this.styles=(0,H.AH)`
    filter-group-view {
      border-radius: 4px;
      padding: 8px 4px 4px;
      display: flex;
      flex-direction: column;
      user-select: none;
    }

    .filter-group-op {
      width: 60px;
      display: flex;
      justify-content: end;
      padding: 4px;
      height: 34px;
      align-items: center;
      font-size: 14px;
      font-style: normal;
      font-weight: 400;
      line-height: 22px;
      color: var(--affine-text-primary-color);
    }

    .filter-group-op-clickable {
      border-radius: 4px;
      cursor: pointer;
    }

    .filter-group-op-clickable:hover {
      background-color: var(--affine-hover-color);
    }

    .filter-group-container {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .filter-group-button {
      padding: 8px 12px;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      line-height: 22px;
      border-radius: 4px;
      cursor: pointer;
      color: var(--affine-text-secondary-color);
    }

    .filter-group-button svg {
      fill: var(--affine-text-secondary-color);
      color: var(--affine-text-secondary-color);
      width: 20px;
      height: 20px;
    }

    .filter-group-button:hover {
      background-color: var(--affine-hover-color);
      color: var(--affine-text-primary-color);
    }

    .filter-group-button:hover svg {
      fill: var(--affine-text-primary-color);
      color: var(--affine-text-primary-color);
    }

    .filter-group-item {
      padding: 4px 0;
      display: flex;
      align-items: start;
      gap: 8px;
    }

    .filter-group-item-ops {
      margin-top: 4px;
      padding: 4px;
      border-radius: 4px;
      height: max-content;
      display: flex;
      cursor: pointer;
    }

    .filter-group-item-ops:hover {
      background-color: var(--affine-hover-color);
    }

    .filter-group-item-ops svg {
      fill: var(--affine-text-secondary-color);
      color: var(--affine-text-secondary-color);
      width: 18px;
      height: 18px;
    }

    .filter-group-item-ops:hover svg {
      fill: var(--affine-text-primary-color);
      color: var(--affine-text-primary-color);
    }

    .delete-style {
      background-color: var(--affine-background-error-color);
    }

    .filter-group-border {
      border: 1px dashed var(--affine-border-color);
    }

    .filter-group-bg-1 {
      background-color: var(--affine-background-secondary-color);
      border: 1px solid var(--affine-border-color);
    }

    .filter-group-bg-2 {
      background-color: var(--affine-background-tertiary-color);
      border: 1px solid var(--affine-border-color);
    }
    .hover-style {
      background-color: var(--affine-hover-color);
    }

    .delete-style {
      background-color: var(--affine-background-error-color);
    }
  `}_clickConditionOps(e,t){let i=this.data.conditions[t];lZ(e,[{type:"action",name:"filter"===i.type?"Turn into group":"Wrap in group",icon:sX,onHover:e=>{this.containerClass=e?{index:t,class:"hover-style"}:void 0},hide:()=>this.depth+pb(i)>3,select:()=>{this.setData({type:"group",op:"and",conditions:[this.data]})}},{type:"action",name:"Duplicate",icon:aZ,onHover:e=>{this.containerClass=e?{index:t,class:"hover-style"}:void 0},select:()=>{let e=[...this.data.conditions];e.splice(t+1,0,JSON.parse(JSON.stringify(e[t]))),this.setData({...this.data,conditions:e})}},{type:"group",name:"",children:()=>[{type:"action",name:"Delete",icon:sV,class:"delete-item",onHover:e=>{this.containerClass=e?{index:t,class:"delete-style"}:void 0},select:()=>{let e=[...this.data.conditions];e.splice(t,1),this.setData({...this.data,conditions:e})}}]}])}get isMaxDepth(){return 3===this.depth}render(){let e=this.data;return(0,H.qy)`
      <div class="filter-group-container">
        ${(0,D.u)(e.conditions,(t,i)=>{let s;let o=e=>{e.stopPropagation(),e.preventDefault(),this._clickConditionOps(e.target,i)};s=0===i?(0,H.qy)` <div class="filter-group-op">Where</div>`:(0,H.qy)`
              <div
                class="filter-group-op filter-group-op-clickable"
                @click="${this._selectOp}"
              >
                ${this.opMap[e.op]}
              </div>
            `;let r=(0,oJ.H)({"filter-root-item":!0,"filter-exactly-hover-container":!0,"dv-pd-4 dv-round-4":!0,[this.containerClass?.class??""]:this.containerClass?.index===i}),a=(0,oJ.H)({[`filter-group-bg-${this.depth}`]:"filter"!==t.type});return(0,H.qy)` <div class="${r}" @contextmenu="${o}">
            ${s}
            <div
              style="flex:1;display:flex;align-items:start;justify-content: space-between;gap: 8px;"
            >
              ${"filter"===t.type?(0,H.qy)`
                    <filter-condition-view
                      .setData="${e=>this._setFilter(i,e)}"
                      .vars="${this.vars}"
                      .data="${t}"
                    ></filter-condition-view>
                  `:(0,H.qy)`
                    <filter-group-view
                      class="${a}"
                      style="width: 100%;"
                      .depth="${this.depth+1}"
                      .setData="${e=>this._setFilter(i,e)}"
                      .vars="${this.vars}"
                      .data="${t}"
                    ></filter-group-view>
                  `}
              <div class="filter-group-item-ops" @click="${o}">
                ${sR}
              </div>
            </div>
          </div>`})}
      </div>
      <div class="filter-group-button" @click="${this._addNew}">
        ${sj} Add ${this.isMaxDepth?H.s6:ni}
      </div>
    `}#ii;get containerClass(){return this.#ii}set containerClass(e){this.#ii=e}#tE;get data(){return this.#tE}set data(e){this.#tE=e}#is;get depth(){return this.#is}set depth(e){this.#is=e}#t8;get setData(){return this.#t8}set setData(e){this.#t8=e}#t9;get vars(){return this.#t9}set vars(e){this.#t9=e}constructor(){super(...arguments),this._addNew=e=>{if(this.isMaxDepth){this.setData({...this.data,conditions:[...this.data.conditions,d1(this.vars)]});return}pm(e.target,{value:this.data,onChange:this.setData,vars:this.vars})},this._selectOp=e=>{lZ(e.target,[{type:"action",name:"And",select:()=>{this.setData({...this.data,op:"and"})}},{type:"action",name:"Or",select:()=>{this.setData({...this.data,op:"or"})}}])},this._setFilter=(e,t)=>{this.setData({...this.data,conditions:this.data.conditions.map((i,s)=>e===s?t:i)})},this.opMap={and:"And",or:"Or"},this.#ii=py(this,d,void 0),this.#tE=(py(this,h),py(this,u,void 0)),this.#is=(py(this,p),py(this,f,1)),this.#t8=(py(this,g),py(this,m,void 0)),this.#t9=(py(this,v),py(this,y,void 0)),py(this,b)}static{py(t,l)}})})();let pb=e=>"filter"===e.type?1:Math.max(...e.conditions.map(pb))+1,pw=(e,t,i)=>({type:"custom",render:()=>(0,H.qy)`<div
        style="display:flex;align-items:center;gap: 8px;padding: 7px 12px;min-width: 300px;justify-content: space-between"
      >
        ${px(e,t)}
        <div>${i?.right}</div>
      </div>`}),px=(e,t)=>(0,H.qy)`
    <div style="display:flex;align-items:center;gap: 8px;">
      <div
        @click=${t}
        class="dv-icon-20 dv-hover dv-pd-2 dv-round-4"
        style="display:flex;"
      >
        ${sz}
      </div>
      <div
        style="font-size: 12px;line-height: 20px;color: var(--affine-text-secondary-color)"
      >
        ${e}
      </div>
    </div>
  `;var p_=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},pC=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("filter-root-view")],l=[],c=(0,P.Tm)(P.ao),d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[];(class extends c{static{t=this}static{let w="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],p_(this,null,i,{kind:"accessor",name:"containerClass",static:!1,private:!1,access:{has:e=>"containerClass"in e,get:e=>e.containerClass,set:(e,t)=>{e.containerClass=t}},metadata:w},d,h),p_(this,null,s,{kind:"accessor",name:"data",static:!1,private:!1,access:{has:e=>"data"in e,get:e=>e.data,set:(e,t)=>{e.data=t}},metadata:w},u,p),p_(this,null,o,{kind:"accessor",name:"onBack",static:!1,private:!1,access:{has:e=>"onBack"in e,get:e=>e.onBack,set:(e,t)=>{e.onBack=t}},metadata:w},f,g),p_(this,null,r,{kind:"accessor",name:"setData",static:!1,private:!1,access:{has:e=>"setData"in e,get:e=>e.setData,set:(e,t)=>{e.setData=t}},metadata:w},m,v),p_(this,null,a,{kind:"accessor",name:"vars",static:!1,private:!1,access:{has:e=>"vars"in e,get:e=>e.vars,set:(e,t)=>{e.vars=t}},metadata:w},y,b),p_(null,e={value:t},n,{kind:"class",name:t.name,metadata:w},null,l),t=e.value,w&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w})}static{this.styles=(0,H.AH)`
    filter-root-view {
      border-radius: 4px;
      display: flex;
      flex-direction: column;
      user-select: none;
    }

    .filter-root-title {
      padding: 12px;
      font-size: 14px;
      font-weight: 600;
      line-height: 22px;
      color: var(--affine-text-primary-color);
    }

    .filter-root-op {
      width: 60px;
      display: flex;
      justify-content: end;
      padding: 4px;
      height: 34px;
      align-items: center;
    }

    .filter-root-op-clickable {
      border-radius: 4px;
      cursor: pointer;
    }

    .filter-root-op-clickable:hover {
      background-color: var(--affine-hover-color);
    }

    .filter-root-container {
      display: flex;
      flex-direction: column;
      gap: 4px;
      max-height: 400px;
      overflow: auto;
      padding: 0 12px 0 8px;
    }

    .filter-root-button {
      margin: 4px 8px 8px;
      padding: 8px 12px;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      line-height: 22px;
      border-radius: 4px;
      cursor: pointer;
      color: var(--affine-text-secondary-color);
    }

    .filter-root-button svg {
      fill: var(--affine-text-secondary-color);
      color: var(--affine-text-secondary-color);
      width: 20px;
      height: 20px;
    }

    .filter-root-button:hover {
      background-color: var(--affine-hover-color);
      color: var(--affine-text-primary-color);
    }
    .filter-root-button:hover svg {
      fill: var(--affine-text-primary-color);
      color: var(--affine-text-primary-color);
    }

    .filter-root-item {
      padding: 4px 0;
      display: flex;
      align-items: start;
      gap: 8px;
    }

    .filter-group-title {
      font-size: 14px;
      font-style: normal;
      font-weight: 500;
      line-height: 22px;
      display: flex;
      align-items: center;
      color: var(--affine-text-primary-color);
      gap: 6px;
    }

    .filter-root-item-ops {
      margin-top: 2px;
      padding: 4px;
      border-radius: 4px;
      height: max-content;
      display: flex;
      cursor: pointer;
    }

    .filter-root-item-ops:hover {
      background-color: var(--affine-hover-color);
    }

    .filter-root-item-ops svg {
      fill: var(--affine-text-secondary-color);
      color: var(--affine-text-secondary-color);
      width: 18px;
      height: 18px;
    }
    .filter-root-item-ops:hover svg {
      fill: var(--affine-text-primary-color);
      color: var(--affine-text-primary-color);
    }

    .filter-root-grabber {
      cursor: grab;
      width: 4px;
      height: 12px;
      background-color: var(--affine-placeholder-color);
      border-radius: 1px;
    }

    .divider {
      height: 1px;
      background-color: var(--affine-divider-color);
      flex-shrink: 0;
      margin: 8px 0;
    }
  `}_clickConditionOps(e,t){let i=this.data.conditions[t];lZ(e,[{type:"action",name:"filter"===i.type?"Turn into group":"Wrap in group",icon:sX,onHover:e=>{this.containerClass=e?{index:t,class:"hover-style"}:void 0},hide:()=>pb(i)>3,select:()=>{this.setData({type:"group",op:"and",conditions:[this.data]})}},{type:"action",name:"Duplicate",icon:aZ,onHover:e=>{this.containerClass=e?{index:t,class:"hover-style"}:void 0},select:()=>{let e=[...this.data.conditions];e.splice(t+1,0,JSON.parse(JSON.stringify(e[t]))),this.setData({...this.data,conditions:e})}},{type:"group",name:"",children:()=>[{type:"action",name:"Delete",icon:sV,class:"delete-item",onHover:e=>{this.containerClass=e?{index:t,class:"delete-style"}:void 0},select:()=>{let e=[...this.data.conditions];e.splice(t,1),this.setData({...this.data,conditions:e})}}]}])}render(){let e=this.data;return(0,H.qy)`
      <div style="padding: 15px 20px">
        ${px("FILTER",()=>{this.onBack?.()})}
      </div>
      <div class="filter-root-container">
        ${(0,D.u)(e.conditions,(t,i)=>{let s=e=>{e.stopPropagation(),e.preventDefault(),this._clickConditionOps(e.target,i)},o=(0,H.qy)`
            <div class="filter-root-item-ops" @click="${s}">
              ${sR}
            </div>
          `,r="filter"===t.type?(0,H.qy)`
                  <div
                    style="display:flex;align-items:center;justify-content: space-between;width: 100%;gap:8px;"
                  >
                    <div style="display:flex;align-items:center;gap:6px;">
                      <div class="filter-root-grabber"></div>
                      <filter-condition-view
                        .setData="${e=>this._setFilter(i,e)}"
                        .vars="${this.vars}"
                        .data="${t}"
                      ></filter-condition-view>
                    </div>
                    ${o}
                  </div>
                `:(0,H.qy)`
                  <div style="width: 100%;">
                    <div
                      style="display:flex;align-items:center;justify-content: space-between;gap:8px;padding: 4px 4px 0 4px;"
                    >
                      <div class="filter-group-title">
                        <div class="filter-root-grabber"></div>
                        Filter group
                      </div>
                      ${o}
                    </div>
                    <div style="width: 100%;padding: 12px 0 0;">
                      <filter-group-view
                        style="padding: 0"
                        .setData="${e=>this._setFilter(i,e)}"
                        .vars="${this.vars}"
                        .data="${t}"
                      ></filter-group-view>
                    </div>
                  </div>
                `,a=(0,oJ.H)({"filter-root-item":!0,"filter-exactly-hover-container":!0,"dv-pd-4 dv-round-4":!0,[this.containerClass?.class??""]:this.containerClass?.index===i});return(0,H.qy)` ${e.conditions[i-1]?.type==="group"||"group"===t.type?(0,H.qy)`<div class="divider"></div>`:H.s6}
            <div @contextmenu=${s} class="${a}">
              ${r}
            </div>`})}
      </div>
      <div class="filter-root-button add-new" @click="${this._addNew}">
        ${sj} Add ${ni}
      </div>
    `}#ii;get containerClass(){return this.#ii}set containerClass(e){this.#ii=e}#tE;get data(){return this.#tE}set data(e){this.#tE=e}#io;get onBack(){return this.#io}set onBack(e){this.#io=e}#t8;get setData(){return this.#t8}set setData(e){this.#t8=e}#t9;get vars(){return this.#t9}set vars(e){this.#t9=e}constructor(){super(...arguments),this._addNew=e=>{pm(e.target,{value:this.data,onChange:this.setData,vars:this.vars})},this._setFilter=(e,t)=>{this.setData({...this.data,conditions:this.data.conditions.map((i,s)=>e===s?t:i)})},this.#ii=pC(this,d,void 0),this.#tE=(pC(this,h),pC(this,u,void 0)),this.#io=(pC(this,p),pC(this,f,void 0)),this.#t8=(pC(this,g),pC(this,m,void 0)),this.#t9=(pC(this,v),pC(this,y,void 0)),pC(this,b)}static{pC(t,l)}})})();var pk=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},pS=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let pM=(()=>{let e,t,i,s,o,r,a,n,l=[(0,L.EM)("advanced-filter-modal")],c=[],d=(0,P.Tm)(P.ao),h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[];return class extends d{static{t=this}static{let C="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],pk(this,null,i,{kind:"accessor",name:"data",static:!1,private:!1,access:{has:e=>"data"in e,get:e=>e.data,set:(e,t)=>{e.data=t}},metadata:C},h,u),pk(this,null,s,{kind:"accessor",name:"isRoot",static:!1,private:!1,access:{has:e=>"isRoot"in e,get:e=>e.isRoot,set:(e,t)=>{e.isRoot=t}},metadata:C},p,f),pk(this,null,o,{kind:"accessor",name:"onBack",static:!1,private:!1,access:{has:e=>"onBack"in e,get:e=>e.onBack,set:(e,t)=>{e.onBack=t}},metadata:C},g,m),pk(this,null,r,{kind:"accessor",name:"onDelete",static:!1,private:!1,access:{has:e=>"onDelete"in e,get:e=>e.onDelete,set:(e,t)=>{e.onDelete=t}},metadata:C},v,y),pk(this,null,a,{kind:"accessor",name:"setData",static:!1,private:!1,access:{has:e=>"setData"in e,get:e=>e.setData,set:(e,t)=>{e.setData=t}},metadata:C},b,w),pk(this,null,n,{kind:"accessor",name:"vars",static:!1,private:!1,access:{has:e=>"vars"in e,get:e=>e.vars,set:(e,t)=>{e.vars=t}},metadata:C},x,_),pk(null,e={value:t},l,{kind:"class",name:t.name,metadata:C},null,c),t=e.value,C&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})}static{this.styles=(0,H.AH)`
    advanced-filter-modal {
      background-color: var(--affine-background-overlay-panel-color);
      position: absolute;
      border-radius: 8px;
      box-shadow: var(--affine-shadow-2);
      min-width: 500px;
    }

    .filter-modal-bottom {
      border-top: 1px solid var(--affine-border-color);
      padding: 8px;
    }

    .filter-modal-button {
      padding: 8px 12px;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      line-height: 22px;
      border-radius: 4px;
      cursor: pointer;
      color: var(--affine-text-secondary-color);
    }

    .filter-modal-button svg {
      fill: var(--affine-text-secondary-color);
      color: var(--affine-text-secondary-color);
      width: 20px;
      height: 20px;
    }

    .filter-modal-button:hover {
      background-color: var(--affine-hover-color);
      color: var(--affine-text-primary-color);
    }
    .filter-modal-button:hover svg {
      fill: var(--affine-text-primary-color);
      color: var(--affine-text-primary-color);
    }

    .filter-delete-button:hover {
      background-color: var(--affine-background-error-color);
      color: var(--affine-error-color);
    }

    .filter-exactly-hover-container {
      transition: background-color 0.2s ease-in-out;
    }

    .filter-exactly-hover-background {
      background-color: var(--affine-hover-color);
    }
  `}connectedCallback(){super.connectedCallback(),this.disposables.addFromEvent(this,"mouseover",e=>{let t=e.target;for(;t&&t!==this;){if(t.classList.contains("filter-exactly-hover-container")){t.classList.add("filter-exactly-hover-background");break}t=t.parentElement}}),this.disposables.addFromEvent(this,"mouseout",e=>{let t=e.target;for(;t&&t!==this;){if(t.classList.contains("filter-exactly-hover-container")){t.classList.remove("filter-exactly-hover-background");break}t=t.parentElement}})}render(){return(0,H.qy)`
      <div class="filter-modal-container">
        ${this.isRoot?(0,H.qy)` <filter-root-view
              .onBack=${this.onBack}
              .vars="${this.vars}"
              .data="${this.data}"
              .setData="${this.setData}"
            ></filter-root-view>`:(0,H.qy)` <filter-group-view
              .vars="${this.vars}"
              .data="${this.data}"
              .setData="${this.setData}"
            ></filter-group-view>`}
      </div>
      <div class="filter-modal-bottom">
        <div
          @click=${this.onDelete}
          class="filter-modal-button filter-delete-button"
        >
          Delete
        </div>
      </div>
    `}#tE=pS(this,h,void 0);get data(){return this.#tE}set data(e){this.#tE=e}#ir=(pS(this,u),pS(this,p,!1));get isRoot(){return this.#ir}set isRoot(e){this.#ir=e}#io=(pS(this,f),pS(this,g,void 0));get onBack(){return this.#io}set onBack(e){this.#io=e}#it=(pS(this,m),pS(this,v,void 0));get onDelete(){return this.#it}set onDelete(e){this.#it=e}#t8=(pS(this,y),pS(this,b,void 0));get setData(){return this.#t8}set setData(e){this.#t8=e}#t9=(pS(this,w),pS(this,x,void 0));get vars(){return this.#t9}set vars(e){this.#t9=e}constructor(){super(...arguments),pS(this,_)}static{pS(t,c)}},t})(),pE=(e,t)=>{let i=new pM;i.vars=t.vars,i.data=t.value,i.isRoot=t.isRoot,i.onDelete=()=>{t.onDelete(),s()},i.onBack=()=>{t.onBack(),s()},i.setData=e=>{t.onChange(e),i.data=e};let s=lL(e,i)};var pI=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},pB=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,L.EM)("filter-bar")],a=[],n=(0,P.Tm)(P.ao),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],pI(this,null,i,{kind:"accessor",name:"data",static:!1,private:!1,access:{has:e=>"data"in e,get:e=>e.data,set:(e,t)=>{e.data=t}},metadata:f},l,c),pI(this,null,s,{kind:"accessor",name:"setData",static:!1,private:!1,access:{has:e=>"setData"in e,get:e=>e.setData,set:(e,t)=>{e.setData=t}},metadata:f},d,h),pI(this,null,o,{kind:"accessor",name:"vars",static:!1,private:!1,access:{has:e=>"vars"in e,get:e=>e.vars,set:(e,t)=>{e.vars=t}},metadata:f},u,p),pI(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    filter-bar {
      margin-top: 8px;
      display: flex;
      gap: 8px;
    }

    .filter-group-tag {
      font-size: 12px;
      font-style: normal;
      font-weight: 600;
      line-height: 20px;
      display: flex;
      align-items: center;
      padding: 4px;
      background-color: var(--affine-white);
    }

    .filter-bar-add-filter {
      color: var(--affine-text-secondary-color);
      padding: 4px 8px;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      font-style: normal;
      font-weight: 400;
      line-height: 22px;
    }
  `}deleteFilter(e){this.setData({...this.data,conditions:this.data.conditions.filter((t,i)=>i!==e)})}render(){return(0,H.qy)`
      <component-overflow
        .renderItem="${this.renderFilters()}"
        .renderMore="${this.renderMore}"
      ></component-overflow>
    `}renderCondition(e){let t=this.data.conditions[e],i=()=>{this.deleteFilter(e)};if("filter"===t.type)return(0,H.qy)` <filter-condition-view
        style="margin-right: 8px;"
        .vars="${this.vars}"
        .data="${t}"
        .setData="${t=>this._setFilter(e,t)}"
        .onDelete="${i}"
      ></filter-condition-view>`;let s=t.conditions.length,o=s>1?`${s} rules`:`${s} rule`;return(0,H.qy)` <div
      style="margin-right: 8px;"
      class="filter-group-tag dv-icon-16 dv-border dv-round-8"
    >
      <div
        class="dv-round-4 dv-hover"
        @click="${t=>{this.expandGroup(t.target,e)}}"
        style="display:flex;gap: 6px;padding: 0 4px;align-items:center;height: 100%;"
      >
        ${sQ} ${o}
      </div>
      <div
        class="dv-icon-16 dv-round-4 dv-pd-4 dv-hover"
        style="display:flex;align-items:center;margin-left: 16px;"
        @click="${i}"
      >
        ${sZ}
      </div>
    </div>`}renderFilters(){return this.data.conditions.map((e,t)=>()=>this.renderCondition(t))}updated(){this.updateMoreFilterPanel?.()}#tE;get data(){return this.#tE}set data(e){this.#tE=e}#t8;get setData(){return this.#t8}set setData(e){this.#t8=e}#t9;get vars(){return this.#t9}set vars(e){this.#t9=e}constructor(){super(...arguments),this._setFilter=(e,t)=>{this.setData({...this.data,conditions:this.data.conditions.map((i,s)=>e===s?t:i)})},this.addFilter=e=>{let t=e.target;u5(t,{vars:this.vars,onSelect:e=>{let i=this.data.conditions.length;this.setData({...this.data,conditions:[...this.data.conditions,e]}),requestAnimationFrame(()=>{this.expandGroup(t,i)})}})},this.expandGroup=(e,t)=>{let i=this.data.conditions[t];"group"===i.type&&pE(e,{isRoot:!1,vars:this.vars,value:i,onBack:()=>{},onChange:e=>this._setFilter(t,e),onDelete:()=>{this.deleteFilter(t)}})},this.renderAddFilter=()=>(0,H.qy)` <div
      style="height: 100%;"
      class="filter-bar-add-filter dv-icon-16 dv-round-4 dv-hover"
      @click="${this.addFilter}"
    >
      ${ns} Add filter
    </div>`,this.renderMore=e=>{let t=this.data.conditions.length;return e===t?this.renderAddFilter():(0,H.qy)` <div
      class="filter-bar-add-filter dv-icon-16 dv-round-4 dv-hover"
      style="height: 100%;"
      @click="${t=>{this.showMoreFilter(t,e)}}"
    >
      ${t-e} More
    </div>`},this.renderMoreFilter=e=>(0,H.qy)` <div
      class="dv-shadow-2 dv-round-8"
      style="padding: 8px;background-color: var(--affine-background-overlay-panel-color);display:flex;flex-direction: column;gap: 8px;"
    >
      ${(0,D.u)(this.data.conditions.slice(e),(t,i)=>(0,H.qy)` <div style="width: max-content;">
            ${this.renderCondition(i+e)}
          </div>`)}
      <div class="dv-divider-h"></div>
      ${this.renderAddFilter()}
    </div>`,this.showMoreFilter=(e,t)=>{let i=u6(()=>this.renderMoreFilter(t));i.style.position="absolute",this.updateMoreFilterPanel=()=>{if(t===this.data.conditions.length){s(),this.updateMoreFilterPanel=void 0;return}i.requestUpdate()};let s=lL(e.target,i,{onClose:()=>{this.updateMoreFilterPanel=void 0}})},this.#tE=pB(this,l,void 0),this.#t8=(pB(this,c),pB(this,d,void 0)),this.#t9=(pB(this,h),pB(this,u,void 0)),pB(this,p)}static{pB(t,a)}})})();let p$=sw(e=>{let t=e.view;return t.filterVisible$.value?(0,H.qy)`<filter-bar
      .vars=${t.vars$.value}
      .data=${t.filter$.value}
      .setData=${t.updateFilter.bind(t)}
    ></filter-bar>`:(0,H.qy)``});var pT=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},pO=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let pP=(()=>{let e,t,i=(0,sh.Jb)((0,P.Tm)(P.ao)),s=[],o=[],r=[],a=[];return class extends i{static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;e=[(0,L.MZ)({attribute:!1})],t=[(0,L.MZ)({attribute:!1})],pT(this,null,e,{kind:"accessor",name:"view",static:!1,private:!1,access:{has:e=>"view"in e,get:e=>e.view,set:(e,t)=>{e.view=t}},metadata:n},s,o),pT(this,null,t,{kind:"accessor",name:"viewMethods",static:!1,private:!1,access:{has:e=>"viewMethods"in e,get:e=>e.viewMethods,set:(e,t)=>{e.viewMethods=t}},metadata:n},r,a),n&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}get dataSource(){return this.view.viewManager.dataSource}get viewManager(){return this.view.viewManager}#tw=pO(this,s,void 0);get view(){return this.#tw}set view(e){this.#tw=e}#ia=(pO(this,o),pO(this,r,void 0));get viewMethods(){return this.#ia}set viewMethods(e){this.#ia=e}constructor(){super(...arguments),pO(this,a)}}})();var pA=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},pH=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let pL=(()=>{let e,t,i=[(0,L.EM)("expand-database-block-modal")],s=[],o=pP;return class extends o{static{t=this}constructor(){super(...arguments),this.expandDatabase=()=>{let e=this.closest("affine-database");e&&function(e){new pD().database=e;let t=document.querySelector("editor-host");(0,V.Z1)(t);let i=lH(t),s=()=>{i.remove()},o=u6(()=>(0,H.qy)`
      <style>
        .database-block-preview-container {
          position: absolute;
          display: flex;
          padding: 24px 53px;
          border-radius: 8px;
          left: 0;
          right: 0;
          margin: 20px auto auto;
          width: calc(100% - 300px);
          max-height: calc(100% - 40px);
          box-shadow: var(--affine-shadow-1);
          background-color: var(--affine-background-primary-color);
        }
        .database-block-preview-close {
          position: absolute;
          right: -48px;
          top: 0;
          padding: 10px;
          border-radius: 8px;
          cursor: pointer;
          display: flex;
          background-color: var(--affine-background-primary-color);
        }
        .database-block-preview-close svg {
          color: var(--affine-icon-color);
          width: 16px;
          height: 16px;
        }
        .database-block-preview-close:hover {
          background-color: var(--affine-hover-color-filled);
        }
      </style>
      <div class="database-block-preview-container">
        <database-block-modal-preview
          .database="${e}"
        ></database-block-modal-preview>
        <div @click="${s}" class="database-block-preview-close">
          ${aN}
        </div>
      </div>
    `);o.onclick=e=>{e.stopPropagation()},i.onclick=s,i.style.backgroundColor="var(--affine-black-60)",i.append(o)}(e)}}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;pA(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),pH(t,s)}render(){if(!this.closest("database-block-modal-preview")&&this.database?.doc.awarenessStore.getFlag("enable_expand_database_block"))return(0,H.qy)` <div
      @click="${this.expandDatabase}"
      class="dv-icon-20 dv-pd-2 dv-hover dv-round-4"
      style="display:flex;"
    >
      ${nu}
    </div>`}get database(){return this.closest("affine-database")}},t})(),pD=(()=>{let e,t,i=[(0,L.EM)("database-block-modal-preview")],s=[],o=(0,P.Tm)(P.ao),r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;pA(this,null,[(0,L.MZ)({attribute:!1})],{kind:"accessor",name:"database",static:!1,private:!1,access:{has:e=>"database"in e,get:e=>e.database,set:(e,t)=>{e.database=t}},metadata:n},r,a),pA(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    database-block-modal-preview {
      display: flex;
      flex-direction: column;
      flex: 1;
      overflow: hidden;
    }
  `}firstUpdated(e){super.firstUpdated(e),requestAnimationFrame(()=>{this.querySelector("affine-data-view-renderer")?.focusFirstCell()})}render(){let e={bindHotkey:this.bindHotkey,handleEvent:this.handleEvent,selection$:this.viewSelection$,setSelection:this.setSelection,dataSource:this.database.dataSource,headerWidget:this.database.headerWidget,std:this.database.std};return(0,H.qy)`
      <affine-data-view-renderer
        .config="${e}"
      ></affine-data-view-renderer>
    `}#il;get database(){return this.#il}set database(e){this.#il=e}constructor(){super(...arguments),this.bindHotkey=e=>({dispose:this.database.host.event.bindHotkey(e,{path:[]})}),this.blockId="database-modal-preview",this.handleEvent=(e,t)=>({dispose:this.database.host.event.add(e,t,{path:[]})}),this.selectionUpdated=new i_.D,this.setSelection=e=>{this.database.host.selection.set(e?[new c7({blockId:this.blockId,viewSelection:e})]:[])},this.viewSelection$=(0,sh.EW)(()=>{let e=this.database.selection.value.find(e=>e.blockId===this.blockId&&e instanceof c7);return e?.viewSelection}),this.#il=pH(this,r,void 0),pH(this,a)}static{pH(t,s)}},t})();var pZ=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},pj=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let pV=(0,H.AH)`
  .affine-database-filter-button {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    line-height: 20px;
    padding: 2px 4px;
    border-radius: 4px;
    cursor: pointer;
  }

  .affine-database-filter-button:hover {
    background-color: var(--affine-hover-color);
  }

  .affine-database-filter-button svg {
    width: 20px;
    height: 20px;
  }
`,pR=(()=>{let e,t,i=[(0,L.EM)("data-view-header-tools-filter")],s=[],o=pP;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;pZ(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=pV}get _filter(){return this.view.filter$.value??d2}set _filter(e){this.view.updateFilter(e)}addFilter(e){if(!this._filter.conditions.length&&!this.view.filterVisible$.value){this.showToolBar(!0),u5(e.target,{vars:this.view.vars$.value,onSelect:e=>{this._filter={...this._filter,conditions:[e]},this.view.filterSetVisible(!0)},onClose:()=>{this.showToolBar(!1)}});return}this.view.filterSetVisible(!this.view.filterVisible$.value)}get readonly(){return this.view.readonly$.value}render(){return this.readonly?H.s6:(0,H.qy)`<div
      @click="${this.addFilter}"
      class="affine-database-filter-button dv-icon-20"
    >
      ${sQ} Filter
    </div>`}showToolBar(e){let t=this.closest("data-view-header-tools");t&&(t.showToolBar=e)}static{pj(t,s)}},t})();var pz=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},pF=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let pN=(0,H.AH)`
  .affine-database-search-container {
    position: relative;
    display: flex;
    align-items: center;
    gap: 8px;
    width: 24px;
    height: 32px;
    border-radius: 8px;
    transition: all 0.3s ease;
    overflow: hidden;
  }
  .affine-database-search-container svg {
    width: 20px;
    height: 20px;
    fill: var(--affine-icon-color);
  }

  .search-container-expand {
    overflow: visible;
    width: 138px;
    background-color: var(--affine-hover-color);
  }

  .search-input-container {
    display: flex;
    align-items: center;
  }

  .close-icon {
    display: flex;
    align-items: center;
    padding-right: 8px;
    height: 100%;
    cursor: pointer;
  }

  .affine-database-search-input-icon {
    position: absolute;
    left: 0;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    cursor: pointer;
    padding: 2px;
    border-radius: 4px;
    height: max-content;
  }
  .affine-database-search-input-icon:hover {
    background: var(--affine-hover-color);
  }

  .search-container-expand .affine-database-search-input-icon {
    left: 4px;
    pointer-events: none;
  }

  .affine-database-search-input {
    flex: 1;
    width: 100%;
    padding: 0 2px 0 30px;
    border: none;
    font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
    font-size: var(--affine-font-sm);
    box-sizing: border-box;
    color: inherit;
    background: transparent;
    outline: none;
  }

  .affine-database-search-input::placeholder {
    color: var(--affine-placeholder-color);
    font-size: var(--affine-font-sm);
  }
`,pq=(()=>{let e,t,i,s,o=[(0,L.EM)("data-view-header-tools-search")],r=[],a=pP,n=[],l=[],c=[],d=[];return class extends a{static{t=this}constructor(){super(...arguments),this._clearSearch=()=>{this._searchInput.value="",this.view.setSearch(""),this.preventBlur=!0,setTimeout(()=>{this.preventBlur=!1})},this._clickSearch=e=>{e.stopPropagation(),this.showSearch=!0},this._onSearch=e=>{let t=e.target.value.trim();this.view.setSearch(t)},this._onSearchBlur=()=>{this._searchInput.value||this.preventBlur||(this.showSearch=!1)},this._onSearchKeydown=e=>{"Escape"===e.key&&(this._searchInput.value?(this._searchInput.value="",this.view.setSearch("")):this.showSearch=!1)},this.preventBlur=!1,this.#ic=pF(this,n,void 0),this.#id=(pF(this,l),pF(this,c,!1)),this.#tw=pF(this,d)}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.P)(".affine-database-search-input")],s=[(0,L.wk)()],pz(this,null,i,{kind:"accessor",name:"_searchInput",static:!1,private:!1,access:{has:e=>"_searchInput"in e,get:e=>e._searchInput,set:(e,t)=>{e._searchInput=t}},metadata:h},n,l),pz(this,null,s,{kind:"accessor",name:"_showSearch",static:!1,private:!1,access:{has:e=>"_showSearch"in e,get:e=>e._showSearch,set:(e,t)=>{e._showSearch=t}},metadata:h},c,d),pz(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=pN}render(){let e=(0,oJ.H)({"affine-database-search-container":!0,"search-container-expand":this.showSearch});return(0,H.qy)`
      <label class="${e}" @click="${this._clickSearch}">
        <div class="affine-database-search-input-icon dv-icon-20">
          ${sC}
        </div>
        <input
          placeholder="Search..."
          class="affine-database-search-input"
          @input="${this._onSearch}"
          @click="${e=>e.stopPropagation()}"
          @keydown="${this._onSearchKeydown}"
          @pointerdown="${nq}"
          @blur="${this._onSearchBlur}"
        />
        <div class="close-icon" @mousedown="${this._clearSearch}">
          ${sP}
          <affine-tooltip>
            <span
              style=${(0,Z.W)({display:"flex",alignItems:"center",boxSizing:"border-box",padding:"2px 6px",borderRadius:"4px",background:"var(--affine-white-10)"})}
              >Esc</span
            >
            to clear all
          </affine-tooltip>
        </div>
      </label>
    `}get showSearch(){return this._showSearch}set showSearch(e){this._showSearch=e;let t=this.closest("data-view-header-tools");t&&(t.showToolBar=e)}#ic;get _searchInput(){return this.#ic}set _searchInput(e){this.#ic=e}#id;get _showSearch(){return this.#id}set _showSearch(e){this.#id=e}#tw;get view(){return this.#tw}set view(e){this.#tw=e}static{pF(t,r)}},t})();var pU=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},pW=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let pG=(()=>{let e,t,i=[(0,L.EM)("affine-database-new-record-preview")],s=[],o=P.ao;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;pU(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),pW(t,s)}render(){return(0,H.qy)`
      <style>
        affine-database-new-record-preview {
          display: flex;
          align-items: center;
          justify-content: center;
          position: fixed;
          top: 0;
          left: 0;
          height: 32px;
          width: 32px;
          border: 1px solid var(--affine-border-color);
          border-radius: 50%;
          background: var(--affine-blue-100);
          box-shadow:
            0px 0px 10px rgba(0, 0, 0, 0.05),
            0px 0px 0px 0.5px var(--affine-black-10);
          cursor: none;
          user-select: none;
          pointer-events: none;
          caret-color: transparent;
          z-index: 99999;
        }

        affine-database-new-record-preview svg {
          width: 16px;
          height: 16px;
        }

        affine-database-new-record-preview path {
          fill: var(--affine-brand-color);
        }
      </style>
      ${ez}
    `}},t})();var pY=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},pK=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let pX=(0,H.AH)`
  .affine-database-toolbar-item.new-record {
    margin-left: 12px;
    display: flex;
    align-items: center;
    gap: 4px;
    width: 120px;
    height: 32px;
    padding: 6px 8px;
    border-radius: 8px;
    font-size: 14px;
    background: var(--affine-white);
    box-shadow: 0px 0px 0px 0.5px rgba(0, 0, 0, 0.1);
    cursor: grab;
  }

  .new-record svg {
    width: 16px;
    height: 16px;
    fill: var(--affine-icon-color);
  }
`,pQ=(()=>{let e,t,i=[(0,L.EM)("data-view-header-tools-add-row")],s=[],o=pP,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;pY(this,null,[(0,L.wk)()],{kind:"accessor",name:"showToolBar",static:!1,private:!1,access:{has:e=>"showToolBar"in e,get:e=>e.showToolBar,set:(e,t)=>{e.showToolBar=t}},metadata:n},r,a),pY(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=pX}get readonly(){return this.view.readonly$.value}connectedCallback(){super.connectedCallback(),this.readonly||this.disposables.addFromEvent(this,"pointerdown",e=>{this._dragStart(e)})}render(){if(!this.readonly)return(0,H.qy)` <div
      class="affine-database-toolbar-item new-record"
      draggable="true"
      @click="${this._onAddNewRecord}"
    >
      ${ez}<span>New Record</span>
    </div>`}#ih;get showToolBar(){return this.#ih}set showToolBar(e){this.#ih=e}constructor(){super(...arguments),this._dragStart=e=>{e.preventDefault(),e.stopPropagation();let t=this.closest("affine-data-view-renderer"),i=t?.querySelector("affine-database-table")?.getBoundingClientRect(),s=t?.querySelectorAll(".affine-database-block-row");if(!s||!i)return;let o=Array.from(s).map(e=>{let t=e.getBoundingClientRect();return{id:e.dataset.rowId,top:t.top,bottom:t.bottom,mid:(t.top+t.bottom)/2,width:t.width,left:t.left}}),r=e=>{let t=o.find(t=>e<t.bottom);if(t&&!(e<t.top))return{position:{id:t.id,before:e<t.mid},y:e<t.mid?t.top:t.bottom,width:t.width,x:t.left}},a=pJ(),n=p1();cT(e,{transform:e=>e,onDrag:()=>({}),onMove:e=>{n.display(e.x,e.y);let t=r(e.y);return t?a.display(i.left,t.y,i.width):a.remove(),{position:t?.position}},onDrop:e=>{e.position&&this.viewMethods.addRow?.(e.position)},onClear:()=>{a.remove(),n.remove()}})},this._onAddNewRecord=()=>{if(this.readonly)return;let e=this.viewMethods.getSelection?.();if(e){if("table"===e.type&&"area"===e.selectionType){let{rowsSelection:t,columnsSelection:i,focus:s}=e,o=0;t&&!i?o=t.end:t&&i?o=t.end:t||i||!s||(o=s.rowIndex),this.addRow(o+1)}}else this.addRow("start")},this.addRow=e=>{this.viewMethods.addRow?.(e)},this.#ih=pK(this,r,!1),pK(this,a)}static{pK(t,s)}},t})(),pJ=()=>{let e=document.createElement("div");return e.dataset.isDropPreview="true",e.style.pointerEvents="none",e.style.position="fixed",e.style.zIndex="9999",e.style.height="4px",e.style.borderRadius="2px",e.style.backgroundColor="var(--affine-primary-color)",e.style.boxShadow="0px 0px 8px 0px rgba(30, 150, 235, 0.35)",{display(t,i,s){document.body.append(e),e.style.left=`${t}px`,e.style.top=`${i-2}px`,e.style.width=`${s}px`},remove(){e.remove()}}},p1=()=>{let e=new pG;return document.body.append(e),{display(t,i){e.style.left=`${t}px`,e.style.top=`${i}px`},remove(){e.remove()}}};var p0=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},p2=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o=[(0,L.EM)("data-view-group-setting")],r=[],a=(0,P.Tm)(P.ao),n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.P)(".group-sort-setting")],s=[(0,L.MZ)({attribute:!1})],p0(this,null,i,{kind:"accessor",name:"groupContainer",static:!1,private:!1,access:{has:e=>"groupContainer"in e,get:e=>e.groupContainer,set:(e,t)=>{e.groupContainer=t}},metadata:h},n,l),p0(this,null,s,{kind:"accessor",name:"view",static:!1,private:!1,access:{has:e=>"view"in e,get:e=>e.view,set:(e,t)=>{e.view=t}},metadata:h},c,d),p0(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=(0,H.AH)`
    data-view-group-setting {
      display: flex;
      flex-direction: column;
      gap: 4px;
      ${(0,H.iz)(c3())};
    }
    .group-item {
      display: flex;
      padding: 4px 12px;
      position: relative;
      cursor: grab;
    }

    .group-item-drag-bar {
      width: 4px;
      height: 12px;
      border-radius: 1px;
      background-color: #efeff0;
      position: absolute;
      left: 4px;
      top: 0;
      bottom: 0;
      margin: auto;
    }

    .group-item:hover .group-item-drag-bar {
      background-color: #c0bfc1;
    }
  `}connectedCallback(){super.connectedCallback(),this._disposables.addFromEvent(this,"pointerdown",e=>{e.stopPropagation()})}firstUpdated(e){super.firstUpdated(e);let t=new ha.Ay(this.groupContainer,{animation:150,group:`group-sort-${this.view.id}`,onEnd:e=>{let t=this.view.groupHelper;if(!t)return;let i=[...t.groups],s=e.oldIndex??-1,o=i[s];i.splice(s,1);let r=i[e.newIndex??-1];t.moveGroupTo(o.key,r?{before:!0,id:r.key}:"end")}});this._disposables.add({dispose:()=>t.destroy()})}render(){let e=this.view.groupHelper;if(e)return(0,H.qy)`
      <div style="padding: 7px 12px;">
        <div
          style="padding: 0 4px; font-size: 12px;color: var(--affine-text-secondary-color);line-height: 20px;"
        >
          Groups
        </div>
        <div></div>
      </div>
      <div
        style="display:flex;flex-direction: column;gap: 4px;"
        class="group-sort-setting"
      >
        ${(0,D.u)(e.groups,e=>e.key,e=>{let t={value:e.value,data:e.helper.data,readonly:!0},i=e.helper.groupConfig();return(0,H.qy)` <div class="dv-hover dv-round-4 group-item">
              <div class="group-item-drag-bar"></div>
              <div style="padding: 0 4px;position:relative;">
                ${sv(i?.view,t)}
                <div
                  style="position:absolute;left: 0;top: 0;right: 0;bottom: 0;"
                ></div>
              </div>
            </div>`})}
      </div>
    `}#iu=p2(this,n,void 0);get groupContainer(){return this.#iu}set groupContainer(e){this.#iu=e}#tw=(p2(this,l),p2(this,c,void 0));get view(){return this.#tw}set view(e){this.#tw=e}constructor(){super(...arguments),p2(this,d)}static{p2(t,r)}})})();let p5=(e,t)=>({onClose:t,input:{search:!0,placeholder:"Search"},items:[...e.columnsWithoutFilter$.value.filter(t=>"title"!==e.columnGet(t).type&&!!dw.match(e.columnGet(t).dataType)).map(t=>{let i=e.columnGet(t);return{type:"action",name:i.name,isSelected:e.viewData$.value?.groupBy?.columnId===t,icon:(0,H.qy)` <uni-lit .uni="${i.icon}"></uni-lit>`,select:()=>{(e instanceof hY||e instanceof hs)&&e.changeGroup(t)}}}),{type:"group",name:"",hide:()=>e instanceof hs||e.viewData$.value?.groupBy==null,children:()=>[{type:"action",icon:sV,class:"delete-item",name:"Remove Grouping",select:()=>{e instanceof hY&&e.changeGroup(void 0)}}]}]}),p7=(e,t,i)=>{lD(e,{options:p5(t,i)})},p3=(e,t,i)=>{let s=t.viewData$.value?.groupBy;if(null==s)return;let o=t.columnGetType(s.columnId);if(!o)return;let r=()=>{p3(e,t,i)},a=t.getIcon(o),n=lD(e,{options:{input:{search:!0},items:[pw("GROUP",()=>{i(),n.close()}),{type:"group",name:"",children:()=>[{type:"sub-menu",name:"Group By",postfix:(0,H.qy)`
                <div
                  style="display:flex;align-items:center;gap: 4px;font-size: 12px;line-height: 20px;color: var(--affine-text-secondary-color);margin-right: 4px;margin-left: 8px;"
                  class="dv-icon-16"
                >
                  ${sv(a,{})}
                  ${t.columnGetName(s.columnId)}
                </div>
                ${tL}
              `,options:p5(t,r)}]},{type:"group",name:"",children:()=>[{type:"custom",render:()=>(0,H.qy)` <data-view-group-setting
                  .view="${t}"
                  .columnId="${s.columnId}"
                ></data-view-group-setting>`}]}]}})};var p4=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},p6=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let p8=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M12.0004 5.75C8.06451 5.75 4.70095 8.20857 3.36528 11.6764C3.28512 11.8845 3.28512 12.1155 3.36527 12.3236C4.70093 15.7914 8.06451 18.25 12.0005 18.25C15.9364 18.25 19.2999 15.7914 20.6356 12.3236C20.7158 12.1155 20.7158 11.8846 20.6356 11.6764C19.3 8.2086 15.9364 5.75 12.0004 5.75ZM1.96552 11.1372C3.51675 7.10978 7.42369 4.25 12.0004 4.25C16.5772 4.25 20.4842 7.10982 22.0354 11.1373C22.2492 11.6924 22.2492 12.3077 22.0354 12.8628C20.4841 16.8902 16.5772 19.75 12.0005 19.75C7.42369 19.75 3.51672 16.8902 1.96551 12.8627C1.75171 12.3076 1.75171 11.6923 1.96552 11.1372ZM12 9.75C10.7574 9.75 9.74999 10.7574 9.74999 12C9.74999 13.2426 10.7574 14.25 12 14.25C13.2426 14.25 14.25 13.2426 14.25 12C14.25 10.7574 13.2426 9.75 12 9.75ZM8.24999 12C8.24999 9.92893 9.92893 8.25 12 8.25C14.0711 8.25 15.75 9.92893 15.75 12C15.75 14.0711 14.0711 15.75 12 15.75C9.92893 15.75 8.24999 14.0711 8.24999 12Z"
  />
</svg> `,p9=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path d="M5 4L20 19" stroke="white" stroke-width="2" stroke-linecap="round" />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.59938 7.54961C4.35061 7.21842 3.88046 7.1516 3.54927 7.40037C3.21808 7.64913 3.15126 8.11928 3.40002 8.45047C4.2023 9.51858 5.19943 10.4327 6.33872 11.1399L4.37596 14.084C4.1462 14.4287 4.23933 14.8943 4.58397 15.1241C4.92862 15.3538 5.39427 15.2607 5.62404 14.9161L7.62404 11.9161C7.6403 11.8917 7.65495 11.8667 7.66801 11.8412C8.77638 12.3299 9.98299 12.6369 11.25 12.7243V17.5C11.25 17.9143 11.5858 18.25 12 18.25C12.4142 18.25 12.75 17.9143 12.75 17.5V12.7243C14.0171 12.637 15.2237 12.3301 16.3322 11.8415C16.3452 11.8669 16.3598 11.8918 16.376 11.9161L18.376 14.9161C18.6057 15.2607 19.0714 15.3538 19.416 15.1241C19.7607 14.8943 19.8538 14.4287 19.624 14.084L17.6615 11.1403C18.8011 10.433 19.7985 9.51878 20.6009 8.45047C20.8497 8.11928 20.7828 7.64913 20.4516 7.40037C20.1205 7.1516 19.6503 7.21842 19.4015 7.54961C17.7127 9.79805 15.0263 11.2501 12.0005 11.2501C8.97467 11.2501 6.28823 9.79805 4.59938 7.54961Z"
  />
</svg> `,fe=(()=>{let e,t,i,s,o,r=[(0,L.EM)("data-view-properties-setting")],a=[],n=(0,P.Tm)(P.ao),l=[],c=[],d=[],h=[],u=[],p=[];return class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.P)(".properties-group")],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],p4(this,null,i,{kind:"accessor",name:"groupContainer",static:!1,private:!1,access:{has:e=>"groupContainer"in e,get:e=>e.groupContainer,set:(e,t)=>{e.groupContainer=t}},metadata:f},l,c),p4(this,null,s,{kind:"accessor",name:"onBack",static:!1,private:!1,access:{has:e=>"onBack"in e,get:e=>e.onBack,set:(e,t)=>{e.onBack=t}},metadata:f},d,h),p4(this,null,o,{kind:"accessor",name:"view",static:!1,private:!1,access:{has:e=>"view"in e,get:e=>e.view,set:(e,t)=>{e.view=t}},metadata:f},u,p),p4(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    data-view-properties-setting {
      position: absolute;
      background-color: var(--affine-background-overlay-panel-color);
      border-radius: 8px;
      box-shadow: var(--affine-shadow-2);
      padding: 8px;
      min-width: 300px;
    }

    .properties-group-header {
      user-select: none;
      padding: 4px 12px 12px 12px;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid var(--affine-divider-color);
    }

    .properties-group-title {
      font-size: 12px;
      line-height: 20px;
      color: var(--affine-text-secondary-color);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .properties-group-op {
      padding: 4px 8px;
      font-size: 12px;
      line-height: 20px;
      font-weight: 500;
      border-radius: 4px;
      cursor: pointer;
    }

    .properties-group-op:hover {
      background-color: var(--affine-hover-color);
    }

    .properties-group {
      min-height: 40px;
    }

    .property-item {
      padding: 4px;
      display: flex;
      align-items: center;
      gap: 8px;
      user-select: none;
      cursor: pointer;
      border-radius: 4px;
    }

    .property-item:hover {
      background-color: var(--affine-hover-color);
    }

    .property-item-drag-bar {
      width: 4px;
      height: 12px;
      border-radius: 1px;
      background-color: #efeff0;
    }

    .property-item:hover .property-item-drag-bar {
      background-color: #c0bfc1;
    }

    .property-item-icon {
      display: flex;
      align-items: center;
    }

    .property-item-icon svg {
      color: var(--affine-icon-color);
      fill: var(--affine-icon-color);
      width: 20px;
      height: 20px;
    }

    .property-item-op-icon {
      display: flex;
      align-items: center;
      border-radius: 4px;
    }

    .property-item-op-icon:hover {
      background-color: var(--affine-hover-color);
    }
    .property-item-op-icon.disabled:hover {
      background-color: transparent;
    }

    .property-item-op-icon svg {
      fill: var(--affine-icon-color);
      color: var(--affine-icon-color);
      width: 20px;
      height: 20px;
    }

    .property-item-op-icon.disabled svg {
      fill: var(--affine-text-disable-color);
      color: var(--affine-text-disable-color);
    }

    .property-item-name {
      font-size: 14px;
      line-height: 22px;
      flex: 1;
    }
  `}itemsGroup(){return this.view.columnsWithoutFilter$.value.map(e=>this.view.columnGet(e))}connectedCallback(){super.connectedCallback(),this._disposables.addFromEvent(this,"pointerdown",e=>{e.stopPropagation()})}firstUpdated(){let e=new ha.Ay(this.groupContainer,{animation:150,group:`properties-sort-${this.view.id}`,onEnd:e=>{let t=[...this.view.columnsWithoutFilter$.value],i=e.oldIndex??-1,s=t[i];t.splice(i,1);let o=t[e.newIndex??-1];this.view.columnMove(s,o?{before:!0,id:o}:"end")}});this._disposables.add({dispose:()=>e.destroy()})}render(){let e=this.itemsGroup(),t=e.every(e=>!e.hide);return(0,H.qy)`
      <div class="properties-group-header">
        <div class="properties-group-title dv-icon-20">
          <div
            @click=${this.onBack}
            style="display:flex;"
            class="dv-hover dv-round-4 dv-pd-2"
          >
            ${nh}
          </div>
          PROPERTIES
        </div>
        <div class="properties-group-op" @click="${()=>this.clickChangeAll(t)}">
          ${t?"Hide All":"Show All"}
        </div>
      </div>
      <div class="properties-group">
        ${(0,D.u)(e,e=>e.id,this.renderColumn)}
      </div>
    `}#iu;get groupContainer(){return this.#iu}set groupContainer(e){this.#iu=e}#io;get onBack(){return this.#io}set onBack(e){this.#io=e}#tw;get view(){return this.#tw}set view(e){this.#tw=e}constructor(){super(...arguments),this.clickChangeAll=e=>{this.view.columnsWithoutFilter$.value.forEach(t=>{"title"!==this.view.columnGetType(t)&&this.view.columnUpdateHide(t,e)})},this.renderColumn=e=>{let t="title"===e.type,i=e.hide?p9:p8,s=(0,oJ.H)({"property-item-op-icon":!0,disabled:t});return(0,H.qy)` <div class="property-item">
      <div class="property-item-drag-bar"></div>
      <uni-lit class="property-item-icon" .uni="${e.icon}"></uni-lit>
      <div class="property-item-name">${e.name}</div>
      <div class="${s}" @click="${()=>{"title"!==e.type&&e.updateHide(!e.hide)}}">${i}</div>
    </div>`},this.#iu=p6(this,l,void 0),this.#io=(p6(this,c),p6(this,d,void 0)),this.#tw=(p6(this,h),p6(this,u,void 0)),p6(this,p)}static{p6(t,a)}},t})(),ft=(e,t)=>{let i=new fe;i.view=t.view,i.onBack=()=>{s(),t.onBack?.()};let s=lL(e,i,{onClose:t.onClose})};var fi=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},fs=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let fo=(0,H.AH)`
  .affine-database-toolbar-item.more-action {
    padding: 2px;
    border-radius: 4px;
    display: flex;
    align-items: center;
    cursor: pointer;
  }

  .affine-database-toolbar-item.more-action:hover {
    background: var(--affine-hover-color);
  }

  .affine-database-toolbar-item.more-action svg {
    width: 20px;
    height: 20px;
    fill: var(--affine-icon-color);
  }

  .more-action.active {
    background: var(--affine-hover-color);
  }
`,fr=(()=>{let e,t,i=[(0,L.EM)("data-view-header-tools-view-options")],s=[],o=pP;return class extends o{static{t=this}constructor(){super(...arguments),this.clickMoreAction=e=>{e.stopPropagation(),this.openMoreAction(e.target)},this.openMoreAction=e=>{this.showToolBar(!0),fa(e,this.view,()=>{this.showToolBar(!1)})}}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;fi(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=fo}render(){if(!this.view.readonly$.value)return(0,H.qy)` <div
      class="affine-database-toolbar-item more-action dv-icon-20"
      @click="${this.clickMoreAction}"
    >
      ${eq}
    </div>`}showToolBar(e){let t=this.closest("data-view-header-tools");t&&(t.showToolBar=e)}#tw;get view(){return this.#tw}set view(e){this.#tw=e}static{fs(t,s)}},t})(),fa=(e,t,i)=>{let s=()=>{fa(e,t)};lD(e,{options:{style:"min-width:300px",input:{initValue:t.name$.value,onComplete:e=>{t.updateName(e)}},items:[{type:"action",name:"Properties",icon:s1,postfix:tL,select:()=>{requestAnimationFrame(()=>{ft(e,{view:t,onBack:s})})}},{type:"action",name:"Filter",icon:sQ,postfix:tL,select:()=>{pE(e,{vars:t.vars$.value,value:t.filter$.value??d2,onChange:t.updateFilter.bind(t),isRoot:!0,onBack:s,onDelete:()=>{t.updateFilter({...t.filter$.value??d2,conditions:[]})}})}},{type:"action",name:"Group",icon:sJ,postfix:tL,select:()=>{t.viewData$.value?.groupBy?p3(e,t,s):p7(e,t)}},{type:"action",name:"Duplicate",icon:aZ,select:()=>{t.duplicate()}},{type:"group",name:"",children:()=>[{type:"action",name:"Delete View",icon:aj,select:()=>{t.delete()},class:"delete-item"}]}],onClose:i}})};var fn=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},fl=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let fc=(0,H.AH)`
  .affine-database-toolbar {
    display: flex;
    align-items: center;
    gap: 6px;
    visibility: hidden;
    opacity: 0;
    transition: opacity 150ms cubic-bezier(0.42, 0, 1, 1);
  }

  .toolbar-hover-container:hover .affine-database-toolbar {
    visibility: visible;
    opacity: 1;
  }

  .show-toolbar {
    visibility: visible;
    opacity: 1;
  }

  @media print {
    .affine-database-toolbar {
      display: none;
    }
  }
`,fd=(()=>{let e,t,i,s,o=[(0,L.EM)("data-view-header-tools")],r=[],a=pP,n=[],l=[],c=[],d=[];return class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.MZ)({attribute:!1})],fn(this,null,i,{kind:"accessor",name:"showToolBar",static:!1,private:!1,access:{has:e=>"showToolBar"in e,get:e=>e.showToolBar,set:(e,t)=>{e.showToolBar=t}},metadata:h},n,l),fn(this,null,s,{kind:"accessor",name:"toolsMap",static:!1,private:!1,access:{has:e=>"toolsMap"in e,get:e=>e.toolsMap,set:(e,t)=>{e.toolsMap=t}},metadata:h},c,d),fn(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=fc}render(){let e=(0,oJ.H)({"show-toolbar":this.showToolBar,"affine-database-toolbar":!0}),t=this.toolsMap[this.view.type];return(0,H.qy)` <div class="${e}">
      ${(0,D.u)(t??[],e=>sv(e,{view:this.view,viewMethods:this.viewMethods}))}
    </div>`}#ih=fl(this,n,!1);get showToolBar(){return this.#ih}set showToolBar(e){this.#ih=e}#ip=(fl(this,l),fl(this,c,void 0));get toolsMap(){return this.#ip}set toolsMap(e){this.#ip=e}constructor(){super(...arguments),fl(this,d)}static{fl(t,r)}},t})(),fh={filter:sy(pR),expand:sy(pL),search:sy(pq),viewOptions:sy(fr),tableAddRow:sy(pQ)};var fu=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},fp=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("component-overflow")],l=[],c=(0,sh.Jb)((0,P.Tm)(P.ao)),d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[];(class extends c{static{t=this}static{let w="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.YG)(":scope > .component-overflow-item")],s=[(0,L.P)(":scope > .component-overflow-more")],o=[(0,L.wk)()],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],fu(this,null,i,{kind:"accessor",name:"items",static:!1,private:!1,access:{has:e=>"items"in e,get:e=>e.items,set:(e,t)=>{e.items=t}},metadata:w},d,h),fu(this,null,s,{kind:"accessor",name:"more",static:!1,private:!1,access:{has:e=>"more"in e,get:e=>e.more,set:(e,t)=>{e.more=t}},metadata:w},u,p),fu(this,null,o,{kind:"accessor",name:"renderCount",static:!1,private:!1,access:{has:e=>"renderCount"in e,get:e=>e.renderCount,set:(e,t)=>{e.renderCount=t}},metadata:w},f,g),fu(this,null,r,{kind:"accessor",name:"renderItem",static:!1,private:!1,access:{has:e=>"renderItem"in e,get:e=>e.renderItem,set:(e,t)=>{e.renderItem=t}},metadata:w},m,v),fu(this,null,a,{kind:"accessor",name:"renderMore",static:!1,private:!1,access:{has:e=>"renderMore"in e,get:e=>e.renderMore,set:(e,t)=>{e.renderMore=t}},metadata:w},y,b),fu(null,e={value:t},n,{kind:"class",name:t.name,metadata:w},null,l),t=e.value,w&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w})}static{this.styles=(0,H.AH)`
    component-overflow {
      display: flex;
      flex-wrap: wrap;
      width: 100%;
      position: relative;
    }

    .component-overflow-item {
    }
    .component-overflow-item.hidden {
      opacity: 0;
      pointer-events: none;
      position: absolute;
    }
  `}adjustStyle(){let e=this.getBoundingClientRect().width-this.more.getBoundingClientRect().width;for(let t=0;t<this.items.length;t++)if((e-=this.items[t].getBoundingClientRect().width)<0){this.renderCount=t;return}this.renderCount=this.items.length}connectedCallback(){super.connectedCallback();let e=new ResizeObserver(()=>{this.adjustStyle()});e.observe(this),this.disposables.add(()=>{e.unobserve(this)})}render(){return(0,H.qy)`
      ${(0,D.u)(this.renderItem,(e,t)=>{let i=(0,oJ.H)({"component-overflow-item":!0,hidden:t>=this.renderCount});return(0,H.qy)`<div class="${i}">${e()}</div>`})}
      <div class="component-overflow-more">
        ${this.renderMore(this.renderCount)}
      </div>
    `}updated(e){super.updated(e),requestAnimationFrame(()=>{this.adjustStyle()})}#ig=fp(this,d,void 0);get items(){return this.#ig}set items(e){this.#ig=e}#im=(fp(this,h),fp(this,u,void 0));get more(){return this.#im}set more(e){this.#im=e}#iv=(fp(this,p),fp(this,f,0));get renderCount(){return this.#iv}set renderCount(e){this.#iv=e}#iy=(fp(this,g),fp(this,m,void 0));get renderItem(){return this.#iy}set renderItem(e){this.#iy=e}#ib=(fp(this,v),fp(this,y,void 0));get renderMore(){return this.#ib}set renderMore(e){this.#ib=e}constructor(){super(...arguments),fp(this,b)}static{fp(t,l)}})})();var ff=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},fg=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let fm={viewBar:sy((()=>{let e,t,i=[(0,L.EM)("data-view-header-views")],s=[],o=pP;return class extends o{static{t=this}constructor(){super(...arguments),this._addViewMenu=e=>{lZ(e.target,this.dataSource.viewMetas.map(e=>({type:"action",name:e.model.defaultName,icon:(0,H.qy)`<uni-lit .uni=${e.renderer.icon}></uni-lit>`,select:()=>{let t=this.viewManager.viewAdd(e.type);this.viewManager.setCurrentView(t)}})))},this._showMore=e=>{let t=this.viewManager.views$.value;lZ(e.target,[...t.map(e=>{let t=this.viewManager.viewGet(e);return{type:"action",icon:(0,H.qy)`<uni-lit .uni=${this.getRenderer(e).icon}></uni-lit>`,name:t.viewData$.value?.name??"",label:()=>(0,H.qy)`${t.viewData$.value?.name}`,isSelected:this.viewManager.currentViewId$.value===e,select:()=>{this.viewManager.setCurrentView(e)},postfix:(0,H.qy)`<div
            class="dv-hover dv-round-4"
            @click="${t=>{t.stopPropagation(),this.openViewOption(t.target,e)}}"
            style="display:flex;align-items:center;"
          >
            ${eq}
          </div>`}}),{type:"group",name:"",hide:()=>this.readonly,children:()=>this.dataSource.viewMetas.map(e=>({type:"action",name:`Create ${e.model.defaultName}`,icon:(0,H.qy)`<uni-lit .uni=${e.renderer.icon}></uni-lit>`,select:()=>{let t=this.viewManager.viewAdd(e.type);this.viewManager.setCurrentView(t)}}))}])},this.openViewOption=(e,t)=>{if(this.readonly)return;let i=this.viewManager.views$.value,s=i.findIndex(e=>e===t),o=this.viewManager.viewGet(i[s]);o&&lD(e,{options:{input:{initValue:o.viewData$.value?.name,onComplete:e=>{o.viewDataUpdate(t=>({name:e}))}},items:[{type:"action",name:"Edit View",icon:sv(this.getRenderer(t).icon,{}),select:()=>{this.closest("affine-data-view-renderer")?.querySelector("data-view-header-tools-view-options")?.openMoreAction(e)}},{type:"action",name:"Move Left",hide:()=>0===s,icon:ng,select:()=>{let e=i[s-1];this.viewManager.moveTo(t,e?{before:!0,id:e}:"start")}},{type:"action",name:"Move Right",icon:nm,hide:()=>s===i.length-1,select:()=>{let e=i[s+1];this.viewManager.moveTo(t,e?{before:!1,id:e}:"end")}},{type:"action",name:"Duplicate",icon:aZ,select:()=>{this.viewManager.viewDuplicate(t)}},{type:"group",name:"",children:()=>[{type:"action",name:"Delete View",icon:sV,select:()=>{o.delete()},class:"delete-item"}]}]}})},this.renderMore=e=>{let t=this.viewManager.views$.value;if(e===t.length){if(this.readonly)return;return(0,H.qy)`<div
        class="database-view-button dv-icon-16 dv-hover"
        data-testid="database-add-view-button"
        @click="${this._addViewMenu}"
      >
        ${ns}
      </div>`}return(0,H.qy)`
      <div class="database-view-button dv-hover" @click="${this._showMore}">
        ${t.length-e} More
      </div>
    `},this.renderViews=()=>this.viewManager.views$.value.map(e=>()=>{let t=(0,oJ.H)({"database-view-button":!0,"dv-hover":!0,active:this.viewManager.currentViewId$.value===e}),i=this.viewManager.viewDataGet(e);return(0,H.qy)`
        <div
          class="${t}"
          style="margin-right: 4px;"
          @click="${t=>this._clickView(t,e)}"
        >
          <uni-lit class="icon" .uni="${this.getRenderer(e).icon}"></uni-lit>
          <div class="name">${i?.name}</div>
        </div>
      `})}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;ff(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    data-view-header-views {
      height: 32px;
      display: flex;
      user-select: none;
      gap: 4px;
    }
    data-view-header-views::-webkit-scrollbar-thumb {
      width: 1px;
    }

    .database-view-button {
      height: 100%;
      cursor: pointer;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 14px;
      display: flex;
      align-items: center;
      color: var(--affine-text-secondary-color);
      white-space: nowrap;
    }

    .database-view-button .name {
      align-items: center;
      height: 22px;
      max-width: 100px;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .database-view-button .icon {
      margin-right: 6px;
      display: block;
    }

    .database-view-button .icon svg {
      width: 16px;
      height: 16px;
    }

    .database-view-button.active {
      color: var(--affine-text-primary-color);
      background-color: var(--affine-hover-color-filled);
    }
  `}_clickView(e,t){if(this.viewManager.currentViewId$.value!==t){this.viewManager.setCurrentView(t);return}this.openViewOption(e.target,t)}getRenderer(e){return this.dataSource.viewMetaGetById(e).renderer}render(){return(0,H.qy)`
      <component-overflow
        .renderItem="${this.renderViews()}"
        .renderMore="${this.renderMore}"
      ></component-overflow>
    `}get readonly(){return this.viewManager.readonly$.value}static{fg(t,s)}},t})()),filterBar:p$,createTools:e=>s8(sy(fd),t=>({...t,toolsMap:e})),tools:fh};var fv=i(35632);let fy=(e,t)=>{let i=e.path??e.currentSelectionPath;(0,V.Z1)(i,"`path` is required, you need to pass it in args or ctx before adding this command to the pipeline.");let s=e.std.doc.getParent(i);if(!s)return;let o=e.std.view.getBlock(s.id);o&&t({blockIndex:o.childBlocks.findIndex(e=>e.blockId===i),parentBlock:o})},fb=(e,t)=>{let i=e.path??e.currentSelectionPath;(0,V.Z1)(i,"`path` is required, you need to pass it in args or ctx before adding this command to the pipeline.");let s=function(e,t){let i=e.view.getBlock(t);if(!i)return null;let s=null;return(i.childBlocks[0]&&(s=i.childBlocks[0]),s||(s=function(e,t){let i=e.view,s=e.doc.getNext(t.model);return s?i.getBlock(s.id):null}(e,i)),s&&!s.contains(i))?s:null}(e.std,i);s&&t({nextBlock:s})},fw=(e,t)=>{let i=e.path??e.currentSelectionPath;(0,V.Z1)(i,"`path` is required, you need to pass it in args or ctx before adding this command to the pipeline.");let s=function(e,t){let i=e.view,s=function(e,t){let i=e.view,s=i.getBlock(t);if(!s)return null;let o=e.doc.getPrev(s.model);return o?i.getBlock(o.id):null}(e,t);return s&&i.getBlock(t)&&s&&s.blockId!==t?s:null}(e.std,i);s&&t({prevBlock:s})},fx=(e,t)=>{let{types:i=["block","text","image"],roles:s=["content"],mode:o="flat"}=e,r=[],a=e.textSelection??e.currentTextSelection;if(i.includes("text")&&a)try{let t=e.std.range.textSelectionToRange(a);if(!t)return;let i=e.std.range.getSelectedBlockComponentsByRange(t,{match:e=>s.includes(e.model.role),mode:o});r.push(...i)}catch{return}let n=e.blockSelections??e.currentBlockSelections;if(i.includes("block")&&n){let t=e.std.view,i=e.std.doc,a=n.flatMap(e=>{let r=t.getBlock(e.blockId);if(!r)return[];let a=[r],n=e.blockId;if("all"===o){let e=null;do{if(!(e=i.getParent(n)))break;let t=e;if(t instanceof P.p_&&!s.includes(t.model.role))break;n=e.id}while(e)(e=t.getBlock(n))&&a.push(e)}return["all","flat"].includes(o)&&t.walkThrough(e=>{if(!(e instanceof P.p_))return!0;s.includes(e.model.role)&&a.push(e)},n),a});r.push(...a)}let l=e.imageSelections??e.currentImageSelections;if(i.includes("image")&&l){let t=e.std.view,i=l.map(e=>t.getBlock(e.blockId)).filter(e=>!!e);r.push(...i)}e.filter&&(r=r.filter(e.filter));let c=r.filter((e,t)=>r.indexOf(e)===t).sort((e,t)=>{if(e===t)return 0;let i=e.compareDocumentPosition(t);return i&Node.DOCUMENT_POSITION_FOLLOWING||i&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:i&Node.DOCUMENT_POSITION_PRECEDING||i&Node.DOCUMENT_POSITION_CONTAINS?1:0});0!==c.length&&t({selectedBlocks:c})},f_=(e,t)=>{let i=e.draftedModels;if(!i){console.error("`draftedModels` is required, you need to use `draftSelectedModels` command before adding this command to the pipeline.");return}return i.then(t=>{let i=v.Ji.fromModels(e.std.doc,t);return e.std.clipboard.copy(i)}).then(()=>e.onCopy?.()).catch(console.error),t()},fC=(e,t)=>{let i=e.selectedModels;return(0,V.Z1)(i,"`selectedModels` is required, you need to use `getSelectedModels` command before adding this command to the pipeline."),i.forEach(t=>{e.std.doc.deleteBlock(t)}),t()},fk=(e,t)=>{let i=e.selectedModels;if(!i){console.error("`selectedModels` is required, you need to use `getSelectedModels` command before adding this command to the pipeline.");return}return t({draftedModels:new Promise(e=>{let t=i.map(v.uS),s=new Map(t.map(e=>[e.id,e])),o=e=>{let t="affine:database"===e.flavour?e.children:e.children.filter(e=>s.has(e.id));t.forEach(e=>{s.delete(e.id),o(e)}),e.children=t};t.forEach(o),e(Array.from(s.values()))})})},fS=(e,t)=>{let i=e.types??["block","text","image"],s=e.mode??"flat",o=[];e.std.command.chain().tryAll(e=>[e.getTextSelection(),e.getBlockSelections(),e.getImageSelections()]).getSelectedBlocks({types:i,mode:s}).inline(e=>{let{selectedBlocks:t=[]}=e;o.push(...t.map(e=>e.model))}).run(),t({selectedModels:o})},fM=(e,t)=>{let i=e.std.selection.filter("block");0!==i.length&&t({currentBlockSelections:i})},fE=(e,t)=>{let i=e.std.selection.filter("image");0!==i.length&&t({currentImageSelections:i})},fI=(e,t)=>{let i=e.std.selection.find("text");i&&t({currentTextSelection:i})},fB=(e,t)=>{let i;let s=e.textSelection??e.currentTextSelection;if(!s)return;let o=e.std.range.textSelectionToRange(s);if(!o)return;let r=e.std.range.getSelectedBlockComponentsByRange(o,{mode:"flat"}),{from:a,to:n}=s,l=r.find(e=>a.blockId===e.blockId);if(!l||!(i=(0,st.op)(l.model,["affine:page"])?l.model.title:l.model.text))return;if(!n)return i.delete(a.index,a.length),e.std.selection.setGroup("note",[e.std.selection.create("text",{from:{blockId:a.blockId,index:a.index,length:0},to:null})]),t();let c=r.find(e=>n.blockId===e.blockId);if(!c)return;let d=c.model.text;d&&(i.delete(a.index,a.length),d.delete(0,n.length),i.join(d),r.filter(e=>e.model.id!==l.model.id).forEach(t=>{e.std.doc.deleteBlock(t.model)}),e.std.selection.setGroup("note",[e.std.selection.create("text",{from:{blockId:n.blockId,index:n.index,length:0},to:null})]),t())},f$=["affine:paragraph","affine:list"],fT=["affine:paragraph","affine:list"],fO=["affine:database"],fP=(e,t)=>{let i=e.blockSelections??e.currentBlockSelections;if((0,V.Z1)(i,"`blockSelections` is required, you need to pass it in args or use `getBlockSelections` command before adding this command to the pipeline."),0===i.length)return;let s=e.styles,o=e.mode??"merge";e.std.command.chain().getSelectedBlocks({blockSelections:i,filter:e=>fT.includes(e.model.flavour),types:["block"]}).inline((e,t)=>{let{selectedBlocks:i}=e;(0,V.Z1)(i),i.flatMap(e=>{let t=e.querySelector(`[${si.jN}]`);return t?t.inlineEditor:[]}).forEach(e=>{e.formatText({index:0,length:e.yTextLength},s,{mode:o})}),t()}).run()&&t()};var fA=i(93574);let fH=(e,t)=>{let{styles:i,mode:s="merge"}=e,o=e.range;if(!o){let e=document.getSelection();if(!e||0===e.rangeCount)return;o=e.getRangeAt(0)}o&&(Array.from(e.std.host.querySelectorAll(`[${si.jN}]`)).filter(e=>o?.intersectsNode(e)).filter(e=>{let t=e.closest(`[${fA.u_}]`);return!!t&&fO.includes(t.model.flavour)}).map(e=>e.inlineEditor).forEach(e=>{let t=e.getInlineRange();t&&e.formatText(t,i,{mode:s})}),t())};function fL(e){let t=e.getInlineRange(),i=e.slots.inlineRangeUpdate.on(([s,o])=>{t&&s&&(!o&&s.index===t.index||o&&s.index===t.index+1)?t=s:(e.resetMarks(),i.dispose())})}let fD=(e,t)=>{let{styles:i,mode:s="merge"}=e,o=e.textSelection??e.currentTextSelection;o&&e.std.command.chain().getSelectedBlocks({textSelection:o,filter:e=>f$.includes(e.model.flavour),types:["text"]}).inline((e,t)=>{let{selectedBlocks:r}=e;r&&(r.flatMap(e=>{let t=e.querySelector(`[${si.jN}]`);return t&&t.inlineEditor.getInlineRange()?t.inlineEditor:[]}).forEach(e=>{let t=e.getInlineRange();if(t){if(0===t.length){let s=e.getDeltaByRangeIndex(t.index);if(!s)return;e.setMarks({...e.marks,...Object.fromEntries(Object.entries(i).map(([t,i])=>"boolean"==typeof i?[t,e.marks&&e.marks[t]||s.attributes&&s.attributes[t]?null:i]:[t,i]))}),fL(e)}else e.formatText(t,i,{mode:s})}}),Promise.all(r.map(e=>e.updateComplete)).then(()=>{e.std.range.syncTextSelectionToRange(o)}).catch(console.error),t())}).run()&&t()};class fZ extends v.Dy{fromBlockSnapshot(e){throw new u.Ss(p.O.TransformerNotImplementedError,"AttachmentAdapter.fromBlockSnapshot is not implemented.")}fromDocSnapshot(e){throw new u.Ss(p.O.TransformerNotImplementedError,"AttachmentAdapter.fromDocSnapshot is not implemented.")}fromSliceSnapshot(e){let t=[];for(let i of e.snapshot.content)if("block"===i.type){let{flavour:s,props:o}=i;if("affine:attachment"===s){let{sourceId:i}=o,s=e.assets?.getAssets().get(i);s&&t.push(s)}}return Promise.resolve({file:t,assetsIds:[]})}toBlockSnapshot(e){throw new u.Ss(p.O.TransformerNotImplementedError,"AttachmentAdapter.toBlockSnapshot is not implemented.")}toDocSnapshot(e){throw new u.Ss(p.O.TransformerNotImplementedError,"AttachmentAdapter.toDocSnapshot is not implemented.")}async toSliceSnapshot(e){let t=[];for(let i of e.file){let s=await (0,j.h)(await i.arrayBuffer());e.assets?.getAssets().set(s,i),await e.assets?.writeToBlob(s),t.push({type:"block",flavour:"affine:attachment",id:(0,v.Ak)(),props:{name:i.name,size:i.size,type:i.type,embed:!1,style:"horizontalThin",index:"a0",xywh:"[0,0,0,0]",rotate:0,sourceId:s},children:[]})}return 0===t.length?null:{type:"slice",content:t,pageVersion:e.pageVersion,workspaceVersion:e.workspaceVersion,workspaceId:e.workspaceId,pageId:e.pageId}}}var fj=i(67560),fV=i(30272),fR=i(26859),fz=i(73969),fF=i(71249);let fN=["python","c","java","cpp","csharp","vb","javascript","php","sql","asm","pascal","go","swift","matlab","r","rust","ruby","sas","ada","perl","objective-c","cobol","lisp","dart","lua","julia","d","kotlin","logo","scala","haskell","fsharp","scheme","typescript","groovy","abap","prolog","plsql","bash","apex","markdown","json","html","css","diff","jsx","tsx","vue"].reduce((e,t,i)=>({[t]:i,...e}),{});function fq(e){return(0,fF.Tu)(e)||ss.XR.id===e}let fU=(e,t=!1)=>!e||fq(e)?null:fz.WL.find(t=>t.id.toLowerCase()===e.toLowerCase())||(t?null:fz.WL.find(t=>t.aliases?.includes(e.toLowerCase()))??null);var fW=i(73616);let fG=null,fY=async e=>{if(fG){let{langs:t}=e;return t&&await fG.loadLanguage(...t),fG}return fG=await (0,fW.kS)({...e})},fK=(e,t="")=>{if(!e)return t;switch(e.type){case"text":return e.value.replace(/\s+/g," ");case"element":if("br"===e.tagName)return"\n";return e.children.map(e=>fK(e)).join("")}return t},fX=e=>e&&"element"===e.type?e.children.filter(e=>"element"===e.type):[],fQ=e=>e&&"element"===e.type?e.children.filter(e=>"text"===e.type):[],fJ=e=>({...e,children:fQ(e)}),f1=(e,t)=>{if("element"===e.type){if(e.tagName===t)return e;for(let i of e.children){let e=f1(i,t);if(e)return e}}},f0=(e,t)=>{if("element"===e.type){if(Array.isArray(e.properties?.className)&&e.properties.className.includes(t))return e;for(let i of e.children){let e=f0(i,t);if(e)return e}}},f2=(e,t)=>{if("element"===e.type){if(e.properties.id===t)return e;for(let i of e.children){let e=f2(i,t);if(e)return e}}},f5=(e,t)=>{if("root"===e.type)for(let i of e.children){let e=f5(i,t);if(e)return e}else if("element"===e.type)return t.startsWith(".")?f0(e,t.slice(1)):t.startsWith("#")?f2(e,t.slice(1)):f1(e,t)},f7=(e,t)=>{if("element"===e.type){let i=e.children.map(e=>f7(e,t));return{...e,children:i.flatMap(e=>"element"===e.type&&t(e.tagName)?e.children:e)}}return e};class f3 extends v.Dy{constructor(){super(...arguments),this._astToHtml=e=>(0,N.l)().use(fR.A).stringify(e),this._deltaToHast=e=>e.map(e=>{let t={type:"text",value:e.insert};if(e.attributes?.reference){let i=this.configs.get("title:"+e.attributes.reference.pageId);"string"==typeof i&&(t={type:"text",value:i})}return e.attributes&&(e.attributes.bold&&(t={type:"element",tagName:"strong",properties:{},children:[t]}),e.attributes.italic&&(t={type:"element",tagName:"em",properties:{},children:[t]}),e.attributes.code&&(t={type:"element",tagName:"code",properties:{},children:[t]}),e.attributes.strike&&(t={type:"element",tagName:"del",properties:{},children:[t]}),e.attributes.underline&&(t={type:"element",tagName:"u",properties:{},children:[t]}),e.attributes.link&&(t={type:"element",tagName:"a",properties:{href:e.attributes.link},children:[t]})),t}),this._deltaToHighlightHasts=async(e,t)=>{let i;if(!(e=e.reduce((e,t)=>eo(e,t,{force:!0}),[])).length)return[{type:"element",tagName:"span",children:[{type:"text",value:""}]}];let s=e[0];if("string"==typeof t&&(t=t.toLowerCase()),!t||"string"!=typeof t||fq(t)||"Text"===t||!fz.WL.map(({id:e})=>e).includes(t))return[{type:"text",value:s.insert}];let o=t,r=await fY({langs:[o],themes:[ss.dA,ss.n0]}),a=`${s.insert}-${t}-light`,n=so.get(a);return n?i=n:(i=r.codeToTokensBase(s.insert,{lang:o}).reduce((e,t,i)=>0===i?t:[...e,{content:"\n",color:"inherit"},...t],[]),so.set(a,i)),i.map(e=>({type:"element",tagName:"span",properties:{style:`word-wrap: break-word; color: ${e.color};`},children:[{type:"text",value:e.content}]}))},this._hastToDelta=(e,t={trim:!0,pre:!1})=>this._hastToDeltaSpreaded(e,t).reduce((e,t)=>eo(e,t),[]),this._hastToDeltaSpreaded=(e,t={trim:!0,pre:!1})=>{switch(void 0===t.trim&&(t.trim=!0),e.type){case"text":if(t.pre)return[{insert:e.value}];if(t.trim){let i=(0,fj.Z)(e.value,{trim:t.trim});if(i)return[{insert:i}];return[]}if(e.value)return[{insert:(0,fj.Z)(e.value)}];return[];case"element":switch(e.tagName){case"ol":case"ul":return[];case"span":case"bdi":case"bdo":case"ins":return e.children.flatMap(e=>this._hastToDeltaSpreaded(e,{trim:!1}));case"strong":case"b":return e.children.flatMap(e=>this._hastToDeltaSpreaded(e,{trim:!1}).map(e=>(e.attributes={...e.attributes,bold:!0},e)));case"i":case"em":return e.children.flatMap(e=>this._hastToDeltaSpreaded(e,{trim:!1}).map(e=>(e.attributes={...e.attributes,italic:!0},e)));case"code":return e.children.flatMap(e=>this._hastToDeltaSpreaded(e,{trim:!1}).map(e=>(e.attributes={...e.attributes,code:!0},e)));case"del":return e.children.flatMap(e=>this._hastToDeltaSpreaded(e,{trim:!1}).map(e=>(e.attributes={...e.attributes,strike:!0},e)));case"u":return e.children.flatMap(e=>this._hastToDeltaSpreaded(e,{trim:!1}).map(e=>(e.attributes={...e.attributes,underline:!0},e)));case"a":{let t=e.properties?.href;if("string"!=typeof t)return[];return e.children.flatMap(e=>this._hastToDeltaSpreaded(e,{trim:!1}).map(e=>(t.startsWith("http")&&(e.attributes={...e.attributes,link:t}),e)))}case"mark":return e.children.flatMap(e=>this._hastToDeltaSpreaded(e,{trim:!1}).map(e=>(e.attributes={...e.attributes},e)));case"br":return[{insert:"\n"}]}}return"children"in e?e.children.flatMap(e=>this._hastToDeltaSpreaded(e,t)):[]},this._traverseHtml=async(e,t,i)=>{let s=new v.PV;return s.setONodeTypeGuard(e=>"type"in e&&void 0!==e.type),s.setEnter(async(e,t)=>{if("element"===e.node.type)switch(e.node.tagName){case"header":t.skipAllChildren();break;case"img":{if(!i)break;let s=e.node,o="string"==typeof s?.properties.src?s.properties.src:"";if(o){let e="";if(ea(o))try{let t=await es(o,void 0,this.configs.get("imageProxy"));if(!t)break;let s=t.clone(),r=U(t.headers.get("Content-Disposition")??"")??(o.split("/").at(-1)??"image")+"."+(t.headers.get("Content-Type")?.split("/").at(-1)??"png"),a=new File([await t.blob()],r,{type:t.headers.get("Content-Type")??""});e=await (0,j.h)(await s.arrayBuffer()),i?.getAssets().set(e,a),await i?.writeToBlob(e)}catch(e){break}else i.getAssets().forEach((t,s)=>{let r=(0,v.wm)(i.getAssets(),s);decodeURIComponent(o).includes(r)&&(e=s)});t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:image",props:{sourceId:e},children:[]},"children").closeNode(),t.skipAllChildren()}break}case"pre":{let i=f5(e.node,"code");if(!i)break;let s=1===i.children.length&&"text"===i.children[0].type?i.children[0]:{...i,tagName:"div"},o=Array.isArray(i.properties?.className)?i.properties.className.find(e=>"string"==typeof e&&e.startsWith("code-")):void 0;o="string"==typeof o?o.replace("code-",""):void 0,t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:code",props:{language:o??"Plain Text",text:{"$blocksuite:internal:text$":!0,delta:this._hastToDelta(s,{trim:!1,pre:!0})}},children:[]},"children").closeNode(),t.skipAllChildren();break}case"blockquote":{t.setGlobalContext("hast:blockquote",!0);let i=fQ(e.node),s=i.every(e=>!e.value.trim());i&&!s&&t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{type:"quote",text:{"$blocksuite:internal:text$":!0,delta:this._hastToDelta(fJ(e.node))}},children:[]},"children").closeNode();break}case"body":case"div":case"span":case"footer":e.parent?.node.type==="element"&&"li"!==e.parent.node.tagName&&(fX(e.node).every(e=>["a","b","bdi","bdo","br","code","del","em","i","ins","mark","span","strong","u"].includes(e.tagName))||e.node.children.map(e=>e.type).every(e=>"text"===e))&&(t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{type:"text",text:{"$blocksuite:internal:text$":!0,delta:this._hastToDelta(e.node)}},children:[]},"children").closeNode(),t.skipAllChildren());break;case"p":t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{type:t.getGlobalContext("hast:blockquote")?"quote":"text",text:{"$blocksuite:internal:text$":!0,delta:this._hastToDelta(e.node)}},children:[]},"children");break;case"ul":case"ol":t.setNodeContext("hast:list:type","bulleted"),"ol"===e.node.tagName?t.setNodeContext("hast:list:type","numbered"):Array.isArray(e.node.properties?.className)&&(e.node.properties.className.includes("to-do-list")?t.setNodeContext("hast:list:type","todo"):e.node.properties.className.includes("toggle")?t.setNodeContext("hast:list:type","toggle"):e.node.properties.className.includes("bulleted-list")&&t.setNodeContext("hast:list:type","bulleted"));break;case"li":{let i=fX(e.node)[0],s=t.getNodeContext("hast:list:type");e.node=f7(e.node,e=>"div"===e||"p"===e),t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:list",props:{type:s,text:{"$blocksuite:internal:text$":!0,delta:"toggle"!==s?this._hastToDelta(e.node):this._hastToDelta(f5(e.node,"summary")??e.node)},checked:"todo"===s&&i&&Array.isArray(i.properties?.className)&&i.properties.className.includes("checkbox-on"),collapsed:"toggle"===s&&i&&"details"===i.tagName&&void 0===i.properties.open},children:[]},"children");break}case"hr":t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:divider",props:{},children:[]},"children").closeNode();break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{type:e.node.tagName,text:{"$blocksuite:internal:text$":!0,delta:this._hastToDelta(e.node)}},children:[]},"children").closeNode();break;case"iframe":{let i=e.node.properties?.src;if("string"!=typeof i)break;if(i.startsWith("https://www.youtube.com/embed/")){let e=i.substring(30,-1!==i.indexOf("?")?i.indexOf("?"):void 0);t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:embed-youtube",props:{url:`https://www.youtube.com/watch?v=${e}`},children:[]},"children").closeNode()}}}}),s.setLeave((e,t)=>{if("element"===e.node.type)switch(e.node.tagName){case"div":e.parent?.node.type==="element"&&"li"!==e.parent.node.tagName&&Array.isArray(e.node.properties?.className)&&(e.node.properties.className.includes("affine-paragraph-block-container")||e.node.properties.className.includes("affine-block-children-container")||e.node.properties.className.includes("indented"))&&t.closeNode();break;case"blockquote":t.setGlobalContext("hast:blockquote",!1);break;case"p":if(e.next?.type==="element"&&"div"===e.next.tagName&&Array.isArray(e.next.properties?.className)&&(e.next.properties.className.includes("affine-block-children-container")||e.next.properties.className.includes("indented")))break;t.closeNode();break;case"li":t.closeNode()}}),s.walk(e,t)},this._traverseSnapshot=async(e,t,i)=>{let s=[],o=new v.PV;return o.setONodeTypeGuard(e=>v.T1.safeParse(e).success),o.setEnter(async(e,t)=>{let o=e.node.props.text??{delta:[]};switch(e.node.flavour){case"affine:page":t.openNode({type:"element",tagName:"html",properties:{},children:[]},"children").openNode({type:"element",tagName:"head",properties:{},children:[]},"children").openNode({type:"element",tagName:"style",properties:{},children:[]},"children").openNode({type:"text",value:`
                input[type='checkbox'] {
                  display: none;
                }
                label:before {
                  background: rgb(30, 150, 235);
                  border-radius: 3px;
                  height: 16px;
                  width: 16px;
                  display: inline-block;
                  cursor: pointer;
                }
                input[type='checkbox'] + label:before {
                  content: '';
                  background: rgb(30, 150, 235);
                  color: #fff;
                  font-size: 16px;
                  line-height: 16px;
                  text-align: center;
                }
                input[type='checkbox']:checked + label:before {
                  content: '✓';
                }
                `.replace(/\s\s+/g,"")},"children").closeNode().closeNode().closeNode().openNode({type:"element",tagName:"body",properties:{},children:[]},"children").openNode({type:"element",tagName:"div",properties:{style:"width: 70vw; margin: 60px auto;"},children:[]},"children").openNode({type:"comment",value:"BlockSuiteDocTitlePlaceholder"}).closeNode();break;case"affine:code":"string"==typeof e.node.props.language&&(e.node.props.language=e.node.props.language.toLowerCase()),t.openNode({type:"element",tagName:"pre",properties:{},children:[]},"children").openNode({type:"element",tagName:"code",properties:{className:[`code-${e.node.props.language}`]},children:await this._deltaToHighlightHasts(o.delta,e.node.props.language)},"children").closeNode().closeNode();break;case"affine:paragraph":switch(e.node.props.type){case"text":t.openNode({type:"element",tagName:"div",properties:{className:["affine-paragraph-block-container"]},children:[]},"children").openNode({type:"element",tagName:"p",properties:{},children:this._deltaToHast(o.delta)},"children").closeNode().openNode({type:"element",tagName:"div",properties:{className:["affine-block-children-container"],style:"padding-left: 26px;"},children:[]},"children");break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":t.openNode({type:"element",tagName:"div",properties:{className:["affine-paragraph-block-container"]},children:[]},"children").openNode({type:"element",tagName:e.node.props.type,properties:{},children:this._deltaToHast(o.delta)},"children").closeNode().openNode({type:"element",tagName:"div",properties:{className:["affine-block-children-container"],style:"padding-left: 26px;"},children:[]},"children");break;case"quote":t.openNode({type:"element",tagName:"div",properties:{className:["affine-paragraph-block-container"]},children:[]},"children").openNode({type:"element",tagName:"blockquote",properties:{className:["quote"]},children:[]},"children").openNode({type:"element",tagName:"p",properties:{},children:this._deltaToHast(o.delta)},"children").closeNode().closeNode().openNode({type:"element",tagName:"div",properties:{className:["affine-block-children-container"],style:"padding-left: 26px;"},children:[]},"children")}break;case"affine:list":{t.openNode({type:"element",tagName:"div",properties:{className:["affine-list-block-container"]},children:[]},"children").openNode({type:"element",tagName:"numbered"===e.node.props.type?"ol":"ul",properties:{style:"todo"===e.node.props.type?"list-style-type: none;":""},children:[]},"children");let i=this._deltaToHast(o.delta);"todo"===e.node.props.type&&i.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.node.props.checked},children:[{type:"element",tagName:"label",properties:{},children:[]}]}),t.openNode({type:"element",tagName:"li",properties:{},children:i},"children").closeNode().closeNode().openNode({type:"element",tagName:"div",properties:{className:["affine-block-children-container"],style:"padding-left: 26px;"},children:[]},"children");break}case"affine:divider":t.openNode({type:"element",tagName:"hr",properties:{},children:[]},"children").closeNode();break;case"affine:image":{let o=e.node.props.sourceId??"";if(!i)break;await i.readFromBlob(o);let r=i.getAssets().get(o);if(s.push(o),!r)break;let a=(0,v.wm)(i.getAssets(),o),n=e.node.props.width&&e.node.props.height?{width:`${e.node.props.width}px`,height:`${e.node.props.height}px`}:{};t.openNode({type:"element",tagName:"figure",properties:{className:["affine-image-block-container"]},children:[]},"children").openNode({type:"element",tagName:"img",properties:{src:`assets/${a}`,alt:a,title:e.node.props.caption??null,...n},children:[]},"children").closeNode().closeNode()}}}),o.setLeave((e,t)=>{switch(e.node.flavour){case"affine:page":t.closeNode().closeNode().closeNode();break;case"affine:paragraph":case"affine:list":t.closeNode().closeNode()}}),{ast:await o.walk(e,t),assetsIds:s}}}_htmlToAst(e){return(0,N.l)().use(fV.A).parse(e)}async fromBlockSnapshot(e){let{ast:t,assetsIds:i}=await this._traverseSnapshot(e.snapshot,{type:"root",children:[{type:"doctype"}]},e.assets);return{file:this._astToHtml(t),assetsIds:i}}async fromDocSnapshot(e){let{file:t,assetsIds:i}=await this.fromBlockSnapshot({snapshot:e.snapshot.blocks,assets:e.assets});return{file:t.replace("<!--BlockSuiteDocTitlePlaceholder-->",`<h1>${e.snapshot.meta.title}</h1>`),assetsIds:i}}async fromSliceSnapshot(e){let t="",i=[];for(let s of e.snapshot.content){let o={type:"root",children:[]},{ast:r,assetsIds:a}=await this._traverseSnapshot(s,o,e.assets);i.push(...a),t+=this._astToHtml(r)}return{file:t,assetsIds:i}}toBlockSnapshot(e){let t=this._htmlToAst(e.file),i={type:"block",id:(0,v.Ak)(),flavour:"affine:note",props:{xywh:"[0,0,800,95]",background:"--affine-background-secondary-color",index:"a0",hidden:!1,displayMode:q.ko.DocAndEdgeless},children:[]};return this._traverseHtml(t,i,e.assets)}async toDocSnapshot(e){let t=this._htmlToAst(e.file),i=f5(t,"title"),s={type:"block",id:(0,v.Ak)(),flavour:"affine:note",props:{xywh:"[0,0,800,95]",background:"--affine-background-secondary-color",index:"a0",hidden:!1,displayMode:q.ko.DocAndEdgeless},children:[]};return{type:"page",meta:{id:(0,v.Ak)(),title:fK(i,"Untitled"),createDate:Date.now(),tags:[]},blocks:{type:"block",id:(0,v.Ak)(),flavour:"affine:page",props:{title:{"$blocksuite:internal:text$":!0,delta:this._hastToDelta(i??{type:"text",value:"Untitled"})}},children:[{type:"block",id:(0,v.Ak)(),flavour:"affine:surface",props:{elements:{}},children:[]},await this._traverseHtml(t,s,e.assets)]}}}async toSliceSnapshot(e){let t=this._htmlToAst(e.file),i={type:"block",id:(0,v.Ak)(),flavour:"affine:note",props:{xywh:"[0,0,800,95]",background:"--affine-background-secondary-color",index:"a0",hidden:!1,displayMode:q.ko.DocAndEdgeless},children:[]},s=await this._traverseHtml(t,i,e.assets);return 0===s.children.length?null:{type:"slice",content:[s],pageVersion:e.pageVersion,workspaceVersion:e.workspaceVersion,workspaceId:e.workspaceId,pageId:e.pageId}}}class f4 extends v.Dy{fromBlockSnapshot(e){throw new u.Ss(p.O.TransformerNotImplementedError,"ImageAdapter.fromBlockSnapshot is not implemented.")}fromDocSnapshot(e){throw new u.Ss(p.O.TransformerNotImplementedError,"ImageAdapter.fromDocSnapshot is not implemented.")}fromSliceSnapshot(e){let t=[];for(let i of e.snapshot.content)if("block"===i.type){let{flavour:s,props:o}=i;if("affine:image"===s){let{sourceId:i}=o,s=e.assets?.getAssets().get(i);s&&t.push(s)}}return Promise.resolve({file:t,assetsIds:[]})}toBlockSnapshot(e){throw new u.Ss(p.O.TransformerNotImplementedError,"ImageAdapter.toBlockSnapshot is not implemented.")}toDocSnapshot(e){throw new u.Ss(p.O.TransformerNotImplementedError,"ImageAdapter.toDocSnapshot is not implemented")}async toSliceSnapshot(e){let t=[];for(let i of e.file){let s=await (0,j.h)(await i.arrayBuffer());e.assets?.getAssets().set(s,i),await e.assets?.writeToBlob(s),t.push({type:"block",flavour:"affine:image",id:(0,v.Ak)(),props:{sourceId:s},children:[]})}return 0===t.length?null:{type:"slice",content:t,pageVersion:e.pageVersion,workspaceVersion:e.workspaceVersion,workspaceId:e.workspaceId,pageId:e.pageId}}}class f6 extends v.Dy{constructor(e){super(e),this._markdownAdapter=new ec(e)}async _traverseSnapshot(e){let t="",i=new v.PV;return i.setONodeTypeGuard(e=>v.T1.safeParse(e).success),i.setEnter(e=>{let i=e.node.props.text??{delta:[]};switch(e.node.flavour){case"affine:code":t+=i.delta.map(e=>e.insert).join("")+"\n";break;case"affine:paragraph":t+=i.delta.map(e=>e.insert).join("")+"\n";break;case"affine:list":t+=i.delta.map(e=>e.insert).join("")+"\n";break;case"affine:divider":t+="---\n"}}),await i.walkONode(e),{mixtext:t}}async fromBlockSnapshot({snapshot:e}){let{mixtext:t}=await this._traverseSnapshot(e);return{file:t,assetsIds:[]}}async fromDocSnapshot({snapshot:e,assets:t}){let i="";e.meta.title&&(i+=`${e.meta.title}

`);let{file:s,assetsIds:o}=await this.fromBlockSnapshot({snapshot:e.blocks,assets:t});return{file:i+=s,assetsIds:o}}async fromSliceSnapshot({snapshot:e}){let t="";for(let i of e.content){let{mixtext:e}=await this._traverseSnapshot(i);t+=e}return{file:t.match(/\n/g)?.length===1?t.trimEnd():t,assetsIds:[]}}toBlockSnapshot(e){return e.file=e.file.replaceAll("\r",""),{type:"block",id:(0,v.Ak)(),flavour:"affine:note",props:{xywh:"[0,0,800,95]",background:"--affine-background-secondary-color",index:"a0",hidden:!1,displayMode:q.ko.DocAndEdgeless},children:e.file.split("\n").map(e=>({type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{type:"text",text:{"$blocksuite:internal:text$":!0,delta:[{insert:e}]}},children:[]}))}}toDocSnapshot(e){return e.file=e.file.replaceAll("\r",""),{type:"page",meta:{id:(0,v.Ak)(),title:"Untitled",createDate:Date.now(),tags:[]},blocks:{type:"block",id:(0,v.Ak)(),flavour:"affine:page",props:{title:{"$blocksuite:internal:text$":!0,delta:[{insert:"Untitled"}]}},children:[{type:"block",id:(0,v.Ak)(),flavour:"affine:surface",props:{elements:{}},children:[]},{type:"block",id:(0,v.Ak)(),flavour:"affine:note",props:{xywh:"[0,0,800,95]",background:"--affine-background-secondary-color",index:"a0",hidden:!1,displayMode:q.ko.DocAndEdgeless},children:e.file.split("\n").map(e=>({type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{type:"text",text:{"$blocksuite:internal:text$":!0,delta:[{insert:e}]}},children:[]}))}]}}}async toSliceSnapshot(e){return 0===e.file.trim().length?null:(e.file=e.file.replaceAll("\r",""),await this._markdownAdapter.toSliceSnapshot({file:e.file,assets:e.assets,pageVersion:e.pageVersion,workspaceVersion:e.workspaceVersion,workspaceId:e.workspaceId,pageId:e.pageId}))}}let f8={typesSelect:"select",typesMultipleSelect:"multi-select",typesNumber:"number",typesCheckbox:"checkbox",typesText:"rich-text",typesTitle:"title"};class f9 extends v.Dy{constructor(){super(...arguments),this._hastToDelta=(e,t={trim:!0,pre:!1})=>this._hastToDeltaSpreaded(e,t).reduce((e,t)=>{if(0===e.length)return[t];let i=e[e.length-1];return"string"==typeof i.insert&&"string"==typeof t.insert&&(0,V.n4)(i.attributes,t.attributes)?(i.insert+=t.insert,e):[...e,t]},[]),this._hastToDeltaSpreaded=(e,t={trim:!0,pre:!1})=>{switch(void 0===t.trim&&(t.trim=!0),e.type){case"text":if(t.pre)return[{insert:e.value}];if(t.trim){let i=(0,fj.Z)(e.value,{trim:t.trim});if(i)return[{insert:i}];return[]}if(e.value)return[{insert:(0,fj.Z)(e.value)}];return[];case"element":switch(e.tagName){case"ol":case"ul":return[];case"span":return e.children.flatMap(e=>this._hastToDeltaSpreaded(e,t));case"strong":return e.children.flatMap(e=>this._hastToDeltaSpreaded(e,t).map(e=>(e.attributes={...e.attributes,bold:!0},e)));case"em":return e.children.flatMap(e=>this._hastToDeltaSpreaded(e,t).map(e=>(e.attributes={...e.attributes,italic:!0},e)));case"code":return e.children.flatMap(e=>this._hastToDeltaSpreaded(e,t).map(e=>(e.attributes={...e.attributes,code:!0},e)));case"del":return e.children.flatMap(e=>this._hastToDeltaSpreaded(e,t).map(e=>(e.attributes={...e.attributes,strike:!0},e)));case"u":return e.children.flatMap(e=>this._hastToDeltaSpreaded(e,t).map(e=>(e.attributes={...e.attributes,underline:!0},e)));case"a":{let i=e.properties?.href;if("string"!=typeof i)return[];return e.children.flatMap(e=>this._hastToDeltaSpreaded(e,t).map(e=>{if(t.pageMap){let s=t.pageMap.get(decodeURIComponent(i));if(s)return e.attributes={...e.attributes,reference:{type:"LinkedPage",pageId:s}},e.insert=" ",e}return i.startsWith("http")&&(e.attributes={...e.attributes,link:i}),e}))}case"mark":return e.children.flatMap(e=>this._hastToDeltaSpreaded(e,t).map(e=>(e.attributes={...e.attributes},e)))}}return"children"in e?e.children.flatMap(e=>this._hastToDeltaSpreaded(e,t)):[]},this._traverseNotionHtml=async(e,t,i,s)=>{let o=new v.PV;return o.setONodeTypeGuard(e=>"type"in e&&void 0!==e.type),o.setEnter(async(e,t)=>{if("element"===e.node.type)switch(e.node.tagName){case"header":t.skipAllChildren();break;case"img":{if(!i||t.getGlobalContext("hast:disableimg"))break;let s=e.node,o="string"==typeof s?.properties.src?s.properties.src:"";if(o){let e="";if(ea(o)){let t=await es(o,void 0,this.configs.get("imageProxy"));if(!t)break;let s=t.clone(),r=U(t.headers.get("Content-Disposition")??"")??o.split("/").at(-1)??"image."+(t.headers.get("Content-Type")?.split("/").at(-1)??"png"),a=new File([await t.blob()],r,{type:t.headers.get("Content-Type")??""});e=await (0,j.h)(await s.arrayBuffer()),i?.getAssets().set(e,a),await i?.writeToBlob(e)}else i.getAssets().forEach((t,s)=>{let r=(0,v.wm)(i.getAssets(),s);decodeURIComponent(o).includes(r)&&(e=s)});t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:image",props:{sourceId:e},children:[]},"children").closeNode(),t.skipAllChildren()}break}case"pre":{let i=f5(e.node,"code");if(!i)break;let s=1===i.children.length&&"text"===i.children[0].type?i.children[0]:{...i,tag:"div"};t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:code",props:{language:"Plain Text",text:{"$blocksuite:internal:text$":!0,delta:this._hastToDelta(s,{trim:!1,pre:!0})}},children:[]},"children").closeNode(),t.skipAllChildren();break}case"blockquote":t.setGlobalContext("hast:blockquote",!0),t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{type:"quote",text:{"$blocksuite:internal:text$":!0,delta:this._hastToDelta(fJ(e.node),{pageMap:s})}},children:[]},"children").closeNode();break;case"p":if(!e.node.properties.id)break;t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{type:t.getGlobalContext("hast:blockquote")?"quote":"text",text:{"$blocksuite:internal:text$":!0,delta:this._hastToDelta(e.node,{pageMap:s})}},children:[]},"children");break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{type:e.node.tagName,text:{"$blocksuite:internal:text$":!0,delta:this._hastToDelta(e.node,{pageMap:s})}},children:[]},"children").closeNode();break;case"ul":case"ol":t.setNodeContext("hast:list:type","bulleted"),"ol"===e.node.tagName?t.setNodeContext("hast:list:type","numbered"):Array.isArray(e.node.properties?.className)&&(e.node.properties.className.includes("to-do-list")?t.setNodeContext("hast:list:type","todo"):e.node.properties.className.includes("toggle")?t.setNodeContext("hast:list:type","toggle"):e.node.properties.className.includes("bulleted-list")&&t.setNodeContext("hast:list:type","bulleted"));break;case"li":{let i=fX(e.node)[0],o=t.getNodeContext("hast:list:type");t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:list",props:{type:o,text:{"$blocksuite:internal:text$":!0,delta:"toggle"!==o?this._hastToDelta(e.node,{pageMap:s}):this._hastToDelta(f5(e.node,"summary")??e.node,{pageMap:s})},checked:"todo"===o&&i&&Array.isArray(i.properties?.className)&&i.properties.className.includes("checkbox-on"),collapsed:"toggle"===o&&i&&"details"===i.tagName&&void 0===i.properties.open},children:[]},"children");break}case"hr":t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:divider",props:{},children:[]},"children").closeNode();break;case"figure":{if(f5(e.node,".link-to-page")||f5(e.node,".callout")){t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{type:"text",text:{"$blocksuite:internal:text$":!0,delta:this._hastToDelta(e.node,{pageMap:s})}},children:[]},"children").closeNode(),t.skipAllChildren();break}let o=f5(e.node,".bookmark");if(o){let e=o.properties?.href,i=fK(f5(o,".bookmark-title")),s=fK(f5(o,".bookmark-description")),r=f5(o,".bookmark-icon"),a="string"==typeof r?.properties?.src?r.properties.src:"";t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:bookmark",props:{type:"card",url:e??"",title:i,description:s,icon:a},children:[]},"children").closeNode(),t.skipAllChildren();break}if(!i)break;let r=f5(e.node,".image"),a="";if(r){let e=f5(r,"img");a="string"==typeof e?.properties.src?e.properties.src:""}if(a){let e="";if(ea(a)){let t=await es(a,void 0,this.configs.get("imageProxy"));if(!t)break;let s=t.clone(),o=U(t.headers.get("Content-Disposition")??"")??(a.split("/").at(-1)??"image")+"."+(t.headers.get("Content-Type")?.split("/").at(-1)??"png"),r=new File([await t.blob()],o,{type:t.headers.get("Content-Type")??""});e=await (0,j.h)(await s.arrayBuffer()),i?.getAssets().set(e,r),await i?.writeToBlob(e)}else i.getAssets().forEach((t,s)=>{let o=(0,v.wm)(i.getAssets(),s);decodeURIComponent(a).includes(o)&&(e=s)});t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:image",props:{sourceId:e},children:[]},"children").closeNode(),t.skipAllChildren();break}let n=f5(e.node,".source"),l="";if(n){let e=f5(n,"a");l="string"==typeof e?.properties.href?e.properties.href:""}if(l){let e="",s="",o="",r=0;if(ea(l)){let t=await fetch(l).catch(e=>(console.warn("Error fetching embed:",e),null));if(!t)break;let a=t.clone();s=U(t.headers.get("Content-Disposition")??"")??(l.split("/").at(-1)??"file")+"."+(t.headers.get("Content-Type")?.split("/").at(-1)??"blob");let n=new File([await t.blob()],s,{type:t.headers.get("Content-Type")??""});r=n.size,o=n.type,e=await (0,j.h)(await a.arrayBuffer()),i?.getAssets().set(e,n),await i?.writeToBlob(e)}else i.getAssets().forEach((t,a)=>{let n=(0,v.wm)(i.getAssets(),a);decodeURIComponent(l).includes(n)&&(e=a,s=n,r=t.size,o=t.type)});t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:attachment",props:{name:s,size:r,type:o,sourceId:e},children:[]},"children").closeNode(),t.skipAllChildren()}break}case"th":{let i=(0,v.Ak)(),s=f5(e.node,"svg")?.properties?.className,o=Array.isArray(s)?f8[s[0]]??"rich-text":"rich-text";t.pushGlobalContextStack("hast:table:column",{type:o,name:fK(fJ(e.node)),data:Object.create(null),id:i}),t.setGlobalContext("hast:disableimg",!0);break}case"tr":if(e.parent?.node.type==="element"&&"tbody"===e.parent.node.tagName){let i=t.getGlobalContextStack("hast:table:column"),o=Object.create(null),r=!1;fX(e.node).forEach((e,a)=>{if(r||void 0===i[a])r=!0,void 0===i[a]&&(i.push({type:"rich-text",name:"",data:Object.create(null),id:(0,v.Ak)()}),t.pushGlobalContextStack("hast:table:children",{type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{text:{"$blocksuite:internal:text$":!0,delta:this._hastToDelta(e)},type:"text"},children:[]})),t.pushGlobalContextStack("hast:table:children",{type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{text:{"$blocksuite:internal:text$":!0,delta:this._hastToDelta(e)},type:"text"},children:[]}),o[i[a].id]={columnId:i[a].id,value:fK(e)};else if(f5(e,".cell-title")){t.pushGlobalContextStack("hast:table:children",{type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{text:{"$blocksuite:internal:text$":!0,delta:this._hastToDelta(e,{pageMap:s})},type:"text"},children:[]}),i[a].type="title";return}let n=[];if(f5(e,".selected-value"))"options"in i[a].data||(i[a].data.options=[]),["multi-select","select"].includes(i[a].type)||(i[a].type="select"),"select"===i[a].type&&"element"===e.type&&e.children.length>1&&(i[a].type="multi-select"),"element"===e.type&&e.children.forEach(e=>{let t=i[a].data.options?.filter(t=>t.value===fK(e)),s=t?.length?t[0].id:(0,v.Ak)();t?.length||i[a].data.options?.push({id:s,value:fK(e),color:oC()}),n.push(s)}),o[i[a].id]={columnId:i[a].id,value:n};else if(f5(e,".checkbox"))"checkbox"!==i[a].type&&(i[a].type="checkbox"),o[i[a].id]={columnId:i[a].id,value:!!f5(e,".checkbox-on")};else if("number"===i[a].type){let t=fK(e),s=Number(t);Number.isNaN(s)?(i[a].type="rich-text",o[i[a].id]={columnId:i[a].id,value:en(t)}):o[i[a].id]={columnId:i[a].id,value:s}}else o[i[a].id]={columnId:i[a].id,value:fK(e)};"rich-text"!==i[a].type||el(o[i[a].id].value)||(o[i[a].id]={columnId:i[a].id,value:en(o[i[a].id].value)})}),t.setGlobalContextStack("hast:table:column",i),t.pushGlobalContextStack("hast:table:rows",o)}}}),o.setLeave((e,t)=>{if("element"===e.node.type)switch(e.node.tagName){case"div":e.parent?.node.type==="element"&&"li"!==e.parent.node.tagName&&Array.isArray(e.node.properties?.className)&&e.node.properties.className.includes("indented")&&t.closeNode();break;case"blockquote":t.setGlobalContext("hast:blockquote",!1);break;case"p":if(!e.node.properties.id||e.next?.type==="element"&&"div"===e.next.tagName&&Array.isArray(e.next.properties?.className)&&e.next.properties.className.includes("indented"))break;t.closeNode();break;case"li":t.closeNode();break;case"table":{let e=t.getGlobalContextStack("hast:table:column");t.setGlobalContextStack("hast:table:column",[]);let i=t.getGlobalContextStack("hast:table:children");t.setGlobalContextStack("hast:table:children",[]);let s=Object.create(null);t.getGlobalContextStack("hast:table:rows").map((t,o)=>{Object.keys(t).forEach(i=>{e.find(e=>e.id===i)?.type==="select"&&(t[i].value=t[i].value[0])}),s[i.at(o)?.id??(0,v.Ak)()]=t}),t.setGlobalContextStack("hast:table:cells",[]),t.openNode({type:"block",id:(0,v.Ak)(),flavour:"affine:database",props:{views:[{id:(0,v.Ak)(),name:"Table View",mode:"table",columns:[],filter:{type:"group",op:"and",conditions:[]},header:{titleColumn:e.find(e=>"title"===e.type)?.id??"",iconColumn:"type"}}],title:{"$blocksuite:internal:text$":!0,delta:[]},columns:e,cells:s},children:[]},"children"),i.forEach(e=>{t.openNode(e,"children").closeNode()}),t.closeNode();break}case"th":t.setGlobalContext("hast:disableimg",!1)}}),o.walk(e,t)}}_htmlToAst(e){return(0,N.l)().use(fV.A).parse(e)}fromBlockSnapshot(e){throw new u.Ss(p.O.TransformerNotImplementedError,"NotionHtmlAdapter.fromBlockSnapshot is not implemented")}fromDocSnapshot(e){throw new u.Ss(p.O.TransformerNotImplementedError,"NotionHtmlAdapter.fromDocSnapshot is not implemented")}fromSliceSnapshot(e){throw new u.Ss(p.O.TransformerNotImplementedError,"NotionHtmlAdapter.fromSliceSnapshot is not implemented")}toBlockSnapshot(e){let t=this._htmlToAst(e.file),i={type:"block",id:(0,v.Ak)(),flavour:"affine:note",props:{xywh:"[0,0,800,95]",background:"--affine-background-secondary-color",index:"a0",hidden:!1,displayMode:q.ko.DocAndEdgeless},children:[]};return this._traverseNotionHtml(t,i,e.assets,e.pageMap)}async toDoc(e){let t=await this.toDocSnapshot(e);return this.job.snapshotToDoc(t)}async toDocSnapshot(e){let t=this._htmlToAst(e.file),i=f5(t,"title"),s={type:"block",id:(0,v.Ak)(),flavour:"affine:note",props:{xywh:"[0,0,800,95]",background:"--affine-background-secondary-color",index:"a0",hidden:!1,displayMode:q.ko.DocAndEdgeless},children:[]};return{type:"page",meta:{id:e.pageId??(0,v.Ak)(),title:fK(i,"Untitled"),createDate:Date.now(),tags:[]},blocks:{type:"block",id:(0,v.Ak)(),flavour:"affine:page",props:{title:{"$blocksuite:internal:text$":!0,delta:this._hastToDelta(i??{type:"text",value:"Untitled"})}},children:[{type:"block",id:(0,v.Ak)(),flavour:"affine:surface",props:{elements:{}},children:[]},await this._traverseNotionHtml(t,s,e.assets,e.pageMap)]}}}async toSliceSnapshot(e){let t=this._htmlToAst(e.file),i={type:"block",id:(0,v.Ak)(),flavour:"affine:note",props:{xywh:"[0,0,800,95]",background:"--affine-background-secondary-color",index:"a0",hidden:!1,displayMode:q.ko.DocAndEdgeless},children:[]},s=await this._traverseNotionHtml(t,i,e.assets);return 0===s.children.length?null:{type:"slice",content:[s],pageVersion:e.pageVersion,workspaceVersion:e.workspaceVersion,workspaceId:e.workspaceId,pageId:e.pageId}}}class ge extends v.Dy{async _traverseSnapshot(e){let t="",i=new v.PV;return i.setONodeTypeGuard(e=>v.T1.safeParse(e).success),i.setEnter(e=>{let i=e.node.props.text??{delta:[]};switch(e.node.flavour){case"affine:code":t+=i.delta.map(e=>e.insert).join("")+"\n";break;case"affine:paragraph":t+=i.delta.map(e=>e.insert).join("")+"\n";break;case"affine:list":t+=i.delta.map(e=>e.insert).join("")+"\n";break;case"affine:divider":t+="---\n"}}),await i.walkONode(e),{plaintext:t}}async fromBlockSnapshot({snapshot:e}){let{plaintext:t}=await this._traverseSnapshot(e);return{file:t,assetsIds:[]}}async fromDocSnapshot({snapshot:e,assets:t}){let i="";e.meta.title&&(i+=`${e.meta.title}

`);let{file:s,assetsIds:o}=await this.fromBlockSnapshot({snapshot:e.blocks,assets:t});return{file:i+=s,assetsIds:o}}async fromSliceSnapshot({snapshot:e}){let t="";for(let i of e.content){let{plaintext:e}=await this._traverseSnapshot(i);t+=e}return{file:t.match(/\n/g)?.length===1?t.trimEnd():t,assetsIds:[]}}toBlockSnapshot(e){return e.file=e.file.replaceAll("\r",""),{type:"block",id:(0,v.Ak)(),flavour:"affine:note",props:{xywh:"[0,0,800,95]",background:"--affine-background-secondary-color",index:"a0",hidden:!1,displayMode:q.ko.DocAndEdgeless},children:e.file.split("\n").map(e=>({type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{type:"text",text:{"$blocksuite:internal:text$":!0,delta:[{insert:e}]}},children:[]}))}}toDocSnapshot(e){return e.file=e.file.replaceAll("\r",""),{type:"page",meta:{id:(0,v.Ak)(),title:"Untitled",createDate:Date.now(),tags:[]},blocks:{type:"block",id:(0,v.Ak)(),flavour:"affine:page",props:{title:{"$blocksuite:internal:text$":!0,delta:[{insert:"Untitled"}]}},children:[{type:"block",id:(0,v.Ak)(),flavour:"affine:surface",props:{elements:{}},children:[]},{type:"block",id:(0,v.Ak)(),flavour:"affine:note",props:{xywh:"[0,0,800,95]",background:"--affine-background-secondary-color",index:"a0",hidden:!1,displayMode:q.ko.DocAndEdgeless},children:e.file.split("\n").map(e=>({type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{type:"text",text:{"$blocksuite:internal:text$":!0,delta:[{insert:e}]}},children:[]}))}]}}}toSliceSnapshot(e){return 0===e.file.trim().length?null:(e.file=e.file.replaceAll("\r",""),{type:"slice",content:[{type:"block",id:(0,v.Ak)(),flavour:"affine:note",props:{xywh:"[0,0,800,95]",background:"--affine-background-secondary-color",index:"a0",hidden:!1,displayMode:q.ko.DocAndEdgeless},children:e.file.split("\n").map(e=>({type:"block",id:(0,v.Ak)(),flavour:"affine:paragraph",props:{type:"text",text:{"$blocksuite:internal:text$":!0,delta:[{insert:e}]}},children:[]}))}],pageVersion:e.pageVersion,workspaceVersion:e.workspaceVersion,workspaceId:e.workspaceId,pageId:e.pageId})}}let gt=({slots:e,collection:t})=>{let i=new Map;e.afterImport.on(e=>{if("block"===e.type&&"affine:database"===e.snapshot.flavour){let t=e.model;Object.keys(t.cells).forEach(e=>{i.has(e)&&(t.cells[i.get(e)]=t.cells[e],delete t.cells[e])})}if("block"===e.type&&["affine:list","affine:paragraph"].includes(e.snapshot.flavour)){let t=e.model,s=0,o=[];for(let e of t.text.toDelta())if(e.attributes?.reference?.pageId){let t=i.get(e.attributes.reference.pageId);if(!t){s+=e.insert?.length??0;continue}s>0&&o.push({retain:s}),o.push({retain:e.insert?.length??0,attributes:{reference:{...e.attributes.reference,pageId:t}}}),s=0}else s+=e.insert?.length??0;o.length>0&&t.text.applyDelta(o)}if("block"===e.type&&"affine:surface-ref"===e.snapshot.flavour){let t=e.model,s=t.reference;i.has(s)&&(t.reference=i.get(s))}if("block"===e.type&&"affine:embed-linked-doc"===e.snapshot.flavour){let s=e.model,o=s.pageId;if(i.has(o))s.pageId=i.get(o);else{let e=t.idGenerator();i.set(o,e),s.pageId=e}}if("block"===e.type&&"affine:embed-synced-doc"===e.snapshot.flavour){let s=e.model,o=s.pageId;if(i.has(o))s.pageId=i.get(o);else{let e=t.idGenerator();i.set(o,e),s.pageId=e}}}),e.beforeImport.on(e=>{if("page"===e.type){if(i.has(e.snapshot.meta.id)){e.snapshot.meta.id=i.get(e.snapshot.meta.id);return}let s=t.idGenerator();i.set(e.snapshot.meta.id,s),e.snapshot.meta.id=s;return}if("block"===e.type){let s;let{snapshot:o}=e;if("affine:page"===o.flavour){let e=o.children.findIndex(e=>"affine:surface"===e.flavour);if(-1!==e){let[t]=o.children.splice(e,1);o.children.push(t)}}let r=o.id;i.has(r)?s=i.get(r):(s=t.idGenerator(),i.set(r,s)),o.id=s,"affine:surface"===o.flavour&&(o.children.forEach(e=>{let o=e.id;i.has(o)?s=i.get(o):(s=t.idGenerator(),i.set(o,s))}),Object.entries(o.props.elements).forEach(([e,t])=>{switch(t.type){case"connector":{let e=t.source;if(i.has(e.id)){let t=i.get(e.id);(0,V.Z1)(t,"reference id must exist"),e.id=t}if(e=t.target,i.has(e.id)){let t=i.get(e.id);(0,V.Z1)(t,"reference id must exist"),e.id=t}break}case"group":{let e=t.children.json;Object.entries(e).forEach(([t,s])=>{if(i.has(t)){delete e[t];let o=i.get(t);(0,V.Z1)(o,"reference id must exist"),e[o]=s}})}}}))}})},gi=e=>({adapterConfigs:t})=>{t.set("imageProxy",e)},gs=({slots:e,collection:t,adapterConfigs:i})=>{e.beforeExport.on(()=>{for(let e of t.meta.docMetas)i.set("title:"+e.id,e.title)})},go=(()=>{let e=gi(fA.$R);return{get:()=>e,set:t=>{e=gi(t)}}})(),gr=go.set,ga=go.get(),gn=e=>({adapterConfigs:t})=>{t.set("embedSyncedDocExportType",e)},gl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gc="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<gl.length;e++)gc[gl.charCodeAt(e)]=e;let gd=e=>{let t=new Uint8Array(e),i=t.length,s,o="";for(s=0;s<i;s+=3)o+=gl[t[s]>>2]+gl[(3&t[s])<<4|t[s+1]>>4]+gl[(15&t[s+1])<<2|t[s+2]>>6]+gl[63&t[s+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},gh=e=>{let t=e.length,i=.75*e.length,s,o=0,r,a,n,l;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);let c=new ArrayBuffer(i),d=new Uint8Array(c);for(s=0;s<t;s+=4)r=gc[e.charCodeAt(s)],a=gc[e.charCodeAt(s+1)],n=gc[e.charCodeAt(s+2)],l=gc[e.charCodeAt(s+3)],d[o++]=r<<2|a>>4,d[o++]=(15&a)<<4|n>>2,d[o++]=(3&n)<<6|63&l;return c};async function gu(e){let t={},i=0;return await Promise.all(Array.from(e.entries()).map(async([e,s])=>{if(s.size>4194304){let e=document.querySelector("editor-host");if(!e)return;l8(e,s.name??"File is too large to be copied");return}if((i+=s.size)>6291456){let e=document.querySelector("editor-host");if(!e)return;l8(e,s.name??"File cannot be copied due to the clipboard size limit");return}let o=gd(await s.arrayBuffer()),r={name:s.name,type:s.type,content:o};t[e]=r})),t}function gp(e,t){Object.entries(e).forEach(([e,i])=>{let s=new File([new Blob([gh(i.content)])],i.name,{type:i.type});(0,V.Z1)(t),t.set(e,s)})}class gf extends v.Dy{static{this.MIME="BLOCKSUITE/SNAPSHOT"}fromBlockSnapshot(e){throw new u.Ss(p.O.TransformerNotImplementedError,"ClipboardAdapter.fromBlockSnapshot is not implemented")}fromDocSnapshot(e){throw new u.Ss(p.O.TransformerNotImplementedError,"ClipboardAdapter.fromDocSnapshot is not implemented")}async fromSliceSnapshot(e){let t=e.snapshot,i=e.assets;(0,V.Z1)(i);let s=i.getAssets();return{file:JSON.stringify({snapshot:t,blobs:await gu(s)}),assetsIds:[]}}toBlockSnapshot(e){throw new u.Ss(p.O.TransformerNotImplementedError,"ClipboardAdapter.toBlockSnapshot is not implemented")}toDocSnapshot(e){throw new u.Ss(p.O.TransformerNotImplementedError,"ClipboardAdapter.toDocSnapshot is not implemented")}toSliceSnapshot(e){let{blobs:t,snapshot:i}=JSON.parse(e.file);return gp(t,e.assets?.getAssets()),Promise.resolve(i)}}let gg=(e,t,i)=>{let{index:s,length:o}=e;if((0,st.op)(i,["affine:page"])){if(0===o)return;t.props.title.delta=i.title.sliceToDelta(s,o+s);return}t.props.text&&0!==o&&(t.props.text.delta=i.text?.sliceToDelta(s,o+s))},gm=(e,t)=>{e.afterExport.on(e=>{if("block"===e.type){let i=e.snapshot,s=e.model,o=t.selection.find("text");if(o&&o.from.blockId===s.id){gg(o.from,i,s);return}if(o&&o.to&&o.to.blockId===s.id){gg(o.to,i,s);return}}})},gv=e=>({slots:t})=>{gm(t,e)},gy=e=>(function(e,t){let i=null;return e.forEach(function e(s){if(t(s)&&(i=s),s.children)for(let t of s.children)e(t)}),i})(e.content,e=>!!e.props.text);class gb{constructor(e,t){this.std=e,this.point=t,this._blockFromPath=e=>{let t=this.std.view.getBlock(e);return(0,V.Z1)(t),t},this.block=this._blockFromPath(t.blockId),this.model=this.block.model;let i=this.model.text;(0,V.Z1)(i),this.text=i}}class gw{constructor(e,t,i){this.std=e,this.text=t,this.snapshot=i,this._getDeltas=()=>{let e=this._textFromSnapshot(this.firstSnapshot),t=this._textFromSnapshot(this.lastSnapshot),i=this.fromPointState.text.sliceToDelta(0,this.fromPointState.point.index),s=this.endPointState.text.sliceToDelta(this.endPointState.point.index+this.endPointState.point.length,this.endPointState.text.length),o=e.delta,r=t.delta;return{firstTextSnapshot:e,lastTextSnapshot:t,fromDelta:i,toDelta:s,firstDelta:o,lastDelta:r}},this._mergeCode=()=>{let{toDelta:e}=this._getDeltas(),t=[{retain:this.fromPointState.point.index},this.fromPointState.text.length-this.fromPointState.point.index?{delete:this.fromPointState.text.length-this.fromPointState.point.index}:{}],i=0;for(let e of this.snapshot.content)if(e.props.text){let s=this._textFromSnapshot(e);i>0&&t.push({insert:"\n"}),t.push(...s.delta),i++}else break;this.fromPointState.text.applyDelta(t.concat(e)),this.snapshot.content=[]},this._mergeMultiple=()=>{this.firstSnapshot.flavour=this.fromPointState.model.flavour,this.firstSnapshot.props.type&&(this.fromPointState.text.length>0||this.firstSnapshotIsPlainText)&&(this.firstSnapshot.props.type=this.fromPointState.model.type),this.lastSnapshot.props.type&&this.to&&(this.lastSnapshot.flavour=this.endPointState.model.flavour,this.lastSnapshot.props.type=this.endPointState.model.type);let{lastTextSnapshot:e,toDelta:t,firstDelta:i,lastDelta:s}=this._getDeltas();this.fromPointState.text.applyDelta([{retain:this.fromPointState.point.index},this.fromPointState.text.length-this.fromPointState.point.index?{delete:this.fromPointState.text.length-this.fromPointState.point.index}:{},...i]);let o=this.snapshot.content.shift();o?.children.map(e=>{this.snapshot.content.unshift(e)}),this.pasteStartModelChildrenCount=o?.children.length??0,this._updateSnapshot(),e.delta=[...s,...t]},this._mergeSingle=()=>{let{firstDelta:e}=this._getDeltas();this.fromPointState.text.applyDelta([{retain:this.fromPointState.point.index},this.fromPointState.point.length?{delete:this.fromPointState.point.length}:{},...e]),this.snapshot.content.splice(0,1),this._updateSnapshot()},this._textFromSnapshot=e=>e.props.text??{delta:[]},this._updateSnapshot=()=>{if(0===this.snapshot.content.length){this.firstSnapshot=this.lastSnapshot=void 0;return}this.firstSnapshot=this.snapshot.content[0],this.lastSnapshot=gy(this.snapshot)??this.firstSnapshot},this.pasteStartModel=null,this.pasteStartModelChildrenCount=0,this.canMerge=()=>{if(0===this.snapshot.content.length||!this.firstSnapshot.props.text)return!1;let e=this._textFromSnapshot(this.firstSnapshot),t=this._textFromSnapshot(this.lastSnapshot);return e&&t&&(this.fromPointState.text.length>0&&this.endPointState.text.length>0||this.firstSnapshotIsPlainText)},this.convertToLinkedDoc=async()=>{let e=this.std.spec.getService("affine:page").quickSearchService;if(!e)return;let t=new Map;for(let i of this.snapshot.content)if(i.props.text){let[s,o]=await this._transformLinkDelta(this._textFromSnapshot(i).delta,t,e),r=this.std.doc.getBlockById(i.id);o&&r&&(this.std.doc.captureSync(),this.std.doc.transact(()=>{let e=r.text;e.clear(),e.applyDelta(s)}))}let i=this.fromPointState.model.text;if(!i)return;let[s,o]=await this._transformLinkDelta(i.toDelta(),t,e);o&&(this.std.doc.captureSync(),this.std.doc.transact(()=>{i.clear(),i.applyDelta(s)}))},this.focusPasted=()=>{let e=this.std.host,t="affine:code"!==this.fromPointState.model.flavour&&this.lastSnapshot?this.std.doc.getBlock(this.lastSnapshot.id):this.std.doc.getBlock(this.fromPointState.model.id);(0,V.Z1)(t);let{model:i}=t;e.updateComplete.then(()=>{let t=this.std.host.querySelector(`[${e.blockIdAttr}="${i.id}"]`);if(!t)return;if(!i.text){if((0,st.op)(i,["affine:image"])){let e=this.std.selection.create("image",{blockId:t.blockId});this.std.selection.setGroup("note",[e]);return}let e=this.std.selection.create("block",{blockId:t.blockId});this.std.selection.setGroup("note",[e]);return}let s=this.std.selection.create("text",{from:{blockId:t.blockId,index:i.text?this.lastIndex:0,length:0},to:null});this.std.selection.setGroup("note",[s])}).catch(console.error)},this.pasted=()=>{if(this.canMerge()||0===this.endPointState.text.length){if(this.to){for(let e of this.std.command.exec("getSelectedModels",{types:["text"]}).selectedModels??[])[this.endPointState.model.id,this.fromPointState.model.id].includes(e.id)||this.snapshot.content.map(e=>e.id).includes(e.id)||this.std.doc.deleteBlock(e);this.std.doc.deleteBlock(this.endPointState.model,this.pasteStartModel?{bringChildrenTo:this.pasteStartModel}:void 0)}if(this.lastSnapshot){let e=this.std.doc.getBlock(this.lastSnapshot.id);(0,V.Z1)(e);let{model:t}=e;this.std.doc.moveBlocks(this.fromPointState.model.children,t)}this.std.doc.moveBlocks(this.std.doc.getNexts(this.fromPointState.model.id).slice(0,this.pasteStartModelChildrenCount),this.fromPointState.model),this.firstSnapshotIsPlainText||0!=this.fromPointState.text.length||this.std.doc.deleteBlock(this.fromPointState.model)}};let{from:s,to:o}=t,r=o??s;if(this.to=o,this.fromPointState=new gb(e,s),this.endPointState=new gb(e,r),this.firstSnapshot=i.content[0],this.lastSnapshot=gy(i)??this.firstSnapshot,this.firstSnapshot!==this.lastSnapshot&&this.lastSnapshot.props.text){let e=(0,v.rS)(this.lastSnapshot.props.text);new v.rl.Y.Doc().getMap("temp").set("text",e.yText),this.lastIndex=e.length}else this.lastIndex=this.fromPointState.point.index+this.snapshot.content.map(e=>this._textFromSnapshot(e).delta.map(e=>e.insert?e.insert.length:e.delete?-e.delete:0).reduce((e,t)=>e+t,0)).reduce((e,t)=>e+t+1,-1);this.firstSnapshotIsPlainText="affine:paragraph"===this.firstSnapshot.flavour&&"text"===this.firstSnapshot.props.type}async _transformLinkDelta(e,t,i){let s=!1,o=new Map;for(let s of e)if(s.attributes?.link){let e=t.get(s.attributes.link);if(void 0===e){let o=await i.searchDoc({userInput:s.attributes.link,skipSelection:!0,action:"insert"});if(o&&"docId"in o){let i=this.std.collection.getDoc(o.docId);i&&(e=i.id,t.set(s.attributes.link,i.id))}}e&&o.set(s,e)}return[e.map(e=>o.has(e)?(this.std.spec.getService("affine:page").telemetryService?.track("LinkedDocCreated",{page:"doc editor",category:"pasted link",type:"doc",other:"existing doc"}),s=!0,{...e,attributes:{reference:{pageId:o.get(e),type:"LinkedPage"}},insert:" "}):{...e}),s]}merge(){if("affine:code"===this.fromPointState.model.flavour&&!this.to){this._mergeCode();return}if(this.firstSnapshot===this.lastSnapshot){this._mergeSingle();return}this._mergeMultiple()}}let gx=e=>({slots:t})=>{let i;t.beforeImport.on(t=>{if("slice"===t.type){let{snapshot:s}=t;!function(e){e.content[0]?.flavour==="affine:note"&&(e.content=e.content[0].children)}(s);let o=e.selection.find("text");o&&(i=new gw(e,o,t.snapshot)).canMerge()&&i.merge()}}),t.afterImport.on(t=>{if(i&&"slice"===t.type){for(let t of e.command.exec("getSelectedModels",{types:["block"]}).selectedModels??[])e.doc.deleteBlock(t);i.pasted(),i.focusPasted(),i.convertToLinkedDoc().catch(console.error)}})};class g_{constructor(e){this._copySelected=e=>this._std.command.chain().with({onCopy:e}).getSelectedModels().draftSelectedModels().copySelectedModels(),this._disposables=new ix.K,this._init=()=>{this._std.clipboard.registerAdapter(gf.MIME,gf,100),this._std.clipboard.registerAdapter("text/html",f3,90),["image/apng","image/avif","image/gif","image/jpeg","image/png","image/svg+xml","image/webp"].map(e=>this._std.clipboard.registerAdapter(e,f4,80)),this._std.clipboard.registerAdapter("text/plain",f6,70),this._std.clipboard.registerAdapter("*/*",fZ,60);let e=gv(this._std),t=gx(this._std);this._std.clipboard.use(e),this._std.clipboard.use(t),this._std.clipboard.use(gt),this._std.clipboard.use(gs),this._std.clipboard.use(ga),this._disposables.add({dispose:()=>{this._std.clipboard.unregisterAdapter(gf.MIME),this._std.clipboard.unregisterAdapter("text/plain"),["image/apng","image/avif","image/gif","image/jpeg","image/png","image/svg+xml","image/webp"].map(e=>this._std.clipboard.unregisterAdapter(e)),this._std.clipboard.unregisterAdapter("text/html"),this._std.clipboard.unregisterAdapter("*/*"),this._std.clipboard.unuse(e),this._std.clipboard.unuse(t),this._std.clipboard.unuse(gt),this._std.clipboard.unuse(gs),this._std.clipboard.unuse(ga)}})},this.onBlockSnapshotPaste=async(e,t,i,s)=>{let o=await this._std.clipboard.pasteBlockSnapshot(e,t,i,s);return o?.id??null},this.onPageCopy=e=>{e.get("clipboardState").raw.preventDefault(),this._copySelected().run()},this.onPageCut=e=>{e.get("clipboardState").raw.preventDefault(),this._copySelected(()=>{this._std.command.chain().try(e=>[e.getTextSelection().deleteText(),e.getSelectedModels().deleteSelectedModels()]).run()}).run()},this.onPagePaste=e=>{let t=e.get("clipboardState").raw;t.preventDefault(),this._std.doc.captureSync(),this._std.command.chain().try(e=>[e.getTextSelection().inline((e,t)=>{let i=e.currentTextSelection;i&&t({currentSelectionPath:(i.to??i.from).blockId})}),e.getBlockSelections().inline((e,t)=>{let i=e.currentBlockSelections;if(!i)return;let s=i.at(-1);s&&t({currentSelectionPath:s.blockId})}),e.getImageSelections().inline((e,t)=>{let i=e.currentImageSelections;if(!i)return;let s=i.at(-1);s&&t({currentSelectionPath:s.blockId})})]).getBlockIndex().inline((e,i)=>((0,V.Z1)(e.parentBlock),this._std.clipboard.paste(t,this._std.doc,e.parentBlock.model.id,e.blockIndex?e.blockIndex+1:1).catch(console.error),i())).run()},this.host=e}get _std(){return this.host.std}hostConnected(){this._disposables.disposed&&(this._disposables=new ix.K),this.host.handleEvent("copy",this.onPageCopy),this.host.handleEvent("paste",this.onPagePaste),this.host.handleEvent("cut",this.onPageCut),this._init()}hostDisconnected(){this._disposables.dispose()}}var gC=i(19860);function gk(e,t,i,s){let o=e=>t=>{if(t.stopPropagation(),1===t.buttons||!i)return;let{clientX:s,clientY:o}=t;i(!0,{type:e,point:[s,o],target:t.target})},a=e=>{e.stopPropagation(),1!==e.buttons&&i&&i(!1)},n=e===r.Top||e===r.Bottom||e===r.Left||e===r.Right?H.s6:(0,H.qy)`<div
          class="rotate"
          @pointerover=${o("rotate")}
          @pointerout=${a}
        ></div>`;return(0,H.qy)`<div
    class="handle"
    aria-label=${e}
    @pointerdown=${i=>{i.stopPropagation(),t&&t(i,e)}}
  >
    ${n}
    <div
      class="resize${s&&" transparent-handle"}"
      @pointerover=${o("resize")}
      @pointerout=${a}
    ></div>
  </div>`}!function(e){e.Bottom="bottom",e.BottomLeft="bottom-left",e.BottomRight="bottom-right",e.Left="left",e.Right="right",e.Top="top",e.TopLeft="top-left",e.TopRight="top-right"}(r||(r={}));var gS=i(84549);function gM(e,t){let i=e.getParentNode(t.id);if(!i)return;let s=`#${i.id}-${t.id}`,o=e.connectors.get(s);if(o)return o.opacity=0,()=>{o.opacity=1}}var gE=i(18513);function gI(e){return 0===e.length?new m.z:e.reduce((e,t)=>t instanceof k.$b?e:e.unite(t.elementBound),e[0].elementBound)}function gB(e){let t=new Set;return e.forEach(e=>{e instanceof M.$?e.descendants().forEach(e=>t.add(e)):t.add(e)}),Array.from(t)}function g$(e){return!!e&&"flavour"in e}function gT(e){return!!e&&"flavour"in e&&"affine:note"===e.flavour}function gO(e){return!!e&&"flavour"in e&&"affine:edgeless-text"===e.flavour}function gP(e){return!!e&&"flavour"in e&&"affine:frame"===e.flavour}function gA(e){return!!e&&"flavour"in e&&"affine:image"===e.flavour}function gH(e){return!!e&&"flavour"in e&&"affine:attachment"===e.flavour}function gL(e){return!!e&&"flavour"in e&&"affine:bookmark"===e.flavour}function gD(e){return!!e&&"flavour"in e&&/affine:embed-*/.test(e.flavour)}function gZ(e){return gD(e)&&!gR(e)&&!gV(e)}function gj(e){return!!e&&"flavour"in e&&"affine:embed-github"===e.flavour}function gV(e){return!!e&&"flavour"in e&&"affine:embed-linked-doc"===e.flavour}function gR(e){return!!e&&"flavour"in e&&"affine:embed-synced-doc"===e.flavour}function gz(e){return!!e&&"flavour"in e&&"affine:embed-html"===e.flavour}function gF(e){return!g$(e)}function gN(e){return e instanceof B.n||e instanceof b.B5}function gq(e){return!!e&&e.connectable}function gU(e,t){let i=e<.5?2:1/(Math.floor(e)||1);return{gap:(0,iH.qE)(20*i*e,C.P1,C.TA),grid:t?"radial-gradient(var(--affine-edgeless-grid-color) 1px, var(--affine-background-primary-color) 1px)":"unset"}}function gW(e){if(0===e.length)return new DOMRect;if(1===e.length){let[t,i,s,o]=(0,f.W)(e[0].xywh);return new DOMRect(t,i,s,o)}return gB(e).reduce((e,t,i)=>{let s=g$(t)?0:t.rotate,[o,r,a,n]=(0,f.W)(t.xywh),{left:l,top:c,right:d,bottom:h}=(0,iH.R$)({x:o,y:r,w:a,h:n,rotate:s});return 0!==i&&(l=Math.min(l,e.left),c=Math.min(c,e.top),d=Math.max(d,e.right),h=Math.max(h,e.bottom)),e.x=l,e.y=c,e.width=d-l,e.height=h-c,e},new DOMRect)}function gG(e,t){let i=new Set;return e.forEach(e=>{i.add(e),gP(e)?t.getElementsInFrame(e).forEach(e=>i.add(e)):e instanceof k.$b&&gG(e.childElements,t).forEach(e=>i.add(e))}),Array.from(i)}async function gY(e,t){let i=new v._O({collection:t.collection});return(await Promise.all(e.map(async t=>await gK(t,e,i)))).filter(e=>!!e)}async function gK(e,t,i){if(e instanceof iE.y){let t=await i.blockToSnapshot(e);if(!t)return;return{...t}}return e instanceof S.lw?function(e,t){let i=e.source?.id,s=e.target?.id,o=e.serialize();return i&&t.every(e=>e.id!==i)&&(o.source={position:e.absolutePath[0]}),s&&t.every(e=>e.id!==s)&&(o.target={position:e.absolutePath[e.absolutePath.length-1]}),o}(e,t):e.serialize()}var gX=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},gQ=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};class gJ extends Event{constructor(e,{detail:t,composed:i,bubbles:s}){super(e,{bubbles:s,composed:i}),this.detail=t}}let g1=["--affine-palette-line-yellow","--affine-palette-line-orange","--affine-palette-line-red","--affine-palette-line-magenta","--affine-palette-line-purple","--affine-palette-line-blue","--affine-palette-line-teal","--affine-palette-line-green","--affine-palette-line-black","--affine-palette-line-grey","--affine-palette-line-white"],g0=(0,st.xK)(g1),g2=()=>"dark"===im.Q.mode?g1[10]:g1[8],g5=()=>g1[5],g7=g1[5],g3=g1[9];function g4(e){return e.toLowerCase().endsWith("transparent")}function g6(e){return["--affine-note-background-black","--affine-note-background-white","--affine-palette-line-black","--affine-palette-line-white","--affine-palette-shape-black","--affine-palette-shape-white"].includes(e.toLowerCase())}function g8(e,t){return g4(e)?function(e=!1){let t=e?(0,H.qy)`<div style=${(0,Z.W)({position:"absolute",width:"10px",height:"10px",left:"3px",top:"3.5px",borderRadius:"50%",background:"var(--affine-background-overlay-panel-color)"})}></div>`:H.s6;return(0,H.qy)`
    <div style=${(0,Z.W)({position:"relative",width:"16px",height:"16px",stroke:"none"})}>${eN} ${t}</div>
  `}(t):t?function(e){let t=e.startsWith("--"),i=t&&g6(e)?1:0,s={fill:t?`var(${e})`:e,stroke:"var(--affine-border-color)"};return(0,H.qy)`
    <svg
      width="16"
      height="16"
      viewBox="0 0 16 16"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M12.3125 8C12.3125 10.3817 10.3817 12.3125 8 12.3125C5.61827 12.3125 3.6875 10.3817 3.6875 8C3.6875 5.61827 5.61827 3.6875 8 3.6875C10.3817 3.6875 12.3125 5.61827 12.3125 8ZM8 15.5C12.1421 15.5 15.5 12.1421 15.5 8C15.5 3.85786 12.1421 0.5 8 0.5C3.85786 0.5 0.5 3.85786 0.5 8C0.5 12.1421 3.85786 15.5 8 15.5Z"
        stroke-width="${i}"
        style=${(0,Z.W)(s)}
      />
    </svg>
  `}(e):H.s6}function g9(e,{hollowCircle:t,letter:i}={}){let s=g8(e,!!t),o=t||g4(e)?{}:{background:`var(${e})`},r={width:"16px",height:"16px",borderRadius:"50%",boxSizing:"border-box",overflow:"hidden",...g6(e)&&!t?{border:"0.5px solid var(--affine-border-color)"}:{},...o};return(0,H.qy)`
    <div
      class="color-unit"
      style=${(0,Z.W)(r)}
      aria-label=${e.toLowerCase()}
      data-letter=${i?"A":""}
    >
      ${s}
    </div>
  `}(()=>{let e,t,i,s,o,r=[(0,L.EM)("edgeless-color-button")],a=[],n=H.WF,l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],gX(this,null,i,{kind:"accessor",name:"color",static:!1,private:!1,access:{has:e=>"color"in e,get:e=>e.color,set:(e,t)=>{e.color=t}},metadata:f},l,c),gX(this,null,s,{kind:"accessor",name:"hollowCircle",static:!1,private:!1,access:{has:e=>"hollowCircle"in e,get:e=>e.hollowCircle,set:(e,t)=>{e.hollowCircle=t}},metadata:f},d,h),gX(this,null,o,{kind:"accessor",name:"letter",static:!1,private:!1,access:{has:e=>"letter"in e,get:e=>e.letter,set:(e,t)=>{e.letter=t}},metadata:f},u,p),gX(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 20px;
      height: 20px;
    }

    .color-unit {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      box-sizing: border-box;
      overflow: hidden;
    }
  `}render(){let{color:e,hollowCircle:t,letter:i}=this,s=g8(e,!!t),o={};return!t&&(o.background=this.preprocessColor,g6(e)&&(o.border="0.5px solid var(--affine-border-color)")),(0,H.qy)`<div
      class="color-unit"
      aria-label=${e.toLowerCase()}
      data-letter=${i?"A":H.s6}
      style=${(0,Z.W)(o)}
    >
      ${s}
    </div>`}get preprocessColor(){let e=this.color;return e.startsWith("--")?`var(${e})`:e}#iw=gQ(this,l,void 0);get color(){return this.#iw}set color(e){this.#iw=e}#ix=(gQ(this,c),gQ(this,d,void 0));get hollowCircle(){return this.#ix}set hollowCircle(e){this.#ix=e}#i_=(gQ(this,h),gQ(this,u,void 0));get letter(){return this.#i_}set letter(e){this.#i_=e}constructor(){super(...arguments),gQ(this,p)}static{gQ(t,a)}})})();let me=(0,H.AH)`
  .color-container {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    box-sizing: border-box;
    overflow: hidden;
    cursor: pointer;
    padding: 2px;
  }

  .color-unit::before {
    content: attr(data-letter);
    display: block;
    font-size: 12px;
  }

  .color-container[active]:after {
    position: absolute;
    width: 20px;
    height: 20px;
    border: 0.5px solid var(--affine-primary-color);
    border-radius: 50%;
    box-sizing: border-box;
    content: attr(data-letter);
  }
`,mt=(()=>{let e,t,i,s,o,r,a,n,l=[(0,L.EM)("edgeless-color-panel")],c=[],d=H.WF,h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[];return class extends d{static{t=this}static{let C="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)()],r=[(0,L.MZ)({type:Array})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],gX(this,null,i,{kind:"accessor",name:"hasTransparent",static:!1,private:!1,access:{has:e=>"hasTransparent"in e,get:e=>e.hasTransparent,set:(e,t)=>{e.hasTransparent=t}},metadata:C},h,u),gX(this,null,s,{kind:"accessor",name:"hollowCircle",static:!1,private:!1,access:{has:e=>"hollowCircle"in e,get:e=>e.hollowCircle,set:(e,t)=>{e.hollowCircle=t}},metadata:C},p,f),gX(this,null,o,{kind:"accessor",name:"openColorPicker",static:!1,private:!1,access:{has:e=>"openColorPicker"in e,get:e=>e.openColorPicker,set:(e,t)=>{e.openColorPicker=t}},metadata:C},g,m),gX(this,null,r,{kind:"accessor",name:"options",static:!1,private:!1,access:{has:e=>"options"in e,get:e=>e.options,set:(e,t)=>{e.options=t}},metadata:C},v,y),gX(this,null,a,{kind:"accessor",name:"showLetterMark",static:!1,private:!1,access:{has:e=>"showLetterMark"in e,get:e=>e.showLetterMark,set:(e,t)=>{e.showLetterMark=t}},metadata:C},b,w),gX(this,null,n,{kind:"accessor",name:"value",static:!1,private:!1,access:{has:e=>"value"in e,get:e=>e.value,set:(e,t)=>{e.value=t}},metadata:C},x,_),gX(null,e={value:t},l,{kind:"class",name:t.name,metadata:C},null,c),t=e.value,C&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
      width: 184px;
      gap: 8px;
    }

    ${me}
  `}onSelect(e){this.dispatchEvent(new gJ("select",{detail:e,composed:!0,bubbles:!0})),this.value=e}render(){return(0,H.qy)`
      ${(0,D.u)(this.palettes,e=>e,e=>{let t=g9(e,{hollowCircle:this.hollowCircle,letter:this.showLetterMark});return(0,H.qy)`
            <div
              class="color-container"
              ?active=${e===this.value}
              @click=${()=>this.onSelect(e)}
            >
              ${t}
            </div>
          `})}
      </div>
      <slot name="custom"></slot>
    `}get palettes(){return this.hasTransparent?["--affine-palette-transparent",...this.options]:this.options}#iC=gQ(this,h,!0);get hasTransparent(){return this.#iC}set hasTransparent(e){this.#iC=e}#ix=(gQ(this,u),gQ(this,p,!1));get hollowCircle(){return this.#ix}set hollowCircle(e){this.#ix=e}#ik=(gQ(this,f),gQ(this,g,void 0));get openColorPicker(){return this.#ik}set openColorPicker(e){this.#ik=e}#ez=(gQ(this,m),gQ(this,v,g1));get options(){return this.#ez}set options(e){this.#ez=e}#iS=(gQ(this,y),gQ(this,b,!1));get showLetterMark(){return this.#iS}set showLetterMark(e){this.#iS=e}#ey=(gQ(this,w),gQ(this,x,null));get value(){return this.#ey}set value(e){this.#ey=e}constructor(){super(...arguments),gQ(this,_)}static{gQ(t,c)}},t})();(()=>{let e,t,i=[(0,L.EM)("edgeless-text-color-icon")],s=[],o=H.WF,r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;gX(this,null,[(0,L.MZ)({attribute:!1})],{kind:"accessor",name:"color",static:!1,private:!1,access:{has:e=>"color"in e,get:e=>e.color,set:(e,t)=>{e.color=t}},metadata:n},r,a),gX(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 20px;
      height: 20px;
    }
  `}render(){return(0,H.qy)`
      <svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          fill="currentColor"
          d="M8.71093 3.85123C8.91241 3.31395 9.42603 2.95801 9.99984 2.95801C10.5737 2.95801 11.0873 3.31395 11.2888 3.85123L14.7517 13.0858C14.8729 13.409 14.7092 13.7692 14.386 13.8904C14.0628 14.0116 13.7025 13.8479 13.5813 13.5247L12.5648 10.8141H7.43487L6.41838 13.5247C6.29718 13.8479 5.93693 14.0116 5.61373 13.8904C5.29052 13.7692 5.12677 13.409 5.24797 13.0858L8.71093 3.85123ZM7.90362 9.56405H12.0961L10.1183 4.29013C10.0998 4.24073 10.0526 4.20801 9.99984 4.20801C9.94709 4.20801 9.89986 4.24073 9.88134 4.29013L7.90362 9.56405Z"
        />
        <rect
          x="3.3335"
          y="15"
          width="13.3333"
          height="2.08333"
          rx="1"
          fill=${this.preprocessColor}
        />
      </svg>
    `}get preprocessColor(){let e=this.color;return e.startsWith("--")?`var(${e})`:e}#iw=gQ(this,r,void 0);get color(){return this.#iw}set color(e){this.#iw=e}constructor(){super(...arguments),gQ(this,a)}static{gQ(t,s)}})})();var mi=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ms=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let mo=(()=>{let e,t,i,s,o,r=[(0,L.EM)("edgeless-connector-label-editor")],a=[],n=(0,P.Tm)(P.ao),l=[],c=[],d=[],h=[],u=[],p=[];return class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.P)("rich-text")],mi(this,null,i,{kind:"accessor",name:"connector",static:!1,private:!1,access:{has:e=>"connector"in e,get:e=>e.connector,set:(e,t)=>{e.connector=t}},metadata:f},l,c),mi(this,null,s,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:f},d,h),mi(this,null,o,{kind:"accessor",name:"richText",static:!1,private:!1,access:{has:e=>"richText"in e,get:e=>e.richText,set:(e,t)=>{e.richText=t}},metadata:f},u,p),mi(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    .edgeless-connector-label-editor {
      position: absolute;
      left: 0;
      top: 0;
      transform-origin: center;
      z-index: 10;
      padding: ${2}px ${2}px;
      border: ${1}px solid var(--affine-primary-color, #1e96eb);
      background: var(--affine-background-primary-color, #fff);
      border-radius: 2px;
      box-shadow: 0px 0px 0px 2px rgba(30, 150, 235, 0.3);
      box-sizing: border-box;
      overflow: visible;

      .inline-editor {
        white-space: pre-wrap !important;
        outline: none;
      }

      .inline-editor span {
        word-break: normal !important;
        overflow-wrap: anywhere !important;
      }

      .edgeless-connector-label-editor-placeholder {
        pointer-events: none;
        color: var(--affine-text-disable-color);
        white-space: nowrap;
      }
    }
  `}connectedCallback(){super.connectedCallback(),this.setAttribute(P.vz.rangeSyncExcludeAttr,"true")}disconnectedCallback(){super.disconnectedCallback(),this._resizeObserver?.disconnect(),this._resizeObserver=null}firstUpdated(){let{edgeless:e,connector:t}=this,{dispatcher:i}=e;(0,V.Z1)(i),this._resizeObserver=new ResizeObserver(()=>{this._updateLabelRect(),this.requestUpdate()}),this._resizeObserver.observe(this.richText),this.updateComplete.then(()=>{this.inlineEditor.selectAll(),this.inlineEditor.slots.renderComplete.on(()=>{this.requestUpdate()}),this.disposables.add(i.add("keyDown",i=>{let{key:s,ctrlKey:o,metaKey:r,altKey:a,shiftKey:n,isComposing:l}=i.get("keyboardState").raw;return!l&&((!!o||!!r)&&!a&&!n&&"Enter"===s||"Escape"===s)&&(this.inlineEditorContainer.blur(),e.service.selection.set({elements:[t.id],editing:!1}),!0)})),this.disposables.add(e.service.surface.elementUpdated.on(({id:e})=>{e===t.id&&this.requestUpdate()})),this.disposables.add(e.service.viewport.viewportUpdated.on(()=>{this.requestUpdate()})),this.disposables.add(i.add("click",()=>!0)),this.disposables.add(i.add("doubleClick",()=>!0)),this.disposables.add(()=>{if(t.text){let i=t.text.toString(),s=i.trim(),o=s.length;0===o?e.service.updateElement(t.id,{text:void 0,labelXYWH:void 0,labelStyle:void 0,labelOffset:void 0}):o<i.length&&e.service.updateElement(t.id,{text:new v.rl.Y.Text(s)})}t.lableEditing=!1,e.service.selection.set({elements:[],editing:!1})}),this.disposables.addFromEvent(this.inlineEditorContainer,"blur",()=>{this._keeping||this.remove()}),this.disposables.addFromEvent(this.inlineEditorContainer,"compositionstart",()=>{this._isComposition=!0,this.requestUpdate()}),this.disposables.addFromEvent(this.inlineEditorContainer,"compositionend",()=>{this._isComposition=!1,this.requestUpdate()}),t.lableEditing=!0}).catch(console.error)}async getUpdateComplete(){let e=await super.getUpdateComplete();return await this.richText?.updateComplete,e}render(){let{connector:e}=this,{labelOffset:{distance:t},labelStyle:{fontFamily:i,fontSize:s,fontStyle:o,fontWeight:r,textAlign:a,color:n},labelConstraints:{hasMaxWidth:l,maxWidth:c}}=e,d=(0,y.ks)(i,s,r),{translateX:h,translateY:u,zoom:p}=this.edgeless.service.viewport,[f,g]=iv.l.mul(e.getPointByOffsetDistance(t),p),m=["translate(-50%, -50%)",`translate(${h}px, ${u}px)`,`translate(${f}px, ${g}px)`,`scale(${p})`],v=!e.text.length&&!this._isComposition,b=im.Q.generateColorProperty(n,"#000000");return(0,H.qy)`
      <div
        class="edgeless-connector-label-editor"
        style=${(0,Z.W)({fontFamily:`"${i}"`,fontSize:`${s}px`,fontStyle:o,fontWeight:r,textAlign:a,lineHeight:`${d}px`,maxWidth:l?`${c+2+4}px`:"initial",color:b,transform:m.join(" ")})}
      >
        <rich-text
          .yText=${e.text}
          .enableFormat=${!1}
          style=${v?(0,Z.W)({position:"absolute",left:0,top:0,padding:"2px 2px"}):H.s6}
        ></rich-text>
        ${v?(0,H.qy)`
              <span class="edgeless-connector-label-editor-placeholder">
                Add text
              </span>
            `:H.s6}
      </div>
    `}setKeeping(e){this._keeping=e}get inlineEditor(){return(0,V.Z1)(this.richText.inlineEditor),this.richText.inlineEditor}get inlineEditorContainer(){return this.inlineEditor.rootElement}#iM;get connector(){return this.#iM}set connector(e){this.#iM=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#iI;get richText(){return this.#iI}set richText(e){this.#iI=e}constructor(){super(...arguments),this._isComposition=!1,this._keeping=!1,this._resizeObserver=null,this._updateLabelRect=()=>{let{connector:e,edgeless:t}=this;if(!e||!t)return;let i=this.inlineEditorContainer.scrollWidth,s=this.inlineEditorContainer.scrollHeight,o=e.getPointByOffsetDistance(e.labelOffset.distance),r=m.z.fromCenter(o,i,s).toXYWH();(!e.labelXYWH||r.some((t,i)=>!(0,iy.f3)(t,e.labelXYWH[i])))&&t.service.updateElement(e.id,{labelXYWH:r})},this.#iM=ms(this,l,void 0),this.#iE=(ms(this,c),ms(this,d,void 0)),this.#iI=(ms(this,h),ms(this,u,void 0)),ms(this,p)}static{ms(t,a)}},t})();var mr=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ma=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let mn=(()=>{let e,t,i,s,o,r=[(0,L.EM)("edgeless-frame-title-editor")],a=[],n=(0,P.Tm)(P.ao),l=[],c=[],d=[],h=[],u=[],p=[];return class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.P)("rich-text")],mr(this,null,i,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:f},l,c),mr(this,null,s,{kind:"accessor",name:"frameModel",static:!1,private:!1,access:{has:e=>"frameModel"in e,get:e=>e.frameModel,set:(e,t)=>{e.frameModel=t}},metadata:f},d,h),mr(this,null,o,{kind:"accessor",name:"richText",static:!1,private:!1,access:{has:e=>"richText"in e,get:e=>e.richText,set:(e,t)=>{e.richText=t}},metadata:f},u,p),mr(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f}),ma(t,a)}_unmount(){this.disposables.dispose(),this.edgeless.service.selection.set({elements:[],editing:!1}),this.remove()}connectedCallback(){super.connectedCallback(),this.setAttribute(P.vz.rangeSyncExcludeAttr,"true")}firstUpdated(){let e=this.edgeless.dispatcher;(0,V.Z1)(e),this.updateComplete.then(()=>{this.inlineEditor.selectAll(),this.inlineEditor.slots.renderComplete.on(()=>{this.requestUpdate()}),this.disposables.add(e.add("keyDown",e=>{let t=e.get("keyboardState");return"Enter"!==t.raw.key||t.raw.isComposing?(requestAnimationFrame(()=>{this.requestUpdate()}),!1):(this._unmount(),!0)})),this.disposables.add(this.edgeless.service.viewport.viewportUpdated.on(()=>{this.requestUpdate()})),this.disposables.add(e.add("click",()=>!0)),this.disposables.add(e.add("doubleClick",()=>!0)),this.disposables.addFromEvent(this.inlineEditorContainer,"blur",()=>{this._unmount()})}).catch(console.error)}async getUpdateComplete(){let e=await super.getUpdateComplete();return await this.richText?.updateComplete,e}render(){let e=this.edgeless.service.viewport,t=m.z.deserialize(this.frameModel.xywh),[i,s]=e.toViewCoord(t.x,t.y),o=this.edgeless.service.layer.framesGrid.has(this.frameModel.elementBound,!0,!0,new Set([this.frameModel])),r=(0,Z.W)({transformOrigin:"top left",borderRadius:"4px",width:"fit-content",maxHeight:"30px",lineHeight:"20px",padding:"4px 10px",fontSize:"14px",position:"absolute",left:(o?i+8:i)+"px",top:(o?s+8:s-38)+"px",minWidth:"8px",fontFamily:"var(--affine-font-family)",background:o?"var(--affine-white)":"var(--affine-text-primary-color)",color:o?"var(--affine-text-secondary-color)":"var(--affine-white)",outline:"none",zIndex:"1",border:`1px solid
        var(--affine-primary-color)`,boxShadow:"0px 0px 0px 2px rgba(30, 150, 235, 0.3)"});return(0,H.qy)`<rich-text
      .yText=${this.frameModel.title.yText}
      .enableFormat=${!1}
      .enableAutoScrollHorizontally=${!1}
      style=${r}
    ></rich-text>`}get editorHost(){return this.edgeless.host}get frameBlock(){(0,V.Z1)(this.frameModel.page.root);let e=this.editorHost.view.viewFromPath("block",[this.frameModel.page.root.id,this.frameModel.id]);return(0,V.Z1)(e),e}get inlineEditor(){return(0,V.Z1)(this.richText.inlineEditor),this.richText.inlineEditor}get inlineEditorContainer(){return this.inlineEditor.rootElement}#iE=ma(this,l,void 0);get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#iB=(ma(this,c),ma(this,d,void 0));get frameModel(){return this.#iB}set frameModel(e){this.#iB=e}#iI=(ma(this,h),ma(this,u,void 0));get richText(){return this.#iI}set richText(e){this.#iI=e}constructor(){super(...arguments),ma(this,p)}},t})();var ml=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},mc=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let md=(()=>{let e,t,i,s,o,r=[(0,L.EM)("edgeless-group-title-editor")],a=[],n=(0,P.Tm)(P.ao),l=[],c=[],d=[],h=[],u=[],p=[];return class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.P)("rich-text")],ml(this,null,i,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:f},l,c),ml(this,null,s,{kind:"accessor",name:"group",static:!1,private:!1,access:{has:e=>"group"in e,get:e=>e.group,set:(e,t)=>{e.group=t}},metadata:f},d,h),ml(this,null,o,{kind:"accessor",name:"richText",static:!1,private:!1,access:{has:e=>"richText"in e,get:e=>e.richText,set:(e,t)=>{e.richText=t}},metadata:f},u,p),ml(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f}),mc(t,a)}_unmount(){this.disposables.dispose(),this.group.showTitle=!0,this.edgeless.service.selection.set({elements:[this.group.id],editing:!1}),this.remove()}connectedCallback(){super.connectedCallback(),this.setAttribute(P.vz.rangeSyncExcludeAttr,"true")}firstUpdated(){let e=this.edgeless.dispatcher;(0,V.Z1)(e),this.updateComplete.then(()=>{this.inlineEditor.selectAll(),this.group.showTitle=!1,this.inlineEditor.slots.renderComplete.on(()=>{this.requestUpdate()}),this.disposables.add(e.add("keyDown",e=>{let t=e.get("keyboardState");return"Enter"!==t.raw.key||t.raw.isComposing?(requestAnimationFrame(()=>{this.requestUpdate()}),!1):(this._unmount(),!0)})),this.disposables.add(this.edgeless.service.viewport.viewportUpdated.on(()=>{this.requestUpdate()})),this.disposables.add(e.add("click",()=>!0)),this.disposables.add(e.add("doubleClick",()=>!0)),this.disposables.addFromEvent(this.inlineEditorContainer,"blur",()=>{this._unmount()})}).catch(console.error)}async getUpdateComplete(){let e=await super.getUpdateComplete();return await this.richText?.updateComplete,e}render(){let e=this.edgeless.service.viewport,t=m.z.deserialize(this.group.xywh),[i,s]=e.toViewCoord(t.x,t.y),o=(0,Z.W)({transformOrigin:"top left",borderRadius:"35px",width:"fit-content",maxHeight:"30px",lineHeight:"20px",padding:"4px 10px",fontSize:"14px",position:"absolute",left:i+"px",top:s-36+"px",minWidth:"8px",fontFamily:"var(--affine-font-family)",color:"var(--affine-text-primary-color)",background:"var(--affine-white-10)",outline:"none",zIndex:"1",border:`1px solid
        var(--affine-primary-color)`,boxShadow:"var(--affine-active-shadow)"});return(0,H.qy)`<rich-text
      .yText=${this.group.title}
      .enableFormat=${!1}
      .enableAutoScrollHorizontally=${!1}
      style=${o}
    ></rich-text>`}get inlineEditor(){return(0,V.Z1)(this.richText.inlineEditor),this.richText.inlineEditor}get inlineEditorContainer(){return this.inlineEditor.rootElement}#iE=mc(this,l,void 0);get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#tz=(mc(this,c),mc(this,d,void 0));get group(){return this.#tz}set group(e){this.#tz=e}#iI=(mc(this,h),mc(this,u,void 0));get richText(){return this.#iI}set richText(e){this.#iI=e}constructor(){super(...arguments),mc(this,p)}},t})();function mh(e){return 1===e.length&&e[0].group instanceof I.AR}function mu(e,t,i=[0,0]){let s=t.elementBound;return i[0]/=e.zoom,i[1]/=e.zoom,s.x-=i[1],s.w+=i[1],s.y-=i[0],s.h+=i[0],!e.viewportBounds.contains(s)}function mp(e,t,i=[0,0]){let s=e.viewportBounds,o=t.elementBound,r=0,a=0;return o.x-i[1]<s.x?r=s.x-(o.x-i[1]):o.x+o.w+i[1]>s.x+s.w&&(r=s.x+s.w-(o.x+o.w+i[1])),o.y-i[0]<s.y?a=o.y-i[0]-s.y:o.y+o.h+i[0]>s.y+s.h&&(a=o.y+o.h+i[0]-(s.y+s.h)),[r,a]}var mf=i(21320),mg=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},mm=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let mv=(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("edgeless-shape-text-editor")],n=[],l=(0,P.Tm)(P.ao),c=[],d=[],h=[],u=[],p=[],f=[],g=[],y=[];return class extends l{static{t=this}static{let m="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.P)("rich-text")],mg(this,null,i,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:m},c,d),mg(this,null,s,{kind:"accessor",name:"element",static:!1,private:!1,access:{has:e=>"element"in e,get:e=>e.element,set:(e,t)=>{e.element=t}},metadata:m},h,u),mg(this,null,o,{kind:"accessor",name:"mountEditor",static:!1,private:!1,access:{has:e=>"mountEditor"in e,get:e=>e.mountEditor,set:(e,t)=>{e.mountEditor=t}},metadata:m},p,f),mg(this,null,r,{kind:"accessor",name:"richText",static:!1,private:!1,access:{has:e=>"richText"in e,get:e=>e.richText,set:(e,t)=>{e.richText=t}},metadata:m},g,y),mg(null,e={value:t},a,{kind:"class",name:t.name,metadata:m},null,n),t=e.value,m&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m}),mm(t,n)}_initMindmapKeyBindings(){if(!this.element.surface.isInMindmap(this.element.id))return;let e=this.edgeless.service;this._disposables.addFromEvent(this,"keydown",t=>{switch(t.key){case"Enter":{if(t.shiftKey||t.isComposing)return;t.preventDefault();let i=this.edgeless,s=this.element,o=this.element.group,r=o.getParentNode(s.id)??s,a=o.addNode(r.id);requestAnimationFrame(()=>{this.element=i.service.getElementById(a);let t=this.element;if(this.mountEditor?.(t,i),mu(e.viewport,t,[90,20])){let[s,o]=mp(i.service.viewport,t,[100,20]);i.service.viewport.smoothTranslate(e.viewport.centerX-s,e.viewport.centerY+o)}}),this.ownerDocument.activeElement.blur();break}case"Tab":{t.preventDefault();let i=this.edgeless,s=this.element,o=this.element.group.addNode(s.id);requestAnimationFrame(()=>{this.element=i.service.getElementById(o);let t=this.element;if(this.mountEditor?.(t,i),mu(e.viewport,t,[90,20])){let[s,o]=mp(i.service.viewport,t,[100,20]);i.service.viewport.smoothTranslate(e.viewport.centerX-s,e.viewport.centerY+o)}}),this.ownerDocument.activeElement.blur()}}})}_unmount(){if(this._resizeObserver?.disconnect(),this._resizeObserver=null,this.element.text){let e=this.element.text.toString(),t=e.trim(),i=t.length;0===i?this.element.text=void 0:i<e.length&&(this.element.text=new v.rl.Y.Text(t))}this.element.textDisplay=!0,this.element.group instanceof E.AR&&this.element.group.layout(),this.remove(),this.edgeless.service.selection.set({elements:[],editing:!1})}_updateElementWH(){let e=this.richText.getBoundingClientRect(),t=this.richText.offsetHeight,i=this.richText.offsetWidth,s=this.element.textResizing;if(this._lastXYWH!==this.element.xywh&&this.requestUpdate(),t!==this.element.h&&s===C.bn.AUTO_HEIGHT||s===C.bn.AUTO_WIDTH&&i!==this.element.w){let[o,r]=iv.l.rotWith([this.richText.offsetLeft,this.richText.offsetTop],[e.left+e.width/2,e.top+e.height/2],(0,iH.DF)(-this.element.rotate)),[a,n]=this.edgeless.service.viewport.toModelCoord(o,r);this.edgeless.service.updateElement(this.element.id,{xywh:new m.z(a,n,s===C.bn.AUTO_WIDTH?i:this.element.w,t).serialize()}),this.element.group instanceof E.AR&&this.element.group.layout(),this.richText.style.minHeight=`${t}px`}this.edgeless.service.selection.set({elements:[this.element.id],editing:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute(P.vz.rangeSyncExcludeAttr,"true")}firstUpdated(){let e=this.edgeless.dispatcher;(0,V.Z1)(e),this.element.textDisplay=!1,this.disposables.add(this.edgeless.service.viewport.viewportUpdated.on(()=>{this.requestUpdate(),this.updateComplete.then(()=>{this._updateElementWH()}).catch(console.error)})),this.disposables.add(e.add("click",()=>!0)),this.disposables.add(e.add("doubleClick",()=>!0)),this.updateComplete.then(()=>{this.element.group instanceof E.AR?this.inlineEditor.selectAll():this.inlineEditor.focusEnd(),this.disposables.add(this.inlineEditor.slots.renderComplete.on(()=>{this._updateElementWH()})),this.disposables.addFromEvent(this.inlineEditorContainer,"blur",()=>{this._keeping||this._unmount()})}).catch(console.error),this.disposables.addFromEvent(this,"keydown",e=>{"Escape"===e.key&&(requestAnimationFrame(()=>{this.edgeless.service.selection.set({elements:[this.element.id],editing:!1})}),this.ownerDocument.activeElement.blur())}),this._initMindmapKeyBindings()}async getUpdateComplete(){let e=await super.getUpdateComplete();return await this.richText?.updateComplete,e}render(){if(!this.element.text)return console.error("Failed to mount shape editor because of no text."),H.s6;let[e,t]=this.element.padding,i=this.element.textResizing,s=this.edgeless.service.viewport.zoom,o=gW([this.element]),r=this.element.rotate,[a,n]=iv.l.rotWith([o.left,o.top],[o.left+o.width/2,o.top+o.height/2],(0,iH.DF)(r)),[l,c]=this.edgeless.service.viewport.toViewCoord(a,n),d=i===C.bn.AUTO_WIDTH,h=im.Q.generateColorProperty(this.element.color,"#000000"),u=(0,Z.W)({position:"absolute",left:l+"px",top:c+"px",width:i>C.bn.AUTO_WIDTH?o.width+"px":"fit-content",height:"initial",minHeight:i===C.bn.AUTO_WIDTH?"1em":`${o.height}px`,maxWidth:i===C.bn.AUTO_WIDTH&&this.element.maxWidth?`${this.element.maxWidth}px`:void 0,boxSizing:"border-box",fontSize:this.element.fontSize+"px",fontFamily:(0,mf.s9)(this.element.fontFamily),fontWeight:this.element.fontWeight,lineHeight:"normal",outline:"none",transform:`scale(${s}, ${s}) rotate(${r}deg)`,transformOrigin:"top left",color:h,padding:`${e}px ${t}px`,textAlign:this.element.textAlign,display:"grid",gridTemplateColumns:"100%",alignItems:"center"===this.element.textVerticalAlign?"center":"bottom"===this.element.textVerticalAlign?"end":"start",alignContent:"center",gap:"0",zIndex:"1"});return this._lastXYWH=this.element.xywh,(0,H.qy)` <style>
        edgeless-shape-text-editor v-text [data-v-text] {
          overflow-wrap: ${d?"normal":"anywhere"};
          word-break: ${d?"normal":"break-word"} !important;
          white-space: ${d?"pre":"pre-wrap"} !important;
        }

        edgeless-shape-text-editor .inline-editor {
          min-width: 1px;
        }
      </style>
      <rich-text
        .yText=${this.element.text}
        .enableFormat=${!1}
        .enableAutoScrollHorizontally=${!1}
        style=${u}
      ></rich-text>`}setKeeping(e){this._keeping=e}get inlineEditor(){return(0,V.Z1)(this.richText.inlineEditor),this.richText.inlineEditor}get inlineEditorContainer(){return this.inlineEditor.rootElement}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#i$;get element(){return this.#i$}set element(e){this.#i$=e}#iT;get mountEditor(){return this.#iT}set mountEditor(e){this.#iT=e}#iI;get richText(){return this.#iI}set richText(e){this.#iI=e}constructor(){super(...arguments),this._keeping=!1,this._lastXYWH="",this._resizeObserver=null,this.#iE=mm(this,c,void 0),this.#i$=(mm(this,d),mm(this,h,void 0)),this.#iT=(mm(this,u),mm(this,p,void 0)),this.#iI=(mm(this,f),mm(this,g,void 0)),mm(this,y)}},t})();function my(e,t){let i=new Set(t),s=e.edgeless.service;t.forEach(e=>{gq(e)&&s.getConnectors(e).forEach(e=>i.add(e))}),i.forEach(t=>{gT(t)?(e.doc.root?.children??[]).length>1&&e.doc.deleteBlock(t):s.removeElement(t.id)})}var mb=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},mw=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let mx=(()=>{let e,t,i,s,o,r=[(0,L.EM)("edgeless-text-editor")],a=[],n=(0,P.Tm)(P.ao),l=[],c=[],d=[],h=[],u=[],p=[];var f=class extends n{static{t=this}static{let g="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.P)("rich-text")],mb(this,null,i,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:g},l,c),mb(this,null,s,{kind:"accessor",name:"element",static:!1,private:!1,access:{has:e=>"element"in e,get:e=>e.element,set:(e,t)=>{e.element=t}},metadata:g},d,h),mb(this,null,o,{kind:"accessor",name:"richText",static:!1,private:!1,access:{has:e=>"richText"in e,get:e=>e.richText,set:(e,t)=>{e.richText=t}},metadata:g},u,p),mb(null,e={value:t},r,{kind:"class",name:t.name,metadata:g},null,a),f=t=e.value,g&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:g})}static{this.BORDER_WIDTH=1}static{this.HORIZONTAL_PADDING=10}static{this.PLACEHOLDER_TEXT="Type from here"}static{this.VERTICAL_PADDING=6}static{this.styles=(0,H.AH)`
    .edgeless-text-editor {
      position: absolute;
      left: 0;
      top: 0;
      z-index: 10;
      transform-origin: left top;
      font-kerning: none;
      border: ${f.BORDER_WIDTH}px solid
        var(--affine-primary-color, #1e96eb);
      border-radius: 4px;
      box-shadow: 0px 0px 0px 2px rgba(30, 150, 235, 0.3);
      padding: ${f.VERTICAL_PADDING}px
        ${f.HORIZONTAL_PADDING}px;
      overflow: visible;
    }

    .edgeless-text-editor .inline-editor {
      white-space: pre-wrap !important;
      outline: none;
    }

    .edgeless-text-editor .inline-editor span {
      word-break: normal !important;
      overflow-wrap: anywhere !important;
    }

    .edgeless-text-editor-placeholder {
      pointer-events: none;
      color: var(--affine-text-disable-color);
      white-space: nowrap;
    }
  `}connectedCallback(){if(super.connectedCallback(),!this.edgeless){console.error("edgeless is not set.");return}if(!this.element){console.error("text element is not set.");return}this.setAttribute(P.vz.rangeSyncExcludeAttr,"true")}firstUpdated(){let e=this.edgeless,t=this.element,{dispatcher:i}=this.edgeless;(0,V.Z1)(i),this.updateComplete.then(()=>{this.inlineEditor.slots.renderComplete.on(()=>{this._updateRect(),this.requestUpdate()}),this.disposables.add(e.service.surface.elementUpdated.on(({id:e})=>{e===t.id&&this.requestUpdate()})),this.disposables.add(e.service.viewport.viewportUpdated.on(()=>{this.requestUpdate()})),this.disposables.add(i.add("click",()=>!0)),this.disposables.add(i.add("doubleClick",()=>!0)),this.disposables.add(()=>{t.display=!0,0===t.text.length&&my(e.surface,[t]),e.service.selection.set({elements:[],editing:!1})}),this.disposables.addFromEvent(this.inlineEditorContainer,"blur",()=>!this._keeping&&this.remove()),this.disposables.addFromEvent(this.inlineEditorContainer,"compositionstart",()=>{this._isComposition=!0,this.requestUpdate()}),this.disposables.addFromEvent(this.inlineEditorContainer,"compositionend",()=>{this._isComposition=!1,this.requestUpdate()}),t.display=!1}).catch(console.error)}getContainerOffset(){let{VERTICAL_PADDING:e,HORIZONTAL_PADDING:t,BORDER_WIDTH:i}=f;return`-${t+i}px, -${e+i}px`}getCoordsOnCenterAlign(e,t,i){let s=e.x+e.w/2,o=e.y+e.h/2,r=0,a=-e.h/2*Math.cos(e.r);return{x:s+r-(r=0)-t/2,y:o+a-(a=-i/2*Math.cos(e.r))-i/2}}getCoordsOnLeftAlign(e,t,i){let s=e.x+e.w/2,o=e.y+e.h/2,r=-e.w/2*Math.cos(e.r)+e.h/2*Math.sin(e.r),a=-e.w/2*Math.sin(e.r)-e.h/2*Math.cos(e.r),n=s+r,l=o+a;return r=-t/2*Math.cos(e.r)+i/2*Math.sin(e.r),a=-t/2*Math.sin(e.r)-i/2*Math.cos(e.r),{x:n-r-t/2,y:l-a-i/2}}getCoordsOnRightAlign(e,t,i){let s=e.x+e.w/2,o=e.y+e.h/2,r=e.w/2*Math.cos(e.r)- -e.h/2*Math.sin(e.r),a=e.w/2*Math.sin(e.r)+-e.h/2*Math.cos(e.r),n=s+r,l=o+a;return r=t/2*Math.cos(e.r)- -i/2*Math.sin(e.r),a=t/2*Math.sin(e.r)+-i/2*Math.cos(e.r),{x:n-r-t/2,y:l-a-i/2}}async getUpdateComplete(){let e=await super.getUpdateComplete();return await this.richText?.updateComplete,e}getVisualPosition(e){let{x:t,y:i,w:s,h:o,rotate:r}=e;return iv.l.rotWith([t,i],[t+s/2,i+o/2],(0,iH.DF)(r))}render(){let{text:e,fontFamily:t,fontSize:i,fontWeight:s,fontStyle:o,textAlign:r,rotate:a,hasMaxWidth:n,w:l}=this.element,c=(0,y.ks)(t,i,s),d=gW([this.element]),{translateX:h,translateY:u,zoom:p}=this.edgeless.service.viewport,[g,m]=this.getVisualPosition(this.element),v=this.getContainerOffset(),b=[`translate(${h}px, ${u}px)`,`translate(${g*p}px, ${m*p}px)`,`scale(${p})`,`rotate(${a}deg)`,`translate(${v})`],w=!e.length&&!this._isComposition,x=im.Q.generateColorProperty(this.element.color,"#000000");return(0,H.qy)`<div
      style=${(0,Z.W)({transform:b.join(" "),minWidth:n?`${d.width}px`:"none",maxWidth:n?`${l}px`:"none",fontFamily:(0,mf.s9)(t),fontSize:`${i}px`,fontWeight:s,fontStyle:o,color:x,textAlign:r,lineHeight:`${c}px`,boxSizing:"content-box"})}
      class="edgeless-text-editor"
    >
      <rich-text
        .yText=${e}
        .enableFormat=${!1}
        .enableAutoScrollHorizontally=${!1}
        style=${w?(0,Z.W)({position:"absolute",left:0,top:0,padding:`${f.VERTICAL_PADDING}px
        ${f.HORIZONTAL_PADDING}px`}):H.s6}
      ></rich-text>
      ${w?(0,H.qy)`<span class="edgeless-text-editor-placeholder">
            Type from here
          </span>`:H.s6}
    </div>`}setKeeping(e){this._keeping=e}get inlineEditor(){return(0,V.Z1)(this.richText.inlineEditor),this.richText.inlineEditor}get inlineEditorContainer(){return this.inlineEditor.rootElement}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#i$;get element(){return this.#i$}set element(e){this.#i$=e}#iI;get richText(){return this.#iI}set richText(e){this.#iI=e}constructor(){super(...arguments),this._isComposition=!1,this._keeping=!1,this._updateRect=()=>{let e=this.edgeless,t=this.element;if(!e||!t)return;let i=this.inlineEditorContainer.scrollWidth,s=this.inlineEditorContainer.scrollHeight,o=new m.z(t.x,t.y,i,s),{x:r,y:a,w:n,h:l,rotate:c}=t;switch(t.textAlign){case"left":{let e=this.getCoordsOnLeftAlign({x:r,y:a,w:n,h:l,r:(0,iH.DF)(c)},i,s);o.x=e.x,o.y=e.y}break;case"center":{let e=this.getCoordsOnCenterAlign({x:r,y:a,w:n,h:l,r:(0,iH.DF)(c)},i,s);o.x=e.x,o.y=e.y}break;case"right":{let e=this.getCoordsOnRightAlign({x:r,y:a,w:n,h:l,r:(0,iH.DF)(c)},i,s);o.x=e.x,o.y=e.y}}e.service.updateElement(t.id,{xywh:o.serialize()})},this.#iE=mw(this,l,void 0),this.#i$=(mw(this,c),mw(this,d,void 0)),this.#iI=(mw(this,h),mw(this,u,void 0)),mw(this,p)}static{mw(t,a)}};return f=t})(),m_={seed:666,roughness:C.js,strokeStyle:C.u1.Solid,strokeLineDash:[],stroke:"black",strokeWidth:q.D9.Two,fill:"transparent"},mC="affine:paragraph",mk="text",mS="Text",mM=["affine-note-mask","edgeless-block-portal-note","affine-block-children-container"],mE="--affine-palette-line-white",mI="--affine-palette-line-black",mB="--affine-palette-shape-black";function m$(e,t,i){if(!t.mountElm)throw new u.Ss(p.O.ValueNotExists,"edgeless block's mount point does not exist");let s=e.text.length;i&&(s=Math.min((0,y.tI)(e,i),s));let o=new mx;o.edgeless=t,o.element=e,t.append(o),o.updateComplete.then(()=>{o.inlineEditor?.focusIndex(s)}).catch(console.error),t.tools.switchToDefaultMode({elements:[e.id],editing:!0})}function mT(e,t){if(!t.mountElm)throw new u.Ss(p.O.ValueNotExists,"edgeless block's mount point does not exist");if(!e.text){let i=new v.rl.Y.Text,s=im.Q.getColorValue(e.fillColor,g2());s=g4(s)?g2():s===mB?mE:mI,t.service.updateElement(e.id,{text:i,color:s,fontFamily:"General"===e.shapeStyle?C.ay.Inter:C.ay.Kalam})}let i=t.service.getElementById(e.id);(0,V.nn)(i,b.B5,"Cannot mount text editor on a non-shape element");let s=new mv;s.element=i,s.edgeless=t,s.mountEditor=mT,t.mountElm.append(s),t.tools.switchToDefaultMode({elements:[e.id],editing:!0})}function mO(e,t){if(!t.mountElm)throw new u.Ss(p.O.ValueNotExists,"edgeless block's mount point does not exist");let i=new mn;i.frameModel=e,i.edgeless=t,t.mountElm.append(i),t.tools.switchToDefaultMode({elements:[e.id],editing:!0})}function mP(e,t){if(!t.mountElm)throw new u.Ss(p.O.ValueNotExists,"edgeless block's mount point does not exist");let i=new md;i.group=e,i.edgeless=t,t.mountElm.append(i),t.tools.switchToDefaultMode({elements:[e.id],editing:!0})}function mA(e,t){let[i,s]=e.service.viewport.toModelCoord(t.x,t.y);if(!e.service.pickElement(i,s)){let[i,s]=e.service.viewport.toModelCoord(t.x,t.y),o=e.service.addElement(E.J9.TEXT,{xywh:new m.z(i,s,32,32).serialize(),text:new v.rl.Y.Text});e.doc.captureSync();let r=e.service.getElementById(o);(0,V.Z1)(r),r instanceof B.n&&m$(r,e)}}function mH(e,t,i){if(!t.mountElm)throw new u.Ss(p.O.ValueNotExists,"edgeless block's mount point does not exist");let s=e.text;if(!s&&(s=new v.rl.Y.Text,e.text=s,e.labelStyle.color=g2(),i)){let t=e.getNearestPoint(i),s=e.getOffsetDistanceByPoint(t),o=m.z.fromXYWH(e.labelXYWH||[0,0,16,16]);o.center=t,e.labelOffset.distance=s,e.labelXYWH=o.toXYWH()}let o=new mo;o.connector=e,o.edgeless=t,t.mountElm.append(o),o.updateComplete.then(()=>{o.inlineEditor?.focusEnd()}).catch(console.error),t.tools.switchToDefaultMode({elements:[e.id],editing:!0})}class mL{constructor(e){this._draggingArea=null,this.enableHover=!1,this._service=e}get _blocks(){return this._edgeless.service.blocks}get _doc(){return this._edgeless.doc}get _surface(){return this._edgeless.surface}mount(e){this._edgeless=e}get draggingArea(){return this._draggingArea}}!function(e){e.AltCloning="alt-cloning",e.ConnectorLabelMoving="connector-label-moving",e.ContentMoving="content-moving",e.NativeEditing="native-editing",e.None="none",e.PreviewDragging="preview-dragging",e.Selecting="selecting"}(a||(a={}));class mD extends mL{constructor(){super(...arguments),this._alignBound=new m.z,this._autoPanTimer=null,this._clearDisposable=()=>{this._disposables&&(this._disposables.dispose(),this._disposables=null)},this._clearLastSelection=()=>{this.edgelessSelectionManager.empty&&this.edgelessSelectionManager.clearLast()},this._clearMindMapHoverState=[],this._clearSelectingState=()=>{this._stopAutoPanning(),this._clearDisposable(),this._dragging=!1,this._wheeling=!1,this._dragStartPos=[0,0],this._dragLastPos=[0,0],this._dragStartModelCoord=[0,0],this._dragLastModelCoord=[0,0],this._edgeless.slots.draggingAreaUpdated.emit(),this._moveSelectionDragStartTemp=[0,0],this._moveSelectionStartPos=[0,0]},this._disposables=null,this._dragLastModelCoord=[0,0],this._dragLastPos=[0,0],this._dragStartModelCoord=[0,0],this._dragStartPos=[0,0],this._dragging=!1,this._draggingSingleMindmap=null,this._hoveredMindMap=null,this._isDoubleClickedOnMask=!1,this._lock=!1,this._moveSelectionDragStartTemp=[0,0],this._moveSelectionStartPos=[0,0],this._panViewport=e=>{let{viewport:t}=this._service;t.applyDeltaCenter(e[0],e[1])},this._selectedBounds=[],this._selectedConnector=null,this._selectedConnectorLabelBounds=null,this._startAutoPanning=e=>{this._panViewport(e),this._stopAutoPanning(),this._autoPanTimer=window.setInterval(()=>{this._panViewport(e),this._updateSelectingState()},30)},this._stopAutoPanning=()=>{this._autoPanTimer&&(clearTimeout(this._autoPanTimer),this._autoPanTimer=null)},this._toBeMoved=[],this._updateSelectingState=()=>{let{tools:e,service:t}=this._edgeless,{selection:i}=t;if(e.spaceBar){let[e,i]=this._dragLastPos,s=t.viewport.zoom,o=(e-this._moveSelectionStartPos[0])/s,r=(i-this._moveSelectionStartPos[1])/s,[a,n]=t.viewport.toModelCoord(this._moveSelectionDragStartTemp[0],this._moveSelectionDragStartTemp[1]);this._dragStartModelCoord[0]=a+o,this._dragStartModelCoord[1]=n+r}let s=this._dragStartModelCoord[0],o=this._dragStartModelCoord[1],[r,a]=t.viewport.toModelCoord(this._dragLastPos[0],this._dragLastPos[1]),n=Math.min(s,r),l=Math.min(o,a),c=Math.abs(s-r),d=Math.abs(o-a),h=new m.z(n,l,c,d),u=t.pickElementsByBound(h),p=new Set(e.shiftKey?[...u,...i.selectedElements]:u);this.edgelessSelectionManager.set({elements:Array.from(p).map(e=>e.id),editing:!1}),this._dragLastModelCoord=[r,a],this._edgeless.slots.draggingAreaUpdated.emit()},this._wheeling=!1,this.dragType=a.None,this.enableHover=!0,this.tool={type:"default"}}_addEmptyParagraphBlock(e){let t=this._doc.addBlock("affine:paragraph",{type:"text"},e.id);t&&st.Km(this._edgeless.host,t)?.catch(console.error)}async _cloneContent(){this._lock=!0;let{_edgeless:e}=this,{clipboardController:t}=e,i=await gY(this._toBeMoved,e.std),s=gI(this._toBeMoved),{canvasElements:o,blockModels:r}=await t.createElementsFromClipboardData(i,s.center);this._toBeMoved=[...o,...r],this.edgelessSelectionManager.set({elements:this._toBeMoved.map(e=>e.id),editing:!1})}_determineDragType(e){let{x:t,y:i}=e;if(this.edgelessSelectionManager.isInSelectedRect(t,i)){if(1===this.edgelessSelectionManager.selectedElements.length){let e=this.edgelessSelectionManager.selectedElements[0],s=this._pick(t,i);if(gP(e)||e instanceof E.$f||!s||s===e||(e=s,this.edgelessSelectionManager.set({elements:[e.id],editing:!1})),gF(e)&&(0,S.yp)(e)&&e.labelIncludesPoint(this._service.viewport.toModelCoord(t,i)))return this._selectedConnector=e,this._selectedConnectorLabelBounds=m.z.fromXYWH(this._selectedConnector.labelXYWH),a.ConnectorLabelMoving}return this.edgelessSelectionManager.editing?a.NativeEditing:a.ContentMoving}{let e=this._pick(t,i);return e?(this.edgelessSelectionManager.set({elements:[e.id],editing:!1}),gF(e)&&(0,S.yp)(e)&&e.labelIncludesPoint(this._service.viewport.toModelCoord(t,i)))?(this._selectedConnector=e,this._selectedConnectorLabelBounds=m.z.fromXYWH(this._selectedConnector.labelXYWH),a.ConnectorLabelMoving):a.ContentMoving:a.Selecting}}_filterConnectedConnector(){this._toBeMoved=this._toBeMoved.filter(e=>!(e instanceof E.lw&&e.source?.id&&e.target?.id&&this._toBeMoved.some(t=>t.id===e.source.id)&&this._toBeMoved.some(t=>t.id===e.target.id)))}_isDraggable(e){return!(e instanceof E.lw&&!(0,gE.BP)(e,this._toBeMoved))}_moveContent([e,t],i,s,o){i.x+=e,i.y+=t;let r=this._edgeless.service.snap.align(i),a=[e+r.dx,t+r.dy];if(s){let e=Math.abs(Math.atan2(a[1],a[0]));a["x"==(e<Math.PI/4||e>Math.PI/4*3?"x":"y")?1:0]=0}if(this._toBeMoved.forEach((e,t)=>{let i=gF(e);if(i&&!this._isDraggable(e))return;let s=this._selectedBounds[t];o&&(s=s.clone()),s.x+=a[0],s.y+=a[1],i&&(this._lock||(this._lock=!0,this._doc.captureSync()),e instanceof E.lw&&e.moveTo(s)),this._service.updateElement(e.id,{xywh:s.serialize()})}),this._draggingSingleMindmap){let{node:e,mindmap:t,startElementBound:i}=this._draggingSingleMindmap,s=e.element,o=t.getNode(s.id),[r,a]=this._service.viewport.toModelCoord(this._dragLastPos[0],this._dragLastPos[1]);this._clearMindMapHoverState.forEach(e=>e()),this._clearMindMapHoverState=[];let n=this._edgeless.service.pickElement(r,a,{all:!0,expand:40}).filter(e=>e.group?.type==="mindmap"&&e!==s).map(e=>({element:e,node:e.group.getNode(e.id),mindmap:e.group}))[0];if(n){let{node:e,element:i,mindmap:s}=n;i.opacity=.8;let{clear:l,mergeInfo:c}=function(e,t,i,s){if(!(t=e.getNode("string"==typeof t?t:t.id)))return;(0,V.j)(t);let o=e=>!!t&&!!e&&t!==e&&(!e.children.length||e.children.every(e=>o(e)));if(!o(i))return;let r=(()=>{let i=e.getLayoutDir(t),o=function(e,t,i){let{x:s,y:o,w:r,h:a}=e,n=i===gS.p5.BALANCE?[s+r/2,o+a/2]:i===gS.p5.LEFT?[s+r/3*1,o+a/2]:[s+r/3*2,o+a/2];return`${t[1]-n[1]>0?"bottom":"top"}-${t[0]-n[0]>0?"right":"left"}`}(t.element,s,i),r=t.id!==e.tree.id&&(i===gS.p5.RIGHT&&o.includes("left")||i===gS.p5.LEFT&&o.includes("right"));return(()=>{if(!r)return{target:t,index:o.includes("top")?0:t.children.length,layoutType:i===gS.p5.BALANCE?o.includes("right")?gS.p5.RIGHT:gS.p5.LEFT:i};let s=e.getParentNode(t.id);return{target:s,index:s.children.indexOf(t)+(o.includes("bottom")?1:0),layoutType:i}})()})(),a=e.getPath(r.target);a.push(r.index);let n=e.styleGetter.getNodeStyle(i,a),l=e.addConnector(r.target,i,r.layoutType,n.connector,!0);return i.overriddenDir=r.layoutType,{clear:()=>{e.extraConnectors.delete(l.id),delete i.overriddenDir},mergeInfo:r}}(s,e,o,[r,a])??{};l&&this._clearMindMapHoverState.push(l);let d=gM(t,o);d&&this._clearMindMapHoverState.push(d);let h=c?.layoutType;this._clearMindMapHoverState.push(()=>{i.opacity=1}),t.layout(o,!1,h??void 0),this._hoveredMindMap={node:e,mindmap:s,mergeInfo:c}}else{let s=new m.z(r,a,40,40);if((0,iH.HY)(i,s)||i.contains(s)||t.tree.id===e.id)this._draggingSingleMindmap.detach=!1;else{let e=gM(t,o);e&&this._clearMindMapHoverState.push(e),this._draggingSingleMindmap.detach=!0}t.layout(o,!1),this._hoveredMindMap=null}}let n=this._edgeless.service.frame.selectFrame(this._toBeMoved);n?this._surface.overlays.frame.highlight(n):this._surface.overlays.frame.clear()}_moveLabel(e){let t=this._selectedConnector,i=this._selectedConnectorLabelBounds;if(!t||!i)return;i=i.clone();let s=t.getNearestPoint(iv.l.add(i.center,e)),o=t.getOffsetDistanceByPoint(s);i.center=s,this._service.updateElement(t.id,{labelXYWH:i.toXYWH(),labelOffset:{distance:o}})}_pick(e,t,i){let s=this._service,o=s.viewport.toModelCoord(e,t),r=s.pickElementInGroup(o[0],o[1],i);if(r instanceof E.AR){let e=s.pickElement(o[0],o[1],{...i??{},all:!0}),t=e.length-1;for(;t>=0;){if(e[t]===r){t-=1;continue}break}return e[t]??null}return r}initializeDragState(e,t){let{x:i,y:s}=e;this.dragType=t,this._dragging=!0,this._dragStartPos=[i,s],this._dragLastPos=[i,s];let[o,r]=this._service.viewport.toModelCoord(i,s);if(this._dragStartModelCoord=[o,r],this._dragLastModelCoord=[o,r],this._selectedBounds=this._toBeMoved.map(e=>m.z.deserialize(e.xywh)),this._toBeMoved.every(e=>!(e.group instanceof E.AR))&&(this._alignBound=this._edgeless.service.snap.setupAlignables(this._toBeMoved)),this._clearDisposable(),this._disposables=new ix.K,this.dragType===a.Selecting){this._disposables.add(this._edgeless.service.viewport.viewportUpdated.on(()=>{this.dragType===a.Selecting&&this._dragging&&!this._autoPanTimer&&this._updateSelectingState()}));return}if(this.dragType===a.ContentMoving){this._disposables.add(this._edgeless.service.viewport.viewportMoved.on(e=>{this.dragType!==a.ContentMoving||!this._dragging||this._autoPanTimer||this._toBeMoved.every(e=>!this._isDraggable(e))||(this._wheeling||(this._wheeling=!0,this._selectedBounds=this._toBeMoved.map(e=>m.z.deserialize(e.xywh))),this._alignBound=this._edgeless.service.snap.setupAlignables(this._toBeMoved),this._moveContent(e,this._alignBound))}));return}}afterModeSwitch(){(0,A.lQ)()}beforeModeSwitch(e){e?.type==="pan"&&this._clearLastSelection(),this._stopAutoPanning(),this._clearDisposable(),(0,A.lQ)()}onContainerClick(e){if(this.readonly)return;let t=this._pick(e.x,e.y,{ignoreTransparent:!0});if(t){let{selectedIds:i,surfaceSelections:s}=this.edgelessSelectionManager,o=s[0]?.editing??!1;if(1===i.length&&i[0]===t.id&&o){(gT(t)||gO(t))&&0===t.children.length&&this._addEmptyParagraphBlock(t);return}if(!e.keys.shift&&1===i.length&&(gT(t)||gO(t))&&(i[0]===t.id&&!o||o&&i[0]!==t.id)){this.edgelessSelectionManager.set({elements:[t.id],editing:!0}),this._edgeless.updateComplete.then(()=>{if(0===t.children.length)this._addEmptyParagraphBlock(t);else{let i=this._edgeless.host.view.viewFromPath("block",(0,st.UL)(t));if(i){let t=i.querySelector(".affine-block-children-container").getBoundingClientRect(),s=8*this.zoom,o=2*this.zoom,r=(0,iy.qE)(e.raw.clientX,t.left+o,t.right-o),a=(0,iy.qE)(e.raw.clientY,t.top+s,t.bottom-s);(0,st.kW)(r,a)}else(0,st.kW)(e.raw.clientX,e.raw.clientY)}}).catch(console.error);return}this.edgelessSelectionManager.set({elements:e.keys.shift?this.edgelessSelectionManager.has(t.id)?i.filter(e=>e!==t.id):[...i,t.id]:[t.id],editing:!1})}else e.keys.shift||(this.edgelessSelectionManager.clear(),(0,st.xb)(null));this._isDoubleClickedOnMask=!1}onContainerContextMenu(){(0,A.lQ)()}onContainerDblClick(e){if(this._doc.readonly){let t=this._service.viewport;if(1===t.zoom){let{centerX:e,centerY:i,zoom:s}=this._edgeless.service.getFitToScreenData();t.setViewport(s,[e,i],!0)}else{let[i,s]=t.toModelCoord(e.x,e.y);t.setViewport(1,[i,s],!0)}return}let t=this._pick(e.x,e.y,{expand:10});if(t){let[i,s]=this._service.viewport.toModelCoord(e.x,e.y);if(t instanceof E.n6){m$(t,this._edgeless,{x:i,y:s});return}if(t instanceof E.B5){mT(t,this._edgeless);return}if(t instanceof E.lw){mH(t,this._edgeless,[i,s]);return}if(gP(t)){mO(t,this._edgeless);return}if(t instanceof E.$f){mP(t,this._edgeless);return}}else{if(this._edgeless.doc.awarenessStore.getFlag("enable_edgeless_text")){let[t,i]=this._service.viewport.toModelCoord(e.x,e.y);this._edgeless.host.spec.getService("affine:edgeless-text").initEdgelessTextBlock({edgeless:this._edgeless,x:t,y:i})}else mA(this._edgeless,e);this._edgeless.service.telemetryService?.track("CanvasElementAdded",{control:"canvas:dbclick",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:"text"});return}if(e.raw.target&&e.raw.target instanceof HTMLElement&&e.raw.target.classList.contains("affine-note-mask")){this.onContainerClick(e),this._isDoubleClickedOnMask=!0;return}}onContainerDragEnd(){if(this._draggingSingleMindmap){if(this._hoveredMindMap&&this._hoveredMindMap.mergeInfo){let{mergeInfo:e,mindmap:t}=this._hoveredMindMap,{node:i,mindmap:s}=this._draggingSingleMindmap;!function(e,t,i,s,o,r){if(e===i)return e.moveTree(t,s,o,r);e.detach(t)&&i.addTree(s,t,o,r)}(s,i,t,e.target,e.index,e.layoutType)}else if(this._draggingSingleMindmap.detach){let{mindmap:e}=this._draggingSingleMindmap,t=e.detach(this._draggingSingleMindmap.node);t&&E.AR.createFromTree(t,e.style,e.layoutType,this._surface.model)}else this._draggingSingleMindmap.mindmap.layout(),this._toBeMoved.forEach(e=>e.pop("xywh"));this._draggingSingleMindmap.clear?.()}else this._toBeMoved.forEach(e=>{this._doc.transact(()=>{e.pop("xywh")}),e instanceof E.lw&&e.pop("labelXYWH"),e instanceof E.AR&&e.requestLayout()});if(this._lock&&(this._doc.captureSync(),this._lock=!1),this.edgelessSelectionManager.editing)return;let{surface:e}=this._edgeless;this._dragStartPos=[0,0],this._dragLastPos=[0,0],this._selectedBounds=[],this._edgeless.service.snap.cleanupAlignables(),e.overlays.frame.clear(),this._toBeMoved=[],this._selectedConnector=null,this._selectedConnectorLabelBounds=null,this._clearSelectingState(),this._clearMindMapHoverState.forEach(e=>e()),this._draggingSingleMindmap=null,this.dragType=a.None}onContainerDragMove(e){let{viewport:t}=this._service,i=t.zoom;switch(this.dragType){case a.Selecting:{this._dragLastPos=[e.x,e.y],this._updateSelectingState();let i=function(e,t,i=20){let{left:s,top:o,cumulativeParentScale:r}=e,{width:a,height:n}=e;a/=r,n/=r;let{x:l,y:c}=t,{containerOffset:d}=t;l+=d.x,c+=d.y;let h=l<s+i,u=l>s+a-i,p=c<o+i,f=c>o+n-i;if(!(h||u||p||f))return null;let g=0,m=0;return h?g=Math.max(-30,l-(s+i)):u&&(g=Math.min(30,l-(s+a-i))),p?m=Math.max(-30,c-(o+i)):f&&(m=Math.min(30,c-(o+n-i))),[g,m]}(t,e);i?this._startAutoPanning(i):this._stopAutoPanning();break}case a.AltCloning:case a.ContentMoving:{if(this._toBeMoved.every(e=>!this._isDraggable(e)))return;this._wheeling?(this._wheeling=!1,this._dragStartPos=[...this._dragLastPos]):this._dragLastPos=[e.x,e.y];let t=(e.x-this._dragStartPos[0])/i,s=(e.y-this._dragStartPos[1])/i,o=this._alignBound.clone(),r=e.keys.shift||this._edgeless.tools.shiftKey;this._moveContent([t,s],o,r,!0);break}case a.ConnectorLabelMoving:{let t=(e.x-this._dragStartPos[0])/i,s=(e.y-this._dragStartPos[1])/i;this._moveLabel([t,s])}case a.NativeEditing:}}async onContainerDragStart(e){if(this.edgelessSelectionManager.editing)return;let t=this._determineDragType(e),i=this.edgelessSelectionManager.selectedElements,s=new Set(i);if(i.forEach(e=>{gP(e)?this._edgeless.service.frame.getElementsInFrame(e).forEach(e=>s.add(e)):e.group instanceof E.AR&&i.length>1?e.group.descendants().forEach(e=>s.add(e)):e instanceof k.$b&&e.descendants().forEach(e=>s.add(e))}),this._toBeMoved=Array.from(s),e.keys.alt&&t===a.ContentMoving&&(t=a.AltCloning,await this._cloneContent()),this._filterConnectedConnector(),this._toBeMoved.sort((e,t)=>e instanceof E.lw?-1:1),this.initializeDragState(e,t),1===this._toBeMoved.length&&this._toBeMoved[0].group instanceof E.AR){let e=this._toBeMoved[0].group;this._draggingSingleMindmap={mindmap:e,node:e.getNode(this._toBeMoved[0].id),clear:e.stashTree(this._toBeMoved[0].id),startElementBound:e.elementBound}}else this._toBeMoved.forEach(e=>{e.stash("xywh"),e instanceof E.lw&&e.stash("labelXYWH")})}onContainerMouseMove(){(0,A.lQ)()}onContainerMouseOut(e){(0,A.lQ)()}onContainerPointerDown(){(0,A.lQ)()}onContainerTripleClick(){if(this._isDoubleClickedOnMask)return}onPressShiftKey(e){(0,A.lQ)()}onPressSpaceBar(e){let{service:t}=this._edgeless;if(this._dragging){if(e){let[e,t]=this._dragLastPos;this._moveSelectionStartPos=[e,t];let[i,s]=this._dragStartPos;this._moveSelectionDragStartTemp=[i,s]}else{let[e,i]=this._dragStartModelCoord;this._dragStartPos=t.viewport.toViewCoord(e,i),this._moveSelectionDragStartTemp=[...this._dragStartPos]}}}get draggingArea(){if(this.dragType===a.Selecting){let[e,t]=this._service.viewport.toViewCoord(this._dragStartModelCoord[0],this._dragStartModelCoord[1]),[i,s]=this._service.viewport.toViewCoord(this._dragLastModelCoord[0],this._dragLastModelCoord[1]);return{start:new DOMPoint(e,t),end:new DOMPoint(i,s)}}return null}get edgelessSelectionManager(){return this._edgeless.service.selection}get readonly(){return this._edgeless.doc.readonly}get zoom(){return this._edgeless.service.viewport.zoom}}var mZ=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},mj=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let mV=50,mR=50,mz=(()=>{let e,t,i,s,o,n=[(0,L.EM)("affine-edgeless-text")],l=[],c=P.Yx,d=[],h=[],u=[],p=[],f=[],g=[];return class extends c{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.P)(".edgeless-text-block-container")],o=[(0,L.P)(".affine-block-children-container")],mZ(this,null,i,{kind:"accessor",name:"_editing",static:!1,private:!1,access:{has:e=>"_editing"in e,get:e=>e._editing,set:(e,t)=>{e._editing=t}},metadata:r},d,h),mZ(this,null,s,{kind:"accessor",name:"_textContainer",static:!1,private:!1,access:{has:e=>"_textContainer"in e,get:e=>e._textContainer,set:(e,t)=>{e._textContainer=t}},metadata:r},u,p),mZ(this,null,o,{kind:"accessor",name:"childrenContainer",static:!1,private:!1,access:{has:e=>"childrenContainer"in e,get:e=>e.childrenContainer,set:(e,t)=>{e.childrenContainer=t}},metadata:r},f,g),mZ(null,e={value:t},n,{kind:"class",name:t.name,metadata:r},null,l),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    .edgeless-text-block-container[data-max-width='false'] .inline-editor span {
      word-break: normal !important;
      overflow-wrap: normal !important;
    }
  `}_initDragEffect(){let e=this.rootService.selection,t=this.parentBlock.selectedRect,i=this.disposables;e&&t&&(i.add(t.slots.dragStart.filter(()=>e.selectedElements.includes(this.model)).on(()=>{(t.dragDirection===r.Left||t.dragDirection===r.Right)&&(this._horizontalResizing=!0)})),i.add(t.slots.dragEnd.filter(()=>e.selectedElements.includes(this.model)).on(()=>{(t.dragDirection===r.Left||t.dragDirection===r.Right)&&(this._horizontalResizing=!1)})))}_updateH(){let e=m.z.deserialize(this.model.xywh),t=this._textContainer.getBoundingClientRect();e.h=Math.max(t.height/this.rootService.zoom,mR*this.rootService.zoom),this.doc.updateBlock(this.model,{xywh:e.serialize()})}_updateW(){let e=m.z.deserialize(this.model.xywh),t=this._textContainer.getBoundingClientRect();e.w=Math.max(t.width/this.rootService.zoom,mV*this.rootService.zoom),this.doc.updateBlock(this.model,{xywh:e.serialize()})}checkWidthOverflow(e){let t=!0,i=this._textContainer.style.width;return this._textContainer.style.width=`${e}px`,this.childrenContainer.scrollWidth>this.childrenContainer.offsetWidth&&(t=!1),this._textContainer.style.width=i,t}connectedCallback(){super.connectedCallback(),this.disposables.add(this.model.propsUpdated.on(({key:e})=>{this.updateComplete.then(()=>{let t=this.host.command,i=this.model.children.map(e=>this.host.selection.create("block",{blockId:e.id}));"fontStyle"===e?t.exec("formatBlock",{blockSelections:i,styles:{italic:null}}):"color"===e?t.exec("formatBlock",{blockSelections:i,styles:{color:null}}):"fontWeight"===e&&t.exec("formatBlock",{blockSelections:i,styles:{bold:null}})}).catch(console.error)})),this.style.transformOrigin="0 0"}firstUpdated(e){super.firstUpdated(e);let{disposables:t,rootService:i}=this,s=i.selection;this._initDragEffect(),t.add(s.slots.updated.on(()=>{s.has(this.model.id)&&s.editing?this._editing=!0:this._editing=!1})),this._resizeObserver.observe(this._textContainer),t.add(()=>{this._resizeObserver.disconnect()}),t.addFromEvent(this._textContainer,"click",e=>{if(!this._editing)return;let t=this._textContainer.getBoundingClientRect(),i=e.clientY<t.top+t.height/2,s=null;if(i){let e=this.model.firstChild();e&&(0,iS.o)(e,["affine:list","affine:paragraph"])||(s=this.doc.addBlock("affine:paragraph",{},this.model.id,0))}else{let e=this.model.lastChild();e&&(0,iS.o)(e,["affine:list","affine:paragraph"])||(s=this.doc.addBlock("affine:paragraph",{},this.model.id))}s&&this.rootService.selectionManager.setGroup("note",[this.rootService.selectionManager.create("text",{from:{blockId:s,index:0,length:0},to:null})])}),t.addFromEvent(this._textContainer,"focusout",()=>{this._editing&&this.rootService.selectionManager.clear()})}getRenderingRect(){let{xywh:e,scale:t,rotate:i,hasMaxWidth:s}=this.model,o=m.z.deserialize(e),r=s||this._horizontalResizing||this.dragMoving?o.w/t:void 0;return{x:o.x,y:o.y,w:r,h:o.h,rotate:i,zIndex:this.toZIndex()}}renderGfxBlock(){let{model:e}=this,{scale:t,rotate:i,hasMaxWidth:s}=e,o={transform:`rotate(${i}deg)`,transformOrigin:"center",padding:"5px 10px",border:`1px solid ${this._editing?"var(--affine—primary—color, #1e96eb)":"transparent"}`,borderRadius:"4px",boxSizing:"border-box",boxShadow:this._editing?"0px 0px 0px 2px rgba(30, 150, 235, 0.3)":"none",fontWeight:"400",lineHeight:"var(--affine-line-height)"};return this.style.transform=`scale(${t})`,(0,H.qy)`
      <div
        class="edgeless-text-block-container"
        data-max-width="${s}"
        style=${(0,Z.W)(o)}
      >
        <div
          style=${(0,Z.W)({pointerEvents:this._editing?"auto":"none"})}
        >
          ${this.renderPageContent()}
        </div>
      </div>
    `}renderPageContent(){let{fontFamily:e,fontStyle:t,fontWeight:i,textAlign:s}=this.model,o=im.Q.generateColorProperty(this.model.color,"#000000"),r=(0,Z.W)({color:o,fontFamily:(0,mf.s9)(e),fontStyle:t,fontWeight:i,textAlign:s});return(0,H.qy)`
      <div style=${r} class="affine-edgeless-text-block-container">
        <div class="affine-block-children-container">
          ${this.renderChildren(this.model)}
        </div>
      </div>
    `}toZIndex(){return`${this.rootService.layer.getZIndex(this.model)}`}tryFocusEnd(){let e=Array.from(this.querySelectorAll("affine-paragraph, affine-list")).at(-1);e&&this.host.selection.setGroup("note",[this.host.selection.create("text",{from:{blockId:e.blockId,index:e.model.text?.length??0,length:0},to:null})])}get dragMoving(){let e=this.rootService.tool.currentController;return e instanceof mD&&e.dragType===a.ContentMoving}get parentBlock(){return super.parentBlock}#iO;get _editing(){return this.#iO}set _editing(e){this.#iO=e}#iP;get _textContainer(){return this.#iP}set _textContainer(e){this.#iP=e}#iA;get childrenContainer(){return this.#iA}set childrenContainer(e){this.#iA=e}constructor(){super(...arguments),this._horizontalResizing=!1,this._resizeObserver=new ResizeObserver(()=>{if(!this.doc.readonly){if(!this.rootService){console.error("rootService is not ready in edgeless-text-block");return}this._editing&&!this.model.hasMaxWidth&&this._updateW(),this._updateH()}}),this.rootServiceFlavour="affine:page",this.#iO=mj(this,d,!1),this.#iP=(mj(this,h),mj(this,u,void 0)),this.#iA=(mj(this,p),mj(this,f,void 0)),mj(this,g)}static{mj(t,l)}},t})();class mF extends P.ps{initEdgelessTextBlock({edgeless:e,x:t,y:i}){let s=e.service.zoom,o=e.service.addBlock("affine:edgeless-text",{xywh:new m.z(t-mV*s/2,i-mR*s/2,mV*s,mR*s).serialize()},e.surface.blockId),r=e.doc.addBlock("affine:paragraph",{type:"text"},o);return e.updateComplete.then(()=>{e.service.selection.set({elements:[o],editing:!0}),li.Km(e.host,r)?.then(()=>{let t=e.host.view.getBlock(o),i=e.host.view.getBlock(r);if(!t||!i)return;let s=new AbortController;t.addEventListener("focusout",s=>{i.model.text&&(0!==i.model.text.length||null===s.relatedTarget)||e.doc.deleteBlock(t.model)},{once:!0,signal:s.signal}),i.model.deleted.once(()=>{s.abort()})}).catch(console.error)}).catch(console.error),o}}let mN={schema:gC.C,view:{component:(0,ic.eu)`affine-edgeless-text`},service:mF},mq={schema:iM.o,view:{component:(0,ic.eu)`affine-frame`}},mU=new class{constructor(e){this._originalArray=[...e],this._copyArray=[...e]}randomIndex(e){return Math.floor(Math.random()*e)}pick(){0===this._copyArray.length&&(this._copyArray=[...this._originalArray]);let e=this.randomIndex(this._copyArray.length),t=this._copyArray[e];return this._copyArray.splice(e,1),t}}(["var(--affine-multi-players-purple)","var(--affine-multi-players-magenta)","var(--affine-multi-players-red)","var(--affine-multi-players-orange)","var(--affine-multi-players-green)","var(--affine-multi-players-blue)","var(--affine-multi-players-brown)","var(--affine-multi-players-grey)"]);class mW{constructor(e){this.host=e;let t=this.rootService.editPropsStore.getStorage("remoteColor");if(t){this.awareness.awareness.setLocalStateField("color",t);return}let i=mU.pick();this.awareness.awareness.setLocalStateField("color",i),this.rootService.editPropsStore.setStorage("remoteColor",i)}get awareness(){return this.host.doc.collection.awarenessStore}get rootService(){return this.host.spec.getService("affine:page")}get(e){let t=this.awareness.getStates().get(e)?.color;if(t)return t;if(e!==this.awareness.awareness.clientID)return null;let i=this.rootService.editPropsStore.getStorage("remoteColor");if(i)return this.awareness.awareness.setLocalStateField("color",i),i;let s=mU.pick();return this.awareness.awareness.setLocalStateField("color",s),this.rootService.editPropsStore.setStorage("remoteColor",s),s}}function mG(e){return"AFFINE-PAGE-ROOT"===e.tagName||"AFFINE-EDGELESS-ROOT"===e.tagName}function mY(e,t){return e.left<=t.left+t.width&&e.left+e.width>=t.left&&e.top<=t.top+t.height&&e.top+e.height>=t.top}function mK(e,t){let i=Math.min(e.left,t.left),s=Math.min(e.top,t.top);return{left:i,top:s,width:Math.max(e.left+e.width,t.left+t.width)-i,height:Math.max(e.top+e.height,t.top+t.height)-s}}var mX=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},mQ=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let mJ="affine-doc-remote-selection-widget";(()=>{let e,t,i=[(0,L.EM)(mJ)],s=[],o=P.W;(class extends o{static{t=this}constructor(){super(...arguments),this._abortController=new AbortController,this._remoteColorManager=null,this._remoteSelections=(0,sh.EW)(()=>{let e=this.doc.awarenessStore.getStates();return[...this.std.selection.remoteSelections.entries()].map(([t,i])=>({id:t,selections:i,user:e.get(t)?.user}))}),this._resizeObserver=new ResizeObserver(()=>{this.requestUpdate()})}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;mX(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    :host {
      pointer-events: none;
    }
  `}get _config(){return{blockSelectionBackgroundTransparent:e=>(0,iS.o)(e,["affine:code","affine:database","affine:image"])||!/affine:embed-*/.test(e.flavour),...this.std.spec.getConfig("affine:page")?.docRemoteSelectionWidget??{}}}get _container(){return this.offsetParent}get _containerRect(){return this.offsetParent?.getBoundingClientRect()}_getCursorRect(e){if(!mG(this.block))return console.error("remote selection widget must be used in page component"),null;let t=e.find(e=>e instanceof P.U3),i=e.filter(e=>e instanceof P.as),s=this._container,o=this._containerRect;if(t){let e=this.std.range.textSelectionToRange(this._selectionManager.create("text",{from:{blockId:t.to?t.to.blockId:t.from.blockId,index:t.to?t.to.index+t.to.length:t.from.index+t.from.length,length:0},to:null}));if(!e)return null;let i=this._container,s=this._containerRect,o=Array.from(e.getClientRects());if(1===o.length){let e=o[0];return{width:2,height:e.height,top:e.top-(s?.top??0)+(i?.scrollTop??0),left:e.left-(s?.left??0)+(i?.scrollLeft??0)}}}else if(i.length>0){let e=i[i.length-1],t=this.host.view.getBlock(e.blockId);if(t){let e=t.getBoundingClientRect();return{width:2,height:e.height,top:e.top-(o?.top??0)+(s?.scrollTop??0),left:e.left+e.width-(o?.left??0)+(s?.scrollLeft??0)}}}return null}_getSelectionRect(e){if(!mG(this.block))return console.error("remote selection widget must be used in page component"),[];let t=e.find(e=>e instanceof P.U3),i=e.filter(e=>e instanceof P.as),s=this._container,o=this._containerRect;if(t){let e=this.std.range.textSelectionToRange(t);if(e)return function(e){let t,i=[];do{t=!1;let o=[...i];for(let i of e){let e=!1;for(let r=0;r<o.length;r++){var s;if((s=o[r]).left<=i.left&&s.top<=i.top&&s.left+s.width>=i.left+i.width&&s.top+s.height>=i.top+i.height){e=!0;break}if(mY(o[r],i)){o[r]=mK(o[r],i),e=!0,t=!0;break}}e||o.push(i)}if(!t){for(let e=0;e<o.length;e++)for(let i=e+1;i<o.length;i++)if(mY(o[e],o[i])){o[e]=mK(o[e],o[i]),o.splice(i,1),t=!0;break}}i=o}while(t)return i}(Array.from(e.getClientRects()).map(e=>({width:e.right-e.left,height:e.bottom-e.top,top:e.top-(o?.top??0)+(s?.scrollTop??0),left:e.left-(o?.left??0)+(s?.scrollLeft??0)})).filter(e=>e.width>0&&e.height>0))}else if(i.length>0)return i.flatMap(e=>{let t=this.host.view.getBlock(e.blockId);if(t){let e=t.getBoundingClientRect(),i=this._config.blockSelectionBackgroundTransparent(t.model);return{width:e.width,height:e.height,top:e.top-(o?.top??0)+(s?.scrollTop??0),left:e.left-(o?.left??0)+(s?.scrollLeft??0),transparent:i}}return[]});return[]}get _selectionManager(){return this.host.selection}connectedCallback(){super.connectedCallback(),this.handleEvent("wheel",()=>{this.requestUpdate()}),this.disposables.addFromEvent(window,"resize",()=>{this.requestUpdate()}),this._remoteColorManager=new mW(this.host)}disconnectedCallback(){super.disconnectedCallback(),this._resizeObserver.disconnect(),this._abortController.abort()}render(){if(0===this._remoteSelections.value.length)return H.s6;let e=new Set,t=this._remoteSelections.value.flatMap(({selections:t,id:i,user:s})=>e.has(i)?[]:(e.add(i),{id:i,selections:t,rects:this._getSelectionRect(t),user:s})),i=this._remoteColorManager;return(0,V.Z1)(i),(0,H.qy)`<div>
      ${t.flatMap(e=>{let t=i.get(e.id);if(!t)return;let s=this._getCursorRect(e.selections);return e.rects.map(e=>(0,H.qy)`<div style="${(0,Z.W)({position:"absolute",width:`${e.width}px`,height:`${e.height}px`,top:`${e.top}px`,left:`${e.left}px`,backgroundColor:e.transparent?"transparent":t,pointerEvent:"none",opacity:"20%",borderRadius:"3px"})}"></div>`).concat([(0,H.qy)`
              <div
                style="${s?(0,Z.W)({position:"absolute",width:`${s.width}px`,height:`${s.height}px`,top:`${s.top}px`,left:`${s.left}px`,backgroundColor:t,pointerEvent:"none"}):(0,Z.W)({display:"none"})}"
              >
                <div
                  style="${(0,Z.W)({position:"relative",height:"100%"})}"
                >
                  <div
                    style="${(0,Z.W)({position:"absolute",left:"-4px",bottom:`${s?.height?s.height-4:0}px`,backgroundColor:t,color:"white",maxWidth:"160px",padding:"0 3px",border:"1px solid var(--affine-pure-black-20)",boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.16)",borderRadius:"4px",fontSize:"12px",lineHeight:"18px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:e.user?"block":"none"})}"
                  >
                    ${e.user?.name}
                  </div>
                </div>
              </div>
            `])})}
    </div>`}static{mQ(t,s)}})})();class m1{constructor(e){this._value=[...e]}setup(e,t){let i=this._value.findIndex(t=>t.schema.model.flavour===e);if(-1===i)throw new u.Ss(p.O.ValueNotExists,`BlockSpec not found for ${e}`);this._value[i]={...this._value[i]};let s=this._value[i],o=s.setup;s.setup=(e,i)=>{o?.(e,i),t(e,i)}}get value(){return this._value}}class m0{constructor(){this.specMap=new Map}static getInstance(){return m0.instance||(m0.instance=new m0),m0.instance}addSpec(e,t){this.specMap.has(e)||this.specMap.set(e,t)}clearSpec(e){this.specMap.delete(e)}extendSpec(e,t){let i=this.specMap.get(e);if(!i){console.error(`Spec not found for ${e}`);return}this.specMap.set(e,[...i,...t])}getSpec(e){let t=this.specMap.get(e);return(0,V.Z1)(t,`Spec not found for ${e}`),new m1(t)}hasSpec(e){return this.specMap.has(e)}}function m2(e){let t=e.getBlocksByFlavour("affine:surface");return 0!==t.length?t[0].model:null}let m5=(0,H.qy)`
  <svg
    width="182"
    height="182"
    viewBox="0 0 182 182"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <rect
      x="37.645"
      y="37.6452"
      width="106.71"
      height="106.71"
      stroke="#D2D2D2"
      stroke-width="0.586319"
    />
    <path
      d="M91 144.234L37.7664 91.0003L91 37.7666L144.234 91.0003L91 144.234Z"
      stroke="#D2D2D2"
      stroke-width="0.586319"
    />
    <path
      d="M90.564 37.352C99.4686 32.1345 109.836 29.1436 120.902 29.1436C154.093 29.1436 181 56.0502 181 89.2413C181 113.999 166.03 135.259 144.648 144.466"
      stroke="#D2D2D2"
      stroke-width="0.586319"
    />
    <path
      d="M144.465 90.707C149.683 99.6117 152.674 109.979 152.674 121.045C152.674 154.236 125.767 181.143 92.5759 181.143C67.8187 181.143 46.5579 166.173 37.3516 144.791"
      stroke="#D2D2D2"
      stroke-width="0.586319"
    />
    <path
      d="M91.436 144.465C82.5314 149.683 72.1639 152.674 61.0978 152.674C27.9068 152.674 1.0001 125.767 1.0001 92.576C1.00011 67.8188 15.9701 46.558 37.3519 37.3518"
      stroke="#D2D2D2"
      stroke-width="0.586319"
    />
    <path
      d="M37.3518 91.436C32.1342 82.5314 29.1433 72.1639 29.1433 61.0978C29.1433 27.9067 56.05 1.00002 89.241 1.00001C113.998 1.00001 135.259 15.97 144.465 37.3518"
      stroke="#D2D2D2"
      stroke-width="0.586319"
    />
    <path
      d="M37.3518 37.3521L144.648 144.649"
      stroke="#D2D2D2"
      stroke-width="0.586319"
    />
    <path
      d="M144.648 37.3521L37.3518 144.649"
      stroke="#D2D2D2"
      stroke-width="0.586319"
    />
    <path d="M91 37.3521V144.649" stroke="#D2D2D2" stroke-width="0.586319" />
    <path d="M144.648 91L37.3518 91" stroke="#D2D2D2" stroke-width="0.586319" />
    <ellipse cx="144.355" cy="37.645" rx="4.39739" ry="4.3974" fill="#5B5B5B" />
    <ellipse
      cx="144.355"
      cy="144.355"
      rx="4.39739"
      ry="4.3974"
      fill="#5B5B5B"
    />
    <ellipse
      cx="144.355"
      cy="90.9999"
      rx="4.39739"
      ry="4.3974"
      fill="#5B5B5B"
    />
    <ellipse cx="37.645" cy="37.645" rx="4.39739" ry="4.3974" fill="#5B5B5B" />
    <ellipse cx="37.645" cy="144.355" rx="4.39739" ry="4.3974" fill="#5B5B5B" />
    <ellipse cx="37.645" cy="90.9999" rx="4.39739" ry="4.3974" fill="#5B5B5B" />
    <ellipse
      cx="90.9999"
      cy="37.6451"
      rx="4.3974"
      ry="4.39739"
      transform="rotate(-90 90.9999 37.6451)"
      fill="#5B5B5B"
    />
    <ellipse
      cx="90.9999"
      cy="90.4136"
      rx="4.3974"
      ry="4.39739"
      transform="rotate(-90 90.9999 90.4136)"
      fill="#5B5B5B"
    />
    <ellipse
      cx="90.9999"
      cy="144.356"
      rx="4.3974"
      ry="4.39739"
      transform="rotate(-90 90.9999 144.356)"
      fill="#5B5B5B"
    />
  </svg>
`;function m7(e){let t=e.keys,i=t.map(t=>e[t]);return Object.fromEntries(t.map((e,t)=>[e,i[t]]))}let m3=(0,H.AH)`
  .affine-embed-doc-content-note-blocks affine-divider,
  .affine-embed-doc-content-note-blocks affine-divider > * {
    margin-top: 0px !important;
    margin-bottom: 0px !important;
    padding-top: 8px;
    padding-bottom: 8px;
  }
  .affine-embed-doc-content-note-blocks affine-paragraph,
  .affine-embed-doc-content-note-blocks affine-list {
    margin-top: 4px !important;
    margin-bottom: 4px !important;
    padding: 0 2px;
  }
  .affine-embed-doc-content-note-blocks affine-paragraph *,
  .affine-embed-doc-content-note-blocks affine-list * {
    margin-top: 0px !important;
    margin-bottom: 0px !important;
    padding-top: 0;
    padding-bottom: 0;
    line-height: 20px;
    font-size: var(--affine-font-xs);
    font-weight: 400;
  }
  .affine-embed-doc-content-note-blocks affine-list .affine-list-block__prefix {
    height: 20px;
  }
  .affine-embed-doc-content-note-blocks affine-paragraph .quote {
    padding-left: 15px;
    padding-top: 8px;
    padding-bottom: 8px;
  }
  .affine-embed-doc-content-note-blocks affine-paragraph:has(.h1),
  .affine-embed-doc-content-note-blocks affine-paragraph:has(.h2),
  .affine-embed-doc-content-note-blocks affine-paragraph:has(.h3),
  .affine-embed-doc-content-note-blocks affine-paragraph:has(.h4),
  .affine-embed-doc-content-note-blocks affine-paragraph:has(.h5),
  .affine-embed-doc-content-note-blocks affine-paragraph:has(.h6) {
    margin-top: 6px !important;
    margin-bottom: 4px !important;
    padding: 0 2px;
  }
  .affine-embed-doc-content-note-blocks affine-paragraph:has(.h1) *,
  .affine-embed-doc-content-note-blocks affine-paragraph:has(.h2) *,
  .affine-embed-doc-content-note-blocks affine-paragraph:has(.h3) *,
  .affine-embed-doc-content-note-blocks affine-paragraph:has(.h4) *,
  .affine-embed-doc-content-note-blocks affine-paragraph:has(.h5) *,
  .affine-embed-doc-content-note-blocks affine-paragraph:has(.h6) * {
    margin-top: 0px !important;
    margin-bottom: 0px !important;
    padding-top: 0;
    padding-bottom: 0;
    line-height: 20px;
    font-size: var(--affine-font-xs);
    font-weight: 600;
  }

  .affine-embed-linked-doc-block.horizontal {
    affine-paragraph,
    affine-list {
      margin-top: 0 !important;
      margin-bottom: 0 !important;
      max-height: 40px;
      overflow: hidden;
      display: flex;
    }
    affine-paragraph .quote {
      padding-top: 4px;
      padding-bottom: 4px;
      height: 28px;
    }
    affine-paragraph .quote::after {
      height: 20px;
      margin-top: 4px !important;
      margin-bottom: 4px !important;
    }
  }
`;function m4(e,t){let i=e.std.spec.getService("affine:page").notificationService;return i?i.prompt({title:"Create linked doc",message:"Enter a title for the new doc.",placeholder:"Untitled",autofill:t,confirmText:"Confirm",cancelText:"Cancel"}):Promise.resolve(void 0)}function m6(e){let t=e[0];if((0,iS.o)(t,["affine:paragraph"])&&t.type.startsWith("h"))return t.text.toString()}function m8(e,t){let i=e.std.spec.getService("affine:page").notificationService;if(!i)return;let s=new AbortController,o=()=>{t.history.off("stack-item-added",a),t.history.off("stack-item-popped",n),l.dispose()},r=()=>{s.abort(),o()},a=t.history.on("stack-item-added",r),n=t.history.on("stack-item-popped",r),l=e.slots.unmounted.on(r);i.notify({title:"Linked doc created",message:"You can click undo to recovery block content",accent:"info",duration:1e4,action:{label:"Undo",onClick:()=>{t.undo(),o()}},abort:s.signal,onClose:o})}function m9(e){let t=e.linkedDoc;(0,V.Z1)(t,`Trying to load page ${e.model.pageId} in linked page block, but the page is not found.`),function(e){e.isBannerEmpty=!0;let t=e.std.spec.getService("affine:surface-ref");(0,V.Z1)(t,"Surface ref service not found."),e.surfaceRefService=t,e.cleanUpSurfaceRefRenderer();let i=e.linkedDoc;(0,V.Z1)(i,`Trying to load page ${e.model.pageId} in linked page block, but the page is not found.`),e.surfaceRefRenderer=e.surfaceRefService.getRenderer(P.yX.id(e.path),i),e.surfaceRefRenderer.slots.mounted.on(()=>{"edgeless"===e.editorMode?vr(e).catch(t=>{console.error(t),e.isError=!0}):va(e).catch(t=>{console.error(t),e.isError=!0})}),e.surfaceRefRenderer.mount()}(e),vs(e).catch(t=>{console.error(t),e.isError=!0})}function ve(e){let t=e.root?.children.filter(e=>iS.o(e,["affine:note"])&&e.displayMode!==q.ko.EdgelessOnly);return t&&t.length?t:null}function vt(e,t){if(!e)return!0;if("page"===t){let t=ve(e);return!t||!t.length||t.every(e=>e.children.every(e=>"affine:paragraph"===e.flavour&&(!e.text||0===e.text.length)))}{let t=m2(e);return!t?.elementModels.length&&!(e.blockSize>2)}}function vi(e){return!!(0,iS.o)(e,["affine:divider"])||!!(0,iS.o)(e,["affine:paragraph","affine:list"])&&!!e.text?.toString().length}async function vs(e){e.isNoteContentEmpty=!0;let t=e.linkedDoc;(0,V.Z1)(t,`Trying to load page ${e.model.pageId} in linked page block, but the page is not found.`);let i=ve(t);if(!i)return;let s=i.flatMap(e=>e.children.filter(vi));if(!s.length)return;e.isNoteContentEmpty=!1;let o=e.model.style,r=await e.noteContainer;for(;r.firstChild;)r.firstChild.remove();let a=document.createElement("div");if(a.classList.add("affine-embed-doc-content-note-blocks"),a.contentEditable="false",r.append(a),"horizontal"===o)s.splice(1);else{let e=Math.floor(fA.Hn[o]/20);s.length>e&&s.splice(e)}let n=s.map(e=>e.id),l=[];n.map(e=>{let i=e;for(;i&&!l.includes(i);)l.push(i),i=t.blockCollection.crud.getParent(i)});let c={mode:"strict",match:l.map(e=>({id:e,viewType:v.lv.Display}))},d=t.blockCollection.getDoc({query:c}),h=m0.getInstance().getSpec("page:preview"),u=e.host.renderSpecPortal(d,h.value),p=document.createDocumentFragment();(0,H.XX)(u,p),a.append(p),a.querySelectorAll('[contenteditable="true"]').forEach(e=>{e.contentEditable="false"})}async function vo(e,t){let i=await e.bannerContainer;if(i){for(;i.firstChild;)i.firstChild.remove();t instanceof HTMLElement?i.append(t):(0,H.XX)(t,i)}}async function vr(e){let t=e.surfaceRefRenderer;(0,V.Z1)(t,"Surface ref renderer is not found.");let i=t.surfaceRenderer,s=document.createElement("div");await vo(e,s),i.attach(s);let o=Array.from(t.surfaceModel?.elementModels??[]).map(e=>m.z.deserialize(e.xywh)),r=(0,iY.ql)(o);r?(i.viewport.onResize(),i.viewport.setViewportByBound(r)):e.isBannerEmpty=!0}async function va(e){let t=e.linkedDoc;(0,V.Z1)(t,`Trying to load page ${e.model.pageId} in linked page block, but the page is not found.`);let i=ve(t);if(!i){e.isBannerEmpty=!0;return}let s=i.flatMap(e=>e.children.filter(e=>(0,iS.o)(e,["affine:image"])))[0];if(s){await vn(e,s);return}e.isBannerEmpty=!0}async function vn(e,t){let i=t.sourceId;if(!i)return;let s=e.linkedDoc?.blobSync;if(!s)return;let o=await s.get(i);if(!o)return;let r=URL.createObjectURL(o),a=document.createElement("img");a.src=r,await vo(e,a),e.isBannerEmpty=!1}function vl(e,t,i){let s=m7(t),o=e.addBlock(t.flavour,s,i),r=t.children;r.length>0&&r.forEach(t=>{vl(e,t,o)})}function vc(e,t,i){let s=t[0];(0,V.Z1)(s);let o=i||m6(t),r=function(e,t,i){let s=e.collection.createDoc({});return s.load(()=>{let o=s.addBlock("affine:page",{title:new e.Text(i)});s.addBlock("affine:surface",{},o);let r=s.addBlock("affine:note",{},o);t.forEach(e=>{vl(s,e,r)})}),s}(e,t,o);return e.addSiblingBlocks(s,[{flavour:"affine:embed-linked-doc",pageId:r.id}],"before"),t.forEach(t=>e.deleteBlock(t)),r}class vd{constructor(e){this.rootComponent=e,this._handleDelete=()=>{let e=this._currentSelection.filter(e=>e.is("block"));0!==e.length&&this._doc.transact(()=>{let t=this._replaceBlocksBySelection(e,"affine:paragraph",{});t&&this._selection.setGroup("note",[this._selection.create("text",{from:{index:0,length:0,blockId:t.blockId},to:null})])})},this.rootComponent.bindHotKey({"Mod-z":e=>{e.get("defaultState").event.preventDefault(),this._doc.canUndo&&this._doc.undo()},"Shift-Mod-z":e=>{e.get("defaultState").event.preventDefault(),this._doc.canRedo&&this._doc.redo()},"Control-y":e=>{sn.H8&&(e.get("defaultState").event.preventDefault(),this._doc.canRedo&&this._doc.redo())},"Mod-Backspace":()=>!0,Backspace:this._handleDelete,Delete:this._handleDelete,"Control-d":()=>{sn.vL&&this._handleDelete()},"Mod-Shift-l":()=>{this._createEmbedBlock()}},{global:!0})}_createEmbedBlock(){let e=this.rootComponent,[t,i]=this.rootComponent.std.command.chain().getSelectedModels({types:["block"],mode:"highest"}).run(),s=i.selectedModels?.filter(e=>!e.flavour.startsWith("affine:embed-")&&iS.o(o.getParent(e),["affine:note"]));if(!s?.length)return;let o=e.host.doc,r=m6(s);m4(e.host,r).then(t=>{if(null===t)return;let i=vc(o,s,t);e.host.spec.getService("affine:embed-linked-doc").slots.linkedDocCreated.emit({docId:i.id}),m8(e.host,o)})}get _currentSelection(){return this._selection.value}_deleteBlocksBySelection(e){e.forEach(e=>{let t=this._doc.getBlockById(e.blockId);t&&this._doc.deleteBlock(t)})}get _doc(){return this.rootComponent.doc}_replaceBlocksBySelection(e,t,i){let s=e[0],o=this._doc.getBlockById(s.blockId),r=this.rootComponent.host.view.getBlock(s.blockId);(0,V.Z1)(o,`Cannot find block ${s.blockId}`),(0,V.Z1)(r,`Cannot find block view ${s.blockId}`);let a=this._doc.getParent(o),n=a?.children.indexOf(o);this._deleteBlocksBySelection(e);try{this._doc.schema.validate(t,a?.flavour)}catch{return null}let l=this._doc.addBlock(t,i,a,n);return{blockId:l,path:l}}get _selection(){return this.rootComponent.host.selection}}var vh=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},vu=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let vp=(()=>{let e,t,i=[(0,L.EM)("affine-page-root")],s=[],o=P.p_,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;vh(this,null,[(0,L.P)(".affine-page-root-block-container")],{kind:"accessor",name:"rootElementContainer",static:!1,private:!1,access:{has:e=>"rootElementContainer"in e,get:e=>e.rootElementContainer,set:(e,t)=>{e.rootElementContainer=t}},metadata:n},r,a),vh(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    editor-host:has(> affine-page-root, * > affine-page-root) {
      display: block;
      height: 100%;
    }

    affine-page-root {
      display: block;
      height: 100%;
    }

    .affine-page-root-block-container {
      display: flex;
      flex-direction: column;
      width: 100%;
      height: 100%;
      font-family: var(--affine-font-family);
      font-size: var(--affine-font-base);
      line-height: var(--affine-line-height);
      color: var(--affine-text-primary-color);
      font-weight: 400;
      max-width: var(--affine-editor-width);
      margin: 0 auto;
      /* cursor: crosshair; */
      cursor: default;

      /* Leave a place for drag-handle */
      /* Do not use prettier format this style, or it will be broken */
      /* prettier-ignore */
      padding-left: var(--affine-editor-side-padding, ${24}px);
      /* prettier-ignore */
      padding-right: var(--affine-editor-side-padding, ${24}px);
      /* prettier-ignore */
      padding-bottom: var(--affine-editor-bottom-padding, ${32}px);
    }

    /* Extra small devices (phones, 640px and down) */
    @container viewport (width <= 640px) {
      .affine-page-root-block-container {
        padding-left: ${24}px;
        padding-right: ${24}px;
      }
    }

    .affine-block-element {
      display: block;
    }

    @media print {
      .selected {
        background-color: transparent !important;
      }
    }
  `}_createDefaultNoteBlock(){let{doc:e}=this,t=e.addBlock("affine:note",{},e.root?.id);return e.getBlockById(t)}_getDefaultNoteBlock(){return this.doc.root?.children.find(e=>"affine:note"===e.flavour)??this._createDefaultNoteBlock()}_initViewportResizeEffect(){let e=this.viewport,t=this.viewportElement;if(!e||!t)return;let i=new ResizeObserver(i=>{for(let{target:s}of i)if(s===t){this.slots.viewportUpdated.emit(e);break}});i.observe(t),this.disposables.add(()=>{i.unobserve(t),i.disconnect()})}connectedCallback(){super.connectedCallback(),this.clipboardController.hostConnected(),this.keyboardManager=new vd(this),this.bindHotKey({"Mod-a":()=>{let e=this.model.children.filter(e=>!!(0,st.op)(e,["affine:note"])&&e.displayMode!==st.ko.EdgelessOnly).flatMap(e=>e.children.map(e=>this.std.selection.create("block",{blockId:e.id})));return this.std.selection.setGroup("note",e),!0},ArrowUp:()=>{let e=this.host.selection.value.find(e=>e.is("text")||e.is("block"));if(!e)return;let t=null,i=(0,st.UL)(this.doc.getBlockById(e.blockId));for(;i.length>0&&!t;){let e=this.doc.getBlockById(i[i.length-1]);e&&"affine:note"===e.flavour&&(t=e),i=i.slice(0,-1)}if(!t)return;let s=this.doc.getPrev(t);if(!s||"affine:note"!==s.flavour){let t=e.is("text")&&0===e.start.index;(e.is("block")||t)&&(0,st.Zr)(this.host);return}if(0!==this.doc.getBlockByFlavour("affine:note").indexOf(s))return;let o=this.std.range.value;requestAnimationFrame(()=>{let e=this.std.range.value;if(o&&e&&o.startContainer===e.startContainer&&o.startOffset===e.startOffset&&o.endContainer===e.endContainer&&o.endOffset===e.endOffset){let e=(0,st.RX)(this.host);e&&e.focusEnd()}})}}),this.handleEvent("click",e=>{var t,i,s,o,r;let a=e.get("pointerState");if(a.raw.target!==this&&a.raw.target!==this.viewportElement&&a.raw.target!==this.rootElementContainer)return;let{paddingLeft:n,paddingRight:l}=window.getComputedStyle(this.rootElementContainer);if(!this.viewport)return;if(t=this.viewport.left,i=this.viewport.clientWidth,s=this.rootElementContainer.clientWidth,o=parseFloat(n),r=parseFloat(l),a.raw.clientX<t+(i-s)/2+o||a.raw.clientX>t+(i-s)/2+s-r){this.host.selection.clear(["block"]);return}let c=null,d=this.doc.readonly,h=this.model.children.slice().reverse().find(e=>!!(0,st.op)(e,["affine:note"])&&!!e.displayMode&&e.displayMode!==st.ko.EdgelessOnly);if(h){let e=h.children.at(-1);if(!e||!e.text||(0,st.op)(e,["affine:code","affine:divider","affine:image","affine:database","affine:bookmark","affine:attachment","affine:surface-ref"])||/affine:embed-*/.test(e.flavour)){if(d)return;c=this.doc.addBlock("affine:paragraph",{},h.id)}}else{if(d)return;let e=this.doc.addBlock("affine:note",{},this.model.id);c=this.doc.addBlock("affine:paragraph",{},e)}this.updateComplete.then(()=>{c&&this.host.selection.setGroup("note",[this.host.selection.create("text",{from:{blockId:c,index:0,length:0},to:null})])}).catch(console.error)})}disconnectedCallback(){super.disconnectedCallback(),this.clipboardController.hostDisconnected(),this._disposables.dispose(),this.keyboardManager=null}firstUpdated(){this._initViewportResizeEffect(),this.model.children.filter(e=>(0,st.op)(e,["affine:note"])).forEach(e=>{this.disposables.add(e.propsUpdated.on(({key:e})=>{"displayMode"===e&&this.requestUpdate()}))})}renderBlock(){let e=(0,H.qy)`${(0,D.u)(this.model.children.filter(e=>{let t=(0,st.op)(e,["affine:note"]),i=!!e.displayMode&&e.displayMode===st.ko.EdgelessOnly;return!(t&&i)}),e=>e.id,e=>this.host.renderModel(e))}`,t=(0,H.qy)`${(0,D.u)(Object.entries(this.widgets),([e])=>e,([e,t])=>t)}`;return(0,H.qy)`
      <div class="affine-page-root-block-container">${e} ${t}</div>
    `}get rootScrollContainer(){return h7(this)}get slots(){return this.service.slots}get viewport(){if(!this.viewportElement)return null;let{scrollLeft:e,scrollTop:t,scrollWidth:i,scrollHeight:s,clientWidth:o,clientHeight:r}=this.viewportElement,{top:a,left:n}=this.viewportElement.getBoundingClientRect();return{top:a,left:n,scrollLeft:e,scrollTop:t,scrollWidth:i,scrollHeight:s,clientWidth:o,clientHeight:r}}get viewportElement(){return this._viewportElement||(this._viewportElement=this.host.closest(".affine-page-viewport")),this._viewportElement}#iH;get rootElementContainer(){return this.#iH}set rootElementContainer(e){this.#iH=e}constructor(){super(...arguments),this._viewportElement=null,this.clipboardController=new g_(this),this.focusFirstParagraph=()=>{let e=this._getDefaultNoteBlock(),t=e?.children.find(e=>st.op(e,["affine:paragraph","affine:list","affine:code"]));if(t)st.Km(this.host,t.id)?.catch(console.error);else{let t=this.doc.addBlock("affine:paragraph",{},e,0);st.Km(this.host,t)?.catch(console.error)}},this.keyboardManager=null,this.prependParagraphWithText=e=>{let t=this.doc.addBlock("affine:paragraph",{text:e},this._getDefaultNoteBlock(),0);st.Km(this.host,t)?.catch(console.error)},this.#iH=vu(this,r,void 0),vu(this,a)}static{vu(t,s)}},t})();function vf(e,t,i=50){let{scrollHeight:s,clientHeight:o,scrollTop:r}=e,a=r,n=s-o,l=0,c=!1;return Math.ceil(r)<n&&o-t<i?(l=i-(o-t),c=Math.ceil(a)<n):r>0&&t<i&&(l=t-i,c=a>0),a+=.25*l,!!c&&r!==a&&(e.scrollTop=a,!0)}var vg=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},vm=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let vv=(()=>{let e,t,i,s,o=[(0,L.EM)("affine-drag-preview")],r=[],a=P.ao,n=[],l=[],c=[],d=[];return class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],vg(this,null,i,{kind:"accessor",name:"onRemove",static:!1,private:!1,access:{has:e=>"onRemove"in e,get:e=>e.onRemove,set:(e,t)=>{e.onRemove=t}},metadata:h},n,l),vg(this,null,s,{kind:"accessor",name:"template",static:!1,private:!1,access:{has:e=>"template"in e,get:e=>e.template,set:(e,t)=>{e.template=t}},metadata:h},c,d),vg(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),vm(t,r)}constructor(e){super(),vm(this,d),this.offset=e??new g.b(0,0)}disconnectedCallback(){this.onRemove&&this.onRemove(),super.disconnectedCallback()}render(){return(0,H.qy)`<style>
        affine-drag-preview {
          box-sizing: border-box;
          position: absolute;
          display: block;
          height: auto;
          font-family: ${oY.$7.fontSansFamily};
          font-size: var(--affine-font-base);
          line-height: var(--affine-line-height);
          color: var(--affine-text-primary-color);
          font-weight: 400;
          top: 0;
          left: 0;
          transform-origin: 0 0;
          opacity: 0.5;
          user-select: none;
          pointer-events: none;
          caret-color: transparent;
          z-index: 3;
        }

        .affine-drag-preview-grabbing * {
          cursor: grabbing !important;
        }</style
      >${this.template}`}#iL=vm(this,n,null);get onRemove(){return this.#iL}set onRemove(e){this.#iL=e}#ew=(vm(this,l),vm(this,c,null));get template(){return this.#ew}set template(e){this.#ew=e}},t})();var vy=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},vb=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let vw=(()=>{let e,t,i=[(0,L.EM)("affine-drop-indicator")],s=[],o=H.WF,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;vy(this,null,[(0,L.MZ)({attribute:!1})],{kind:"accessor",name:"rect",static:!1,private:!1,access:{has:e=>"rect"in e,get:e=>e.rect,set:(e,t)=>{e.rect=t}},metadata:n},r,a),vy(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    .affine-drop-indicator {
      position: absolute;
      top: 0;
      left: 0;
      background: var(--affine-primary-color);
      transition-property: height, transform;
      transition-duration: 100ms;
      transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      transition-delay: 0s;
      transform-origin: 0 0;
      pointer-events: none;
      z-index: 2;
    }
  `}render(){if(!this.rect)return null;let{left:e,top:t,width:i,height:s}=this.rect,o=(0,Z.W)({width:`${i}px`,height:`${s}px`,top:`${t}px`,left:`${e}px`});return(0,H.qy)`<div class="affine-drop-indicator" style=${o}></div>`}#ej=vb(this,r,null);get rect(){return this.#ej}set rect(e){this.#ej=e}constructor(){super(...arguments),vb(this,a)}static{vb(t,s)}},t})();class vx{constructor(){this.optionMap=new Map}_decreaseOptionCount(e){let t=this.optionMap.get(e)||0;t>1?this.optionMap.set(e,t-1):this.optionMap.delete(e)}_getExistingOptionWithSameFlavour(e){return Array.from(this.optionMap.keys()).find(t=>t.flavour===e.flavour)}getOption(e){return this.options.find(t=>"string"==typeof t.flavour?t.flavour===e:t.flavour.test(e))}register(e){let t=this._getExistingOptionWithSameFlavour(e)||e,i=this.optionMap.get(t)||0;return this.optionMap.set(t,i+1),{dispose:()=>{this._decreaseOptionCount(t)}}}get options(){return Array.from(this.optionMap.keys())}}let v_=(0,H.AH)`
  .affine-drag-handle-widget {
    display: flex;
    position: absolute;
    left: 0;
    top: 0;
    contain: size layout;
  }

  .affine-drag-handle-container {
    top: 0;
    left: 0;
    position: absolute;
    display: flex;
    justify-content: center;
    width: ${16}px;
    min-height: 12px;
    pointer-events: auto;
    user-select: none;
    box-sizing: border-box;
  }
  .affine-drag-handle-container:hover {
    cursor: grab;
  }

  .affine-drag-handle-grabber {
    width: 4px;
    height: 100%;
    border-radius: 1px;
    background: var(--affine-placeholder-color);
    transition: width 0.25s ease;
  }

  @media print {
    .affine-drag-handle-widget {
      display: none;
    }
  }
  .affine-drag-hover-rect {
    position: absolute;
    top: 0;
    left: 0;
    border-radius: 6px;
    background: var(--affine-hover-color);
    pointer-events: none;
    z-index: 2;
    animation: expand 0.25s forwards;
  }
  @keyframes expand {
    0% {
      width: 0;
      height: 0;
    }
  }
`,vC={text:23,h1:40,h2:36,h3:32,h4:32,h5:28,h6:26,quote:46,list:24,database:28,image:28,divider:36},vk=e=>{let t=e.flavour,i=t.indexOf(":"),s=t.slice(i+1);return"paragraph"===s&&e.type&&(s=e.type),vC[s]??24},vS=(e,t)=>e.some(e=>{let i=e.path;return P.yX.includes(t,i)}),vM=(e,t)=>e.some(e=>e===t),vE=e=>!!e.closest(".affine-database-block-table"),vI=e=>e instanceof Element||e instanceof Node?e instanceof Element?e:e.parentElement:null,vB=e=>{let t=e;for(;t&&"affine:note"!==t.flavour;)t=t.parentBlock;return t.model.id},v$=e=>e.some(e=>"text"===e.type),vT=(e,t)=>!!e&&!!t&&e===t,vO=(e,t,i,s)=>{let o=t.getBoundingClientRect(),r=(0,st.zU)(e),a=(24+(r?0:20))*s;return!o||(r?i.y<o.top||i.y>o.bottom||i.x>o.right+a:i.y<o.top||i.y>o.bottom||i.x<o.left-a||i.x>o.right+a)},vP=(e,t,i)=>(0,st.zU)(e)?(0,st.H1)(t,i,"affine-note"):st.jl(i)?.closest("affine-edgeless-note"),vA=(e,t,i)=>{let s=vP(e,t,i);if(!s||s.closest(".affine-surface-ref"))return null;let o=st.rw.fromDOM(s),r=(0,st.hF)(i,{container:s,rect:o}),a=r&&P.yX.includes(r.path,s.path)?r:(0,st.H1)(s,i.clone(),".affine-note-block-container > .affine-block-children-container > [data-block-id]");return!a||a.closest(".surface-ref-note-portal")?null:a};function vH(e,t,i,s,o,r=!0){let a="none",n=3*o,{rect:l}=(0,st.$$)(e,t,i),c=Math.abs(l.top-e.y),d=Math.abs(l.bottom-e.y),h=4;if("before"==(a=c<d?"before":"after")){let e,t;(e=i.previousElementSibling)?s.length&&e===s[s.length-1]?a="none":t=(0,st.wH)(e):(e=i.parentElement?.previousElementSibling)&&(t=e.getBoundingClientRect()),t&&(h=(l.top-t.bottom)/2)}else{let o;let n=i.childBlocks.length;r&&(0,st.op)(t,["affine:list"])&&!n&&e.x>l.x+fA.s6&&(a="in"),(o=i.nextElementSibling)?"after"===a&&s.length&&o===s[0]&&(a="none",o=null):o=st.N8(i.parentElement)?.nextElementSibling,o&&(h=((0,st.wH)(o).top-l.bottom)/2)}if("none"===a)return null;let u=l.top;return"before"===a?u-=h:u+=l.height+h,"in"===a&&(l.x+=fA.s6,l.width-=fA.s6),{rect:st.rw.fromLWTH(l.left,l.width,u-n/2,n),dropBlockId:t.id,dropType:a}}let vL=(e,t=1)=>{let i=null,s=new g.b(e.x,e.y),o=(0,st.hF)(s);if(!o)return i;let r=o.model;if((0,st.op)(r,["affine:database"]))return i;let a=vH(s,r,o,[],t);return a&&(i=a),i},vD=[];function vZ(e=[]){let t="with-drag-handle";vD.forEach(e=>e.classList.remove(t)),vD=e,e.forEach(e=>e.classList.add(t))}function vj(e){return e.map(e=>({flavour:e.flavour,blockProps:m7(e)}))}function vV({blockComponent:e,dragPreview:t,cssSelector:i,width:s,height:o,noteScale:r,state:a}){let n=e.closest("affine-edgeless-root");if(!n)return!1;let l=t.querySelector(i);if(!l)return!1;let c=l.getBoundingClientRect(),{left:d,top:h}=n.viewport,u=new m.z(c.x-d,c.y-h,c.width+2/r,c.height+2/r),p=n.service.viewport.toModelBound(u),f=gR(e.model)?new m.z(p.x,p.y,(p.w??s)*r,(p.h??o)*r):new m.z(p.x,p.y,(s??p.w)*r,(o??p.h)*r),g=e.model,v=m7(g),y=n.service.addBlock(e.flavour,{...v,xywh:f.serialize()},n.surfaceBlockModel),b=n.service.getElementById(y);gR(b)&&n.service.updateElement(b.id,{scale:r});let w=e.doc,x=e.host;return a.raw.altKey||(w.deleteBlock(g),x.selection.setGroup("note",[])),n.service.selection.set({elements:[y],editing:!1}),!0}function vR({blockComponent:e,dropBlockId:t,dropType:i,state:s,style:o}){let r=e.doc,a=e.host,n=r.getBlockById(t);if(!n)return!1;let l="in"===i,c=l?n:r.getParent(n);(0,V.Z1)(c);let d=l?0:c.children.indexOf(n)+("after"===i?1:0),h=e.model,{width:u,height:p,xywh:f,rotate:g,zIndex:m,...v}=m7(h);return o&&(v.style=o),r.addBlock(h.flavour,v,c,d),s.raw.altKey||(r.deleteBlock(h),a.selection.setGroup("gfx",[])),!0}var vz=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},vF=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let vN="affine-drag-handle-widget",vq=(()=>{let e,t,i,s,o,r=[(0,L.EM)(vN)],a=[],n=P.W,l=[],c=[],d=[],h=[],u=[],p=[];var f=class extends n{static{t=this}static{let g="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.P)(".affine-drag-handle-container")],s=[(0,L.P)(".affine-drag-handle-grabber")],o=[(0,L.wk)()],vz(this,null,i,{kind:"accessor",name:"_dragHandleContainer",static:!1,private:!1,access:{has:e=>"_dragHandleContainer"in e,get:e=>e._dragHandleContainer,set:(e,t)=>{e._dragHandleContainer=t}},metadata:g},l,c),vz(this,null,s,{kind:"accessor",name:"_dragHandleGrabber",static:!1,private:!1,access:{has:e=>"_dragHandleGrabber"in e,get:e=>e._dragHandleGrabber,set:(e,t)=>{e._dragHandleGrabber=t}},metadata:g},d,h),vz(this,null,o,{kind:"accessor",name:"_dragHoverRect",static:!1,private:!1,access:{has:e=>"_dragHoverRect"in e,get:e=>e._dragHoverRect,set:(e,t)=>{e._dragHoverRect=t}},metadata:g},u,p),vz(null,e={value:t},r,{kind:"class",name:t.name,metadata:g},null,a),f=t=e.value,g&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:g})}static{this.staticOptionRunner=new vx}static{this.styles=v_}static registerOption(e){return f.staticOptionRunner.register(e)}_clearRaf(){this.rafID&&(cancelAnimationFrame(this.rafID),this.rafID=0)}_getHoverAreaRectTopLevelBlock(e){if((0,st.zU)(this.host))return null;let t=this.rootComponent,i=gW([e]),[s,o]=t.service.viewport.toViewCoord(i.left,i.top),[r,a]=[s+i.width*this.scale,o+i.height*this.scale],n=5*this.scale,l=6*this.scale;return s-=8*this.scale+n,o-=l,r+=l,a+=l,new st.rw(s,o,r,a)}get _rangeManager(){return this.std.range}get dragHandleContainerOffsetParent(){return this._dragHandleContainer.parentElement}get scrollContainer(){return h7(this.rootComponent)}connectedCallback(){super.connectedCallback(),this.disposables.addFromEvent(this,"pointerdown",e=>{e.preventDefault()}),this.handleEvent("pointerMove",this._throttledPointerMoveHandler),this.handleEvent("click",this._clickHandler),this.handleEvent("dragStart",this._dragStartHandler),this.handleEvent("dragMove",this._dragMoveHandler),this.handleEvent("dragEnd",this._dragEndHandler,{global:!0}),this.handleEvent("pointerOut",this._pointerOutHandler),this.handleEvent("beforeInput",()=>this._hide()),this.handleEvent("keyDown",this._keyboardHandler,{global:!0}),this.handleEvent("keyUp",this._keyboardHandler,{global:!0})}disconnectedCallback(){this._hide(!0),this._disposables.dispose(),this._anchorModelDisposables?.dispose(),super.disconnectedCallback()}firstUpdated(){if(this._hide(!0),this._disposables.addFromEvent(this._dragHandleContainer,"pointerenter",this._onDragHandlePointerEnter),this._disposables.addFromEvent(this._dragHandleContainer,"pointerdown",this._onDragHandlePointerDown),this._disposables.addFromEvent(this._dragHandleContainer,"pointerup",this._onDragHandlePointerUp),this._disposables.addFromEvent(this._dragHandleContainer,"pointerleave",this._onDragHandlePointerLeave),this._disposables.addFromEvent(this.host,"pointerleave",()=>{this._hide()}),(0,st.zU)(this.host)){this._disposables.add(this.doc.slots.blockUpdated.on(()=>this._hide()));let e=this.rootComponent;this._disposables.add(e.slots.viewportUpdated.on(()=>{this._hide(),this.dropIndicator&&(this.dropIndicator.rect=null)})),this._disposables.addFromEvent(this.scrollContainer,"scrollend",this._updateDropIndicatorOnScroll)}else if((0,st.Ar)(this.host)){let e=this.rootComponent;this._disposables.add(e.slots.edgelessToolUpdated.on(this._handleEdgelessToolUpdated)),this._disposables.add(e.service.viewport.viewportUpdated.on(this._handleEdgelessViewPortUpdated)),this._disposables.add(e.service.selection.slots.updated.on(()=>{this._checkTopLevelBlockSelection()})),this._disposables.add(e.slots.readonlyUpdated.on(()=>{this._checkTopLevelBlockSelection()})),this._disposables.add(e.slots.draggingAreaUpdated.on(()=>{this._checkTopLevelBlockSelection()})),this._disposables.add(e.slots.elementResizeStart.on(()=>{this._hide()})),this._disposables.add(e.slots.elementResizeEnd.on(()=>{this._checkTopLevelBlockSelection()}))}}render(){let e=(0,Z.W)(this._dragHoverRect?{width:`${this._dragHoverRect.width}px`,height:`${this._dragHoverRect.height}px`,top:`${this._dragHoverRect.top}px`,left:`${this._dragHoverRect.left}px`}:{display:"none"});return(0,H.qy)`
      <div class="affine-drag-handle-widget">
        <div class="affine-drag-handle-container">
          <div class="affine-drag-handle-grabber"></div>
        </div>
        <div class="affine-drag-hover-rect" style=${e}></div>
      </div>
    `}get anchorBlockComponent(){return this._anchorBlockPath?this._getBlockComponentFromViewStore(this._anchorBlockPath):null}get anchorEdgelessElement(){if((0,st.zU)(this.host)||!this._anchorBlockId)return null;let{service:e}=this.rootComponent,t=e.getElementById(this._anchorBlockId);return g$(t)?t:null}get optionRunner(){return f.staticOptionRunner}get rootComponent(){return this.block}get selectedBlocks(){return this.host.selection.find("text")?this.host.selection.filter("text"):this.host.selection.filter("block")}#iD;get _dragHandleContainer(){return this.#iD}set _dragHandleContainer(e){this.#iD=e}#iZ;get _dragHandleGrabber(){return this.#iZ}set _dragHandleGrabber(e){this.#iZ=e}#ij;get _dragHoverRect(){return this.#ij}set _dragHoverRect(e){this.#ij=e}constructor(){super(...arguments),this._anchorBlockId="",this._anchorBlockPath=null,this._anchorModelDisposables=null,this._calculatePreviewOffset=(e,t)=>{let{top:i,left:s}=e[0].getBoundingClientRect();return new g.b(t.raw.x-s,t.raw.y-i)},this._calculateQuery=e=>{let t=e.map(e=>({id:e,viewType:v.lv.Display}));e.map(i=>{let s=i;do e.includes(s)||t.push({viewType:v.lv.Bypass,id:s}),s=this.doc.blockCollection.crud.getParent(s);while(s&&!t.map(({id:e})=>e).includes(s))});let i=e=>{(this.doc.getBlock(e)?.model.children??[]).forEach(e=>{t.push({viewType:v.lv.Display,id:e.id}),i(e.id)})};return e.forEach(i),{match:t,mode:"strict"}},this._canEditing=e=>{if(e.doc.id!==this.doc.id)return!1;if((0,st.zU)(this.host))return!0;let t=this.rootComponent,i=e.path[e.path.length-1];return t.service.selection.editing&&t.service.selection.selectedIds[0]===i},this._changeCursorToGrabbing=()=>{document.documentElement.classList.add("affine-drag-preview-grabbing")},this._checkTopLevelBlockSelection=()=>{if(!this.isConnected)return;if(this.doc.readonly||(0,st.zU)(this.host)){this._hide();return}let e=this.rootComponent,t=e.service.selection.editing,i=e.service.selection.selectedElements;if(t||1!==i.length){this._hide();return}let s=i[0];if(!g$(s)){this._hide();return}let o=s.flavour,r=this.optionRunner.getOption(o);if(!r||!r.edgeless){this._hide();return}let a=e.service.selection.surfaceSelections;this._anchorBlockId=s.id,this._anchorBlockPath=a[0].blockId,this._showDragHandleOnTopLevelBlocks().catch(console.error)},this._clickHandler=e=>{if(!this._isHoverDragHandleVisible)return;let{target:t}=e.get("pointerState").raw,i=vI(t);if(!i?.closest(vN)||!this._anchorBlockId||!this._anchorBlockPath)return;let{selection:s}=this.host,o=this.selectedBlocks;if(o.length>0&&!v$(o)&&o[0].blockId===this._anchorBlockId){s.clear(["block"]),this._dragHoverRect=null,this._showDragHandleOnHoverBlock(this._anchorBlockPath);return}let r=this.anchorBlockComponent;r&&(o.length>1&&this._showDragHandleOnHoverBlock(this._anchorBlockPath),this._setSelectedBlocks([r]))},this._createDragPreview=(e,t,i,s)=>{let o;if(i)(o=new vv(s)).append(i);else{let i=0;e.forEach(e=>{i=Math.max(i,e.getBoundingClientRect().width)});let s=e.map(e=>e.model.id),r=this._calculateQuery(s),a=this.doc.blockCollection.getDoc({query:r}),n=m0.getInstance().getSpec("page:preview"),l=this.host.renderSpecPortal(a,n.value),c=this._calculatePreviewOffset(e,t),d=t.raw.x-c.x,h=t.raw.y-c.y,u=t.raw.altKey;(o=new vv(c)).template=l,o.onRemove=()=>{this.doc.blockCollection.clearQuery(r)},o.style.width=`${i/this.scale/this.noteScale/this.cumulativeParentScale}px`,o.style.transform=`translate(${d}px, ${h}px) scale(${this.scale*this.noteScale})`,o.style.opacity=u?"1":"0.5"}return this.rootComponent.append(o),o},this._createDropIndicator=()=>{this.dropIndicator||(this.dropIndicator=new vw,this.rootComponent.append(this.dropIndicator))},this._dragEndHandler=e=>{if(this._clearRaf(),!this.dragging||!this.dragPreview)return!1;if(0===this.draggingElements.length||this.doc.readonly)return this._hide(!0),!1;let t=e.get("pointerState"),{target:i}=t.raw;if(!this.host.contains(i))return this._hide(!0),!0;for(let e of this.optionRunner.options)if(e.onDragEnd?.({state:t,draggingElements:this.draggingElements,dropBlockId:this.dropBlockId,dropType:this.dropType,dragPreview:this.dragPreview,noteScale:this.noteScale,editorHost:this.host}))return this._hide(!0),(0,st.Ar)(this.host)&&this._checkTopLevelBlockSelection(),!0;return this._onDragEnd(t),(0,st.Ar)(this.host)&&this._checkTopLevelBlockSelection(),!0},this._dragMoveHandler=e=>{if((this._isHoverDragHandleVisible||this._isTopLevelDragHandleVisible)&&this._hide(),!this.dragging||0===this.draggingElements.length)return!1;e.get("defaultState").event.preventDefault();let t=e.get("pointerState");for(let e of this.optionRunner.options)if(e.onDragMove?.(t,this.draggingElements))return!0;return this._onDragMove(t)},this._dragStartHandler=e=>{let t=e.get("pointerState"),{button:i}=t.raw;if(0!==i)return!1;for(let e of this.optionRunner.options)if(e.onDragStart?.({state:t,startDragging:this._startDragging,anchorBlockId:this._anchorBlockId,anchorBlockPath:this._anchorBlockPath,editorHost:this.host}))return!0;return this._onDragStart(t)},this._getBlockComponentFromViewStore=e=>this.host.view.getBlock(e),this._getDraggingAreaRect=e=>{let{left:t,top:i,right:s,bottom:o}=e.getBoundingClientRect(),r=this._getHoveredBlocks();r.forEach(e=>{t=Math.min(t,e.getBoundingClientRect().left),i=Math.min(i,e.getBoundingClientRect().top),s=Math.max(s,e.getBoundingClientRect().right),o=Math.max(o,e.getBoundingClientRect().bottom)});let a=r.some(e=>(0,st.op)(e.model,["affine:list"])&&e.model.children.length>0)?18:2,n=this.dragHandleContainerOffsetParent.getBoundingClientRect();return n?(t-=n.left,s-=n.left,i-=n.top,o-=n.top,t/=this.cumulativeParentScale,s/=this.cumulativeParentScale,i/=this.cumulativeParentScale,o/=this.cumulativeParentScale,t-=(16+a)*this.scale*this.noteScale,i-=4*this.scale,s+=4*this.scale,o+=4*this.scale,new st.rw(t,i,s,o)):new st.rw(0,0,0,0)},this._getDropResult=e=>{let t=new g.b(e.raw.x,e.raw.y),i=vA(this.host,this.rootComponent,t);if(!i)return null;let s=i.model.id,o=i.path,r=i.model;if((0,st.op)(r,["affine:database"]))return null;let a=1===this.draggingElements.length&&(0,st.op)(this.draggingElements[0].model,["affine:note"]);if(a){let e=this.std.doc.getParent(i.model);if(!e)return null;let t=this._getBlockComponentFromViewStore(e.id);if(!t||!(0,st.op)(t.model,["affine:note"]))return null}if(vM(this.draggingElements.map(e=>e.model.id),s)||vS(this.draggingElements,o))return null;let n=null,l="before",c=vH(t,r,i,this.draggingElements,this.scale*this.cumulativeParentScale,!1===a);return(c&&(n=c.rect,l=c.dropType),a&&"in"===l)?null:{rect:n,dropBlockId:s,dropType:l}},this._getHoveredBlocks=()=>{if(!this._isHoverDragHandleVisible||!this._anchorBlockPath)return[];let e=this.anchorBlockComponent;if(!e)return[];let t=this.selectedBlocks,i=[];if(t.length>0&&v$(t)){let e=(0,st.oV)();if(!e||!this._rangeManager)return[];i=this._rangeManager.getSelectedBlockComponentsByRange(e,{match:e=>"content"===e.model.role,mode:"highest"})}else i=this.selectedBlocks.map(e=>this._getBlockComponentFromViewStore(e.blockId)).filter(e=>!!e);return vM(i.map(e=>P.yX.id(e.path)),this._anchorBlockPath)?i:[e]},this._getTopWithBlockComponent=e=>{let t=getComputedStyle(e),{top:i}=e.getBoundingClientRect();return(i+parseInt(t.paddingTop)*this.scale-this.dragHandleContainerOffsetParent.getBoundingClientRect().top)/this.cumulativeParentScale},this._handleAnchorModelDisposables=e=>{this._anchorModelDisposables&&(this._anchorModelDisposables.dispose(),this._anchorModelDisposables=null),this._anchorModelDisposables=new ix.K,this._anchorModelDisposables.add(e.propsUpdated.on(()=>this._hide())),this._anchorModelDisposables.add(e.deleted.on(()=>this._hide()))},this._handleEdgelessToolUpdated=e=>{"default"===e.type?this._checkTopLevelBlockSelection():this._hide()},this._handleEdgelessViewPortUpdated=({zoom:e,center:t})=>{this.scale!==e&&(this.scale=e,this._updateDragPreviewOnViewportUpdate()),this.center[0]!==t[0]&&this.center[1]!==t[1]&&(this.center=[...t],this._updateDropIndicatorOnScroll()),this._isTopLevelDragHandleVisible?(this._showDragHandleOnTopLevelBlocks().catch(console.error),this._updateDragHoverRectTopLevelBlock()):this._hide()},this._hide=(e=!1)=>{vZ(),this._isHoverDragHandleVisible=!1,this._isTopLevelDragHandleVisible=!1,this._isDragHandleHovered=!1,this._anchorBlockId="",this._anchorBlockPath=null,this._dragHandleContainer&&(this._dragHandleContainer.style.display="none"),e&&this._reset()},this._isBlockSelected=e=>!!e&&this.selectedBlocks.some(t=>t.blockId===e.model.id),this._isDragHandleHovered=!1,this._isHoverDragHandleVisible=!1,this._isTopLevelDragHandleVisible=!1,this._keyboardHandler=e=>{if(!this.dragging||!this.dragPreview)return;let t=e.get("defaultState").event;t.preventDefault(),t.stopPropagation();let i="Alt"===t.key&&t.altKey;this.dragPreview.style.opacity=i?"1":"0.5"},this._lastHoveredBlockPath=null,this._lastShowedBlock=null,this._onDragEnd=e=>{let t=this.dropBlockId,i=this.dropType,s=this.draggingElements;if(this._hide(!0),!t){let t=vI(e.raw.target);if(!t||!t.classList.contains("edgeless-container"))return!1;let i=(0,st.bL)(s).map(e=>(0,st.BE)(e)).filter(e=>!!e);if(0===i.length)return!1;if(i.some(e=>{let t=this.doc.getParent(e.id);return(0,st.op)(t,["affine:surface"])}))return!0;let o=this.rootComponent,{left:r,top:a}=o.viewport,n=o.addNoteWithPoint(new g.b(e.raw.x-r,e.raw.y-a),{scale:this.noteScale}),l=this.doc.getBlockById(n);if(!l)return;let c=m.z.deserialize(l.xywh);if(c.h*=this.noteScale,c.w*=this.noteScale,this.doc.updateBlock(l,{xywh:c.serialize(),edgeless:{...l.edgeless,scale:this.noteScale}}),e.raw.altKey){let e=vj(i);this.doc.addBlocks(e,l)}else this.doc.moveBlocks(i,l);return o.service.selection.set({elements:[l.id],editing:!0}),!0}if(vM(this.selectedBlocks.map(e=>e.blockId),t))return!1;let o=(0,st.bL)(s).map(e=>(0,st.BE)(e)).filter(e=>!!e);if(!o.length)return!1;let r=this.doc.getBlockById(t);if(!r)return;let a="in"===i,n=a?r:this.doc.getParent(t);if(!n)return;let l=e.raw.altKey;if(a){if(l){let e=vj(o);this.doc.addBlocks(e,r)}else this.doc.moveBlocks(o,r)}else if(l){let e=vj(o),t=n.children.indexOf(r)+("after"===i?1:0);this.doc.addBlocks(e,n,t)}else this.doc.moveBlocks(o,n,r,"before"===i);return setTimeout(()=>{if(!n)return;let e=this._getBlockComponentFromViewStore(n.id);if(e){let t=o.map(e=>this.std.view.getBlock(e.id));if(!t)return;let i=vB(e);this._setSelectedBlocks(t,i)}},0),!0},this._onDragHandlePointerDown=()=>{if(!this._isHoverDragHandleVisible||!this._anchorBlockPath)return;let e=this.anchorBlockComponent;e&&(this._dragHoverRect=this._getDraggingAreaRect(e)??null)},this._onDragHandlePointerEnter=()=>{let e=this._dragHandleContainer,t=this._dragHandleGrabber;if(e&&t){if(this._isHoverDragHandleVisible&&this._anchorBlockPath){if(!this.anchorBlockComponent)return;let i=8*this.scale;e.style.paddingTop=`${i}px`,e.style.paddingBottom=`${i}px`,e.style.transition="padding 0.25s ease",t.style.width=`${2*this.scale*this.noteScale}px`,t.style.borderRadius=`${4*this.scale*this.noteScale}px`,this._isDragHandleHovered=!0}else if(this._isTopLevelDragHandleVisible){let e=this.anchorEdgelessElement;if(!e)return;this._dragHoverRect=this._getHoverAreaRectTopLevelBlock(e),this._isDragHandleHovered=!0}}},this._onDragHandlePointerLeave=()=>{this._isDragHandleHovered=!1,this._dragHoverRect=null,this._isTopLevelDragHandleVisible||this.dragging||!this._anchorBlockPath||this._showDragHandleOnHoverBlock(this._anchorBlockPath)},this._onDragHandlePointerUp=()=>{this._isHoverDragHandleVisible&&(this._dragHoverRect=null)},this._onDragMove=e=>(this._clearRaf(),this.rafID=requestAnimationFrame(()=>{this._updateDragPreviewPosition(e),this._updateDropIndicator(e,!0)}),!0),this._onDragStart=e=>{let{target:t}=e.raw,i=vI(t);if(!i?.closest(vN))return this._hide(),!1;if(!this._isHoverDragHandleVisible||!this._anchorBlockId||!this._anchorBlockPath)return;if(!this.anchorBlockComponent)return!1;let s=this.selectedBlocks;if(s.length>0&&v$(s)){let e=document.getSelection();if(e&&e.rangeCount>0&&this._rangeManager){let t=e.getRangeAt(0),i=this._rangeManager.getSelectedBlockComponentsByRange(t,{match:e=>"content"===e.model.role,mode:"highest"});this._setSelectedBlocks(i),s=this.selectedBlocks}}if(0===s.length||!vM(s.map(e=>e.blockId),this._anchorBlockId)){let e=this.anchorBlockComponent;e&&this._setSelectedBlocks([e])}let o=this.selectedBlocks.map(e=>this._getBlockComponentFromViewStore(e.blockId)).filter(e=>!!e),r=(0,st.bL)(o);return 0!==r.length&&(this._startDragging(r,e),this._hide(),!0)},this._pointerMoveOnBlock=e=>{if(this._isTopLevelDragHandleVisible)return;let t=new g.b(e.raw.x,e.raw.y),i=vA(this.host,this.rootComponent,t);if(!i){this._anchorBlockId="",this._anchorBlockPath=null;return}let s=i.getAttribute(this.host.blockIdAttr);if(s){if(this._anchorBlockId=s,this._anchorBlockPath=i.blockId,vE(i)||this.doc.readonly){this._hide();return}this._lastHoveredBlockPath&&vT(this._anchorBlockPath,this._lastHoveredBlockPath)&&this._isHoverDragHandleVisible||this._isDragHandleHovered||(this._showDragHandleOnHoverBlock(this._anchorBlockPath),this._lastHoveredBlockPath=this._anchorBlockPath)}},this._pointerOutHandler=e=>{let t=e.get("pointerState");t.raw.preventDefault();let{target:i}=t.raw,s=vI(i);if(!s)return;let{relatedTarget:o}=t.raw,r=vI(o),a=s.classList.contains("affine-page-viewport"),n=!!r?.closest(".affine-page-viewport"),l=!!r?.closest(vN);!a||l||n||this._hide()},this._removeDragPreview=()=>{this.dragPreview&&(this.dragPreview.remove(),this.dragPreview=null)},this._removeDropIndicator=()=>{this.dropIndicator&&(this.dropIndicator.remove(),this.dropIndicator=null)},this._reset=()=>{this.draggingElements=[],this.dropBlockId="",this.dropType=null,this.lastDragPointerState=null,this.rafID=0,this.dragging=!1,this._dragHoverRect=null,this._lastHoveredBlockPath=null,this._lastShowedBlock=null,this._anchorBlockId="",this._anchorBlockPath=null,this._isHoverDragHandleVisible=!1,this._isDragHandleHovered=!1,this._isTopLevelDragHandleVisible=!1,this._removeDragPreview(),this._removeDropIndicator(),this._resetCursor()},this._resetCursor=()=>{document.documentElement.classList.remove("affine-drag-preview-grabbing")},this._resetDropResult=()=>{this.dropBlockId="",this.dropType=null,this.dropIndicator&&(this.dropIndicator.rect=null)},this._setSelectedBlocks=(e,t)=>{let{selection:i}=this.host,s=e.map(e=>i.create("block",{blockId:e.blockId}));if((0,st.Ar)(this.host)){let o=t||vB(e[0]),r=i.create("surface",e[0].blockId,[o],!0);s.push(r)}i.set(s)},this._showDragHandleOnHoverBlock=e=>{let t=this._getBlockComponentFromViewStore(e);if(!t)return;let i=this._dragHandleContainer,s=this._dragHandleGrabber;if(!i||!s)return;this._isHoverDragHandleVisible=!0;let o=this._getDraggingAreaRect(t),r=vk(t.model);vZ([t]);let a=this._getTopWithBlockComponent(t),n=(r-12)/2*this.scale*this.noteScale+a-o.top,l=o.height-n-12*this.scale*this.noteScale;(e=>{i.style.transition=e?"padding 0.25s ease":"none",i.style.paddingTop=`${n}px`,i.style.paddingBottom=`${l}px`,i.style.width=`${16*this.scale*this.noteScale}px`,i.style.left=`${o.left}px`,i.style.top=`${o.top}px`,i.style.display="flex",i.style.height=`${o.height}px`})(!!vT(t.blockId,this._lastShowedBlock?.path)||!!this.selectedBlocks.length&&!!this._isBlockSelected(t)&&this._isDragHandleHovered&&this._isBlockSelected(this._lastShowedBlock?.el)),s.style.width=`${4*this.scale*this.noteScale}px`,s.style.borderRadius=`${4*this.scale*this.noteScale}px`,this._handleAnchorModelDisposables(t.model),vT(t.blockId,this._lastShowedBlock?.path)||(this._lastShowedBlock={path:t.blockId,el:t})},this._showDragHandleOnTopLevelBlocks=async()=>{if((0,st.zU)(this.host))return;let e=this.rootComponent;if(await e.surface.updateComplete,!this._anchorBlockPath)return;let t=this.anchorBlockComponent;if(!t)return;let i=e.service.getElementById(t.model.id);if(!i)return;let s=this._dragHandleContainer,o=this._dragHandleGrabber;if(!s||!o)return;let r=gW([i]),[a,n]=e.service.viewport.toViewCoord(r.left,r.top),l=r.height*this.scale,c=a-13*this.scale;s.style.transition="none",s.style.paddingTop="0px",s.style.paddingBottom="0px",s.style.width=`${8*this.scale}px`,s.style.left=`${c}px`,s.style.top=`${n}px`,s.style.display="flex",s.style.height=`${l}px`,o.style.width=`${2*this.scale}px`,o.style.borderRadius=`${4*this.scale}px`,this._handleAnchorModelDisposables(t.model),this._isTopLevelDragHandleVisible=!0},this._startDragging=(e,t,i,s)=>{e.length&&(this.draggingElements=e,this.dragPreview&&this._removeDragPreview(),this.dragPreview=this._createDragPreview(e,t,i,s),this.dragging=!0,this._changeCursorToGrabbing(),this._createDropIndicator(),this._hide())},this._throttledPointerMoveHandler=(0,A.nF)(e=>{if(this.doc.readonly||this.dragging||!this.isConnected){this._hide();return}if(this._isTopLevelDragHandleVisible)return;let t=e.get("pointerState"),{target:i}=t.raw,s=vI(i);if(!s||s.closest(".affine-drag-handle-container"))return;let o=new g.b(t.raw.x,t.raw.y),r=vP(this.host,this.rootComponent,o);return(this.noteScale=(0,st.zU)(this.host)?1:r?.model.edgeless.scale??1,r&&this._canEditing(r)&&!vO(this.host,r,o,this.scale*this.noteScale))?(this._pointerMoveOnBlock(t),!0):(this._hide(),!1)},1e3/60),this._updateDragHoverRectTopLevelBlock=()=>{if(!this._dragHoverRect)return;let e=this.anchorEdgelessElement;e&&(this._dragHoverRect=this._getHoverAreaRectTopLevelBlock(e))},this._updateDragPreviewOnViewportUpdate=()=>{this.dragPreview&&this.lastDragPointerState&&this._updateDragPreviewPosition(this.lastDragPointerState)},this._updateDragPreviewPosition=e=>{if(!this.dragPreview)return;let t=this.dragHandleContainerOffsetParent.getBoundingClientRect(),i=this.dragPreview.offset,s=e.raw.x-i.x-t.left;s/=this.cumulativeParentScale;let o=e.raw.y-i.y-t.top;o/=this.cumulativeParentScale,this.dragPreview.style.transform=`translate(${s}px, ${o}px) scale(${this.scale*this.noteScale})`;let r=e.raw.altKey;this.dragPreview.style.opacity=r?"1":"0.5"},this._updateDropIndicator=(e,t=!1)=>{let i=new g.b(e.raw.x,e.raw.y),s=vP(this.host,this.rootComponent,i);if(!s||vO(this.host,s,i,this.scale))this._resetDropResult();else{let t=this._getDropResult(e);this._updateDropResult(t)}if(this.lastDragPointerState=e,this.rootComponent instanceof vp){if(!t)return;if(!vf(this.scrollContainer,e.raw.y)){this._clearRaf();return}this.rafID=requestAnimationFrame(()=>this._updateDropIndicator(e,!0))}else this._clearRaf()},this._updateDropIndicatorOnScroll=()=>{if(!this.dragging||0===this.draggingElements.length||!this.lastDragPointerState)return;let e=this.lastDragPointerState;this.rafID=requestAnimationFrame(()=>this._updateDropIndicator(e,!1))},this._updateDropResult=e=>{if(this.dropIndicator){if(this.dropBlockId=e?.dropBlockId??"",this.dropType=e?.dropType??null,e?.rect){let t=this.dragHandleContainerOffsetParent.getBoundingClientRect(),{left:i,top:s}=e.rect;i-=t.left,s-=t.top,i/=this.cumulativeParentScale,s/=this.cumulativeParentScale;let{width:o,height:r}=e.rect;o/=this.cumulativeParentScale,r/=this.cumulativeParentScale;let a=st.rw.fromLWTH(i,o,s,r);this.dropIndicator.rect=a}else this.dropIndicator.rect=e?.rect??null}},this.center=[0,0],this.cumulativeParentScale=1,this.dragPreview=null,this.dragging=!1,this.draggingElements=[],this.dropBlockId="",this.dropIndicator=null,this.dropType=null,this.lastDragPointerState=null,this.noteScale=1,this.rafID=0,this.scale=1,this.#iD=vF(this,l,void 0),this.#iZ=(vF(this,c),vF(this,d,void 0)),this.#ij=(vF(this,h),vF(this,u,null)),vF(this,p)}static{vF(t,a)}};return f=t})();var vU=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},vW=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};function vG(e,t,i){let s=[];if(1===t)return s.push([0,10]),s;let o=(t-1)/2,r=t%2==0,a=(e+i)/2;function n(e){return e-o>0?1:-1}for(let l=0;l<t;l++){let t=10;t=r?1>Math.abs(l-o)&&r?10+a*n(l):10+((Math.ceil(Math.abs(l-o))-1)*(e+24)+a)*n(l):10+Math.ceil(Math.abs(l-o))*(e+i)*n(l),s.push([0,t])}return s}function vY(e,t){let i=(0,H.AH)`
    .index-label-tooltip {
      display: flex;
      align-items: center;
      flex-wrap: nowrap;
      gap: 10px;
    }

    .index-label-tooltip-icon {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .index-label-tooltip-content {
      font-size: var(--affine-font-sm);

      display: flex;
      height: 16px;
      line-height: 16px;
    }
  `;return(0,H.qy)`<style>
      ${i}
    </style>
    <div class="index-label-tooltip">
      <span class="index-label-tooltip-icon">${e}</span>
      <span class="index-label-tooltip-content">${t}</span>
    </div>`}let vK="affine-edgeless-auto-connect-widget";(()=>{let e,t,i,s,o,r,a=[(0,L.EM)(vK)],n=[],l=P.W,c=[],d=[],h=[],u=[],p=[],f=[],g=[],v=[];(class extends l{static{t=this}static{let m="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.wk)()],r=[(0,L.wk)()],vU(this,null,i,{kind:"accessor",name:"_edgelessOnlyNotesSet",static:!1,private:!1,access:{has:e=>"_edgelessOnlyNotesSet"in e,get:e=>e._edgelessOnlyNotesSet,set:(e,t)=>{e._edgelessOnlyNotesSet=t}},metadata:m},c,d),vU(this,null,s,{kind:"accessor",name:"_index",static:!1,private:!1,access:{has:e=>"_index"in e,get:e=>e._index,set:(e,t)=>{e._index=t}},metadata:m},h,u),vU(this,null,o,{kind:"accessor",name:"_pageVisibleElementsMap",static:!1,private:!1,access:{has:e=>"_pageVisibleElementsMap"in e,get:e=>e._pageVisibleElementsMap,set:(e,t)=>{e._pageVisibleElementsMap=t}},metadata:m},p,f),vU(this,null,r,{kind:"accessor",name:"_show",static:!1,private:!1,access:{has:e=>"_show"in e,get:e=>e._show,set:(e,t)=>{e._show=t}},metadata:m},g,v),vU(null,e={value:t},a,{kind:"class",name:t.name,metadata:m},null,n),t=e.value,m&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m})}static{this.styles=(0,H.AH)`
    .edgeless-index-label {
      box-sizing: border-box;
      padding: 0px 6px;
      border: 1px solid #0000001a;

      width: fit-content;
      height: 24px;
      min-width: 24px;

      color: var(--affine-white);
      font-size: 15px;
      line-height: 22px;
      text-align: center;

      cursor: pointer;
      user-select: none;

      border-radius: 25px;
      background: var(--affine-primary-color);
    }

    .navigator {
      width: 48px;
      padding: 4px;
      border-radius: 58px;
      border: 1px solid rgba(227, 226, 228, 1);
      transition: opacity 0.5s ease-in-out;
      background: rgba(251, 251, 252, 1);
      display: flex;
      align-items: center;
      justify-content: space-between;
      opacity: 0;
    }

    .navigator div {
      display: flex;
      align-items: center;
      cursor: pointer;
    }

    .navigator span {
      display: inline-block;
      height: 8px;
      border: 1px solid rgba(227, 226, 228, 1);
    }

    .navigator div:hover {
      background: var(--affine-hover-color);
    }

    .navigator.show {
      opacity: 1;
    }
  `}_EdgelessOnlyLabels(){let{_edgelessOnlyNotesSet:e}=this;return e.size?(0,H.qy)`${(0,D.u)(e,e=>e.id,e=>{let{viewport:t}=this.service,{zoom:i}=t,s=m.z.deserialize(e.xywh),[o,r]=t.toViewCoord(s.x,s.y),[a,n]=[s.w*i,s.h*i],l=(0,Z.W)({width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"var(--affine-text-secondary-color)",border:"1px solid var(--affine-border-color)",color:"var(--affine-white)",position:"absolute",transform:`translate(${o+a/2-12}px,
          ${r+n+16}px)`,display:"flex",justifyContent:"center",alignItems:"center"});return(0,H.qy)`<div style=${l}>
          ${th}
          <affine-tooltip tip-position="bottom">
            ${vY(a6,"Hidden on page")}
          </affine-tooltip>
        </div>`})}`:H.s6}_NavigatorComponent(e){let{viewport:t}=this.service,{zoom:i}=t,s=`navigator ${this._index>=0?"show":"hidden"}`,o=e[this._index],r=m.z.deserialize(o.xywh),[a,n]=t.toViewCoord(r.x,r.y),[l,c]=[r.w*i,r.h*i],d=(0,Z.W)({position:"absolute",transform:`translate(${a+l/2-26}px, ${n+c+16}px)`});return(0,H.qy)`<div class=${s} style=${d}>
      <div
        role="button"
        class="edgeless-auto-connect-previous-button"
        @pointerdown=${e=>{(0,lt.dG)(e),this._navigateToPrev()}}
      >
        ${tW}
      </div>
      <span></span>
      <div
        role="button"
        class="edgeless-auto-connect-next-button"
        @pointerdown=${e=>{(0,lt.dG)(e),this._navigateToNext()}}
      >
        ${tG}
      </div>
    </div> `}_PageVisibleIndexLabels(e,t){let{viewport:i}=this.service,{zoom:s}=i,o=0;return(0,H.qy)`${(0,D.u)(e,e=>e.id,(e,r)=>{let a=m.z.deserialize(e.xywh),[n,l]=i.toViewCoord(a.x,a.y),[c,d]=[a.w*s,a.h*s],h=(0,Z.W)({width:"44px",maxWidth:"44px",height:"24px",position:"absolute",transform:`translate(${n+c/2-22}px,
          ${l+d+16}px)`,display:"flex",justifyContent:"center",alignItems:"center"}),u=[],p=t[r],f=24/p-24,g=vG(f,p,24);for(let e=0;e<p;e++)o++,u.push((0,H.qy)`
            <div
              style=${(0,Z.W)({position:"absolute",top:g[e][0]+"px",left:g[e][1]+"px",transition:"all 0.1s linear"})}
              index=${r}
              class="edgeless-index-label"
              @pointerdown=${e=>{(0,lt.dG)(e),this._index=this._index===r?-1:r}}
            >
              ${o}
              <affine-tooltip tip-position="bottom">
                ${vY(a6,"Page mode index")}
              </affine-tooltip>
            </div>
          `);function v(e,t){e.target&&Array.from(e.target.children).forEach((e,i)=>{e.style.top=t[i][0]+"px",e.style.left=t[i][1]+"px"})}return(0,H.qy)`<div
          style=${h}
          @mouseenter=${e=>{v(e,vG(5,p,24))}}
          @mouseleave=${e=>{v(e,vG(f,p,24))}}
        >
          ${u}
        </div>`})}`}_getElementsAndCounts(){let e=[],t=[];for(let[i,s]of this._pageVisibleElementsMap.entries())e.push(i),t.push(s);return{elements:e,counts:t}}_initLabels(){let{service:e}=this.block,t=e.doc.getBlocksByFlavour("affine:surface-ref").map(e=>e.model),i=()=>{let{selectedElements:i}=e.selection;return 1===i.length&&!e.selection.editing&&(gT(i[0])||t.some(e=>e.reference===i[0].id))?this._show=!0:this._show=!1,this._show},s=(0,lt.GR)(()=>{let t=new Map,i=e.doc.root?.children.filter(e=>iS.o(e,["affine:note"])),s=new Set;i.forEach(i=>{gT(i)&&(i.displayMode===q.ko.EdgelessOnly?s.add(i):i.displayMode===q.ko.DocAndEdgeless&&t.set(i,1)),i.children.forEach(i=>{if((0,iS.o)(i,["affine:surface-ref"])){let s=e.getElementById(i.reference);s&&(t.has(s)?t.set(s,t.get(s)+1):t.set(s,1))}})}),this._edgelessOnlyNotesSet=s,this._pageVisibleElementsMap=t},this.block);this._disposables.add(e.selection.slots.updated.on(()=>{i()})),this._disposables.add(this.doc.slots.blockUpdated.on(e=>{if("affine:note"===e.flavour)"props"in e&&"displayMode"!==e.props.key?"xywh"===e.props.key&&this.requestUpdate():s();else if("affine:surface-ref"===e.flavour){switch(e.type){case"add":t.push(e.model);break;case"delete":{let i=t.indexOf(e.model);i>=0&&t.splice(i,1)}break;case"update":if("reference"!==e.props.key)return}s()}})),this._disposables.add(e.surface.elementUpdated.on(e=>{e.props.xywh&&t.some(t=>t.reference===e.id)&&this.requestUpdate()})),s()}_navigateToNext(){let{elements:e}=this._getElementsAndCounts();if(this._index>=e.length-1)return;this._index=this._index+1;let t=e[this._index],i=m.z.deserialize(t.xywh);this.service.selection.set({elements:[t.id],editing:!1}),this.service.viewport.setViewportByBound(i,[80,80,80,80],!0)}_navigateToPrev(){let{elements:e}=this._getElementsAndCounts();if(this._index<=0)return;this._index=this._index-1;let t=e[this._index],i=m.z.deserialize(t.xywh);this.service.selection.set({elements:[t.id],editing:!1}),this.service.viewport.setViewportByBound(i,[80,80,80,80],!0)}_setHostStyle(){this.style.position="absolute",this.style.top="0",this.style.left="0",this.style.zIndex="1"}connectedCallback(){super.connectedCallback(),this._setHostStyle(),this._initLabels()}firstUpdated(){let{_disposables:e,service:t}=this;e.add(t.viewport.viewportUpdated.on(()=>{this.requestUpdate()})),e.add(t.selection.slots.updated.on(()=>{let{selectedElements:e}=t.selection;1===e.length&&gT(e[0])||(this._index=-1)}))}render(){if(!this._show)return H.s6;let{elements:e,counts:t}=this._getElementsAndCounts();return(0,H.qy)`${this._PageVisibleIndexLabels(e,t)}
    ${this._EdgelessOnlyLabels()}
    ${this._index>=0&&this._index<e.length?this._NavigatorComponent(e):H.s6} `}#iV=vW(this,c,new Set);get _edgelessOnlyNotesSet(){return this.#iV}set _edgelessOnlyNotesSet(e){this.#iV=e}#iR=(vW(this,d),vW(this,h,-1));get _index(){return this.#iR}set _index(e){this.#iR=e}#iz=(vW(this,u),vW(this,p,new Map));get _pageVisibleElementsMap(){return this.#iz}set _pageVisibleElementsMap(e){this.#iz=e}#iF=(vW(this,f),vW(this,g,!1));get _show(){return this.#iF}set _show(e){this.#iF=e}constructor(){super(...arguments),vW(this,v)}static{vW(t,n)}})})();var vX=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},vQ=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let vJ="affine-edgeless-remote-selection-widget";(()=>{let e,t,i,s,o=[(0,L.EM)(vJ)],r=[],a=P.W,n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],vX(this,null,i,{kind:"accessor",name:"_remoteCursors",static:!1,private:!1,access:{has:e=>"_remoteCursors"in e,get:e=>e._remoteCursors,set:(e,t)=>{e._remoteCursors=t}},metadata:h},n,l),vX(this,null,s,{kind:"accessor",name:"_remoteRects",static:!1,private:!1,access:{has:e=>"_remoteRects"in e,get:e=>e._remoteRects,set:(e,t)=>{e._remoteRects=t}},metadata:h},c,d),vX(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=(0,H.AH)`
    :host {
      pointer-events: none;
      position: absolute;
      left: 0;
      top: 0;
      transform-origin: left top;
      contain: size layout;
      z-index: 1;
    }

    .remote-rect {
      position: absolute;
      top: 0;
      left: 0;
      border-radius: 4px;
      box-sizing: border-box;
      border-width: 3px;
      z-index: 1;
      transform-origin: center center;
    }

    .remote-cursor {
      position: absolute;
      top: 0;
      left: 0;
      border-radius: 50%;
      z-index: 1;
    }

    .remote-cursor > svg {
      display: block;
    }

    .remote-username {
      margin-left: 22px;
      margin-top: -2px;

      color: white;

      max-width: 160px;
      padding: 0px 3px;
      border: 1px solid var(--affine-pure-black-20);

      box-shadow: 0px 1px 6px 0px rgba(0, 0, 0, 0.16);
      border-radius: 4px;

      font-size: 12px;
      line-height: 18px;

      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
  `}connectedCallback(){super.connectedCallback();let{_disposables:e,doc:t,edgeless:i}=this;(0,ik.ME)(i.service.surface,["elementAdded","elementRemoved","elementUpdated"]).forEach(t=>{e.add(t.on(this._updateOnElementChange))}),e.add(t.slots.blockUpdated.on(this._updateOnElementChange)),e.add(this.selection.slots.remoteUpdated.on(this._updateRemoteRects)),e.add(this.selection.slots.remoteCursorUpdated.on(this._updateRemoteCursor)),e.add(i.service.viewport.viewportUpdated.on(()=>{this._updateTransform()})),this._updateTransform(),this._updateRemoteRects(),this._remoteColorManager=new mW(this.host)}render(){let{_remoteRects:e,_remoteCursors:t,_remoteColorManager:i}=this;(0,V.Z1)(i);let{zoom:s}=this.edgeless.service.viewport,o=(0,D.u)(e.entries(),e=>e[0],([e,t])=>(0,H.qy)`<div
          data-client-id=${e}
          class="remote-rect"
          style=${(0,Z.W)({pointerEvents:"none",width:`${s*t.width}px`,height:`${s*t.height}px`,borderStyle:t.borderStyle,borderColor:i.get(e),transform:`translate(${s*t.left}px, ${s*t.top}px) rotate(${t.rotate}deg)`})}
        ></div>`),r=(0,D.u)(t.entries(),e=>e[0],([e,t])=>(0,H.qy)`<div
          data-client-id=${e}
          class="remote-cursor"
          style=${(0,Z.W)({pointerEvents:"none",transform:`translate(${s*t.x}px, ${s*t.y}px)`,color:i.get(e)})}
        >
          ${tq}
          <div
            class="remote-username"
            style=${(0,Z.W)({backgroundColor:i.get(e)})}
          >
            ${t.user?.name??"Unknown"}
          </div>
        </div>`);return(0,H.qy)`
      <div class="affine-edgeless-remote-selection">${o}${r}</div>
    `}get edgeless(){return this.block}get selection(){return this.edgeless.service.selection}get surface(){return this.edgeless.surface}#iN;get _remoteCursors(){return this.#iN}set _remoteCursors(e){this.#iN=e}#iq;get _remoteRects(){return this.#iq}set _remoteRects(e){this.#iq=e}constructor(){super(...arguments),this._remoteColorManager=null,this._updateOnElementChange=e=>{let t="string"==typeof e?e:e.id;this.isConnected&&this.selection.hasRemote(t)&&this._updateRemoteRects()},this._updateRemoteCursor=()=>{let e=new Map,t=this.doc.awarenessStore.getStates();this.selection.remoteCursorSelectionMap.forEach((i,s)=>{e.set(s,{x:i.x,y:i.y,user:t.get(s)?.user})}),this._remoteCursors=e},this._updateRemoteRects=()=>{let{selection:e,block:t}=this,i=e.remoteSurfaceSelectionsMap,s=new Map;i.forEach((e,i)=>{e.forEach(e=>{if(0===e.elements.length)return;let o=e.elements.map(e=>t.service.getElementById(e)).filter(e=>e),r=gW(o);if(0===r.width||0===r.height)return;let{left:a,top:n}=r,[l,c]=[r.width,r.height],d=0;if(1===o.length){let e=o[0];g$(e)||(d=e.rotate??0)}s.set(i,{width:l,height:c,borderStyle:"solid",left:a,top:n,rotate:d})})}),this._remoteRects=s},this._updateTransform=(0,lt.GR)(()=>{let{translateX:e,translateY:t}=this.edgeless.service.viewport;this.style.setProperty("transform",`translate(${e}px, ${t}px)`),this.requestUpdate()},this),this.#iN=vQ(this,n,new Map),this.#iq=(vQ(this,l),vQ(this,c,new Map)),vQ(this,d)}static{vQ(t,r)}})})();var v1=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},v0=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,L.EM)("zoom-bar-toggle-button")],a=[],n=(0,P.Tm)(H.WF),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.P)(".toggle-button")],o=[(0,L.MZ)({attribute:!1})],v1(this,null,i,{kind:"accessor",name:"_showPopper",static:!1,private:!1,access:{has:e=>"_showPopper"in e,get:e=>e._showPopper,set:(e,t)=>{e._showPopper=t}},metadata:f},l,c),v1(this,null,s,{kind:"accessor",name:"_toggleButton",static:!1,private:!1,access:{has:e=>"_toggleButton"in e,get:e=>e._toggleButton,set:(e,t)=>{e._toggleButton=t}},metadata:f},d,h),v1(this,null,o,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:f},u,p),v1(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
    }
    .toggle-button {
      display: flex;
      position: relative;
    }
    edgeless-zoom-toolbar {
      position: absolute;
      bottom: initial;
    }
  `}_closeZoomMenu(){this._abortController&&!this._abortController.signal.aborted&&(this._abortController.abort(),this._abortController=null,this._showPopper=!1)}_toggleZoomMenu(){if(this._abortController&&!this._abortController.signal.aborted){this._closeZoomMenu();return}this._abortController=new AbortController,this._abortController.signal.addEventListener("abort",()=>{this._showPopper=!1}),ri({template:(0,H.qy)`<edgeless-zoom-toolbar
        .edgeless=${this.edgeless}
        .layout=${"vertical"}
      ></edgeless-zoom-toolbar>`,container:this._toggleButton,computePosition:{referenceElement:this._toggleButton,placement:"top",middleware:[(0,oG.cY)(4)],autoUpdate:!0},abortController:this._abortController,closeOnClickAway:!0}),this._showPopper=!0}disconnectedCallback(){super.disconnectedCallback(),this._closeZoomMenu()}firstUpdated(){let{disposables:e}=this;e.add(this.edgeless.slots.readonlyUpdated.on(()=>{this.requestUpdate()}))}render(){return this.edgeless.doc.readonly?H.s6:(0,H.qy)`
      <div class="toggle-button" @pointerdown=${lt.dG}>
        <edgeless-tool-icon-button
          .tooltip=${"Toggle Zoom Tool Bar"}
          .tipPosition=${"right"}
          .active=${this._showPopper}
          .arrow=${!1}
          .activeMode=${"background"}
          .iconContainerPadding=${6}
          @click=${()=>this._toggleZoomMenu()}
        >
          ${tk}
        </edgeless-tool-icon-button>
      </div>
    `}#iU;get _showPopper(){return this.#iU}set _showPopper(e){this.#iU=e}#iW;get _toggleButton(){return this.#iW}set _toggleButton(e){this.#iW=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}constructor(){super(...arguments),this._abortController=null,this.#iU=v0(this,l,!1),this.#iW=(v0(this,c),v0(this,d,void 0)),this.#iE=(v0(this,h),v0(this,u,void 0)),v0(this,p)}static{v0(t,a)}})})();var v2=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},v5=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o=[(0,L.EM)("edgeless-zoom-toolbar")],r=[],a=(0,P.Tm)(H.WF),n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],v2(this,null,i,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:h},n,l),v2(this,null,s,{kind:"accessor",name:"layout",static:!1,private:!1,access:{has:e=>"layout"in e,get:e=>e.layout,set:(e,t)=>{e.layout=t}},metadata:h},c,d),v2(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
    }

    .edgeless-zoom-toolbar-container {
      display: flex;
      align-items: center;
      background: transparent;
      border-radius: 8px;
      fill: currentcolor;
      padding: 4px;
    }

    .edgeless-zoom-toolbar-container.horizantal {
      flex-direction: row;
    }

    .edgeless-zoom-toolbar-container.vertical {
      flex-direction: column;
      width: 40px;
      background-color: var(--affine-background-overlay-panel-color);
      box-shadow: var(--affine-shadow-2);
      border: 1px solid var(--affine-border-color);
      border-radius: 8px;
    }

    .edgeless-zoom-toolbar-container[level='second'] {
      position: absolute;
      bottom: 8px;
      transform: translateY(-100%);
    }

    .edgeless-zoom-toolbar-container[hidden] {
      display: none;
    }

    .zoom-percent {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 32px;
      border: none;
      box-sizing: border-box;
      padding: 4px;
      color: var(--affine-icon-color);
      background-color: transparent;
      border-radius: 4px;
      cursor: pointer;
      white-space: nowrap;
      font-size: 12px;
      font-weight: 500;
      text-align: center;
      font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
    }

    .zoom-percent:hover {
      color: var(--affine-primary-color);
      background-color: var(--affine-hover-color);
    }

    .zoom-percent[disabled] {
      pointer-events: none;
      cursor: not-allowed;
      color: var(--affine-text-disable-color);
    }
  `}constructor(e){super(),this.setEdgelessTool=e=>{this.edgeless.tools.setEdgelessTool(e)},this.#iE=v5(this,n,void 0),this.#iG=(v5(this,l),v5(this,c,"horizontal")),v5(this,d),this.edgeless=e}_isVerticalBar(){return"vertical"===this.layout}firstUpdated(){let{disposables:e}=this;e.add(this.edgeless.service.viewport.viewportUpdated.on(()=>this.requestUpdate())),e.add(this.edgeless.slots.edgelessToolUpdated.on(()=>this.requestUpdate())),e.add(this.edgeless.slots.readonlyUpdated.on(()=>{this.requestUpdate()}))}render(){if(this.edgeless.doc.readonly)return H.s6;let e=`${Math.round(100*this.zoom)}%`,t=`edgeless-zoom-toolbar-container ${this.layout}`,i=this.locked;return(0,H.qy)`
      <div
        class=${t}
        @dblclick=${lt.dG}
        @mousedown=${lt.dG}
        @mouseup=${lt.dG}
        @pointerdown=${lt.dG}
      >
        <edgeless-tool-icon-button
          .tooltip=${"Fit to screen"}
          .tipPosition=${this._isVerticalBar()?"right":"top-end"}
          .arrow=${!this._isVerticalBar()}
          @click=${()=>this.edgelessService.zoomToFit()}
          .iconContainerPadding=${4}
          .disabled=${i}
        >
          ${eF}
        </edgeless-tool-icon-button>
        <edgeless-tool-icon-button
          .tooltip=${"Zoom out"}
          .tipPosition=${this._isVerticalBar()?"right":"top"}
          .arrow=${!this._isVerticalBar()}
          @click=${()=>this.edgelessService.setZoomByStep(-.25)}
          .iconContainerPadding=${4}
          .disabled=${i}
        >
          ${eR}
        </edgeless-tool-icon-button>
        <button
          class="zoom-percent"
          @click=${()=>this.viewport.smoothZoom(1)}
          .disabled=${i}
        >
          ${e}
        </button>
        <edgeless-tool-icon-button
          .tooltip=${"Zoom in"}
          .tipPosition=${this._isVerticalBar()?"right":"top"}
          .arrow=${!this._isVerticalBar()}
          @click=${()=>this.edgelessService.setZoomByStep(.25)}
          .iconContainerPadding=${4}
          .disabled=${i}
        >
          ${ez}
        </edgeless-tool-icon-button>
      </div>
    `}get edgelessService(){return this.edgeless.service}get edgelessTool(){return this.edgeless.edgelessTool}get locked(){return this.edgelessService.locked}get viewport(){return this.edgelessService.viewport}get zoom(){return this.viewport?this.viewport.zoom:(console.error("Something went wrong, viewport is not available"),1)}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#iG;get layout(){return this.#iG}set layout(e){this.#iG=e}static{v5(t,r)}})})();var v7=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},v3=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let v4="affine-edgeless-zoom-toolbar-widget";(()=>{let e,t,i=[(0,L.EM)(v4)],s=[],o=P.W,r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;v7(this,null,[(0,L.wk)()],{kind:"accessor",name:"_hide",static:!1,private:!1,access:{has:e=>"_hide"in e,get:e=>e._hide,set:(e,t)=>{e._hide=t}},metadata:n},r,a),v7(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    :host {
      position: absolute;
      bottom: 20px;
      left: 12px;
      z-index: var(--affine-z-index-popover);
      display: flex;
      justify-content: center;
      -webkit-user-select: none;
      user-select: none;
    }

    @container viewport (width <= 1200px) {
      edgeless-zoom-toolbar {
        display: none;
      }
    }

    @container viewport (width > 1200px) {
      zoom-bar-toggle-button {
        display: none;
      }
    }
  `}firstUpdated(){let{disposables:e,edgeless:{slots:t}}=this;e.add(t.edgelessToolUpdated.on(e=>{"frameNavigator"!==e.type&&(this._hide=!1),this.requestUpdate()})),e.add(t.navigatorSettingUpdated.on(({hideToolbar:e})=>{void 0!==e&&(this._hide=e)}))}render(){return this._hide||!this.edgeless?H.s6:(0,H.qy)`
      <edgeless-zoom-toolbar .edgeless=${this.edgeless}></edgeless-zoom-toolbar>
      <zoom-bar-toggle-button
        .edgeless=${this.edgeless}
      ></zoom-bar-toggle-button>
    `}get edgeless(){return this.block}#iY=v3(this,r,!1);get _hide(){return this.#iY}set _hide(e){this.#iY=e}constructor(){super(...arguments),v3(this,a)}static{v3(t,s)}})})();var v6=i(93143),v8=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},v9=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l,c,d,h=[(0,L.EM)("icon-button")],u=[],p=H.WF,f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[];(class extends p{static{t=this}static{let O="function"==typeof Symbol&&Symbol.metadata?Object.create(p[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!0,type:Boolean})],s=[(0,L.MZ)({attribute:!0,type:Boolean})],o=[(0,L.MZ)()],r=[(0,L.MZ)({attribute:!0,type:String})],a=[(0,L.MZ)()],n=[(0,L.MZ)()],l=[(0,L.MZ)()],c=[(0,L.P)(".text-container .text")],d=[(0,L.MZ)()],v8(this,null,i,{kind:"accessor",name:"active",static:!1,private:!1,access:{has:e=>"active"in e,get:e=>e.active,set:(e,t)=>{e.active=t}},metadata:O},f,g),v8(this,null,s,{kind:"accessor",name:"disabled",static:!1,private:!1,access:{has:e=>"disabled"in e,get:e=>e.disabled,set:(e,t)=>{e.disabled=t}},metadata:O},m,v),v8(this,null,o,{kind:"accessor",name:"height",static:!1,private:!1,access:{has:e=>"height"in e,get:e=>e.height,set:(e,t)=>{e.height=t}},metadata:O},y,b),v8(this,null,r,{kind:"accessor",name:"hover",static:!1,private:!1,access:{has:e=>"hover"in e,get:e=>e.hover,set:(e,t)=>{e.hover=t}},metadata:O},w,x),v8(this,null,a,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:e=>"size"in e,get:e=>e.size,set:(e,t)=>{e.size=t}},metadata:O},_,C),v8(this,null,n,{kind:"accessor",name:"subText",static:!1,private:!1,access:{has:e=>"subText"in e,get:e=>e.subText,set:(e,t)=>{e.subText=t}},metadata:O},k,S),v8(this,null,l,{kind:"accessor",name:"text",static:!1,private:!1,access:{has:e=>"text"in e,get:e=>e.text,set:(e,t)=>{e.text=t}},metadata:O},M,E),v8(this,null,c,{kind:"accessor",name:"textElement",static:!1,private:!1,access:{has:e=>"textElement"in e,get:e=>e.textElement,set:(e,t)=>{e.textElement=t}},metadata:O},I,B),v8(this,null,d,{kind:"accessor",name:"width",static:!1,private:!1,access:{has:e=>"width"in e,get:e=>e.width,set:(e,t)=>{e.width=t}},metadata:O},$,T),v8(null,e={value:t},h,{kind:"class",name:t.name,metadata:O},null,u),t=e.value,O&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:O})}static{this.styles=(0,H.AH)`
    :host {
      box-sizing: border-box;
      display: flex;
      justify-content: flex-start;
      align-items: center;
      border: none;
      width: var(--button-width);
      height: var(--button-height);
      border-radius: 4px;
      background: transparent;
      cursor: pointer;
      user-select: none;
      font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
      color: var(--affine-text-primary-color);
      pointer-events: auto;
      padding: 4px;
    }

    :host(:hover) {
      background: var(--affine-hover-color);
    }

    :host(:active) {
      background: transparent;
    }

    :host([disabled]),
    :host(:disabled) {
      background: transparent;
      color: var(--affine-text-disable-color);
      cursor: not-allowed;
    }

    /* You can add a 'hover' attribute to the button to show the hover style */
    :host([hover='true']) {
      background: var(--affine-hover-color);
    }
    :host([hover='false']) {
      background: transparent;
    }

    :host(:active[active]) {
      background: transparent;
    }

    /* not supported "until-found" yet */
    :host([hidden]) {
      display: none;
    }

    :host > .text-container {
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    :host .text {
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
      font-size: var(--affine-font-sm);
      line-height: var(--affine-line-height);
    }

    :host .sub-text {
      font-size: var(--affine-font-xs);
      color: var(
        --light-textColor-textSecondaryColor,
        var(--textColor-textSecondaryColor, #8e8d91)
      );
      line-height: var(--affine-line-height);
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      margin-top: -2px;
    }

    ::slotted(svg) {
      flex-shrink: 0;
      color: var(--svg-icon-color);
    }

    ::slotted([slot='suffix']) {
      margin-left: auto;
    }
  `}constructor(){super(),v9(this,T),this.addEventListener("keypress",e=>{!this.disabled&&("Enter"!==e.key||e.isComposing||this.click())}),this.addEventListener("click",e=>{!0===this.disabled&&(e.preventDefault(),e.stopPropagation())},{capture:!0})}connectedCallback(){super.connectedCallback(),this.tabIndex=0,this.role="button";let e="28px";if(this.size&&(this.width||this.height))return;let t=this.width??e,i=this.height??e;this.size&&(t=this.size,i=this.size),this.style.setProperty("--button-width","string"==typeof t?t:`${t}px`),this.style.setProperty("--button-height","string"==typeof i?i:`${i}px`)}render(){if(this.hidden)return H.s6;if(this.disabled)this.style.setProperty("--svg-icon-color","var(--affine-text-disable-color)"),this.dataset.testDisabled="true";else{this.dataset.testDisabled="false";let e=this.active?"var(--affine-primary-color)":"var(--affine-icon-color)";this.style.setProperty("--svg-icon-color",e)}let e=this.text?(0,H.qy)`<div class="text">${this.text}</div>`:H.s6,t=this.subText?(0,H.qy)`<div class="sub-text">${this.subText}</div>`:H.s6,i=this.text||this.subText?(0,H.qy)`<div class="text-container">${e}${t}</div>`:H.s6;return(0,H.qy)` <slot></slot>
      ${i}
      <slot name="suffix"></slot>`}#iK=v9(this,f,!1);get active(){return this.#iK}set active(e){this.#iK=e}#iX=(v9(this,g),v9(this,m,void 0));get disabled(){return this.#iX}set disabled(e){this.#iX=e}#F=(v9(this,v),v9(this,y,null));get height(){return this.#F}set height(e){this.#F=e}#iQ=(v9(this,b),v9(this,w,void 0));get hover(){return this.#iQ}set hover(e){this.#iQ=e}#ev=(v9(this,x),v9(this,_,null));get size(){return this.#ev}set size(e){this.#ev=e}#iJ=(v9(this,C),v9(this,k,null));get subText(){return this.#iJ}set subText(e){this.#iJ=e}#tu=(v9(this,S),v9(this,M,null));get text(){return this.#tu}set text(e){this.#tu=e}#i1=(v9(this,E),v9(this,I,null));get textElement(){return this.#i1}set textElement(e){this.#i1=e}#tQ=(v9(this,B),v9(this,$,null));get width(){return this.#tQ}set width(e){this.#tQ=e}static{v9(t,u)}})})();let ye=(0,H.iz)(`
  font-family: ${oY.$7.fontSansFamily};
  font-feature-settings:
    'clig' off,
    'liga' off;
  font-style: normal;
`),yt=(0,H.iz)(`
  ${ye};
  font-size: var(--affine-font-sm);
  font-weight: 500;
  line-height: 22px;
`),yi=(0,H.iz)(`
  ${ye};
  font-size: var(--affine-font-xs);
  font-weight: 500;
  line-height: 20px;
`),ys=(0,H.iz)(`
  color: var(--affine-icon-color);
  background: var(--affine-background-overlay-panel-color);
  box-shadow: var(--affine-overlay-shadow);
`),yo=(0,H.iz)(`
  display: flex;
  align-items: center;
  gap: 8px;
  width: max-content;
  padding: 0 6px;
  border-radius: 4px;
  border: 0.5px solid var(--affine-border-color);

  ${ys};
  ${yt};
`),yr=(0,H.AH)`
  .embed-card-modal-mask {
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    margin: auto;
    z-index: 1;
  }

  .embed-card-modal-wrapper {
    ${yo};
    flex-direction: column;
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    margin: auto;
    z-index: 2;
    width: 305px;
    height: max-content;
    padding: 12px;
    gap: 12px;
    border-radius: 8px;
    font-size: var(--affine-font-xs);
    line-height: 20px;
  }

  .embed-card-modal-row {
    display: flex;
    flex-direction: column;
    align-self: stretch;
  }

  .embed-card-modal-row label {
    padding: 0px 2px;
    color: var(--affine-text-secondary-color);
    font-weight: 600;
  }
  .embed-card-modal-input {
    display: flex;
    padding-left: 10px;
    padding-right: 10px;
    border-radius: 8px;
    border: 1px solid var(--affine-border-color);
    background: var(--affine-white-10);
    color: var(--affine-text-primary-color);
    ${yi};
  }
  input.embed-card-modal-input {
    padding-top: 4px;
    padding-bottom: 4px;
  }
  textarea.embed-card-modal-input {
    padding-top: 6px;
    padding-bottom: 6px;
    min-width: 100%;
    max-width: 100%;
  }
  .embed-card-modal-input:focus {
    border-color: var(--affine-blue-700);
    box-shadow: var(--affine-active-shadow);
    outline: none;
  }
  .embed-card-modal-input::placeholder {
    color: var(--affine-placeholder-color);
  }

  .embed-card-modal-row:has(.embed-card-modal-button) {
    flex-direction: row;
    gap: 4px;
    align-self: flex-end;
  }

  .embed-card-modal-button {
    padding: 4px 18px;
    border-radius: 8px;
    align-self: self-end;
    box-sizing: border-box;
  }
  .embed-card-modal-button.save {
    border: 1px solid var(--affine-black-10);
    background: var(--affine-primary-color);
    color: var(--affine-pure-white);
  }
  .embed-card-modal-button[disabled] {
    pointer-events: none;
    cursor: not-allowed;
    color: var(--affine-text-disable-color);
    background: transparent;
  }

  .embed-card-modal-title {
    font-size: 18px;
    font-weight: 600;
    line-height: 26px;
    user-select: none;
  }
  .embed-card-modal-description {
    font-size: 15px;
    font-weight: 500;
    line-height: 24px;
    user-select: none;
  }
`;var ya=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},yn=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let yl=(()=>{let e,t,i,s,o=[(0,L.EM)("embed-card-caption-edit-modal")],r=[],a=(0,P.Tm)(P.ao),n=[],l=[],c=[],d=[];return class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.P)(".embed-card-modal-input.caption")],ya(this,null,i,{kind:"accessor",name:"block",static:!1,private:!1,access:{has:e=>"block"in e,get:e=>e.block,set:(e,t)=>{e.block=t}},metadata:h},n,l),ya(this,null,s,{kind:"accessor",name:"captionInput",static:!1,private:!1,access:{has:e=>"captionInput"in e,get:e=>e.captionInput,set:(e,t)=>{e.captionInput=t}},metadata:h},c,d),ya(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=yr}get _doc(){return this.block.doc}get _model(){return this.block.model}_onKeydown(e){e.stopPropagation(),"Enter"!==e.key||e.isComposing||this._onSave(),"Escape"===e.key&&this.remove()}_onSave(){let e=this.captionInput.value;this._doc.updateBlock(this._model,{caption:e}),this.remove()}connectedCallback(){super.connectedCallback(),this.updateComplete.then(()=>{this.captionInput.focus()}).catch(console.error),this.disposables.addFromEvent(this,"keydown",this._onKeydown)}render(){return(0,H.qy)`
      <div class="embed-card-modal">
        <div class="embed-card-modal-mask" @click=${()=>this.remove()}></div>
        <div class="embed-card-modal-wrapper">
          <div class="embed-card-modal-row">
            <label for="card-title">Caption</label>
            <textarea
              class="embed-card-modal-input caption"
              placeholder="Write a caption..."
              .value=${this._model.caption??""}
            ></textarea>
          </div>
          <div class="embed-card-modal-row">
            <button
              class=${(0,oJ.H)({"embed-card-modal-button":!0,save:!0})}
              @click=${()=>this._onSave()}
            >
              Save
            </button>
          </div>
        </div>
      </div>
    `}#e$=yn(this,n,void 0);get block(){return this.#e$}set block(e){this.#e$=e}#i0=(yn(this,l),yn(this,c,void 0));get captionInput(){return this.#i0}set captionInput(e){this.#i0=e}constructor(){super(...arguments),yn(this,d)}static{yn(t,r)}},t})();var yc=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},yd=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let yh=(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("embed-card-edit-modal")],l=[],c=(0,P.Tm)(P.ao),d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[];return class extends c{static{t=this}static{let w="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.P)(".embed-card-modal-input.description")],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.P)(".embed-card-modal-input.title")],yc(this,null,i,{kind:"accessor",name:"_titleInputValue",static:!1,private:!1,access:{has:e=>"_titleInputValue"in e,get:e=>e._titleInputValue,set:(e,t)=>{e._titleInputValue=t}},metadata:w},d,h),yc(this,null,s,{kind:"accessor",name:"descInput",static:!1,private:!1,access:{has:e=>"descInput"in e,get:e=>e.descInput,set:(e,t)=>{e.descInput=t}},metadata:w},u,p),yc(this,null,o,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:w},f,g),yc(this,null,r,{kind:"accessor",name:"model",static:!1,private:!1,access:{has:e=>"model"in e,get:e=>e.model,set:(e,t)=>{e.model=t}},metadata:w},m,v),yc(this,null,a,{kind:"accessor",name:"titleInput",static:!1,private:!1,access:{has:e=>"titleInput"in e,get:e=>e.titleInput,set:(e,t)=>{e.titleInput=t}},metadata:w},y,b),yc(null,e={value:t},n,{kind:"class",name:t.name,metadata:w},null,l),t=e.value,w&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w})}static{this.styles=yr}_handleInput(e){let t=e.target;this._titleInputValue=t.value}_onDocumentKeydown(e){e.stopPropagation(),"Enter"!==e.key||e.isComposing||this._onSave(),"Escape"===e.key&&this.remove()}_onSave(){let e=this.titleInput.value;if(0===e.length){l8(this.host,"Link title can not be empty");return}this.model.doc.updateBlock(this.model,{title:e,description:this.descInput.value}),this.remove()}connectedCallback(){super.connectedCallback(),this.updateComplete.then(()=>{this.titleInput.focus(),this.titleInput.setSelectionRange(0,this.titleInput.value.length)}).catch(console.error),this.disposables.addFromEvent(this,"keydown",this._onDocumentKeydown),this._titleInputValue=this.model.title??""}render(){return(0,H.qy)`
      <div class="embed-card-modal">
        <div class="embed-card-modal-mask" @click=${()=>this.remove()}></div>
        <div class="embed-card-modal-wrapper">
          <div class="embed-card-modal-row">
            <label for="card-title">Text</label>
            <input
              class="embed-card-modal-input title"
              id="card-title"
              type="text"
              placeholder="Title"
              value=${this._titleInputValue}
              @input=${this._handleInput}
            />
          </div>
          <div class="embed-card-modal-row">
            <label for="card-description">Description</label>
            <textarea
              class="embed-card-modal-input description"
              id="card-description"
              placeholder="Write a description..."
              .value=${this.model.description??""}
            ></textarea>
          </div>
          <div class="embed-card-modal-row">
            <button
              class=${(0,oJ.H)({"embed-card-modal-button":!0,save:!0})}
              ?disabled=${0===this._titleInputValue.length}
              @click=${()=>this._onSave()}
            >
              Save
            </button>
          </div>
        </div>
      </div>
    `}#i2=yd(this,d,"");get _titleInputValue(){return this.#i2}set _titleInputValue(e){this.#i2=e}#i5=(yd(this,h),yd(this,u,void 0));get descInput(){return this.#i5}set descInput(e){this.#i5=e}#n=(yd(this,p),yd(this,f,void 0));get host(){return this.#n}set host(e){this.#n=e}#i7=(yd(this,g),yd(this,m,void 0));get model(){return this.#i7}set model(e){this.#i7=e}#i3=(yd(this,v),yd(this,y,void 0));get titleInput(){return this.#i3}set titleInput(e){this.#i3=e}constructor(){super(...arguments),yd(this,b)}static{yd(t,l)}},t})();function yu(e,t){e.selection.clear();let i=new yh;i.model=t,i.host=e,document.body.append(i)}let yp="Untitled";var yf=i(43462);function yg(e,t){let i=e.trim().toLowerCase().split("").filter(e=>" "!==e).join("");return RegExp(t.split("").filter(e=>" "!==e).map(e=>`${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}.*`).join(""),"i").test(i)}function ym(e,t){let i;if(0===t.length||0===e.length||t.length>e.length)return 0;if(t=t.toLowerCase(),(e=e.toLocaleLowerCase()).includes(t))i=1+t.length/e.length;else{let s=0;for(let i=0;i<t.length;i++)for(let o=0;o<e.length;o++){let r=0;for(;i+r<t.length&&o+r<e.length&&t[i+r]===e[o+r];)r++;s=Math.max(s,r)}i=s/e.length}return .5*i}var yv=i(62672),yy=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},yb=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,L.EM)("loader-element")],a=[],n=H.WF,l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],yy(this,null,i,{kind:"accessor",name:"hostModel",static:!1,private:!1,access:{has:e=>"hostModel"in e,get:e=>e.hostModel,set:(e,t)=>{e.hostModel=t}},metadata:f},l,c),yy(this,null,s,{kind:"accessor",name:"radius",static:!1,private:!1,access:{has:e=>"radius"in e,get:e=>e.radius,set:(e,t)=>{e.radius=t}},metadata:f},d,h),yy(this,null,o,{kind:"accessor",name:"width",static:!1,private:!1,access:{has:e=>"width"in e,get:e=>e.width,set:(e,t)=>{e.width=t}},metadata:f},u,p),yy(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    .load-container {
      margin: 10px auto;
      width: var(--loader-width);
      text-align: center;
    }

    .load-container .load {
      width: 8px;
      height: 8px;
      background-color: var(--affine-text-primary-color);

      border-radius: 100%;
      display: inline-block;
      -webkit-animation: bouncedelay 1.4s infinite ease-in-out;
      animation: bouncedelay 1.4s infinite ease-in-out;
      /* Prevent first note from flickering when animation starts */
      -webkit-animation-fill-mode: both;
      animation-fill-mode: both;
    }
    .load-container .load1 {
      -webkit-animation-delay: -0.32s;
      animation-delay: -0.32s;
    }
    .load-container .load2 {
      -webkit-animation-delay: -0.16s;
      animation-delay: -0.16s;
    }

    @-webkit-keyframes bouncedelay {
      0%,
      80%,
      100% {
        -webkit-transform: scale(0.625);
      }
      40% {
        -webkit-transform: scale(1);
      }
    }

    @keyframes bouncedelay {
      0%,
      80%,
      100% {
        transform: scale(0);
        -webkit-transform: scale(0.625);
      }
      40% {
        transform: scale(1);
        -webkit-transform: scale(1);
      }
    }
  `}constructor(){super(),yb(this,p)}connectedCallback(){super.connectedCallback(),this.hostModel&&(this.setAttribute(fA.u_,this.hostModel.id),this.dataset.serviceLoading="true");let e=this.width;this.style.setProperty("--loader-width","string"==typeof e?e:`${e}px`)}render(){return(0,H.qy)`
      <div class="load-container">
        <div class="load load1"></div>
        <div class="load load2"></div>
        <div class="load"></div>
      </div>
    `}#i4=yb(this,l,null);get hostModel(){return this.#i4}set hostModel(e){this.#i4=e}#i6=(yb(this,c),yb(this,d,"8px"));get radius(){return this.#i6}set radius(e){this.#i6=e}#tQ=(yb(this,h),yb(this,u,"150px"));get width(){return this.#tQ}set width(e){this.#tQ=e}static{yb(t,a)}})})();let yw=(0,H.AH)`
  .container {
    position: absolute;
    width: 480px;
    left: calc(50% - 480px / 2);
    top: calc(50% - 270px / 2);
    font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
    font-size: var(--affine-font-base);
    line-height: var(--affine-line-height);
    padding: 12px 40px 36px;
    gap: 20px;
    display: flex;
    flex-direction: column;
    background: var(--affine-background-primary-color);
    box-shadow: var(--affine-shadow-2);
    border-radius: 16px;
    z-index: var(--affine-z-index-popover);
  }

  .container[hidden] {
    display: none;
  }

  header {
    cursor: move;
    user-select: none;
    font-size: var(--affine-font-h-6);
    font-weight: 600;
  }

  a {
    white-space: nowrap;
    word-break: break-word;
    color: var(--affine-link-color);
    fill: var(--affine-link-color);
    text-decoration: none;
    cursor: pointer;
  }

  header icon-button {
    margin-left: auto;
    position: relative;
    left: 24px;
  }

  .button-container {
    display: flex;
    justify-content: space-between;
  }

  .button-container icon-button {
    padding: 8px 12px;
    justify-content: flex-start;
    gap: 12px;
    width: 190px;
    height: 40px;
    box-shadow: var(--affine-shadow-1);
    border-radius: 10px;
  }

  .footer {
    display: flex;
    align-items: center;
    color: var(--affine-text-secondary-color);
  }

  .loading-header {
    display: flex;
    align-items: center;
  }

  .button-suffix {
    display: flex;
    margin-left: auto;
  }

  .overlay-mask {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: var(--affine-z-index-popover);
  }
`;var yx=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},y_=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};async function yC(e,t,i){let s=new v._O({collection:e,middlewares:[ga,({slots:e})=>{e.beforeImport.on(e=>{"page"===e.type&&i&&(e.snapshot.meta.title=i,e.snapshot.blocks.props.title={"$blocksuite:internal:text$":!0,delta:[{insert:i}]})})}]}),o=new ec(s),r=await o.toDoc({file:t,assets:s.assetsManager});if(r)return r.id}async function yk(e,t){let i=new v._O({collection:e,middlewares:[ga]}),s=new f9(i),o=await s.toDocSnapshot({file:t,assets:i.assetsManager}),r=await i.snapshotToDoc(o);if(r)return r.id}async function yS(e,t){let i=[],s=!1,o=!1,r=async t=>{let a=new yv,n=await a.loadAsync(t),l=new Map,c=Object.keys(n.files),d=[],h=new Map;for(let t=0;t<c.length;t++){let i=c[t];if(i.startsWith("__MACOSX/"))continue;let a=i.lastIndexOf("/"),u=i.substring(a+1);if(u.endsWith(".md")){o=!0;continue}if(u.endsWith(".html")){if(i.endsWith("/index.html")){s=!0;continue}if(-1!==a){let e=await n.files[i].async("text"),t=new DOMParser().parseFromString(e,"text/html").querySelector(".page-body");if(t&&0==t.children.length)continue}l.set(i,e.idGenerator());continue}if(0===t&&u.endsWith(".csv")){window.open("https://affine.pro/blog/import-your-data-from-notion-into-affine","_blank");continue}if(u.endsWith(".zip")){let e=await n.file(u)?.async("blob");e&&d.push(...await r(e));continue}let p=await n.files[i].async("blob"),f=i.split(".").at(-1)??"",g=v.yf.get(f)??"";h.set(await (0,j.h)(await p.arrayBuffer()),new File([p],u,{type:g}))}let u=Array.from(l.keys()).map(async t=>{let s=new v._O({collection:e,middlewares:[ga]}),o=new f9(s),r=s.assetsManager.getAssets();for(let[e,t]of h.entries())r.has(e)||r.set(e,t);let a=await o.toDoc({file:await n.files[t].async("text"),pageId:l.get(t),pageMap:l,assets:s.assetsManager});a&&i.push(a.id)});return d.push(...u),d},a=await r(t);return await Promise.all(a.flat()),{pageIds:i,isWorkspaceFile:s,hasMarkdown:o}}let yM=(()=>{let e,t,i,s,o,r,a,n,l=[(0,L.EM)("import-doc")],c=[],d=(0,P.Tm)(H.WF),h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[];return class extends d{static{t=this}static{let C="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.wk)()],r=[(0,L.P)(".container")],a=[(0,L.wk)()],n=[(0,L.wk)()],yx(this,null,i,{kind:"accessor",name:"_loading",static:!1,private:!1,access:{has:e=>"_loading"in e,get:e=>e._loading,set:(e,t)=>{e._loading=t}},metadata:C},h,u),yx(this,null,s,{kind:"accessor",name:"_startX",static:!1,private:!1,access:{has:e=>"_startX"in e,get:e=>e._startX,set:(e,t)=>{e._startX=t}},metadata:C},p,f),yx(this,null,o,{kind:"accessor",name:"_startY",static:!1,private:!1,access:{has:e=>"_startY"in e,get:e=>e._startY,set:(e,t)=>{e._startY=t}},metadata:C},g,m),yx(this,null,r,{kind:"accessor",name:"containerEl",static:!1,private:!1,access:{has:e=>"containerEl"in e,get:e=>e.containerEl,set:(e,t)=>{e.containerEl=t}},metadata:C},v,y),yx(this,null,a,{kind:"accessor",name:"x",static:!1,private:!1,access:{has:e=>"x"in e,get:e=>e.x,set:(e,t)=>{e.x=t}},metadata:C},b,w),yx(this,null,n,{kind:"accessor",name:"y",static:!1,private:!1,access:{has:e=>"y"in e,get:e=>e.y,set:(e,t)=>{e.y=t}},metadata:C},x,_),yx(null,e={value:t},l,{kind:"class",name:t.name,metadata:C},null,c),t=e.value,C&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})}static{this.styles=yw}constructor(e,t,i,s=new AbortController){super(),y_(this,_),this.collection=e,this.onSuccess=t,this.onFail=i,this.abortController=s,this._loading=!1,this.x=0,this.y=0,this._startX=0,this._startY=0,this._onMouseMove=this._onMouseMove.bind(this)}async _importHtml(){let e=await (0,st.p6)({acceptType:"Html",multiple:!0});if(!e)return;let t=[];for(let i of e){let e=await i.text(),s=i.size>204800;s?(this.hidden=!1,this._loading=!0):this.abortController.abort();let o=await yk(this.collection,e);s&&this.abortController.abort(),o&&t.push(o)}this._onImportSuccess(t)}async _importMarkDown(){let e=await (0,st.p6)({acceptType:"Markdown",multiple:!0});if(!e)return;let t=[];for(let i of e){let e=await i.text(),s=i.name.split(".").slice(0,-1).join("."),o=i.size>204800;o?(this.hidden=!1,this._loading=!0):this.abortController.abort();let r=await yC(this.collection,e,s);o&&this.abortController.abort(),r&&t.push(r)}this._onImportSuccess(t)}async _importNotion(){let e=await (0,st.p6)({acceptType:"Zip"});if(!e)return;let t=0,i=new yv;for(let s of Object.values((await i.loadAsync(e)).files))s.dir||(t+=(await s.async("uint8array")).length);let s=t>204800;s?(this.hidden=!1,this._loading=!0):this.abortController.abort();let{pageIds:o,isWorkspaceFile:r,hasMarkdown:a}=await yS(this.collection,e);if(s&&this.abortController.abort(),a){this._onFail("Importing markdown files from Notion is deprecated. Please export your Notion pages as HTML.");return}this._onImportSuccess([o[0]],{isWorkspaceFile:r,importedCount:o.length})}_onCloseClick(e){e.stopPropagation(),this.abortController.abort()}_onFail(e){this.onFail?.(e)}_onImportSuccess(e,t={}){let{isWorkspaceFile:i=!1,importedCount:s=e.length}=t;this.onSuccess?.(e,{isWorkspaceFile:i,importedCount:s})}_onMouseDown(e){this._startX=e.clientX-this.x,this._startY=e.clientY-this.y,window.addEventListener("mousemove",this._onMouseMove)}_onMouseMove(e){this.x=e.clientX-this._startX,this.y=e.clientY-this._startY}_onMouseUp(){window.removeEventListener("mousemove",this._onMouseMove)}_openLearnImportLink(e){e.stopPropagation(),window.open("https://affine.pro/blog/import-your-data-from-notion-into-affine","_blank")}render(){return this._loading?(0,H.qy)`
        <div class="overlay-mask"></div>
        <div class="container">
          <header
            class="loading-header"
            @mousedown="${this._onMouseDown}"
            @mouseup="${this._onMouseUp}"
          >
            <div>Import</div>
            <loader-element .width=${"50px"}></loader-element>
          </header>
          <div>
            Importing the file may take some time. It depends on document size
            and complexity.
          </div>
        </div>
      `:(0,H.qy)`
      <div
        class="overlay-mask"
        @click="${()=>this.abortController.abort()}"
      ></div>
      <div class="container">
        <header @mousedown="${this._onMouseDown}" @mouseup="${this._onMouseUp}">
          <icon-button height="28px" @click="${this._onCloseClick}">
            ${ae}
          </icon-button>
          <div>Import</div>
        </header>
        <div>
          AFFiNE will gradually support more file formats for import.
          <a
            href="https://community.affine.pro/c/feature-requests/import-export"
            target="_blank"
            >Provide feedback.</a
          >
        </div>
        <div class="button-container">
          <icon-button
            class="button-item"
            text="Markdown"
            @click="${this._importMarkDown}"
          >
            ${at}
          </icon-button>
          <icon-button
            class="button-item"
            text="HTML"
            @click="${this._importHtml}"
          >
            ${ai}
          </icon-button>
        </div>
        <div class="button-container">
          <icon-button
            class="button-item"
            text="Notion"
            @click="${this._importNotion}"
          >
            ${as}
            <div
              slot="suffix"
              class="button-suffix"
              @click="${this._openLearnImportLink}"
            >
              ${ar}
              <affine-tooltip>
                Learn how to Import your Notion pages into AFFiNE.
              </affine-tooltip>
            </div>
          </icon-button>
          <icon-button class="button-item" text="Coming soon..." disabled>
            ${ao}
          </icon-button>
        </div>
        <!-- <div class="footer">
        <div>Migrate from other versions of AFFiNE?</div>
      </div> -->
      </div>
    `}updated(e){(e.has("x")||e.has("y"))&&(this.containerEl.style.transform=`translate(${this.x}px, ${this.y}px)`)}#i8=y_(this,h,!1);get _loading(){return this.#i8}set _loading(e){this.#i8=e}#i9=(y_(this,u),y_(this,p,0));get _startX(){return this.#i9}set _startX(e){this.#i9=e}#se=(y_(this,f),y_(this,g,0));get _startY(){return this.#se}set _startY(e){this.#se=e}#st=(y_(this,m),y_(this,v,void 0));get containerEl(){return this.#st}set containerEl(e){this.#st=e}#si=(y_(this,y),y_(this,b,0));get x(){return this.#si}set x(e){this.#si=e}#ss=(y_(this,w),y_(this,x,0));get y(){return this.#ss}set y(e){this.#ss=e}static{y_(t,c)}},t})();function yE({collection:e,onSuccess:t,onFail:i,container:s=document.body,abortController:o=new AbortController}){let r=new yM(e,t,i,o);return s.append(r),o.signal.addEventListener("abort",()=>r.remove()),r}let yI="Untitled";function yB({inlineEditor:e,docId:t}){if(!e)return;let i=e.getInlineRange();i&&(e.insertText(i," ",{reference:{type:"LinkedPage",pageId:t}}),e.setInlineRange({index:i.index+1,length:0}))}function y$(e,t,i,s){let o=i.doc,{docModeService:r}=i.std.spec.getService("affine:page"),{docMetas:a}=o.collection.meta,n=a.filter(({id:e})=>e!==o.id).filter(({title:t})=>yg(t,e));return{name:"Link to Doc",items:n.map(e=>({key:e.id,name:e.title||yI,icon:"edgeless"===r.getMode(e.id)?a9:nL,action:()=>{t(),yB({inlineEditor:s,docId:e.id}),i.spec.getService("affine:page").telemetryService?.track("LinkedDocCreated",{control:"linked doc",module:"inline @",type:"doc",other:"existing doc"})}})),maxDisplay:6,overflowText:`${n.length-6} more docs`}}function yT(e,t,i,s){let o=i.doc,r=e||yI,a=r.slice(0,8)+(r.length>8?"..":"");return{name:"New Doc",items:[{key:"create",name:`Create "${a}" doc`,icon:ne,action:()=>{t(),yB({inlineEditor:s,docId:(0,yf.U)(o.collection,{title:e}).id});let r=i.spec.getService("affine:page").telemetryService;r?.track("LinkedDocCreated",{control:"new doc",module:"inline @",type:"doc",other:"new doc"}),r?.track("DocCreated",{control:"new doc",module:"inline @",type:"doc"})}},{key:"import",name:"Import",icon:aa,action:()=>{t(),yE({collection:o.collection,onSuccess:(e,t)=>{for(let o of(l8(i,`Successfully imported ${t.importedCount} Doc${t.importedCount>1?"s":""}.`),e))yB({inlineEditor:s,docId:o})},onFail:e=>{l8(i,e)}})}}]}}function yO(e,t,i,s){return Promise.resolve([y$(e,t,i,s),yT(e,t,i,s)])}let yP={createLinkedDocMenuGroup:y$,createNewDocMenuGroup:yT,insertLinkedNode:yB},yA=[{id:"bold",name:"Bold",icon:a$,hotkey:"Mod-b",activeWhen:e=>{let[t]=e.std.command.chain().isTextStyleActive({key:"bold"}).run();return t},action:e=>{e.std.command.chain().toggleBold().run()}},{id:"italic",name:"Italic",icon:aT,hotkey:"Mod-i",activeWhen:e=>{let[t]=e.std.command.chain().isTextStyleActive({key:"italic"}).run();return t},action:e=>{e.std.command.chain().toggleItalic().run()}},{id:"underline",name:"Underline",icon:aO,hotkey:"Mod-u",activeWhen:e=>{let[t]=e.std.command.chain().isTextStyleActive({key:"underline"}).run();return t},action:e=>{e.std.command.chain().toggleUnderline().run()}},{id:"strike",name:"Strikethrough",icon:aP,hotkey:"Mod-shift-s",activeWhen:e=>{let[t]=e.std.command.chain().isTextStyleActive({key:"strike"}).run();return t},action:e=>{e.std.command.chain().toggleStrike().run()}},{id:"code",name:"Code",icon:aA,hotkey:"Mod-e",activeWhen:e=>{let[t]=e.std.command.chain().isTextStyleActive({key:"code"}).run();return t},action:e=>{e.std.command.chain().toggleCode().run()}},{id:"link",name:"Link",icon:aH,hotkey:"Mod-k",activeWhen:e=>{let[t]=e.std.command.chain().isTextStyleActive({key:"link"}).run();return t},action:e=>{e.std.command.chain().toggleLink().run()}}];function yH(e,t){e.model.text?.insert(" ",t);let i=e.selection.find("text");e.selection.setGroup("note",[e.selection.create("text",{from:{blockId:e.blockId,index:(i?.from.index??0)+1,length:0},to:null})])}function yL(e,t,i,s){let{doc:o,model:r}=e;if((0,st.op)(r,["affine:list"]))return!1;if((0,st.op)(r,["affine:paragraph"])){let a=o.getParent(r);if(!a)return!1;let n=a.children.indexOf(r);if(yH(e,i.length),o.captureSync(),r.text?.delete(0,i.length+1),"numbered"===t){let t=parseInt(i.slice(0,-1));Number.isInteger(t)||(t=1);let{list:s}=e.std.command.exec("convertToNumberedList",{id:r.id,order:t,stopCapturing:!1});if(!s)return!1;e.host.updateComplete.then(()=>{let t=e.host.view.getBlock(s.id);e.std.command.exec("focusBlockStart",{focusBlock:t})}).catch(console.error)}else{let i={type:t,text:r.text?.clone(),children:r.children,...s};o.deleteBlock(r,{deleteChildren:!1});let l=o.addBlock("affine:list",i,a,n);st.Km(e.host,l)?.catch(console.error)}}return!0}function yD(e,t,i){let{doc:s,model:o}=e;if((0,st.op)(o,["affine:paragraph"])&&o.type===t)return!1;if((0,st.op)(o,["affine:paragraph"])){if((0,st.op)(o,["affine:paragraph"])&&o.type!==t){yH(e,i.length),s.captureSync(),o.text?.delete(0,i.length+1);let r=(0,st.h9)(e.host,o);r&&r.setInlineRange({index:0,length:0}),s.updateBlock(o,{type:t})}}else{let r=s.getParent(o);if(!r)return!1;let a=r.children.indexOf(o);yH(e,i.length),s.captureSync(),o.text?.delete(0,i.length+1);let n={type:t,text:o.text?.clone(),children:o.children};s.deleteBlock(o,{deleteChildren:!1});let l=s.addBlock("affine:paragraph",n,r,a);st.Km(e.host,l)?.catch(console.error)}return!0}function yZ(e,t,i,s){let{model:o}=e;if(!i.match(/^(\d+\.|-|\*|\[ ?\]|\[x\]|(#){1,6}|(-){3}|(\*){3}|>|```([a-zA-Z0-9]*))$/))return si.gT;let r=t.getLine(s.index);if(!r)return si.gT;let{lineIndex:a,rangeIndexRelatedToLine:n}=r;if(0!==a||n>i.length)return si.gT;let l=(0,st.op)(o,["affine:paragraph"]),c=l&&o.type.startsWith("h"),d=l&&(0,V.n4)(o.type,"quote"),h=(0,st.op)(o,["affine:code"]);if(c||d||h)return si.gT;let u=i.match(/^```([a-zA-Z0-9]*)$/g);if(u){if("affine:paragraph"===o.flavour&&"quote"===o.type)return si.gT;let t=o.doc;t.captureSync();let s=t.getParent(o);(0,V.Z1)(s);let r=s.children.indexOf(o),a=t.addBlock("affine:code",{language:fU(u[0].slice(3))?.id??ss.Kc},s,r);if(o.text&&o.text.length>i.length){let e=o.text.clone();t.addBlock("affine:paragraph",{text:e},s,r+1),e.delete(0,i.length)}t.deleteBlock(o,{bringChildrenTo:s});let n=t.getBlockById(a);return(0,V.Z1)(n),(0,st.xw)(e.host,n,{index:0,length:0}).catch(console.error),si.rM}let p=!1;switch(i.trim()){case"[]":case"[ ]":p=yL(e,"todo",i,{checked:!1});break;case"[x]":p=yL(e,"todo",i,{checked:!0});break;case"-":case"*":p=yL(e,"bulleted",i);break;case"***":case"---":p=function(e,t){let{doc:i,model:s}=e;if((0,st.op)(s,["affine:divider"])||(0,st.op)(s,["affine:paragraph"])&&"quote"===s.type)return!1;if(!(0,st.op)(s,["affine:divider"])){let o=i.getParent(s);if(!o)return!1;let r=o.children.indexOf(s);yH(e,t.length),i.captureSync(),s.text?.delete(0,t.length+1);let a={children:s.children};i.addBlock("affine:divider",a,o,r);let n=o.children[r+1];if(n)st.Km(e.host,n.id)?.catch(console.error);else{let t=i.addBlock("affine:paragraph",{},o);st.Km(e.host,t)?.catch(console.error)}}return!0}(e,i);break;case"#":p=yD(e,"h1",i);break;case"##":p=yD(e,"h2",i);break;case"###":p=yD(e,"h3",i);break;case"####":p=yD(e,"h4",i);break;case"#####":p=yD(e,"h5",i);break;case"######":p=yD(e,"h6",i);break;case">":p=yD(e,"quote",i);break;default:p=yL(e,"numbered",i)}return p?si.rM:si.gT}function yj(e){return!((0,iS.o)(e,["affine:image","affine:divider","affine:code"])||(0,iS.o)(e,["affine:paragraph"])&&["h1","h2","h3","h4","h5","h6","quote"].includes(e.type??""))}function yV(e,t){let i;let s=t.doc,o=s.getParent(t),r=s.getNext(t);if(!o)return;let[a,n]=(0,iS.o)(t,["affine:list"])?[t.flavour,{type:t.type}]:["affine:paragraph",{type:"text"}];if((0,iS.a)(s,t,"affine:database")){s.captureSync();let i=o.children.findIndex(e=>e.id===t.id),r=o,l=i+1,c=o.children.length;if(i===c-1&&t.text?.yText.length===0){1!==c&&s.deleteBlock(t);let i=s.getNext(r);if(i&&(0,iS.o)(i,["affine:paragraph"])){li.Km(e,i.id,i.text.length)?.catch(console.error);return}let a=s.getParent(o);if(!a)return;let n=a.children.findIndex(e=>e.id===o.id);r=a,l=n+1}let d=s.addBlock(a,n,r,l);li.Km(e,d)?.catch(console.error);return}let l=o.children.indexOf(t);if(-1!==l){if(s.captureSync(),i=t.children.length>0?s.addBlock(a,n,t,0):s.addBlock(a,n,o,l+1),(0,iS.o)(t,["affine:list"])&&"numbered"===t.type){let e=r;for(;e&&(0,iS.o)(e,["affine:list"])&&"numbered"===t.type;)s.updateBlock(e,{}),e=s.getNext(e)}li.Km(e,i)?.catch(console.error)}}function yR(e,t,i=0){let s=t.doc,o=s.getPrev(t);if(s.readonly||!o||!yj(o))return;let r=s.getNexts(t);s.captureSync(),s.moveBlocks([t],o),(0,iS.o)(t,["affine:list"])&&"numbered"===t.type&&s.updateBlock(t,{}),r.filter(e=>(0,iS.o)(e,["affine:list"])&&"numbered"===e.type).forEach(e=>{s.updateBlock(e,{})}),(0,iS.o)(o,["affine:list"])&&o.collapsed&&s.updateBlock(o,{collapsed:!1}),(0,li.xw)(e,t,{index:i,length:0}).catch(console.error)}function yz(e,t,i=0){let s=t.doc,o=s.getParent(t);if(s.readonly||!o||"content"!==o.role)return;let r=s.getParent(o);if(!r)return;s.captureSync();let a=s.getNexts(t),n=s.getNexts(o);s.moveBlocks(a,t),s.moveBlocks([t],r,o,!1),(0,iS.o)(t,["affine:list"])&&"numbered"===t.type&&s.updateBlock(t,{}),t.children.forEach(e=>{(0,iS.o)(e,["affine:list"])&&"numbered"===e.type&&s.updateBlock(e,{})}),n.filter(e=>(0,iS.o)(e,["affine:list"])&&"numbered"===e.type).forEach(e=>{s.updateBlock(e,{})}),(0,li.xw)(e,t,{index:i,length:0}).catch(console.error)}function yF(e,t,i=0){let s=t.doc,o=s.getParent(t);for(;o&&!(0,iS.o)(o,["affine:note"]);)yz(e,t,i),o=s.getParent(t)}function yN(e,t){if(function(e,t){let i=t.doc;if(!(0,iS.o)(t,["affine:list"]))return!1;let s=i.getParent(t);if(!s)return!1;let o=i.getNexts(t),r=s.children.indexOf(t),a={type:"text",text:t.text?.clone(),children:t.children};i.captureSync(),i.deleteBlock(t,{deleteChildren:!1}),o.filter(e=>(0,iS.o)(e,["affine:list"])&&"numbered"===e.type).forEach(e=>i.updateBlock(e,{}));let n=i.addBlock("affine:paragraph",a,s,r);return li.Km(e,n)?.catch(console.error),!0}(e,t)||function(e,t){let i=t.doc;return!!(0,iS.o)(t,["affine:paragraph"])&&("text"!==t.type?(i.captureSync(),i.updateBlock(t,{type:"text"}),!0):!!function(e,t){let i=t.doc,s=i.getParent(t);if(!s)return!1;let o=(0,sc.HA)(e,t);if(!o)return function(e,t){let i=t.doc,s=t.text,o=i.getParent(t);if(!o)return!1;if(!(0,sc.zB)(e))return(!!(0,iS.o)(o,["affine:edgeless-text"])||t.children.length>0)&&(i.deleteBlock(t,{bringChildrenTo:o}),!0);let r=t.doc.root.title;i.captureSync();let a=0;if(s&&(a=s.length,r.join(s)),i.getNext(t)||t.children.length>0){let e=i.getParent(t);if(!e)return!1;i.deleteBlock(t,{bringChildrenTo:e})}else s?.clear();return(0,li.Zr)(e,r.length-a),!0}(e,t);if((0,iS.o)(o,["affine:paragraph","affine:list"])){let r=s.children.indexOf(t);if((-1===r||r===s.children.length-1)&&"content"===s.role)return!1;let a=o.text?.length??0;return o.text?.join(t.text),i.deleteBlock(t,{bringChildrenTo:s}),(0,li.xw)(e,o,{index:a,length:0}).catch(console.error),!0}if((0,iS.o)(o,["affine:attachment","affine:bookmark","affine:code","affine:image","affine:divider",...fA.zu])){let r=(0,sc.DG)(e,o);if(!r)return!1;let a=e.selection.create("block",{blockId:r.blockId});return e.selection.setGroup("note",[a]),t.text?.length===0&&i.deleteBlock(t,{bringChildrenTo:s}),!0}return!!(0,iS.o)(o,["affine:edgeless-text"])||((0,iS.o)(s,["affine:database"])?(i.deleteBlock(t),(0,li.q3)(e,o),!0):!!(0,iS.o)(s,["affine:note"])&&(function(e,t,i,s){let o=t.doc;if(!(0,iS.o)(i,["affine:paragraph","affine:list"]))return!1;o.captureSync();let r=i.text?.length||0;t.text?.length&&i.text?.join(t.text),o.deleteBlock(t,{bringChildrenTo:s});let a=(0,sc.h9)(e,i);return a?.setInlineRange({index:r,length:0}),!0}(e,t,o,s)||function(e,t,i,s){let o=t.doc;return(0,iS.o)(i,["affine:divider"])?(o.deleteBlock(i),!0):!!(0,iS.o)(i,["affine:image","affine:code","affine:bookmark","affine:attachment","affine:surface-ref"])&&((0,li.q3)(e,i),t.text?.length||(o.captureSync(),o.deleteBlock(t,{bringChildrenTo:s})),!0)}(e,t,o,s)))}(e,t)||(yz(e,t),!0))}(e,t))return}let yq=[{name:"parenthesis",left:"(",right:")"},{name:"square bracket",left:"[",right:"]"},{name:"curly bracket",left:"{",right:"}"},{name:"single quote",left:"'",right:"'"},{name:"double quote",left:'"',right:'"'},{name:"angle bracket",left:"<",right:">"},{name:"fullwidth single quote",left:"‘",right:"’"},{name:"fullwidth double quote",left:"“",right:"”"},{name:"fullwidth parenthesis",left:"（",right:"）"},{name:"fullwidth square bracket",left:"【",right:"】"},{name:"fullwidth angle bracket",left:"《",right:"》"},{name:"corner bracket",left:"「",right:"」"},{name:"white corner bracket",left:"『",right:"』"}];function yU(e,t){return t.insertText(e,"\n"),t.setInlineRange({index:e.index+1,length:0}),si.rM}function yW(e,t,i,s,o,r=!1){let a=t.doc;o.stopPropagation();let n=a.getParent(t),l=n?.lastChild()===t,c=(0,iS.o)(t,["affine:list"])&&0===t.text.length;if((0,V.Z1)(t.text,"Failed to hardEnter! model.text not exists!"),c&&n&&(0,iS.o)(n,["affine:note","affine:database"])&&0===t.children.length)return yN(e,t),si.rM;if(c&&l)return yz(e,t,i.index),si.rM;let d=t.text.length===i.index,h=yG(t);if(d&&h){if((0,iS.o)(t,["affine:code"]))return r?yV(e,t):yU(i,s),si.rM;let o=t.text.toString(),a="\n"===o||o.endsWith("\n");return h&&!a||r?yU(i,s):(t.text.delete(i.index-1,1),yV(e,t)),si.rM}return d||r?yV(e,t):yG(t)?yU(i,s):(function(e,t,i,s){if(!(t.text instanceof v.EY)||t.text.yText.length<i+s)return;let o=t.doc,r=o.getParent(t);if(!r)return;let a=r.children.indexOf(t);if(-1===a)return;o.captureSync();let n=t.text.split(i,s);if(t.children.length>0&&i>0){let i=o.addBlock(t.flavour,{text:n,type:t.type},t,0);return(0,li.Km)(e,i)}{let i=o.addBlock(t.flavour,{text:n,type:t.type},r,a+1),s=o.getBlock(i).model;return o.moveBlocks(t.children,s),(0,li.Km)(e,i)}})(e,t,i.index,i.length)?.catch(console.error),si.rM}function yG(e){return!!(0,iS.o)(e,["affine:code"])||!!(0,iS.o)(e,["affine:paragraph"])&&"quote"===e.type}let yY=e=>{let t=e.host.selection,i=e.model,s=e.host,o=s.std,r=yq.map(e=>e.left),a=()=>(t.update(i=>i.map(i=>i.blockId===e.blockId?t.create("block",{blockId:e.blockId}):i)),!0),n=i=>(t.update(s=>s.map(s=>s.blockId===e.blockId?t.create("text",{from:{blockId:e.blockId,index:i?0:e.model.text?.length??0,length:0},to:null}):s)),!0),l=()=>{let t=e.querySelector(`[${si.jN}]`);return t?t.inlineEditor:null},c=e=>{let t=e.getInlineRange();if(!t)return"";let i=e.yTextString.search(/\n/);if(-1!==i&&t.index>i)return"";let s=e.getTextPoint(t.index);if(!s)return"";let[o,r]=s;return o.textContent?o.textContent.slice(0,r):""},d=e=>{e.get("defaultState").event.preventDefault()},h=()=>(t.update(i=>i.map(i=>i.blockId!==e.blockId?i:t.create("text",{from:{blockId:e.blockId,index:0,length:e.model.text?.length??0},to:null}))),!0);function u(t){if(!e.selected?.is("text"))return;let i=l();if(!i)return;let s=i.getInlineRange();if(!s)return;let o=c(i);if(!yZ(e,i,o,s))return d(t),!0}function p(t){if(!e.selected?.is("text"))return;let o=t.get("keyboardState"),r=l();if(r){var a,n;return((o.raw.stopPropagation(),function(e){let t=e.getInlineRange();return t?.index===e.yText.length&&t?.length===0}(r))?(a=s,n=i,((0,iS.o)(n,["affine:code"])||function(e,t){if(!(0,iS.o)(t,["affine:list"]))return!1;let i=t.doc,s=t.firstChild();if(s){t.text?.join(s.text);let e=s.children;return e&&i.moveBlocks(e,t),i.deleteBlock(s),!0}{let s=i.getNext(t);if(s){if(t.text?.join(s.text),!s.children)return i.deleteBlock(s),!0;{let e=i.getParent(s);return!!e&&(i.moveBlocks(s.children,e,t,!1),i.deleteBlock(s),!0)}}{let s=(0,sc.RL)(e,t);if(!s)return!0;if(t.text?.join(s.text),!s.children)return i.deleteBlock(s),!0;{let e=i.getParent(s);return!!e&&(i.moveBlocks(s.children,e,i.getParent(t),!1),i.deleteBlock(s),!0)}}}}(a,n)||function(e,t){let i=t.doc;if(!(0,iS.o)(t,["affine:paragraph"]))return!1;let s=i.getParent(t);if(!s)return!1;let o=i.getNext(t),r=t.firstChild();if((0,iS.o)(s,["affine:database"]))return!1;{let s=["affine:database","affine:image","affine:code","affine:attachment","affine:bookmark",...fA.zu];return!!(o&&(0,iS.o)(o,s))||function(t,i,s,o){let r=(0,sc.RL)(e,i);return!o&&!r||function(e,t,i){if(!i||!(0,iS.o)(i,["affine:paragraph","affine:list"]))return!1;let s=i.children;return t.text?.join(i.text),s&&e.moveBlocks(s,t),e.deleteBlock(i),!0}(t,i,o)||function(t,i,s){if(s&&(0,iS.o)(s,["affine:paragraph","affine:list"])){if(i.text?.join(s.text),!s.children)return t.deleteBlock(s),!0;{let e=t.getParent(s);return!!e&&(t.moveBlocks(s.children,e,i,!1),t.deleteBlock(s),!0)}}{let s=(0,sc.RL)(e,i);if(!s||!(0,iS.o)(s,["affine:paragraph","affine:list"]))return!1;if(i.text?.join(s.text),!s.children)return t.deleteBlock(s),!0;{let e=t.getParent(s);return!!e&&(t.moveBlocks(s.children,e,t.getParent(i),!1),t.deleteBlock(s),!0)}}}(t,i,s)}(i,t,o,r)||!!(r&&(0,iS.o)(r,["affine:image","affine:divider","affine:code"]))&&((0,li.q3)(e,r),!0)||function(t){if((0,iS.o)(t,["affine:divider"])){let i=(0,sc.DG)(e,t);return!!i&&(e.selection.setGroup("note",[e.selection.create("block",{blockId:i.blockId})]),!0)}return!!(t&&(0,iS.o)(t,["affine:image","affine:code"]))&&((0,li.q3)(e,t),!0)}(o)}}(a,n))&&function(e){let t=e.doc;(0,iS.a)(t,e,"affine:database")}(n),si.rM):si.gT)||d(t),!0}}e.bindHotKey({ArrowUp:()=>{if(!e.selected?.is("text"))return!1;let t=l();if(!t)return;let i=t.getInlineRange();return!t.isFirstLine(i)},ArrowDown:()=>{if(!e.selected?.is("text"))return!1;let t=l();if(!t)return;let i=t.getInlineRange();return!t.isLastLine(i)},Escape:()=>{if(e.selected?.is("text"))return a()},Enter:t=>{if(d(t),e.selected?.is("block"))return n(!1);let r=t.get("defaultState").event.target;if(!e.host.contains(r)||!e.selected?.is("text"))return;let a=l();if(!a)return;let h=a.getInlineRange();return h?(0,iS.o)(e.model,["affine:list"])?(o.command.exec("splitList",{blockId:e.blockId,inlineIndex:h.index}),!0):(e.doc.captureSync(),!yZ(e,a,c(a),h)||(yW(s,i,h,a,t.get("keyboardState").raw),!0)):void 0},"Mod-Enter":t=>{if(!e.selected?.is("text"))return;let r=t.get("keyboardState"),a=l();if(!a)return;let n=a.getInlineRange();if(n)return(d(t),(0,iS.o)(e.model,["affine:list"]))?o.command.exec("splitList",{blockId:e.blockId,inlineIndex:n.index}):yW(s,i,n,a,r.raw,!0),!0},Space:e=>u(e),"Shift-Space":e=>u(e),"Mod-a":t=>{if(d(t),!e.selected?.is("text"))return;let i=e.selected,s=e.querySelector(`[${si.jN}]`);return 0===i.from.index&&i.from.length===s?.inlineEditor.yText.length?a():h()},Tab:t=>{if(!(e.selected?.is("block")||e.selected?.is("text")))return;d(t);{let{selectedModels:t}=o.command.exec("getSelectedModels",{types:["text"]});if(t&&1===t.length){let t=l();if(!t)return;let s=t.getInlineRange();return s?((0,iS.o)(i,["affine:list"])?o.command.exec("indentList",{blockId:i.id,inlineIndex:s.index}):yR(e.host,i,s.index),!0):void 0}}let[s,r]=o.command.chain().getSelectedModels({types:["text","block"]}).run(),a=r.selectedModels;if(a)return function(e,t){if(!t.length)return;let i=t[0].doc,s=-1,o=null;for(let e=0;e<t.length;e++)if((o=i.getPrev(t[e]))&&yj(o)){s=e;break}if(-1===s)return;i.captureSync();let r=t.slice(s);r.forEach(t=>{let s=i.getParent(t);s&&!r.includes(s)&&yR(e,t)})}(e.host,a),!0},"Mod-Backspace":t=>{if(!(e.selected?.is("block")||e.selected?.is("text"))||!e.closest("affine-page-root,affine-edgeless-root"))return;{let[s,r]=o.command.chain().getSelectedModels({types:["text"]}).run(),a=r.selectedModels;if(a&&1===a.length){let s=l();if(!s)return;let o=s.getInlineRange();if(!o)return;return 0===o.index&&(yF(e.host,i,o.index),d(t)),!0}}let[s,r]=o.command.chain().getSelectedModels({types:["text","block"]}).run(),a=r.selectedModels;if(a)return function(e,t){if(!t.length)return;let i=t[0].doc;for(let s=t.length-1;s>=0;s--){let o=t[s],r=i.getParent(o);r&&!(0,iS.o)(r,["affine:note"])&&yF(e,o)}}(e.host,a),!0},"Shift-Tab":t=>{if(!(e.selected?.is("block")||e.selected?.is("text"))||!e.closest("affine-page-root,affine-edgeless-root"))return;d(t);{let{selectedModels:t}=o.command.exec("getSelectedModels",{types:["text"]});if(t&&1===t.length){let t=l();if(!t)return;let s=t.getInlineRange();return s?((0,iS.o)(i,["affine:list"])?o.command.exec("unindentList",{blockId:i.id,inlineIndex:s.index}):yz(e.host,i,s.index),!0):void 0}}let[s,r]=o.command.chain().getSelectedModels({types:["text","block"]}).run(),a=r.selectedModels;if(a)return function(e,t){let i;if(!t.length)return;let s=t[0].doc,o=-1;for(let e=0;e<t.length;e++)if((i=s.getParent(t[e]))&&!(0,iS.o)(i,["affine:note"])){o=e;break}let r=t.slice(o);for(let t=r.length-1;t>=0;t--){let i=r[t],o=s.getParent(i);o&&!r.includes(o)&&yz(e,i)}}(e.host,a),!0},Backspace:t=>{if(!e.selected?.is("text"))return;let o=t.get("keyboardState"),a=l();if(a){if(!function(e,t,i,s){return!function(e){let t=e.getInlineRange();return t?.index===0&&t?.length===0}(s)?(i.stopPropagation(),si.gT):"affine:code"===t.flavour?si.gT:(i.stopPropagation(),yN(e,t),si.rM)}(s,i,o.raw,a)&&d(t),(0,iS.o)(e.model,["affine:code"])){let e=a.getInlineRange();if(!e)return;let i=a.yText.toString()[e.index-1],s=a.yText.toString()[e.index];if(yq[r.indexOf(i)]?.right===s){let i=e.index-1;a.deleteText({index:i,length:2}),a.setInlineRange({index:i,length:0}),d(t)}}return!0}},Delete:e=>p(e),"Control-d":e=>{sn.vL&&p(e)}}),yA.forEach(t=>{t.hotkey&&e.bindHotKey({[t.hotkey]:i=>{if(!e.doc.readonly&&e.selection.find("text"))return d(i),t.action(s),!0}})}),yq.forEach(t=>{e.bindHotKey({[t.left]:s=>{if(e.doc.readonly)return;let o=e.selection.find("text");if(!o||o.isCollapsed()&&!(0,iS.o)(e.model,["affine:code"])||!o.isInSameBlock())return;d(s);let r=l();if(!r)return;let a=r.getInlineRange();if(!a)return;let n=r.yText.toString().slice(a.index,a.index+a.length);return!!("square bracket"===t.name&&function(){let t=i.doc.root;if(!t||!e.host.view.viewFromPath("block",(0,sc.UL)(i.doc.root))||!e.host.view.getWidget("affine-linked-doc-widget",t.id))return!1;let s=l();if(!s)return;let o=s.getInlineRange();if(!o)return!1;let r=s.yText.toString(),a=r[o.index-1],n=r[o.index+o.length];if(!("["===a&&"]"===n))return!1;let c=r.slice(o.index,o.index+o.length);return s.deleteText({index:o.index-1,length:o.length+2}),s.setInlineRange({index:o.index-1,length:0}),yB({inlineEditor:s,docId:(0,yf.U)(e.doc.collection,{title:c}).id}),!0}())||(r.insertText(a,t.left+n+t.right),r.setInlineRange({index:a.index+1,length:a.length}),!0)}})}),yq.forEach(t=>{e.bindHotKey({[t.right]:i=>{if(!(0,iS.o)(e.model,["affine:code"]))return;let s=l();if(!s)return;let o=s.getInlineRange();if(!o)return;let r=s.yText.toString()[o.index-1],a=s.yText.toString()[o.index];t.left===r&&t.right===a&&(s.setInlineRange({index:o.index+1,length:0}),d(i))}})}),e.bindHotKey({"`":t=>{if(e.doc.readonly)return;let i=e.selection.find("text");if(!i||i.isCollapsed()||!i.isInSameBlock())return;d(t);let s=l();if(!s)return;let o=s.getInlineRange();if(o)return s.formatText(o,{code:!0}),s.setInlineRange({index:o.index,length:o.length}),!0}})},yK=(0,H.AH)`
  .affine-bookmark-card {
    margin: 0 auto;
    box-sizing: border-box;
    display: flex;
    width: 100%;
    height: ${fA.Hn.horizontal}px;

    border-radius: 8px;
    border: 1px solid var(--affine-background-tertiary-color);

    opacity: var(--add, 1);
    background: var(--affine-background-primary-color);
    user-select: none;
  }

  .affine-bookmark-content {
    width: calc(100% - 204px);
    height: 100%;
    display: flex;
    flex-direction: column;
    align-self: stretch;
    gap: 4px;
    padding: 12px;
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
  }

  .affine-bookmark-content-title {
    display: flex;
    flex-direction: row;
    gap: 8px;
    align-items: center;

    align-self: stretch;
    padding: var(--1, 0px);
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
  }

  .affine-bookmark-content-title-icon {
    display: flex;
    width: 16px;
    height: 16px;
    justify-content: center;
    align-items: center;
  }

  .affine-bookmark-content-title-icon img,
  .affine-bookmark-content-title-icon object,
  .affine-bookmark-content-title-icon svg {
    width: 16px;
    height: 16px;
    fill: var(--affine-background-primary-color);
  }

  .affine-bookmark-content-title-text {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;

    word-break: break-word;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-primary-color);

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-sm);
    font-style: normal;
    font-weight: 600;
    line-height: 22px;
  }

  .affine-bookmark-content-description {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;

    flex-grow: 1;

    white-space: normal;
    word-break: break-word;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-primary-color);

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }

  .affine-bookmark-content-url {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 4px;
    width: max-content;
    max-width: 100%;
    cursor: pointer;
  }

  .affine-bookmark-content-url > span {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;

    word-break: break-all;
    white-space: normal;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-secondary-color);

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }
  .affine-bookmark-content-url:hover > span {
    color: var(--affine-link-color);
  }
  .affine-bookmark-content-url:hover .open-icon {
    fill: var(--affine-link-color);
  }

  .affine-bookmark-content-url-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 12px;
    height: 20px;
  }
  .affine-bookmark-content-url-icon .open-icon {
    height: 12px;
    width: 12px;
    fill: var(--affine-text-secondary-color);
  }

  .affine-bookmark-banner {
    margin: 12px 12px 0px 0px;
    width: 204px;
    max-width: 100%;
    height: 102px;
    opacity: var(--add, 1);
  }

  .affine-bookmark-banner img,
  .affine-bookmark-banner object,
  .affine-bookmark-banner svg {
    width: 204px;
    max-width: 100%;
    height: 102px;
    object-fit: cover;
    border-radius: 4px 4px var(--1, 0px) var(--1, 0px);
  }

  .affine-bookmark-card.loading {
    .affine-bookmark-content-title-text {
      color: var(--affine-placeholder-color);
    }
  }

  .affine-bookmark-card.error {
    .affine-bookmark-content-description {
      color: var(--affine-placeholder-color);
    }
  }

  .affine-bookmark-card.selected {
    .affine-bookmark-content-url > span {
      color: var(--affine-link-color);
    }
    .affine-bookmark-content-url .open-icon {
      fill: var(--affine-link-color);
    }
  }

  .affine-bookmark-card.list {
    height: ${fA.Hn.list}px;

    .affine-bookmark-content {
      width: 100%;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
    }

    .affine-bookmark-content-title {
      width: calc(100% - 204px);
    }

    .affine-bookmark-content-url {
      width: 204px;
      justify-content: flex-end;
    }

    .affine-bookmark-content-description {
      display: none;
    }

    .affine-bookmark-banner {
      display: none;
    }
  }

  .affine-bookmark-card.vertical {
    width: ${fA.Cd.vertical}px;
    height: ${fA.Hn.vertical}px;
    flex-direction: column-reverse;

    .affine-bookmark-content {
      width: 100%;
    }

    .affine-bookmark-content-description {
      -webkit-line-clamp: 6;
      max-height: 120px;
    }

    .affine-bookmark-content-url {
      flex-grow: 1;
      align-items: flex-end;
    }

    .affine-bookmark-banner {
      width: 340px;
      height: 170px;
      margin-left: 12px;
    }

    .affine-bookmark-banner img,
    .affine-bookmark-banner object,
    .affine-bookmark-banner svg {
      width: 340px;
      height: 170px;
    }
  }

  .affine-bookmark-card.cube {
    width: ${fA.Cd.cube}px;
    height: ${fA.Hn.cube}px;

    .affine-bookmark-content {
      width: 100%;
      flex-direction: column;
      align-items: flex-start;
      justify-content: space-between;
    }

    .affine-bookmark-content-title {
      flex-direction: column;
      gap: 4px;
      align-items: flex-start;
    }

    .affine-bookmark-content-title-text {
      -webkit-line-clamp: 2;
    }

    .affine-bookmark-content-description {
      display: none;
    }

    .affine-bookmark-banner {
      display: none;
    }
  }
`;var yX=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},yQ=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("bookmark-card")],n=[],l=(0,P.Tm)(P.ao),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],yX(this,null,i,{kind:"accessor",name:"_isSelected",static:!1,private:!1,access:{has:e=>"_isSelected"in e,get:e=>e._isSelected,set:(e,t)=>{e._isSelected=t}},metadata:v},c,d),yX(this,null,s,{kind:"accessor",name:"bookmark",static:!1,private:!1,access:{has:e=>"bookmark"in e,get:e=>e.bookmark,set:(e,t)=>{e.bookmark=t}},metadata:v},h,u),yX(this,null,o,{kind:"accessor",name:"error",static:!1,private:!1,access:{has:e=>"error"in e,get:e=>e.error,set:(e,t)=>{e.error=t}},metadata:v},p,f),yX(this,null,r,{kind:"accessor",name:"loading",static:!1,private:!1,access:{has:e=>"loading"in e,get:e=>e.loading,set:(e,t)=>{e.loading=t}},metadata:v},g,m),yX(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=yK}_handleClick(e){e.stopPropagation(),this.bookmark.isInSurface||this._selectBlock()}_handleDoubleClick(e){e.stopPropagation(),this.bookmark.open()}_selectBlock(){let e=this.bookmark.host.selection,t=e.create("block",{blockId:this.bookmark.blockId});e.setGroup("note",[t])}connectedCallback(){super.connectedCallback(),this.disposables.add(this.bookmark.model.propsUpdated.on(()=>{this.requestUpdate()})),this.disposables.add(im.Q.subscribe(()=>this.requestUpdate())),this.disposables.add(this.bookmark.selection.slots.changed.on(()=>{this._isSelected=!!this.bookmark.selected?.is("block")||!!this.bookmark.selected?.is("surface")}))}render(){let{icon:e,title:t,url:i,description:s,image:o,style:r}=this.bookmark.model,a=(0,oJ.H)({loading:this.loading,error:this.error,[r]:!0,selected:this._isSelected}),n=i.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:/\n]+)/im)?.[1],l=this.loading?"Loading...":t||(this.error?n??"Link card":""),{LoadingIcon:c,EmbedCardBannerIcon:d}=nF(),h=e?.split(".").pop()&&e?.split(".").pop()!=="svg"?e?.split(".").pop():"svg+xml",u=this.loading?c:e?(0,H.qy)`<object
            type="image/${h}"
            data=${e}
            draggable="false"
          >
            ${aW}
          </object>`:aW,p=this.loading?"":s?s??"":this.error?"Failed to retrieve link information.":i,f=!this.loading&&o?(0,H.qy)`<object type="image/webp" data=${o} draggable="false">
            ${d}
          </object>`:d;return(0,H.qy)`
      <div
        class="affine-bookmark-card ${a}"
        @click=${this._handleClick}
        @dblclick=${this._handleDoubleClick}
      >
        <div class="affine-bookmark-content">
          <div class="affine-bookmark-content-title">
            <div class="affine-bookmark-content-title-icon">${u}</div>
            <div class="affine-bookmark-content-title-text">${l}</div>
          </div>
          <div class="affine-bookmark-content-description">
            ${p}
          </div>
          <div class="affine-bookmark-content-url" @click=${this.bookmark.open}>
            <span>${nN(i)}</span>
            <div class="affine-bookmark-content-url-icon">
              ${(0,ed.PHA)({width:"12",height:"12"})}
            </div>
          </div>
        </div>
        <div class="affine-bookmark-banner">${f}</div>
      </div>
    `}#so=yQ(this,c,!1);get _isSelected(){return this.#so}set _isSelected(e){this.#so=e}#sr=(yQ(this,d),yQ(this,h,void 0));get bookmark(){return this.#sr}set bookmark(e){this.#sr=e}#sa=(yQ(this,u),yQ(this,p,void 0));get error(){return this.#sa}set error(e){this.#sa=e}#sn=(yQ(this,f),yQ(this,g,void 0));get loading(){return this.#sn}set loading(e){this.#sn=e}constructor(){super(...arguments),yQ(this,m)}static{yQ(t,n)}})})();var yJ=i(18132);async function y1(e,t){let i=null,s=null,o=null,r=null;try{e.loading=!0;let a=e.service?.queryUrlData;(0,V.Z1)(a);let n=await a(e.model.url,t);if(i=n.title??null,s=n.description??null,o=n.icon??null,r=n.image??null,i||s||o||r||(e.error=!0),t?.aborted)return;e.doc.updateBlock(e.model,{title:i,description:s,icon:o,image:r})}catch(e){if(t?.aborted||(0,yJ.z)(e))return;throw e}finally{e.loading=!1}}var y0=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},y2=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let y5=(()=>{let e,t,i,s,o,r=[(0,L.EM)("affine-bookmark")],a=[],n=lc,l=[],c=[],d=[],h=[],u=[],p=[];return class extends n{static{t=this}constructor(){super(...arguments),this._isInSurface=!1,this.open=()=>{let e=this.model.url;e.match(/^[a-zA-Z]+:\/\//)||(e="https://"+e),window.open(e,"_blank")},this.refreshData=()=>{y1(this,this._fetchAbortController?.signal).catch(console.error)},this.#sl=y2(this,l,void 0),this.#sa=(y2(this,c),y2(this,d,!1)),this.#sn=(y2(this,h),y2(this,u,!1)),this.#eZ=(y2(this,p),!0)}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.P)("bookmark-card")],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],y0(this,null,i,{kind:"accessor",name:"bookmarkCard",static:!1,private:!1,access:{has:e=>"bookmarkCard"in e,get:e=>e.bookmarkCard,set:(e,t)=>{e.bookmarkCard=t}},metadata:f},l,c),y0(this,null,s,{kind:"accessor",name:"error",static:!1,private:!1,access:{has:e=>"error"in e,get:e=>e.error,set:(e,t)=>{e.error=t}},metadata:f},d,h),y0(this,null,o,{kind:"accessor",name:"loading",static:!1,private:!1,access:{has:e=>"loading"in e,get:e=>e.loading,set:(e,t)=>{e.loading=t}},metadata:f},u,p),y0(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f}),y2(t,a)}connectedCallback(){super.connectedCallback(),yY(this),this._fetchAbortController=new AbortController,this.contentEditable="false";let e=this.host.doc.getParent(this.model);this._isInSurface=e?.flavour==="affine:surface",this.blockContainerStyles=this._isInSurface?void 0:{margin:"18px 0"},this.model.description||this.model.title||this.refreshData(),this.disposables.add(this.model.propsUpdated.on(({key:e})=>{"url"===e&&this.refreshData()})),this._isInSurface&&(this.style.position="absolute")}disconnectedCallback(){super.disconnectedCallback(),this._fetchAbortController?.abort()}renderBlock(){let{style:e}=this.model,t=(0,Z.W)({position:"relative",width:"100%",minWidth:"450px"});if(this.isInSurface){let i=fA.Cd[e],s=fA.Hn[e],o=m.z.deserialize((this.rootService?.getElementById(this.model.id)??this.model).xywh),r=o.w/i,a=o.h/s;t=(0,Z.W)({width:"100%",height:"100%",transform:`scale(${r}, ${a})`,transformOrigin:"0 0"}),this.style.left=`${o.x}px`,this.style.top=`${o.y}px`,this.style.width=`${i}px`,this.style.height=`${s}px`,this.style.zIndex=`${this.toZIndex()}`}return(0,H.qy)`
      <div class="affine-bookmark-container" style=${t}>
        <bookmark-card
          .bookmark=${this}
          .loading=${this.loading}
          .error=${this.error}
        ></bookmark-card>
      </div>
    `}toZIndex(){return this.rootService?.layer.getZIndex(this.model)??1}updateZIndex(){this.style.zIndex=`${this.toZIndex()}`}get isInSurface(){return this._isInSurface}get rootService(){let e=this.host.spec.getService("affine:page");return e.surface?e:null}#sl;get bookmarkCard(){return this.#sl}set bookmarkCard(e){this.#sl=e}#sa;get error(){return this.#sa}set error(e){this.#sa=e}#sn;get loading(){return this.#sn}set loading(e){this.#sn=e}#eZ;get useCaptionEditor(){return this.#eZ}set useCaptionEditor(e){this.#eZ=e}},t})(),y7=(0,H.AH)`
  .embed-block-container {
    border-radius: 8px;
  }
  .embed-block-container.selected.light {
    box-shadow: 0px 0px 0px 1px var(--affine-brand-color);
  }
  .embed-block-container.selected.dark {
    box-shadow: 0px 0px 0px 1px var(--affine-brand-color);
  }
`;var y3=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},y4=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let y6=(()=>{let e=lc,t=[],i=[];return class extends e{constructor(){super(...arguments),this._cardStyle="horizontal",this._dragHandleOption={flavour:/affine:embed-*/,edgeless:!0,onDragStart:({state:e,startDragging:t,anchorBlockPath:i,editorHost:s})=>{if(!i)return!1;let o=s.std.view.getBlock(i);if(!o||!(0,st.op)(o.model,[this.flavour]))return!1;let r=vI(e.raw.target),a=!!r?.closest(vN),n=o.contains(r),l=o.isInSurface;if(!l&&(a||n))return s.selection.setGroup("note",[s.selection.create("block",{blockId:o.blockId})]),t([o],e),!0;if(l&&a){let i=s.std.spec.getService("affine:page"),r=i?.viewport.zoom??1,a=document.createElement("div"),n=m.z.deserialize(o.model.xywh),l=new g.b(n.x*r,n.y*r);return(0,H.XX)(o.host.renderModel(o.model),a),t([o],e,a,l),!0}return!1},onDragEnd:e=>{let{state:t,draggingElements:i}=e;if(1!==i.length||!(0,st.op)(i[0].model,[this.flavour]))return!1;let s=i[0],o=s.isInSurface,r=vI(t.raw.target),a=r?.classList.contains("edgeless-container");if(o){let t=s._cardStyle;return vR({blockComponent:s,style:"vertical"===t||"cube"===t?"horizontal":t,...e})}if(a){let t=s._cardStyle;return vV({blockComponent:s,cssSelector:".embed-block-container",width:fA.Cd[t],height:fA.Hn[t],...e})}return!1}},this._fetchAbortController=new AbortController,this._height=fA.Hn.horizontal,this._isInSurface=!1,this._width=fA.Cd.horizontal,this.renderEmbed=e=>{let t=im.Q.mode,i=!!this.selected?.is("block");if(!this.isInSurface)return("horizontal"===this._cardStyle||"horizontalThin"===this._cardStyle||"list"===this._cardStyle)&&(this.style.display="block",this.style.minWidth="450px"),(0,H.qy)`
        <div
          class=${(0,oJ.H)({"embed-block-container":!0,[t]:!0,selected:i})}
          style=${(0,Z.W)({position:"relative",width:"100%"})}
        >
          ${e()}
        </div>
      `;let s=this._width,o=this._height,r=m.z.deserialize(this.model.xywh),a=r.w/s,n=r.h/o;return this.style.left=`${r.x}px`,this.style.top=`${r.y}px`,this.style.width=`${s}px`,this.style.height=`${o}px`,this.style.zIndex=`${this.toZIndex()}`,(0,H.qy)`
      <div
        class="embed-block-container"
        style=${(0,Z.W)({width:"100%",height:"100%",transform:`scale(${a}, ${n})`,transformOrigin:"0 0"})}
      >
        ${e()}
      </div>
    `},this.#sc=y4(this,t,void 0),this.#eD=(y4(this,i),!1),this.#eZ=!0}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(e[Symbol.metadata]??null):void 0;y3(this,null,[(0,L.P)(".embed-block-container")],{kind:"accessor",name:"embedBlock",static:!1,private:!1,access:{has:e=>"embedBlock"in e,get:e=>e.embedBlock,set:(e,t)=>{e.embedBlock=t}},metadata:s},t,i),s&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=y7}connectedCallback(){super.connectedCallback(),this._fetchAbortController.signal.aborted&&(this._fetchAbortController=new AbortController),this.contentEditable="false";let e=this.host.doc.getParent(this.model);this._isInSurface=e?.flavour==="affine:surface",this.blockContainerStyles=this.isInSurface?void 0:{margin:"18px 0"},this.disposables.add(vq.registerOption(this._dragHandleOption)),this.isInSurface&&(this.style.position="absolute")}disconnectedCallback(){super.disconnectedCallback(),this._fetchAbortController.abort()}toZIndex(){return this.rootService?.layer.getZIndex(this.model)??1}updateZIndex(){this.style.zIndex=`${this.toZIndex()}`}get bound(){return m.z.deserialize(this.model.xywh)}get fetchAbortController(){return this._fetchAbortController}get isInSurface(){return this._isInSurface}get rootService(){let e=this.host.spec.getService("affine:page");return e?.surface?e:null}#sc;get embedBlock(){return this.#sc}set embedBlock(e){this.#sc=e}#eD;get showBlockSelection(){return this.#eD}set showBlockSelection(e){this.#eD=e}#eZ;get useCaptionEditor(){return this.#eZ}set useCaptionEditor(e){this.#eZ=e}}})(),y8=(0,H.AH)`
  .affine-embed-figma-block {
    margin: 0 auto;
    box-sizing: border-box;
    width: 100%;
    height: ${fA.Hn.figma}px;
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 12px;

    border-radius: 8px;
    border: 1px solid var(--affine-background-tertiary-color);

    opacity: var(--add, 1);
    background: var(--affine-background-primary-color);
    user-select: none;
  }

  .affine-embed-figma {
    width: 100%;
    height: 100%;
    opacity: var(--add, 1);
  }

  .affine-embed-figma img,
  .affine-embed-figma object,
  .affine-embed-figma svg {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 4px 4px var(--1, 0px) var(--1, 0px);
  }

  .affine-embed-figma-iframe-container {
    position: relative;
  }

  .affine-embed-figma-iframe-container > iframe {
    width: 100%;
    height: 410px;
    border-radius: 4px 4px var(--1, 0px) var(--1, 0px);
    border: none;
  }

  .affine-embed-figma-iframe-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .affine-embed-figma-iframe-overlay.hide {
    display: none;
  }

  .affine-embed-figma-content {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100%;
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
  }

  .affine-embed-figma-content-header {
    display: flex;
    flex-direction: row;
    gap: 8px;
    align-items: center;

    align-self: stretch;
    padding: var(--1, 0px);
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
  }

  .affine-embed-figma-content-title-icon {
    display: flex;
    width: 20px;
    height: 20px;
    justify-content: center;
    align-items: center;
  }

  .affine-embed-figma-content-title-icon img,
  .affine-embed-figma-content-title-icon object,
  .affine-embed-figma-content-title-icon svg {
    width: 20px;
    height: 20px;
    fill: var(--affine-background-primary-color);
  }

  .affine-embed-figma-content-title-text {
    flex: 1 0 0;

    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;

    word-break: break-word;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-primary-color);

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-sm);
    font-style: normal;
    font-weight: 600;
    line-height: 22px;
  }

  .affine-embed-figma-content-description {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;

    flex: 1 0 0;
    align-self: stretch;

    word-break: break-word;
    white-space: normal;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-primary-color);

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }

  .affine-embed-figma-content-url {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 4px;
    width: max-content;
    max-width: 100%;
    cursor: pointer;
  }
  .affine-embed-figma-content-url > span {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;

    word-break: break-all;
    white-space: normal;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-secondary-color);

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }
  .affine-embed-figma-content-url:hover > span {
    color: var(--affine-link-color);
  }
  .affine-embed-figma-content-url:hover .open-icon {
    fill: var(--affine-link-color);
  }

  .affine-embed-figma-content-url-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 12px;
    height: 12px;
  }
  .affine-embed-figma-content-url-icon .open-icon {
    height: 12px;
    width: 12px;
    fill: var(--affine-text-secondary-color);
  }

  .affine-embed-figma-block.selected {
    .affine-embed-figma-content-url > span {
      color: var(--affine-link-color);
    }
    .affine-embed-figma-content-url .open-icon {
      fill: var(--affine-link-color);
    }
  }
`,y9=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M7.66898 17.9165C9.00426 17.9165 10.088 16.7342 10.088 15.2776V12.6387H7.66898C6.3337 12.6387 5.25 13.8209 5.25 15.2776C5.25 16.7342 6.3337 17.9165 7.66898 17.9165Z"
    fill="#0ACF83"
  />
  <path
    d="M5.25 10.0002C5.25 8.54355 6.3337 7.36133 7.66898 7.36133H10.088V12.6391H7.66898C6.3337 12.6391 5.25 11.4569 5.25 10.0002Z"
    fill="#A259FF"
  />
  <path
    d="M5.25 4.72238C5.25 3.26572 6.3337 2.0835 7.66898 2.0835H10.088V7.36127H7.66898C6.3337 7.36127 5.25 6.17905 5.25 4.72238Z"
    fill="#F24E1E"
  />
  <path
    d="M10.0879 2.0835H12.5069C13.8421 2.0835 14.9259 3.26572 14.9259 4.72238C14.9259 6.17905 13.8421 7.36127 12.5069 7.36127H10.0879V2.0835Z"
    fill="#FF7262"
  />
  <path
    d="M14.9259 10.0002C14.9259 11.4569 13.8421 12.6391 12.5069 12.6391C11.1716 12.6391 10.0879 11.4569 10.0879 10.0002C10.0879 8.54355 11.1716 7.36133 12.5069 7.36133C13.8421 7.36133 14.9259 8.54355 14.9259 10.0002Z"
    fill="#1ABCFE"
  />
</svg>`;var be=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},bt=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let bi=(()=>{let e,t,i,s,o=[(0,L.EM)("affine-embed-figma-block")],r=[],a=y6,n=[],l=[],c=[],d=[];return class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],be(this,null,i,{kind:"accessor",name:"_isSelected",static:!1,private:!1,access:{has:e=>"_isSelected"in e,get:e=>e._isSelected,set:(e,t)=>{e._isSelected=t}},metadata:h},n,l),be(this,null,s,{kind:"accessor",name:"_showOverlay",static:!1,private:!1,access:{has:e=>"_showOverlay"in e,get:e=>e._showOverlay,set:(e,t)=>{e._showOverlay=t}},metadata:h},c,d),be(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=y8}_handleClick(e){e.stopPropagation(),this.isInSurface||this._selectBlock()}_handleDoubleClick(e){e.stopPropagation(),this.open()}_selectBlock(){let e=this.host.selection,t=e.create("block",{blockId:this.blockId});e.setGroup("note",[t])}connectedCallback(){super.connectedCallback(),this.model.description||this.model.title||this.doc.withoutTransact(()=>{this.doc.updateBlock(this.model,{title:"Figma",description:this.model.url})}),this.disposables.add(this.model.propsUpdated.on(({key:e})=>{"url"===e&&this.refreshData()})),this.disposables.add(this.std.selection.slots.changed.on(()=>{this._isSelected=!!this.selected?.is("block")||!!this.selected?.is("surface"),this._showOverlay=this._isResizing||this._isDragging||!this._isSelected})),this.handleEvent("dragStart",()=>{this._isDragging=!0,this._showOverlay=this._isResizing||this._isDragging||!this._isSelected}),this.handleEvent("dragEnd",()=>{this._isDragging=!1,this._showOverlay=this._isResizing||this._isDragging||!this._isSelected}),this.isInSurface&&(this.disposables.add(this.model.propsUpdated.on(()=>{this.requestUpdate()})),this.rootService?.slots.elementResizeStart.on(()=>{this._isResizing=!0,this._showOverlay=!0}),this.rootService?.slots.elementResizeEnd.on(()=>{this._isResizing=!1,this._showOverlay=this._isResizing||this._isDragging||!this._isSelected}))}renderBlock(){let{title:e,description:t,style:i,url:s}=this.model;this._cardStyle=i,this._width=fA.Cd[this._cardStyle],this._height=fA.Hn[this._cardStyle];let o=e??"Figma",r=t??s;return this.renderEmbed(()=>(0,H.qy)`
        <div>
          <div
            class=${(0,oJ.H)({"affine-embed-figma-block":!0,selected:this._isSelected})}
            @click=${this._handleClick}
            @dblclick=${this._handleDoubleClick}
          >
            <div class="affine-embed-figma">
              <div class="affine-embed-figma-iframe-container">
                <iframe
                  src=${`https://www.figma.com/embed?embed_host=blocksuite&url=${s}`}
                  allowfullscreen
                ></iframe>

                <div
                  class=${(0,oJ.H)({"affine-embed-figma-iframe-overlay":!0,hide:!this._showOverlay})}
                ></div>
              </div>
            </div>
            <div class="affine-embed-figma-content">
              <div class="affine-embed-figma-content-header">
                <div class="affine-embed-figma-content-title-icon">
                  ${y9}
                </div>

                <div class="affine-embed-figma-content-title-text">
                  ${o}
                </div>
              </div>

              <div class="affine-embed-figma-content-description">
                ${r}
              </div>

              <div class="affine-embed-figma-content-url" @click=${this.open}>
                <span>www.figma.com</span>

                <div class="affine-embed-figma-content-url-icon">
                  ${aY}
                </div>
              </div>
            </div>
          </div>
        </div>
      `)}#so;get _isSelected(){return this.#so}set _isSelected(e){this.#so=e}#sd;get _showOverlay(){return this.#sd}set _showOverlay(e){this.#sd=e}constructor(){super(...arguments),this._cardStyle="figma",this._isDragging=!1,this._isResizing=!1,this.open=()=>{let e=this.model.url;e.match(/^[a-zA-Z]+:\/\//)||(e="https://"+e),window.open(e,"_blank")},this.refreshData=()=>{},this.#so=bt(this,n,!1),this.#sd=(bt(this,l),bt(this,c,!0)),bt(this,d)}static{bt(t,r)}},t})();var bs=i(9456);let bo=(0,H.AH)`
  .affine-embed-github-block {
    margin: 0 auto;
    box-sizing: border-box;
    display: flex;
    width: 100%;
    height: ${fA.Hn.horizontal}px;

    border-radius: 8px;
    border: 1px solid var(--affine-background-tertiary-color);

    opacity: var(--add, 1);
    background: var(--affine-background-primary-color);
    user-select: none;
  }

  .affine-embed-github-content {
    width: calc(100% - 204px);
    height: 100%;
    display: flex;
    flex-direction: column;
    align-self: stretch;
    gap: 4px;
    padding: 12px;
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
  }

  .affine-embed-github-content-title {
    display: flex;
    min-height: 22px;
    flex-direction: row;
    gap: 8px;
    align-items: center;

    align-self: stretch;
    padding: var(--1, 0px);
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
  }

  .affine-embed-github-content-title-icons {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
  }

  .affine-embed-github-content-title-icons img,
  .affine-embed-github-content-title-icons object,
  .affine-embed-github-content-title-icons svg {
    width: 16px;
    height: 16px;
    color: var(--affine-pure-white);
  }

  .affine-embed-github-content-title-site-icon {
    display: flex;
    width: 16px;
    height: 16px;
    justify-content: center;
    align-items: center;

    .github-icon {
      fill: var(--affine-black);
      color: var(--affine-black);
    }
  }

  .affine-embed-github-content-title-status-icon {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 3px 6px;
    border-radius: 20px;

    color: var(--affine-pure-white);
    leading-trim: both;

    text-edge: cap;
    font-feature-settings:
      'clig' off,
      'liga' off;
    text-transform: capitalize;
    font-family: var(--affine-font-family);
    font-size: 12px;
    font-style: normal;
    font-weight: 500;
    line-height: 16px;
  }
  .affine-embed-github-content-title-status-icon.issue.open {
    background: #238636;
  }
  .affine-embed-github-content-title-status-icon.issue.closed.success {
    background: #8957e5;
  }
  .affine-embed-github-content-title-status-icon.issue.closed.failure {
    background: #6e7681;
  }
  .affine-embed-github-content-title-status-icon.pr.open {
    background: #238636;
  }
  .affine-embed-github-content-title-status-icon.pr.draft {
    background: #6e7681;
  }
  .affine-embed-github-content-title-status-icon.pr.merged {
    background: #8957e5;
  }
  .affine-embed-github-content-title-status-icon.pr.closed {
    background: #c03737;
  }

  .affine-embed-github-content-title-status-icon > svg {
    height: 16px;
    width: 16px;
    padding: 2px;
  }

  .affine-embed-github-content-title-status-icon > span {
    padding: 0px 1.5px;
  }

  .affine-embed-github-content-title-text {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;

    word-break: break-word;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-primary-color);

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-sm);
    font-style: normal;
    font-weight: 600;
    line-height: 22px;
  }

  .affine-embed-github-content-description {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;

    flex-grow: 1;

    word-break: break-word;
    white-space: normal;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-primary-color);

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }

  .affine-embed-github-content-assignees {
    display: none;
  }

  .affine-embed-github-content-url {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 4px;
    width: max-content;
    max-width: 100%;
    cursor: pointer;
  }
  .affine-embed-github-content-url > span {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;

    word-break: break-all;
    white-space: normal;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-secondary-color);

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }
  .affine-embed-github-content-url:hover > span {
    color: var(--affine-link-color);
  }
  .affine-embed-github-content-url:hover .open-icon {
    fill: var(--affine-link-color);
  }

  .affine-embed-github-content-url-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 12px;
    height: 12px;
  }
  .affine-embed-github-content-url-icon .open-icon {
    height: 12px;
    width: 12px;
    fill: var(--affine-text-secondary-color);
  }

  .affine-embed-github-banner {
    margin: 12px 12px 0px 0px;
    width: 204px;
    height: 102px;
    max-width: 100%;
    opacity: var(--add, 1);
  }

  .affine-embed-github-banner img,
  .affine-embed-github-banner object,
  .affine-embed-github-banner svg {
    width: 204px;
    max-width: 100%;
    height: 102px;
    object-fit: cover;
    border-radius: 4px 4px var(--1, 0px) var(--1, 0px);
  }

  .affine-embed-github-block.loading {
    .affine-embed-github-content-title-text {
      color: var(--affine-placeholder-color);
    }
  }

  .affine-embed-github-block.selected {
    .affine-embed-github-content-url > span {
      color: var(--affine-link-color);
    }
    .affine-embed-github-content-url .open-icon {
      fill: var(--affine-link-color);
    }
  }

  .affine-embed-github-block.list {
    height: ${fA.Hn.list}px;

    .affine-embed-github-content {
      width: 100%;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
    }

    .affine-embed-github-content-title {
      width: 660px;
    }

    .affine-embed-github-content-repo {
      display: none;
    }

    .affine-embed-github-content-date {
      display: none;
    }

    .affine-embed-github-content-url {
      width: 90px;
      justify-content: flex-end;
    }

    .affine-embed-github-content-description {
      display: none;
    }

    .affine-embed-github-banner {
      display: none;
    }
  }

  .affine-embed-github-block.vertical {
    width: ${fA.Cd.vertical}px;
    height: ${fA.Hn.vertical}px;
    flex-direction: column-reverse;

    .affine-embed-github-content {
      width: 100%;
    }

    .affine-embed-github-content-description {
      -webkit-line-clamp: 6;
    }

    .affine-embed-github-content-assignees {
      display: flex;
      padding: var(--1, 0px);
      align-items: center;
      justify-content: flex-start;
      gap: 2px;
      align-self: stretch;
    }

    .affine-embed-github-content-assignees-text {
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical;

      font-family: var(--affine-font-family);
      font-size: var(--affine-font-xs);
      font-style: normal;
      font-weight: 600;
      line-height: 20px;
    }

    .affine-embed-github-content-assignees-text.label {
      width: 72px;
      color: var(--affine-text-primary-color);
      font-weight: 600;
    }

    .affine-embed-github-content-assignees-text.users {
      width: calc(100% - 72px);
      word-break: break-all;
      white-space: normal;
      overflow: hidden;
      text-overflow: ellipsis;
      font-weight: 400;
    }

    .affine-embed-github-content-assignees-text-users.user {
      color: var(--affine-link-color);
      cursor: pointer;
    }

    .affine-embed-github-content-assignees-text-users.placeholder {
      color: var(--affine-placeholder-color);
    }

    .affine-embed-github-banner {
      width: 340px;
      height: 170px;
      margin-left: 12px;
    }

    .affine-embed-github-banner img,
    .affine-embed-github-banner object,
    .affine-embed-github-banner svg {
      width: 340px;
      height: 170px;
    }
  }

  .affine-embed-github-block.cube {
    width: ${fA.Cd.cube}px;
    height: ${fA.Hn.cube}px;

    .affine-embed-github-content {
      width: 100%;
      flex-direction: column;
      align-items: flex-start;
      justify-content: space-between;
    }

    .affine-embed-github-content-title {
      flex-direction: column;
      gap: 4px;
      align-items: flex-start;
    }

    .affine-embed-github-content-title-text {
      -webkit-line-clamp: 2;
    }

    .affine-embed-github-content-description {
      display: none;
    }

    .affine-embed-github-banner {
      display: none;
    }

    .affine-embed-github-content-repo {
      display: none;
    }

    .affine-embed-github-content-date {
      display: none;
    }
  }
`,br=(0,H.qy)`<svg
  class="github-icon"
  width="20"
  height="20"
  viewBox="0 0 16 16"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M8.00016 1.33334C4.31683 1.33334 1.3335 4.39214 1.3335 8.16864C1.3335 11.1933 3.24183 13.7479 5.89183 14.6536C6.22516 14.7134 6.35016 14.5084 6.35016 14.3289C6.35016 14.1666 6.34183 13.6283 6.34183 13.0559C4.66683 13.372 4.2335 12.6372 4.10016 12.2527C4.02516 12.0562 3.70016 11.4496 3.41683 11.2872C3.1835 11.1591 2.85016 10.8429 3.4085 10.8344C3.9335 10.8259 4.3085 11.33 4.4335 11.535C5.0335 12.5689 5.99183 12.2784 6.37516 12.0989C6.4335 11.6546 6.6085 11.3556 6.80016 11.1847C5.31683 11.0138 3.76683 10.4243 3.76683 7.80978C3.76683 7.06644 4.02516 6.45127 4.45016 5.9728C4.3835 5.80192 4.15016 5.1013 4.51683 4.16145C4.51683 4.16145 5.07516 3.98202 6.35016 4.86206C6.8835 4.70827 7.45016 4.63137 8.01683 4.63137C8.5835 4.63137 9.15016 4.70827 9.6835 4.86206C10.9585 3.97348 11.5168 4.16145 11.5168 4.16145C11.8835 5.1013 11.6502 5.80192 11.5835 5.9728C12.0085 6.45127 12.2668 7.0579 12.2668 7.80978C12.2668 10.4328 10.7085 11.0138 9.22516 11.1847C9.46683 11.3983 9.67516 11.8084 9.67516 12.4492C9.67516 13.3635 9.66683 14.0983 9.66683 14.3289C9.66683 14.5084 9.79183 14.722 10.1252 14.6536C11.4486 14.1955 12.5986 13.3234 13.4133 12.1601C14.228 10.9968 14.6664 9.60079 14.6668 8.16864C14.6668 4.39214 11.6835 1.33334 8.00016 1.33334Z"
  />
</svg> `,ba=(0,H.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
  <path
    d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"
  ></path>
</svg>`,bn=(0,H.qy)`<svg
  aria-hidden="true"
  height="16"
  viewBox="0 0 16 16"
  version="1.1"
  width="16"
  data-view-component="true"
  class="octicon octicon-issue-closed flex-items-center mr-1"
  fill="currentColor"
>
  <path
    d="M11.28 6.78a.75.75 0 0 0-1.06-1.06L7.25 8.69 5.78 7.22a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.06 0l3.5-3.5Z"
  ></path>
  <path
    d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0Zm-1.5 0a6.5 6.5 0 1 0-13 0 6.5 6.5 0 0 0 13 0Z"
  ></path>
</svg>`,bl=(0,H.qy)`<svg
  aria-hidden="true"
  height="16"
  viewBox="0 0 16 16"
  version="1.1"
  width="16"
  data-view-component="true"
  class="octicon octicon-skip flex-items-center mr-1"
  fill="currentColor"
>
  <path
    d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm9.78-2.22-5.5 5.5a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l5.5-5.5a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"
  ></path>
</svg>`,bc=(0,H.qy)`<svg
  height="16"
  class="octicon octicon-git-pull-request"
  viewBox="0 0 16 16"
  version="1.1"
  width="16"
  aria-hidden="true"
  fill="currentColor"
>
  <path
    d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"
  ></path>
</svg>`,bd=(0,H.qy)`<svg
  height="16"
  class="octicon octicon-git-pull-request-draft"
  viewBox="0 0 16 16"
  version="1.1"
  width="16"
  aria-hidden="true"
  fill="currentColor"
>
  <path
    d="M3.25 1A2.25 2.25 0 0 1 4 5.372v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.251 2.251 0 0 1 3.25 1Zm9.5 14a2.25 2.25 0 1 1 0-4.5 2.25 2.25 0 0 1 0 4.5ZM2.5 3.25a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0ZM3.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm9.5 0a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM14 7.5a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Zm0-4.25a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Z"
  ></path>
</svg>`,bh=(0,H.qy)`<svg
  height="16"
  class="octicon octicon-git-merge"
  viewBox="0 0 16 16"
  version="1.1"
  width="16"
  aria-hidden="true"
  fill="currentColor"
>
  <path
    d="M5.45 5.154A4.25 4.25 0 0 0 9.25 7.5h1.378a2.251 2.251 0 1 1 0 1.5H9.25A5.734 5.734 0 0 1 5 7.123v3.505a2.25 2.25 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.95-.218ZM4.25 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm8.5-4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM5 3.25a.75.75 0 1 0 0 .005V3.25Z"
  ></path>
</svg>`,bu=(0,H.qy)`<svg
  height="16"
  class="octicon octicon-git-pull-request-closed"
  viewBox="0 0 16 16"
  version="1.1"
  width="16"
  aria-hidden="true"
  fill="currentColor"
>
  <path
    d="M3.25 1A2.25 2.25 0 0 1 4 5.372v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.251 2.251 0 0 1 3.25 1Zm9.5 5.5a.75.75 0 0 1 .75.75v3.378a2.251 2.251 0 1 1-1.5 0V7.25a.75.75 0 0 1 .75-.75Zm-2.03-5.273a.75.75 0 0 1 1.06 0l.97.97.97-.97a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.97.97.97.97a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-.97-.97-.97.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l.97-.97-.97-.97a.75.75 0 0 1 0-1.06ZM2.5 3.25a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0ZM3.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm9.5 0a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"
  ></path>
</svg>`;async function bp(e,t,i){let[s,o]=await Promise.all([bf(e,i),t.query(e.url,i)]);return{...s,...o}}async function bf(e,t){let{owner:i,repo:s,githubType:o,githubId:r}=e,a={},n=`https://api.github.com/repos/${i}/${s}/${"issue"===o?"issues":"pulls"}/${r}`,l=await fetch(n,{cache:"no-cache",signal:t}).catch(()=>null);if(l&&l.ok){let{state:e,state_reason:t,draft:i,merged:s,created_at:o,assignees:r}=await l.json(),n=r.map(e=>e.login),c=e;s?c="merged":"open"===e&&i&&(c="draft"),a={status:c,statusReason:t,createdAt:o,assignees:n}}return a}async function bg(e,t){let i=null,s=null,o=null,r=null,a=null,n=null,l=null;try{e.loading=!0;let c=e.service?.queryUrlData;(0,V.Z1)(c);let d=await c(e.model);if({image:i=null,status:s=null,statusReason:o=null,title:r=null,description:a=null,createdAt:n=null,assignees:l=null}=d,t?.aborted)return;e.doc.updateBlock(e.model,{image:i,status:s,statusReason:o,title:r,description:a,createdAt:n,assignees:l})}catch(e){if(t?.aborted||(0,yJ.z)(e))return;throw Error}finally{e.loading=!1}}async function bm(e,t){let i=e.service?.queryApiData;(0,V.Z1)(i);let s=await i(e.model,t);!s.status||t?.aborted||e.doc.updateBlock(e.model,{status:s.status,statusReason:s.statusReason,createdAt:s.createdAt,assignees:s.assignees})}var bv=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},by=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let bb=(()=>{let e,t,i,s,o=[(0,L.EM)("affine-embed-github-block")],r=[],a=y6,n=[],l=[],c=[],d=[];return class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.MZ)({attribute:!1})],bv(this,null,i,{kind:"accessor",name:"_isSelected",static:!1,private:!1,access:{has:e=>"_isSelected"in e,get:e=>e._isSelected,set:(e,t)=>{e._isSelected=t}},metadata:h},n,l),bv(this,null,s,{kind:"accessor",name:"loading",static:!1,private:!1,access:{has:e=>"loading"in e,get:e=>e.loading,set:(e,t)=>{e.loading=t}},metadata:h},c,d),bv(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=bo}_handleAssigneeClick(e){let t=`https://www.github.com/${e}`;window.open(t,"_blank")}_handleClick(e){e.stopPropagation(),this.isInSurface||this._selectBlock()}_handleDoubleClick(e){e.stopPropagation(),this.open()}_selectBlock(){let e=this.host.selection,t=e.create("block",{blockId:this.blockId});e.setGroup("note",[t])}connectedCallback(){super.connectedCallback(),this.model.owner&&this.model.repo&&this.model.githubId||this.doc.withoutTransact(()=>{let e=this.model.url.match(bs.EO);if(e){let[,t,i,s,o]=e;this.doc.updateBlock(this.model,{owner:t,repo:i,githubType:"issue"===s?"issue":"pr",githubId:o})}}),this.doc.withoutTransact(()=>{this.model.description||this.model.title?this.refreshStatus():this.refreshData()}),this.disposables.add(this.model.propsUpdated.on(({key:e})=>{"url"===e&&this.refreshData()})),this.disposables.add(this.selection.slots.changed.on(()=>{this._isSelected=!!this.selected?.is("block")||!!this.selected?.is("surface")})),this.isInSurface&&this.disposables.add(this.model.propsUpdated.on(()=>{this.requestUpdate()}))}renderBlock(){let{title:e="GitHub",githubType:t,status:i,statusReason:s,owner:o,repo:r,createdAt:a,assignees:n,description:l,image:c,style:d}=this.model;this._cardStyle=d,this._width=fA.Cd[this._cardStyle],this._height=fA.Hn[this._cardStyle];let h=this.loading,{LoadingIcon:u,EmbedCardBannerIcon:p}=nF(),f=h?u:br,g=i?function(e,t,i){if("issue"===e){if("open"===t)return ba;if("closed"===t&&"completed"===i)return bn;if("closed"===t&&"not_planned"===i)return bl}else if("pr"===e){if("open"===t)return bc;if("draft"===t)return bd;if("merged"===t)return bh;if("closed"===t)return bu}return H.s6}(t,i,s):H.s6,m=h?"":i,v=h?"Loading...":e,y=h?"":l,b=!h&&c?(0,H.qy)`<object type="image/webp" data=${c} draggable="false">
            ${p}
          </object>`:p,w="";if(a){let e=new Date(a);w=e.toLocaleDateString("en-US",{month:"short",day:"numeric"});let t=e.getDate(),i=["th","st","nd","rd"][(t/10|0)!=1?t%10:4]||"th";w=w.replace(/\d+/,`${t}${i}`)}return this.renderEmbed(()=>(0,H.qy)`
        <div
          style=${(0,Z.W)({position:"relative"})}
        >
          <div
            class=${(0,oJ.H)({"affine-embed-github-block":!0,loading:h,[d]:!0,selected:this._isSelected})}
            @click=${this._handleClick}
            @dblclick=${this._handleDoubleClick}
          >
            <div class="affine-embed-github-content">
              <div class="affine-embed-github-content-title">
                <div class="affine-embed-github-content-title-icons">
                  <div class="affine-embed-github-content-title-site-icon">
                    ${f}
                  </div>

                  ${i&&m?(0,H.qy)`<div
                        class=${(0,oJ.H)({"affine-embed-github-content-title-status-icon":!0,[t]:!0,[i]:!0,success:"completed"===s,failure:"not_planned"===s})}
                      >
                        ${g}

                        <span>${m}</span>
                      </div>`:H.s6}
                </div>

                <div class="affine-embed-github-content-title-text">
                  ${v}
                </div>
              </div>

              <div class="affine-embed-github-content-description">
                ${y}
              </div>

              ${"issue"===t&&n?(0,H.qy)`
                    <div class="affine-embed-github-content-assignees">
                      <div
                        class="affine-embed-github-content-assignees-text label"
                      >
                        Assignees
                      </div>

                      <div
                        class="affine-embed-github-content-assignees-text users"
                      >
                        ${0===n.length?(0,H.qy)`<span
                              class="affine-embed-github-content-assignees-text-users placeholder"
                              >No one</span
                            >`:(0,D.u)(n,e=>e,(e,t)=>(0,H.qy)`<span
                                    class="affine-embed-github-content-assignees-text-users user"
                                    @click=${()=>this._handleAssigneeClick(e)}
                                    >${`@${e}`}</span
                                  >
                                  ${t===n.length-1?"":", "}`)}
                      </div>
                    </div>
                  `:H.s6}

              <div class="affine-embed-github-content-url" @click=${this.open}>
                <span class="affine-embed-github-content-repo"
                  >${`${o}/${r} |`}</span
                >

                ${a?(0,H.qy)`<span class="affine-embed-github-content-date"
                      >${w} |</span
                    >`:H.s6}
                <span>github.com</span>

                <div class="affine-embed-github-content-url-icon">
                  ${aY}
                </div>
              </div>
            </div>

            <div class="affine-embed-github-banner">${b}</div>
          </div>
        </div>
      `)}#so;get _isSelected(){return this.#so}set _isSelected(e){this.#so=e}#sn;get loading(){return this.#sn}set loading(e){this.#sn=e}constructor(){super(...arguments),this._cardStyle="horizontal",this.open=()=>{let e=this.model.url;e.match(/^[a-zA-Z]+:\/\//)||(e="https://"+e),window.open(e,"_blank")},this.refreshData=()=>{bg(this,this.fetchAbortController.signal).catch(console.error)},this.refreshStatus=()=>{bm(this,this.fetchAbortController.signal).catch(console.error)},this.#so=by(this,n,!1),this.#sn=(by(this,l),by(this,c,!1)),by(this,d)}static{by(t,r)}},t})();i(76020);var bw=i(91721);let bx=(0,H.AH)`
  .edgeless-block-portal-embed
    > affine-embed-synced-doc-block[data-nested-editor] {
    position: relative;
    display: block;
    left: 0px;
    top: 0px;
    width: 100%;
    height: 100%;
  }

  .edgeless-block-portal-embed
    .affine-embed-synced-doc-editor
    .affine-page-root-block-container {
    width: 100%;
  }

  .edgeless-block-portal-embed .affine-embed-synced-doc-container.edgeless {
    display: block;
    padding: 0;
    width: 100%;
    height: calc(${fA.Hn.syncedDoc}px + 36px);
  }
  .edgeless-block-portal-embed .affine-embed-synced-doc-container.surface {
    border: 1px solid var(--affine-border-color);
  }

  affine-embed-synced-doc-block[data-nested-editor]
    .affine-embed-synced-doc-container.page {
    padding: 0 24px;
  }

  .affine-embed-synced-doc-editor {
    pointer-events: none;
  }

  .affine-embed-synced-doc-container {
    border-radius: 8px;
    overflow: hidden;
  }
  .affine-embed-synced-doc-container.page {
    display: block;
    width: 100%;
  }
  .affine-embed-synced-doc-container.edgeless {
    display: block;
    width: 100%;
    height: calc(${fA.Hn.syncedDoc}px + 36px);
  }
  .affine-embed-synced-doc-container:hover.light {
    box-shadow: 0px 0px 0px 2px rgba(0, 0, 0, 0.08);
  }
  .affine-embed-synced-doc-container:hover.dark {
    box-shadow: 0px 0px 0px 2px rgba(255, 255, 255, 0.14);
  }
  .affine-embed-synced-doc-header-wrapper {
    position: absolute;
    top: 0;
    left: 0;
    height: 34px;
    width: 100%;
    background-color: var(--affine-white);
    opacity: 0;
  }
  .affine-embed-synced-doc-header-wrapper.selected {
    opacity: 1;
    transition: all 0.23s ease;
  }
  .affine-embed-synced-doc-header {
    display: flex;
    align-items: center;
    width: 100%;
    height: 100%;
    padding: 0 24px;
    background-color: var(--affine-hover-color);
  }
  .affine-embed-synced-doc-header svg {
    flex-shrink: 0;
  }
  .affine-embed-synced-doc-title {
    font-size: 14px;
    font-weight: 600;
    line-height: 22px;
    margin-left: 8px;
    min-width: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .affine-embed-synced-doc-editor-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    cursor: pointer;
  }
  .affine-embed-synced-doc-editor-overlay:hover {
    background: var(--affine-hover-color);
  }

  .affine-embed-synced-doc-editor-empty {
    display: flex;
    align-items: center;
    width: 100%;
    height: 100%;
    min-height: 44px;
  }

  .affine-embed-synced-doc-container.surface
    > .affine-embed-synced-doc-editor
    > .affine-embed-synced-doc-editor-empty {
    left: 0;
    justify-content: center;
  }

  .affine-embed-synced-doc-editor-empty > span {
    color: var(--affine-placeholder-color);
    font-feature-settings:
      'clig' off,
      'liga' off;
    font-family: var(--affine-font-family);
    font-size: 15px;
    font-style: normal;
    font-weight: 400;
    line-height: 24px;
  }

  .affine-embed-synced-doc-container.surface {
    background: var(--affine-background-primary-color);
  }

  .affine-embed-synced-doc-container
    > .affine-embed-synced-doc-editor.affine-page-viewport {
    background: transparent;
  }

  .affine-embed-synced-doc-container > .affine-embed-synced-doc-editor {
    width: 100%;
    height: 100%;
  }

  .affine-embed-synced-doc-editor .affine-page-root-block-container {
    width: 100%;
    max-width: 100%;
  }
`,b_=(0,H.AH)`
  .affine-embed-synced-doc-card {
    margin: 0 auto;
    box-sizing: border-box;
    display: flex;
    width: 100%;
    height: ${fA.Hn.horizontal}px;
    border-radius: 8px;
    border: 1px solid var(--affine-background-tertiary-color);
    opacity: var(--add, 1);
    background: var(--affine-background-primary-color);
    user-select: none;
  }

  .affine-embed-synced-doc-card-content {
    width: calc(100% - 204px);
    height: 100%;
    display: flex;
    flex-direction: column;
    align-self: stretch;
    gap: 4px;
    padding: 12px;
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
  }

  .affine-embed-synced-doc-card-content-title {
    display: flex;
    flex-direction: row;
    gap: 8px;
    align-items: center;
    align-self: stretch;
    padding: var(--1, 0px);
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
  }

  .affine-embed-synced-doc-card-content-title-icon {
    display: flex;
    width: 16px;
    height: 16px;
    justify-content: center;
    align-items: center;
  }
  .affine-embed-synced-doc-card-content-title-icon svg {
    width: 16px;
    height: 16px;
    fill: var(--affine-background-primary-color);
  }

  .affine-embed-synced-doc-card-content-title-text {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    word-break: break-word;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-primary-color);
    font-family: var(--affine-font-family);
    font-size: var(--affine-font-sm);
    font-style: normal;
    font-weight: 600;
    line-height: 22px;
  }

  .affine-embed-synced-doc-content-note.render {
    display: none;
    overflow: hidden;
    pointer-events: none;
  }

  ${m3}

  .affine-embed-synced-doc-content-note.default {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    white-space: normal;
    word-break: break-word;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-placeholder-color);
    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }

  .affine-embed-synced-doc-card-content-date,
  .affine-embed-synced-doc-card-content-reload {
    display: flex;
    flex-grow: 1;
    align-items: flex-end;
    justify-content: flex-start;
    gap: 8px;
    width: max-content;
    max-width: 100%;
    line-height: 20px;
  }

  .affine-embed-synced-doc-card-content-date > span {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    word-break: break-all;
    white-space: normal;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-secondary-color);
    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }

  .affine-embed-synced-doc-card-content-reload-button {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 4px;
    cursor: pointer;
  }
  .affine-embed-synced-doc-card-content-reload-button svg {
    width: 12px;
    height: 12px;
    fill: var(--affine-background-primary-color);
  }
  .affine-embed-synced-doc-card-content-reload-button > span {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    word-break: break-all;
    white-space: normal;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-brand-color);
    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 500;
    line-height: 20px;
  }

  .affine-embed-synced-doc-card-banner {
    margin: 12px 12px 0px 0px;
    width: 204px;
    max-width: 100%;
    height: 102px;
    opacity: var(--add, 1);
    pointer-events: none;
  }
  .affine-embed-synced-doc-card-banner.render {
    display: none;
  }
  .affine-embed-synced-doc-card-banner img,
  .affine-embed-synced-doc-card-banner object,
  .affine-embed-synced-doc-card-banner svg {
    width: 204px;
    max-width: 100%;
    height: 102px;
    object-fit: cover;
    border-radius: 4px 4px var(--1, 0px) var(--1, 0px);
  }

  .affine-embed-synced-doc-card.loading,
  .affine-embed-synced-doc-card.deleted,
  .affine-embed-synced-doc-card.error {
    .affine-embed-linked-doc-content-note.render {
      display: none;
    }
    .affine-embed-linked-doc-content-note.default {
      display: block;
    }
    .affine-embed-synced-doc-card-banner.render {
      display: none;
    }
    .affine-embed-synced-doc-card-banner.default {
      display: block;
    }
    .affine-embed-synced-doc-card-content-date {
      display: none;
    }
  }

  .affine-embed-synced-doc-card:not(.loading).deleted,
  .affine-embed-synced-doc-card:not(.loading).error {
    background: var(--affine-background-secondary-color);
  }
  .affine-embed-synced-doc-card:not(.loading):not(.error):not(
      .surface
    ).deleted {
    height: ${fA.Hn.horizontalThin}px;
    .affine-embed-synced-doc-card-banner {
      height: 66px;
    }
    .affine-embed-synced-doc-card-banner img,
    .affine-embed-synced-doc-card-banner object,
    .affine-embed-synced-doc-card-banner svg {
      height: 66px;
    }
    .affine-embed-synced-doc-card-content {
      gap: 12px;
    }
  }

  .affine-embed-synced-doc-card:not(.loading):not(.error):not(.deleted):not(
      .note-empty
    ).cycle {
    .affine-embed-synced-doc-content-note.render {
      display: block;
    }
    .affine-embed-synced-doc-content-note.default {
      display: none;
    }
  }

  .affine-embed-synced-doc-card:not(.loading):not(.error):not(.deleted):not(
      .banner-empty
    ).cycle {
    .affine-embed-synced-doc-card-banner.render {
      display: block;
    }
    .affine-embed-synced-doc-card-banner.default {
      display: none;
    }
  }
  .affine-embed-synced-doc-card:not(.loading):not(.error):not(
      .deleted
    ).cycle.banner-empty {
    .affine-embed-synced-doc-card-content {
      width: 100%;
      height: 100%;
    }

    .affine-embed-synced-doc-card-banner.render {
      display: none;
    }

    .affine-embed-synced-doc-card-banner.default {
      display: none;
    }
  }

  .affine-embed-synced-doc-card.surface:not(.cycle) {
    width: ${fA.Cd.syncedDoc}px;
    height: ${fA.Hn.syncedDoc}px;
    flex-direction: column-reverse;

    .affine-embed-synced-doc-card-banner.default {
      display: flex;
      align-items: flex-end;
      justify-content: center;
      width: 100%;
      height: 267.5px;
      margin-left: 12px;
      flex-shrink: 0;
    }
    .affine-embed-synced-doc-card-banner img,
    .affine-embed-synced-doc-card-banner object,
    .affine-embed-synced-doc-card-banner svg {
      width: 340px;
      height: 170px;
    }

    .affine-embed-synced-doc-card-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      width: 100%;
      height: 100%;
    }

    .affine-embed-synced-doc-card-content-title {
      margin: 0 auto;
    }

    .affine-embed-synced-doc-card-content-note {
      margin: 0 auto;
      flex-grow: 0;
    }

    .affine-embed-synced-doc-card-content-reload {
      flex-grow: 0;
      margin: 0 auto;
    }
  }

  .affine-embed-synced-doc-card.surface:not(.loading):not(.error):not(
      .deleted
    ).cycle {
    width: ${fA.Cd.vertical}px;
    height: ${fA.Hn.vertical}px;
    flex-direction: column-reverse;
    margin-top: calc(
      (${fA.Hn.syncedDoc}px - ${fA.Hn.vertical}px) / 2
    );

    .affine-embed-synced-doc-card-content {
      width: 100%;
    }

    .affine-embed-synced-doc-card-content-note {
      -webkit-line-clamp: 6;
      max-height: 130px;
    }

    .affine-embed-synced-doc-card-content-date {
      flex-grow: 1;
      align-items: flex-end;
    }

    .affine-embed-synced-doc-card-banner {
      width: 340px;
      height: 170px;
      margin-left: 12px;
    }
    .affine-embed-synced-doc-card-banner img,
    .affine-embed-synced-doc-card-banner object,
    .affine-embed-synced-doc-card-banner svg {
      width: 340px;
      height: 170px;
    }
  }

  .affine-embed-synced-doc-card.surface:not(.loading):not(.error):not(
      .deleted
    ).cycle:not(.empty).banner-empty {
    .affine-embed-synced-doc-card-content {
      width: 100%;
      height: 100%;
    }

    .affine-embed-synced-doc-card-banner.render {
      display: none;
    }

    .affine-embed-synced-doc-card-banner.default {
      display: none;
    }

    .affine-embed-synced-doc-card-content-note {
      -webkit-line-clamp: 16;
      max-height: 320px;
    }

    .affine-embed-synced-doc-card-content-date {
      flex-grow: unset;
      align-items: center;
    }
  }
`,bC=(0,H.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_6122_32842)">
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M2.5 8C2.5 4.96243 4.96243 2.5 8 2.5C11.0376 2.5 13.5 4.96243 13.5 8C13.5 11.0376 11.0376 13.5 8 13.5C4.96243 13.5 2.5 11.0376 2.5 8ZM8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5ZM8.66667 5.33333C8.66667 5.70152 8.36819 6 8 6C7.63181 6 7.33333 5.70152 7.33333 5.33333C7.33333 4.96514 7.63181 4.66667 8 4.66667C8.36819 4.66667 8.66667 4.96514 8.66667 5.33333ZM8 7.16667C8.27614 7.16667 8.5 7.39052 8.5 7.66667V11C8.5 11.2761 8.27614 11.5 8 11.5C7.72386 11.5 7.5 11.2761 7.5 11V7.66667C7.5 7.39052 7.72386 7.16667 8 7.16667Z"
      fill="#EB4335"
    />
  </g>
  <defs>
    <clipPath id="clip0_6122_32842">
      <rect width="16" height="16" fill="white" />
    </clipPath>
  </defs>
</svg>`,bk=(0,H.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_6122_32858)">
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M7.33343 1.5C6.32091 1.5 5.5001 2.32081 5.5001 3.33333V4.09994H2.66676C2.3538 4.09994 2.1001 4.35364 2.1001 4.6666C2.1001 4.97956 2.3538 5.23327 2.66676 5.23327H2.87263L3.41292 12.7973C3.48144 13.7567 4.27975 14.5 5.24159 14.5H10.7586C11.7204 14.5 12.5188 13.7567 12.5873 12.7973L13.1276 5.23327H13.3334C13.6464 5.23327 13.9001 4.97956 13.9001 4.6666C13.9001 4.35364 13.6464 4.09994 13.3334 4.09994H10.5001V3.33333C10.5001 2.32081 9.67929 1.5 8.66676 1.5H7.33343ZM9.5001 4.09994V3.33333C9.5001 2.8731 9.127 2.5 8.66676 2.5H7.33343C6.87319 2.5 6.5001 2.8731 6.5001 3.33333V4.09994H9.5001ZM12.125 5.23327H3.87518L4.41037 12.726C4.44152 13.1621 4.80439 13.5 5.24159 13.5H10.7586C11.1958 13.5 11.5587 13.1621 11.5898 12.726L12.125 5.23327ZM7.16676 7.33333C7.16676 7.05719 6.94291 6.83333 6.66676 6.83333C6.39062 6.83333 6.16676 7.05719 6.16676 7.33333V11.3333C6.16676 11.6095 6.39062 11.8333 6.66676 11.8333C6.94291 11.8333 7.16676 11.6095 7.16676 11.3333V7.33333ZM9.33343 6.83333C9.60957 6.83333 9.83343 7.05719 9.83343 7.33333V11.3333C9.83343 11.6095 9.60957 11.8333 9.33343 11.8333C9.05729 11.8333 8.83343 11.6095 8.83343 11.3333V7.33333C8.83343 7.05719 9.05729 6.83333 9.33343 6.83333Z"
      fill="#77757D"
    />
  </g>
  <defs>
    <clipPath id="clip0_6122_32858">
      <rect width="16" height="16" fill="white" />
    </clipPath>
  </defs>
</svg>`,bS=(0,H.qy)`<svg
  width="340"
  height="171"
  viewBox="0 0 340 171"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_6122_32989)">
    <g filter="url(#filter0_d_6122_32989)">
      <rect
        x="96.667"
        y="5.5"
        width="176.297"
        height="200"
        rx="6.66667"
        transform="rotate(8 96.667 5.5)"
        fill="white"
        shape-rendering="crispEdges"
      />
      <rect
        x="119.363"
        y="35.6191"
        width="86.6667"
        height="11.6667"
        rx="5"
        transform="rotate(8 119.363 35.6191)"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="116.348"
        y="57.0742"
        width="122.964"
        height="6.66667"
        rx="3.33333"
        transform="rotate(8 116.348 57.0742)"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="114.028"
        y="73.5781"
        width="65"
        height="6.66667"
        rx="3.33333"
        transform="rotate(8 114.028 73.5781)"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="111.708"
        y="90.083"
        width="122.964"
        height="6.66667"
        rx="3.33333"
        transform="rotate(8 111.708 90.083)"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="109.389"
        y="106.588"
        width="65"
        height="6.66667"
        rx="3.33333"
        transform="rotate(8 109.389 106.588)"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="107.069"
        y="123.092"
        width="65"
        height="6.66667"
        rx="3.33333"
        transform="rotate(8 107.069 123.092)"
        fill="black"
        fill-opacity="0.1"
      />
    </g>
  </g>
  <defs>
    <filter
      id="filter0_d_6122_32989"
      x="60.4992"
      y="-2.83333"
      width="219.082"
      height="239.257"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset />
      <feGaussianBlur stdDeviation="4.16667" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.17 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_6122_32989"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_6122_32989"
        result="shape"
      />
    </filter>
    <clipPath id="clip0_6122_32989">
      <rect
        width="340"
        height="170"
        fill="white"
        transform="translate(0 0.5)"
      />
    </clipPath>
  </defs>
</svg>`,bM=(0,H.qy)`<svg
  width="340"
  height="171"
  viewBox="0 0 340 171"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_6122_33004)">
    <g filter="url(#filter0_d_6122_33004)">
      <rect
        x="96.6667"
        y="5.5"
        width="176.297"
        height="200"
        rx="6.66667"
        transform="rotate(8 96.6667 5.5)"
        fill="#232323"
        shape-rendering="crispEdges"
      />
      <rect
        x="119.363"
        y="35.6191"
        width="86.6667"
        height="11.6667"
        rx="5"
        transform="rotate(8 119.363 35.6191)"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="116.347"
        y="57.0742"
        width="122.964"
        height="6.66667"
        rx="3.33333"
        transform="rotate(8 116.347 57.0742)"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="114.028"
        y="73.5781"
        width="65"
        height="6.66667"
        rx="3.33333"
        transform="rotate(8 114.028 73.5781)"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="111.708"
        y="90.083"
        width="122.964"
        height="6.66667"
        rx="3.33333"
        transform="rotate(8 111.708 90.083)"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="109.389"
        y="106.588"
        width="65"
        height="6.66667"
        rx="3.33333"
        transform="rotate(8 109.389 106.588)"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="107.069"
        y="123.092"
        width="65"
        height="6.66667"
        rx="3.33333"
        transform="rotate(8 107.069 123.092)"
        fill="white"
        fill-opacity="0.1"
      />
    </g>
  </g>
  <defs>
    <filter
      id="filter0_d_6122_33004"
      x="60.4987"
      y="-2.83333"
      width="219.082"
      height="239.257"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset />
      <feGaussianBlur stdDeviation="4.16667" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.17 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_6122_33004"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_6122_33004"
        result="shape"
      />
    </filter>
    <clipPath id="clip0_6122_33004">
      <rect
        width="340"
        height="170"
        fill="white"
        transform="translate(0 0.5)"
      />
    </clipPath>
  </defs>
</svg>`,bE=(0,H.qy)`<svg
  width="340"
  height="171"
  viewBox="0 0 340 171"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_6122_32955)">
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M159.19 14.3317L178.489 53.8348L142.603 95.6828L150.082 105.622L128.309 102.546C125.587 102.162 123.07 104.067 122.687 106.802C122.304 109.537 124.201 112.065 126.923 112.45L158.585 116.922L167.84 129.222L164.27 136.241L124.382 130.606C121.66 130.222 119.143 132.127 118.76 134.862C118.377 137.597 120.274 140.125 122.996 140.51L159.476 145.663L146.19 171.778L155.104 215.74L78.791 204.961C73.3466 204.192 69.5537 199.134 70.3192 193.665L95.2679 15.4017C96.0334 9.93217 101.067 6.12164 106.512 6.89067L159.19 14.3317ZM191.977 66.6249L160.492 98.2097L165.699 107.828L210.458 114.15C213.18 114.535 215.076 117.063 214.694 119.798C214.311 122.533 211.794 124.438 209.072 124.054L171.619 118.763L178.062 130.666L174.281 137.655L206.531 142.21C209.253 142.595 211.149 145.123 210.767 147.858C210.384 150.593 207.867 152.498 205.145 152.114L169.205 147.037L155.135 173.041L157.943 216.141L233.231 226.776C238.675 227.545 243.709 223.734 244.475 218.265L259.721 109.326C260.231 105.68 257.703 102.308 254.073 101.796L208.07 95.2975C197.181 93.7594 189.595 83.6447 191.126 72.7056L191.977 66.6249ZM206.99 31.1828C207.502 27.5282 212.156 26.3192 214.367 29.2668L256.041 84.8329C258.251 87.7805 255.811 91.9418 252.173 91.4279L209.456 85.394C204.012 84.6249 200.219 79.5676 200.984 74.098L206.99 31.1828Z"
      fill="#E6E6E6"
    />
  </g>
  <defs>
    <clipPath id="clip0_6122_32955">
      <rect
        width="340"
        height="170"
        fill="white"
        transform="translate(0 0.5)"
      />
    </clipPath>
  </defs>
</svg>`,bI=(0,H.qy)`<svg
  width="340"
  height="171"
  viewBox="0 0 340 171"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_6122_32972)">
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M159.191 14.3317L178.489 53.8348L142.603 95.6828L150.082 105.622L128.309 102.546C125.587 102.162 123.07 104.067 122.687 106.802C122.304 109.537 124.201 112.065 126.923 112.45L158.585 116.922L167.841 129.222L164.27 136.241L124.382 130.606C121.66 130.222 119.143 132.127 118.76 134.862C118.377 137.597 120.274 140.125 122.996 140.51L159.477 145.663L146.19 171.778L155.105 215.74L78.7912 204.961C73.3469 204.192 69.5539 199.134 70.3194 193.665L95.2681 15.4017C96.0336 9.93217 101.068 6.12164 106.512 6.89067L159.191 14.3317ZM191.978 66.6249L160.492 98.2097L165.699 107.828L210.458 114.15C213.18 114.535 215.077 117.063 214.694 119.798C214.311 122.533 211.794 124.438 209.072 124.054L171.619 118.763L178.063 130.666L174.281 137.655L206.531 142.21C209.253 142.595 211.15 145.123 210.767 147.858C210.384 150.593 207.867 152.498 205.145 152.114L169.205 147.037L155.135 173.041L157.943 216.141L233.231 226.776C238.675 227.545 243.709 223.734 244.475 218.265L259.721 109.326C260.232 105.68 257.703 102.308 254.074 101.796L208.07 95.2975C197.181 93.7594 189.596 83.6447 191.127 72.7056L191.978 66.6249ZM206.991 31.1828C207.502 27.5282 212.156 26.3192 214.367 29.2668L256.041 84.8329C258.252 87.7805 255.811 91.9418 252.174 91.4279L209.456 85.394C204.012 84.6249 200.219 79.5676 200.984 74.098L206.991 31.1828Z"
      fill="#313131"
    />
  </g>
  <defs>
    <clipPath id="clip0_6122_32972">
      <rect
        width="340"
        height="170"
        fill="white"
        transform="translate(0 0.5)"
      />
    </clipPath>
  </defs>
</svg>`,bB=(0,H.qy)`<svg
  width="340"
  height="171"
  viewBox="0 0 340 171"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_6122_32919)">
    <g filter="url(#filter0_d_6122_32919)">
      <rect
        width="124"
        height="154"
        transform="translate(41 61.5)"
        fill="white"
      />
      <rect
        x="59.7563"
        y="82.0332"
        width="60.9578"
        height="8.98333"
        rx="4.49167"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="59.7563"
        y="100"
        width="86.4875"
        height="5.13333"
        rx="2.56667"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="59.7563"
        y="112.833"
        width="45.7183"
        height="5.13333"
        rx="2.56667"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="59.7563"
        y="125.667"
        width="86.4875"
        height="5.13333"
        rx="2.56667"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="59.7563"
        y="138.5"
        width="45.7183"
        height="5.13333"
        rx="2.56667"
        fill="black"
        fill-opacity="0.1"
      />
    </g>
    <path
      d="M296.961 48.4114L266.018 40.6164L267.32 35.715C269.478 27.5941 263.671 19.1074 254.349 16.7592L231.845 11.0901C222.524 8.7418 213.218 13.4213 211.06 21.5422L209.758 26.4436L178.815 18.6486C171.047 16.6917 163.292 20.5915 161.494 27.3587L158.889 37.1614C158.17 39.8685 160.105 42.6973 163.213 43.48L298.237 77.4947C301.344 78.2775 304.446 76.7177 305.166 74.0106L307.77 64.2079C309.568 57.4407 304.729 50.3682 296.961 48.4114ZM222.312 24.3768C223.03 21.6749 226.139 20.1115 229.241 20.8927L251.745 26.5619C254.846 27.3431 256.786 30.1786 256.068 32.8805L254.766 37.7818L221.01 29.2781L222.312 24.3768Z"
      fill="#E6E6E6"
    />
    <path
      d="M159.323 87.3263C158.256 87.3246 157.405 88.1403 157.454 89.1171L162.221 184.002C162.662 192.784 170.517 199.674 180.103 199.689L270.871 199.838C280.457 199.853 288.336 192.989 288.807 184.209L293.902 89.3401C293.955 88.3635 293.106 87.545 292.04 87.5432L159.323 87.3263ZM249.566 101.172C249.571 98.1451 252.25 95.6974 255.552 95.7028C258.854 95.7082 261.525 98.1646 261.52 101.192L261.397 172.425C261.391 175.452 258.712 177.9 255.41 177.895C252.108 177.889 249.437 175.433 249.443 172.405L249.566 101.172ZM219.68 101.124C219.686 98.0962 222.365 95.6485 225.667 95.6539C228.969 95.6593 231.64 98.1158 231.635 101.143L231.512 172.376C231.506 175.403 228.827 177.851 225.525 177.846C222.223 177.84 219.552 175.384 219.557 172.356L219.68 101.124ZM189.795 101.075C189.801 98.0474 192.48 95.5997 195.782 95.6051C199.084 95.6105 201.755 98.0669 201.749 101.094L201.626 172.327C201.621 175.355 198.942 177.802 195.64 177.797C192.338 177.791 189.667 175.335 189.672 172.308L189.795 101.075Z"
      fill="#E6E6E6"
    />
  </g>
  <defs>
    <filter
      id="filter0_d_6122_32919"
      x="27"
      y="51.5"
      width="152"
      height="182"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset dy="4" />
      <feGaussianBlur stdDeviation="7" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.14 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_6122_32919"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_6122_32919"
        result="shape"
      />
    </filter>
    <clipPath id="clip0_6122_32919">
      <path
        d="M0 4.5C0 2.29086 1.79086 0.5 4 0.5H336C338.209 0.5 340 2.29086 340 4.5V170.5H0V4.5Z"
        fill="white"
      />
    </clipPath>
  </defs>
</svg>`,b$=(0,H.qy)`<svg
  width="340"
  height="171"
  viewBox="0 0 340 171"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_6122_32937)">
    <g filter="url(#filter0_d_6122_32937)">
      <path
        d="M41 65.5C41 63.2909 42.7909 61.5 45 61.5H161C163.209 61.5 165 63.2909 165 65.5V215.5H41V65.5Z"
        fill="#363636"
        shape-rendering="crispEdges"
      />
      <rect
        x="59.7563"
        y="82.0332"
        width="60.9578"
        height="8.98333"
        rx="4.49167"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="59.7563"
        y="100"
        width="86.4875"
        height="5.13333"
        rx="2.56667"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="59.7563"
        y="112.833"
        width="45.7183"
        height="5.13333"
        rx="2.56667"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="59.7563"
        y="125.667"
        width="86.4875"
        height="5.13333"
        rx="2.56667"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="59.7563"
        y="138.5"
        width="45.7183"
        height="5.13333"
        rx="2.56667"
        fill="white"
        fill-opacity="0.1"
      />
    </g>
    <path
      d="M296.961 48.4114L266.018 40.6164L267.32 35.715C269.478 27.5941 263.671 19.1074 254.349 16.7592L231.845 11.0901C222.524 8.7418 213.218 13.4213 211.06 21.5422L209.758 26.4436L178.815 18.6486C171.047 16.6917 163.292 20.5915 161.494 27.3587L158.889 37.1614C158.17 39.8685 160.105 42.6973 163.213 43.48L298.237 77.4947C301.344 78.2775 304.446 76.7177 305.166 74.0106L307.77 64.2079C309.568 57.4407 304.729 50.3682 296.961 48.4114ZM222.312 24.3768C223.03 21.6749 226.139 20.1115 229.241 20.8927L251.745 26.5619C254.846 27.3431 256.786 30.1786 256.068 32.8805L254.766 37.7818L221.01 29.2781L222.312 24.3768Z"
      fill="#646464"
    />
    <path
      d="M159.323 87.3263C158.256 87.3246 157.405 88.1403 157.454 89.1171L162.221 184.002C162.662 192.784 170.517 199.674 180.103 199.689L270.871 199.838C280.457 199.853 288.336 192.989 288.807 184.209L293.902 89.3401C293.955 88.3635 293.106 87.545 292.04 87.5432L159.323 87.3263ZM249.566 101.172C249.571 98.1451 252.25 95.6974 255.552 95.7028C258.854 95.7082 261.525 98.1646 261.52 101.192L261.397 172.425C261.391 175.452 258.712 177.9 255.41 177.895C252.108 177.889 249.437 175.433 249.443 172.405L249.566 101.172ZM219.68 101.124C219.686 98.0962 222.365 95.6485 225.667 95.6539C228.969 95.6593 231.64 98.1158 231.635 101.143L231.512 172.376C231.506 175.403 228.827 177.851 225.525 177.846C222.223 177.84 219.552 175.384 219.557 172.356L219.68 101.124ZM189.795 101.075C189.801 98.0474 192.48 95.5997 195.782 95.6051C199.084 95.6105 201.755 98.0669 201.749 101.094L201.626 172.327C201.621 175.355 198.942 177.802 195.64 177.797C192.338 177.791 189.667 175.335 189.672 172.308L189.795 101.075Z"
      fill="#646464"
    />
  </g>
  <defs>
    <filter
      id="filter0_d_6122_32937"
      x="27"
      y="51.5"
      width="152"
      height="182"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset dy="4" />
      <feGaussianBlur stdDeviation="7" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.14 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_6122_32937"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_6122_32937"
        result="shape"
      />
    </filter>
    <clipPath id="clip0_6122_32937">
      <path
        d="M0 4.5C0 2.29086 1.79086 0.5 4 0.5H336C338.209 0.5 340 2.29086 340 4.5V170.5H0V4.5Z"
        fill="white"
      />
    </clipPath>
  </defs>
</svg>`,bT=(0,H.AH)`
  .affine-embed-linked-doc-block {
    margin: 0 auto;
    box-sizing: border-box;
    display: flex;
    width: 100%;
    height: ${fA.Hn.horizontal}px;
    border-radius: 8px;
    border: 1px solid var(--affine-background-tertiary-color);
    opacity: var(--add, 1);
    background: var(--affine-background-primary-color);
    user-select: none;
    position: relative;
  }

  .affine-embed-linked-doc-block-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    border-radius: 8px;
  }

  .affine-embed-linked-doc-content {
    width: calc(100% - 204px);
    height: 100%;
    display: flex;
    flex-direction: column;
    align-self: stretch;
    gap: 4px;
    padding: 12px;
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
  }

  .affine-embed-linked-doc-content-title {
    display: flex;
    flex-direction: row;
    gap: 8px;
    align-items: center;
    align-self: stretch;
    padding: var(--1, 0px);
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
  }

  .affine-embed-linked-doc-content-title-icon {
    display: flex;
    width: 16px;
    height: 16px;
    justify-content: center;
    align-items: center;
  }
  .affine-embed-linked-doc-content-title-icon img,
  .affine-embed-linked-doc-content-title-icon object,
  .affine-embed-linked-doc-content-title-icon svg {
    width: 16px;
    height: 16px;
    fill: var(--affine-background-primary-color);
  }

  .affine-embed-linked-doc-content-title-text {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    word-break: break-word;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-primary-color);
    font-family: var(--affine-font-family);
    font-size: var(--affine-font-sm);
    font-style: normal;
    font-weight: 600;
    line-height: 22px;
  }

  .affine-embed-linked-doc-content-note.render {
    display: none;
    overflow: hidden;
    pointer-events: none;
    flex: 1;
  }

  ${m3}

  .affine-embed-linked-doc-content-note.default {
    flex: 1;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    white-space: normal;
    word-break: break-word;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-placeholder-color);
    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }

  .affine-embed-linked-doc-card-content-reload,
  .affine-embed-linked-doc-content-date {
    display: flex;
    height: 20px;
    align-items: flex-end;
    justify-content: flex-start;
    gap: 8px;
    width: max-content;
    max-width: 100%;
    line-height: 20px;
  }

  .affine-embed-linked-doc-card-content-reload-button {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 4px;
    cursor: pointer;
  }
  .affine-embed-linked-doc-card-content-reload-button svg {
    width: 12px;
    height: 12px;
    fill: var(--affine-background-primary-color);
  }
  .affine-embed-linked-doc-card-content-reload-button > span {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    word-break: break-all;
    white-space: normal;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-brand-color);
    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 500;
    line-height: 20px;
  }

  .affine-embed-linked-doc-content-date > span {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    word-break: break-all;
    white-space: normal;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-secondary-color);
    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }

  .affine-embed-linked-doc-banner {
    margin: 12px 12px 0px 0px;
    width: 204px;
    max-width: 100%;
    height: 102px;
    opacity: var(--add, 1);
    pointer-events: none;
  }
  .affine-embed-linked-doc-banner.render {
    display: none;
  }
  .affine-embed-linked-doc-banner img,
  .affine-embed-linked-doc-banner object,
  .affine-embed-linked-doc-banner svg {
    width: 204px;
    max-width: 100%;
    height: 102px;
    object-fit: cover;
    border-radius: 4px 4px var(--1, 0px) var(--1, 0px);
  }

  .affine-embed-linked-doc-block.loading {
    .affine-embed-linked-doc-content-date {
      display: none;
    }
  }
  .affine-embed-linked-doc-block:not(.loading):not(.note-empty) {
    .affine-embed-linked-doc-content-note.render {
      display: block;
    }

    .affine-embed-linked-doc-content-note.default {
      display: none;
    }
  }

  .affine-embed-linked-doc-block:not(.loading):not(.banner-empty) {
    .affine-embed-linked-doc-banner.render {
      display: block;
    }
    .affine-embed-linked-doc-banner.default {
      display: none;
    }
  }

  .affine-embed-linked-doc-block:not(.loading):not(.deleted):not(.error):not(
      .empty
    ).banner-empty {
    .affine-embed-linked-doc-content {
      width: 100%;
      height: 100%;
    }

    .affine-embed-linked-doc-banner.render {
      display: none;
    }

    .affine-embed-linked-doc-banner.default {
      display: none;
    }
  }
  .affine-embed-linked-doc-block:not(.loading).error,
  .affine-embed-linked-doc-block:not(.loading).deleted {
    background: var(--affine-background-secondary-color);

    .affine-embed-linked-doc-content-note.render {
      display: none;
    }
    .affine-embed-linked-doc-content-note.default {
      display: block;
    }

    .affine-embed-linked-doc-content-date {
      display: none;
    }

    .affine-embed-linked-doc-banner.render {
      display: none;
    }

    .affine-embed-linked-doc-banner.default {
      display: block;
    }
  }
  .affine-embed-linked-doc-block.horizontalThin {
    height: ${fA.Hn.horizontalThin}px;

    .affine-embed-linked-doc-banner {
      height: 66px;
    }

    .affine-embed-linked-doc-banner img,
    .affine-embed-linked-doc-banner object,
    .affine-embed-linked-doc-banner svg {
      height: 66px;
    }

    .affine-embed-linked-doc-content {
      gap: 12px;
    }
  }
  .affine-embed-linked-doc-block.list {
    height: ${fA.Hn.list}px;
    .affine-embed-linked-doc-content {
      width: 100%;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
    }

    .affine-embed-linked-doc-content-title {
      width: calc(100% - 204px);
    }

    .affine-embed-linked-doc-content-note {
      display: none !important;
    }

    .affine-embed-linked-doc-content-date {
      width: 204px;
      justify-content: flex-end;
    }

    .affine-embed-linked-doc-banner {
      display: none !important;
    }
  }
  .affine-embed-linked-doc-block.vertical {
    width: ${fA.Cd.vertical}px;
    height: ${fA.Hn.vertical}px;
    flex-direction: column-reverse;

    .affine-embed-linked-doc-content {
      width: 100%;
    }

    .affine-embed-linked-doc-content-note {
      -webkit-line-clamp: 6;
      max-height: 130px;
    }

    .affine-embed-linked-doc-banner {
      width: 340px;
      height: 170px;
      margin-left: 12px;
    }
    .affine-embed-linked-doc-banner img,
    .affine-embed-linked-doc-banner object,
    .affine-embed-linked-doc-banner svg {
      width: 340px;
      height: 170px;
    }
  }
  .affine-embed-linked-doc-block.vertical:not(.loading):not(.deleted):not(
      .error
    ):not(.empty).banner-empty {
    .affine-embed-linked-doc-content {
      width: 100%;
      height: 100%;
    }

    .affine-embed-linked-doc-banner.render {
      display: none;
    }

    .affine-embed-linked-doc-banner.default {
      display: none;
    }

    .affine-embed-linked-doc-content-note {
      -webkit-line-clamp: 16;
      max-height: 320px;
    }

    .affine-embed-linked-doc-content-date {
      flex-grow: unset;
      align-items: center;
    }
  }
  .affine-embed-linked-doc-block.cube {
    width: ${fA.Cd.cube}px;
    height: ${fA.Hn.cube}px;

    .affine-embed-linked-doc-content {
      width: 100%;
      flex-direction: column;
      align-items: flex-start;
      justify-content: space-between;
    }

    .affine-embed-linked-doc-content-title {
      flex-direction: column;
      gap: 4px;
      align-items: flex-start;
    }

    .affine-embed-linked-doc-content-title-text {
      -webkit-line-clamp: 2;
    }

    .affine-embed-linked-doc-content-note {
      display: none !important;
    }

    .affine-embed-linked-doc-banner {
      display: none !important;
    }
  }
`,bO=(0,H.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.33331 1.5C6.32079 1.5 5.49997 2.32081 5.49997 3.33333V4.09994H2.66664C2.35368 4.09994 2.09998 4.35364 2.09998 4.6666C2.09998 4.97956 2.35368 5.23327 2.66664 5.23327H2.87251L3.41279 12.7973C3.48132 13.7567 4.27963 14.5 5.24147 14.5H10.7585C11.7203 14.5 12.5186 13.7567 12.5872 12.7973L13.1274 5.23327H13.3333C13.6463 5.23327 13.9 4.97956 13.9 4.6666C13.9 4.35364 13.6463 4.09994 13.3333 4.09994H10.5V3.33333C10.5 2.32081 9.67916 1.5 8.66664 1.5H7.33331ZM9.49997 4.09994V3.33333C9.49997 2.8731 9.12688 2.5 8.66664 2.5H7.33331C6.87307 2.5 6.49997 2.8731 6.49997 3.33333V4.09994H9.49997ZM12.1249 5.23327H3.87505L4.41025 12.726C4.4414 13.1621 4.80427 13.5 5.24147 13.5H10.7585C11.1957 13.5 11.5585 13.1621 11.5897 12.726L12.1249 5.23327ZM7.16664 7.33333C7.16664 7.05719 6.94278 6.83333 6.66664 6.83333C6.3905 6.83333 6.16664 7.05719 6.16664 7.33333V11.3333C6.16664 11.6095 6.3905 11.8333 6.66664 11.8333C6.94278 11.8333 7.16664 11.6095 7.16664 11.3333V7.33333ZM9.33331 6.83333C9.60945 6.83333 9.83331 7.05719 9.83331 7.33333V11.3333C9.83331 11.6095 9.60945 11.8333 9.33331 11.8333C9.05716 11.8333 8.83331 11.6095 8.83331 11.3333V7.33333C8.83331 7.05719 9.05716 6.83333 9.33331 6.83333Z"
    fill="#A8A8A0"
  />
</svg> `,bP=(0,H.qy)`<svg
  width="204"
  height="102"
  viewBox="0 0 204 102"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_3075_9783)">
    <g filter="url(#filter0_d_3075_9783)">
      <rect
        x="58"
        y="3"
        width="105.778"
        height="120"
        rx="4"
        transform="rotate(8 58 3)"
        fill="white"
        fill-opacity="0.1"
        shape-rendering="crispEdges"
      />
      <rect
        x="71.6174"
        y="21.071"
        width="52"
        height="7"
        rx="3"
        transform="rotate(8 71.6174 21.071)"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="69.8083"
        y="33.9445"
        width="73.7781"
        height="4"
        rx="2"
        transform="rotate(8 69.8083 33.9445)"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="68.4165"
        y="43.8472"
        width="39"
        height="4"
        rx="2"
        transform="rotate(8 68.4165 43.8472)"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="67.0249"
        y="53.7499"
        width="73.7781"
        height="4"
        rx="2"
        transform="rotate(8 67.0249 53.7499)"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="65.6331"
        y="63.6526"
        width="39"
        height="4"
        rx="2"
        transform="rotate(8 65.6331 63.6526)"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="64.2415"
        y="73.5553"
        width="39"
        height="4"
        rx="2"
        transform="rotate(8 64.2415 73.5553)"
        fill="black"
        fill-opacity="0.1"
      />
    </g>
  </g>
  <defs>
    <filter
      id="filter0_d_3075_9783"
      x="36.2993"
      y="-2"
      width="131.449"
      height="143.554"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset />
      <feGaussianBlur stdDeviation="2.5" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.17 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_3075_9783"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_3075_9783"
        result="shape"
      />
    </filter>
    <clipPath id="clip0_3075_9783">
      <rect width="204" height="102" fill="white" />
    </clipPath>
  </defs>
</svg> `,bA=(0,H.qy)`<svg
  width="204"
  height="102"
  viewBox="0 0 204 102"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_3075_12065)">
    <g filter="url(#filter0_d_3075_12065)">
      <rect
        x="58"
        y="3"
        width="105.778"
        height="120"
        rx="4"
        transform="rotate(8 58 3)"
        fill="white"
        fill-opacity="0.1"
        shape-rendering="crispEdges"
      />
      <rect
        x="71.6175"
        y="21.071"
        width="52"
        height="7"
        rx="3"
        transform="rotate(8 71.6175 21.071)"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="69.8083"
        y="33.9445"
        width="73.7781"
        height="4"
        rx="2"
        transform="rotate(8 69.8083 33.9445)"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="68.4165"
        y="43.8472"
        width="39"
        height="4"
        rx="2"
        transform="rotate(8 68.4165 43.8472)"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="67.0248"
        y="53.7499"
        width="73.7781"
        height="4"
        rx="2"
        transform="rotate(8 67.0248 53.7499)"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="65.6331"
        y="63.6526"
        width="39"
        height="4"
        rx="2"
        transform="rotate(8 65.6331 63.6526)"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="64.2413"
        y="73.5553"
        width="39"
        height="4"
        rx="2"
        transform="rotate(8 64.2413 73.5553)"
        fill="white"
        fill-opacity="0.1"
      />
    </g>
  </g>
  <defs>
    <filter
      id="filter0_d_3075_12065"
      x="36.2992"
      y="-2"
      width="131.449"
      height="143.554"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset />
      <feGaussianBlur stdDeviation="2.5" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.17 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_3075_12065"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_3075_12065"
        result="shape"
      />
    </filter>
    <clipPath id="clip0_3075_12065">
      <rect width="204" height="102" fill="white" />
    </clipPath>
  </defs>
</svg> `,bH=(0,H.qy)`<svg
  width="340"
  height="170"
  viewBox="0 0 340 170"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_3075_10418)">
    <path
      d="M0 4C0 1.79086 1.79086 0 4 0H336C338.209 0 340 1.79086 340 4V170H0V4Z"
      fill="#F4F4F5"
    />
    <g filter="url(#filter0_d_3075_10418)">
      <rect
        width="268"
        height="300"
        transform="translate(36 26)"
        fill="white"
      />
      <rect
        x="77"
        y="56.3567"
        width="131.747"
        height="18"
        rx="9"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="77"
        y="88.3567"
        width="186.925"
        height="10"
        rx="5"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="77"
        y="112.357"
        width="98.8106"
        height="10"
        rx="5"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="77"
        y="136.357"
        width="186.925"
        height="10"
        rx="5"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="77"
        y="160.357"
        width="98.8106"
        height="10"
        rx="5"
        fill="black"
        fill-opacity="0.1"
      />
    </g>
  </g>
  <defs>
    <filter
      id="filter0_d_3075_10418"
      x="12"
      y="15"
      width="316"
      height="348"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset dy="13" />
      <feGaussianBlur stdDeviation="12" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.1 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_3075_10418"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_3075_10418"
        result="shape"
      />
    </filter>
    <clipPath id="clip0_3075_10418">
      <path
        d="M0 4C0 1.79086 1.79086 0 4 0H336C338.209 0 340 1.79086 340 4V170H0V4Z"
        fill="white"
      />
    </clipPath>
  </defs>
</svg>`,bL=(0,H.qy)`<svg
  width="340"
  height="170"
  viewBox="0 0 340 170"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_3075_13652)">
    <path
      d="M0 4C0 1.79086 1.79086 0 4 0H336C338.209 0 340 1.79086 340 4V170H0V4Z"
      fill="white"
      fill-opacity="0.1"
    />
    <g filter="url(#filter0_d_3075_13652)">
      <rect
        width="268"
        height="300"
        transform="translate(36 26)"
        fill="white"
        fill-opacity="0.06"
      />
      <rect
        x="77"
        y="56.3567"
        width="131.747"
        height="18"
        rx="9"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="77"
        y="88.3567"
        width="186.925"
        height="10"
        rx="5"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="77"
        y="112.357"
        width="98.8106"
        height="10"
        rx="5"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="77"
        y="136.357"
        width="186.925"
        height="10"
        rx="5"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="77"
        y="160.357"
        width="98.8106"
        height="10"
        rx="5"
        fill="white"
        fill-opacity="0.1"
      />
    </g>
  </g>
  <defs>
    <filter
      id="filter0_d_3075_13652"
      x="8"
      y="11"
      width="324"
      height="356"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset dy="13" />
      <feGaussianBlur stdDeviation="14" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.44 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_3075_13652"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_3075_13652"
        result="shape"
      />
    </filter>
    <clipPath id="clip0_3075_13652">
      <path
        d="M0 4C0 1.79086 1.79086 0 4 0H336C338.209 0 340 1.79086 340 4V170H0V4Z"
        fill="white"
      />
    </clipPath>
  </defs>
</svg> `,bD=(0,H.qy)`<svg
  width="204"
  height="66"
  viewBox="0 0 204 66"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g filter="url(#filter0_d_3075_418)">
    <rect width="53" height="66" transform="translate(49 22)" fill="white" />
    <rect
      x="57.0168"
      y="30.8"
      width="26.0545"
      height="3.85"
      rx="1.925"
      fill="black"
      fill-opacity="0.1"
    />
    <rect
      x="57.0168"
      y="38.5"
      width="36.9664"
      height="2.2"
      rx="1.1"
      fill="black"
      fill-opacity="0.1"
    />
    <rect
      x="57.0168"
      y="44"
      width="19.5409"
      height="2.2"
      rx="1.1"
      fill="black"
      fill-opacity="0.1"
    />
    <rect
      x="57.0168"
      y="49.5"
      width="36.9664"
      height="2.2"
      rx="1.1"
      fill="black"
      fill-opacity="0.1"
    />
    <rect
      x="57.0168"
      y="55"
      width="19.5409"
      height="2.2"
      rx="1.1"
      fill="black"
      fill-opacity="0.1"
    />
  </g>
  <path
    d="M157.341 17.6783L144.153 14.3561L144.708 12.2671C145.628 8.80601 143.153 5.189 139.18 4.18818L129.588 1.77201C125.616 0.771194 121.65 2.7656 120.73 6.22672L120.175 8.31566L106.987 4.99344C103.676 4.15945 100.371 5.82152 99.6047 8.70569L98.4946 12.8836C98.188 14.0373 99.013 15.2429 100.337 15.5766L157.885 30.0735C159.209 30.4072 160.531 29.7424 160.837 28.5886L161.948 24.4108C162.714 21.5266 160.651 18.5123 157.341 17.6783ZM125.525 7.4348C125.831 6.28327 127.157 5.61692 128.478 5.9499L138.07 8.36606C139.391 8.69904 140.218 9.90752 139.912 11.059L139.357 13.148L124.97 9.52375L125.525 7.4348Z"
    fill="#E6E6E6"
  />
  <path
    d="M98.6798 34.2639C98.2253 34.2631 97.8625 34.6108 97.8834 35.0271L99.9152 75.4671C100.103 79.2098 103.451 82.1461 107.536 82.1528L146.222 82.216C150.307 82.2227 153.665 79.2973 153.866 75.5553L156.037 35.1222C156.06 34.7059 155.698 34.3571 155.243 34.3563L98.6798 34.2639ZM137.141 40.1651C137.143 38.8748 138.285 37.8316 139.693 37.8339C141.1 37.8362 142.238 38.8831 142.236 40.1734L142.183 70.5327C142.181 71.823 141.039 72.8662 139.632 72.8639C138.225 72.8616 137.086 71.8147 137.089 70.5244L137.141 40.1651ZM124.404 40.1443C124.406 38.854 125.548 37.8108 126.956 37.8131C128.363 37.8154 129.501 38.8623 129.499 40.1526L129.447 70.5119C129.444 71.8022 128.303 72.8454 126.895 72.8431C125.488 72.8408 124.349 71.7938 124.352 70.5036L124.404 40.1443ZM111.667 40.1234C111.669 38.8332 112.811 37.79 114.219 37.7923C115.626 37.7946 116.764 38.8415 116.762 40.1318L116.71 70.4911C116.707 71.7813 115.566 72.8245 114.158 72.8222C112.751 72.8199 111.613 71.773 111.615 70.4827L111.667 40.1234Z"
    fill="#E6E6E6"
  />
  <defs>
    <filter
      id="filter0_d_3075_418"
      x="46"
      y="19"
      width="59"
      height="72"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset />
      <feGaussianBlur stdDeviation="1.5" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.1 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_3075_418"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_3075_418"
        result="shape"
      />
    </filter>
  </defs>
</svg> `,bZ=(0,H.qy)`<svg
  width="204"
  height="66"
  viewBox="0 0 204 66"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g filter="url(#filter0_d_3075_12843)">
    <rect
      width="53"
      height="66"
      transform="translate(49 22)"
      fill="white"
      fill-opacity="0.08"
    />
    <rect
      x="57.0168"
      y="30.8"
      width="26.0545"
      height="3.85"
      rx="1.925"
      fill="white"
      fill-opacity="0.1"
    />
    <rect
      x="57.0168"
      y="38.5"
      width="36.9664"
      height="2.2"
      rx="1.1"
      fill="white"
      fill-opacity="0.1"
    />
    <rect
      x="57.0168"
      y="44"
      width="19.5409"
      height="2.2"
      rx="1.1"
      fill="white"
      fill-opacity="0.1"
    />
    <rect
      x="57.0168"
      y="49.5"
      width="36.9664"
      height="2.2"
      rx="1.1"
      fill="white"
      fill-opacity="0.1"
    />
    <rect
      x="57.0168"
      y="55"
      width="19.5409"
      height="2.2"
      rx="1.1"
      fill="white"
      fill-opacity="0.1"
    />
  </g>
  <path
    d="M157.341 17.6783L144.153 14.3561L144.708 12.2671C145.628 8.80601 143.153 5.189 139.18 4.18818L129.588 1.77201C125.616 0.771194 121.65 2.7656 120.73 6.22672L120.175 8.31566L106.987 4.99344C103.676 4.15945 100.371 5.82152 99.6048 8.70569L98.4946 12.8836C98.1881 14.0373 99.013 15.2429 100.337 15.5766L157.885 30.0735C159.209 30.4072 160.531 29.7424 160.837 28.5886L161.948 24.4108C162.714 21.5266 160.651 18.5123 157.341 17.6783ZM125.525 7.4348C125.831 6.28327 127.157 5.61692 128.478 5.9499L138.07 8.36606C139.391 8.69904 140.218 9.90752 139.912 11.059L139.357 13.148L124.97 9.52375L125.525 7.4348Z"
    fill="#646464"
  />
  <path
    d="M98.6798 34.2639C98.2253 34.2631 97.8625 34.6108 97.8834 35.0271L99.9152 75.4671C100.103 79.2098 103.451 82.1461 107.536 82.1528L146.222 82.216C150.307 82.2227 153.665 79.2973 153.866 75.5553L156.037 35.1222C156.06 34.7059 155.698 34.3571 155.243 34.3563L98.6798 34.2639ZM137.141 40.1651C137.143 38.8748 138.285 37.8316 139.693 37.8339C141.1 37.8362 142.238 38.8831 142.236 40.1734L142.183 70.5327C142.181 71.823 141.04 72.8662 139.632 72.8639C138.225 72.8616 137.086 71.8147 137.089 70.5244L137.141 40.1651ZM124.404 40.1443C124.406 38.854 125.548 37.8108 126.956 37.8131C128.363 37.8154 129.501 38.8623 129.499 40.1526L129.447 70.5119C129.444 71.8022 128.303 72.8454 126.895 72.8431C125.488 72.8408 124.35 71.7938 124.352 70.5036L124.404 40.1443ZM111.667 40.1234C111.669 38.8332 112.811 37.79 114.219 37.7923C115.626 37.7946 116.764 38.8415 116.762 40.1318L116.71 70.4911C116.707 71.7813 115.566 72.8245 114.158 72.8222C112.751 72.8199 111.613 71.773 111.615 70.4827L111.667 40.1234Z"
    fill="#646464"
  />
  <defs>
    <filter
      id="filter0_d_3075_12843"
      x="46"
      y="19"
      width="59"
      height="72"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset />
      <feGaussianBlur stdDeviation="1.5" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.1 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_3075_12843"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_3075_12843"
        result="shape"
      />
    </filter>
  </defs>
</svg> `,bj=(0,H.qy)`<svg
  width="340"
  height="170"
  viewBox="0 0 340 170"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_3075_695)">
    <path
      d="M0 4C0 1.79086 1.79086 0 4 0H336C338.209 0 340 1.79086 340 4V170H0V4Z"
      fill="white"
    />
    <g filter="url(#filter0_d_3075_695)">
      <rect
        width="124"
        height="154"
        transform="translate(41 61)"
        fill="white"
      />
      <rect
        x="59.7562"
        y="81.5333"
        width="60.9578"
        height="8.98333"
        rx="4.49167"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="59.7562"
        y="99.5"
        width="86.4875"
        height="5.13333"
        rx="2.56667"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="59.7562"
        y="112.333"
        width="45.7183"
        height="5.13333"
        rx="2.56667"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="59.7562"
        y="125.167"
        width="86.4875"
        height="5.13333"
        rx="2.56667"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="59.7562"
        y="138"
        width="45.7183"
        height="5.13333"
        rx="2.56667"
        fill="black"
        fill-opacity="0.1"
      />
    </g>
    <path
      d="M296.961 47.9114L266.018 40.1164L267.32 35.215C269.478 27.0941 263.671 18.6074 254.349 16.2592L231.845 10.5901C222.524 8.2418 213.218 12.9213 211.06 21.0422L209.758 25.9436L178.815 18.1486C171.047 16.1917 163.292 20.0915 161.494 26.8587L158.889 36.6614C158.17 39.3685 160.105 42.1973 163.213 42.98L298.237 76.9947C301.344 77.7775 304.446 76.2177 305.166 73.5106L307.77 63.7079C309.568 56.9407 304.729 49.8682 296.961 47.9114ZM222.312 23.8768C223.03 21.1749 226.139 19.6115 229.241 20.3927L251.745 26.0619C254.846 26.8431 256.786 29.6786 256.068 32.3805L254.766 37.2818L221.01 28.7781L222.312 23.8768Z"
      fill="#E6E6E6"
    />
    <path
      d="M159.323 86.8265C158.256 86.8248 157.405 87.6405 157.454 88.6173L162.221 183.503C162.662 192.284 170.517 199.174 180.103 199.19L270.871 199.338C280.457 199.354 288.336 192.49 288.807 183.71L293.902 88.8403C293.955 87.8637 293.106 87.0452 292.04 87.0435L159.323 86.8265ZM249.566 100.673C249.571 97.6453 252.25 95.1976 255.552 95.203C258.854 95.2084 261.525 97.6648 261.52 100.692L261.397 171.925C261.391 174.952 258.712 177.4 255.41 177.395C252.108 177.389 249.437 174.933 249.443 171.906L249.566 100.673ZM219.68 100.624C219.686 97.5965 222.365 95.1488 225.667 95.1542C228.969 95.1596 231.64 97.616 231.635 100.643L231.512 171.876C231.506 174.904 228.827 177.351 225.525 177.346C222.223 177.341 219.552 174.884 219.557 171.857L219.68 100.624ZM189.795 100.575C189.801 97.5476 192.48 95.0999 195.782 95.1053C199.084 95.1107 201.755 97.5671 201.749 100.595L201.626 171.827C201.621 174.855 198.942 177.302 195.64 177.297C192.338 177.292 189.667 174.835 189.672 171.808L189.795 100.575Z"
      fill="#E6E6E6"
    />
  </g>
  <defs>
    <filter
      id="filter0_d_3075_695"
      x="27"
      y="51"
      width="152"
      height="182"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset dy="4" />
      <feGaussianBlur stdDeviation="7" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.14 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_3075_695"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_3075_695"
        result="shape"
      />
    </filter>
    <clipPath id="clip0_3075_695">
      <path
        d="M0 4C0 1.79086 1.79086 0 4 0H336C338.209 0 340 1.79086 340 4V170H0V4Z"
        fill="white"
      />
    </clipPath>
  </defs>
</svg> `,bV=(0,H.qy)`<svg
  width="340"
  height="170"
  viewBox="0 0 340 170"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_3075_10008)">
    <path
      d="M0 4C0 1.79086 1.79086 0 4 0H336C338.209 0 340 1.79086 340 4V170H0V4Z"
      fill="#141414"
    />
    <g filter="url(#filter0_d_3075_10008)">
      <rect
        width="124"
        height="154"
        transform="translate(41 61)"
        fill="white"
        fill-opacity="0.06"
      />
      <rect
        x="59.7562"
        y="81.5333"
        width="60.9578"
        height="8.98333"
        rx="4.49167"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="59.7562"
        y="99.5"
        width="86.4875"
        height="5.13333"
        rx="2.56667"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="59.7562"
        y="112.333"
        width="45.7183"
        height="5.13333"
        rx="2.56667"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="59.7562"
        y="125.167"
        width="86.4875"
        height="5.13333"
        rx="2.56667"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="59.7562"
        y="138"
        width="45.7183"
        height="5.13333"
        rx="2.56667"
        fill="white"
        fill-opacity="0.1"
      />
    </g>
    <path
      d="M296.961 47.9114L266.018 40.1164L267.32 35.215C269.478 27.0941 263.671 18.6074 254.349 16.2592L231.845 10.5901C222.524 8.2418 213.218 12.9213 211.06 21.0422L209.758 25.9436L178.815 18.1486C171.047 16.1917 163.292 20.0915 161.494 26.8587L158.889 36.6614C158.17 39.3685 160.105 42.1973 163.213 42.98L298.237 76.9947C301.344 77.7775 304.446 76.2177 305.166 73.5106L307.77 63.7079C309.568 56.9407 304.729 49.8682 296.961 47.9114ZM222.312 23.8768C223.03 21.1749 226.139 19.6115 229.241 20.3927L251.745 26.0619C254.846 26.8431 256.786 29.6786 256.068 32.3805L254.766 37.2818L221.01 28.7781L222.312 23.8768Z"
      fill="#313131"
    />
    <path
      d="M159.323 86.8265C158.256 86.8248 157.405 87.6405 157.454 88.6173L162.221 183.503C162.662 192.284 170.517 199.174 180.103 199.19L270.871 199.338C280.457 199.354 288.336 192.49 288.807 183.71L293.902 88.8403C293.955 87.8637 293.106 87.0452 292.04 87.0435L159.323 86.8265ZM249.566 100.673C249.571 97.6453 252.25 95.1976 255.552 95.203C258.854 95.2084 261.525 97.6648 261.52 100.692L261.397 171.925C261.391 174.952 258.712 177.4 255.41 177.395C252.108 177.389 249.437 174.933 249.443 171.906L249.566 100.673ZM219.68 100.624C219.686 97.5965 222.365 95.1488 225.667 95.1542C228.969 95.1596 231.64 97.616 231.635 100.643L231.512 171.876C231.506 174.904 228.827 177.351 225.525 177.346C222.223 177.341 219.552 174.884 219.557 171.857L219.68 100.624ZM189.795 100.575C189.801 97.5476 192.48 95.0999 195.782 95.1053C199.084 95.1107 201.755 97.5671 201.749 100.595L201.626 171.827C201.621 174.855 198.942 177.302 195.64 177.297C192.338 177.292 189.667 174.835 189.672 171.808L189.795 100.575Z"
      fill="#313131"
    />
  </g>
  <defs>
    <filter
      id="filter0_d_3075_10008"
      x="17"
      y="41"
      width="172"
      height="202"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset dy="4" />
      <feGaussianBlur stdDeviation="12" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.14 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_3075_10008"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_3075_10008"
        result="shape"
      />
    </filter>
    <clipPath id="clip0_3075_10008">
      <path
        d="M0 4C0 1.79086 1.79086 0 4 0H336C338.209 0 340 1.79086 340 4V170H0V4Z"
        fill="white"
      />
    </clipPath>
  </defs>
</svg> `,bR=(0,H.qy)`<svg
  width="204"
  height="102"
  viewBox="0 0 204 102"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_3075_9806)">
    <g filter="url(#filter0_d_3075_9806)">
      <g clip-path="url(#clip1_3075_9806)">
        <rect
          x="46"
          y="5"
          width="125.328"
          height="85.42"
          rx="4"
          transform="rotate(8 46 5)"
          fill="white"
          fill-opacity="0.1"
          shape-rendering="crispEdges"
        />
        <rect
          x="58.1663"
          y="19.0759"
          width="43.8649"
          height="32.392"
          rx="4"
          transform="rotate(8 58.1663 19.0759)"
          fill="#EEEEEE"
        />
        <rect
          x="110.528"
          y="62.3364"
          width="43.8649"
          height="21.7263"
          rx="4"
          transform="rotate(8 110.528 62.3364)"
          fill="#EEEEEE"
        />
        <rect
          x="54.2542"
          y="62.8047"
          width="41.6532"
          height="4.74028"
          rx="2.37014"
          transform="rotate(8 54.2542 62.8047)"
          fill="black"
          fill-opacity="0.1"
        />
        <rect
          x="52.9346"
          y="72.1931"
          width="29.8576"
          height="4.74028"
          rx="2.37014"
          transform="rotate(8 52.9346 72.1931)"
          fill="black"
          fill-opacity="0.1"
        />
        <path
          d="M102.665 41.4729C102.118 41.396 101.612 41.7771 101.536 42.324C101.459 42.8709 101.84 43.3765 102.387 43.4534L102.665 41.4729ZM105.394 43.876C105.941 43.9529 106.447 43.5719 106.523 43.025C106.6 42.478 106.219 41.9724 105.672 41.8955L105.394 43.876ZM111.687 42.7408C111.14 42.6639 110.634 43.045 110.557 43.5919C110.481 44.1388 110.862 44.6445 111.409 44.7213L111.687 42.7408ZM117.423 45.5666C117.97 45.6435 118.476 45.2625 118.553 44.7155C118.629 44.1686 118.248 43.663 117.702 43.5861L117.423 45.5666ZM123.716 44.4314C123.169 44.3545 122.664 44.7356 122.587 45.2825C122.51 45.8294 122.891 46.3351 123.438 46.4119L123.716 44.4314ZM129.077 47.7514C129.553 48.0319 130.166 47.8737 130.446 47.3979C130.727 46.9222 130.569 46.3091 130.093 46.0286L129.077 47.7514ZM134.305 51.618C134.166 51.0834 133.621 50.7622 133.086 50.9007C132.551 51.0392 132.23 51.5849 132.369 52.1195L134.305 51.618ZM132.272 56.7004C132.195 57.2473 132.576 57.753 133.123 57.8298C133.67 57.9067 134.176 57.5256 134.252 56.9787L132.272 56.7004ZM133.747 60.5748C133.824 60.0279 133.443 59.5222 132.896 59.4453C132.349 59.3685 131.843 59.7495 131.766 60.2964L133.747 60.5748ZM102.387 43.4534L105.394 43.876L105.672 41.8955L102.665 41.4729L102.387 43.4534ZM111.409 44.7213L117.423 45.5666L117.702 43.5861L111.687 42.7408L111.409 44.7213ZM123.438 46.4119L126.445 46.8346L126.723 44.854L123.716 44.4314L123.438 46.4119ZM126.445 46.8346C127.406 46.9696 128.293 47.2891 129.077 47.7514L130.093 46.0286C129.086 45.4351 127.949 45.0263 126.723 44.854L126.445 46.8346ZM132.369 52.1195C132.597 53.0007 132.66 53.9414 132.525 54.9024L134.505 55.1807C134.677 53.9549 134.598 52.7492 134.305 51.618L132.369 52.1195ZM132.525 54.9024L132.272 56.7004L134.252 56.9787L134.505 55.1807L132.525 54.9024ZM131.766 60.2964L131.514 62.0945L133.494 62.3728L133.747 60.5748L131.766 60.2964Z"
          fill="black"
          fill-opacity="0.3"
        />
        <path
          d="M136.622 38.7233C145.813 33.9965 156.074 29.1384 149.749 37.1115C143.424 45.0846 137.142 57.4286 151.255 49.3745"
          stroke="black"
          stroke-opacity="0.3"
          stroke-width="1.90521"
          stroke-linecap="round"
        />
      </g>
    </g>
  </g>
  <defs>
    <filter
      id="filter0_d_3075_9806"
      x="29.1118"
      y="0"
      width="145.997"
      height="112.031"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset />
      <feGaussianBlur stdDeviation="2.5" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.17 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_3075_9806"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_3075_9806"
        result="shape"
      />
    </filter>
    <clipPath id="clip0_3075_9806">
      <rect width="204" height="102" fill="white" />
    </clipPath>
    <clipPath id="clip1_3075_9806">
      <rect
        x="46"
        y="5"
        width="125.328"
        height="85.42"
        rx="4"
        transform="rotate(8 46 5)"
        fill="white"
      />
    </clipPath>
  </defs>
</svg> `,bz=(0,H.qy)`<svg
  width="204"
  height="102"
  viewBox="0 0 204 102"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_3075_9829)">
    <g filter="url(#filter0_d_3075_9829)">
      <g clip-path="url(#clip1_3075_9829)">
        <rect
          x="46"
          y="5"
          width="125.328"
          height="85.42"
          rx="4"
          transform="rotate(8 46 5)"
          fill="white"
          fill-opacity="0.1"
          shape-rendering="crispEdges"
        />
        <rect
          x="58.1662"
          y="19.0759"
          width="43.8649"
          height="32.392"
          rx="4"
          transform="rotate(8 58.1662 19.0759)"
          fill="#303030"
        />
        <rect
          x="110.528"
          y="62.3364"
          width="43.8649"
          height="21.7263"
          rx="4"
          transform="rotate(8 110.528 62.3364)"
          fill="#303030"
        />
        <rect
          x="54.2541"
          y="62.8047"
          width="41.6532"
          height="4.74028"
          rx="2.37014"
          transform="rotate(8 54.2541 62.8047)"
          fill="white"
          fill-opacity="0.1"
        />
        <rect
          x="52.9347"
          y="72.1931"
          width="29.8576"
          height="4.74028"
          rx="2.37014"
          transform="rotate(8 52.9347 72.1931)"
          fill="white"
          fill-opacity="0.1"
        />
        <path
          d="M102.665 41.4729C102.118 41.396 101.613 41.7771 101.536 42.324C101.459 42.8709 101.84 43.3765 102.387 43.4534L102.665 41.4729ZM105.394 43.876C105.941 43.9529 106.447 43.5719 106.524 43.025C106.6 42.478 106.219 41.9724 105.672 41.8955L105.394 43.876ZM111.687 42.7408C111.14 42.6639 110.634 43.045 110.558 43.5919C110.481 44.1388 110.862 44.6445 111.409 44.7213L111.687 42.7408ZM117.423 45.5666C117.97 45.6435 118.476 45.2625 118.553 44.7155C118.63 44.1686 118.248 43.663 117.702 43.5861L117.423 45.5666ZM123.716 44.4314C123.169 44.3545 122.664 44.7356 122.587 45.2825C122.51 45.8294 122.891 46.3351 123.438 46.4119L123.716 44.4314ZM129.077 47.7514C129.553 48.0319 130.166 47.8737 130.446 47.3979C130.727 46.9222 130.569 46.3091 130.093 46.0286L129.077 47.7514ZM134.305 51.618C134.166 51.0834 133.621 50.7622 133.086 50.9007C132.551 51.0392 132.23 51.5849 132.369 52.1195L134.305 51.618ZM132.272 56.7004C132.195 57.2473 132.576 57.753 133.123 57.8298C133.67 57.9067 134.176 57.5256 134.252 56.9787L132.272 56.7004ZM133.747 60.5748C133.824 60.0279 133.443 59.5222 132.896 59.4453C132.349 59.3685 131.843 59.7495 131.767 60.2964L133.747 60.5748ZM102.387 43.4534L105.394 43.876L105.672 41.8955L102.665 41.4729L102.387 43.4534ZM111.409 44.7213L117.423 45.5666L117.702 43.5861L111.687 42.7408L111.409 44.7213ZM123.438 46.4119L126.445 46.8346L126.723 44.854L123.716 44.4314L123.438 46.4119ZM126.445 46.8346C127.406 46.9696 128.293 47.2891 129.077 47.7514L130.093 46.0286C129.086 45.4351 127.949 45.0263 126.723 44.854L126.445 46.8346ZM132.369 52.1195C132.597 53.0007 132.66 53.9414 132.525 54.9024L134.505 55.1807C134.677 53.9549 134.598 52.7492 134.305 51.618L132.369 52.1195ZM132.525 54.9024L132.272 56.7004L134.252 56.9787L134.505 55.1807L132.525 54.9024ZM131.767 60.2964L131.514 62.0945L133.494 62.3728L133.747 60.5748L131.767 60.2964Z"
          fill="white"
          fill-opacity="0.3"
        />
        <path
          d="M136.622 38.7233C145.813 33.9965 156.074 29.1384 149.749 37.1115C143.424 45.0846 137.142 57.4286 151.254 49.3745"
          stroke="white"
          stroke-opacity="0.3"
          stroke-width="1.90521"
          stroke-linecap="round"
        />
      </g>
    </g>
  </g>
  <defs>
    <filter
      id="filter0_d_3075_9829"
      x="29.1118"
      y="0"
      width="145.997"
      height="112.031"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset />
      <feGaussianBlur stdDeviation="2.5" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.17 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_3075_9829"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_3075_9829"
        result="shape"
      />
    </filter>
    <clipPath id="clip0_3075_9829">
      <rect width="204" height="102" fill="white" />
    </clipPath>
    <clipPath id="clip1_3075_9829">
      <rect
        x="46"
        y="5"
        width="125.328"
        height="85.42"
        rx="4"
        transform="rotate(8 46 5)"
        fill="white"
      />
    </clipPath>
  </defs>
</svg> `,bF=(0,H.qy)`<svg
  width="340"
  height="170"
  viewBox="0 0 340 170"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_3075_9936)">
    <path
      d="M0 4C0 1.79086 1.79086 0 4 0H336C338.209 0 340 1.79086 340 4V170H0V4Z"
      fill="white"
      fill-opacity="0.1"
    />
    <g filter="url(#filter0_dd_3075_9936)">
      <rect x="32" y="19.3782" width="119" height="78" rx="8" fill="#EEEEEE" />
    </g>
    <g filter="url(#filter1_dd_3075_9936)">
      <rect x="189" y="102.378" width="119" height="54" rx="8" fill="#EEEEEE" />
    </g>
    <rect
      x="35.999"
      y="120.552"
      width="113"
      height="11"
      rx="5.5"
      fill="black"
      fill-opacity="0.1"
    />
    <rect
      x="35.999"
      y="145.378"
      width="81"
      height="11"
      rx="5.5"
      fill="black"
      fill-opacity="0.1"
    />
    <path
      d="M160 57.1802C159.172 57.1802 158.5 57.8517 158.5 58.6802C158.5 59.5086 159.172 60.1802 160 60.1802V57.1802ZM164.75 60.1802C165.578 60.1802 166.25 59.5086 166.25 58.6802C166.25 57.8517 165.578 57.1802 164.75 57.1802V60.1802ZM174.25 57.1802C173.422 57.1802 172.75 57.8517 172.75 58.6802C172.75 59.5086 173.422 60.1802 174.25 60.1802V57.1802ZM183.75 60.1802C184.578 60.1802 185.25 59.5086 185.25 58.6802C185.25 57.8517 184.578 57.1802 183.75 57.1802V60.1802ZM193.25 57.1802C192.422 57.1802 191.75 57.8517 191.75 58.6802C191.75 59.5086 192.422 60.1802 193.25 60.1802V57.1802ZM202.75 60.1802C203.578 60.1802 204.25 59.5086 204.25 58.6802C204.25 57.8517 203.578 57.1802 202.75 57.1802V60.1802ZM212.25 57.1802C211.422 57.1802 210.75 57.8517 210.75 58.6802C210.75 59.5086 211.422 60.1802 212.25 60.1802V57.1802ZM221.75 60.1802C222.578 60.1802 223.25 59.5086 223.25 58.6802C223.25 57.8517 222.578 57.1802 221.75 57.1802V60.1802ZM231.25 57.1802C230.422 57.1802 229.75 57.8517 229.75 58.6802C229.75 59.5086 230.422 60.1802 231.25 60.1802V57.1802ZM240.019 60.9763C240.784 61.2937 241.662 60.9306 241.979 60.1653C242.296 59.4001 241.933 58.5225 241.168 58.2052L240.019 60.9763ZM248.475 65.5121C248.158 64.7469 247.28 64.3838 246.515 64.7011C245.75 65.0185 245.387 65.8961 245.704 66.6613L248.475 65.5121ZM246.5 78.1288C246.5 78.9572 247.172 79.6288 248 79.6288C248.828 79.6288 249.5 78.9572 249.5 78.1288H246.5ZM249.5 93.0259C249.5 92.1975 248.828 91.5259 248 91.5259C247.172 91.5259 246.5 92.1975 246.5 93.0259H249.5ZM160 60.1802H164.75V57.1802H160V60.1802ZM174.25 60.1802H183.75V57.1802H174.25V60.1802ZM193.25 60.1802H202.75V57.1802H193.25V60.1802ZM212.25 60.1802H221.75V57.1802H212.25V60.1802ZM231.25 60.1802H236V57.1802H231.25V60.1802ZM236 60.1802C237.426 60.1802 238.783 60.4638 240.019 60.9763L241.168 58.2052C239.574 57.5442 237.828 57.1802 236 57.1802V60.1802ZM245.704 66.6613C246.216 67.8973 246.5 69.2537 246.5 70.6802H249.5C249.5 68.8525 249.136 67.106 248.475 65.5121L245.704 66.6613ZM246.5 70.6802V78.1288H249.5V70.6802H246.5ZM246.5 93.0259V100.475H249.5V93.0259H246.5Z"
      fill="black"
      fill-opacity="0.3"
    />
    <path
      d="M250.185 35.7596C273.092 19.591 298.824 2.66568 284.842 26.4733C270.86 50.2808 258.644 85.8144 293.517 58.8491"
      stroke="black"
      stroke-opacity="0.3"
      stroke-width="3"
      stroke-linecap="round"
    />
  </g>
  <path
    d="M0.5 4C0.5 2.067 2.067 0.5 4 0.5H336C337.933 0.5 339.5 2.067 339.5 4V169.5H0.5V4Z"
    stroke="#E3E2E4"
  />
  <defs>
    <filter
      id="filter0_dd_3075_9936"
      x="22"
      y="19.3782"
      width="139"
      height="98"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feMorphology
        radius="3"
        operator="erode"
        in="SourceAlpha"
        result="effect1_dropShadow_3075_9936"
      />
      <feOffset dy="4" />
      <feGaussianBlur stdDeviation="3" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.1 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_3075_9936"
      />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feMorphology
        radius="2"
        operator="erode"
        in="SourceAlpha"
        result="effect2_dropShadow_3075_9936"
      />
      <feOffset dy="10" />
      <feGaussianBlur stdDeviation="6" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.1 0"
      />
      <feBlend
        mode="normal"
        in2="effect1_dropShadow_3075_9936"
        result="effect2_dropShadow_3075_9936"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect2_dropShadow_3075_9936"
        result="shape"
      />
    </filter>
    <filter
      id="filter1_dd_3075_9936"
      x="179"
      y="102.378"
      width="139"
      height="74"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feMorphology
        radius="3"
        operator="erode"
        in="SourceAlpha"
        result="effect1_dropShadow_3075_9936"
      />
      <feOffset dy="4" />
      <feGaussianBlur stdDeviation="3" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.1 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_3075_9936"
      />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feMorphology
        radius="2"
        operator="erode"
        in="SourceAlpha"
        result="effect2_dropShadow_3075_9936"
      />
      <feOffset dy="10" />
      <feGaussianBlur stdDeviation="6" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.1 0"
      />
      <feBlend
        mode="normal"
        in2="effect1_dropShadow_3075_9936"
        result="effect2_dropShadow_3075_9936"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect2_dropShadow_3075_9936"
        result="shape"
      />
    </filter>
    <clipPath id="clip0_3075_9936">
      <path
        d="M0 4C0 1.79086 1.79086 0 4 0H336C338.209 0 340 1.79086 340 4V170H0V4Z"
        fill="white"
      />
    </clipPath>
  </defs>
</svg> `,bN=(0,H.qy)`<svg
  width="340"
  height="170"
  viewBox="0 0 340 170"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M0.5 4C0.5 2.067 2.067 0.5 4 0.5H336C337.933 0.5 339.5 2.067 339.5 4V169.5H0.5V4Z"
    fill="#141414"
  />
  <path
    d="M0.5 4C0.5 2.067 2.067 0.5 4 0.5H336C337.933 0.5 339.5 2.067 339.5 4V169.5H0.5V4Z"
    stroke="#2E2E2E"
  />
  <rect x="32" y="19.3782" width="119" height="78" rx="8" fill="#303030" />
  <rect x="189" y="102.378" width="119" height="54" rx="8" fill="#303030" />
  <rect
    x="35.999"
    y="120.552"
    width="113"
    height="11"
    rx="5.5"
    fill="white"
    fill-opacity="0.1"
  />
  <rect
    x="35.999"
    y="145.378"
    width="81"
    height="11"
    rx="5.5"
    fill="white"
    fill-opacity="0.1"
  />
  <path
    d="M160 57.1802C159.172 57.1802 158.5 57.8517 158.5 58.6802C158.5 59.5086 159.172 60.1802 160 60.1802V57.1802ZM164.75 60.1802C165.578 60.1802 166.25 59.5086 166.25 58.6802C166.25 57.8517 165.578 57.1802 164.75 57.1802V60.1802ZM174.25 57.1802C173.422 57.1802 172.75 57.8517 172.75 58.6802C172.75 59.5086 173.422 60.1802 174.25 60.1802V57.1802ZM183.75 60.1802C184.578 60.1802 185.25 59.5086 185.25 58.6802C185.25 57.8517 184.578 57.1802 183.75 57.1802V60.1802ZM193.25 57.1802C192.422 57.1802 191.75 57.8517 191.75 58.6802C191.75 59.5086 192.422 60.1802 193.25 60.1802V57.1802ZM202.75 60.1802C203.578 60.1802 204.25 59.5086 204.25 58.6802C204.25 57.8517 203.578 57.1802 202.75 57.1802V60.1802ZM212.25 57.1802C211.422 57.1802 210.75 57.8517 210.75 58.6802C210.75 59.5086 211.422 60.1802 212.25 60.1802V57.1802ZM221.75 60.1802C222.578 60.1802 223.25 59.5086 223.25 58.6802C223.25 57.8517 222.578 57.1802 221.75 57.1802V60.1802ZM231.25 57.1802C230.422 57.1802 229.75 57.8517 229.75 58.6802C229.75 59.5086 230.422 60.1802 231.25 60.1802V57.1802ZM240.019 60.9763C240.784 61.2937 241.662 60.9306 241.979 60.1653C242.296 59.4001 241.933 58.5225 241.168 58.2052L240.019 60.9763ZM248.475 65.5121C248.158 64.7469 247.28 64.3838 246.515 64.7011C245.75 65.0185 245.387 65.8961 245.704 66.6613L248.475 65.5121ZM246.5 78.1288C246.5 78.9572 247.172 79.6288 248 79.6288C248.828 79.6288 249.5 78.9572 249.5 78.1288H246.5ZM249.5 93.0259C249.5 92.1975 248.828 91.5259 248 91.5259C247.172 91.5259 246.5 92.1975 246.5 93.0259H249.5ZM160 60.1802H164.75V57.1802H160V60.1802ZM174.25 60.1802H183.75V57.1802H174.25V60.1802ZM193.25 60.1802H202.75V57.1802H193.25V60.1802ZM212.25 60.1802H221.75V57.1802H212.25V60.1802ZM231.25 60.1802H236V57.1802H231.25V60.1802ZM236 60.1802C237.426 60.1802 238.783 60.4638 240.019 60.9763L241.168 58.2052C239.574 57.5442 237.828 57.1802 236 57.1802V60.1802ZM245.704 66.6613C246.216 67.8973 246.5 69.2537 246.5 70.6802H249.5C249.5 68.8525 249.136 67.106 248.475 65.5121L245.704 66.6613ZM246.5 70.6802V78.1288H249.5V70.6802H246.5ZM246.5 93.0259V100.475H249.5V93.0259H246.5Z"
    fill="white"
    fill-opacity="0.3"
  />
  <path
    d="M250.185 35.7596C273.092 19.591 298.824 2.66568 284.842 26.4733C270.86 50.2808 258.644 85.8144 293.517 58.8491"
    stroke="white"
    stroke-opacity="0.3"
    stroke-width="3"
    stroke-linecap="round"
  />
</svg> `,bq=(0,H.qy)`<svg
  width="204"
  height="66"
  viewBox="0 0 204 66"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g filter="url(#filter0_d_3075_9990)">
    <rect
      x="35.446"
      y="22.3057"
      width="66"
      height="44.9836"
      rx="2"
      fill="white"
    />
    <rect
      x="42.8223"
      y="28.7544"
      width="23.1"
      height="17.0581"
      rx="2"
      fill="#EAEAEA"
    />
    <rect
      x="73.2991"
      y="47.4768"
      width="23.1"
      height="11.4414"
      rx="2"
      fill="#EAEAEA"
    />
    <rect
      x="43.9871"
      y="51.8455"
      width="21.9353"
      height="2.49631"
      rx="1.24816"
      fill="black"
      fill-opacity="0.1"
    />
    <rect
      x="43.9871"
      y="56.8379"
      width="15.7235"
      height="2.49631"
      rx="1.24816"
      fill="black"
      fill-opacity="0.1"
    />
    <path
      d="M67.6697 37.6997H80.752C82.9612 37.6997 84.752 39.4906 84.752 41.6997V45.8127"
      stroke="black"
      stroke-opacity="0.3"
      stroke-linecap="round"
      stroke-dasharray="4 4"
    />
    <path
      d="M85.1761 33.2503C89.6228 30.1117 94.6178 26.8262 91.9036 31.4477C89.1895 36.0691 86.8182 42.9668 93.5876 37.7324"
      stroke="black"
      stroke-opacity="0.3"
      stroke-linecap="round"
    />
  </g>
  <path
    d="M157.341 17.6782L144.153 14.356L144.708 12.267C145.628 8.80589 143.153 5.18888 139.18 4.18806L129.588 1.77189C125.616 0.771072 121.65 2.76548 120.73 6.2266L120.175 8.31554L106.987 4.99332C103.676 4.15932 100.371 5.82139 99.6047 8.70557L98.4946 12.8835C98.188 14.0372 99.013 15.2428 100.337 15.5764L157.885 30.0734C159.209 30.407 160.531 29.7423 160.837 28.5885L161.948 24.4106C162.714 21.5265 160.651 18.5122 157.341 17.6782ZM125.525 7.43468C125.831 6.28315 127.157 5.6168 128.478 5.94978L138.07 8.36594C139.391 8.69892 140.218 9.9074 139.912 11.0589L139.357 13.1479L124.97 9.52362L125.525 7.43468Z"
    fill="#E6E6E6"
  />
  <path
    d="M98.6798 34.2638C98.2253 34.263 97.8625 34.6107 97.8834 35.027L99.9152 75.467C100.103 79.2096 103.451 82.146 107.536 82.1526L146.222 82.2159C150.307 82.2226 153.665 79.2972 153.866 75.5551L156.037 35.122C156.06 34.7058 155.698 34.3569 155.243 34.3562L98.6798 34.2638ZM137.141 40.165C137.143 38.8747 138.285 37.8315 139.693 37.8338C141.1 37.8361 142.238 38.883 142.236 40.1733L142.183 70.5326C142.181 71.8229 141.039 72.8661 139.632 72.8638C138.225 72.8615 137.086 71.8145 137.089 70.5243L137.141 40.165ZM124.404 40.1441C124.406 38.8539 125.548 37.8107 126.956 37.813C128.363 37.8153 129.501 38.8622 129.499 40.1525L129.447 70.5118C129.444 71.802 128.303 72.8452 126.895 72.8429C125.488 72.8406 124.349 71.7937 124.352 70.5034L124.404 40.1441ZM111.667 40.1233C111.669 38.8331 112.811 37.7899 114.219 37.7922C115.626 37.7945 116.764 38.8414 116.762 40.1317L116.71 70.491C116.707 71.7812 115.566 72.8244 114.158 72.8221C112.751 72.8198 111.613 71.7729 111.615 70.4826L111.667 40.1233Z"
    fill="#E6E6E6"
  />
  <defs>
    <filter
      id="filter0_d_3075_9990"
      x="32.446"
      y="19.3057"
      width="72"
      height="50.9836"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset />
      <feGaussianBlur stdDeviation="1.5" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.14 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_3075_9990"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_3075_9990"
        result="shape"
      />
    </filter>
  </defs>
</svg> `,bU=(0,H.qy)`<svg
  width="204"
  height="66"
  viewBox="0 0 204 66"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g filter="url(#filter0_d_3075_2681)">
    <rect
      x="35.446"
      y="22.3057"
      width="66"
      height="44.9836"
      rx="2"
      fill="white"
      fill-opacity="0.08"
      shape-rendering="crispEdges"
    />
    <rect
      x="42.8223"
      y="28.7544"
      width="23.1"
      height="17.0581"
      rx="2"
      fill="white"
      fill-opacity="0.1"
    />
    <rect
      x="73.299"
      y="47.4768"
      width="23.1"
      height="11.4414"
      rx="2"
      fill="white"
      fill-opacity="0.1"
    />
    <rect
      x="43.987"
      y="51.8455"
      width="21.9353"
      height="2.49631"
      rx="1.24816"
      fill="white"
      fill-opacity="0.1"
    />
    <rect
      x="43.987"
      y="56.8379"
      width="15.7235"
      height="2.49631"
      rx="1.24816"
      fill="white"
      fill-opacity="0.1"
    />
    <path
      d="M67.6696 37.6997H80.7519C82.9611 37.6997 84.7519 39.4906 84.7519 41.6997V45.8127"
      stroke="white"
      stroke-opacity="0.3"
      stroke-linecap="round"
      stroke-dasharray="4 4"
    />
    <path
      d="M85.1761 33.2503C89.6228 30.1117 94.6177 26.8262 91.9036 31.4477C89.1895 36.0691 86.8182 42.9668 93.5876 37.7324"
      stroke="white"
      stroke-opacity="0.3"
      stroke-linecap="round"
    />
  </g>
  <path
    d="M157.341 17.6782L144.153 14.356L144.708 12.267C145.628 8.80589 143.153 5.18888 139.18 4.18806L129.588 1.77189C125.616 0.771072 121.65 2.76548 120.73 6.2266L120.175 8.31554L106.987 4.99332C103.676 4.15932 100.371 5.82139 99.6047 8.70557L98.4946 12.8835C98.188 14.0372 99.013 15.2428 100.337 15.5764L157.885 30.0734C159.209 30.407 160.531 29.7423 160.837 28.5885L161.948 24.4106C162.714 21.5265 160.651 18.5122 157.341 17.6782ZM125.525 7.43468C125.831 6.28315 127.157 5.6168 128.478 5.94978L138.07 8.36594C139.391 8.69892 140.218 9.9074 139.912 11.0589L139.357 13.1479L124.97 9.52362L125.525 7.43468Z"
    fill="#646464"
  />
  <path
    d="M98.6798 34.2638C98.2253 34.263 97.8625 34.6107 97.8834 35.027L99.9152 75.467C100.103 79.2096 103.451 82.146 107.536 82.1526L146.222 82.2159C150.307 82.2226 153.665 79.2972 153.866 75.5551L156.037 35.122C156.06 34.7058 155.698 34.3569 155.243 34.3562L98.6798 34.2638ZM137.141 40.165C137.143 38.8747 138.285 37.8315 139.693 37.8338C141.1 37.8361 142.238 38.883 142.236 40.1733L142.183 70.5326C142.181 71.8229 141.039 72.8661 139.632 72.8638C138.225 72.8615 137.086 71.8145 137.089 70.5243L137.141 40.165ZM124.404 40.1441C124.406 38.8539 125.548 37.8107 126.956 37.813C128.363 37.8153 129.501 38.8622 129.499 40.1525L129.447 70.5118C129.444 71.802 128.303 72.8452 126.895 72.8429C125.488 72.8406 124.349 71.7937 124.352 70.5034L124.404 40.1441ZM111.667 40.1233C111.669 38.8331 112.811 37.7899 114.219 37.7922C115.626 37.7945 116.764 38.8414 116.762 40.1317L116.71 70.491C116.707 71.7812 115.566 72.8244 114.158 72.8221C112.751 72.8198 111.613 71.7729 111.615 70.4826L111.667 40.1233Z"
    fill="#646464"
  />
  <defs>
    <filter
      id="filter0_d_3075_2681"
      x="32.446"
      y="19.3057"
      width="72"
      height="50.9836"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset />
      <feGaussianBlur stdDeviation="1.5" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.14 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_3075_2681"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_3075_2681"
        result="shape"
      />
    </filter>
  </defs>
</svg> `,bW=(0,H.qy)`<svg
  width="340"
  height="170"
  viewBox="0 0 340 170"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_3075_10039)">
    <path
      d="M0 4C0 1.79086 1.79086 0 4 0H336C338.209 0 340 1.79086 340 4V170H0V4Z"
      fill="white"
    />
    <g filter="url(#filter0_d_3075_10039)">
      <path
        d="M30 71C30 68.7909 31.7909 67 34 67H175C177.209 67 179 68.7909 179 71V170H30V71Z"
        fill="white"
      />
      <rect
        x="46.6523"
        y="81.7659"
        width="52.15"
        height="39.0585"
        rx="4"
        fill="#EEEEEE"
      />
      <rect x="115" y="125" width="53" height="30" rx="4" fill="#EEEEEE" />
      <rect
        x="49.282"
        y="134.638"
        width="49.5206"
        height="5.71587"
        rx="2.85793"
        fill="black"
        fill-opacity="0.1"
      />
      <rect
        x="49.282"
        y="146.07"
        width="35.4971"
        height="5.71587"
        rx="2.85793"
        fill="black"
        fill-opacity="0.1"
      />
      <path
        d="M102.747 102.248H135.312C138.625 102.248 141.312 104.934 141.312 108.248V120.824"
        stroke="black"
        stroke-opacity="0.3"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="bevel"
        stroke-dasharray="5 5"
      />
      <path
        d="M142.269 92.0603C152.308 84.8737 163.585 77.3509 157.457 87.9327C151.33 98.5146 145.977 114.308 161.259 102.323"
        stroke="black"
        stroke-opacity="0.3"
        stroke-width="2"
        stroke-linecap="round"
      />
    </g>
    <path
      d="M305.571 53.002L275.744 45.4883L276.999 40.7638C279.079 32.9359 273.482 24.7555 264.497 22.492L242.805 17.0275C233.819 14.7639 224.849 19.2746 222.77 27.1025L221.514 31.8269L191.688 24.3132C184.2 22.427 176.725 26.186 174.992 32.709L172.481 42.158C171.788 44.7674 173.653 47.4941 176.649 48.2486L306.801 81.0358C309.796 81.7903 312.786 80.2868 313.479 77.6774L315.99 68.2285C317.723 61.7055 313.058 54.8882 305.571 53.002ZM233.616 29.8347C234.308 27.2304 237.304 25.7233 240.294 26.4764L261.986 31.9409C264.975 32.694 266.846 35.4272 266.153 38.0315L264.898 42.756L232.36 34.5592L233.616 29.8347Z"
      fill="#E6E6E6"
    />
    <path
      d="M172.9 90.5127C171.872 90.511 171.051 91.2973 171.099 92.2389L175.694 183.7C176.119 192.165 183.69 198.806 192.93 198.821L280.423 198.964C289.663 198.979 297.258 192.363 297.712 183.9L302.623 92.4538C302.673 91.5125 301.855 90.7235 300.827 90.7218L172.9 90.5127ZM259.886 103.859C259.891 100.941 262.473 98.5817 265.657 98.5869C268.84 98.5921 271.414 100.96 271.409 103.878L271.29 172.54C271.285 175.458 268.703 177.818 265.52 177.813C262.337 177.807 259.763 175.44 259.768 172.521L259.886 103.859ZM231.08 103.812C231.085 100.894 233.667 98.5346 236.85 98.5398C240.033 98.545 242.607 100.913 242.602 103.831L242.484 172.493C242.479 175.411 239.896 177.771 236.713 177.766C233.53 177.76 230.956 175.393 230.961 172.474L231.08 103.812ZM202.273 103.765C202.278 100.847 204.86 98.4875 208.043 98.4927C211.226 98.4979 213.801 100.866 213.796 103.784L213.677 172.446C213.672 175.364 211.09 177.724 207.907 177.718C204.723 177.713 202.149 175.345 202.154 172.427L202.273 103.765Z"
      fill="#E6E6E6"
    />
  </g>
  <defs>
    <filter
      id="filter0_d_3075_10039"
      x="26"
      y="63"
      width="157"
      height="111"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset />
      <feGaussianBlur stdDeviation="2" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.14 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_3075_10039"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_3075_10039"
        result="shape"
      />
    </filter>
    <clipPath id="clip0_3075_10039">
      <path
        d="M0 4C0 1.79086 1.79086 0 4 0H336C338.209 0 340 1.79086 340 4V170H0V4Z"
        fill="white"
      />
    </clipPath>
  </defs>
</svg> `,bG=(0,H.qy)`<svg
  width="340"
  height="170"
  viewBox="0 0 340 170"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_3075_10071)">
    <path
      d="M0 4C0 1.79086 1.79086 0 4 0H336C338.209 0 340 1.79086 340 4V170H0V4Z"
      fill="#141414"
    />
    <g filter="url(#filter0_d_3075_10071)">
      <path
        d="M30 71C30 68.7909 31.7909 67 34 67H175C177.209 67 179 68.7909 179 71V170H30V71Z"
        fill="white"
        fill-opacity="0.06"
        shape-rendering="crispEdges"
      />
      <rect
        x="46.6523"
        y="81.7659"
        width="52.15"
        height="39.0585"
        rx="4"
        fill="#303030"
      />
      <rect x="115" y="125" width="53" height="30" rx="4" fill="#303030" />
      <rect
        x="49.282"
        y="134.638"
        width="49.5206"
        height="5.71587"
        rx="2.85793"
        fill="white"
        fill-opacity="0.1"
      />
      <rect
        x="49.282"
        y="146.07"
        width="35.4971"
        height="5.71587"
        rx="2.85793"
        fill="white"
        fill-opacity="0.1"
      />
      <path
        d="M102.747 102.248H135.312C138.625 102.248 141.312 104.934 141.312 108.248V120.824"
        stroke="white"
        stroke-opacity="0.3"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="bevel"
        stroke-dasharray="5 5"
      />
      <path
        d="M142.269 92.0603C152.308 84.8737 163.585 77.3509 157.457 87.9327C151.33 98.5146 145.977 114.308 161.259 102.323"
        stroke="white"
        stroke-opacity="0.3"
        stroke-width="2"
        stroke-linecap="round"
      />
    </g>
    <path
      d="M305.571 53.002L275.744 45.4883L276.999 40.7638C279.079 32.9359 273.482 24.7555 264.497 22.492L242.805 17.0275C233.819 14.7639 224.849 19.2746 222.77 27.1025L221.514 31.8269L191.688 24.3132C184.2 22.427 176.725 26.186 174.992 32.709L172.481 42.158C171.788 44.7674 173.653 47.4941 176.649 48.2486L306.801 81.0358C309.796 81.7903 312.786 80.2868 313.479 77.6774L315.99 68.2285C317.723 61.7055 313.058 54.8882 305.571 53.002ZM233.616 29.8347C234.308 27.2304 237.304 25.7233 240.294 26.4764L261.986 31.9409C264.975 32.694 266.846 35.4272 266.153 38.0315L264.898 42.756L232.36 34.5592L233.616 29.8347Z"
      fill="#313131"
    />
    <path
      d="M172.9 90.5127C171.872 90.511 171.051 91.2973 171.099 92.2389L175.694 183.7C176.119 192.165 183.69 198.806 192.93 198.821L280.423 198.964C289.663 198.979 297.258 192.363 297.712 183.9L302.623 92.4538C302.673 91.5125 301.855 90.7235 300.827 90.7218L172.9 90.5127ZM259.886 103.859C259.891 100.941 262.473 98.5817 265.657 98.5869C268.84 98.5921 271.414 100.96 271.409 103.878L271.29 172.54C271.285 175.458 268.703 177.818 265.52 177.813C262.337 177.807 259.763 175.44 259.768 172.521L259.886 103.859ZM231.08 103.812C231.085 100.894 233.667 98.5346 236.85 98.5398C240.033 98.545 242.607 100.913 242.602 103.831L242.484 172.493C242.479 175.411 239.896 177.771 236.713 177.766C233.53 177.76 230.956 175.393 230.961 172.474L231.08 103.812ZM202.273 103.765C202.278 100.847 204.86 98.4875 208.043 98.4927C211.226 98.4979 213.801 100.866 213.796 103.784L213.677 172.446C213.672 175.364 211.09 177.724 207.907 177.718C204.723 177.713 202.149 175.345 202.154 172.427L202.273 103.765Z"
      fill="#313131"
    />
  </g>
  <defs>
    <filter
      id="filter0_d_3075_10071"
      x="26"
      y="63"
      width="157"
      height="111"
      filterUnits="userSpaceOnUse"
      color-interpolation-filters="sRGB"
    >
      <feFlood flood-opacity="0" result="BackgroundImageFix" />
      <feColorMatrix
        in="SourceAlpha"
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
        result="hardAlpha"
      />
      <feOffset />
      <feGaussianBlur stdDeviation="2" />
      <feComposite in2="hardAlpha" operator="out" />
      <feColorMatrix
        type="matrix"
        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.24 0"
      />
      <feBlend
        mode="normal"
        in2="BackgroundImageFix"
        result="effect1_dropShadow_3075_10071"
      />
      <feBlend
        mode="normal"
        in="SourceGraphic"
        in2="effect1_dropShadow_3075_10071"
        result="shape"
      />
    </filter>
    <clipPath id="clip0_3075_10071">
      <path
        d="M0 4C0 1.79086 1.79086 0 4 0H336C338.209 0 340 1.79086 340 4V170H0V4Z"
        fill="white"
      />
    </clipPath>
  </defs>
</svg> `;var bY=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},bK=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let bX=(()=>{let e,t,i,s,o,r,a,n,l,c,d,h,u=[(0,L.EM)("affine-embed-linked-doc-block"),lq({enableOn:({doc:e})=>!e.readonly})],p=[],f=y6,g=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[],O=[],P=[],A=[],D=[],Z=[];return class extends f{static{t=this}static{let m="function"==typeof Symbol&&Symbol.metadata?Object.create(f[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.wk)()],r=[(0,L.nJ)(".affine-embed-linked-doc-banner.render")],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({attribute:!1})],c=[(0,L.nJ)(".affine-embed-linked-doc-content-note.render")],d=[(0,L.MZ)({attribute:!1})],h=[(0,L.MZ)({attribute:!1})],bY(this,null,i,{kind:"accessor",name:"_docUpdatedAt",static:!1,private:!1,access:{has:e=>"_docUpdatedAt"in e,get:e=>e._docUpdatedAt,set:(e,t)=>{e._docUpdatedAt=t}},metadata:m},g,y),bY(this,null,s,{kind:"accessor",name:"_linkedDocMode",static:!1,private:!1,access:{has:e=>"_linkedDocMode"in e,get:e=>e._linkedDocMode,set:(e,t)=>{e._linkedDocMode=t}},metadata:m},b,w),bY(this,null,o,{kind:"accessor",name:"_loading",static:!1,private:!1,access:{has:e=>"_loading"in e,get:e=>e._loading,set:(e,t)=>{e._loading=t}},metadata:m},x,_),bY(this,null,r,{kind:"accessor",name:"bannerContainer",static:!1,private:!1,access:{has:e=>"bannerContainer"in e,get:e=>e.bannerContainer,set:(e,t)=>{e.bannerContainer=t}},metadata:m},C,k),bY(this,null,a,{kind:"accessor",name:"isBannerEmpty",static:!1,private:!1,access:{has:e=>"isBannerEmpty"in e,get:e=>e.isBannerEmpty,set:(e,t)=>{e.isBannerEmpty=t}},metadata:m},S,M),bY(this,null,n,{kind:"accessor",name:"isError",static:!1,private:!1,access:{has:e=>"isError"in e,get:e=>e.isError,set:(e,t)=>{e.isError=t}},metadata:m},E,I),bY(this,null,l,{kind:"accessor",name:"isNoteContentEmpty",static:!1,private:!1,access:{has:e=>"isNoteContentEmpty"in e,get:e=>e.isNoteContentEmpty,set:(e,t)=>{e.isNoteContentEmpty=t}},metadata:m},B,$),bY(this,null,c,{kind:"accessor",name:"noteContainer",static:!1,private:!1,access:{has:e=>"noteContainer"in e,get:e=>e.noteContainer,set:(e,t)=>{e.noteContainer=t}},metadata:m},T,O),bY(this,null,d,{kind:"accessor",name:"surfaceRefRenderer",static:!1,private:!1,access:{has:e=>"surfaceRefRenderer"in e,get:e=>e.surfaceRefRenderer,set:(e,t)=>{e.surfaceRefRenderer=t}},metadata:m},P,A),bY(this,null,h,{kind:"accessor",name:"surfaceRefService",static:!1,private:!1,access:{has:e=>"surfaceRefService"in e,get:e=>e.surfaceRefService,set:(e,t)=>{e.surfaceRefService=t}},metadata:m},D,Z),bY(null,e={value:t},u,{kind:"class",name:t.name,metadata:m},null,p),t=e.value,m&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m})}static{this.styles=bT}_handleClick(e){if(this.config.handleClick){this.config.handleClick(e,this.host);return}this.isInSurface||this._selectBlock()}_handleDoubleClick(e){if(this.config.handleDoubleClick){this.config.handleDoubleClick(e,this.host);return}lF(this)||(e.stopPropagation(),this.open())}_isDocEmpty(){let e=this.linkedDoc;return!!e&&!!e&&this.isNoteContentEmpty&&this.isBannerEmpty}get _rootService(){return this.std.spec.getService("affine:page")}connectedCallback(){super.connectedCallback(),this._load().catch(e=>{console.error(e),this.isError=!0});let e=this.linkedDoc;e&&(this.disposables.add(e.collection.meta.docMetaUpdated.on(()=>{this._load().catch(e=>{console.error(e),this.isError=!0})})),this.disposables.add(e.slots.blockUpdated.on(e=>{"update"===e.type&&["","caption","xywh"].includes(e.props.key)||"add"===e.type&&e.init||this._load().catch(e=>{console.error(e),this.isError=!0})})),this._setDocUpdatedAt(),this.disposables.add(this.doc.collection.meta.docMetaUpdated.on(()=>{this._setDocUpdatedAt()})),this._linkedDocMode=this._rootService.docModeService.getMode(this.model.pageId),this.disposables.add(this._rootService.docModeService.onModeChange(e=>{this._linkedDocMode=e},this.model.pageId))),this.model.propsUpdated.on(({key:e})=>{("pageId"===e||"style"===e)&&this._load().catch(e=>{console.error(e),this.isError=!0})}),this.isInSurface&&this.disposables.add(this.model.propsUpdated.on(()=>{this.requestUpdate()}))}disconnectedCallback(){this.cleanUpSurfaceRefRenderer(),super.disconnectedCallback()}renderBlock(){this._cardStyle=this.model.style,this._width=fA.Cd[this._cardStyle],this._height=fA.Hn[this._cardStyle];let e=this.linkedDoc,t=!e,i=this._loading,s=this.isError,o=this._isDocEmpty()&&this.isBannerEmpty,r=(0,oJ.H)({loading:i,error:s,deleted:t,empty:o,"banner-empty":this.isBannerEmpty,"note-empty":this.isNoteContentEmpty,[this._cardStyle]:!0}),{LoadingIcon:a,ReloadIcon:n,LinkedDocIcon:l,LinkedDocDeletedIcon:c,LinkedDocDeletedBanner:d,LinkedDocEmptyBanner:h,SyncedDocErrorBanner:u}=function(e,t){let i=im.Q.mode,s="vertical"!==t;return"page"===e?"light"===i?{LoadingIcon:nx,ReloadIcon:nP,LinkedDocIcon:nA,LinkedDocDeletedIcon:bO,LinkedDocEmptyBanner:s?bP:bH,LinkedDocDeletedBanner:s?bD:bj,SyncedDocErrorBanner:bE}:{ReloadIcon:nP,LoadingIcon:n_,LinkedDocIcon:nA,LinkedDocDeletedIcon:bO,LinkedDocEmptyBanner:s?bA:bL,LinkedDocDeletedBanner:s?bZ:bV,SyncedDocErrorBanner:bI}:"light"===i?{ReloadIcon:nP,LoadingIcon:nx,LinkedDocIcon:nH,LinkedDocDeletedIcon:bO,LinkedDocEmptyBanner:s?bR:bF,LinkedDocDeletedBanner:s?bq:bW,SyncedDocErrorBanner:bE}:{ReloadIcon:nP,LoadingIcon:n_,LinkedDocIcon:nH,LinkedDocDeletedIcon:bO,LinkedDocEmptyBanner:s?bz:bN,LinkedDocDeletedBanner:s?bU:bG,SyncedDocErrorBanner:bI}}(this._linkedDocMode,this._cardStyle),p=s?bC:i?a:t?c:l,f=s?e?.meta?.title||"Untitled":i?"Loading...":t?"Deleted doc":e?.meta?.title||"Untitled",g=s||i||t||o,m=s?"This linked doc failed to load.":i?"":t?"This linked doc is deleted.":o?"Preview of the doc will be displayed here.":"",v="cube"===this._cardStyle?this._docUpdatedAt.toLocaleTimeString():this._docUpdatedAt.toLocaleString(),y=s||i||t||o,b=s?u:i?h:t?d:h;return this.renderEmbed(()=>(0,H.qy)`
        <div>
          <div
            class="affine-embed-linked-doc-block ${r}"
            @click=${this._handleClick}
            @dblclick=${this._handleDoubleClick}
          >
            <div class="affine-embed-linked-doc-content">
              <div class="affine-embed-linked-doc-content-title">
                <div class="affine-embed-linked-doc-content-title-icon">
                  ${p}
                </div>

                <div class="affine-embed-linked-doc-content-title-text">
                  ${f}
                </div>
              </div>

              <div class="affine-embed-linked-doc-content-note render"></div>
              ${g?(0,H.qy)`<div
                    class="affine-embed-linked-doc-content-note default"
                  >
                    ${m}
                  </div>`:H.s6}
              ${s?(0,H.qy)`
                    <div class="affine-embed-linked-doc-card-content-reload">
                      <div
                        class="affine-embed-linked-doc-card-content-reload-button"
                        @click=${this.refreshData}
                      >
                        ${n} <span>Reload</span>
                      </div>
                    </div>
                  `:(0,H.qy)`
                    <div class="affine-embed-linked-doc-content-date">
                      <span>Updated</span>

                      <span>${v}</span>
                    </div>
                  `}
            </div>

            <div class="affine-embed-linked-doc-banner render"></div>

            ${y?(0,H.qy)`
                  <div class="affine-embed-linked-doc-banner default">
                    ${b}
                  </div>
                `:H.s6}
            <div class="affine-embed-linked-doc-block-overlay"></div>
          </div>
        </div>
      `)}updated(){let e=this.linkedDoc,{xywh:t,style:i}=this.model,s=m.z.deserialize(t);e&&"horizontalThin"===i?(s.w=fA.Cd.horizontal,s.h=fA.Hn.horizontal,this.doc.withoutTransact(()=>{this.doc.updateBlock(this.model,{xywh:s.serialize(),style:"horizontal"})})):e||"horizontal"!==i||(s.w=fA.Cd.horizontalThin,s.h=fA.Hn.horizontalThin,this.doc.withoutTransact(()=>{this.doc.updateBlock(this.model,{xywh:s.serialize(),style:"horizontalThin"})}))}get config(){return this.std.spec.getConfig("affine:embed-linked-doc")||{}}get docTitle(){return this.linkedDoc?.meta?.title.length?this.linkedDoc.meta.title:"Untitled"}get editorMode(){return this._linkedDocMode}get linkedDoc(){return this.std.collection.getDoc(this.model.pageId)}#sh;get _docUpdatedAt(){return this.#sh}set _docUpdatedAt(e){this.#sh=e}#su;get _linkedDocMode(){return this.#su}set _linkedDocMode(e){this.#su=e}#i8;get _loading(){return this.#i8}set _loading(e){this.#i8=e}#sp;get bannerContainer(){return this.#sp}set bannerContainer(e){this.#sp=e}#sf;get isBannerEmpty(){return this.#sf}set isBannerEmpty(e){this.#sf=e}#sg;get isError(){return this.#sg}set isError(e){this.#sg=e}#sm;get isNoteContentEmpty(){return this.#sm}set isNoteContentEmpty(e){this.#sm=e}#sv;get noteContainer(){return this.#sv}set noteContainer(e){this.#sv=e}#sy;get surfaceRefRenderer(){return this.#sy}set surfaceRefRenderer(e){this.#sy=e}#sb;get surfaceRefService(){return this.#sb}set surfaceRefService(e){this.#sb=e}constructor(){super(...arguments),this._cardStyle="horizontal",this._height=fA.Hn.horizontal,this._load=async()=>{this._loading=!0,this.isError=!1,this.isNoteContentEmpty=!0,this.isBannerEmpty=!0;let e=this.linkedDoc;if(!e){this._loading=!1;return}if(!e.loaded)try{e.load()}catch(e){console.error(e),this.isError=!0}if(this.isError||e.root||await new Promise(t=>{e.slots.rootAdded.once(()=>{t()})}),this._loading=!1,!this.isError){let e=this.model.style;("horizontal"===e||"vertical"===e)&&m9(this)}},this._selectBlock=()=>{let e=this.host.selection,t=e.create("block",{blockId:this.blockId});e.setGroup("note",[t])},this._setDocUpdatedAt=()=>{let e=this.doc.collection.meta.getDocMeta(this.model.pageId);if(e){let t=e.updatedDate||e.createDate;this._docUpdatedAt=new Date(t)}},this._width=fA.Cd.horizontal,this.cleanUpSurfaceRefRenderer=()=>{this.surfaceRefRenderer&&this.surfaceRefService.removeRenderer(this.surfaceRefRenderer.id)},this.convertToEmbed=()=>{let{id:e,doc:t,pageId:i,caption:s,xywh:o}=this.model;if(t.awarenessStore.getFlag("enable_synced_doc_block")){if(this.isInSurface){let t="syncedDoc",r=m.z.deserialize(o);r.w=fA.Cd[t],r.h=fA.Hn[t];let a=this.rootService;if(!a)return;let n=a.addBlock("affine:embed-synced-doc",{pageId:i,xywh:r.serialize(),caption:s},a.surface);this.std.command.exec("reassociateConnectors",{oldId:e,newId:n}),a.selection.set({editing:!1,elements:[n]})}else{let e=t.getParent(this.model);(0,V.Z1)(e);let o=e.children.indexOf(this.model);t.addBlock("affine:embed-synced-doc",{pageId:i,caption:s},e,o),this.std.selection.setGroup("note",[])}t.deleteBlock(this.model)}},this.covertToInline=()=>{let{doc:e,pageId:t}=this.model,i=e.getParent(this.model);(0,V.Z1)(i);let s=i.children.indexOf(this.model),o=new v.rl.Y.Text;o.insert(0," "),o.format(0,1,{reference:{type:"LinkedPage",pageId:t}});let r=new e.Text(o);e.addBlock("affine:paragraph",{text:r},i,s),e.deleteBlock(this.model)},this.open=()=>{let e=this.model.pageId;if(e===this.doc.id)return;let t=this.std.view.viewFromPath("block",[this.doc.root?.id??""]);(0,V.Z1)(t),t.slots.docLinkClicked.emit({docId:e})},this.refreshData=()=>{this._load().catch(e=>{console.error(e),this.isError=!0})},this.#sh=bK(this,g,new Date),this.#su=(bK(this,y),bK(this,b,"page")),this.#i8=(bK(this,w),bK(this,x,!1)),this.#sp=(bK(this,_),bK(this,C,void 0)),this.#sf=(bK(this,k),bK(this,S,!1)),this.#sg=(bK(this,M),bK(this,E,!1)),this.#sm=(bK(this,I),bK(this,B,!1)),this.#sv=(bK(this,$),bK(this,T,void 0)),this.#sy=(bK(this,O),bK(this,P,void 0)),this.#sb=(bK(this,A),bK(this,D,void 0)),bK(this,Z)}static{bK(t,p)}},t})();i(3714);let bQ=(e,t)=>{let i=e.std.spec.getService("affine:page");(0,V.Z1)(i),t({insertedLinkType:i.insertLinkByQuickSearch(e.userInput,e.skipSelection)})};class bJ extends P.ps{constructor(){super(...arguments),this.slots={linkedDocCreated:new v.DX}}mounted(){super.mounted(),this.std.command.add("insertLinkByQuickSearch",bQ)}}let b1={schema:i(55012).V,view:{component:(0,ic.eu)`affine-embed-linked-doc-block`},service:bJ};(0,A.lQ)(bX);var b0=i(88680);let b2=(0,H.AH)`
  .affine-embed-loom-block {
    margin: 0 auto;
    box-sizing: border-box;
    width: 100%;
    height: ${fA.Hn.video}px;
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 12px;

    border-radius: 8px;
    border: 1px solid var(--affine-background-tertiary-color);

    opacity: var(--add, 1);
    background: var(--affine-background-primary-color);
    user-select: none;
  }

  .affine-embed-loom-video {
    width: 100%;
    height: 100%;
    opacity: var(--add, 1);
  }

  .affine-embed-loom-video img,
  .affine-embed-loom-video object,
  .affine-embed-loom-video svg {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 4px 4px var(--1, 0px) var(--1, 0px);
  }

  .affine-embed-loom-video-iframe-container {
    position: relative;
  }

  .affine-embed-loom-video-iframe-container > iframe {
    width: 100%;
    height: 410px;
    border-radius: 4px 4px var(--1, 0px) var(--1, 0px);
  }

  .affine-embed-loom-video-iframe-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .affine-embed-loom-video-iframe-overlay.hide {
    display: none;
  }

  .affine-embed-loom-content {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100%;
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
  }

  .affine-embed-loom-content-header {
    display: flex;
    flex-direction: row;
    gap: 8px;
    align-items: center;

    align-self: stretch;
    padding: var(--1, 0px);
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
  }

  .affine-embed-loom-content-title-icon {
    display: flex;
    width: 20px;
    height: 20px;
    justify-content: center;
    align-items: center;
  }

  .affine-embed-loom-content-title-icon img,
  .affine-embed-loom-content-title-icon object,
  .affine-embed-loom-content-title-icon svg {
    width: 20px;
    height: 20px;
    fill: var(--affine-background-primary-color);
  }

  .affine-embed-loom-content-title-text {
    flex: 1 0 0;

    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;

    word-break: break-word;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-primary-color);

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-sm);
    font-style: normal;
    font-weight: 600;
    line-height: 22px;
  }

  .affine-embed-loom-content-description {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;

    flex: 1 0 0;
    align-self: stretch;

    word-break: break-word;
    white-space: normal;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-primary-color);

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }

  .affine-embed-loom-content-url {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 4px;
    width: max-content;
    max-width: 100%;
    cursor: pointer;
  }
  .affine-embed-loom-content-url > span {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;

    word-break: break-all;
    white-space: normal;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-secondary-color);

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }
  .affine-embed-loom-content-url:hover > span {
    color: var(--affine-link-color);
  }
  .affine-embed-loom-content-url:hover .open-icon {
    fill: var(--affine-link-color);
  }

  .affine-embed-loom-content-url-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 12px;
    height: 12px;
  }
  .affine-embed-loom-content-url-icon .open-icon {
    height: 12px;
    width: 12px;
    fill: var(--affine-text-secondary-color);
  }

  .affine-embed-loom-block.loading {
    .affine-embed-loom-content-title-text {
      color: var(--affine-placeholder-color);
    }
  }

  .affine-embed-loom-block.selected {
    .affine-embed-loom-content-url > span {
      color: var(--affine-link-color);
    }
    .affine-embed-loom-content-url .open-icon {
      fill: var(--affine-link-color);
    }
  }
`,b5=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_1780_25276)">
    <path
      d="M18.3333 9.07327H13.4597L17.6805 6.63642L16.7536 5.03052L12.5328 7.46736L14.9691 3.24695L13.3632 2.3195L10.9269 6.5399V1.66669H9.073V6.54037L6.63577 2.3195L5.03036 3.24648L7.46713 7.4669L3.24638 5.03052L2.31942 6.63596L6.54017 9.07281H1.66663V10.9268H6.53971L2.31942 13.3636L3.24638 14.9695L7.46667 12.5331L5.0299 16.7535L6.63577 17.6805L9.07254 13.4597V18.3334H10.9265V13.4601L13.3628 17.6805L14.9686 16.7535L12.5319 12.5327L16.7526 14.9695L17.6796 13.3636L13.4593 10.9272H18.3323V9.07327H18.3333ZM9.99996 12.5215C8.60206 12.5215 7.469 11.3884 7.469 9.99047C7.469 8.59253 8.60206 7.45943 9.99996 7.45943C11.3979 7.45943 12.5309 8.59253 12.5309 9.99047C12.5309 11.3884 11.3979 12.5215 9.99996 12.5215Z"
      fill="#625DF5"
    />
  </g>
  <defs>
    <clipPath id="clip0_1780_25276">
      <rect width="20" height="20" fill="white" />
    </clipPath>
  </defs>
</svg>`;async function b7(e,t){let i=e.url;return await b3(i,t)}async function b3(e,t){let i={},s=`https://www.loom.com/v1/oembed?url=${e}`,o=await fetch(s,{signal:t}).catch(()=>null);if(o&&o.ok){let{title:e,description:t,thumbnail_url:s}=await o.json();i={title:e,description:t,image:s}}return i}async function b4(e,t){let i=null,s=null,o=null;try{e.loading=!0;let r=e.service?.queryUrlData;(0,V.Z1)(r);let a=await r(e.model);if({title:i=null,description:s=null,image:o=null}=a,t?.aborted)return;e.doc.updateBlock(e.model,{title:i,description:s,image:o})}catch(e){if(t?.aborted||(0,yJ.z)(e))return}finally{e.loading=!1}}var b6=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},b8=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let b9=(()=>{let e,t,i,s,o,r=[(0,L.EM)("affine-embed-loom-block")],a=[],n=y6,l=[],c=[],d=[],h=[],u=[],p=[];return class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.MZ)({attribute:!1})],b6(this,null,i,{kind:"accessor",name:"_isSelected",static:!1,private:!1,access:{has:e=>"_isSelected"in e,get:e=>e._isSelected,set:(e,t)=>{e._isSelected=t}},metadata:f},l,c),b6(this,null,s,{kind:"accessor",name:"_showOverlay",static:!1,private:!1,access:{has:e=>"_showOverlay"in e,get:e=>e._showOverlay,set:(e,t)=>{e._showOverlay=t}},metadata:f},d,h),b6(this,null,o,{kind:"accessor",name:"loading",static:!1,private:!1,access:{has:e=>"loading"in e,get:e=>e.loading,set:(e,t)=>{e.loading=t}},metadata:f},u,p),b6(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=b2}_handleClick(e){e.stopPropagation(),this.isInSurface||this._selectBlock()}_handleDoubleClick(e){e.stopPropagation(),this.open()}_selectBlock(){let e=this.host.selection,t=e.create("block",{blockId:this.blockId});e.setGroup("note",[t])}connectedCallback(){super.connectedCallback(),this.model.videoId||this.doc.withoutTransact(()=>{let e=this.model.url.match(b0.kn);if(e){let[,t]=e;this.doc.updateBlock(this.model,{videoId:t})}}),this.model.description||this.model.title||this.doc.withoutTransact(()=>{this.refreshData()}),this.disposables.add(this.model.propsUpdated.on(({key:e})=>{this.requestUpdate(),"url"===e&&this.refreshData()})),this.disposables.add(this.std.selection.slots.changed.on(()=>{this._isSelected=!!this.selected?.is("block")||!!this.selected?.is("surface"),this._showOverlay=this._isResizing||this._isDragging||!this._isSelected})),this.handleEvent("dragStart",()=>{this._isDragging=!0,this._showOverlay=this._isResizing||this._isDragging||!this._isSelected}),this.handleEvent("dragEnd",()=>{this._isDragging=!1,this._showOverlay=this._isResizing||this._isDragging||!this._isSelected}),this.isInSurface&&(this.disposables.add(this.model.propsUpdated.on(()=>{this.requestUpdate()})),this.rootService?.slots.elementResizeStart.on(()=>{this._isResizing=!0,this._showOverlay=!0}),this.rootService?.slots.elementResizeEnd.on(()=>{this._isResizing=!1,this._showOverlay=this._isResizing||this._isDragging||!this._isSelected}))}renderBlock(){let{image:e,title:t="Loom",description:i,videoId:s,style:o}=this.model;this._cardStyle=o,this._width=fA.Cd[this._cardStyle],this._height=fA.Hn[this._cardStyle];let r=this.loading,{LoadingIcon:a,EmbedCardBannerIcon:n}=nF(),l=r?a:b5,c=r?"Loading...":t,d=r?"":i,h=!r&&e?(0,H.qy)`<object type="image/webp" data=${e} draggable="false">
            ${n}
          </object>`:n;return this.renderEmbed(()=>(0,H.qy)`
        <div>
          <div
            class=${(0,oJ.H)({"affine-embed-loom-block":!0,loading:r,selected:this._isSelected})}
            @click=${this._handleClick}
            @dblclick=${this._handleDoubleClick}
          >
            <div class="affine-embed-loom-video">
              ${s?(0,H.qy)`
                    <div class="affine-embed-loom-video-iframe-container">
                      <iframe
                        src=${`https://www.loom.com/embed/${s}?hide_title=true`}
                        frameborder="0"
                        allow="fullscreen; accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                      ></iframe>

                      <div
                        class=${(0,oJ.H)({"affine-embed-loom-video-iframe-overlay":!0,hide:!this._showOverlay})}
                      ></div>
                    </div>
                  `:h}
            </div>
            <div class="affine-embed-loom-content">
              <div class="affine-embed-loom-content-header">
                <div class="affine-embed-loom-content-title-icon">
                  ${l}
                </div>

                <div class="affine-embed-loom-content-title-text">
                  ${c}
                </div>
              </div>

              <div class="affine-embed-loom-content-description">
                ${d}
              </div>

              <div class="affine-embed-loom-content-url" @click=${this.open}>
                <span>loom.com</span>

                <div class="affine-embed-loom-content-url-icon">
                  ${aY}
                </div>
              </div>
            </div>
          </div>
        </div>
      `)}#so;get _isSelected(){return this.#so}set _isSelected(e){this.#so=e}#sd;get _showOverlay(){return this.#sd}set _showOverlay(e){this.#sd=e}#sn;get loading(){return this.#sn}set loading(e){this.#sn=e}constructor(){super(...arguments),this._cardStyle="video",this._isDragging=!1,this._isResizing=!1,this.open=()=>{let e=this.model.url;e.match(/^[a-zA-Z]+:\/\//)||(e="https://"+e),window.open(e,"_blank")},this.refreshData=()=>{b4(this,this.fetchAbortController.signal).catch(console.error)},this.#so=b8(this,l,!1),this.#sd=(b8(this,c),b8(this,d,!0)),this.#sn=(b8(this,h),b8(this,u,!1)),b8(this,p)}static{b8(t,a)}},t})();var we=i(53010),wt=i(91705),wi=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ws=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l,c,d=[(0,L.EM)("affine-embed-synced-doc-card")],h=[],u=(0,P.Tm)(P.ao),p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[];(class extends u{static{t=this}static{let B="function"==typeof Symbol&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;i=[(0,L.nJ)(".affine-embed-synced-doc-card-banner.render")],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.nJ)(".affine-embed-synced-doc-content-note.render")],l=[(0,L.MZ)({attribute:!1})],c=[(0,L.MZ)({attribute:!1})],wi(this,null,i,{kind:"accessor",name:"bannerContainer",static:!1,private:!1,access:{has:e=>"bannerContainer"in e,get:e=>e.bannerContainer,set:(e,t)=>{e.bannerContainer=t}},metadata:B},p,f),wi(this,null,s,{kind:"accessor",name:"block",static:!1,private:!1,access:{has:e=>"block"in e,get:e=>e.block,set:(e,t)=>{e.block=t}},metadata:B},g,m),wi(this,null,o,{kind:"accessor",name:"isBannerEmpty",static:!1,private:!1,access:{has:e=>"isBannerEmpty"in e,get:e=>e.isBannerEmpty,set:(e,t)=>{e.isBannerEmpty=t}},metadata:B},v,y),wi(this,null,r,{kind:"accessor",name:"isError",static:!1,private:!1,access:{has:e=>"isError"in e,get:e=>e.isError,set:(e,t)=>{e.isError=t}},metadata:B},b,w),wi(this,null,a,{kind:"accessor",name:"isNoteContentEmpty",static:!1,private:!1,access:{has:e=>"isNoteContentEmpty"in e,get:e=>e.isNoteContentEmpty,set:(e,t)=>{e.isNoteContentEmpty=t}},metadata:B},x,_),wi(this,null,n,{kind:"accessor",name:"noteContainer",static:!1,private:!1,access:{has:e=>"noteContainer"in e,get:e=>e.noteContainer,set:(e,t)=>{e.noteContainer=t}},metadata:B},C,k),wi(this,null,l,{kind:"accessor",name:"surfaceRefRenderer",static:!1,private:!1,access:{has:e=>"surfaceRefRenderer"in e,get:e=>e.surfaceRefRenderer,set:(e,t)=>{e.surfaceRefRenderer=t}},metadata:B},S,M),wi(this,null,c,{kind:"accessor",name:"surfaceRefService",static:!1,private:!1,access:{has:e=>"surfaceRefService"in e,get:e=>e.surfaceRefService,set:(e,t)=>{e.surfaceRefService=t}},metadata:B},E,I),wi(null,e={value:t},d,{kind:"class",name:t.name,metadata:B},null,h),t=e.value,B&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:B})}static{this.styles=b_}_handleClick(e){e.stopPropagation(),this.block.isInSurface||this._selectBlock()}_isDocEmpty(){let e=this.block.syncedDoc;return!!e&&!!e&&!e.meta?.title.length&&this.isNoteContentEmpty&&this.isBannerEmpty}_selectBlock(){let e=this.host.selection,t=e.create("block",{blockId:this.block.blockId});e.setGroup("note",[t])}connectedCallback(){super.connectedCallback(),this.block.handleEvent("dragStart",()=>{this._dragging=!0},{global:!0}),this.block.handleEvent("dragEnd",()=>{this._dragging=!1},{global:!0});let{isCycle:e}=this.block.blockState,t=this.block.syncedDoc;e&&t&&(t.root?m9(this):t.slots.rootAdded.once(()=>{m9(this)}),this.disposables.add(t.collection.meta.docMetaUpdated.on(()=>{m9(this)})),this.disposables.add(t.slots.blockUpdated.on(e=>{this._dragging||"update"===e.type&&["","caption","xywh"].includes(e.props.key)||m9(this)})))}disconnectedCallback(){super.disconnectedCallback(),this.cleanUpSurfaceRefRenderer()}render(){var e;let{isLoading:t,isDeleted:i,isError:s,isCycle:o}=this.blockState,r=this.isError||s,a=this._isDocEmpty()&&this.isBannerEmpty,n=(0,oJ.H)({loading:t,error:r,deleted:i,cycle:o,surface:this.block.isInSurface,empty:a,"banner-empty":this.isBannerEmpty,"note-empty":this.isNoteContentEmpty}),{LoadingIcon:l,SyncedDocIcon:c,SyncedDocErrorIcon:d,SyncedDocDeletedIcon:h,ReloadIcon:u,SyncedDocEmptyBanner:p,SyncedDocErrorBanner:f,SyncedDocDeletedBanner:g}=(e=this.editorMode,"light"===im.Q.mode?{LoadingIcon:nx,SyncedDocIcon:"page"===e?nA:nH,SyncedDocErrorIcon:bC,SyncedDocDeletedIcon:bk,ReloadIcon:nP,SyncedDocEmptyBanner:bS,SyncedDocErrorBanner:bE,SyncedDocDeletedBanner:bB}:{LoadingIcon:n_,SyncedDocIcon:"page"===e?nA:nH,SyncedDocErrorIcon:bC,SyncedDocDeletedIcon:bk,ReloadIcon:nP,SyncedDocEmptyBanner:bM,SyncedDocErrorBanner:bI,SyncedDocDeletedBanner:b$}),m=r?d:t?l:i?h:c,v=r?this.block.docTitle:t?"Loading...":i?"Deleted doc":this.block.docTitle,y=t||r||i||a,b=r?"This linked doc failed to load.":t?"":i?"This linked doc is deleted.":a?"Preview of the page will be displayed here.":"",w=this.block.docUpdatedAt.toLocaleString(),x=t||r||i||a,_=t?p:r?f:i?g:p;return(0,H.qy)`
      <div
        class="affine-embed-synced-doc-card ${n}"
        @click=${this._handleClick}
      >
        <div class="affine-embed-synced-doc-card-content">
          <div class="affine-embed-synced-doc-card-content-title">
            <div class="affine-embed-synced-doc-card-content-title-icon">
              ${m}
            </div>

            <div class="affine-embed-synced-doc-card-content-title-text">
              ${v}
            </div>
          </div>

          ${y?(0,H.qy)`<div class="affine-embed-synced-doc-content-note default">
                ${b}
              </div>`:H.s6}
          <div class="affine-embed-synced-doc-content-note render"></div>

          ${r?(0,H.qy)`
                <div class="affine-embed-synced-doc-card-content-reload">
                  <div
                    class="affine-embed-synced-doc-card-content-reload-button"
                    @click=${()=>this.block.refreshData()}
                  >
                    ${u} <span>Reload</span>
                  </div>
                </div>
              `:(0,H.qy)`
                <div class="affine-embed-synced-doc-card-content-date">
                  <span>Updated</span>

                  <span>${w}</span>
                </div>
              `}
        </div>

        <div class="affine-embed-synced-doc-card-banner render"></div>

        ${x?(0,H.qy)`
              <div class="affine-embed-synced-doc-card-banner default">
                ${_}
              </div>
            `:H.s6}
      </div>
    `}get blockState(){return this.block.blockState}get editorMode(){return this.block.editorMode}get host(){return this.block.host}get linkedDoc(){return this.block.syncedDoc}get model(){return this.block.model}get path(){return this.block.path}get std(){return this.block.std}#sp;get bannerContainer(){return this.#sp}set bannerContainer(e){this.#sp=e}#e$;get block(){return this.#e$}set block(e){this.#e$=e}#sf;get isBannerEmpty(){return this.#sf}set isBannerEmpty(e){this.#sf=e}#sg;get isError(){return this.#sg}set isError(e){this.#sg=e}#sm;get isNoteContentEmpty(){return this.#sm}set isNoteContentEmpty(e){this.#sm=e}#sv;get noteContainer(){return this.#sv}set noteContainer(e){this.#sv=e}#sy;get surfaceRefRenderer(){return this.#sy}set surfaceRefRenderer(e){this.#sy=e}#sb;get surfaceRefService(){return this.#sb}set surfaceRefService(e){this.#sb=e}constructor(){super(...arguments),this._dragging=!1,this.cleanUpSurfaceRefRenderer=()=>{this.surfaceRefRenderer&&this.surfaceRefService.removeRenderer(this.surfaceRefRenderer.id)},this.#sp=ws(this,p,void 0),this.#e$=(ws(this,f),ws(this,g,void 0)),this.#sf=(ws(this,m),ws(this,v,!1)),this.#sg=(ws(this,y),ws(this,b,!1)),this.#sm=(ws(this,w),ws(this,x,!1)),this.#sv=(ws(this,_),ws(this,C,void 0)),this.#sy=(ws(this,k),ws(this,S,null)),this.#sb=(ws(this,M),ws(this,E,void 0)),ws(this,I)}static{ws(t,h)}})})();var wo=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},wr=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let wa=(()=>{let e,t,i,s,o,r,a,n,l,c,d,h,u=[(0,L.EM)("affine-embed-synced-doc-block"),lq({enableOn:({doc:e})=>!e.readonly})],p=[],f=y6,g=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[],O=[],P=[],A=[],D=[],j=[];return class extends f{static{t=this}constructor(){super(...arguments),this._buildPreviewSpec=e=>{let t=this.depth+1,i=m0.getInstance().getSpec(e),s=this.disposables;return i.setup("affine:embed-synced-doc",(e,i)=>{i.add(e.viewConnected.on(({component:e})=>{e.depth=t,s.add(()=>{e.depth=0})})),i.add(e.viewDisconnected.on(({component:e})=>{e.depth=0}))}),i.value},this._initEdgelessFitEffect=()=>{let e=()=>{let{_syncedDocMode:e}=this;if("edgeless"!==e)return;let t=this.syncedDocEditorHost?.std.spec.getService("affine:page");t&&(t.viewport.onResize(),t.zoomToFit())},t=new ResizeObserver(e),i=this.embedBlock;t.observe(i),this._disposables.add(()=>{t.disconnect()}),this.syncedDocEditorHost?.updateComplete.then(()=>{e()}).catch(()=>{})},this._pageFilter={mode:"loose",match:[{flavour:"affine:note",props:{displayMode:q.ko.EdgelessOnly},viewType:v.lv.Hidden}]},this._renderSyncedView=()=>{let e=this.syncedDoc,t=this.isInSurface,i=this._syncedDocMode;(0,V.Z1)(e),this.isPageMode&&!this.isInSurface&&(this.style.width="calc(100% + 48px)",this.style.marginLeft="-24px",this.style.marginRight="-24px");let s=(0,Z.W)({position:"relative",width:"100%"});if(t){let e=this.model.scale??1,t=m.z.deserialize((this.rootService?.getElementById(this.model.id)??this.model).xywh),i=t.w/e,o=t.h/e;s=(0,Z.W)({width:`${i}px`,height:`${o}px`,minHeight:`${o}px`,transform:`scale(${e})`,transformOrigin:"0 0"})}let o=im.Q.mode,r=!!this.selected?.is("block"),a=t?this.model.scale??1:void 0;this.dataset.nestedEditor="";let n=()=>(0,we.S)(i,[["page",()=>(0,H.qy)`
            <div class="affine-page-viewport">
              ${this.host.renderSpecPortal(e,this._buildPreviewSpec("page:preview"))}
            </div>
          `],["edgeless",()=>(0,H.qy)`
            <div class="affine-edgeless-viewport">
              ${this.host.renderSpecPortal(e,this._buildPreviewSpec("edgeless:preview"))}
            </div>
          `]]),l=this.isPageMode?nA:nH;return this.renderEmbed(()=>(0,H.qy)`
        <div
          class=${(0,oJ.H)({"affine-embed-synced-doc-container":!0,[i]:!0,[o]:!0,selected:r,surface:t})}
          @click=${this._handleClick}
          style=${s}
          ?data-scale=${a}
        >
          <div class="affine-embed-synced-doc-editor">
            ${this.isPageMode&&this._isEmptySyncedDoc?(0,H.qy)`
                  <div class="affine-embed-synced-doc-editor-empty">
                    <span>
                      This is a linked doc, you can add content here.
                    </span>
                  </div>
                `:(0,wt.a)([i,e],n)}
          </div>
          ${t?H.s6:(0,H.qy)`
                <div
                  class=${(0,oJ.H)({"affine-embed-synced-doc-header-wrapper":!0,selected:r})}
                >
                  <div class="affine-embed-synced-doc-header">
                    ${l}
                    <span class="affine-embed-synced-doc-title">
                      ${this.docTitle}
                    </span>
                  </div>
                </div>
              `}
          ${t?(0,H.qy)` <div class="affine-embed-synced-doc-editor-overlay"></div> `:H.s6}
        </div>
      `)},this.convertToCard=()=>{let{id:e,doc:t,pageId:i,caption:s,xywh:o}=this.model;if(this.isInSurface){let t="vertical",r=m.z.deserialize(o);r.w=fA.Cd[t],r.h=fA.Hn[t];let a=this.rootService;if(!a)return;let n=a.addBlock("affine:embed-linked-doc",{pageId:i,xywh:r.serialize(),style:t,caption:s},a.surface);this.std.command.exec("reassociateConnectors",{oldId:e,newId:n}),a.selection.set({editing:!1,elements:[n]})}else{let e=t.getParent(this.model);(0,V.Z1)(e);let o=e.children.indexOf(this.model);t.addBlock("affine:embed-linked-doc",{pageId:i,caption:s},e,o),this.std.selection.setGroup("note",[])}t.deleteBlock(this.model)},this.covertToInline=()=>{let{doc:e,pageId:t}=this.model,i=e.getParent(this.model);(0,V.Z1)(i);let s=i.children.indexOf(this.model),o=new v.rl.Y.Text;o.insert(0," "),o.format(0,1,{reference:{type:"LinkedPage",pageId:t}});let r=new e.Text(o);e.addBlock("affine:paragraph",{text:r},i,s),e.deleteBlock(this.model)},this.open=()=>{let e=this.model.pageId;if(e===this.doc.id)return;let t=this.std.view.viewFromPath("block",[this.doc.root?.id??""]);(0,V.Z1)(t),t.slots.docLinkClicked.emit({docId:e})},this.refreshData=()=>{this._load().catch(e=>{console.error(e),this._error=!0})},this.#sw=wr(this,g,!1),this.#sx=(wr(this,y),wr(this,b,!1)),this.#sh=(wr(this,w),wr(this,x,new Date)),this.#s_=(wr(this,_),wr(this,C,!1)),this.#sC=(wr(this,k),wr(this,S,!0)),this.#i8=(wr(this,M),wr(this,E,!1)),this.#sk=(wr(this,I),wr(this,B,"page")),this.#is=(wr(this,$),wr(this,T,0)),this.#sS=(wr(this,O),wr(this,P,null)),this.#sM=(wr(this,A),wr(this,D,null)),this.#eZ=(wr(this,j),!1)}static{let m="function"==typeof Symbol&&Symbol.metadata?Object.create(f[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.wk)()],r=[(0,L.wk)()],a=[(0,L.wk)()],n=[(0,L.wk)()],l=[(0,L.wk)()],c=[(0,L.wk)()],d=[(0,L.P)(":scope > .affine-block-component > .embed-block-container > affine-embed-synced-doc-card")],h=[(0,L.P)(":scope > .affine-block-component > .embed-block-container > .affine-embed-synced-doc-container > .affine-embed-synced-doc-editor > div > editor-host")],wo(this,null,i,{kind:"accessor",name:"_cycle",static:!1,private:!1,access:{has:e=>"_cycle"in e,get:e=>e._cycle,set:(e,t)=>{e._cycle=t}},metadata:m},g,y),wo(this,null,s,{kind:"accessor",name:"_deleted",static:!1,private:!1,access:{has:e=>"_deleted"in e,get:e=>e._deleted,set:(e,t)=>{e._deleted=t}},metadata:m},b,w),wo(this,null,o,{kind:"accessor",name:"_docUpdatedAt",static:!1,private:!1,access:{has:e=>"_docUpdatedAt"in e,get:e=>e._docUpdatedAt,set:(e,t)=>{e._docUpdatedAt=t}},metadata:m},x,_),wo(this,null,r,{kind:"accessor",name:"_error",static:!1,private:!1,access:{has:e=>"_error"in e,get:e=>e._error,set:(e,t)=>{e._error=t}},metadata:m},C,k),wo(this,null,a,{kind:"accessor",name:"_isEmptySyncedDoc",static:!1,private:!1,access:{has:e=>"_isEmptySyncedDoc"in e,get:e=>e._isEmptySyncedDoc,set:(e,t)=>{e._isEmptySyncedDoc=t}},metadata:m},S,M),wo(this,null,n,{kind:"accessor",name:"_loading",static:!1,private:!1,access:{has:e=>"_loading"in e,get:e=>e._loading,set:(e,t)=>{e._loading=t}},metadata:m},E,I),wo(this,null,l,{kind:"accessor",name:"_syncedDocMode",static:!1,private:!1,access:{has:e=>"_syncedDocMode"in e,get:e=>e._syncedDocMode,set:(e,t)=>{e._syncedDocMode=t}},metadata:m},B,$),wo(this,null,c,{kind:"accessor",name:"depth",static:!1,private:!1,access:{has:e=>"depth"in e,get:e=>e.depth,set:(e,t)=>{e.depth=t}},metadata:m},T,O),wo(this,null,d,{kind:"accessor",name:"syncedDocCard",static:!1,private:!1,access:{has:e=>"syncedDocCard"in e,get:e=>e.syncedDocCard,set:(e,t)=>{e.syncedDocCard=t}},metadata:m},P,A),wo(this,null,h,{kind:"accessor",name:"syncedDocEditorHost",static:!1,private:!1,access:{has:e=>"syncedDocEditorHost"in e,get:e=>e.syncedDocEditorHost,set:(e,t)=>{e.syncedDocEditorHost=t}},metadata:m},D,j),wo(null,e={value:t},u,{kind:"class",name:t.name,metadata:m},null,p),t=e.value,m&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m})}static{this.styles=bx}_checkCycle(){let e=this.host;for(;e&&!this._cycle;)this._cycle=!!e&&e.doc.id===this.model.pageId,e=e.parentElement?.closest("editor-host")??null}_handleClick(e){this.isInSurface||this._selectBlock()}_isClickAtBorder(e,t,i=8){let{x:s,y:o}=e,r=t.getBoundingClientRect();return!!r&&(Math.abs(s-r.left)<i||Math.abs(s-r.right)<i||Math.abs(o-r.top)<i||Math.abs(o-r.bottom)<i)}async _load(){this._loading=!0,this._error=!1,this._deleted=!1,this._cycle=!1;let e=this.syncedDoc;if(!e){this._deleted=!0,this._loading=!1;return}if(this._checkCycle(),!e.loaded)try{e.load()}catch(e){console.error(e),this._error=!0}this._error||e.root||await new Promise(t=>{e.slots.rootAdded.once(()=>t())}),this._loading=!1}get _rootService(){return this.std.spec.getService("affine:page")}_selectBlock(){let e=this.host.selection,t=e.create("block",{blockId:this.blockId});e.setGroup("note",[t])}_setDocUpdatedAt(){let e=this.doc.collection.meta.getDocMeta(this.model.pageId);if(e){let t=e.updatedDate||e.createDate;this._docUpdatedAt=new Date(t)}}get isPageMode(){return"page"===this._syncedDocMode}connectedCallback(){super.connectedCallback(),this.style.display="block",this._load().catch(e=>{console.error(e),this._error=!0}),this.contentEditable="false",this.model.propsUpdated.on(({key:e})=>{("pageId"===e||"style"===e)&&this._load().catch(e=>{console.error(e),this._error=!0})}),this.isInSurface&&this.disposables.add(this.model.propsUpdated.on(()=>{this.requestUpdate()})),this._setDocUpdatedAt(),this.disposables.add(this.doc.collection.meta.docMetaUpdated.on(()=>{this._setDocUpdatedAt()})),this._syncedDocMode=this._rootService.docModeService.getMode(this.model.pageId),this._isEmptySyncedDoc=vt(this.syncedDoc,this._syncedDocMode),this.disposables.add(this._rootService.docModeService.onModeChange(e=>{this._syncedDocMode=e,this._isEmptySyncedDoc=vt(this.syncedDoc,e)},this.model.pageId)),this.syncedDoc&&this.disposables.add(this.syncedDoc.slots.blockUpdated.on(()=>{this._isEmptySyncedDoc=vt(this.syncedDoc,this._syncedDocMode)}))}firstUpdated(){this.disposables.addFromEvent(this,"click",e=>{e.stopPropagation(),this._isClickAtBorder(e,this)&&(e.preventDefault(),this._selectBlock())});let e=this.syncedDocEditorHost?.std.spec.getService("affine:page");e&&this.disposables.add(e.slots.docLinkClicked.on(({docId:e})=>{this._rootService.slots.docLinkClicked.emit({docId:e})})),this._initEdgelessFitEffect()}renderBlock(){delete this.dataset.nestedEditor;let{style:e,xywh:t}=this.model;this._cardStyle=e;let i=m.z.deserialize(t);this._width=this.isInSurface?i.w:fA.Cd[e],this._height=this.isInSurface?i.h:fA.Hn[e];let s=this.syncedDoc,{isLoading:o,isError:r,isDeleted:a,isCycle:n}=this.blockState,l=this.isInSurface,c=this.depth>=1;if(o||r||a||c||n||!s){let t=(0,Z.W)({position:"relative",display:"block",width:"100%"});if(l){let i=m.z.deserialize(this.model.xywh),s=i.w/fA.Cd[e],o=i.h/fA.Hn[e];t=(0,Z.W)({display:"block",width:`${fA.Cd[e]}px`,height:`${fA.Hn[e]}px`,transform:`scale(${s}, ${o})`,transformOrigin:"0 0"})}return this.renderEmbed(()=>(0,H.qy)`
          <affine-embed-synced-doc-card
            style=${t}
            .block=${this}
          ></affine-embed-synced-doc-card>
        `)}return this._renderSyncedView()}updated(e){super.updated(e),this.syncedDocCard?.requestUpdate()}get blockState(){return{isLoading:this._loading,isError:this._error,isDeleted:this._deleted,isCycle:this._cycle}}get docTitle(){return this.syncedDoc?.meta?.title.length?this.syncedDoc.meta.title:"Untitled"}get docUpdatedAt(){return this._docUpdatedAt}get editorMode(){return this._syncedDocMode}get syncedDoc(){return"page"===this._syncedDocMode?this.std.collection.getDoc(this.model.pageId,{readonly:!0,query:this._pageFilter}):this.std.collection.getDoc(this.model.pageId,{readonly:!0})}#sw;get _cycle(){return this.#sw}set _cycle(e){this.#sw=e}#sx;get _deleted(){return this.#sx}set _deleted(e){this.#sx=e}#sh;get _docUpdatedAt(){return this.#sh}set _docUpdatedAt(e){this.#sh=e}#s_;get _error(){return this.#s_}set _error(e){this.#s_=e}#sC;get _isEmptySyncedDoc(){return this.#sC}set _isEmptySyncedDoc(e){this.#sC=e}#i8;get _loading(){return this.#i8}set _loading(e){this.#i8=e}#sk;get _syncedDocMode(){return this.#sk}set _syncedDocMode(e){this.#sk=e}#is;get depth(){return this.#is}set depth(e){this.#is=e}#sS;get syncedDocCard(){return this.#sS}set syncedDocCard(e){this.#sS=e}#sM;get syncedDocEditorHost(){return this.#sM}set syncedDocEditorHost(e){this.#sM=e}#eZ;get useCaptionEditor(){return this.#eZ}set useCaptionEditor(e){this.#eZ=e}static{wr(t,p)}},t})();var wn=i(55708);let wl=(0,H.AH)`
  .affine-embed-youtube-block {
    margin: 0 auto;
    box-sizing: border-box;
    width: 100%;
    height: ${fA.Hn.video}px;
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 12px;

    border-radius: 8px;
    border: 1px solid var(--affine-background-tertiary-color);

    opacity: var(--add, 1);
    background: var(--affine-background-primary-color);
    user-select: none;
  }

  .affine-embed-youtube-video {
    width: 100%;
    height: 100%;
    opacity: var(--add, 1);
  }

  .affine-embed-youtube-video img,
  .affine-embed-youtube-video object,
  .affine-embed-youtube-video svg {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 4px 4px var(--1, 0px) var(--1, 0px);
  }

  .affine-embed-youtube-video-iframe-container {
    position: relative;
  }

  .affine-embed-youtube-video-iframe-container > iframe {
    width: 100%;
    height: 410px;
    border-radius: 4px 4px var(--1, 0px) var(--1, 0px);
  }

  .affine-embed-youtube-video-iframe-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .affine-embed-youtube-video-iframe-overlay.hide {
    display: none;
  }

  .affine-embed-youtube-content {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100%;
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
  }

  .affine-embed-youtube-content-header {
    display: flex;
    flex-direction: row;
    gap: 8px;
    align-items: center;

    align-self: stretch;
    padding: var(--1, 0px);
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
  }

  .affine-embed-youtube-content-title-icon {
    display: flex;
    width: 20px;
    height: 20px;
    justify-content: center;
    align-items: center;
  }

  .affine-embed-youtube-content-title-icon img,
  .affine-embed-youtube-content-title-icon object,
  .affine-embed-youtube-content-title-icon svg {
    width: 20px;
    height: 20px;
    fill: var(--affine-background-primary-color);
  }

  .affine-embed-youtube-content-title-text {
    flex: 1 0 0;

    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;

    word-break: break-word;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-primary-color);

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-sm);
    font-style: normal;
    font-weight: 600;
    line-height: 22px;
  }

  .affine-embed-youtube-content-creator-image {
    display: flex;
    width: 16px;
    height: 16px;
    flex-direction: column;
    align-items: flex-start;
  }

  .affine-embed-youtube-content-creator-image img,
  .affine-embed-youtube-content-creator-image object,
  .affine-embed-youtube-content-creator-image svg {
    width: 16px;
    height: 16px;
    border-radius: 50%;
    fill: var(--affine-background-primary-color);
  }

  .affine-embed-youtube-content-creator-text {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;

    color: var(--affine-text-primary-color);
    text-align: justify;
    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }

  .affine-embed-youtube-content-description {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;

    flex: 1 0 0;
    align-self: stretch;

    word-break: break-word;
    white-space: normal;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-primary-color);

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }

  .affine-embed-youtube-content-url {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 4px;
    width: max-content;
    max-width: 100%;
    cursor: pointer;
  }
  .affine-embed-youtube-content-url > span {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;

    word-break: break-all;
    white-space: normal;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-secondary-color);

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }
  .affine-embed-youtube-content-url:hover > span {
    color: var(--affine-link-color);
  }
  .affine-embed-youtube-content-url:hover .open-icon {
    fill: var(--affine-link-color);
  }

  .affine-embed-youtube-content-url-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 12px;
    height: 12px;
  }
  .affine-embed-youtube-content-url-icon .open-icon {
    height: 12px;
    width: 12px;
    fill: var(--affine-text-secondary-color);
  }

  .affine-embed-youtube-block.loading {
    .affine-embed-youtube-content-title-text {
      color: var(--affine-placeholder-color);
    }
  }

  .affine-embed-youtube-block.selected {
    .affine-embed-youtube-content-url > span {
      color: var(--affine-link-color);
    }
    .affine-embed-youtube-content-url .open-icon {
      fill: var(--affine-link-color);
    }
  }
`,wc=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M17.5672 5.99344C17.4763 5.64032 17.2992 5.3184 17.0533 5.05972C16.8075 4.80104 16.5015 4.61464 16.1659 4.51907C14.9372 4.1665 9.99202 4.1665 9.99202 4.1665C9.99202 4.1665 5.04662 4.17718 3.81791 4.52974C3.48228 4.62532 3.1763 4.81173 2.93045 5.07042C2.6846 5.32911 2.50744 5.65105 2.41664 6.00417C2.04498 8.30113 1.90081 11.8012 2.42684 14.0062C2.51766 14.3594 2.69482 14.6813 2.94067 14.94C3.18652 15.1986 3.49249 15.385 3.82811 15.4806C5.05683 15.8332 10.0021 15.8332 10.0021 15.8332C10.0021 15.8332 14.9473 15.8332 16.176 15.4806C16.5116 15.385 16.8176 15.1986 17.0635 14.94C17.3093 14.6813 17.4865 14.3594 17.5773 14.0062C17.9693 11.706 18.0901 8.20821 17.5672 5.9935V5.99344Z"
    fill="#FF0000"
  />
  <path d="M8.33325 12.5L12.4999 10L8.33325 7.5V12.5Z" fill="white" />
</svg>`;async function wd(e,t,i){let s=e.url,[o,r]=await Promise.all([t.query(s,i),wh(s,i)]),a={...o,...r};if(a.creatorUrl){let e=await t.query(a.creatorUrl,i);a.creatorImage=e.image}return a}async function wh(e,t){let i={},s=`https://youtube.com/oembed?url=${e}&format=json`,o=await fetch(s,{signal:t}).catch(()=>null);if(o&&o.ok){let{title:e,author_name:t,author_url:s}=await o.json();i={title:e,creator:t,creatorUrl:s}}return i}async function wu(e,t){let i=null,s=null,o=null,r=null,a=null,n=null;try{e.loading=!0;let l=e.service?.queryUrlData;(0,V.Z1)(l);let c=await l(e.model,t);if({image:i=null,title:s=null,description:o=null,creator:r=null,creatorUrl:a=null,creatorImage:n=null}=c,t?.aborted)return;e.doc.updateBlock(e.model,{image:i,title:s,description:o,creator:r,creatorUrl:a,creatorImage:n})}catch(e){if(t?.aborted||(0,yJ.z)(e))return;throw e}finally{e.loading=!1}}var wp=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},wf=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let wg=(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("affine-embed-youtube-block")],n=[],l=y6,c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];return class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.wk)()],r=[(0,L.MZ)({attribute:!1})],wp(this,null,i,{kind:"accessor",name:"_isSelected",static:!1,private:!1,access:{has:e=>"_isSelected"in e,get:e=>e._isSelected,set:(e,t)=>{e._isSelected=t}},metadata:v},c,d),wp(this,null,s,{kind:"accessor",name:"_showImage",static:!1,private:!1,access:{has:e=>"_showImage"in e,get:e=>e._showImage,set:(e,t)=>{e._showImage=t}},metadata:v},h,u),wp(this,null,o,{kind:"accessor",name:"_showOverlay",static:!1,private:!1,access:{has:e=>"_showOverlay"in e,get:e=>e._showOverlay,set:(e,t)=>{e._showOverlay=t}},metadata:v},p,f),wp(this,null,r,{kind:"accessor",name:"loading",static:!1,private:!1,access:{has:e=>"loading"in e,get:e=>e.loading,set:(e,t)=>{e.loading=t}},metadata:v},g,m),wp(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=wl}_handleClick(e){e.stopPropagation(),this.isInSurface||this._selectBlock()}_handleDoubleClick(e){e.stopPropagation(),this.open()}_selectBlock(){let e=this.host.selection,t=e.create("block",{blockId:this.blockId});e.setGroup("note",[t])}connectedCallback(){super.connectedCallback(),this.model.videoId||this.doc.withoutTransact(()=>{let e=this.model.url.match(wn.iB);if(e){let[,t]=e;this.doc.updateBlock(this.model,{videoId:t})}}),this.model.description||this.model.title||this.doc.withoutTransact(()=>{this.refreshData()}),this.disposables.add(this.model.propsUpdated.on(({key:e})=>{this.requestUpdate(),"url"===e&&this.refreshData()})),this.disposables.add(this.std.selection.slots.changed.on(()=>{this._isSelected=!!this.selected?.is("block")||!!this.selected?.is("surface"),this._showOverlay=this._isResizing||this._isDragging||!this._isSelected})),this.handleEvent("dragStart",()=>{this._isDragging=!0,this._showOverlay=this._isResizing||this._isDragging||!this._isSelected}),this.handleEvent("dragEnd",()=>{this._isDragging=!1,this._showOverlay=this._isResizing||this._isDragging||!this._isSelected}),matchMedia("print").addEventListener("change",()=>{this._showImage=matchMedia("print").matches}),this.isInSurface&&(this.disposables.add(this.model.propsUpdated.on(()=>{this.requestUpdate()})),this.rootService?.slots.elementResizeStart.on(()=>{this._isResizing=!0,this._showOverlay=!0}),this.rootService?.slots.elementResizeEnd.on(()=>{this._isResizing=!1,this._showOverlay=this._isResizing||this._isDragging||!this._isSelected}))}renderBlock(){let{image:e,title:t="YouTube",description:i,creator:s,creatorImage:o,videoId:r,style:a}=this.model;this._cardStyle=a,this._width=fA.Cd[this._cardStyle],this._height=fA.Hn[this._cardStyle];let n=this.loading,{LoadingIcon:l,EmbedCardBannerIcon:c}=nF(),d=n?l:wc,h=n?"Loading...":t,u=n?"":i,p=!n&&e?(0,H.qy)`<object type="image/webp" data=${e} draggable="false">
            ${c}
          </object>`:c,f=!n&&o?(0,H.qy)`<object
            type="image/webp"
            data=${o}
            draggable="false"
          ></object>`:H.s6;return this.renderEmbed(()=>(0,H.qy)`
        <div>
          <div
            class=${(0,oJ.H)({"affine-embed-youtube-block":!0,loading:n,selected:this._isSelected})}
            @click=${this._handleClick}
            @dblclick=${this._handleDoubleClick}
          >
            <div class="affine-embed-youtube-video">
              ${r?(0,H.qy)`
                    <div class="affine-embed-youtube-video-iframe-container">
                      <iframe
                        id="ytplayer"
                        type="text/html"
                        src=${`https://www.youtube.com/embed/${r}`}
                        frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        allowfullscreen
                      ></iframe>
                      <div
                        class=${(0,oJ.H)({"affine-embed-youtube-video-iframe-overlay":!0,hide:!this._showOverlay})}
                      ></div>
                      <img
                        class=${(0,oJ.H)({"affine-embed-youtube-video-iframe-overlay":!0,"media-print":!0,hide:!this._showImage})}
                        src=${`https://img.youtube.com/vi/${r}/maxresdefault.jpg`}
                        alt="YouTube Video"
                      />
                    </div>
                  `:p}
            </div>
            <div class="affine-embed-youtube-content">
              <div class="affine-embed-youtube-content-header">
                <div class="affine-embed-youtube-content-title-icon">
                  ${d}
                </div>

                <div class="affine-embed-youtube-content-title-text">
                  ${h}
                </div>

                <div class="affine-embed-youtube-content-creator-image">
                  ${f}
                </div>

                <div class="affine-embed-youtube-content-creator-text">
                  ${s}
                </div>
              </div>

              <div class="affine-embed-youtube-content-description">
                ${u}
              </div>

              <div class="affine-embed-youtube-content-url" @click=${this.open}>
                <span>www.youtube.com</span>

                <div class="affine-embed-youtube-content-url-icon">
                  ${aY}
                </div>
              </div>
            </div>
          </div>
        </div>
      `)}#so;get _isSelected(){return this.#so}set _isSelected(e){this.#so=e}#sE;get _showImage(){return this.#sE}set _showImage(e){this.#sE=e}#sd;get _showOverlay(){return this.#sd}set _showOverlay(e){this.#sd=e}#sn;get loading(){return this.#sn}set loading(e){this.#sn=e}constructor(){super(...arguments),this._cardStyle="video",this._isDragging=!1,this._isResizing=!1,this.open=()=>{let e=this.model.url;e.match(/^[a-zA-Z]+:\/\//)||(e="https://"+e),window.open(e,"_blank")},this.refreshData=()=>{wu(this,this.fetchAbortController.signal).catch(console.error)},this.#so=wf(this,c,!1),this.#sE=(wf(this,d),wf(this,h,!1)),this.#sd=(wf(this,u),wf(this,p,!0)),this.#sn=(wf(this,f),wf(this,g,!1)),wf(this,m)}static{wf(t,n)}},t})();var wm=i(48577),wv=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},wy=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l,c,d,h,u,p,f,g,m,v,y,b=[(0,L.EM)("editor-icon-button")],w=[],x=H.WF,_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[],O=[],P=[],A=[],D=[],j=[],V=[],R=[],z=[],F=[],N=[],q=[],U=[],W=[],G=[],Y=[],K=[],X=[],Q=[],J=[],ee=[],et=[],ei=[],es=[],eo=[];(class extends x{static{t=this}static{let H="function"==typeof Symbol&&Symbol.metadata?Object.create(x[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({type:Boolean,reflect:!0})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({type:Boolean,reflect:!0})],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({attribute:!1})],c=[(0,L.MZ)({attribute:!1})],d=[(0,L.MZ)({attribute:!1})],h=[(0,L.MZ)({attribute:!1})],u=[(0,L.MZ)({attribute:!1})],p=[(0,L.MZ)({attribute:!1})],f=[(0,L.MZ)({type:Boolean})],g=[(0,L.MZ)({attribute:!1})],m=[(0,L.MZ)({attribute:!1})],v=[(0,L.MZ)({attribute:!1})],y=[(0,L.MZ)({attribute:!1})],wv(this,null,i,{kind:"accessor",name:"active",static:!1,private:!1,access:{has:e=>"active"in e,get:e=>e.active,set:(e,t)=>{e.active=t}},metadata:H},_,C),wv(this,null,s,{kind:"accessor",name:"activeMode",static:!1,private:!1,access:{has:e=>"activeMode"in e,get:e=>e.activeMode,set:(e,t)=>{e.activeMode=t}},metadata:H},k,S),wv(this,null,o,{kind:"accessor",name:"arrow",static:!1,private:!1,access:{has:e=>"arrow"in e,get:e=>e.arrow,set:(e,t)=>{e.arrow=t}},metadata:H},M,E),wv(this,null,r,{kind:"accessor",name:"coming",static:!1,private:!1,access:{has:e=>"coming"in e,get:e=>e.coming,set:(e,t)=>{e.coming=t}},metadata:H},I,B),wv(this,null,a,{kind:"accessor",name:"disabled",static:!1,private:!1,access:{has:e=>"disabled"in e,get:e=>e.disabled,set:(e,t)=>{e.disabled=t}},metadata:H},$,T),wv(this,null,n,{kind:"accessor",name:"hover",static:!1,private:!1,access:{has:e=>"hover"in e,get:e=>e.hover,set:(e,t)=>{e.hover=t}},metadata:H},O,P),wv(this,null,l,{kind:"accessor",name:"hoverState",static:!1,private:!1,access:{has:e=>"hoverState"in e,get:e=>e.hoverState,set:(e,t)=>{e.hoverState=t}},metadata:H},A,D),wv(this,null,c,{kind:"accessor",name:"iconContainerPadding",static:!1,private:!1,access:{has:e=>"iconContainerPadding"in e,get:e=>e.iconContainerPadding,set:(e,t)=>{e.iconContainerPadding=t}},metadata:H},j,V),wv(this,null,d,{kind:"accessor",name:"iconContainerWidth",static:!1,private:!1,access:{has:e=>"iconContainerWidth"in e,get:e=>e.iconContainerWidth,set:(e,t)=>{e.iconContainerWidth=t}},metadata:H},R,z),wv(this,null,h,{kind:"accessor",name:"iconSize",static:!1,private:!1,access:{has:e=>"iconSize"in e,get:e=>e.iconSize,set:(e,t)=>{e.iconSize=t}},metadata:H},F,N),wv(this,null,u,{kind:"accessor",name:"justify",static:!1,private:!1,access:{has:e=>"justify"in e,get:e=>e.justify,set:(e,t)=>{e.justify=t}},metadata:H},q,U),wv(this,null,p,{kind:"accessor",name:"labelHeight",static:!1,private:!1,access:{has:e=>"labelHeight"in e,get:e=>e.labelHeight,set:(e,t)=>{e.labelHeight=t}},metadata:H},W,G),wv(this,null,f,{kind:"accessor",name:"showTooltip",static:!1,private:!1,access:{has:e=>"showTooltip"in e,get:e=>e.showTooltip,set:(e,t)=>{e.showTooltip=t}},metadata:H},Y,K),wv(this,null,g,{kind:"accessor",name:"tipPosition",static:!1,private:!1,access:{has:e=>"tipPosition"in e,get:e=>e.tipPosition,set:(e,t)=>{e.tipPosition=t}},metadata:H},X,Q),wv(this,null,m,{kind:"accessor",name:"tooltip",static:!1,private:!1,access:{has:e=>"tooltip"in e,get:e=>e.tooltip,set:(e,t)=>{e.tooltip=t}},metadata:H},J,ee),wv(this,null,v,{kind:"accessor",name:"tooltipOffset",static:!1,private:!1,access:{has:e=>"tooltipOffset"in e,get:e=>e.tooltipOffset,set:(e,t)=>{e.tooltipOffset=t}},metadata:H},et,ei),wv(this,null,y,{kind:"accessor",name:"withHover",static:!1,private:!1,access:{has:e=>"withHover"in e,get:e=>e.withHover,set:(e,t)=>{e.withHover=t}},metadata:H},es,eo),wv(null,e={value:t},b,{kind:"class",name:t.name,metadata:H},null,w),t=e.value,H&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:H})}static{this.styles=(0,H.AH)`
    :host([disabled]),
    :host(:disabled) {
      pointer-events: none;
      cursor: not-allowed;
      color: var(--affine-text-disable-color);
    }

    .icon-container {
      position: relative;
      display: flex;
      align-items: center;
      padding: var(--icon-container-padding);
      color: var(--affine-icon-color);
      border-radius: 4px;
      cursor: pointer;
      white-space: nowrap;
      box-sizing: border-box;
      width: var(--icon-container-width, unset);
      justify-content: var(--justify, unset);
      user-select: none;
    }

    :host([active]) .icon-container.active-mode-color {
      color: var(--affine-primary-color);
    }

    :host([active]) .icon-container.active-mode-background {
      background: var(--affine-hover-color);
    }

    .icon-container[coming] {
      cursor: not-allowed;
      color: var(--affine-text-disable-color);
    }

    ::slotted(svg) {
      flex-shrink: 0;
      width: var(--icon-size, unset);
      height: var(--icon-size, unset);
    }

    ::slotted(.label) {
      flex: 1;
      padding: 0 4px;
      overflow: hidden;
      white-space: nowrap;
      line-height: var(--label-height, inherit);
    }
    ::slotted(.label.padding0) {
      padding: 0;
    }
    ::slotted(.label.ellipsis) {
      text-overflow: ellipsis;
    }
    ::slotted(.label.medium) {
      font-weight: 500;
    }

    .icon-container[with-hover]::before {
      content: '';
      display: block;
      background: var(--affine-hover-color);
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      border-radius: 4px;
    }
  `}constructor(){super(),wy(this,eo),this.addEventListener("keypress",e=>{!this.disabled&&("Enter"!==e.key||e.isComposing||this.click())}),this.addEventListener("click",e=>{this.disabled&&(e.stopPropagation(),e.preventDefault())},{capture:!0})}connectedCallback(){super.connectedCallback(),this.tabIndex=0,this.role="button"}render(){let e=this.coming?"(Coming soon)":this.tooltip,t=`icon-container active-mode-${this.activeMode} ${this.hoverState?"hovered":""}`,i=this.iconContainerPadding,s=(0,Z.W)({"--icon-container-width":this.iconContainerWidth,"--icon-container-padding":Array.isArray(i)?i.map(e=>`${e}px`).join(" "):`${i}px`,"--icon-size":this.iconSize,"--justify":this.justify,"--label-height":this.labelHeight});return(0,H.qy)`
      <style>
        .icon-container:hover,
        .icon-container.hovered {
          background: ${this.hover?"var(--affine-hover-color)":"inherit"};
        }
      </style>
      <div
        class=${t}
        style=${s}
        ?with-hover=${this.withHover}
        ?disabled=${this.disabled}
      >
        <slot></slot>
        ${(0,wm.P)(this.showTooltip&&e?(0,H.qy)`<affine-tooltip
                tip-position=${this.tipPosition}
                .arrow=${this.arrow}
                .offset=${this.tooltipOffset}
                >${e}</affine-tooltip
              >`:H.s6)}
      </div>
    `}#iK=wy(this,_,!1);get active(){return this.#iK}set active(e){this.#iK=e}#sI=(wy(this,C),wy(this,k,"color"));get activeMode(){return this.#sI}set activeMode(e){this.#sI=e}#te=(wy(this,S),wy(this,M,!0));get arrow(){return this.#te}set arrow(e){this.#te=e}#sB=(wy(this,E),wy(this,I,!1));get coming(){return this.#sB}set coming(e){this.#sB=e}#iX=(wy(this,B),wy(this,$,!1));get disabled(){return this.#iX}set disabled(e){this.#iX=e}#iQ=(wy(this,T),wy(this,O,!0));get hover(){return this.#iQ}set hover(e){this.#iQ=e}#s$=(wy(this,P),wy(this,A,!1));get hoverState(){return this.#s$}set hoverState(e){this.#s$=e}#sT=(wy(this,D),wy(this,j,2));get iconContainerPadding(){return this.#sT}set iconContainerPadding(e){this.#sT=e}#sO=(wy(this,V),wy(this,R,void 0));get iconContainerWidth(){return this.#sO}set iconContainerWidth(e){this.#sO=e}#sP=(wy(this,z),wy(this,F,void 0));get iconSize(){return this.#sP}set iconSize(e){this.#sP=e}#sA=(wy(this,N),wy(this,q,void 0));get justify(){return this.#sA}set justify(e){this.#sA=e}#sH=(wy(this,U),wy(this,W,void 0));get labelHeight(){return this.#sH}set labelHeight(e){this.#sH=e}#sL=(wy(this,G),wy(this,Y,!0));get showTooltip(){return this.#sL}set showTooltip(e){this.#sL=e}#sD=(wy(this,K),wy(this,X,"top"));get tipPosition(){return this.#sD}set tipPosition(e){this.#sD=e}#sZ=(wy(this,Q),wy(this,J,void 0));get tooltip(){return this.#sZ}set tooltip(e){this.#sZ=e}#sj=(wy(this,ee),wy(this,et,8));get tooltipOffset(){return this.#sj}set tooltipOffset(e){this.#sj=e}#sV=(wy(this,ei),wy(this,es,void 0));get withHover(){return this.#sV}set withHover(e){this.#sV=e}static{wy(t,w)}})})();var wb=i(72895),ww=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},wx=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("editor-menu-button")],n=[],l=(0,P.Tm)(H.WF),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.P)("editor-menu-content")],s=[(0,L.P)("editor-icon-button")],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],ww(this,null,i,{kind:"accessor",name:"_content",static:!1,private:!1,access:{has:e=>"_content"in e,get:e=>e._content,set:(e,t)=>{e._content=t}},metadata:v},c,d),ww(this,null,s,{kind:"accessor",name:"_trigger",static:!1,private:!1,access:{has:e=>"_trigger"in e,get:e=>e._trigger,set:(e,t)=>{e._trigger=t}},metadata:v},h,u),ww(this,null,o,{kind:"accessor",name:"button",static:!1,private:!1,access:{has:e=>"button"in e,get:e=>e.button,set:(e,t)=>{e.button=t}},metadata:v},p,f),ww(this,null,r,{kind:"accessor",name:"contentPadding",static:!1,private:!1,access:{has:e=>"contentPadding"in e,get:e=>e.contentPadding,set:(e,t)=>{e.contentPadding=t}},metadata:v},g,m),ww(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
  `}firstUpdated(){this._popper=(0,wb.j)(this._trigger,this._content,({display:e})=>{this._trigger.showTooltip="hidden"===e,this.dispatchEvent(new ToggleEvent("toggle",{newState:e,bubbles:!1,cancelable:!1,composed:!0}))},{mainAxis:12,ignoreShift:!0}),this._disposables.addFromEvent(this,"keydown",e=>{e.stopPropagation(),"Escape"===e.key&&this._popper.hide()}),this._disposables.addFromEvent(this._trigger,"click",e=>{this._popper.toggle(),"show"===this._popper.state&&this._content.focus({preventScroll:!0})}),this._disposables.add(this._popper)}hide(){this._popper?.hide()}render(){return(0,H.qy)`
      ${this.button}
      <editor-menu-content role="menu" tabindex="-1">
        <slot></slot>
      </editor-menu-content>
    `}show(e=!1){this._popper?.show(e)}willUpdate(e){e.has("contentPadding")&&this.style.setProperty("--content-padding",this.contentPadding??"")}#sR=wx(this,c,void 0);get _content(){return this.#sR}set _content(e){this.#sR=e}#sz=(wx(this,d),wx(this,h,void 0));get _trigger(){return this.#sz}set _trigger(e){this.#sz=e}#sF=(wx(this,u),wx(this,p,void 0));get button(){return this.#sF}set button(e){this.#sF=e}#sN=(wx(this,f),wx(this,g,void 0));get contentPadding(){return this.#sN}set contentPadding(e){this.#sN=e}constructor(){super(...arguments),wx(this,m)}static{wx(t,n)}})})(),(()=>{let e,t,i=[(0,L.EM)("editor-menu-content")],s=[],o=H.WF;(class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;ww(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    :host {
      --packed-height: 6px;
      --offset-height: calc(-1 * var(--packed-height));
      display: none;
      outline: none;
    }

    :host::before,
    :host::after {
      content: '';
      display: block;
      position: absolute;
      height: var(--packed-height);
      width: 100%;
    }

    :host::before {
      top: var(--offset-height);
    }

    :host::after {
      bottom: var(--offset-height);
    }

    :host([data-show]) {
      ${yo};
      justify-content: center;
      padding: var(--content-padding, 0 6px);
    }

    ::slotted(:not(.custom)) {
      display: flex;
      align-items: center;
      align-self: stretch;
      gap: 8px;
      min-height: 36px;
    }

    ::slotted([data-size]) {
      min-width: 146px;
    }

    ::slotted([data-size='small']) {
      min-width: 164px;
    }

    ::slotted([data-size='large']) {
      min-width: 176px;
    }

    ::slotted([data-orientation='vertical']) {
      flex-direction: column;
      align-items: stretch;
      gap: unset;
      min-height: unset;
    }
  `}render(){return(0,H.qy)`<slot></slot>`}static{wx(t,s)}})})(),(()=>{let e,t,i=[(0,L.EM)("editor-menu-action")],s=[],o=H.WF;(class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;ww(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      width: 100%;
      align-items: center;
      white-space: nowrap;
      box-sizing: border-box;
      padding: 4px 8px;
      border-radius: 4px;
      overflow: hidden;
      text-overflow: ellipsis;
      cursor: pointer;
      gap: 8px;
      color: var(--affine-text-primary-color);
      font-weight: 400;
      min-height: 30px; // 22 + 8
    }

    :host(:hover),
    :host([data-selected]) {
      background-color: var(--affine-hover-color);
    }

    :host([data-selected]) {
      pointer-events: none;
    }

    :host(:hover.delete),
    :host(:hover.delete) ::slotted(svg) {
      background-color: var(--affine-background-error-color);
      color: var(--affine-error-color);
    }

    :host([disabled]) {
      pointer-events: none;
      cursor: not-allowed;
      color: var(--affine-text-disable-color);
    }

    ::slotted(svg) {
      color: var(--affine-icon-color);
    }
  `}connectedCallback(){super.connectedCallback(),this.role="button"}render(){return(0,H.qy)`<slot></slot>`}static{wx(t,s)}})})();var w_=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},wC=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};function wk(){return(0,H.qy)`<editor-toolbar-separator></editor-toolbar-separator>`}(()=>{let e,t,i=[(0,L.EM)("editor-toolbar-separator")],s=[],o=H.WF;(class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;w_(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      align-items: center;
      justify-content: center;
      align-self: stretch;
      flex-shrink: 0;

      width: 4px;
    }

    :host::after {
      content: '';
      display: flex;
      width: 0.5px;
      height: 100%;
      background-color: var(--affine-border-color);
    }

    :host([data-orientation='horizontal']) {
      height: 8px;
      width: unset;
    }

    :host([data-orientation='horizontal'])::after {
      height: 0.5px;
      width: 100%;
    }
  `}static{wC(t,s)}})})();var wS=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},wM=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};function wE(e,t,i){return(0,v6.f)(e.filter(e=>e.length).map(e=>e.filter(e=>e!==H.s6)).filter(e=>e.length).map(e=>(0,D.u)(e,e=>e.name,e=>(0,H.qy)`
            <editor-menu-action
              aria-label=${e.name}
              class=${(0,oJ.H)({delete:"delete"===e.type})}
              ?data-selected=${i===e.name}
              ?disabled=${e.disabled}
              @click=${e.handler?e.handler:()=>t?.(e)}
            >
              ${e.icon}<span class="label">${e.name}</span>
            </editor-menu-action>
          `)),()=>(0,H.qy)`
      <editor-toolbar-separator
        data-orientation="horizontal"
      ></editor-toolbar-separator>
    `)}(()=>{let e,t,i=[(0,L.EM)("editor-toolbar")],s=[],o=(0,P.Tm)(H.WF);(class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;wS(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    :host {
      ${yo};
      height: 36px;
      box-sizing: content-box;
    }

    :host([data-without-bg]) {
      border-color: transparent;
      background: transparent;
      box-shadow: none;
    }

    ::slotted(*) {
      display: flex;
      height: 100%;
      justify-content: center;
      align-items: center;
      gap: 8px;
      color: var(--affine-text-primary-color);
      fill: currentColor;
    }
  `}connectedCallback(){super.connectedCallback(),this._disposables.addFromEvent(this,"pointerdown",e=>{e.stopPropagation(),e.preventDefault()}),this._disposables.addFromEvent(this,"wheel",lt.dG)}render(){return(0,H.qy)`<slot></slot>`}static{wM(t,s)}})})();var wI=i(22366);let wB=(0,H.AH)`
  :host {
    position: absolute;
    top: 0;
    left: 0;
    z-index: var(--affine-z-index-popover);
  }

  .affine-link-preview {
    display: flex;
    justify-content: flex-start;
    width: 140px;
    padding: var(--1, 0px);
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
    user-select: none;
    cursor: pointer;

    color: var(--affine-link-color);
    font-feature-settings:
      'clig' off,
      'liga' off;
    font-family: var(--affine-font-family);
    font-size: var(--affine-font-sm);
    font-style: normal;
    font-weight: 400;
    text-decoration: none;
    text-wrap: nowrap;
  }

  .affine-link-preview > span {
    display: inline-block;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;

    text-overflow: ellipsis;
    overflow: hidden;
    opacity: var(--add, 1);
  }

  .card-style-select icon-button.selected {
    border: 1px solid var(--affine-brand-color);
  }
`;var w$=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},wT=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let wO="affine-embed-card-toolbar";function wP(e){return(t,i)=>{let[s]=function(e,t){let i=function(e,t){let[i]=e.command.chain().isTextStyleActive({key:t}).run();return i}(e,t),s={styles:{[t]:!i||null}};return e.command.chain().try(e=>[e.getTextSelection().formatText(s),e.getBlockSelections().formatBlock(s),e.formatNative(s)]).run()}(t.std,e);return!!s&&i()}}function wA(e){let t=[];return(e.forEach(([e,i])=>{if(!i)return;let s=e.getFormat(i);t.push(s)}),0===t.length)?{}:t.reduce((e,t)=>{let i={};for(let s in e)e[s]===t[s]&&(i[s]=e[s]);return i})}function wH(e,t){return e.flatMap(e=>{let i=e.querySelector(`[${si.jN}]`);return i?t(i):[]})}function wL(e,t){return e.try(e=>[e.getTextSelection().getSelectedBlocks({types:["text"],filter:e=>f$.includes(e.model.flavour)}).inline((e,i)=>{let{selectedBlocks:s,currentTextSelection:o}=e;if((0,V.Z1)(s),(0,V.Z1)(o),o.isCollapsed())return!1;let r=t("text",wH(s,e=>e.inlineEditor.getInlineRange()?e.inlineEditor:[]));return!!r&&(!0===r?i():i(r))}),e.getBlockSelections().getSelectedBlocks({types:["block"],filter:e=>fT.includes(e.model.flavour)}).inline((e,i)=>{let{selectedBlocks:s}=e;(0,V.Z1)(s);let o=t("block",wH(s,e=>e.inlineEditor.yTextLength>0?e.inlineEditor:[]));return!!o&&(!0===o?i():i(o))}),e.inline((e,i)=>{let s=t("native",Array.from(e.std.host.querySelectorAll(`[${si.jN}]`)).filter(e=>{let t=document.getSelection();return!!t&&0!==t.rangeCount&&t.getRangeAt(0).intersectsNode(e)}).filter(e=>{let t=e.closest(`[${fA.u_}]`);return!!t&&fO.includes(t.model.flavour)}).map(e=>e.inlineEditor));return!!s&&(!0===s?i():i(s))})])}function wD(e){return wL(e,(e,t)=>"text"===e?{textStyle:wA(t.map(e=>[e,e.getInlineRange()]))}:"block"===e?{textStyle:wA(t.map(e=>[e,{index:0,length:e.yTextLength}]))}:"native"===e&&{textStyle:wA(t.map(e=>[e,e.getInlineRange()]))})}function wZ(e){return wL(e,(e,t)=>t.length>0)}(()=>{let e,t,i,s,o,r,a=[(0,L.EM)(wO)],n=[],l=P.W,c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.P)(".embed-card-toolbar-button.card-style")],s=[(0,L.P)(".embed-card-toolbar")],o=[(0,L.wk)()],r=[(0,L.P)(".embed-card-toolbar-button.more-button")],w$(this,null,i,{kind:"accessor",name:"cardStyleButton",static:!1,private:!1,access:{has:e=>"cardStyleButton"in e,get:e=>e.cardStyleButton,set:(e,t)=>{e.cardStyleButton=t}},metadata:v},c,d),w$(this,null,s,{kind:"accessor",name:"embedCardToolbarElement",static:!1,private:!1,access:{has:e=>"embedCardToolbarElement"in e,get:e=>e.embedCardToolbarElement,set:(e,t)=>{e.embedCardToolbarElement=t}},metadata:v},h,u),w$(this,null,o,{kind:"accessor",name:"hide",static:!1,private:!1,access:{has:e=>"hide"in e,get:e=>e.hide,set:(e,t)=>{e.hide=t}},metadata:v},p,f),w$(this,null,r,{kind:"accessor",name:"moreButton",static:!1,private:!1,access:{has:e=>"moreButton"in e,get:e=>e.moreButton,set:(e,t)=>{e.moreButton=t}},metadata:v},g,m),w$(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=wB}get _canConvertToEmbedView(){return(!(this._focusModel&&gV(this._focusModel))||!!this.doc.awarenessStore.getFlag("enable_synced_doc_block"))&&!!this._focusBlock&&("convertToEmbed"in this._focusBlock||this._embedOptions?.viewType==="embed")}_canShowCardStylePanel(e){return gL(e)||gj(e)||gV(e)}get _canShowUrlOptions(){return this._focusModel&&"url"in this._focusModel&&this._isCardView}_cardStyleMenuButton(){if(this._focusModel&&this._canShowCardStylePanel(this._focusModel)){let{EmbedCardHorizontalIcon:e,EmbedCardListIcon:t}=nF();return(0,H.qy)`
        <editor-menu-button
          class="card-style-select"
          .contentPadding=${"8px"}
          .button=${(0,H.qy)`
            <editor-icon-button
              aria-label="Card style"
              .tooltip=${"Card style"}
            >
              ${nb}
            </editor-icon-button>
          `}
        >
          <div>
            ${(0,D.u)([{type:"horizontal",name:"Large horizontal style",icon:e},{type:"list",name:"Small horizontal style",icon:t}],e=>e.type,({type:e,name:t,icon:i})=>(0,H.qy)`
                <icon-button
                  width="76px"
                  height="76px"
                  aria-label=${t}
                  class=${(0,oJ.H)({selected:this._focusModel?.style===e})}
                  @click=${()=>this._setEmbedCardStyle(e)}
                >
                  ${i}
                  <affine-tooltip .offset=${4}>${t}</affine-tooltip>
                </icon-button>
              `)}
          </div>
        </editor-menu-button>
      `}return H.s6}_convertToCardView(){if(this._isCardView||!this._focusBlock)return;if("convertToCard"in this._focusBlock){this._focusBlock.convertToCard();return}if(!this._focusModel||!("url"in this._focusModel))return;let{doc:e,url:t,style:i,caption:s}=this._focusModel,o="affine:bookmark",r=i;if(this._embedOptions&&"card"===this._embedOptions.viewType){let{flavour:e,styles:t}=this._embedOptions;o=e,r=t.includes(i)?i:t[0]}else r=wI.HO.includes(i)?i:wI.HO.filter(e=>"vertical"!==e&&"cube"!==e)[0];let a=e.getParent(this._focusModel);(0,V.Z1)(a);let n=a.children.indexOf(this._focusModel);e.addBlock(o,{url:t,style:r,caption:s},a,n),this.std.selection.setGroup("note",[]),e.deleteBlock(this._focusModel)}_convertToEmbedView(){if(this._isEmbedView||!this._focusBlock)return;if("convertToEmbed"in this._focusBlock){this._focusBlock.convertToEmbed();return}if(!this._focusModel||!("url"in this._focusModel))return;let{doc:e,url:t,style:i,caption:s}=this._focusModel;if(!this._embedOptions||"embed"!==this._embedOptions.viewType)return;let{flavour:o,styles:r}=this._embedOptions,a=r.includes(i)?i:r.filter(e=>"vertical"!==e&&"cube"!==e)[0],n=e.getParent(this._focusModel);(0,V.Z1)(n);let l=n.children.indexOf(this._focusModel);e.addBlock(o,{url:t,style:a,caption:s},n,l),this.std.selection.setGroup("note",[]),e.deleteBlock(this._focusModel)}async _copyBlock(){if(!this._focusModel)return;let e=v.Ji.fromModels(this.doc,[this._focusModel]);await this.std.clipboard.copySlice(e),l8(this.host,"Copied link to clipboard"),this._abortController.abort()}_copyUrl(){this._focusModel&&"url"in this._focusModel&&(navigator.clipboard.writeText(this._focusModel.url).catch(console.error),l8(this.host,"Copied link to clipboard"))}_duplicateBlock(){if(!this._focusBlock||!this._focusModel)return;let e=this._focusModel,{width:t,height:i,xywh:s,rotate:o,zIndex:r,...a}=m7(e),{doc:n}=e,l=n.getParent(e),c=l?.children.indexOf(e);n.addBlock(e.flavour,a,l,c),this._abortController.abort()}get _embedViewButtonDisabled(){return!!this.doc.readonly||this._focusModel&&this._focusBlock&&gV(this._focusModel)&&(!!this._focusBlock.closest("affine-embed-synced-doc-block")||this._focusModel.pageId===this.doc.id)}get _focusModel(){return this._focusBlock?.model}_hide(){this._resetAbortController(),this._focusBlock=null,this.hide=!0}get _isCardView(){return this._focusModel&&(gL(this._focusModel)||gV(this._focusModel)||this._embedOptions?.viewType==="card")}get _isEmbedView(){return this._focusModel&&!gL(this._focusModel)&&(gR(this._focusModel)||this._embedOptions?.viewType==="embed")}_moreActions(){return wE([[{type:"copy",name:"Copy",icon:aL,disabled:this.doc.readonly,handler:()=>{this._copyBlock().catch(console.error)}},{type:"duplicate",name:"Duplicate",icon:aZ,disabled:this.doc.readonly,handler:()=>this._duplicateBlock()},this._focusModel&&this._refreshable(this._focusModel)?{type:"reload",name:"Reload",icon:aU,disabled:this.doc.readonly,handler:()=>this._refreshData()}:H.s6],[{type:"delete",name:"Delete",icon:aj,disabled:this.doc.readonly,handler:()=>this._focusModel&&this.doc.deleteBlock(this._focusModel)}]])}get _openButtonDisabled(){return this._focusModel&&gV(this._focusModel)&&this._focusModel.pageId===this.doc.id}_openMenuButton(){let e=[];this._focusModel&&(gV(this._focusModel)||gR(this._focusModel))&&e.push({name:"Open this doc",icon:aX,handler:()=>this._focusBlock?.open()});let t=this._focusBlock;return(t&&lF(t)&&e.push({name:"Open in center peek",icon:aK,handler:()=>lN(t)}),0===e.length)?H.s6:(0,H.qy)`
      <editor-menu-button
        .contentPadding=${"8px"}
        .button=${(0,H.qy)`
          <editor-icon-button
            aria-label="Open"
            .justify=${"space-between"}
            .labelHeight=${"20px"}
          >
            ${aY}${tO}
          </editor-icon-button>
        `}
      >
        <div data-size="small" data-orientation="vertical">
          ${(0,D.u)(e,e=>e.name,({name:e,icon:t,handler:i,disabled:s})=>(0,H.qy)`
              <editor-menu-action
                aria-label=${e}
                ?disabled=${s}
                @click=${i}
              >
                ${t}<span class="label">${e}</span>
              </editor-menu-action>
            `)}
        </div>
      </editor-menu-button>
    `}_refreshData(){this._focusBlock?.refreshData(),this._abortController.abort()}_refreshable(e){return gA(e)||gL(e)||gH(e)||gZ(e)}get _rootService(){return this.std.spec.getService("affine:page")}get _selection(){return this.host.selection}_setEmbedCardStyle(e){this._focusModel?.doc.updateBlock(this._focusModel,{style:e}),this.requestUpdate(),this._abortController.abort()}_show(){this._focusBlock&&(this.hide=!1,this._abortController.signal.addEventListener("abort",(0,oG.ll)(this._focusBlock,this,()=>{this._focusBlock&&(0,oG.rD)(this._focusBlock,this,{placement:"top-start",middleware:[(0,oG.UU)(),(0,oG.cY)(8)]}).then(({x:e,y:t})=>{this.style.left=`${e}px`,this.style.top=`${t}px`}).catch(console.error)})))}_showCaption(){let e=this._focusBlock;if(e){try{e.captionEditor?.show()}catch(t){!function(e){e.host.selection.clear();let t=new yl;t.block=e,document.body.append(t)}(e)}this._resetAbortController()}}_turnIntoInlineView(){if(this._focusBlock&&"covertToInline"in this._focusBlock){this._focusBlock.covertToInline();return}if(!this._focusModel||!("url"in this._focusModel))return;let{doc:e}=this._focusModel,t=e.getParent(this._focusModel),i=t?.children.indexOf(this._focusModel),s=new v.rl.Y.Text,o=this._focusModel.title||this._focusModel.caption||this._focusModel.url;s.insert(0,o),s.format(0,o.length,{link:this._focusModel.url});let r=new e.Text(s);e.addBlock("affine:paragraph",{text:r},t,i),e.deleteBlock(this._focusModel)}_viewMenuButton(){let e=[];return e.push({type:"inline",name:"Inline view",handler:()=>this._turnIntoInlineView(),disabled:this.doc.readonly}),e.push({type:"card",name:"Card view",handler:()=>this._convertToCardView(),disabled:this.doc.readonly}),(this._canConvertToEmbedView||this._isEmbedView)&&e.push({type:"embed",name:"Embed view",handler:()=>this._convertToEmbedView(),disabled:this.doc.readonly&&this._embedViewButtonDisabled}),(0,H.qy)`
      <editor-menu-button
        .contentPadding=${"8px"}
        .button=${(0,H.qy)`
          <editor-icon-button
            aria-label="Switch view"
            .justify=${"space-between"}
            .labelHeight=${"20px"}
            .iconContainerWidth=${"110px"}
          >
            <div class="label">
              <span style="text-transform: capitalize">${this._viewType}</span>
              view
            </div>
            ${tO}
          </editor-icon-button>
        `}
      >
        <div data-size="small" data-orientation="vertical">
          ${(0,D.u)(e,e=>e.type,({type:e,name:t,handler:i,disabled:s})=>(0,H.qy)`
              <editor-menu-action
                aria-label=${t}
                data-testid=${`link-to-${e}`}
                ?data-selected=${this._viewType===e}
                ?disabled=${s}
                @click=${i}
              >
                ${t}
              </editor-menu-action>
            `)}
        </div>
      </editor-menu-button>
    `}get _viewType(){return this._isCardView?"card":this._isEmbedView?"embed":"inline"}connectedCallback(){super.connectedCallback(),this.disposables.add(this._selection.slots.changed.on(()=>{if(this._selection.find("text")){this._hide();return}let e=this._selection.filter("block");if(!e||1!==e.length){this._hide();return}let t=this.std.view.getBlock(e[0].blockId);if(!t||!(t instanceof y5||t instanceof bb||t instanceof wg||t instanceof bi||t instanceof bX||t instanceof wa||t instanceof b9)){this._hide();return}this._focusBlock=t,this._show()}))}render(){if(this.hide)return H.s6;let e=this._focusModel;this._embedOptions=e&&"url"in e?this._rootService.getEmbedBlockOptions(e.url):null;let t=[this._canShowUrlOptions&&e&&"url"in e?(0,H.qy)`
            <a
              class="affine-link-preview"
              href=${e.url}
              rel="noopener noreferrer"
              target="_blank"
            >
              <span>${nN(e.url)}</span>
            </a>

            <editor-icon-button
              aria-label="Copy"
              data-testid="copy-link"
              .tooltip=${"Click to copy link"}
              ?disabled=${e.doc.readonly}
              @click=${()=>this._copyUrl()}
            >
              ${aL}
            </editor-icon-button>

            <editor-icon-button
              aria-label="Edit"
              data-testid="edit"
              .tooltip=${"Edit"}
              ?disabled=${this.doc.readonly}
              @click=${()=>yu(this.host,e)}
            >
              ${aQ}
            </editor-icon-button>
          `:H.s6,this._openMenuButton(),this._viewMenuButton(),this._cardStyleMenuButton(),(0,H.qy)`
        <editor-icon-button
          aria-label="Caption"
          .tooltip=${"Add Caption"}
          ?disabled=${this.doc.readonly}
          @click=${()=>this._showCaption()}
        >
          ${a1}
        </editor-icon-button>
      `,(0,H.qy)`
        <editor-menu-button
          .contentPadding=${"8px"}
          .button=${(0,H.qy)`
            <editor-icon-button aria-label="More" .tooltip=${"More"}>
              ${eU}
            </editor-icon-button>
          `}
        >
          <div data-size="large" data-orientation="vertical">
            ${this._moreActions()}
          </div>
        </editor-menu-button>
      `];return(0,H.qy)`
      <editor-toolbar class="embed-card-toolbar">
        ${(0,v6.f)(t.filter(e=>e!==H.s6),wk)}
      </editor-toolbar>
    `}#sq;get cardStyleButton(){return this.#sq}set cardStyleButton(e){this.#sq=e}#sU;get embedCardToolbarElement(){return this.#sU}set embedCardToolbarElement(e){this.#sU=e}#sW;get hide(){return this.#sW}set hide(e){this.#sW=e}#sG;get moreButton(){return this.#sG}set moreButton(e){this.#sG=e}constructor(){super(...arguments),this._abortController=new AbortController,this._embedOptions=null,this._focusBlock=null,this._resetAbortController=()=>{this._abortController.abort(),this._abortController=new AbortController},this.#sq=wT(this,c,null),this.#sU=(wT(this,d),wT(this,h,void 0)),this.#sW=(wT(this,u),wT(this,p,!0)),this.#sG=(wT(this,f),wT(this,g,null)),wT(this,m)}static{wT(t,n)}})})();let wj=["red","orange","yellow","green","teal","blue","purple","grey"],wV=[{name:"Default Background",color:null,hotkey:null},...wj.map(e=>({name:`${e[0].toUpperCase()}${e.slice(1)} Background`,color:`var(--affine-text-highlight-${e})`,hotkey:null}))],wR=[{name:"Default Color",color:null,hotkey:null},...wj.map(e=>({name:`${e[0].toUpperCase()}${e.slice(1)}`,color:`var(--affine-text-highlight-foreground-${e})`,hotkey:null}))];!function(e){e[e.Foreground=0]="Foreground",e[e.Background=1]="Background"}(n||(n={}));let wz=null,wF=n.Background,wN=(e,t,i)=>{wz=t,wF=i;let s={styles:{color:i===n.Foreground?t:null,background:i===n.Background?t:null}};e.std.command.chain().try(e=>[e.getTextSelection().formatText(s),e.getBlockSelections().formatBlock(s),e.formatNative(s)]).run()},wq=(e,t)=>(0,H.qy)`
    <editor-menu-content class="highlight-panel" data-show ${(0,lB.K)(t)}>
      <div data-orientation="vertical">
        <!-- Text Color Highlight -->
        <div class="highligh-panel-heading">Color</div>
        ${wR.map(({name:t,color:i})=>(0,H.qy)`
            <editor-menu-action
              data-testid="${i??"unset"}"
              @click="${()=>{wN(e.host,i,n.Foreground),e.requestUpdate()}}"
            >
              <span style="display: flex; color: ${i}">
                ${nl}
              </span>
              ${t}
            </editor-menu-action>
          `)}

        <!-- Text Background Highlight -->
        <div class="highligh-panel-heading">Background</div>
        ${wV.map(({name:t,color:i})=>(0,H.qy)`
            <editor-menu-action
              @click="${()=>{wN(e.host,i,n.Background),e.requestUpdate()}}"
            >
              <span style="display: flex; color: ${i??"transparent"}">
                ${nn}
              </span>
              ${t}
            </editor-menu-action>
          `)}
      </div>
    </editor-menu-content>
  `,wU=e=>{let t=e.host,{setFloating:i,setReference:s}=lk(t=>{if(!t){let t=e.shadowRoot?.querySelector(".highlight-panel");if(!t)return;t.style.display="none";return}let i=e.shadowRoot?.querySelector(".highlight-button"),s=e.shadowRoot?.querySelector(".highlight-panel");(0,V.Z1)(i),(0,V.Z1)(s),s.style.display="flex",(0,oG.rD)(i,s,{placement:"bottom",middleware:[(0,oG.UU)(),(0,oG.cY)(6),(0,oG.BN)({padding:6})]}).then(({x:e,y:t})=>{s.style.left=`${e}px`,s.style.top=`${t}px`}).catch(console.error)}),o=wq(e,i);return(0,H.qy)`
    <div class="highlight-button" ${(0,lB.K)(s)}>
      <editor-icon-button
        class="highlight-icon"
        data-last-used="${wz??"unset"}"
        @click="${()=>wN(t,wz,wF)}"
      >
        <span style="display: flex; color: ${wz}">
          ${nc}
        </span>
        ${a7}
      </editor-icon-button>
      ${o}
    </div>
  `},wW=[{flavour:"affine:paragraph",type:"text",name:"Text",description:"Start typing with plain text.",hotkey:["Mod-Alt-0","Mod-Shift-0"],icon:au},{flavour:"affine:paragraph",type:"h1",name:"Heading 1",description:"Headings in the largest font.",hotkey:["Mod-Alt-1","Mod-Shift-1"],icon:af},{flavour:"affine:paragraph",type:"h2",name:"Heading 2",description:"Headings in the 2nd font size.",hotkey:["Mod-Alt-2","Mod-Shift-2"],icon:ag},{flavour:"affine:paragraph",type:"h3",name:"Heading 3",description:"Headings in the 3rd font size.",hotkey:["Mod-Alt-3","Mod-Shift-3"],icon:am},{flavour:"affine:paragraph",type:"h4",name:"Heading 4",description:"Headings in the 4th font size.",hotkey:["Mod-Alt-4","Mod-Shift-4"],icon:av},{flavour:"affine:paragraph",type:"h5",name:"Heading 5",description:"Headings in the 5th font size.",hotkey:["Mod-Alt-5","Mod-Shift-5"],icon:ay},{flavour:"affine:paragraph",type:"h6",name:"Heading 6",description:"Headings in the 6th font size.",hotkey:["Mod-Alt-6","Mod-Shift-6"],icon:ab},{flavour:"affine:list",type:"bulleted",name:"Bulleted List",description:"Create a bulleted list.",hotkey:["Mod-Alt-8","Mod-Shift-8"],icon:aw},{flavour:"affine:list",type:"numbered",name:"Numbered List",description:"Create a numbered list.",hotkey:["Mod-Alt-9","Mod-Shift-9"],icon:ax},{flavour:"affine:list",type:"todo",name:"To-do List",description:"Add tasks to a to-do list.",hotkey:null,icon:aM},{flavour:"affine:code",type:void 0,name:"Code Block",description:"Code snippet with formatting.",hotkey:["Mod-Alt-c"],icon:aE},{flavour:"affine:paragraph",type:"quote",name:"Quote",description:"Add a blockquote for emphasis.",hotkey:null,icon:aI},{flavour:"affine:divider",type:"divider",name:"Divider",description:"Visually separate content.",hotkey:["Mod-Alt-d","Mod-Shift-d"],icon:aB}],wG=({formatBar:e,host:t,ref:i})=>{let s=e.configItems.filter(e=>"paragraph-action"===e.type).filter(({flavour:e})=>t.doc.schema.flavourSchemaMap.has(e)),o=(0,D.u)(s,t=>(0,H.qy)`
      <editor-menu-action
        data-testid="${t.id}"
        @click="${()=>t.action(e.std.command.chain(),e)}"
      >
        ${"function"==typeof t.icon?t.icon():t.icon}
        ${t.name}
      </editor-menu-action>
    `);return(0,H.qy)`
    <editor-menu-content class="paragraph-panel" data-show ${(0,lB.K)(i)}>
      <div data-orientation="vertical">${o}</div>
    </editor-menu-content>
  `},wY=e=>{if("text"!==e.displayType&&"block"!==e.displayType)return null;let t=e.selectedBlocks;if(t.some(e=>!e.model.text))return null;let i=t.length<1?wW[0].icon:wW.find(({flavour:e,type:i})=>t[0].flavour===e&&t[0].model.type===i)?.icon??wW[0].icon;if(!mG(e.block))return console.error("paragraph button host is not a page component"),null;let{setFloating:s,setReference:o}=lk(t=>{if(!t){let t=e.shadowRoot?.querySelector(".paragraph-panel");if(!t)return;t.style.display="none";return}let i=e.formatBarElement,s=e.shadowRoot?.querySelector(".paragraph-button"),o=e.shadowRoot?.querySelector(".paragraph-panel");(0,V.Z1)(s),(0,V.Z1)(o),(0,V.Z1)(i,"format quick bar should exist"),o.style.display="flex",(0,oG.rD)(i,o,{placement:"top-start",middleware:[(0,oG.UU)(),(0,oG.cY)(6),(0,oG.BN)({padding:6})]}).then(({x:e,y:t})=>{o.style.left=`${e}px`,o.style.top=`${t}px`}).catch(console.error)}),r=wG({formatBar:e,host:e.host,ref:s});return(0,H.qy)`
    <div class="paragraph-button" ${(0,lB.K)(o)}>
      <editor-icon-button class="paragraph-button-icon">
        ${i} ${a7}
      </editor-icon-button>
      ${r}
    </div>
  `},wK=oi("title").modelConfig({name:"Title",type:()=>om.create(),defaultData:()=>({}),cellToString:e=>e?.toString()??"",cellFromString:e=>({value:e}),cellToJson:e=>e?.toString()??null,onUpdate:(e,t,i)=>(e.yText.observe(i),i(),{dispose:()=>{e.yText.unobserve(i)}}),valueUpdate:(e,t,i)=>"string"==typeof i?(e.replace(0,e.length,i),e):null==i?(e.replace(0,e.length,""),e):i,isEmpty:e=>null==e||0===e.length});var wX=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},wQ=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let wJ=(0,H.AH)`
  data-view-header-area-text {
    width: 100%;
    display: flex;
  }

  data-view-header-area-text rich-text {
    pointer-events: none;
    user-select: none;
  }

  data-view-header-area-text-editing {
    width: 100%;
    display: flex;
    cursor: text;
  }

  .data-view-header-area-rich-text {
    display: flex;
    flex-direction: column;
    justify-content: center;
    width: 100%;
    height: 100%;
    outline: none;
    word-break: break-all;
    font-size: var(--data-view-cell-text-size);
    line-height: var(--data-view-cell-text-line-height);
  }

  .data-view-header-area-rich-text v-line {
    display: flex !important;
    align-items: center;
    height: 100%;
    width: 100%;
  }

  .data-view-header-area-rich-text v-line > div {
    flex-grow: 1;
  }

  .data-view-header-area-icon {
    height: max-content;
    display: flex;
    align-items: center;
    margin-right: 8px;
    padding: 2px;
    border-radius: 4px;
    margin-top: 2px;
    background-color: var(--affine-background-secondary-color);
  }

  .data-view-header-area-icon svg {
    width: 14px;
    height: 14px;
    fill: var(--affine-icon-color);
    color: var(--affine-icon-color);
  }
`,w1=(()=>{let e,t,i=sf,s=[],o=[],r=[],a=[];return class extends i{static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;e=[(0,L.P)("rich-text")],t=[(0,L.MZ)({attribute:!1})],wX(this,null,e,{kind:"accessor",name:"richText",static:!1,private:!1,access:{has:e=>"richText"in e,get:e=>e.richText,set:(e,t)=>{e.richText=t}},metadata:n},s,o),wX(this,null,t,{kind:"accessor",name:"showIcon",static:!1,private:!1,access:{has:e=>"showIcon"in e,get:e=>e.showIcon,set:(e,t)=>{e.showIcon=t}},metadata:n},r,a),n&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=wJ}renderIcon(){if(!this.showIcon)return;let e=this.view.header$.value.iconColumn;if(!e)return;let t=this.view.cellGetValue(this.cell.rowId,e);if(t)return(0,ic.qy)`<div class="data-view-header-area-icon">${t}</div>`}get attributeRenderer(){return this.inlineManager?.getRenderer()}get attributesSchema(){return this.inlineManager?.getSchema()}get inlineEditor(){(0,V.Z1)(this.richText);let e=this.richText.inlineEditor;return(0,V.Z1)(e),e}get inlineManager(){return this.service?.inlineManager}get service(){return this.view.getContext(sd)?.std.spec.getService("affine:database")}get titleColumn(){let e=this.view.header$.value.titleColumn;return(0,V.Z1)(e),this.view.columnGet(e)}get topContenteditableElement(){let e=this.closest("affine-database");return e?.topContenteditableElement}#iI=wQ(this,s,void 0);get richText(){return this.#iI}set richText(e){this.#iI=e}#sY=(wQ(this,o),wQ(this,r,!1));get showIcon(){return this.#sY}set showIcon(e){this.#sY=e}constructor(){super(...arguments),wQ(this,a)}}})(),w0=(()=>{let e,t,i=[(0,L.EM)("data-view-header-area-text")],s=[],o=w1;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;wX(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),wQ(t,s)}render(){return(0,ic.qy)`${this.renderIcon()}
      <rich-text
        .yText=${this.value}
        .attributesSchema=${this.attributesSchema}
        .attributeRenderer=${this.attributeRenderer}
        .embedChecker=${this.inlineManager?.embedChecker}
        .markdownShortcutHandler=${this.inlineManager?.markdownShortcutHandler}
        .readonly=${!0}
        class="data-view-header-area-rich-text"
      ></rich-text>`}},t})(),w2=(()=>{let e,t,i=[(0,L.EM)("data-view-header-area-text-editing")],s=[],o=w1;return class extends o{static{t=this}constructor(){super(...arguments),this._onCopy=e=>{let t=this.inlineEditor;(0,V.Z1)(t);let i=t.getInlineRange();if(!i)return;let s=t.yTextString.slice(i.index,i.index+i.length);e.clipboardData?.setData("text/plain",s),e.preventDefault(),e.stopPropagation()},this._onCut=e=>{let t=this.inlineEditor;(0,V.Z1)(t);let i=t.getInlineRange();if(!i)return;let s=t.yTextString.slice(i.index,i.index+i.length);t.deleteText(i),t.setInlineRange({index:i.index,length:0}),e.clipboardData?.setData("text/plain",s),e.preventDefault(),e.stopPropagation()},this._onPaste=async e=>{let t=this.inlineEditor;(0,V.Z1)(t);let i=t.getInlineRange();if(!i)return;let s=e.clipboardData?.getData("text/plain")?.replace(/\r?\n|\r/g,"\n");if(s){if(e.preventDefault(),e.stopPropagation(),nR(s)){let e=this.std,o=await e?.spec.getService("affine:page").quickSearchService?.searchDoc({userInput:s,skipSelection:!0});o&&"docId"in o?(t.insertText(i," ",{reference:{type:"LinkedPage",pageId:o.docId}}),t.setInlineRange({index:i.index+1,length:0})):(t.insertText(i,s,{link:s}),t.setInlineRange({index:i.index+s.length,length:0}))}else t.insertText(i,s),t.setInlineRange({index:i.index+s.length,length:0})}}}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;wX(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),wQ(t,s)}get std(){let e=this.view.getContext(sd);return e?.std}connectedCallback(){super.connectedCallback();let e=e=>{"a"===e.key&&(sn.vL?e.metaKey:e.ctrlKey)&&(e.stopPropagation(),e.preventDefault(),this.inlineEditor.selectAll())};this.addEventListener("keydown",e),this.disposables.add(()=>{this.removeEventListener("keydown",e)})}firstUpdated(e){super.firstUpdated(e),this.disposables.addFromEvent(this.richText,"copy",this._onCopy),this.disposables.addFromEvent(this.richText,"cut",this._onCut),this.disposables.addFromEvent(this.richText,"paste",e=>{this._onPaste(e).catch(console.error)}),this.richText.updateComplete.then(()=>{this.inlineEditor.focusEnd(),this.disposables.add(this.inlineEditor.slots.inlineRangeUpdate.on(([e])=>{e?this.isEditing||this.selectCurrentCell(!0):this.isEditing&&this.selectCurrentCell(!1)}))}).catch(console.error)}render(){return(0,ic.qy)`${this.renderIcon()}
      <rich-text
        .yText=${this.value}
        .inlineEventSource=${this.topContenteditableElement}
        .attributesSchema=${this.attributesSchema}
        .attributeRenderer=${this.attributeRenderer}
        .embedChecker=${this.inlineManager?.embedChecker}
        .markdownShortcutHandler=${this.inlineManager?.markdownShortcutHandler}
        .readonly=${this.readonly}
        .enableClipboard=${!1}
        .verticalScrollContainerGetter=${()=>this.topContenteditableElement?.host?(0,sc.dV)(this.topContenteditableElement.host):null}
        class="data-view-header-area-rich-text can-link-doc"
      ></rich-text>`}},t})(),w5=wK.renderConfig({icon:oe("TitleIcon"),cellRenderer:{view:s8(sx(w0),e=>({...e,showIcon:e.cell.view instanceof hY})),edit:s8(sx(w2),e=>({...e,showIcon:e.cell.view instanceof hY}))}}),w7=[cX.dateColumnConfig,cX.numberColumnConfig,cX.progressColumnConfig,cX.selectColumnConfig,cX.multiSelectColumnConfig,cX.linkColumnConfig,cX.checkboxColumnConfig,oT],w3=Object.fromEntries([...w7,cX.imageColumnConfig,w5].map(e=>[e.type,e])),w4={table:(e,t,i,s)=>({id:i,name:s,mode:"table",columns:[],filter:{type:"group",op:"and",conditions:[]},header:{titleColumn:t.columns.find(e=>"title"===e.type)?.id,iconColumn:"type"}}),kanban(e,t,i,s){let o=t.columns.filter(t=>{let i=e[t.type].model.dataType(t.data);return!!dw.match(i)&&"title"!==t.type}),r=e=>[cm.type,cV.type].includes(e.type)?3:[c_.type,cU.type].includes(e.type)?2:1,a=o.sort((e,t)=>r(t)-r(e))[0];if(!a)throw new u.Ss(p.O.DatabaseBlockError,"not implement yet");return{id:i,name:s,mode:"kanban",columns:t.columns.map(e=>({id:e.id,hide:!1})),filter:{type:"group",op:"and",conditions:[]},groupBy:d5(e[a.type],a.id,a.data),header:{titleColumn:t.columns.find(e=>"title"===e.type)?.id,iconColumn:"type"},groupProperties:[]}}},w6=(e,t)=>{e.addColumn("start",wK.create(wK.model.name)),xe(e,t)},w8=(e,t)=>{e.addColumn("end",cX.multiSelectColumnConfig.model.create("Tag",{options:[]})),w6(e,t)},w9=(e,t)=>{let i=[(0,v.Ak)(),(0,v.Ak)(),(0,v.Ak)()],s=e.addColumn("end",cX.selectColumnConfig.model.create("Status",{options:[{id:i[0],color:oC(),value:"TODO"},{id:i[1],color:oC(),value:"In Progress"},{id:i[2],color:oC(),value:"Done"}]}));for(let t=0;t<4;t++){let o=e.doc.addBlock("affine:paragraph",{text:new e.doc.Text(`Task ${t+1}`)},e.id);e.updateCell(o,{columnId:s,value:i[t]})}w6(e,t)},xe=(e,t)=>{let i=e.doc.generateBlockId(),s=w4[t.type](w3,e,i,t.model.defaultName);return e.doc.transact(()=>{e.views=[...e.views,s]}),s};var xt=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},xi=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let xs=[{meta:u1.tableViewConfig,text:"Table view",icon:a_},{meta:u1.kanbanViewConfig,text:"Kanban view",icon:ak}],xo=["affine:list","affine:paragraph"];function xr(e){e.clearConfig().addParagraphDropdown().addDivider().addTextStyleToggle({key:"bold",action:e=>e.toggleBold().run(),icon:a$}).addTextStyleToggle({key:"italic",action:e=>e.toggleItalic().run(),icon:aT}).addTextStyleToggle({key:"underline",action:e=>e.toggleUnderline().run(),icon:aO}).addTextStyleToggle({key:"strike",action:e=>e.toggleStrike().run(),icon:aP}).addTextStyleToggle({key:"code",action:e=>e.toggleCode().run(),icon:aA}).addTextStyleToggle({key:"link",action:e=>e.toggleLink().run(),icon:aH}).addDivider().addHighlighterDropdown().addDivider().addInlineAction({id:"convert-to-database",name:"Create Database",icon:aC,isActive:()=>!1,action:()=>{rt({template:(0,H.qy)`<database-convert-view
            .host=${e.host}
          ></database-convert-view>`})},showWhen:e=>{let t=(e=0)=>(t,i)=>{let{selectedBlocks:s}=t;s&&s.length!==e&&s.every(e=>xo.includes(e.flavour))&&i()},[i]=e.getTextSelection().getSelectedBlocks({types:["text"]}).inline(t(1)).run();return!!i||([i]=e.tryAll(e=>[e.getBlockSelections(),e.getImageSelections()]).getSelectedBlocks({types:["block","image"]}).inline(t(0)).run(),i)}}).addDivider().addInlineAction({id:"convert-to-linked-doc",name:"Create Linked Doc",icon:nL,isActive:()=>!1,action:(e,t)=>{let[i,s]=e.getSelectedModels({types:["block","text"],mode:"highest"}).run(),{selectedModels:o}=s;if((0,V.Z1)(o),!o.length)return;let r=t.host;r.selection.clear();let a=r.doc;m4(r,m6(o)).then(e=>{if(null===e)return;let t=vc(a,o,e);r.spec.getService("affine:embed-linked-doc").slots.linkedDocCreated.emit({docId:t.id}),m8(r,a),r.spec.getService("affine:page").telemetryService?.track("DocCreated",{control:"create linked doc",page:"doc editor",module:"format toolbar",type:"embed-linked-doc"}),r.spec.getService("affine:page").telemetryService?.track("LinkedDocCreated",{control:"create linked doc",page:"doc editor",module:"format toolbar",type:"embed-linked-doc"})})},showWhen:e=>{let[t,i]=e.getSelectedModels({types:["block","text"],mode:"highest"}).run(),{selectedModels:s}=i;return!!s&&s.length>0}}).addBlockTypeSwitch({flavour:"affine:paragraph",type:"text",name:"Text",icon:au}).addBlockTypeSwitch({flavour:"affine:paragraph",type:"h1",name:"Heading 1",icon:af}).addBlockTypeSwitch({flavour:"affine:paragraph",type:"h2",name:"Heading 2",icon:ag}).addBlockTypeSwitch({flavour:"affine:paragraph",type:"h3",name:"Heading 3",icon:am}).addBlockTypeSwitch({flavour:"affine:paragraph",type:"h4",name:"Heading 4",icon:av}).addBlockTypeSwitch({flavour:"affine:paragraph",type:"h5",name:"Heading 5",icon:ay}).addBlockTypeSwitch({flavour:"affine:paragraph",type:"h6",name:"Heading 6",icon:ab}).addBlockTypeSwitch({flavour:"affine:list",type:"bulleted",name:"Bulleted List",icon:aw}).addBlockTypeSwitch({flavour:"affine:list",type:"numbered",name:"Numbered List",icon:ax}).addBlockTypeSwitch({flavour:"affine:list",type:"todo",name:"To-do List",icon:aM}).addBlockTypeSwitch({flavour:"affine:code",name:"Code Block",icon:aA}).addBlockTypeSwitch({flavour:"affine:paragraph",type:"quote",name:"Quote",icon:aI})}(()=>{let e,t,i=[(0,L.EM)("database-convert-view")],s=[],o=(0,P.Tm)(H.WF),r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;xt(this,null,[(0,L.MZ)({attribute:!1})],{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:n},r,a),xt(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    :host {
      position: fixed;
      inset: 0;
      z-index: var(--affine-z-index-modal);
    }
    .overlay-mask {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.6);
      z-index: var(--affine-z-index-modal);
    }
    .modal-container {
      position: absolute;
      z-index: var(--affine-z-index-modal);
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      width: 720px;
      padding: 24px 40px;
      border-radius: 24px;
      background: var(--affine-background-overlay-panel-color);
    }
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .modal-header-title {
      color: var(--affine-text-primary-color);
      font-size: 20px;
      font-weight: 600;
    }
    .modal-header-close-icon {
      display: flex;
      align-items: center;
      color: var(--affine-icon-color);
      cursor: pointer;
    }
    .modal-header-close-icon svg {
      width: 24px;
      height: 24px;
    }
    .modal-footer {
      color: var(--affine-text-secondary-color);
      font-size: 14px;
      text-align: center;
    }
    .modal-body {
      padding: 24px 0;
    }
    .modal-desc {
      margin-bottom: 38px;
      color: var(--affine-text-primary-color);
      font-size: 14px;
    }
    .modal-view-container {
      display: flex;
      justify-content: center;
      gap: 18px;
    }
    .modal-view-item {
      display: flex;
      flex-direction: column;
      gap: 6px;
      cursor: pointer;
    }
    .modal-view-item.coming-soon {
      cursor: not-allowed;
    }
    .modal-view-item.coming-soon .modal-view-item-content {
      pointer-events: none;
    }
    .modal-view-item-content:hover {
      background: var(--affine-hover-color);
    }
    .modal-view-item-content:hover .modal-view-item-text,
    .modal-view-item-content:hover svg {
      fill: var(--affine-primary-color);
      color: var(--affine-primary-color);
    }
    .modal-view-item-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 18px 0;
      gap: 6px;
      width: 108px;
      border: 2px solid var(--affine-border-color);
      border-radius: 8px;
    }
    .modal-view-item-icon {
      width: 42px;
      height: 42px;
    }
    .modal-view-item-icon svg {
      width: 42px;
      height: 42px;
      fill: var(--affine-black-50);
    }
    .modal-view-item-text {
      font-size: 14px;
      color: var(--affine-black-50);
    }
    .modal-view-item-description {
      font-size: 12px;
      color: var(--affine-text-secondary-color);
      text-align: center;
    }
  `}_convertToDatabase(e){let[t,i]=this.host.std.command.chain().getSelectedModels({types:["block","text"]}).run(),{selectedModels:s}=i;if(!s||0===s.length)return;this.doc.captureSync();let o=this.doc.getParent(s[0]);(0,V.Z1)(o);let r=this.doc.addBlock("affine:database",{},o,o.children.indexOf(s[0])),a=this.doc.getBlockById(r);(0,V.Z1)(a),w8(a,e),a.applyColumnUpdate(),this.doc.moveBlocks(s,a),this.host.selection.clear(),this.remove()}render(){return(0,H.qy)`<div>
      <div
        @click="${()=>{this.remove()}}"
        class="overlay-mask"
      ></div>
      <div class="modal-container">
        <div class="modal-header">
          <div class="modal-header-title">Select Database View</div>
          <div class="modal-header-close-icon">${sP}</div>
        </div>
        <div class="modal-body">
          <div class="modal-desc">
            Group as Database can quickly convert selected blocks into Database
            for easy structuring of data.
          </div>
          <div class="modal-view-container">
            ${xs.map(e=>(0,H.qy)`
                <div
                  class="modal-view-item ${e.meta.type}"
                  @mousedown="${e=>{e.preventDefault()}}"
                  @click="${()=>{this._convertToDatabase(e.meta)}}"
                >
                  <div class="modal-view-item-content">
                    <div class="modal-view-item-icon">${e.icon}</div>
                    <div class="modal-view-item-text">${e.text}</div>
                  </div>
                  <div class="modal-view-item-description">
                    ${e.description}
                  </div>
                </div>
              `)}
          </div>
        </div>
        <div class="modal-footer">More views are on the way.</div>
      </div>
    </div>`}get doc(){return this.host.doc}#n=xi(this,r,void 0);get host(){return this.#n}set host(e){this.#n=e}constructor(){super(...arguments),xi(this,a)}static{xi(t,s)}})})();let xa=(0,H.AH)`
  .paragraph-button-icon > svg:nth-child(2) {
    transition-duration: 0.3s;
  }
  .paragraph-button-icon:is(:hover, :focus-visible, :active)
    > svg:nth-child(2) {
    transform: rotate(180deg);
  }

  .highlight-icon > svg:nth-child(2) {
    transition-duration: 0.3s;
  }
  .highlight-icon:is(:hover, :focus-visible, :active) > svg:nth-child(2) {
    transform: rotate(180deg);
  }

  .highlight-panel {
    max-height: 380px;
  }

  .highligh-panel-heading {
    display: flex;
    color: var(--affine-text-secondary-color);
    padding: 4px;
  }

  editor-menu-content {
    display: none;
    position: absolute;
    padding: 0;
    z-index: var(--affine-z-index-popover);
    --packed-height: 6px;
  }

  editor-menu-content > div[data-orientation='vertical'] {
    padding: 8px;
    overflow-y: auto;
  }

  ${cl('editor-menu-content > div[data-orientation="vertical"]')}
`,xn=(0,H.AH)`
  .affine-format-bar-widget {
    position: absolute;
    display: none;
    z-index: var(--affine-z-index-popover);
    user-select: none;
  }

  ${xa}
`;var xl=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},xc=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let xd="affine-format-bar-widget",xh=(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)(xd)],l=[],c=P.W,d=[],h=[],u=[],p=[],f=[],g=[],m=[],y=[],b=[],w=[];return class extends c{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.wk)()],r=[(0,L.wk)()],a=[(0,L.P)(`.${xd}`)],xl(this,null,i,{kind:"accessor",name:"_displayType",static:!1,private:!1,access:{has:e=>"_displayType"in e,get:e=>e._displayType,set:(e,t)=>{e._displayType=t}},metadata:v},d,h),xl(this,null,s,{kind:"accessor",name:"_dragging",static:!1,private:!1,access:{has:e=>"_dragging"in e,get:e=>e._dragging,set:(e,t)=>{e._dragging=t}},metadata:v},u,p),xl(this,null,o,{kind:"accessor",name:"_selectedBlocks",static:!1,private:!1,access:{has:e=>"_selectedBlocks"in e,get:e=>e._selectedBlocks,set:(e,t)=>{e._selectedBlocks=t}},metadata:v},f,g),xl(this,null,r,{kind:"accessor",name:"configItems",static:!1,private:!1,access:{has:e=>"configItems"in e,get:e=>e.configItems,set:(e,t)=>{e.configItems=t}},metadata:v},m,y),xl(this,null,a,{kind:"accessor",name:"formatBarElement",static:!1,private:!1,access:{has:e=>"formatBarElement"in e,get:e=>e.formatBarElement,set:(e,t)=>{e.formatBarElement=t}},metadata:v},b,w),xl(null,e={value:t},n,{kind:"class",name:t.name,metadata:v},null,l),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=xn}_calculatePlacement(){let e=this.block;this.handleEvent("dragStart",()=>{this._dragging=!0}),this.handleEvent("dragEnd",()=>{this._dragging=!1}),this.disposables.add(this.host.event.add("pointerUp",e=>{let t=null;if("text"===this.displayType||"native"===this.displayType){let e=this.nativeRange;if(!e){this.reset();return}t=e.getBoundingClientRect()}else{if("block"!==this.displayType)return;let e=this._selectedBlocks[0];if(!e)return;t=e.getBoundingClientRect()}let{top:i,bottom:s}=this.host.getBoundingClientRect(),o=e.get("pointerState");s-t.bottom<50?this._placement="top":t.top-Math.max(i,0)<50?this._placement="bottom":o.raw.y<t.top+t.height/2?this._placement="top":this._placement="bottom"})),this.disposables.add(this._selectionManager.slots.changed.on(()=>{(async()=>{let t=e.selection.find("text"),i=e.selection.filter("block"),s=e.selection.find("cursor");if(s&&(!this._lastCursor||!this._selectionEqual(s,this._lastCursor))){this._lastCursor=s;return}if(await this.host.getUpdateComplete(),t){let i=this.host.view.getBlock(t.blockId);if(!t.isCollapsed()&&i&&"content"===i.model.role){if(this._displayType="text",!e.std.range)return;this.host.std.command.chain().getTextSelection().getSelectedBlocks({types:["text"]}).inline(e=>{let{selectedBlocks:t}=e;t&&(this._selectedBlocks=t)}).run();return}this.reset();return}if(i.length>0){this._displayType="block";let e=i.map(e=>{let t=e.blockId;return this.block.host.view.getBlock(t)}).filter(e=>!!e);this._selectedBlocks=e;return}this.reset()})().catch(console.error)})),this.disposables.addFromEvent(document,"selectionchange",()=>{let e=this.host.selection.find("database");if(!e)return;let t=()=>{this.reset(),this.requestUpdate()},i=e.viewSelection;if("table"===i.type&&("area"!==i.selectionType||!i.isEditing)||"kanban"===i.type&&"cell"!==i.selectionType||!i.isEditing)return t();let s=this.nativeRange;if(!s||s.collapsed)return t();this._displayType="native",this.requestUpdate()})}_listenFloatingElement(){let e=this.formatBarElement;(0,V.Z1)(e,"format quick bar should exist");let t=t=>{let i=t();i&&((0,V.Z1)(this._floatDisposables),lE.globalAbortController?.abort(),this._floatDisposables.add((0,oG.ll)(i,e,()=>{let i=t();i&&(0,oG.rD)(i,e,{placement:this._placement,middleware:[(0,oG.cY)(10),(0,oG.mG)(),(0,oG.BN)({padding:6})]}).then(({x:t,y:i})=>{e.style.display="flex",e.style.top=`${i}px`,e.style.left=`${t}px`}).catch(console.error)},{animationFrame:!0})))};switch(this.displayType){case"text":case"native":return t(()=>{let e=this.nativeRange;if(e)return{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects()}});case"block":return t(()=>{let e=this._selectedBlocks[0],t=e?.getBoundingClientRect();if(t)return this._selectedBlocks.forEach(e=>{let i=e.getBoundingClientRect();i.top<t.top&&(t=new DOMRect(t.left,i.top,t.width,t.bottom)),i.bottom>t.bottom&&(t=new DOMRect(t.left,t.top,t.width,i.bottom)),i.left<t.left&&(t=new DOMRect(i.left,t.top,t.right,t.bottom)),i.right>t.right&&(t=new DOMRect(t.left,t.top,i.right,t.bottom))}),{getBoundingClientRect:()=>t,getClientRects:()=>this._selectedBlocks.map(e=>e.getBoundingClientRect())}});default:return}}_selectionEqual(e,t){return!!(e===t||e&&t&&e.equals(t))}get _selectionManager(){return this.host.selection}_shouldDisplay(){if(this.doc.awarenessStore.isReadonly(this.doc.blockCollection)||"block"===this.displayType&&this._selectedBlocks?.[0]?.flavour==="affine:surface-ref")return!1;if("block"===this.displayType&&1===this._selectedBlocks.length){let e=this._selectedBlocks[0];if(!(0,iS.o)(e.model,["affine:paragraph","affine:list","affine:code","affine:image"]))return!1}if("none"===this.displayType||this._dragging||"text"===this.displayType&&1===this._selectedBlocks.length&&(()=>{let[e]=this._selectedBlocks,t=e.querySelector("rich-text"),i=t?.inlineEditor;if(!t||!i)return!1;let s=i.getInlineRange();if(!s||s.length>1)return!1;let o=i.getDeltasByInlineRange(s);if(o.length>2)return!1;let r=o?.[1]?.[0];return!!r&&i.isEmbed(r)})())return!1;let e=this.host.doc.root?.id,t=e?this.host.view.getWidget("affine-ai-panel-widget",e):null;return!t||t?.state==="hidden"}addBlockTypeSwitch(e){let{flavour:t,type:i,icon:s}=e;return this.addParagraphAction({id:`${t}/${i??""}`,icon:s,flavour:t,name:e.name??xu(i??t),action:e=>{e.updateBlockType({flavour:t,props:null!=i?{type:i}:void 0}).run()}})}addDivider(){return this.configItems.push({type:"divider"}),this}addHighlighterDropdown(){return this.configItems.push({type:"highlighter-dropdown"}),this}addInlineAction(e){return this.configItems.push({...e,type:"inline-action"}),this}addParagraphAction(e){return this.configItems.push({...e,type:"paragraph-action"}),this}addParagraphDropdown(){return this.configItems.push({type:"paragraph-dropdown"}),this}addRawConfigItems(e,t){return void 0===t?this.configItems.push(...e):this.configItems.splice(t,0,...e),this}addTextStyleToggle(e){let{key:t}=e;return this.addInlineAction({id:t,name:xu(t),icon:e.icon,isActive:e=>{let[i]=e.isTextStyleActive({key:t}).run();return i},action:e.action,showWhen:e=>{let[t]=wZ(e).run();return t}})}clearConfig(){return this.configItems=[],this}connectedCallback(){super.connectedCallback(),this._abortController=new AbortController;let e=this.block;if((0,V.Z1)(e),Object.hasOwn(e.widgets,xd)){if(!mG(e)){console.error(`format bar not support rootComponent: ${e.constructor.name} but its widgets has format bar`);return}this._calculatePlacement(),0===this.configItems.length&&xr(this)}}disconnectedCallback(){super.disconnectedCallback(),this._abortController.abort(),this.reset(),this._lastCursor=void 0}render(){var e;if(!this._shouldDisplay())return H.s6;let t=(e=this,e.configItems.filter(t=>{if("paragraph-action"===t.type)return!1;if("highlighter-dropdown"===t.type){let[t]=wZ(e.std.command.chain()).run();return t}return"inline-action"!==t.type||t.showWhen(e.std.command.chain(),e)}).map(t=>{let i=null;switch(t.type){case"divider":i=wk();break;case"highlighter-dropdown":i=wU(e);break;case"paragraph-dropdown":i=wY(e);break;case"inline-action":i=(0,H.qy)`
            <editor-icon-button
              data-testid=${t.id}
              ?active=${t.isActive(e.std.command.chain(),e)}
              .tooltip=${t.name}
              @click=${()=>{t.action(e.std.command.chain(),e),e.requestUpdate()}}
            >
              ${"function"==typeof t.icon?t.icon():t.icon}
            </editor-icon-button>
          `;break;case"custom":i=t.render(e);break;default:i=null}return[i,t]}).filter(([e])=>null!=e).filter(([e,t],i,s)=>"divider"!==t.type||0!==i&&i!==s.length-1&&"divider"!==s[i+1][1].type).map(([e])=>e));return(0,H.qy)`
      <editor-toolbar class="${xd}">
        ${t}
        <editor-toolbar-separator></editor-toolbar-separator>
        ${function(e){let t=[[{type:"copy",name:"Copy",icon:aL,disabled:e.doc.readonly,handler:()=>{e.std.command.chain().getSelectedModels().with({onCopy:()=>{l8(e.host,"Copied to clipboard")}}).draftSelectedModels().copySelectedModels().run()}},{type:"duplicate",name:"Duplicate",icon:aZ,disabled:e.doc.readonly,handler:()=>{e.std.doc.captureSync(),e.std.command.chain().try(e=>[e.getTextSelection().inline((e,t)=>{let i=e.currentTextSelection;(0,V.Z1)(i),t({currentSelectionPath:(i.to??i.from).blockId})}),e.getBlockSelections().inline((e,t)=>{let i=e.currentBlockSelections;(0,V.Z1)(i);let s=i.at(-1);s&&t({currentSelectionPath:s.blockId})})]).getBlockIndex().getSelectedModels().draftSelectedModels().inline((t,i)=>(t.draftedModels&&t.draftedModels.then(i=>{let s=v.Ji.fromModels(t.std.doc,i);return e.std.clipboard.duplicateSlice(s,t.std.doc,t.parentBlock?.model.id,t.blockIndex?t.blockIndex+1:void 0)}).catch(console.error),i())).run()}}],[{type:"delete",name:"Delete",icon:aj,disabled:e.doc.readonly,handler:()=>{let[t]=e.std.command.chain().getTextSelection().deleteText().run();t||(e.std.command.chain().tryAll(e=>[e.getBlockSelections(),e.getImageSelections()]).getSelectedModels().deleteSelectedModels().run(),e.reset())}}]];return(0,H.qy)`
    <editor-menu-button
      .contentPadding=${"8px"}
      .button=${(0,H.qy)`
        <editor-icon-button aria-label="More" .tooltip=${"More"}>
          ${eU}
        </editor-icon-button>
      `}
    >
      <div data-size="large" data-orientation="vertical">
        ${wE(t)}
      </div>
    </editor-menu-button>
  `}(this)}
      </editor-toolbar>
    `}reset(){this._displayType="none",this._selectedBlocks=[]}updated(){if(!this._shouldDisplay()){this._floatDisposables&&this._floatDisposables.dispose();return}this._floatDisposables=new ix.K,this._listenFloatingElement()}get displayType(){return this._displayType}get nativeRange(){let e=document.getSelection();return e&&0!==e.rangeCount?e.getRangeAt(0):null}get selectedBlocks(){return this._selectedBlocks}#sK;get _displayType(){return this.#sK}set _displayType(e){this.#sK=e}#sX;get _dragging(){return this.#sX}set _dragging(e){this.#sX=e}#sQ;get _selectedBlocks(){return this.#sQ}set _selectedBlocks(e){this.#sQ=e}#sJ;get configItems(){return this.#sJ}set configItems(e){this.#sJ=e}#s1;get formatBarElement(){return this.#s1}set formatBarElement(e){this.#s1=e}constructor(){super(...arguments),this._abortController=new AbortController,this._floatDisposables=null,this._lastCursor=void 0,this._placement="top",this.#sK=xc(this,d,"none"),this.#sX=(xc(this,h),xc(this,u,!1)),this.#sQ=(xc(this,p),xc(this,f,[])),this.#sJ=(xc(this,g),xc(this,m,[])),this.#s1=(xc(this,y),xc(this,b,null)),xc(this,w)}static{xc(t,l)}},t})();function xu(e){let t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}class xp extends _.h{constructor(){super(...arguments),this.bound=null}clear(){this.bound=null,this._renderer?.refresh()}highlight(e){let t=m.z.deserialize(e.xywh);this.bound=t,this._renderer?.refresh()}render(e,t){if(!this.bound)return;let{x:i,y:s,w:o,h:r}=this.bound;e.beginPath(),e.strokeStyle="#1E96EB",e.lineWidth=2,e.roundRect(i,s,o,r,8),e.stroke()}}class xf{constructor(e){this._rootService=e,this._disposable=new ix.K}createFrameOnSelected(){let e=this._rootService.frames,t=this._rootService.doc.getBlockByFlavour("affine:surface")[0],i=gI(this._rootService.selection.selectedElements);if((i=i.expand(40)).w<800){let e=(800-i.w)/2;i=i.expand(e,0)}if(i.h<640){let e=(640-i.h)/2;i=i.expand(0,e)}let s=this._rootService.addBlock("affine:frame",{title:new v.rl.Y.Text(`Frame ${e.length+1}`),xywh:i.serialize()},t),o=this._rootService.getElementById(s);return this._rootService.doc.captureSync(),(0,V.Z1)(o),this._rootService.selection.set({elements:[o.id],editing:!1}),this._rootService.getElementById(s)}dispose(){this._disposable.dispose()}getElementsInFrame(e,t=!0){let i=m.z.deserialize(e.xywh);return this._rootService.layer.canvasGrid.search(i,!0).concat(xg(this._rootService.doc,e,t))}selectFrame(e){let t=this._rootService.frames;if(0===t.length)return null;let i=e.filter(e=>gP(e)),s=gI(e);for(let e=t.length-1;e>=0;e--){let o=t[e];if(!i.includes(o)&&m.z.deserialize(o.xywh).contains(s))return o}return null}}function xg(e,t,i=!0){let s=m.z.deserialize(t.xywh),o=e.getBlockByFlavour(["affine:surface"]);return(function(e,t,i=!0){let s=m.z.deserialize(t.xywh);return e.getBlockByFlavour("affine:note").filter(e=>{let t=m.z.deserialize(e.xywh);return i?s.contains(t):s.isPointInBound([t.x,t.y])})})(e,t,i).concat(o[0].children.filter(e=>{if(e.id!==t.id){if(e instanceof iE.y){let t=m.z.deserialize(e.xywh);return i?s.contains(t):s.containsPoint([t.x,t.y])}return!1}}))}function xm(e){let[t,i,s,o]=(0,f.W)(e.xywh);return{x:t,y:i,w:s,h:o}}let xv={exportFile(e,t){let i=document.createElement("a");i.setAttribute("href",t);let s=function(e){e=function(e,t){let i=" ".replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),s=RegExp(`(?:${i}){2,}`,"g");return e.replace(s," ")}(e=e.normalize("NFD").replace(/[<>:"/\\|?*\u0000-\u001F]/g," ").replace(/[\u0000-\u001F\u0080-\u009F]/g," ").replace(/\.+$/,""),0);let t=(e=/^(con|prn|aux|nul|com\d|lpt\d)$/i.test(e)?e+" ":e).lastIndexOf("."),i=e.slice(0,t).trim(),s=e.slice(t);return e=i.slice(0,Math.max(1,50-s.length))+s}(e);i.setAttribute("download",s),i.style.display="none",document.body.append(i),i.click(),i.remove()},exportPng(e,t){let i=e?.trim()||"Untitled";xv.exportFile(i+".png",t)}};class xy{constructor(e,t){this._replaceRichTextWithSvgElement=e=>{Array.from(e.querySelectorAll(".inline-editor")).map(e=>{let t=this._elementToSvgElement(e.cloneNode(!0),e.clientWidth,e.clientHeight+1);e.parentElement?.append(t),e.remove()})},this.replaceImgSrcWithSvg=async e=>{let t=Array.from(e.querySelectorAll("img")).map(e=>es(e.src,void 0,this._exportOptions.imageProxyEndpoint).then(e=>e&&e.blob()).then(async t=>{if(t&&"image/svg+xml"===t.type){let i=new DOMParser().parseFromString(await t.text(),"image/svg+xml").documentElement;if(!i.hasAttribute("width")&&!i.hasAttribute("height")){let e=i.viewBox.baseVal;i.setAttribute("width",`${e.width}px`),i.setAttribute("height",`${e.height}px`)}let s=new XMLSerializer().serializeToString(i);e.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(s)}}));await Promise.all(t)},this._exportOptions=t,this._blockService=e}_checkCanContinueToCanvas(e,t){if(location.pathname!==e||(0,st.zU)(this.editorHost)!==t)throw new u.Ss(p.O.EdgelessExportError,"Unable to export content to canvas")}async _checkReady(){let e=location.pathname,t=(0,st.zU)(this.editorHost);return new Promise((i,s)=>{let o=0,r=setInterval(()=>{try{this._checkCanContinueToCanvas(e,t)}catch(e){clearInterval(r),s(e)}let a=this.doc.root,n=this.doc.root?(0,st.DG)(this.editorHost,a):null,l=n?.querySelector("affine-image-block-card"),c=!l||"0"===l.getAttribute("imageState");n&&c&&(clearInterval(r),i(!0)),++o>600&&(clearInterval(r),i(!1))},100)})}_createCanvas(e,t){let i=document.createElement("canvas"),s=window.devicePixelRatio||1,o=i.getContext("2d");return i.width=(e.w+100)*s,i.height=(e.h+100)*s,o.scale(s,s),o.fillStyle=t,o.fillRect(0,0,i.width,i.height),{canvas:i,ctx:o}}_disableMediaPrint(){document.querySelectorAll(".media-print").forEach(e=>{e.classList.add("hide")})}async _docToCanvas(){let e;let t=(await i.e(421).then(i.t.bind(i,72052,19))).default;if(!(t instanceof Function))return;let s=location.pathname,o=(0,st.zU)(this.editorHost),r=(0,st.$n)(this.editorHost);(0,V.Z1)(r);let a=r.viewportElement;(0,V.Z1)(a);let n=a.querySelector(".affine-page-root-block-container"),l=n?.getBoundingClientRect(),{viewport:c}=r;(0,V.Z1)(c);let d=l?.width,h=l?.left??0,u=a?.scrollHeight,p={ignoreElements:function(e){return!!(fA.PT.includes(e.tagName)||e.classList.contains("dg"))||!!(e.classList.contains("close")&&e.parentElement?.classList.contains("meta-data-expanded-title")||e.classList.contains("expand")&&e.parentElement?.classList.contains("meta-data"))},onclone:async(e,t)=>{t.style.height=`${u}px`,this._replaceRichTextWithSvgElement(t),await this.replaceImgSrcWithSvg(t)},backgroundColor:window.getComputedStyle(a).backgroundColor,x:h-c.left,width:d,height:u,useCORS:!this._exportOptions.imageProxyEndpoint,proxy:this._exportOptions.imageProxyEndpoint};try{this._enableMediaPrint(),e=await t(a,p)}finally{this._disableMediaPrint()}return this._checkCanContinueToCanvas(s,o),e}_drawEdgelessBackground(e,{size:t,backgroundColor:i,gridColor:s}){let o=`<svg width='${e.canvas.width}px' height='${e.canvas.height}px' xmlns='http://www.w3.org/2000/svg' style='background-size:${t}px ${t}px;background-color:${i}; background-image: radial-gradient(${s} 1px, ${i} 1px)'></svg>`,r=new Image,a=()=>{r.onload=null,r.onerror=null};return new Promise((t,i)=>{r.onload=()=>{a(),e.drawImage(r,0,0),t()},r.onerror=e=>{a(),i(e)},r.src=`data:image/svg+xml,${encodeURIComponent(o)}`})}_elementToSvgElement(e,t,i){let s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),r=document.createElementNS(s,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${i}`),o.setAttribute("viewBox",`0 0 ${t} ${i}`),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("x","0"),r.setAttribute("y","0"),r.setAttribute("externalResourcesRequired","true"),o.append(r),r.append(e),o}_enableMediaPrint(){document.querySelectorAll(".media-print").forEach(e=>{e.classList.remove("hide")})}async _html2canvas(e,t={}){let s;let o=(await i.e(421).then(i.t.bind(i,72052,19))).default,r={ignoreElements:function(e){return!!(fA.PT.includes(e.tagName)||e.classList.contains("dg"))},onclone:async(e,t)=>{t.style.setProperty("transform","none");let i=t.classList.contains(".affine-edgeless-layer")?t:null;i instanceof HTMLElement&&i.style.setProperty("transform","none"),e.querySelectorAll("[style*='box-shadow']").forEach(function(e){e instanceof HTMLElement&&e.style.setProperty("box-shadow","none")}),this._replaceRichTextWithSvgElement(t),await this.replaceImgSrcWithSvg(t)},useCORS:!this._exportOptions.imageProxyEndpoint,proxy:this._exportOptions.imageProxyEndpoint};try{this._enableMediaPrint(),s=await o(e,Object.assign(r,t))}finally{this._disableMediaPrint()}return s}async _toCanvas(){try{await this._checkReady()}catch(e){console.error("Failed to export to canvas"),console.error(e);return}if((0,st.zU)(this.editorHost))return this._docToCanvas();{let e=this.doc.root;if(!e)return;let t=(0,st.DG)(this.editorHost,e),i=t.getElementsBound();return(0,V.Z1)(i),this.edgelessToCanvas(t.surface.renderer,i,e=>(0,st.Au)(e,this.editorHost.view),t)}}async edgelessToCanvas(e,t,i=()=>null,s,o,r,a){if(!this.doc.root)return;let n=location.pathname,l=(0,st.zU)(this.editorHost),c=(0,st.$n)(this.editorHost);(0,V.Z1)(c);let d=c.viewportElement;(0,V.Z1)(d);let h=window.getComputedStyle(d),u=e=>this._html2canvas(e,{backgroundColor:h.backgroundColor}),p=c.querySelector(".affine-block-children-container");if(!p)return;let{ctx:f,canvas:g}=this._createCanvas(t,window.getComputedStyle(p).backgroundColor);for(let r of(a&&await this._drawEdgelessBackground(f,{backgroundColor:h.getPropertyValue("--affine-background-primary-color"),size:gU(a.zoom,!0).gap,gridColor:h.getPropertyValue("--affine-edgeless-grid-color")}),o??s?.service.pickElementsByBound(t,"blocks")??[])){if((0,st.op)(r,["affine:image"])){if(!r.sourceId)return;let e=await r.doc.blobSync.get(r.sourceId);if(!e)return;let i=e=>new Promise((t,i)=>{let s=new Image;s.onload=()=>t(s),s.onerror=i,s.src=URL.createObjectURL(e)}),s=xm(r);f.drawImage(await i(e),s.x-t.x,s.y-t.y,s.w,s.h)}let s=i(r)?.parentElement;if((0,st.op)(r,["affine:note"])&&(s=s?.closest(".edgeless-block-portal-note")),s){let e=xm(r),i=await this._html2canvas(s);f.drawImage(i,e.x-t.x+50,e.y-t.y+50,e.w,e.h)}if((0,st.op)(r,["affine:frame"])){let s=xg(this.doc,r,!1),o=m.z.deserialize(r.xywh);for(let e=0;e<s.length;e++){let o=s[e],r=i(o),a=xm(o),n=await u(r);f.drawImage(n,a.x-t.x+50,a.y-t.y+50,a.w,a.w/n.width*n.height)}let a=e.getCanvasByBound(o);f.drawImage(a,50,50,o.w,o.h)}this._checkCanContinueToCanvas(n,l)}if(r?.length){let i=r.flatMap(e=>e instanceof M.$?e.childElements.filter(e=>e instanceof k.nz):e),s=e.getCanvasByBound(t,i);f.drawImage(s,50,50,t.w,t.h)}return g}async exportPdf(){let e=this.doc.root;if(!e)return;let t=await this._toCanvas();if(!t)return;let s=await Promise.all([i.e(1006),i.e(2394),i.e(8385)]).then(i.bind(i,71442)),o=await s.PDFDocument.create(),r=o.addPage([t.width,t.height]),a=await o.embedPng(t.toDataURL("PNG")),{width:n,height:l}=a.scale(1);r.drawImage(a,{x:0,y:0,width:n,height:l});let c=await o.saveAsBase64({dataUri:!0});xv.exportFile(e.title.toString()+".pdf",c)}async exportPng(){if(!this.doc.root)return;let e=await this._toCanvas();e&&xv.exportPng(this.doc.root.title.toString(),e.toDataURL("image/png"))}get doc(){return this._blockService.std.doc}get editorHost(){return this._blockService.std.host}}function xb(e,t){let i=new yv,s=i.folder("assets");return(0,V.Z1)(e),e.forEach((i,o)=>{t.includes(o)&&s?.file(v.wm(e,o),i)}),i}function xw(e,t){let i=document.createElement("a");i.setAttribute("download",t);let s=URL.createObjectURL(e);i.setAttribute("href",s),i.style.display="none",document.body.append(i),i.click(),i.remove(),URL.revokeObjectURL(s)}let xx={exportDoc:async function(e){let t,i;let s=new v._O({collection:e.collection}),o=await s.docToSnapshot(e),r=new f3(s);if(!o)return;let a=await r.fromDocSnapshot({snapshot:o,assets:s.assetsManager}),n=e.meta?.title||"Untitled",l=new Blob([a.file],{type:"plain/text"});if(a.assetsIds.length>0){let e=xb(s.assets,a.assetsIds);e.file("index.html",l),t=await e.generateAsync({type:"blob"}),i=`${n}.zip`}else t=l,i=`${n}.html`;xw(t,i)}},x_={exportDoc:async function(e){let t,i;let s=new v._O({collection:e.collection}),o=await s.docToSnapshot(e),r=new ec(s);if(!o)return;let a=await r.fromDocSnapshot({snapshot:o,assets:s.assetsManager}),n=e.meta?.title||"Untitled",l=new Blob([a.file],{type:"plain/text"});if(a.assetsIds.length>0){let e=xb(s.assets,a.assetsIds);e.file("index.md",l),t=await e.generateAsync({type:"blob"}),i=`${n}.zip`}else t=l,i=`${n}.md`;xw(t,i)},importMarkdown:async function({doc:e,markdown:t,noteId:i}){let s=new v._O({collection:e.collection,middlewares:[ga]}),o=new ec(s),r=await o.toSliceSnapshot({file:t,assets:s.assetsManager,pageVersion:e.collection.meta.pageVersion,workspaceVersion:e.collection.meta.workspaceVersion,workspaceId:e.collection.id,pageId:e.id});for(let t of((0,V.Z1)(r,"import markdown failed, expected to get a snapshot"),r.content.flatMap(e=>e.children)))await s.snapshotToBlock(t,e,i)}},xC={exportDocs:async function(e,t){let i=new yv,s=new v._O({collection:e}),o=await Promise.all(t.map(s.docToSnapshot)),r=s.collectionInfoToSnapshot();i.file("info.json",JSON.stringify(r,null,2)),o.filter(e=>!!e).forEach(e=>{let t=`${e.meta.id}.snapshot.json`;i.file(t,JSON.stringify(e,null,2))});let a=i.folder("assets");(0,V.Z1)(a);let n=s.assets;return n.forEach((e,t)=>{let i=(0,v.wm)(n,t).split(".").at(-1),s=`${t}.${i}`;a.file(s,e)}),i.generateAsync({type:"blob"})},importDocs:async function(e,t){let i,s;let o=new yv,{files:r}=await o.loadAsync(t),a=[],n=[];Object.entries(r).map(([e,t])=>{if(!(e.includes("MACOSX")||e.includes("DS_Store"))){if(e.startsWith("assets/")&&!t.dir){a.push(t);return}if("info.json"===e){i=t;return}if(e.endsWith(".snapshot.json")){n.push(t);return}}});{let e=await i?.async("text");(0,V.Z1)(e),s=JSON.parse(e)}let l=new v._O({collection:e,middlewares:[gt,({slots:e,collection:t})=>{e.afterImport.on(e=>{"page"===e.type&&t.schema.upgradeDoc(s?.pageVersion??0,{},e.page.spaceDoc)})},gs]}),c=l.assets;return await Promise.all(a.map(async e=>{let t=e.name.replace("assets/",""),i=t.replace(/\.[^/.]+$/,""),s=await e.async("blob"),o=t.split(".").at(-1)??"",r=new File([s],t,{type:v.yf.get(o)??""});c.set(i,r)})),Promise.all(n.map(async e=>{let t=JSON.parse(await e.async("text")),i=[];return l.walk(t,e=>{let t=e.props?.sourceId;if(t&&t.startsWith("/")){let s=t.replace(/^\//,"");if(c.has(s)){let t=c.get(s);i.push(t.arrayBuffer().then(e=>(0,j.h)(e)).then(i=>{c.set(i,t),e.props.sourceId=i}))}}}),await Promise.all(i),l.snapshotToDoc(t)}))}};var xk=i(79996);let xS=lY.z.enum(["None","Arrow","Triangle","Circle","Diamond"]),xM=lY.z.nativeEnum(C.u1),xE=lY.z.nativeEnum(q.D9),xI=lY.z.nativeEnum(C.lH),xB=lY.z.nativeEnum(O._6),x$=lY.z.nativeEnum(C.ay),xT=lY.z.nativeEnum(C.IT),xO=lY.z.nativeEnum(C.zz),xP=lY.z.nativeEnum(C.nO),xA=lY.z.nativeEnum(C.f1),xH=lY.z.nativeEnum(O.IO),xL=lY.z.nativeEnum(q.ko),xD=lY.z.union([lY.z.object({normal:lY.z.string()}),lY.z.object({light:lY.z.string(),dark:lY.z.string()})]),xZ=lY.z.union([g0,xD]),xj=lY.z.union([O.PU,xD]),xV=lY.z.union([O.qj,xD]),xR=lY.z.union([lY.z.string(),xD]),xz=lY.z.union([fv.mh,xD]),xF=lY.z.object({connector:lY.z.object({frontEndpointStyle:xS,rearEndpointStyle:xS,strokeStyle:xM,stroke:xZ,strokeWidth:xE,rough:lY.z.boolean(),mode:lY.z.number().optional()}),brush:lY.z.object({color:xZ,lineWidth:xE}),shape:lY.z.object({shapeType:xH,fillColor:xj,strokeColor:xV,shapeStyle:xI,filled:lY.z.boolean(),radius:lY.z.number(),strokeWidth:lY.z.number().optional(),strokeStyle:xM.optional(),color:xR.optional(),fontSize:xB.optional(),fontFamily:x$.optional(),fontWeight:xT.optional(),fontStyle:xO.optional(),textAlign:xP.optional(),textHorizontalAlign:xP.optional(),textVerticalAlign:xA.optional(),roughness:lY.z.number().optional()}),text:lY.z.object({color:xR,fontFamily:x$,textAlign:xP,fontWeight:xT,fontStyle:xO,fontSize:lY.z.number()}),"affine:edgeless-text":lY.z.object({color:xR,fontFamily:x$,textAlign:xP,fontWeight:xT,fontStyle:xO}),"affine:note":lY.z.object({background:xz,displayMode:xL.optional(),edgeless:lY.z.object({style:lY.z.object({borderRadius:lY.z.number(),borderSize:lY.z.number(),borderStyle:xM,shadowType:fv.jJ})})})}),xN=lY.z.object({viewport:lY.z.union([lY.z.object({centerX:lY.z.number(),centerY:lY.z.number(),zoom:lY.z.number()}),lY.z.object({xywh:lY.z.string(),padding:lY.z.tuple([lY.z.number(),lY.z.number(),lY.z.number(),lY.z.number()]).optional()})]),templateCache:lY.z.string(),remoteColor:lY.z.string(),showBidirectional:lY.z.boolean()}),xq=lY.z.object({presentBlackBackground:lY.z.boolean(),presentFillScreen:lY.z.boolean(),presentHideToolbar:lY.z.boolean(),autoHideEmbedHTMLFullScreenToolbar:lY.z.boolean()});function xU(e){return e in xN.shape}class xW{constructor(e){this._service=e,this._disposables=new ix.K,this._lastProps={connector:{frontEndpointStyle:S.F7,rearEndpointStyle:S.OM,stroke:g3,strokeStyle:C.u1.Solid,strokeWidth:q.D9.Two,rough:!1,mode:S.B1.Curve},brush:{color:g2(),lineWidth:q.D9.Four},shape:{color:O.qV,shapeType:O.IO.Rect,fillColor:O.SO,strokeColor:O.vt,strokeStyle:C.u1.Solid,strokeWidth:q.D9.Two,shapeStyle:C.lH.General,filled:!0,radius:0},text:{color:g5(),fontFamily:C.ay.Inter,textAlign:C.nO.Left,fontWeight:C.IT.Regular,fontStyle:C.zz.Normal,fontSize:24},"affine:edgeless-text":{color:g5(),fontFamily:C.ay.Inter,textAlign:C.nO.Left,fontWeight:C.IT.Regular,fontStyle:C.zz.Normal},"affine:note":{background:fv.KI,displayMode:q.ko.DocAndEdgeless,edgeless:{style:{borderRadius:0,borderSize:4,borderStyle:C.u1.None,shadowType:fv.If}}}},this.slots={lastPropsUpdated:new i_.D,storageUpdated:new i_.D};let t=sessionStorage.getItem("blocksuite:prop:record");if(t){let e=xF.safeParse(JSON.parse(t));e.success&&(this._lastProps=e.data)}}_getStorage(e){return xU(e)?sessionStorage:localStorage}_getStorageKey(e){let t=this._service.doc.id;switch(e){case"viewport":return"blocksuite:"+t+":edgelessViewport";case"presentBlackBackground":return"blocksuite:presentation:blackBackground";case"presentFillScreen":return"blocksuite:presentation:fillScreen";case"presentHideToolbar":return"blocksuite:presentation:hideToolbar";case"templateCache":return"blocksuite:"+t+":templateTool";case"remoteColor":return"blocksuite:remote-color";case"showBidirectional":return"blocksuite:"+t+":showBidirectional";case"autoHideEmbedHTMLFullScreenToolbar":return"blocksuite:embedHTML:autoHideFullScreenToolbar";default:return e}}applyLastProps(e,t){xG(e)&&function e(t,i){return Object.keys(i).forEach(s=>{void 0!==i[s]&&(s in t||(t[s]=void 0),void 0===t[s]&&((0,xk.isPlainObject)(i[s])?(t[s]=t[s]??{},e(t[s],i[s])):t[s]=i[s]))}),t}(t,this._lastProps[e])}dispose(){this._disposables.dispose(),this.slots.lastPropsUpdated.dispose()}getLastProps(e){return this._lastProps[e]}getStorage(e){try{let t=this._getStorage(e).getItem(this._getStorageKey(e));if(!t)return null;if(e in xq.shape)return xq.shape[e].parse(JSON.parse(t));if(xU(e))return xN.shape[e].parse(JSON.parse(t));return null}catch{return null}}recordLastProps(e,t){if(!xG(e))return;let i=this._lastProps[e],s=function e(t,i){let s={};return Object.entries(t).forEach(([o,r])=>{if(o in i.shape){if((0,xk.isPlainObject)(r)){if(["background","color","stroke","fill","Color"].some(e=>o.startsWith(e)||o.endsWith(e))&&xD.safeParse(r).success){let e=function(e){let t={};for(let[i,s]of Object.entries(e))t[i]=s.startsWith("#")?s.substring(0,7):s;return t}(r);if(0===Object.keys(e).length)return;s[o]=e;return}s[o]=e(t[o],i.shape[o])}else s[o]=r}}),s}(t,xF.shape[e]);0!==Object.keys(s).length&&((0,xk.merge)(i,s),this.slots.lastPropsUpdated.emit({type:e,props:s}))}setStorage(e,t){let i=this.getStorage(e);this._getStorage(e).setItem(this._getStorageKey(e),JSON.stringify(t)),i!==t&&this.slots.storageUpdated.emit({key:e,value:t})}}function xG(e){return Object.keys(xF.shape).includes(e)}let xY=sn.$M?({font:e,weight:t,url:i,style:s})=>new FontFace(`"${e}"`,`url(${i})`,{weight:t,style:s}):({font:e,weight:t,url:i,style:s})=>new FontFace(e,`url(${i})`,{weight:t,style:s});class xK{constructor(){this.fontFaces=[]}clear(){this.fontFaces.forEach(e=>document.fonts.delete(e)),this.fontFaces.splice(0,this.fontFaces.length)}load(e){this.fontFaces.push(...e.map(e=>{let t=xY(e);return document.fonts.add(t),t.load().catch(console.error),t}))}get ready(){return Promise.all(this.fontFaces.map(e=>e.loaded))}}class xX extends P.ps{constructor(){super(...arguments),this._embedBlockRegistry=new Set,this._exportOptions={imageProxyEndpoint:fA.$R},this._fileDropOptions={flavour:this.flavour},this._getParentModelBySelection=()=>{let e=this.docModeService.getMode(),t=this.doc.root;if(!t)return{index:void 0,model:null};if("edgeless"===e)return{index:void 0,model:t.children.find(e=>"affine:surface"===e.flavour)??null};if("page"===e){let e,t=this.selectedBlocks[0]?.model;for(t||(t=this._getLastNoteBlock());t&&"affine:note"!==t.flavour;){let i=this.doc.getParent(t.id);e=i?.children.indexOf(t),t=i}return{index:e,model:t}}return{index:void 0,model:null}},this._insertCard=(e,t,i)=>{let s=this.host,o=this.docModeService.getMode(),{model:r,index:a}=this._getParentModelBySelection();if("page"===o){s.doc.addBlock(e,i,r,a);return}if("edgeless"===o){let o=(0,st.$n)(s);if(!o)return;o.service.viewport.smoothZoom(1);let r=o.surface,a=iv.l.toVec(r.renderer.viewport.center),n=o.service.addBlock(e,{...i,xywh:m.z.fromCenter(a,fA.Cd[t],fA.Hn[t]).serialize(),style:t},r.model);o.service.selection.set({elements:[n],editing:!1}),o.tools.setEdgelessTool({type:"default"});return}},this._insertDoc=e=>{let t="affine:embed-linked-doc";return this._insertCard(t,"vertical",{pageId:e}),t},this._insertLink=e=>{let t=this.getEmbedBlockOptions(e),i="affine:bookmark",s="vertical";return t&&(i=t.flavour,s=t.styles[0]),this._insertCard(i,s,{url:e}),i},this.appendParagraph=(e="")=>{let{doc:t}=this;if(!t.root||t.readonly)return;let i=this._getLastNoteBlock()?.id;i||(i=t.addBlock("affine:note",{},t.root.id));let s=t.addBlock("affine:paragraph",{text:new t.Text(e)},i);li.Km(this.host,s,e.length)?.catch(console.error)},this.docModeService=function(e){let t={setMode:(t,i=e)=>{ld.set(i,t),lh.get(i)?.emit(t)},getMode:(t=e)=>ld.get(t)??"page",toggleMode:(i=e)=>{let s="page"===t.getMode(i)?"edgeless":"page";return t.setMode(s),s},onModeChange:(t,i=e)=>(lh.get(i)||lh.set(i,new i_.D),lh.get(i).on(t))};return t}(this.doc.id),this.editPropsStore=new xW(this),this.exportManager=new xy(this,this._exportOptions),this.fileDropManager=new lg(this,this._fileDropOptions),this.fontLoader=new xK,this.getEmbedBlockOptions=e=>{for(let[t]of this._embedBlockRegistry.entries())if(t.urlRegex.test(e))return t;return null},this.insertLinkByQuickSearch=async(e,t)=>{if(!this.quickSearchService)return;let i=await this.quickSearchService.searchDoc({action:"insert",userInput:e,skipSelection:t});if(i){if("docId"in i)return this._insertDoc(i.docId),{flavour:"affine:embed-linked-doc",isNewDoc:i.isNewDoc};if("userInput"in i)return this._insertLink(i.userInput),{flavour:"affine:bookmark"}}},this.notificationService=null,this.peekViewService=null,this.quickSearchService=null,this.registerEmbedBlockOptions=e=>{this._embedBlockRegistry.add(e)},this.telemetryService=null,this.themeObserver=im.Q.instance,this.transformers={markdown:x_,html:xx,zip:xC}}_getLastNoteBlock(){let{doc:e}=this,t=null;if(!e.root)return null;let{children:i}=e.root;for(let e=i.length-1;e>=0;e--){let s=i[e];if((0,iS.o)(s,["affine:note"])&&s.displayMode!==q.ko.EdgelessOnly){t=s;break}}return t}loadFonts(){this.fontLoader.load(C.$F)}mounted(){super.mounted(),this.std.command.add("getBlockIndex",fy).add("getNextBlock",fb).add("getPrevBlock",fw).add("getSelectedBlocks",fx).add("copySelectedModels",f_).add("deleteSelectedModels",fC).add("draftSelectedModels",fk).add("getSelectedModels",fS).add("getBlockSelections",fM).add("getImageSelections",fE).add("getTextSelection",fI).add("deleteText",fB).add("formatBlock",fP).add("formatNative",fH).add("formatText",fD).add("peekSelectedBlock",lG).add("getSelectedPeekableBlocks",lW),this.loadFonts(),this.disposables.addFromEvent(this.host,"dragover",this.fileDropManager.onDragOver),this.disposables.addFromEvent(this.host,"dragleave",this.fileDropManager.onDragLeave),this.disposables.add(this.std.event.add("pointerDown",e=>{e.get("pointerState").raw.stopPropagation()}))}unmounted(){this.editPropsStore.dispose(),this.fontLoader.clear()}get selectedBlocks(){let e=[];return this.std.command.chain().tryAll(e=>[e.getTextSelection(),e.getImageSelections(),e.getBlockSelections()]).getSelectedBlocks().inline(({selectedBlocks:t})=>{t&&(e=t)}).run(),e}get selectedModels(){return this.selectedBlocks.map(e=>e.model)}get viewportElement(){let e=this.std.view.viewFromPath("block",[this.std.doc.root?.id??""]);(0,V.Z1)(e);let t=e.viewportElement;return(0,V.Z1)(t),t}}class xQ extends xX{constructor(){super(...arguments),this.slots={docLinkClicked:new v.DX,tagClicked:new v.DX,viewportUpdated:new v.DX}}}var xJ=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},x1=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let x0="affine-viewport-overlay-widget";(()=>{let e,t,i=[(0,L.EM)(x0)],s=[],o=P.W,r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;xJ(this,null,[(0,L.wk)()],{kind:"accessor",name:"_lockViewport",static:!1,private:!1,access:{has:e=>"_lockViewport"in e,get:e=>e._lockViewport,set:(e,t)=>{e._lockViewport=t}},metadata:n},r,a),xJ(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    .affine-viewport-overlay-widget {
      position: absolute;
      top: 0;
      left: 0;
      background: transparent;
      pointer-events: none;
      z-index: calc(var(--affine-z-index-popover) - 1);
    }

    .affine-viewport-overlay-widget.lock {
      pointer-events: auto;
    }
  `}connectedCallback(){super.connectedCallback(),this.handleEvent("dragStart",()=>this._lockViewport,{global:!0}),this.handleEvent("pointerDown",()=>this._lockViewport,{global:!0}),this.handleEvent("click",()=>this._lockViewport,{global:!0})}lock(){this._lockViewport=!0}render(){let e=(0,oJ.H)({"affine-viewport-overlay-widget":!0,lock:this._lockViewport}),t=(0,Z.W)({width:`${this._lockViewport?"100vw":"0"}`,height:`${this._lockViewport?"100%":"0"}`});return(0,H.qy)` <div class=${e} style=${t}></div> `}toggleLock(){this._lockViewport=!this._lockViewport}unlock(){this._lockViewport=!1}#s0=x1(this,r,!1);get _lockViewport(){return this.#s0}set _lockViewport(e){this.#s0=e}constructor(){super(...arguments),x1(this,a)}static{x1(t,s)}})})();var x2=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},x5=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};function x7(e,t){let i=(0,sc.zU)(e)?"page":"edgeless";return t.map(t=>({...t,items:t.items.filter(t=>!t.showWhen||t.showWhen(e.command.chain(),i,e))})).filter(e=>e.items.length>0)}(()=>{let e,t,i=[(0,L.EM)("ai-panel-divider")],s=[],o=(0,P.Tm)(H.WF);(class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;x2(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      align-self: stretch;
      width: 100%;
    }
    .divider {
      height: 0.5px;
      background: var(--affine-border-color);
      width: 100%;
    }
  `}render(){return(0,H.qy)`<div class="divider"></div>`}static{x5(t,s)}})})();var x3=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},x4=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,L.EM)("ai-finish-tip")],a=[],n=(0,P.Tm)(H.WF),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],x3(this,null,i,{kind:"accessor",name:"copied",static:!1,private:!1,access:{has:e=>"copied"in e,get:e=>e.copied,set:(e,t)=>{e.copied=t}},metadata:f},l,c),x3(this,null,s,{kind:"accessor",name:"copy",static:!1,private:!1,access:{has:e=>"copy"in e,get:e=>e.copy,set:(e,t)=>{e.copy=t}},metadata:f},d,h),x3(this,null,o,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:f},u,p),x3(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    .finish-tip {
      display: flex;
      box-sizing: border-box;
      width: 100%;
      height: 22px;
      align-items: center;
      justify-content: space-between;
      padding: 0 12px;
      gap: 4px;

      color: var(--affine-text-secondary-color);

      .text {
        display: flex;
        align-items: flex-start;
        flex: 1 0 0;

        /* light/xs */
        font-size: var(--affine-font-xs);
        font-style: normal;
        font-weight: 400;
        line-height: 20px; /* 166.667% */
      }

      .right {
        display: flex;
        align-items: center;

        .copy,
        .copied {
          display: flex;
          width: 20px;
          height: 20px;
          justify-content: center;
          align-items: center;
          border-radius: 8px;
          user-select: none;
        }
        .copy:hover {
          color: var(--affine-icon-color);
          background: var(--affine-hover-color);
          cursor: pointer;
        }
        .copied {
          color: var(--affine-brand-color);
        }
      }
    }
  `}render(){return(0,H.qy)`<div class="finish-tip">
      ${an}
      <div class="text">AI outputs can be misleading or wrong</div>
      ${this.copy?.allowed?(0,H.qy)`<div class="right">
            ${this.copied?(0,H.qy)`<div class="copied">${rv}</div>`:(0,H.qy)`<div
                  class="copy"
                  @click=${async()=>{if(this.copied=!!await this.copy?.onCopy(),this.copied){let{notificationService:e}=this.host.spec.getService("affine:page");e?.toast("Copied to clipboard")}}}
                >
                  ${aL}
                  <affine-tooltip>Copy</affine-tooltip>
                </div>`}
          </div>`:H.s6}
    </div>`}#s2=x4(this,l,!1);get copied(){return this.#s2}set copied(e){this.#s2=e}#s5=(x4(this,c),x4(this,d,void 0));get copy(){return this.#s5}set copy(e){this.#s5=e}#n=(x4(this,h),x4(this,u,void 0));get host(){return this.#n}set host(e){this.#n=e}constructor(){super(...arguments),x4(this,p)}static{x4(t,a)}})})();var x6=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},x8=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("ai-panel-answer")],n=[],l=(0,P.Tm)(H.WF),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],x6(this,null,i,{kind:"accessor",name:"config",static:!1,private:!1,access:{has:e=>"config"in e,get:e=>e.config,set:(e,t)=>{e.config=t}},metadata:v},c,d),x6(this,null,s,{kind:"accessor",name:"copy",static:!1,private:!1,access:{has:e=>"copy"in e,get:e=>e.copy,set:(e,t)=>{e.copy=t}},metadata:v},h,u),x6(this,null,o,{kind:"accessor",name:"finish",static:!1,private:!1,access:{has:e=>"finish"in e,get:e=>e.finish,set:(e,t)=>{e.finish=t}},metadata:v},p,f),x6(this,null,r,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:v},g,m),x6(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    :host {
      width: 100%;
      display: flex;
      box-sizing: border-box;
      flex-direction: column;
      gap: 8px;
      padding: 0;
    }

    .answer {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: flex-start;
      gap: 4px;
      align-self: stretch;
      font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
      padding: 0 12px;
    }

    .answer-head {
      align-self: stretch;

      color: var(--affine-text-secondary-color);

      /* light/xsMedium */
      font-size: var(--affine-font-xs);
      font-style: normal;
      font-weight: 500;
      line-height: 20px; /* 166.667% */
      height: 20px;
    }

    .answer-body {
      align-self: stretch;

      color: var(--affine-text-primary-color);
      font-feature-settings:
        'clig' off,
        'liga' off;

      /* light/sm */
      font-size: var(--affine-font-xs);
      font-style: normal;
      font-weight: 400;
      line-height: 22px; /* 157.143% */
    }

    .response-list-container {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .response-list-container,
    .action-list-container {
      padding: 0 8px;
      user-select: none;
    }

    /* set item style outside ai-item */
    .response-list-container ai-item-list,
    .action-list-container ai-item-list {
      --item-padding: 4px;
    }

    .response-list-container ai-item-list {
      --item-icon-color: var(--affine-icon-secondary);
      --item-icon-hover-color: var(--affine-icon-color);
    }
  `}render(){let e=x7(this.host,this.config.responses);return(0,H.qy)`
      <div class="answer">
        <div class="answer-head">Answer</div>
        <div class="answer-body">
          <slot></slot>
        </div>
      </div>
      ${this.finish?(0,H.qy)`
            <ai-finish-tip
              .copy=${this.copy}
              .host=${this.host}
            ></ai-finish-tip>
            ${e.length>0?(0,H.qy)`
                  <ai-panel-divider></ai-panel-divider>
                  ${e.map((e,t)=>(0,H.qy)`
                      ${0!==t?(0,H.qy)`<ai-panel-divider></ai-panel-divider>`:H.s6}
                      <div class="response-list-container">
                        <ai-item-list
                          .host=${this.host}
                          .groups=${[e]}
                        ></ai-item-list>
                      </div>
                    `)}
                `:H.s6}
            ${e.length>0&&this.config.actions.length>0?(0,H.qy)`<ai-panel-divider></ai-panel-divider>`:H.s6}
            ${this.config.actions.length>0?(0,H.qy)`
                  <div class="action-list-container">
                    <ai-item-list
                      .host=${this.host}
                      .groups=${this.config.actions}
                    ></ai-item-list>
                  </div>
                `:H.s6}
          `:H.s6}
    `}#t$=x8(this,c,void 0);get config(){return this.#t$}set config(e){this.#t$=e}#s5=(x8(this,d),x8(this,h,void 0));get copy(){return this.#s5}set copy(e){this.#s5=e}#s7=(x8(this,u),x8(this,p,!0));get finish(){return this.#s7}set finish(e){this.#s7=e}#n=(x8(this,f),x8(this,g,void 0));get host(){return this.#n}set host(e){this.#n=e}constructor(){super(...arguments),x8(this,m)}static{x8(t,n)}})})();var x9=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_e=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,r,a,n=[(0,L.EM)("ai-panel-error")],l=[],c=(0,P.Tm)(H.WF),d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[];(class extends c{static{t=this}static{let o="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],x9(this,null,i,{kind:"accessor",name:"config",static:!1,private:!1,access:{has:e=>"config"in e,get:e=>e.config,set:(e,t)=>{e.config=t}},metadata:o},d,h),x9(this,null,s,{kind:"accessor",name:"copy",static:!1,private:!1,access:{has:e=>"copy"in e,get:e=>e.copy,set:(e,t)=>{e.copy=t}},metadata:o},u,p),x9(this,null,r,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:o},f,g),x9(this,null,a,{kind:"accessor",name:"withAnswer",static:!1,private:!1,access:{has:e=>"withAnswer"in e,get:e=>e.withAnswer,set:(e,t)=>{e.withAnswer=t}},metadata:o},m,v),x9(null,e={value:t},n,{kind:"class",name:t.name,metadata:o},null,l),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}static{this.styles=(0,H.AH)`
    :host {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 8px;
      padding: 0;
      font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
    }

    .error {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: flex-start;
      align-self: stretch;
      padding: 0px 12px;
      gap: 4px;
      .answer-tip {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
        gap: 4px;
        align-self: stretch;
        .answer-label {
          align-self: stretch;
          color: var(--affine-text-secondary-color);
          /* light/xsMedium */
          font-size: var(--affine-font-xs);
          font-style: normal;
          font-weight: 500;
          line-height: 20px; /* 166.667% */
        }
      }
      .error-info {
        align-self: stretch;
        color: var(--affine-error-color, #eb4335);
        font-feature-settings:
          'clig' off,
          'liga' off;
        /* light/sm */
        font-size: var(--affine-font-sm);
        font-style: normal;
        font-weight: 400;
        line-height: 22px; /* 157.143% */

        a {
          color: inherit;
        }
      }
      .action-button-group {
        display: flex;
        width: 100%;
        gap: 16px;
        align-items: center;
        justify-content: end;
        margin-top: 4px;
      }
      .action-button {
        display: flex;
        box-sizing: border-box;
        padding: 4px 12px;
        justify-content: center;
        align-items: center;
        gap: 4px;
        border-radius: 8px;
        border: 1px solid var(--affine-border-color);
        background: var(--affine-white);
        color: var(--affine-text-primary-color);
        /* light/xsMedium */
        font-size: var(--affine-font-xs);
        font-style: normal;
        font-weight: 500;
        line-height: 20px; /* 166.667% */
      }
      .action-button:hover {
        cursor: pointer;
      }
      .action-button.primary {
        border: 1px solid var(--affine-black-10);
        background: var(--affine-primary-color);
        color: var(--affine-pure-white);
      }
      .action-button > span {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0 4px;
      }
      .action-button:not(.primary):hover {
        background: var(--affine-hover-color);
      }
    }

    ai-panel-divider {
      margin-top: 4px;
    }

    .response-list-container {
      display: flex;
      flex-direction: column;
      gap: 4px;
      padding: 0 8px;
      user-select: none;
    }

    .response-list-container ai-item-list {
      --item-padding: 4px;
      --item-icon-color: var(--affine-icon-secondary);
      --item-icon-hover-color: var(--affine-icon-color);
    }
  `}render(){let e=this._getResponseGroup(),t=(0,we.S)(this.config.error?.type,[[o.Unauthorized,()=>(0,H.qy)` <div class="error-info">
                You need to login to AFFiNE Cloud to continue using AFFiNE AI.
              </div>
              <div class="action-button-group">
                <div @click=${this.config.cancel} class="action-button">
                  <span>Cancel</span>
                </div>
                <div @click=${this.config.login} class="action-button primary">
                  <span>login</span>
                </div>
              </div>`],[o.PaymentRequired,()=>(0,H.qy)` <div class="error-info">
                You've reached the current usage cap for AFFiNE AI. You can
                subscribe to AFFiNE AI to continue the AI experience!
              </div>
              <div class="action-button-group">
                <div @click=${this.config.cancel} class="action-button">
                  <span>Cancel</span>
                </div>
                <div
                  @click=${this.config.upgrade}
                  class="action-button primary"
                >
                  <span>Upgrade</span>
                </div>
              </div>`]],()=>{let e=this.config.error?.message,t=e?(0,H.qy)`<a class="tip" href="#" data-tip="${e}"
              >An error occurred</a
            >`:"An error occurred";return(0,H.qy)`
          <style>
            .tip {
              position: relative;
              cursor: pointer;
            }

            .tip:hover::after {
              content: attr(data-tip);
              position: absolute;
              left: 0;
              top: 20px;
              background-color: black;
              white-space: nowrap;
              color: white;
              padding: 5px 10px;
              border-radius: 5px;
              z-index: 1000;
              white-space: pre;
            }
          </style>
          <div class="error-info">
            ${t}. Please try again later. If this issue persists, please let
            us know at
            <a href="mailto:support@toeverything.info">
              support@toeverything.info
            </a>
          </div>
        `});return(0,H.qy)`
      <div class="error">
        <div class="answer-tip">
          <div class="answer-label">Answer</div>
          <slot></slot>
        </div>
        ${t}
      </div>
      ${this.withAnswer?(0,H.qy)`<ai-finish-tip
            .copy=${this.copy}
            .host=${this.host}
          ></ai-finish-tip>`:H.s6}
      ${e.length>0?(0,H.qy)`
            <ai-panel-divider></ai-panel-divider>
            ${e.map((e,t)=>(0,H.qy)`
                ${0!==t?(0,H.qy)`<ai-panel-divider></ai-panel-divider>`:H.s6}
                <div class="response-list-container">
                  <ai-item-list
                    .host=${this.host}
                    .groups=${[e]}
                  ></ai-item-list>
                </div>
              `)}
          `:H.s6}
    `}#t$;get config(){return this.#t$}set config(e){this.#t$=e}#s5;get copy(){return this.#s5}set copy(e){this.#s5=e}#n;get host(){return this.#n}set host(e){this.#n=e}#s3;get withAnswer(){return this.#s3}set withAnswer(e){this.#s3=e}constructor(){super(...arguments),this._getResponseGroup=()=>{let e=[],t=this.config.error?.type;return t&&t!==o.GeneralNetworkError?e:e=x7(this.host,this.config.responses)},this.#t$=_e(this,d,void 0),this.#s5=(_e(this,h),_e(this,u,void 0)),this.#n=(_e(this,p),_e(this,f,void 0)),this.#s3=(_e(this,g),_e(this,m,!1)),_e(this,v)}static{_e(t,l)}})})();var _t=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_i=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("generating-placeholder")],n=[],l=(0,P.Tm)(H.WF),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],_t(this,null,i,{kind:"accessor",name:"height",static:!1,private:!1,access:{has:e=>"height"in e,get:e=>e.height,set:(e,t)=>{e.height=t}},metadata:v},c,d),_t(this,null,s,{kind:"accessor",name:"loadingProgress",static:!1,private:!1,access:{has:e=>"loadingProgress"in e,get:e=>e.loadingProgress,set:(e,t)=>{e.loadingProgress=t}},metadata:v},h,u),_t(this,null,o,{kind:"accessor",name:"showHeader",static:!1,private:!1,access:{has:e=>"showHeader"in e,get:e=>e.showHeader,set:(e,t)=>{e.showHeader=t}},metadata:v},p,f),_t(this,null,r,{kind:"accessor",name:"stages",static:!1,private:!1,access:{has:e=>"stages"in e,get:e=>e.stages,set:(e,t)=>{e.stages=t}},metadata:v},g,m),_t(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 4px;
      margin-bottom: 8px;
    }

    .generating-header {
      width: 100%;
      font-size: var(--affine-font-xs);
      font-style: normal;
      font-weight: 500;
      line-height: 20px;
      height: 20px;
    }

    .generating-header,
    .loading-progress {
      color: var(--affine-text-secondary-color);
      font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
    }

    .generating-body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      box-sizing: border-box;
      width: 100%;
      border-radius: 4px;
      border: 2px solid var(--affine-primary-color, #1e96eb);
      background: var(--affine-blue-50, #effaff);
      color: var(--affine-brand-color);
      gap: 4px;
    }

    .generating-icon {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 24px;
    }

    .generating-icon svg {
      scale: 1.5;
    }

    .loading-progress {
      display: flex;
      flex-direction: column;
      font-style: normal;
      font-weight: 400;
      text-align: center;
      gap: 4px;
    }

    .loading-text {
      font-size: var(--affine-font-base);
      height: 24px;
      line-height: 24px;
    }

    .loading-stage {
      font-size: var(--affine-font-xs);
      height: 20px;
      line-height: 20px;
    }
  `}render(){let e=im.Q.mode,t=this.stages[this.loadingProgress-1]||"";return(0,H.qy)`<style>
        .generating-body {
          height: ${this.height}px;
        }
      </style>
      ${this.showHeader?(0,H.qy)`<div class="generating-header">Answer</div>`:H.s6}
      <div class="generating-body">
        <div class="generating-icon">
          ${"light"===e?nx:n_}
        </div>
        <div class="loading-progress">
          <div class="loading-text">${t}</div>
          <div class="loading-stage">
            ${this.loadingProgress} / ${this.stages.length}
          </div>
        </div>
      </div>`}willUpdate(e){e.has("loadingProgress")&&(this.loadingProgress=Math.max(1,Math.min(this.loadingProgress,this.stages.length)))}#F=_i(this,c,300);get height(){return this.#F}set height(e){this.#F=e}#s4=(_i(this,d),_i(this,h,void 0));get loadingProgress(){return this.#s4}set loadingProgress(e){this.#s4=e}#s6=(_i(this,u),_i(this,p,void 0));get showHeader(){return this.#s6}set showHeader(e){this.#s6=e}#s8=(_i(this,f),_i(this,g,void 0));get stages(){return this.#s8}set stages(e){this.#s8=e}constructor(){super(...arguments),_i(this,m)}static{_i(t,n)}})})();var _s=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_o=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("ai-panel-generating")],n=[],l=(0,P.Tm)(H.WF),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],_s(this,null,i,{kind:"accessor",name:"config",static:!1,private:!1,access:{has:e=>"config"in e,get:e=>e.config,set:(e,t)=>{e.config=t}},metadata:v},c,d),_s(this,null,s,{kind:"accessor",name:"loadingProgress",static:!1,private:!1,access:{has:e=>"loadingProgress"in e,get:e=>e.loadingProgress,set:(e,t)=>{e.loadingProgress=t}},metadata:v},h,u),_s(this,null,o,{kind:"accessor",name:"stopGenerating",static:!1,private:!1,access:{has:e=>"stopGenerating"in e,get:e=>e.stopGenerating,set:(e,t)=>{e.stopGenerating=t}},metadata:v},p,f),_s(this,null,r,{kind:"accessor",name:"withAnswer",static:!1,private:!1,access:{has:e=>"withAnswer"in e,get:e=>e.withAnswer,set:(e,t)=>{e.withAnswer=t}},metadata:v},g,m),_s(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    :host {
      width: 100%;
      padding: 0 12px;
      box-sizing: border-box;
      font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
    }

    .generating-tip {
      display: flex;
      width: 100%;
      height: 22px;
      align-items: center;
      gap: 8px;

      color: var(--affine-brand-color);

      .text {
        display: flex;
        align-items: flex-start;
        gap: 10px;
        flex: 1 0 0;

        /* light/smMedium */
        font-size: var(--affine-font-sm);
        font-style: normal;
        font-weight: 500;
        line-height: 22px; /* 157.143% */
      }

      .left,
      .right {
        display: flex;
        height: 20px;
        justify-content: center;
        align-items: center;
      }
      .left {
        width: 20px;
      }
      .right {
        gap: 6px;
      }
      .right:hover {
        cursor: pointer;
      }
      .stop-icon {
        height: 20px;
        width: 20px;
      }
      .esc-label {
        font-size: var(--affine-font-xs);
        font-weight: 500;
        line-height: 20px;
      }
    }
  `}render(){let{generatingIcon:e=rg,stages:t,height:i=300}=this.config;return(0,H.qy)`
      ${t&&t.length>0?(0,H.qy)`<generating-placeholder
            .height=${i}
            .loadingProgress=${this.loadingProgress}
            .stages=${t}
            .showHeader=${!this.withAnswer}
          ></generating-placeholder>`:H.s6}
      <div class="generating-tip">
        <div class="left">${e}</div>
        <div class="text">AI is generating...</div>
        <div @click=${this.stopGenerating} class="right">
          <span class="stop-icon">${rm}</span>
          <span class="esc-label">ESC</span>
        </div>
      </div>
    `}updateLoadingProgress(e){this.loadingProgress=e}#t$=_o(this,c,void 0);get config(){return this.#t$}set config(e){this.#t$=e}#s4=(_o(this,d),_o(this,h,1));get loadingProgress(){return this.#s4}set loadingProgress(e){this.#s4=e}#s9=(_o(this,u),_o(this,p,void 0));get stopGenerating(){return this.#s9}set stopGenerating(e){this.#s9=e}#s3=(_o(this,f),_o(this,g,void 0));get withAnswer(){return this.#s3}set withAnswer(e){this.#s3=e}constructor(){super(...arguments),_o(this,m)}static{_o(t,n)}})})();var _r=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_a=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("ai-panel-input")],l=[],c=(0,P.Tm)(H.WF),d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[];(class extends c{static{t=this}static{let w="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.P)(".arrow")],s=[(0,L.wk)()],o=[(0,L.P)("textarea")],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],_r(this,null,i,{kind:"accessor",name:"_arrow",static:!1,private:!1,access:{has:e=>"_arrow"in e,get:e=>e._arrow,set:(e,t)=>{e._arrow=t}},metadata:w},d,h),_r(this,null,s,{kind:"accessor",name:"_hasContent",static:!1,private:!1,access:{has:e=>"_hasContent"in e,get:e=>e._hasContent,set:(e,t)=>{e._hasContent=t}},metadata:w},u,p),_r(this,null,o,{kind:"accessor",name:"_textarea",static:!1,private:!1,access:{has:e=>"_textarea"in e,get:e=>e._textarea,set:(e,t)=>{e._textarea=t}},metadata:w},f,g),_r(this,null,r,{kind:"accessor",name:"onFinish",static:!1,private:!1,access:{has:e=>"onFinish"in e,get:e=>e.onFinish,set:(e,t)=>{e.onFinish=t}},metadata:w},m,v),_r(this,null,a,{kind:"accessor",name:"onInput",static:!1,private:!1,access:{has:e=>"onInput"in e,get:e=>e.onInput,set:(e,t)=>{e.onInput=t}},metadata:w},y,b),_r(null,e={value:t},n,{kind:"class",name:t.name,metadata:w},null,l),t=e.value,w&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w})}static{this.styles=(0,H.AH)`
    :host {
      width: 100%;
      padding: 0 12px;
      box-sizing: border-box;
    }

    .root {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      background: var(--affine-background-overlay-panel-color);
    }

    .icon {
      display: flex;
      align-items: center;
    }

    .textarea-container {
      display: flex;
      align-items: flex-end;
      gap: 8px;
      flex: 1 0 0;

      textarea {
        flex: 1 0 0;
        border: none;
        outline: none;
        -webkit-box-shadow: none;
        -moz-box-shadow: none;
        box-shadow: none;
        background-color: transparent;
        resize: none;
        overflow: hidden;
        padding: 0px;

        color: var(--affine-text-primary-color);

        /* light/sm */
        font-family: var(--affine-font-family);
        font-size: var(--affine-font-sm);
        font-style: normal;
        font-weight: 400;
        line-height: 22px; /* 157.143% */
      }

      textarea::placeholder {
        color: var(--affine-placeholder-color);
      }

      textarea::-moz-placeholder {
        color: var(--affine-placeholder-color);
      }
    }

    .arrow {
      display: flex;
      align-items: center;
      padding: 2px;
      gap: 10px;
      border-radius: 4px;
      background: var(--affine-black-10, rgba(0, 0, 0, 0.1));

      svg {
        width: 16px;
        height: 16px;
        color: var(--affine-pure-white, #fff);
      }
    }
    .arrow[data-active] {
      background: var(--affine-brand-color, #1e96eb);
    }
    .arrow[data-active]:hover {
      cursor: pointer;
    }
  `}render(){return this.updateComplete.then(()=>{requestAnimationFrame(()=>{this._textarea.focus()})}).catch(console.error),(0,H.qy)`<div class="root">
      <div class="icon">${rf}</div>
      <div class="textarea-container">
        <textarea
          placeholder="Ask AI to edit or generate..."
          rows="1"
          @keydown=${this._onKeyDown}
          @input=${this._onInput}
          @pointerdown=${lt.dG}
          @click=${lt.dG}
          @dblclick=${lt.dG}
          @cut=${lt.dG}
          @copy=${lt.dG}
          @paste=${lt.dG}
          @keyup=${lt.dG}
        ></textarea>
        <div
          class="arrow"
          @click=${this._sendToAI}
          @pointerdown=${lt.dG}
        >
          ${nv}
          ${this._hasContent?(0,H.qy)`<affine-tooltip .offset=${12}>Send to AI</affine-tooltip>`:H.s6}
        </div>
      </div>
    </div>`}updated(e){let t=super.updated(e);return this._textarea.style.height=this._textarea.scrollHeight+"px",t}#oe;get _arrow(){return this.#oe}set _arrow(e){this.#oe=e}#ot;get _hasContent(){return this.#ot}set _hasContent(e){this.#ot=e}#oi;get _textarea(){return this.#oi}set _textarea(e){this.#oi=e}#os;get onFinish(){return this.#os}set onFinish(e){this.#os=e}#oo;get onInput(){return this.#oo}set onInput(e){this.#oo=e}constructor(){super(...arguments),this._onInput=()=>{this._textarea.style.height="auto",this._textarea.style.height=this._textarea.scrollHeight+"px",this.onInput?.(this._textarea.value),this._textarea.value.trim().length>0?(this._arrow.dataset.active="",this._hasContent=!0):(delete this._arrow.dataset.active,this._hasContent=!1)},this._onKeyDown=e=>{"Enter"!==e.key||e.shiftKey||e.isComposing||(e.preventDefault(),this._sendToAI())},this._sendToAI=()=>{let e=this._textarea.value.trim();0!==e.length&&(this.onFinish?.(e),this.remove())},this.#oe=_a(this,d,void 0),this.#ot=(_a(this,h),_a(this,u,!1)),this.#oi=(_a(this,p),_a(this,f,void 0)),this.#os=(_a(this,g),_a(this,m,void 0)),this.#oo=(_a(this,v),_a(this,y,void 0)),_a(this,b)}static{_a(t,l)}})})();var _n=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_l=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let _c="affine-ai-panel-widget",_d=(()=>{let e,t,i,s,o,r=[(0,L.EM)(_c)],a=[],n=P.W,l=[],c=[],d=[],h=[],u=[],p=[];return class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.P)("ai-panel-generating")],o=[(0,L.MZ)()],_n(this,null,i,{kind:"accessor",name:"config",static:!1,private:!1,access:{has:e=>"config"in e,get:e=>e.config,set:(e,t)=>{e.config=t}},metadata:f},l,c),_n(this,null,s,{kind:"accessor",name:"generatingElement",static:!1,private:!1,access:{has:e=>"generatingElement"in e,get:e=>e.generatingElement,set:(e,t)=>{e.generatingElement=t}},metadata:f},d,h),_n(this,null,o,{kind:"accessor",name:"state",static:!1,private:!1,access:{has:e=>"state"in e,get:e=>e.state,set:(e,t)=>{e.state=t}},metadata:f},u,p),_n(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      outline: none;
      border-radius: var(--8, 8px);
      border: 1px solid var(--affine-border-color);
      background: var(--affine-background-overlay-panel-color);
      box-shadow: var(--affine-overlay-shadow);

      position: absolute;
      width: max-content;
      height: auto;
      top: 0;
      left: 0;
      overflow-y: auto;
      scrollbar-width: none !important;
      z-index: var(--affine-z-index-popover);
    }

    .ai-panel-container {
      display: flex;
      flex-direction: column;
      box-sizing: border-box;
      width: 100%;
      height: fit-content;
      padding: 8px 0;
    }

    .ai-panel-container:not(:has(ai-panel-generating)) {
      gap: 8px;
    }

    .ai-panel-container:has(ai-panel-answer),
    .ai-panel-container:has(ai-panel-error),
    .ai-panel-container:has(ai-panel-generating:has(generating-placeholder)) {
      padding: 12px 0;
    }

    :host([data-state='hidden']) {
      display: none;
    }
  `}_autoUpdatePosition(e){{let t=e.querySelector(".affine-block-children-container");t&&t.previousElementSibling&&(e=t.previousElementSibling)}this._stopAutoUpdate?.(),this._stopAutoUpdate=(0,oG.ll)(e,this,()=>{(0,oG.rD)(e,this,this._calcPositionOptions(e)).then(({x:e,y:t})=>{this.style.left=`${e}px`,this.style.top=`${t}px`}).catch(console.error)})}_calcPositionOptions(e){let t;{let e=this.host.std.spec.getService("affine:page");if(e instanceof xQ)t=void 0;else{let i=e.viewport;t={x:i.left,y:i.top,width:i.width,height:i.height-100}}}let i={padding:20,rootBoundary:t};return(0,sc.NN)(e)?{placement:"bottom-start",middleware:[(0,oG.cY)(8),(0,oG.BN)(i)]}:e.closest("edgeless-block-portal-note")?{middleware:[(0,oG.cY)(8),(0,oG.BN)(i),(0,oG.RK)({...i,allowedPlacements:["top-start","bottom-start"]})]}:{placement:"right-start",middleware:[(0,oG.cY)({mainAxis:16}),(0,oG.UU)({mainAxis:!0,crossAxis:!0,flipAlignment:!0,...i}),(0,oG.BN)({crossAxis:!0,...i})]}}_restoreSelection(){this._selection&&(this.host.selection.set([...this._selection]),"hidden"===this.state&&(this._selection=void 0))}connectedCallback(){super.connectedCallback(),this.tabIndex=-1,this.disposables.addFromEvent(document,"pointerdown",this._onDocumentClick),this.disposables.add(this.block.host.event.add("pointerDown",e=>this._onDocumentClick(e.get("pointerState").event))),this.disposables.add(this.block.host.event.add("click",()=>"hidden"!==this.state)),this.disposables.addFromEvent(this,"wheel",lt.dG),this.disposables.addFromEvent(this,"pointerdown",lt.dG),this.disposables.addFromEvent(this,"pointerup",lt.dG),this.disposables.addFromEvent(this,"keydown",this._onKeyDown)}disconnectedCallback(){super.disconnectedCallback(),this._clearDiscardModal(),this._stopAutoUpdate?.()}render(){if("hidden"===this.state||!this.config)return H.s6;let e=this.config;this.updateComplete.then(()=>{this.focus()}).catch(console.error);let t=(0,we.S)(this.state,[["input",()=>(0,H.qy)`<ai-panel-input
            .onBlur=${()=>this.discard()}
            .onFinish=${this._inputFinish}
            .onInput=${this.onInput}
          ></ai-panel-input>`],["generating",()=>(0,H.qy)`
          ${this.answer?(0,H.qy)`
                <ai-panel-answer
                  .finish=${!1}
                  .config=${e.finishStateConfig}
                  .host=${this.host}
                >
                  ${this.answer&&e.answerRenderer(this.answer,this.state)}
                </ai-panel-answer>
              `:H.s6}
          <ai-panel-generating
            .config=${e.generatingStateConfig}
            .stopGenerating=${this.stopGenerating}
            .withAnswer=${!!this.answer}
          ></ai-panel-generating>
        `],["finished",()=>(0,H.qy)`
          <ai-panel-answer
            .config=${e.finishStateConfig}
            .copy=${e.copy}
            .host=${this.host}
          >
            ${this.answer&&e.answerRenderer(this.answer,this.state)}
          </ai-panel-answer>
        `],["error",()=>(0,H.qy)`
          <ai-panel-error
            .config=${e.errorStateConfig}
            .copy=${e.copy}
            .withAnswer=${!!this.answer}
            .host=${this.host}
          >
            ${this.answer&&e.answerRenderer(this.answer,this.state)}
          </ai-panel-error>
        `]]);return(0,H.qy)`<div class="ai-panel-container">${t}</div>`}willUpdate(e){let t=e.get("state");if(t){"hidden"===t?(this._selection=this.host.selection.value,requestAnimationFrame(()=>{this.scrollIntoView({block:"center"})})):(this.host.updateComplete.then(()=>{"hidden"!==this.state&&this.focus()}).catch(console.error),this._restoreSelection());let e=this.host.doc.root?.id,i=e?this.host.view.getWidget(xd,e):null;i&&i.requestUpdate()}"hidden"!==this.state?this.viewportOverlayWidget?.lock():this.viewportOverlayWidget?.unlock(),this.dataset.state=this.state}get answer(){return this._answer}get inputText(){return this._inputText}get viewportOverlayWidget(){let e=this.host.doc.root?.id;return e?this.host.view.getWidget(x0,e):null}#t$;get config(){return this.#t$}set config(e){this.#t$=e}#or;get generatingElement(){return this.#or}set generatingElement(e){this.#or=e}#oa;get state(){return this.#oa}set state(e){this.#oa=e}constructor(){super(...arguments),this._abortController=new AbortController,this._answer=null,this._cancelCallback=()=>{this.focus()},this._clearDiscardModal=()=>{this._discardModalAbort&&(this._discardModalAbort.abort(),this._discardModalAbort=null)},this._clickOutside=()=>{switch(this.state){case"hidden":return;case"error":case"finished":this._answer?this.discard():this.hide();break;default:this.discard()}},this._discardCallback=()=>{this.hide(),this.config?.discardCallback?.()},this._discardModalAbort=null,this._inputFinish=e=>{this._inputText=e,this.generate()},this._inputText=null,this._onDocumentClick=e=>!("hidden"===this.state||e.target===this||this.contains(e.target))&&(this._clickOutside(),!0),this._onKeyDown=e=>{e.stopPropagation();let{state:t}=this;if("generating"!==t&&"input"!==t)return;let{key:i,isComposing:s}=e;if("Escape"===i){"generating"===t?this.stopGenerating():this.hide();return}if("Delete"===i||"Backspace"===i){if(s)return;"input"!==t||this._inputText||this.hide()}},this._resetAbortController=()=>{"generating"===this.state&&this._abortController.abort(),this._abortController=new AbortController},this.ctx=null,this.discard=()=>{if(("finished"===this.state||"error"===this.state)&&!this.answer){this._discardCallback();return}if("input"===this.state){this.hide();return}this.showDiscardModal().then(e=>{e?this._discardCallback():this._cancelCallback(),this._restoreSelection()}).catch(console.error)},this.generate=()=>{(0,V.Z1)(this.config);let e=this._inputText;(0,V.Z1)(e),(0,V.Z1)(this.config.generateAnswer),this._resetAbortController(),this._answer=null,this.scrollTop=0,this.state="generating",this.config.generateAnswer({input:e,update:e=>{this._answer=e,this.requestUpdate()},finish:(e,t)=>{"aborted"!==e&&((0,V.Z1)(this.config),"error"===e?(this.state="error",this.config.errorStateConfig.error=t):(this.state="finished",this.config.errorStateConfig.error=void 0),this._resetAbortController())},signal:this._abortController.signal})},this.hide=()=>{this._resetAbortController(),this.state="hidden",this._stopAutoUpdate?.(),this._inputText=null,this._answer=null,this._stopAutoUpdate=void 0,this.config?.hideCallback?.(),this.viewportOverlayWidget?.unlock()},this.onInput=e=>{this._inputText=e},this.showDiscardModal=()=>{let e=this.host.std.spec.getService("affine:page").notificationService;return e?(this._clearDiscardModal(),this._discardModalAbort=new AbortController,e.confirm({title:"Discard the AI result",message:"Do you want to discard the results the AI just generated?",cancelText:"Cancel",confirmText:"Discard",abort:this._abortController.signal}).finally(()=>this._discardModalAbort=null)):Promise.resolve(!0)},this.stopGenerating=()=>{this._abortController.abort(),this.state="finished",this.answer||this.hide()},this.toggle=(e,t)=>{t?(this._inputText=t,this.generate()):(this.hide(),this.state="input"),this._autoUpdatePosition(e)},this.#t$=_l(this,l,null),this.#or=(_l(this,c),_l(this,d,null)),this.#oa=(_l(this,h),_l(this,u,"hidden")),_l(this,p)}static{_l(t,a)}},t})(),_h=(0,H.AH)`
  :host {
    ${yo};

    flex-direction: column;
    padding: 0;

    max-height: 100%;
    pointer-events: auto;
    overflow: hidden;
    z-index: var(--affine-z-index-popover);
  }

  .affine-filterable-list {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    justify-content: center;
    width: 230px;
    padding: 8px;
    box-sizing: border-box;
    overflow: hidden;
  }

  .affine-filterable-list.flipped {
    flex-direction: column-reverse;
  }

  .items-container {
    display: flex;
    flex-direction: column;
    gap: 4px;
    flex: 1;
    overflow-y: scroll;
    padding-top: 5px;
    padding-left: 4px;
    padding-right: 4px;
  }

  editor-toolbar-separator {
    margin: 8px 0;
  }

  .input-wrapper {
    display: flex;
    align-items: center;
    border-radius: 4px;
    padding: 4px 10px;
    gap: 4px;
    border-width: 1px;
    border-style: solid;
    border-color: transparent;
  }

  .input-wrapper:focus-within {
    border-color: var(--affine-blue-700);
    box-shadow: var(--affine-active-shadow);
  }

  ${cl(".items-container")}

  .filterable-item {
    display: flex;
    justify-content: space-between;
    gap: 4px;
    padding: 12px;
  }

  .filterable-item > div[slot='suffix'] {
    display: flex;
    align-items: center;
  }

  .filterable-item svg {
    width: 20px;
    height: 20px;
  }

  .filterable-item.focussed {
    color: var(--affine-blue-700);
    background: var(--affine-hover-color-filled);
  }

  #filter-input {
    flex: 1;
    align-items: center;
    height: 20px;
    width: 140px;
    border-radius: 8px;
    padding-top: 2px;
    border: transparent;
    background: transparent;
    color: inherit;
  }

  #filter-input:focus {
    outline: none;
  }

  #filter-input::placeholder {
    color: var(--affine-placeholder-color);
    font-size: var(--affine-font-sm);
  }
`;var _u=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_p=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let _f=(()=>{let e,t,i,s,o,r,a,n,l,c,d=[(0,L.EM)("affine-filterable-list")],h=[],u=(0,P.Tm)(H.WF),p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[];return class extends u{static{t=this}static{let B="function"==typeof Symbol&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.P)("#filter-input")],o=[(0,L.wk)()],r=[(0,L.P)(".filterable-item.focussed")],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({attribute:!1})],c=[(0,L.MZ)({attribute:!1})],_u(this,null,i,{kind:"accessor",name:"_curFocusIndex",static:!1,private:!1,access:{has:e=>"_curFocusIndex"in e,get:e=>e._curFocusIndex,set:(e,t)=>{e._curFocusIndex=t}},metadata:B},p,f),_u(this,null,s,{kind:"accessor",name:"_filterInput",static:!1,private:!1,access:{has:e=>"_filterInput"in e,get:e=>e._filterInput,set:(e,t)=>{e._filterInput=t}},metadata:B},g,m),_u(this,null,o,{kind:"accessor",name:"_filterText",static:!1,private:!1,access:{has:e=>"_filterText"in e,get:e=>e._filterText,set:(e,t)=>{e._filterText=t}},metadata:B},v,y),_u(this,null,r,{kind:"accessor",name:"_focussedItem",static:!1,private:!1,access:{has:e=>"_focussedItem"in e,get:e=>e._focussedItem,set:(e,t)=>{e._focussedItem=t}},metadata:B},b,w),_u(this,null,a,{kind:"accessor",name:"abortController",static:!1,private:!1,access:{has:e=>"abortController"in e,get:e=>e.abortController,set:(e,t)=>{e.abortController=t}},metadata:B},x,_),_u(this,null,n,{kind:"accessor",name:"listFilter",static:!1,private:!1,access:{has:e=>"listFilter"in e,get:e=>e.listFilter,set:(e,t)=>{e.listFilter=t}},metadata:B},C,k),_u(this,null,l,{kind:"accessor",name:"options",static:!1,private:!1,access:{has:e=>"options"in e,get:e=>e.options,set:(e,t)=>{e.options=t}},metadata:B},S,M),_u(this,null,c,{kind:"accessor",name:"placement",static:!1,private:!1,access:{has:e=>"placement"in e,get:e=>e.placement,set:(e,t)=>{e.placement=t}},metadata:B},E,I),_u(null,e={value:t},d,{kind:"class",name:t.name,metadata:B},null,h),t=e.value,B&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:B})}static{this.styles=_h}_buildContent(e){return e.map((e,t)=>{let i=this._curFocusIndex===t;return(0,H.qy)`
        <icon-button
          class=${(0,oJ.H)({"filterable-item":!0,focussed:i})}
          @mouseover=${()=>this._curFocusIndex=t}
          @click=${()=>this._select(e)}
          hover=${i}
          width="100%"
          height="32px"
        >
          ${e.icon??H.s6} ${e.label??e.name}
          <div slot="suffix">
            ${this.options.active?.(e)?rw:H.s6}
          </div>
        </icon-button>
      `})}_filterItems(){return(this._filterText?this.options.items.filter(e=>e.name.startsWith(this._filterText.toLowerCase())||e.aliases?.some(e=>e.startsWith(this._filterText.toLowerCase()))):this.options.items).sort((e,t)=>{let i=this.options.active?.(e),s=this.options.active?.(t);return i&&!s?-1/0:!i&&s?1/0:this.listFilter?.(e,t)??1/0})}_scrollFocusedItemIntoView(){this.updateComplete.then(()=>{this._focussedItem?.scrollIntoView({block:"nearest",inline:"start"})}).catch(console.error)}_select(e){this.abortController?.abort(),this.options.onSelect(e)}connectedCallback(){super.connectedCallback(),requestAnimationFrame(()=>{this._filterInput.focus()})}render(){let e=this._filterItems(),t=this._buildContent(e),i=!!this.placement?.startsWith("top");return(0,H.qy)`
      <div
        class=${(0,oJ.H)({"affine-filterable-list":!0,flipped:i})}
      >
        <div class="input-wrapper">
          ${aq}
          <input
            id="filter-input"
            type="text"
            placeholder=${this.options?.placeholder??"Search"}
            @input="${()=>{this._filterText=this._filterInput?.value,this._curFocusIndex=0}}"
            @keydown="${i=>{switch(i.key){case"ArrowUp":i.preventDefault(),this._curFocusIndex=(this._curFocusIndex+t.length-1)%t.length,this._scrollFocusedItemIntoView();break;case"ArrowDown":i.preventDefault(),this._curFocusIndex=(this._curFocusIndex+1)%t.length,this._scrollFocusedItemIntoView();break;case"Enter":{if(i.isComposing)break;i.preventDefault();let t=e[this._curFocusIndex];this._select(t);break}case"Escape":i.preventDefault(),this.abortController?.abort()}}}"
          />
        </div>

        <editor-toolbar-separator
          data-orientation="horizontal"
        ></editor-toolbar-separator>
        <div class="items-container">${t}</div>
      </div>
    `}#on=_p(this,p,0);get _curFocusIndex(){return this.#on}set _curFocusIndex(e){this.#on=e}#ol=(_p(this,f),_p(this,g,void 0));get _filterInput(){return this.#ol}set _filterInput(e){this.#ol=e}#oc=(_p(this,m),_p(this,v,""));get _filterText(){return this.#oc}set _filterText(e){this.#oc=e}#od=(_p(this,y),_p(this,b,void 0));get _focussedItem(){return this.#od}set _focussedItem(e){this.#od=e}#eS=(_p(this,w),_p(this,x,null));get abortController(){return this.#eS}set abortController(e){this.#eS=e}#oh=(_p(this,_),_p(this,C,void 0));get listFilter(){return this.#oh}set listFilter(e){this.#oh=e}#ez=(_p(this,k),_p(this,S,void 0));get options(){return this.#ez}set options(e){this.#ez=e}#to=(_p(this,M),_p(this,E,void 0));get placement(){return this.#to}set placement(e){this.#to=e}constructor(){super(...arguments),_p(this,I)}static{_p(t,h)}},t})();var _g=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_m=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("language-list-button")],n=[],l=H.WF,c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.P)(".lang-button")],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],_g(this,null,i,{kind:"accessor",name:"_currentLanguage",static:!1,private:!1,access:{has:e=>"_currentLanguage"in e,get:e=>e._currentLanguage,set:(e,t)=>{e._currentLanguage=t}},metadata:v},c,d),_g(this,null,s,{kind:"accessor",name:"_langButton",static:!1,private:!1,access:{has:e=>"_langButton"in e,get:e=>e._langButton,set:(e,t)=>{e._langButton=t}},metadata:v},h,u),_g(this,null,o,{kind:"accessor",name:"blockComponent",static:!1,private:!1,access:{has:e=>"blockComponent"in e,get:e=>e.blockComponent,set:(e,t)=>{e.blockComponent=t}},metadata:v},p,f),_g(this,null,r,{kind:"accessor",name:"onActiveStatusChange",static:!1,private:!1,access:{has:e=>"onActiveStatusChange"in e,get:e=>e.onActiveStatusChange,set:(e,t)=>{e.onActiveStatusChange=t}},metadata:v},g,m),_g(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    :host {
      position: absolute;
      top: 0;
      left: 0;
      z-index: 1;
    }

    .lang-button {
      background-color: var(--affine-background-primary-color);
      box-shadow: var(--affine-shadow-1);
      display: flex;
      gap: 4px;
      padding: 2px 4px;
    }

    .lang-button:hover {
      background: var(--affine-hover-color-filled);
    }

    .lang-button[hover] {
      background: var(--affine-hover-color-filled);
    }
  `}_updateLanguage(){this._currentLanguage=fU(this.blockComponent.model.language)??ss.XR}connectedCallback(){super.connectedCallback(),this._updateLanguage()}render(){return(0,ic.qy)`<icon-button
      class="lang-button"
      data-testid="lang-button"
      width="auto"
      text=${this._currentLanguage.name??this._currentLanguage.id}
      height="24px"
      @click=${this._clickLangBtn}
      ?disabled=${this.blockComponent.doc.readonly}
    >
      <span slot="suffix">
        ${this.blockComponent.doc.readonly?H.s6:a7}
      </span>
    </icon-button> `}#ou;get _currentLanguage(){return this.#ou}set _currentLanguage(e){this.#ou=e}#op;get _langButton(){return this.#op}set _langButton(e){this.#op=e}#of;get blockComponent(){return this.#of}set blockComponent(e){this.#of=e}#og;get onActiveStatusChange(){return this.#og}set onActiveStatusChange(e){this.#og=e}constructor(){super(...arguments),this._clickLangBtn=()=>{if(!this.blockComponent.doc.readonly){if(this._abortController){this._abortController.abort();return}this._abortController=new AbortController,this._abortController.signal.addEventListener("abort",()=>{this.onActiveStatusChange(!1),this._abortController=void 0}),this.onActiveStatusChange(!0),function({options:e,filter:t,abortController:i=new AbortController,referenceElement:s,container:o,maxHeight:r=440,portalStyles:a}){let n={top:fA.Et+12,bottom:12},l=new _f;l.options=e,l.listFilter=t,l.abortController=i,ri({closeOnClickAway:!0,template:({positionSlot:e})=>(e.on(({placement:e})=>{l.placement=e}),l),container:o,portalStyles:a,computePosition:{referenceElement:s,placement:"bottom-start",middleware:[(0,oG.cY)(4),(0,oG.RK)({allowedPlacements:["top-start","bottom-start"],padding:n}),(0,oG.Ej)({padding:n,apply({availableHeight:e,elements:t,placement:i}){Object.assign(t.floating.style,{height:"100%",maxHeight:`${Math.min(r,e)}px`,pointerEvents:"none",...i.startsWith("top")?{display:"flex",alignItems:"flex-end"}:{display:null,alignItems:null}})}})],autoUpdate:{animationFrame:!0}},abortController:i})}({options:{placeholder:"Search for a language",onSelect:e=>{this.blockComponent.setLang(e.name),this._updateLanguage()},active:e=>e.name===this._currentLanguage.id,items:[...fz.WL,ss.XR].map(e=>({label:e.name,name:e.id,aliases:e.aliases}))},filter:(e,t)=>(fN[e.name]??1/0)-(fN[t.name]??1/0),referenceElement:this._langButton,container:this.blockComponent.host,abortController:this._abortController,portalStyles:{zIndex:"var(--affine-z-index-popover)"}})}},this.#ou=_m(this,c,ss.XR),this.#op=(_m(this,d),_m(this,h,void 0)),this.#of=(_m(this,u),_m(this,p,void 0)),this.#og=(_m(this,f),_m(this,g,A.lQ)),_m(this,m)}static{_m(t,n)}})})();var _v=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_y=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("affine-code-language-list-widget")],s=[],o=P.W;(class extends o{static{t=this}constructor(){super(...arguments),this._hoverController=new lE(this,()=>this._shouldDisplay.value?{template:(0,H.qy)`<language-list-button
          .blockComponent=${this.block}
          .onActiveStatusChange=${async e=>{this._isActivated=e,!e&&!this._hoverController.isHovering&&(await (0,A.yy)(1e3),this._hoverController.isHovering||this._isActivated||this._hoverController.abort())}}
        >
        </language-list-button>`,portalStyles:{zIndex:"var(--affine-z-index-popover)"},container:this.block,computePosition:{referenceElement:this.block,placement:"left-start",middleware:[(0,oG.cY)({mainAxis:-5,crossAxis:5})],autoUpdate:!0}}:null,{allowMultiple:!0}),this._isActivated=!1,this._shouldDisplay=(0,sh.EW)(()=>{let e=this.host.selection,t=e.find("text");if(t&&(t.to||t.from.length))return!1;let i=e.filter("block");return!(i.length>1)&&(1!==i.length||i[0].blockId===this.block.blockId)})}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;_v(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),_y(t,s)}connectedCallback(){super.connectedCallback(),this._hoverController.setReference(this.block),this._hoverController.onAbort=()=>{this._isActivated||this._hoverController.abort()}}})})();let _b=e=>{let t=e.keys,i=t.map(t=>e[t]),{text:s,...o}=Object.fromEntries(t.map((e,t)=>[e,i[t]])),r={flavour:e.flavour,text:e.text.clone(),...o};return e.doc.addSiblingBlocks(e,[r])[0]};var _w=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_x=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l=[(0,L.EM)("affine-code-toolbar")],c=[],d=(0,P.Tm)(H.WF),h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[];(class extends d{static{t=this}static{let C="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.P)(".code-toolbar-button.more")],s=[(0,L.wk)()],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],_w(this,null,i,{kind:"accessor",name:"_moreButton",static:!1,private:!1,access:{has:e=>"_moreButton"in e,get:e=>e._moreButton,set:(e,t)=>{e._moreButton=t}},metadata:C},h,u),_w(this,null,s,{kind:"accessor",name:"_moreMenuOpen",static:!1,private:!1,access:{has:e=>"_moreMenuOpen"in e,get:e=>e._moreMenuOpen,set:(e,t)=>{e._moreMenuOpen=t}},metadata:C},p,f),_w(this,null,o,{kind:"accessor",name:"blockComponent",static:!1,private:!1,access:{has:e=>"blockComponent"in e,get:e=>e.blockComponent,set:(e,t)=>{e.blockComponent=t}},metadata:C},g,m),_w(this,null,r,{kind:"accessor",name:"items",static:!1,private:!1,access:{has:e=>"items"in e,get:e=>e.items,set:(e,t)=>{e.items=t}},metadata:C},v,y),_w(this,null,a,{kind:"accessor",name:"moreItems",static:!1,private:!1,access:{has:e=>"moreItems"in e,get:e=>e.moreItems,set:(e,t)=>{e.moreItems=t}},metadata:C},b,w),_w(this,null,n,{kind:"accessor",name:"onActiveStatusChange",static:!1,private:!1,access:{has:e=>"onActiveStatusChange"in e,get:e=>e.onActiveStatusChange,set:(e,t)=>{e.onActiveStatusChange=t}},metadata:C},x,_),_w(null,e={value:t},l,{kind:"class",name:t.name,metadata:C},null,c),t=e.value,C&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})}static{this.styles=(0,H.AH)`
    :host {
      position: absolute;
      top: 0;
      right: 0;
    }

    .code-toolbar-container {
      height: 24px;
      gap: 4px;
      padding: 4px;
      margin: 0;
    }

    .code-toolbar-button {
      color: var(--affine-icon-color);
      background-color: var(--affine-background-primary-color);
      box-shadow: var(--affine-shadow-1);
      border-radius: 4px;
    }
  `}_toggleMoreMenu(){var e,t;if(this._currentOpenMenu&&!this._currentOpenMenu.signal.aborted&&this._currentOpenMenu===this._popMenuAbortController){this.closeCurrentMenu(),this._moreMenuOpen=!1;return}this.closeCurrentMenu(),this._popMenuAbortController=new AbortController,this._popMenuAbortController.signal.addEventListener("abort",()=>{this._moreMenuOpen=!1,this.onActiveStatusChange(!1)}),this.onActiveStatusChange(!0),this._currentOpenMenu=this._popMenuAbortController,(0,V.Z1)(this._moreButton),ri({template:(0,H.qy)`
        <editor-menu-content
          data-show
          class="more-popup-menu"
          style=${(0,Z.W)({"--content-padding":"8px","--packed-height":"4px"})}
        >
          <div data-size="small" data-orientation="vertical">
            ${(e=this.blockComponent,t=this._popMenuAbortController,this.moreItems.filter(t=>"divider"===t.type||t.showWhen(e)).map(i=>{let s=null;switch(i.type){case"more":{let o=i.name instanceof Function?i.name(e):i.name,r=i.icon instanceof Function?i.icon(e):i.icon,a=`menu-item ${o.toLocaleLowerCase().split(" ").join("-")}`;s=(0,H.qy)`
            <editor-menu-action
              class=${a}
              @click=${s=>{s.stopPropagation(),i.action(e,t)}}
            >
              ${r} ${o}
            </editor-menu-action>
          `;break}case"divider":s=(0,H.qy)`
            <editor-toolbar-separator
              data-orientation="horizontal"
            ></editor-toolbar-separator>
          `;break;default:s=null}return s}).filter(e=>null!==e).map(e=>e))}
          </div>
        </editor-menu-content>
      `,portalStyles:{zIndex:"var(--affine-z-index-popover)"},container:this.blockComponent.host,computePosition:{referenceElement:this._moreButton,placement:"bottom-start",middleware:[(0,oG.UU)(),(0,oG.cY)(4)],autoUpdate:{animationFrame:!0}},abortController:this._popMenuAbortController,closeOnClickAway:!0}),this._moreMenuOpen=!0}disconnectedCallback(){super.disconnectedCallback(),this.closeCurrentMenu()}render(){var e,t,i;let s=(e=this.items,t=this.blockComponent,i=this.closeCurrentMenu,e.filter(e=>e.showWhen(t)).map(e=>{switch(e.type){case"action":return(0,H.qy)`
            <editor-icon-button
              class="code-toolbar-button ${e.name}"
              data-testid=${e.name}
              .tooltip=${e.tooltip}
              .tooltipOffset=${4}
              @click=${()=>e.action(t,i)}
            >
              ${e.icon}
            </editor-icon-button>
          `;case"custom":return e.render(t,i);default:return null}}).filter(e=>null!==e));return(0,H.qy)`
      <editor-toolbar class="code-toolbar-container" data-without-bg>
        ${s}
        <editor-icon-button
          class="code-toolbar-button more"
          data-testid="more"
          aria-label="More"
          .tooltip=${"More"}
          .tooltipOffset=${4}
          .showTooltip=${!this._moreMenuOpen}
          ?disabled=${this.blockComponent.readonly}
          @click=${()=>this._toggleMoreMenu()}
        >
          ${eU}
        </editor-icon-button>
      </editor-toolbar>
    `}#om;get _moreButton(){return this.#om}set _moreButton(e){this.#om=e}#ov;get _moreMenuOpen(){return this.#ov}set _moreMenuOpen(e){this.#ov=e}#of;get blockComponent(){return this.#of}set blockComponent(e){this.#of=e}#ig;get items(){return this.#ig}set items(e){this.#ig=e}#oy;get moreItems(){return this.#oy}set moreItems(e){this.#oy=e}#og;get onActiveStatusChange(){return this.#og}set onActiveStatusChange(e){this.#og=e}constructor(){super(...arguments),this._currentOpenMenu=null,this._popMenuAbortController=null,this.closeCurrentMenu=()=>{this._currentOpenMenu&&!this._currentOpenMenu.signal.aborted&&(this._currentOpenMenu.abort(),this._currentOpenMenu=null)},this.#om=_x(this,h,void 0),this.#ov=(_x(this,u),_x(this,p,!1)),this.#of=(_x(this,f),_x(this,g,void 0)),this.#ig=(_x(this,m),_x(this,v,void 0)),this.#oy=(_x(this,y),_x(this,b,void 0)),this.#og=(_x(this,w),_x(this,x,A.lQ)),_x(this,_)}static{_x(t,c)}})})();let __=[{type:"action",name:"copy-code",icon:aL,tooltip:"Copy Code",showWhen:()=>!0,action:(e,t)=>{e.copyCode(),t?.()}},{type:"action",name:"caption",icon:a1,tooltip:"Caption",showWhen:e=>!e.doc.readonly,action:(e,t)=>{e.captionEditor?.show(),t?.()}}],_C=[{type:"more",name:e=>e.model.wrap?"Cancel Wrap":"Wrap",tooltip:"",icon:e=>e.model.wrap?a5:a2,showWhen:()=>!0,action:(e,t)=>{e.setWrap(!e.model.wrap),t.abort()}},{type:"more",name:"Duplicate",tooltip:"",icon:aZ,showWhen:()=>!0,action:(e,t)=>{let i=_b(e.model),s=e.host;s.updateComplete.then(()=>{if(s.selection.setGroup("note",[s.selection.create("block",{blockId:i})]),(0,sc.zU)(s)){let e=s.view.getBlock(i);e&&e.scrollIntoView({block:"nearest"})}}).catch(console.error),t.abort()}},{type:"divider"},{type:"more",name:"Delete",tooltip:"",icon:aj,showWhen:()=>!0,action:(e,t)=>{e.doc.deleteBlock(e.model),t.abort()}}];var _k=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_S=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let _M=(()=>{let e,t,i=[(0,L.EM)("affine-code-toolbar-widget")],s=[],o=P.W;return class extends o{static{t=this}constructor(){super(...arguments),this._hoverController=null,this._isActivated=!1,this._setHoverController=()=>{this._hoverController=null,this._hoverController=new lE(this,({abortController:e})=>{let t=this.block,i=this.host.selection,s=i.find("text");if(s&&(s.to||s.from.length))return null;let o=i.filter("block");return o.length>1||1===o.length&&o[0].blockId!==t.blockId?null:{template:(0,H.qy)`<affine-code-toolbar
            .blockComponent=${t}
            .abortController=${e}
            .items=${this.items}
            .moreItems=${this.moreItems}
            .onActiveStatusChange=${e=>{this._isActivated=e,e||this._hoverController?.isHovering||this._hoverController?.abort()}}
          ></affine-code-toolbar>`,container:this.block,portalStyles:{zIndex:"var(--affine-z-index-popover)"},computePosition:{referenceElement:t,placement:"right-start",middleware:[(0,oG.BN)({crossAxis:!0,padding:{top:fA.Et+12,bottom:12,right:12},limiter:(0,oG.ER)()})],autoUpdate:!0}}},{allowMultiple:!0});let e=this.block;this._hoverController.setReference(e),this._hoverController.onAbort=()=>{this._isActivated||this._hoverController?.abort()}},this.items=[],this.moreItems=[]}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;_k(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),_S(t,s)}addItems(e,t){return void 0===t?this.items.push(...e):this.items.splice(t,0,...e),this}addMoreItems(e,t){return void 0===t?this.moreItems.push(...e):this.moreItems.splice(t,0,...e),this}clearConfig(){return this.items=[],this.moreItems=[],this}firstUpdated(){this.items.length&&this.moreItems.length||this.setupDefaultConfig(),this._setHoverController()}setupDefaultConfig(){return this.clearConfig().addItems(__).addMoreItems(_C),this}},t})();var _E=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_I=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let _B=(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("edgeless-copilot-panel")],l=[],c=(0,P.Tm)(H.WF),d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[];return class extends c{static{t=this}static{let w="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],_E(this,null,i,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:w},d,h),_E(this,null,s,{kind:"accessor",name:"entry",static:!1,private:!1,access:{has:e=>"entry"in e,get:e=>e.entry,set:(e,t)=>{e.entry=t}},metadata:w},u,p),_E(this,null,o,{kind:"accessor",name:"groups",static:!1,private:!1,access:{has:e=>"groups"in e,get:e=>e.groups,set:(e,t)=>{e.groups=t}},metadata:w},f,g),_E(this,null,r,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:w},m,v),_E(this,null,a,{kind:"accessor",name:"onClick",static:!1,private:!1,access:{has:e=>"onClick"in e,get:e=>e.onClick,set:(e,t)=>{e.onClick=t}},metadata:w},y,b),_E(null,e={value:t},n,{kind:"class",name:t.name,metadata:w},null,l),t=e.value,w&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      position: absolute;
    }

    .edgeless-copilot-panel {
      box-sizing: border-box;
      padding: 8px 4px 8px 8px;
      min-width: 330px;
      max-height: 374px;
      overflow-y: auto;
      background: var(--affine-background-overlay-panel-color);
      box-shadow: var(--affine-shadow-2);
      border-radius: 8px;
      z-index: var(--affine-z-index-popover);
    }

    ${cl(".edgeless-copilot-panel")}
    .edgeless-copilot-panel:hover::-webkit-scrollbar-thumb {
      background-color: var(--affine-black-30);
    }
  `}_getChain(){return this.edgeless.service.std.command.chain()}connectedCallback(){super.connectedCallback(),this._disposables.add((0,lt.on)(this,"wheel",lt.dG)),this._disposables.add((0,lt.on)(this,"pointerdown",lt.dG))}hide(){this.remove()}render(){let e=this._getChain(),t=this.groups.reduce((t,i)=>{let s=i.items.filter(t=>t.showWhen?.(e,"edgeless",this.host));return s.length>0&&t.push({...i,items:s}),t},[]);return t.every(e=>0===e.items.length)?H.s6:(0,H.qy)`
      <div class="edgeless-copilot-panel">
        <ai-item-list
          .onClick=${()=>{this.onClick?.()}}
          .host=${this.host}
          .groups=${t}
        ></ai-item-list>
      </div>
    `}#iE=_I(this,d,void 0);get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#ob=(_I(this,h),_I(this,u,void 0));get entry(){return this.#ob}set entry(e){this.#ob=e}#eB=(_I(this,p),_I(this,f,void 0));get groups(){return this.#eB}set groups(e){this.#eB=e}#n=(_I(this,g),_I(this,m,void 0));get host(){return this.#n}set host(e){this.#n=e}#eE=(_I(this,v),_I(this,y,void 0));get onClick(){return this.#eE}set onClick(e){this.#eE=e}constructor(){super(...arguments),_I(this,b)}static{_I(t,l)}},t})();var _$=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_T=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let _O="affine-edgeless-copilot-widget",_P=(()=>{let e,t,i,s,o,r=[(0,L.EM)(_O)],a=[],n=P.W,l=[],c=[],d=[],h=[],u=[],p=[];return class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.P)(".copilot-selection-rect")],_$(this,null,i,{kind:"accessor",name:"_selectionRect",static:!1,private:!1,access:{has:e=>"_selectionRect"in e,get:e=>e._selectionRect,set:(e,t)=>{e._selectionRect=t}},metadata:f},l,c),_$(this,null,s,{kind:"accessor",name:"_visible",static:!1,private:!1,access:{has:e=>"_visible"in e,get:e=>e._visible,set:(e,t)=>{e._visible=t}},metadata:f},d,h),_$(this,null,o,{kind:"accessor",name:"selectionElem",static:!1,private:!1,access:{has:e=>"selectionElem"in e,get:e=>e.selectionElem,set:(e,t)=>{e.selectionElem=t}},metadata:f},u,p),_$(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    .copilot-selection-rect {
      position: absolute;
      box-sizing: border-box;
      border-radius: 4px;
      border: 2px dashed var(--affine-brand-color, #1e96eb);
    }
  `}_showCopilotPanel(){(0,lt.Ak)(()=>{if(!this._copilotPanel){let e=new _B;e.host=this.host,e.groups=this.groups,e.edgeless=this.edgeless,this.renderRoot.append(e),this._copilotPanel=e}let e=this.selectionElem,t=this._copilotPanel,i=this.edgeless.service.viewport;e&&e.isConnected&&(0,oG.ll)(e,t,()=>{(0,oG.rD)(e,t,{placement:"right-start",middleware:[(0,oG.cY)({mainAxis:16}),(0,oG.UU)({mainAxis:!0,crossAxis:!0,flipAlignment:!0}),(0,oG.BN)(()=>{let{left:e,top:t,width:s,height:o}=i;return{padding:20,crossAxis:!0,rootBoundary:{x:e,y:t,width:s,height:o-100}}}),(0,oG.Ej)({apply:({elements:e})=>{let{height:t}=i;e.floating.style.maxHeight=`${t-140}px`}})]}).then(({x:e,y:i})=>{t.style.left=`${e}px`,t.style.top=`${i}px`}).catch(e=>{console.warn("Can't compute EdgelessCopilotPanel position",e)})})},this)}_updateSelection(e){this._selectionModelRect=e;let t=this.edgeless.service.viewport.zoom,[i,s]=this.edgeless.service.viewport.toViewCoord(e.left,e.top),[o,r]=[e.width*t,e.height*t];this._selectionRect={x:i,y:s,width:o,height:r}}_watchClickOutside(){this._clickOutsideOff?.();let{width:e,height:t}=this._selectionRect;e&&t&&(this._listenClickOutsideId&&cancelAnimationFrame(this._listenClickOutsideId),this._listenClickOutsideId=(0,lt.Ak)(()=>{if(!this.isConnected)return;let e=this.block.dispatcher.add("pointerDown",t=>{let i=t.get("pointerState").raw,s=this.host.view.getWidget(_c,this.doc.root.id);i.button!==lt.fh.MAIN||this.contains(i.target)||s&&"hidden"!==s.state||(e(),this._visible=!1,this.hideCopilotPanel())});this._listenClickOutsideId=null,this._clickOutsideOff=e},this))}connectedCallback(){super.connectedCallback();let e=this.edgeless.tools.controllers.copilot;this._disposables.add(e.draggingAreaUpdated.on(t=>{this._visible=!0,this._updateSelection(e.area),t?(this._showCopilotPanel(),this._watchClickOutside()):this.hideCopilotPanel()})),this._disposables.add(this.edgeless.service.viewport.viewportUpdated.on(()=>{this._visible&&this._updateSelection(e.area)})),this._disposables.add(this.edgeless.slots.edgelessToolUpdated.on(({type:e})=>{this._visible&&"copilot"!==e&&(this._visible=!1,this._clickOutsideOff=null,this._copilotPanel?.remove(),this._copilotPanel=null)}))}determineInsertionBounds(e=800,t=95){let i=this.edgeless.service.selection.selectedElements,s=20/this.edgeless.service.viewport.zoom,o=new m.z(0,0,e,t);if(i.length){let{x:e,y:t,h:r}=(0,iY.qZ)(i.map(e=>e.elementBound));o.x=e,o.y=t+r+s}else{let{x:e,y:t,height:i}=this.selectionModelRect;o.x=e,o.y=t+i+s}return o}hideCopilotPanel(){this._copilotPanel?.hide(),this._copilotPanel=null,this._clickOutsideOff=null}lockToolbar(e){this.edgeless.slots.toolbarLocked.emit(e)}render(){if(!this._visible)return H.s6;let e=this._selectionRect;return(0,H.qy)`<div class="affine-edgeless-ai">
      <div
        class="copilot-selection-rect"
        style=${(0,Z.W)({left:`${e.x}px`,top:`${e.y}px`,width:`${e.width}px`,height:`${e.height}px`})}
      ></div>
    </div>`}get edgeless(){return this.block}get selectionModelRect(){return this._selectionModelRect}get selectionRect(){return this._selectionRect}get visible(){return!!(this._visible&&this._selectionRect.width&&this._selectionRect.height)}set visible(e){this._visible=e}#ow;get _selectionRect(){return this.#ow}set _selectionRect(e){this.#ow=e}#ox;get _visible(){return this.#ox}set _visible(e){this.#ox=e}#o_;get selectionElem(){return this.#o_}set selectionElem(e){this.#o_=e}constructor(){super(...arguments),this._clickOutsideOff=null,this._listenClickOutsideId=null,this.groups=[],this.#ow=_T(this,l,{x:0,y:0,width:0,height:0}),this.#ox=(_T(this,c),_T(this,d,!1)),this.#o_=(_T(this,h),_T(this,u,void 0)),_T(this,p)}static{_T(t,a)}},t})();var _A=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_H=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let _L=(()=>{let e,t,i,s,o,r=[(0,L.EM)("edgeless-copilot-toolbar-entry")],a=[],n=(0,P.Tm)(H.WF),l=[],c=[],d=[],h=[],u=[],p=[];return class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],_A(this,null,i,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:f},l,c),_A(this,null,s,{kind:"accessor",name:"groups",static:!1,private:!1,access:{has:e=>"groups"in e,get:e=>e.groups,set:(e,t)=>{e.groups=t}},metadata:f},d,h),_A(this,null,o,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:f},u,p),_A(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    .copilot-icon-button {
      line-height: 20px;

      .label.medium {
        color: var(--affine-brand-color);
      }
    }
  `}_showCopilotPanel(){let e=this.edgeless.service.selection.selectedElements,t=new Set(e);e.forEach(e=>{gP(e)?this.edgeless.service.frame.getElementsInFrame(e).forEach(e=>t.add(e)):e instanceof k.$b&&e.descendants().forEach(e=>t.add(e))}),this.edgeless.service.tool.setEdgelessTool({type:"copilot"}),this.edgeless.tools.controllers.copilot.updateSelectionWith(Array.from(t),10)}render(){return(0,H.qy)`<edgeless-tool-icon-button
      aria-label="Ask AI"
      class="copilot-icon-button"
      @click=${this._showCopilotPanel}
    >
      ${rf} <span class="label medium">Ask AI</span>
    </edgeless-tool-icon-button>`}#iE=_H(this,l,void 0);get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#eB=(_H(this,c),_H(this,d,void 0));get groups(){return this.#eB}set groups(e){this.#eB=e}#n=(_H(this,h),_H(this,u,void 0));get host(){return this.#n}set host(e){this.#n=e}constructor(){super(...arguments),_H(this,p)}static{_H(t,a)}},t})();var _D=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_Z=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("edgeless-add-frame-button")],s=[],o=(0,P.Tm)(H.WF),r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;_D(this,null,[(0,L.MZ)({attribute:!1})],{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:n},r,a),_D(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    .label {
      padding-left: 4px;
    }
  `}render(){return(0,H.qy)`
      <editor-icon-button
        aria-label="Frame"
        .tooltip=${"Frame"}
        .labelHeight=${"20px"}
        @click=${this._createFrame}
      >
        ${ta}<span class="label medium">Frame</span>
      </editor-icon-button>
    `}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}constructor(){super(...arguments),this._createFrame=()=>{let e=this.edgeless.service.frame.createFrameOnSelected();e&&(this.edgeless.service.telemetryService?.track("CanvasElementAdded",{control:"context-menu",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:"frame"}),this.edgeless.surface.fitToViewport(m.z.deserialize(e.xywh)))},this.#iE=_Z(this,r,void 0),_Z(this,a)}static{_Z(t,s)}})})();var _j=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_V=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("edgeless-add-group-button")],s=[],o=(0,P.Tm)(H.WF),r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;_j(this,null,[(0,L.MZ)({attribute:!1})],{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:n},r,a),_j(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    .label {
      padding-left: 4px;
    }
  `}render(){return(0,H.qy)`
      <editor-icon-button
        aria-label="Group"
        .tooltip=${"Group"}
        .labelHeight=${"20px"}
        @click=${this._createGroup}
      >
        ${ep}<span class="label medium">Group</span>
      </editor-icon-button>
    `}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}constructor(){super(...arguments),this._createGroup=()=>{this.edgeless.service.createGroupFromSelected()},this.#iE=_V(this,r,void 0),_V(this,a)}static{_V(t,s)}})})();var _R=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_z=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};!function(e){e.Bottom="Align bottom",e.DistributeHorizontally="Distribute horizontally",e.DistributeVertically="Distribute vertically",e.Horizontally="Align horizontally",e.Left="Align left",e.Right="Align right",e.Top="Align top",e.Vertically="Align vertically"}(l||(l={}));let _F=[{name:l.Left,content:tD},{name:l.Horizontally,content:tj},{name:l.Right,content:tZ},{name:l.DistributeHorizontally,content:tV},{name:"separator",content:(0,H.qy)`<editor-toolbar-separator></editor-toolbar-separator>`},{name:l.Top,content:tR},{name:l.Vertically,content:tF},{name:l.Bottom,content:tz},{name:l.DistributeVertically,content:tN}];(()=>{let e,t,i=[(0,L.EM)("edgeless-align-button")],s=[],o=(0,P.Tm)(H.WF),r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;_R(this,null,[(0,L.MZ)({attribute:!1})],{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:n},r,a),_R(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),_z(t,s)}_align(e){switch(e){case l.Left:this._alignLeft();break;case l.Horizontally:this._alignHorizontally();break;case l.Right:this._alignRight();break;case l.DistributeHorizontally:this._alignDistributeHorizontally();break;case l.Top:this._alignTop();break;case l.Vertically:this._alignVertically();break;case l.Bottom:this._alignBottom();break;case l.DistributeVertically:this._alignDistributeVertically()}}_alignBottom(){let{elements:e}=this,t=e.map(e=>e.elementBound),i=Math.max(...t.map(e=>e.maxY));e.forEach((e,s)=>{let o=t[s],r=m.z.deserialize(e.xywh),a=r.maxY-o.maxY;r.y=i-r.h+a,this._updateXYWH(e,r)})}_alignDistributeHorizontally(){let{elements:e}=this;e.sort((e,t)=>e.elementBound.minX-t.elementBound.minX);let t=e.map(e=>e.elementBound),i=t[0].minX,s=(t[t.length-1].maxX-i-e.reduce((e,t)=>e+t.elementBound.w,0))/(e.length-1),o=t[0].maxX+s;for(let i=1;i<e.length-1;i++){let r=m.z.deserialize(e[i].xywh);r.x=o+t[i].w/2-r.w/2,o+=s+t[i].w,this._updateXYWH(e[i],r)}}_alignDistributeVertically(){let{elements:e}=this;e.sort((e,t)=>e.elementBound.minY-t.elementBound.minY);let t=e.map(e=>e.elementBound),i=t[0].minY,s=(t[t.length-1].maxY-i-e.reduce((e,t)=>e+t.elementBound.h,0))/(e.length-1),o=t[0].maxY+s;for(let i=1;i<e.length-1;i++){let r=m.z.deserialize(e[i].xywh);r.y=o+t[i].h/2-r.h/2,o+=s+t[i].h,this._updateXYWH(e[i],r)}}_alignHorizontally(){let{elements:e}=this,t=e.map(e=>e.elementBound),i=(Math.min(...t.map(e=>e.minX))+Math.max(...t.map(e=>e.maxX)))/2;e.forEach(e=>{let t=m.z.deserialize(e.xywh);t.x=i-t.w/2,this._updateXYWH(e,t)})}_alignLeft(){let{elements:e}=this,t=e.map(e=>e.elementBound),i=Math.min(...t.map(e=>e.minX));e.forEach((e,s)=>{let o=t[s],r=m.z.deserialize(e.xywh),a=r.minX-o.minX;r.x=i+a,this._updateXYWH(e,r)})}_alignRight(){let{elements:e}=this,t=e.map(e=>e.elementBound),i=Math.max(...t.map(e=>e.maxX));e.forEach((e,s)=>{let o=t[s],r=m.z.deserialize(e.xywh),a=r.maxX-o.maxX;r.x=i-r.w+a,this._updateXYWH(e,r)})}_alignTop(){let{elements:e}=this,t=e.map(e=>e.elementBound),i=Math.min(...t.map(e=>e.minY));e.forEach((e,s)=>{let o=t[s],r=m.z.deserialize(e.xywh),a=r.minY-o.minY;r.y=i+a,this._updateXYWH(e,r)})}_alignVertically(){let{elements:e}=this,t=e.map(e=>e.elementBound),i=(Math.min(...t.map(e=>e.minY))+Math.max(...t.map(e=>e.maxY)))/2;e.forEach(e=>{let t=m.z.deserialize(e.xywh);t.y=i-t.h/2,this._updateXYWH(e,t)})}_updateXYWH(e,t){if(e instanceof S.lw)e.moveTo(t);else if(e instanceof M.$){let i=m.z.deserialize(e.xywh);e.childElements.forEach(e=>{let s=m.z.deserialize(e.xywh);s.x+=t.x-i.x,s.y+=t.y-i.y,this._updateXYWH(e,s)})}else this.edgeless.service.updateElement(e.id,{xywh:t.serialize()})}get elements(){return this.edgeless.service.selection.selectedElements}firstUpdated(){this._disposables.add(this.edgeless.service.selection.slots.updated.on(()=>this.requestUpdate()))}render(){return(0,H.qy)`
      <editor-menu-button
        .button=${(0,H.qy)`
          <editor-icon-button
            aria-label="Align objects"
            .tooltip=${"Align objects"}
          >
            ${tD}${tO}
          </editor-icon-button>
        `}
      >
        <div>
          ${(0,D.u)(_F,(e,t)=>e.name+t,({name:e,content:t})=>"separator"===e?t:(0,H.qy)`
                <editor-icon-button
                  aria-label=${e}
                  .tooltip=${e}
                  @click=${()=>this._align(e)}
                >
                  ${t}
                </editor-icon-button>
              `)}
        </div>
      </editor-menu-button>
    `}#iE=_z(this,r,void 0);get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}constructor(){super(...arguments),_z(this,a)}})})();var _N=i(49077),_q=i(7489);function _U(e,t,i){let s=e.doc,o=s.getParent(e);(0,V.Z1)(o);let r={text:e?.text?.clone(),children:e.children,...i},a=o.children.indexOf(e),n=s.addBlock(t,r,o,a);return s.deleteBlock(e,{deleteChildren:!1}),n}let _W=[{name:"image",check:e=>e.doc.schema.flavourSchemaMap.has("affine:image")&&e.type.startsWith("image/"),action:e=>(function(e){if(!e.doc.schema.flavourSchemaMap.has("affine:image")){console.error("The image flavour is not supported!");return}let t=e.sourceId;if(!t)return;let{saveAttachmentData:i,getImageData:s}=(0,_q.YF)();i(t,{name:e.name});let o=e.sourceId?s(e.sourceId):void 0,r={sourceId:t,caption:e.caption,size:e.size,...o};_U(e,"affine:image",r)})(e)},{name:"pdf",check:(e,t)=>"application/pdf"===e.type&&e.size<=t,template:(e,t)=>(0,H.qy)`<iframe
        style="width: 100%; color-scheme: auto;"
        height="480"
        src=${t+"#toolbar=0"}
        loading="lazy"
        scrolling="no"
        frameborder="no"
        allowTransparency
        allowfullscreen
        type="application/pdf"
      ></iframe>`},{name:"video",check:(e,t)=>e.type.startsWith("video/")&&e.size<=t,template:(e,t)=>(0,H.qy)`<video width="100%;" height="480" controls src=${t}></video>`},{name:"audio",check:(e,t)=>e.type.startsWith("audio/")&&e.size<=t,template:(e,t)=>(0,H.qy)`<audio controls src=${t} style="margin: 4px;"></audio>`}];function _G(e,t=10485760){return _W.some(i=>i.check(e,t))}let _Y=new Set;async function _K(e,t,i){let s;if(_Y.has(t))return;let o=e.doc;try{_Y.add(t),s=await o.blobSync.set(i)}catch(t){console.error(t),t instanceof Error&&l8(e,`Failed to upload attachment! ${t.message||t.toString()}`)}finally{_Y.delete(t);let e=o.getBlockById(t);o.withoutTransact(()=>{e&&o.updateBlock(e,{sourceId:s})})}}async function _X(e){let t=e.sourceId;if(!t)return null;let i=e.doc,s=await i.blobSync.get(t);return s&&(s=new Blob([s],{type:e.type})),s}async function _Q(e){let t=e.model,{id:i,sourceId:s}=t;if(_Y.has(i)){e.loading=!0,e.error=!1,e.allowEmbed=!1,e.blobUrl&&(URL.revokeObjectURL(e.blobUrl),e.blobUrl=void 0);return}try{if(!s)return;let i=await _X(t);if(!i)return;e.loading=!1,e.error=!1,e.allowEmbed=_G(t,e.service.maxFileSize),e.blobUrl&&URL.revokeObjectURL(e.blobUrl),e.blobUrl=URL.createObjectURL(i)}catch(i){console.warn(i,t,s),e.loading=!1,e.error=!0,e.allowEmbed=!1,e.blobUrl&&(URL.revokeObjectURL(e.blobUrl),e.blobUrl=void 0)}}function _J(e){let{host:t,model:i,loading:s,error:o,downloading:r,blobUrl:a}=e;if(r){l8(t,"Download in progress...");return}if(s){l8(t,"Please wait, file is loading...");return}let n=i.name,l=n.length<20?n:n.slice(0,20)+"...";if(o||!a){l8(t,`Failed to download ${l}!`);return}e.downloading=!0,l8(t,`Downloading ${l}`);let c=document.createElement("a"),d=new MouseEvent("click");c.download=n,c.href=a,c.dispatchEvent(d),c.remove(),e.downloading=!1}async function _1(e){if(e.type)return e.type;let t=await e.arrayBuffer(),s=await Promise.resolve().then(i.bind(i,81208)),o=await s.fileTypeFromBuffer(t);return o?o.mime:""}async function _0(e,t,i,s,o="after"){if(!t.length)return;if(t.some(e=>e.size>i)){l8(e,`You can only upload files less than ${(0,iy.bn)(i,!0,0)}`);return}let r=s.doc,a=await Promise.all(t.map(e=>_1(e))),n=t.map((e,t)=>({flavour:"affine:attachment",name:e.name,size:e.size,type:a[t]})),l=r.addSiblingBlocks(s,n,o);return l.map((i,s)=>void _K(e,i,t[s])),l}var _2=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_5=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,L.EM)("card-style-panel")],a=[],n=(0,P.Tm)(H.WF),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],_2(this,null,i,{kind:"accessor",name:"onSelect",static:!1,private:!1,access:{has:e=>"onSelect"in e,get:e=>e.onSelect,set:(e,t)=>{e.onSelect=t}},metadata:f},l,c),_2(this,null,s,{kind:"accessor",name:"options",static:!1,private:!1,access:{has:e=>"options"in e,get:e=>e.options,set:(e,t)=>{e.options=t}},metadata:f},d,h),_2(this,null,o,{kind:"accessor",name:"value",static:!1,private:!1,access:{has:e=>"value"in e,get:e=>e.value,set:(e,t)=>{e.value=t}},metadata:f},u,p),_2(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    icon-button {
      padding: var(--1, 0px);
      justify-content: center;
    }

    icon-button.selected {
      border: 1px solid var(--affine-brand-color);
    }
  `}render(){let e=this.options;return e?.length?(0,D.u)(e,e=>e.style,({style:e,Icon:t,tooltip:i})=>(0,H.qy)`
        <icon-button
          width="76px"
          height="76px"
          class=${(0,oJ.H)({selected:this.value===e})}
          @click=${()=>{this.onSelect(e),this.value=e}}
        >
          ${t}
          <affine-tooltip .offset=${4}>${i}</affine-tooltip>
        </icon-button>
      `):H.s6}#oC=_5(this,l,void 0);get onSelect(){return this.#oC}set onSelect(e){this.#oC=e}#ez=(_5(this,c),_5(this,d,void 0));get options(){return this.#ez}set options(e){this.#ez=e}#ey=(_5(this,h),_5(this,u,void 0));get value(){return this.#ey}set value(e){this.#ey=e}constructor(){super(...arguments),_5(this,p)}static{_5(t,a)}})})();var _7=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},_3=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o=[(0,L.EM)("edgeless-change-attachment-button")],r=[],a=(0,P.Tm)(H.WF),n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],_7(this,null,i,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:h},n,l),_7(this,null,s,{kind:"accessor",name:"model",static:!1,private:!1,access:{has:e=>"model"in e,get:e=>e.model,set:(e,t)=>{e.model=t}},metadata:h},c,d),_7(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),_3(t,r)}get _block(){let e=this.edgeless.service.selection.surfaceSelections.filter(e=>e.elements.includes(this.model.id));if(1!==e.length)return;let t=this.std.view.getBlock(e[0].blockId);return(0,V.Z1)(t),t}get _doc(){return this.model.doc}get _getCardStyleOptions(){let{EmbedCardListIcon:e,EmbedCardCubeIcon:t}=nF();return[{style:"horizontalThin",Icon:e,tooltip:"Horizontal style"},{style:"cubeThick",Icon:t,tooltip:"Vertical style"}]}render(){return(0,H.qy)`
      <editor-menu-button
        .contentPadding=${"8px"}
        .button=${(0,H.qy)`
          <editor-icon-button aria-label="Card style" .tooltip=${"Card style"}>
            ${nb}
          </editor-icon-button>
        `}
      >
        <card-style-panel
          .value=${this.model.style}
          .options=${this._getCardStyleOptions}
          .onSelect=${this._setCardStyle}
        >
        </card-style-panel>
      </editor-menu-button>

      <editor-toolbar-separator></editor-toolbar-separator>

      <editor-icon-button
        aria-label="Download"
        .tooltip=${"Download"}
        ?disabled=${this._doc.readonly}
        @click=${this._download}
      >
        ${a0}
      </editor-icon-button>

      <editor-toolbar-separator></editor-toolbar-separator>

      <editor-icon-button
        aria-label="Add caption"
        .tooltip=${"Add caption"}
        class="change-attachment-button caption"
        ?disabled=${this._doc.readonly}
        @click=${this._showCaption}
      >
        ${a1}
      </editor-icon-button>
    `}get std(){return this.edgeless.std}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#i7;get model(){return this.#i7}set model(e){this.#i7=e}constructor(){super(...arguments),this._download=()=>{this._block&&_J(this._block)},this._setCardStyle=e=>{let t=m.z.deserialize(this.model.xywh);t.w=fA.Cd[e],t.h=fA.Hn[e];let i=t.serialize();this.model.doc.updateBlock(this.model,{style:e,xywh:i})},this._showCaption=()=>{this._block?.captionEditor?.show()},this.#iE=_3(this,n,void 0),this.#i7=(_3(this,l),_3(this,c,void 0)),_3(this,d)}})})();var _4=i(94423);let _6=[[{r:1,g:0,b:0},0],[{r:1,g:1,b:0},1/6],[{r:0,g:1,b:0},2/6],[{r:0,g:1,b:1},.5],[{r:0,g:0,b:1},4/6],[{r:1,g:0,b:1},5/6],[{r:1,g:0,b:0},1]],_8=_6[0][0],_9={hex3:/^#?([0-9a-fA-F]{3})$/,hex6:/^#?([0-9a-fA-F]{6})$/,other:/[^0-9a-fA-F]/},Ce=()=>({...Co(_8),a:1}),Ct=(e,t,i)=>e+i*(t-e),Ci=(e,t,i)=>Math.min(Math.max(e,t),i),Cs=(e,t)=>1e-6>Math.abs((e=Ci(0,e,t))-t)?1:e%t/t,Co=({r:e,g:t,b:i})=>{let s=Math.max(e,t,i),o=s-Math.min(e,t,i);return 0===o?{h:0,s:0,v:s}:{h:(s===e?(t-i)/o+(t<i?6:0):s===t?(i-e)/o+2:(e-t)/o+4)/6,s:o/s,v:s}},Cr=({h:e,s:t,v:i})=>{e<0&&(e=(e+1)%1),e*=6,t=Ci(0,t,1);let s=Math.floor(e),o=e-s,r=i*(1-t),a=i*(1-o*t),n=i*(1-(1-o)*t),l=s%6,c=[0,0,0];0===l?c=[i,n,r]:1===l?c=[a,i,r]:2===l?c=[r,i,n]:3===l?c=[r,a,i]:4===l?c=[n,r,i]:5===l&&(c=[i,r,a]);let[d,h,u]=c;return{r:d,g:h,b:u}},Ca=e=>({...Co(e),a:e.a}),Cn=e=>({...Cr(e),a:e.a}),Cl=({r:e,g:t,b:i})=>[e,t,i].map(e=>255*e).map(Math.round).map(e=>e.toString(16).padStart(2,"0")).join(""),Cc=({r:e,g:t,b:i,a:s})=>{let o=[e,t,i,s].map(e=>255*e).map(Math.round).map(e=>e.toString(16).padStart(2,"0")).join("");return`#${o}`},Cd=e=>Cc(Cn(e)),Ch=e=>{e.startsWith("#")&&(e=e.substring(1));let t=e.length,i=[];3===t||4===t?i=e.split("").map(e=>e.repeat(2)):(6===t||8===t)&&(i=Array.from({length:t/2}).fill(0).map((e,t)=>e+2*t).map(t=>e.substring(t,t+2)));let[s,o,r,a=1]=i.map(e=>parseInt(e,16)).map(e=>Cs(e,255));return{r:s,g:o,b:r,a}},Cu=e=>Ca(Ch(e)),Cp=(e,t)=>e.h===t.h&&e.s===t.s&&e.v===t.v,Cf=(e,t)=>{let{width:i,height:s}=e,o=e.getContext("2d");o.globalCompositeOperation="color",o.clearRect(0,0,i,s);let r=o.createLinearGradient(0,0,0,s);r.addColorStop(0,"#0000"),r.addColorStop(1,"#000"),o.fillStyle=r,o.fillRect(0,0,i,s);let a=o.createLinearGradient(0,0,i,0);a.addColorStop(0,"#fff"),a.addColorStop(1,`#${Cl(t)}`),o.fillStyle=a,o.fillRect(0,0,i,s)},Cg=e=>e.length>7&&!e.endsWith("transparent")?e.substring(0,7):e,Cm=e=>{if((e=e.trim()).endsWith("transparent"))return{r:1,g:1,b:1,a:0};if(e.startsWith("#"))return Ch(e);if(e.startsWith("rgb")){let[t,i,s,o=1]=e.replace(/^rgba?/,"").replace(/\(|\)/,"").split(",").map(e=>parseFloat(e.trim())).map((e,t)=>Cs(e,3===t?1:255));return{r:t,g:i,b:s,a:o}}return{r:0,g:0,b:0,a:1}},Cv=e=>({type:t,value:i})=>(i.startsWith("--")&&(i=i.endsWith("transparent")?"transparent":e.getPropertyValue(i)),{type:t,rgba:Cm(i)}),Cy=(e,t)=>({[e]:t.palette??t}),Cb=(e,t,i)=>{let s=[{type:"normal",value:t},{type:"light",value:t},{type:"dark",value:t}],o="palette";return"object"==typeof i&&(o=e in i?e:"normal",s[0].value=i.normal??t,s[1].value=i.light??t,s[2].value=i.dark??t),{type:o,colors:s}};var Cw=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Cx=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};class C_ extends Event{constructor(e,{detail:t,composed:i,bubbles:s}){super(e,{bubbles:s,composed:i}),this.detail=t}}(()=>{let e,t,i,s,o,r,a,n,l,c,d=[(0,L.EM)("edgeless-line-width-panel")],h=[],u=(0,P.Tm)(H.WF),p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[];(class extends u{static{t=this}static{let B="function"==typeof Symbol&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;i=[(0,L.P)(".bottom-line")],s=[(0,L.P)(".drag-handle")],o=[(0,L.YG)(".line-width-icon")],r=[(0,L.P)(".line-width-overlay")],a=[(0,L.P)(".line-width-panel")],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({attribute:!1})],c=[(0,L.MZ)({attribute:!1})],Cw(this,null,i,{kind:"accessor",name:"_bottomLine",static:!1,private:!1,access:{has:e=>"_bottomLine"in e,get:e=>e._bottomLine,set:(e,t)=>{e._bottomLine=t}},metadata:B},p,f),Cw(this,null,s,{kind:"accessor",name:"_dragHandle",static:!1,private:!1,access:{has:e=>"_dragHandle"in e,get:e=>e._dragHandle,set:(e,t)=>{e._dragHandle=t}},metadata:B},g,m),Cw(this,null,o,{kind:"accessor",name:"_lineWidthIcons",static:!1,private:!1,access:{has:e=>"_lineWidthIcons"in e,get:e=>e._lineWidthIcons,set:(e,t)=>{e._lineWidthIcons=t}},metadata:B},v,y),Cw(this,null,r,{kind:"accessor",name:"_lineWidthOverlay",static:!1,private:!1,access:{has:e=>"_lineWidthOverlay"in e,get:e=>e._lineWidthOverlay,set:(e,t)=>{e._lineWidthOverlay=t}},metadata:B},b,w),Cw(this,null,a,{kind:"accessor",name:"_lineWidthPanel",static:!1,private:!1,access:{has:e=>"_lineWidthPanel"in e,get:e=>e._lineWidthPanel,set:(e,t)=>{e._lineWidthPanel=t}},metadata:B},x,_),Cw(this,null,n,{kind:"accessor",name:"disable",static:!1,private:!1,access:{has:e=>"disable"in e,get:e=>e.disable,set:(e,t)=>{e.disable=t}},metadata:B},C,k),Cw(this,null,l,{kind:"accessor",name:"hasTooltip",static:!1,private:!1,access:{has:e=>"hasTooltip"in e,get:e=>e.hasTooltip,set:(e,t)=>{e.hasTooltip=t}},metadata:B},S,M),Cw(this,null,c,{kind:"accessor",name:"selectedSize",static:!1,private:!1,access:{has:e=>"selectedSize"in e,get:e=>e.selectedSize,set:(e,t)=>{e.selectedSize=t}},metadata:B},E,I),Cw(null,e={value:t},d,{kind:"class",name:t.name,metadata:B},null,h),t=e.value,B&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:B})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      align-items: center;
      justify-content: center;
      align-self: stretch;
    }

    .line-width-panel {
      width: 108px;
      height: 24px;
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      position: relative;
      cursor: default;
    }

    .line-width-button {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 16px;
      height: 16px;
      z-index: 2;
    }

    .line-width-icon {
      width: 4px;
      height: 4px;
      border-radius: 50%;
      background-color: var(--affine-border-color);
    }

    .line-width-button:nth-child(1) {
      margin-right: 0;
    }

    .line-width-button:nth-child(6) {
      margin-left: 0;
    }

    .drag-handle {
      position: absolute;
      left: 0;
      top: 50%;
      width: 8px;
      height: 8px;
      transform: translateY(-50%) translateX(4px);
      border-radius: 50%;
      background-color: var(--affine-icon-color);
      z-index: 3;
    }

    .bottom-line,
    .line-width-overlay {
      left: 8px;
      top: 50%;
      transform: translateY(-50%);
      height: 1px;
      background-color: var(--affine-border-color);
      position: absolute;
    }

    .bottom-line {
      width: calc(100% - 16px);
      background-color: var(--affine-border-color);
    }

    .line-width-overlay {
      width: 0;
      background-color: var(--affine-icon-color);
      z-index: 1;
    }
  `}_onSelect(e){e!==this.selectedSize&&(this.dispatchEvent(new C_("select",{detail:e,composed:!0,bubbles:!0})),this.selectedSize=e)}_updateLineWidthPanel(e){if(!this._lineWidthOverlay)return;let t=0,i=0;switch(e){case q.D9.Two:t=0;break;case q.D9.Four:t=16,i=1;break;case q.D9.Six:t=32,i=2;break;case q.D9.Eight:t=48,i=3;break;case q.D9.Ten:t=64,i=4;break;default:t=80,i=4}i+=4,this._lineWidthOverlay.style.width=`${t}%`,this._dragHandle.style.left=`${t}%`,this._dragHandle.style.transform=`translateY(-50%) translateX(${i}px)`,this._updateIconsColor()}_updateLineWidthPanelByDragHandlePosition(e){let t=this.selectedSize;t=e<=12?q.D9.Two:e>12&&e<=26?q.D9.Four:e>26&&e<=40?q.D9.Six:e>40&&e<=54?q.D9.Eight:e>54&&e<=68?q.D9.Ten:q.D9.Twelve,this._updateLineWidthPanel(t),this._onSelect(t)}disconnectedCallback(){this._disposables.dispose()}firstUpdated(){this._updateLineWidthPanel(this.selectedSize),this._disposables.addFromEvent(this,"pointerdown",this._onPointerDown),this._disposables.addFromEvent(this,"pointermove",this._onPointerMove),this._disposables.addFromEvent(this,"pointerup",this._onPointerUp),this._disposables.addFromEvent(this,"pointerout",this._onPointerOut)}render(){return(0,H.qy)`<style>
        .line-width-panel {
          opacity: ${this.disable?"0.5":"1"};
        }
      </style>
      <div
        class="line-width-panel"
        @mousedown="${e=>e.preventDefault()}"
      >
        <div class="line-width-button">
          <div class="line-width-icon"></div>
        </div>
        <div class="line-width-button">
          <div class="line-width-icon"></div>
        </div>
        <div class="line-width-button">
          <div class="line-width-icon"></div>
        </div>
        <div class="line-width-button">
          <div class="line-width-icon"></div>
        </div>
        <div class="line-width-button">
          <div class="line-width-icon"></div>
        </div>
        <div class="line-width-button">
          <div class="line-width-icon"></div>
        </div>
        <div class="drag-handle"></div>
        <div class="bottom-line"></div>
        <div class="line-width-overlay"></div>
        ${this.hasTooltip?(0,H.qy)`<affine-tooltip .offset=${8}>Thickness</affine-tooltip>`:H.s6}
      </div>`}willUpdate(e){e.has("selectedSize")&&this._updateLineWidthPanel(this.selectedSize)}#ok;get _bottomLine(){return this.#ok}set _bottomLine(e){this.#ok=e}#oS;get _dragHandle(){return this.#oS}set _dragHandle(e){this.#oS=e}#oM;get _lineWidthIcons(){return this.#oM}set _lineWidthIcons(e){this.#oM=e}#oE;get _lineWidthOverlay(){return this.#oE}set _lineWidthOverlay(e){this.#oE=e}#oI;get _lineWidthPanel(){return this.#oI}set _lineWidthPanel(e){this.#oI=e}#oB;get disable(){return this.#oB}set disable(e){this.#oB=e}#o$;get hasTooltip(){return this.#o$}set hasTooltip(e){this.#o$=e}#oT;get selectedSize(){return this.#oT}set selectedSize(e){this.#oT=e}constructor(){super(...arguments),this._dragConfig=null,this._getDragHandlePosition=(e,t)=>{let i=e.clientX,{boundLeft:s,bottomLineWidth:o,stepWidth:r,containerWidth:a}=t;return(o-4)/100*(i<=s?0:i-s>=a?100:Math.floor((i-s)/r))},this._onPointerDown=e=>{if(e.preventDefault(),this.disable)return;let{left:t,width:i}=this._lineWidthPanel.getBoundingClientRect(),s=this._bottomLine.getBoundingClientRect().width;this._dragConfig={stepWidth:i/100,boundLeft:t,containerWidth:i,bottomLineWidth:s},this._onPointerMove(e)},this._onPointerMove=e=>{if(e.preventDefault(),!this._dragConfig)return;let t=this._getDragHandlePosition(e,this._dragConfig);this._dragHandle.style.left=`${t}%`,this._lineWidthOverlay.style.width=`${t}%`,this._updateIconsColor()},this._onPointerOut=e=>{if(e.preventDefault(),!this._dragConfig)return;let t=this._getDragHandlePosition(e,this._dragConfig);this._updateLineWidthPanelByDragHandlePosition(t),this._dragConfig=null},this._onPointerUp=e=>{if(e.preventDefault(),!this._dragConfig)return;let t=this._getDragHandlePosition(e,this._dragConfig);this._updateLineWidthPanelByDragHandlePosition(t),this._dragConfig=null},this._updateIconsColor=()=>{if(!this._dragHandle.offsetParent){(0,lt.Ak)(()=>this._updateIconsColor(),this);return}let e=this._dragHandle.getBoundingClientRect(),t=e.left+e.width/2,i=[],s=[];for(let e of this._lineWidthIcons){let{left:o,width:r}=e.getBoundingClientRect();o+r/2<t?i.push(e):s.push(e)}i.forEach(e=>e.style.backgroundColor="var(--affine-icon-color)"),s.forEach(e=>e.style.backgroundColor="var(--affine-border-color)")},this.#ok=Cx(this,p,void 0),this.#oS=(Cx(this,f),Cx(this,g,void 0)),this.#oM=(Cx(this,m),Cx(this,v,void 0)),this.#oE=(Cx(this,y),Cx(this,b,void 0)),this.#oI=(Cx(this,w),Cx(this,x,void 0)),this.#oB=(Cx(this,_),Cx(this,C,!1)),this.#o$=(Cx(this,k),Cx(this,S,!0)),this.#oT=(Cx(this,M),Cx(this,E,q.D9.Two)),Cx(this,I)}static{Cx(t,h)}})})();var CC=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Ck=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("edgeless-change-brush-button")],l=[],c=(0,P.Tm)(H.WF),d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[];(class extends c{static{t=this}static{let w="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.P)("edgeless-color-picker-button.color")],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],CC(this,null,i,{kind:"accessor",name:"_selectedColor",static:!1,private:!1,access:{has:e=>"_selectedColor"in e,get:e=>e._selectedColor,set:(e,t)=>{e._selectedColor=t}},metadata:w},d,h),CC(this,null,s,{kind:"accessor",name:"_selectedSize",static:!1,private:!1,access:{has:e=>"_selectedSize"in e,get:e=>e._selectedSize,set:(e,t)=>{e._selectedSize=t}},metadata:w},u,p),CC(this,null,o,{kind:"accessor",name:"colorButton",static:!1,private:!1,access:{has:e=>"colorButton"in e,get:e=>e.colorButton,set:(e,t)=>{e.colorButton=t}},metadata:w},f,g),CC(this,null,r,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:w},m,v),CC(this,null,a,{kind:"accessor",name:"elements",static:!1,private:!1,access:{has:e=>"elements"in e,get:e=>e.elements,set:(e,t)=>{e.elements=t}},metadata:w},y,b),CC(null,e={value:t},n,{kind:"class",name:t.name,metadata:w},null,l),t=e.value,w&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w}),Ck(t,l)}_setBrushProp(e,t){this.doc.captureSync(),this.elements.filter(i=>i[e]!==t).forEach(i=>this.service.updateElement(i.id,{[e]:t}))}render(){let e=this.edgeless.surface.renderer.getColorScheme(),t=this.elements,{selectedSize:i,selectedColor:s}=this;return(0,H.qy)`
      <edgeless-line-width-panel
        .selectedSize=${i}
        @select=${this._setLineWidth}
      >
      </edgeless-line-width-panel>

      <editor-toolbar-separator></editor-toolbar-separator>

      ${(0,_4.z)(this.edgeless.doc.awarenessStore.getFlag("enable_color_picker"),()=>{let{type:i,colors:o}=Cb(e,s,t[0].color);return(0,H.qy)`
            <edgeless-color-picker-button
              class="color"
              .label=${"Color"}
              .pick=${this.pickColor}
              .color=${s}
              .colors=${o}
              .colorType=${i}
              .palettes=${g1}
            >
            </edgeless-color-picker-button>
          `},()=>(0,H.qy)`
          <editor-menu-button
            .contentPadding=${"8px"}
            .button=${(0,H.qy)`
              <editor-icon-button aria-label="Color" .tooltip=${"Color"}>
                <edgeless-color-button
                  .color=${s}
                ></edgeless-color-button>
              </editor-icon-button>
            `}
          >
            <edgeless-color-panel
              .value=${s}
              @select=${this._setBrushColor}
            >
            </edgeless-color-panel>
          </editor-menu-button>
        `)}
    `}get doc(){return this.edgeless.doc}get selectedColor(){let e=this.edgeless.surface.renderer.getColorScheme();return this._selectedColor??function(e,t){let i=(0,ik.Tr)(e,e=>"object"==typeof e.color?e.color[t]??e.color.normal??null:e.color),s=(0,ik.Sk)(Object.entries(i),([e,t])=>t);return s?s[0]:g2()}(this.elements,e)}get selectedSize(){return this._selectedSize??function(e){let t=(0,ik.Tr)(e,e=>e.lineWidth),i=(0,ik.Sk)(Object.entries(t),([e,t])=>t);return i?Number(i[0]):q.D9.Four}(this.elements)}get service(){return this.surface.edgeless.service}get surface(){return this.edgeless.surface}#oO;get _selectedColor(){return this.#oO}set _selectedColor(e){this.#oO=e}#oP;get _selectedSize(){return this.#oP}set _selectedSize(e){this.#oP=e}#oA;get colorButton(){return this.#oA}set colorButton(e){this.#oA=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#oH;get elements(){return this.#oH}set elements(e){this.#oH=e}constructor(){super(...arguments),this._setBrushColor=({detail:e})=>{this._setBrushProp("color",e),this._selectedColor=e},this._setLineWidth=({detail:e})=>{this._setBrushProp("lineWidth",e),this._selectedSize=e},this.pickColor=e=>{if("pick"===e.type){this.elements.forEach(t=>this.service.updateElement(t.id,Cy("color",{...e.detail})));return}this.elements.forEach(t=>t["start"===e.type?"stash":"pop"]("color"))},this.#oO=Ck(this,d,null),this.#oP=(Ck(this,h),Ck(this,u,null)),this.#oA=(Ck(this,p),Ck(this,f,void 0)),this.#iE=(Ck(this,g),Ck(this,m,void 0)),this.#oH=(Ck(this,v),Ck(this,y,[])),Ck(this,b)}})})();let CS=[{name:"Solid",value:C.u1.Solid,icon:e7},{name:"Dash",value:C.u1.Dash,icon:e8},{name:"None",value:C.u1.None,icon:e9}];function CM({onClick:e,selectedLineSize:t,selectedLineStyle:i,lineStyles:s=[C.u1.Solid,C.u1.Dash,C.u1.None]}={}){let o=(0,H.qy)`
    <edgeless-line-width-panel
      .selectedSize=${t}
      .disable=${i===C.u1.None}
      @select=${t=>{e?.({type:"size",value:t.detail})}}
    ></edgeless-line-width-panel>
  `,r=(0,D.u)(CS.filter(e=>s.includes(e.value)),e=>e.value,({name:t,icon:s,value:o})=>{let r=i===o,a={"line-style-button":!0,[`mode-${o}`]:!0};return r&&(a.active=!0),(0,H.qy)`
        <edgeless-tool-icon-button
          class=${(0,oJ.H)(a)}
          .active=${r}
          .activeMode=${"background"}
          .tooltip=${t}
          @click=${()=>e?.({type:"lineStyle",value:o})}
        >
          ${s}
        </edgeless-tool-icon-button>
      `});return(0,H.qy)`
    ${o}
    <editor-toolbar-separator></editor-toolbar-separator>
    ${r}
  `}var CE=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},CI=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l=[(0,L.EM)("stroke-style-panel")],c=[],d=(0,P.Tm)(H.WF),h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[];(class extends d{static{t=this}static{let C="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],CE(this,null,i,{kind:"accessor",name:"hollowCircle",static:!1,private:!1,access:{has:e=>"hollowCircle"in e,get:e=>e.hollowCircle,set:(e,t)=>{e.hollowCircle=t}},metadata:C},h,u),CE(this,null,s,{kind:"accessor",name:"setStrokeColor",static:!1,private:!1,access:{has:e=>"setStrokeColor"in e,get:e=>e.setStrokeColor,set:(e,t)=>{e.setStrokeColor=t}},metadata:C},p,f),CE(this,null,o,{kind:"accessor",name:"setStrokeStyle",static:!1,private:!1,access:{has:e=>"setStrokeStyle"in e,get:e=>e.setStrokeStyle,set:(e,t)=>{e.setStrokeStyle=t}},metadata:C},g,m),CE(this,null,r,{kind:"accessor",name:"strokeColor",static:!1,private:!1,access:{has:e=>"strokeColor"in e,get:e=>e.strokeColor,set:(e,t)=>{e.strokeColor=t}},metadata:C},v,y),CE(this,null,a,{kind:"accessor",name:"strokeStyle",static:!1,private:!1,access:{has:e=>"strokeStyle"in e,get:e=>e.strokeStyle,set:(e,t)=>{e.strokeStyle=t}},metadata:C},b,w),CE(this,null,n,{kind:"accessor",name:"strokeWidth",static:!1,private:!1,access:{has:e=>"strokeWidth"in e,get:e=>e.strokeWidth,set:(e,t)=>{e.strokeWidth=t}},metadata:C},x,_),CE(null,e={value:t},l,{kind:"class",name:t.name,metadata:C},null,c),t=e.value,C&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .line-styles {
      display: flex;
      flex-direction: row;
      gap: 8px;
      align-items: center;
    }
  `}render(){return(0,H.qy)`
      <div class="line-styles">
        ${CM({selectedLineSize:this.strokeWidth,selectedLineStyle:this.strokeStyle,onClick:e=>this.setStrokeStyle(e),lineStyles:[C.u1.Solid,C.u1.Dash]})}
      </div>
      <editor-toolbar-separator
        data-orientation="horizontal"
      ></editor-toolbar-separator>
      <edgeless-color-panel
        role="listbox"
        aria-label="Border colors"
        .options=${O.S5}
        .value=${this.strokeColor}
        .hollowCircle=${this.hollowCircle}
        @select=${e=>this.setStrokeColor(e)}
      >
      </edgeless-color-panel>
    `}#ix=CI(this,h,void 0);get hollowCircle(){return this.#ix}set hollowCircle(e){this.#ix=e}#oL=(CI(this,u),CI(this,p,void 0));get setStrokeColor(){return this.#oL}set setStrokeColor(e){this.#oL=e}#oD=(CI(this,f),CI(this,g,void 0));get setStrokeStyle(){return this.#oD}set setStrokeStyle(e){this.#oD=e}#oZ=(CI(this,m),CI(this,v,void 0));get strokeColor(){return this.#oZ}set strokeColor(e){this.#oZ=e}#oj=(CI(this,y),CI(this,b,void 0));get strokeStyle(){return this.#oj}set strokeStyle(e){this.#oj=e}#oV=(CI(this,w),CI(this,x,void 0));get strokeWidth(){return this.#oV}set strokeWidth(e){this.#oV=e}constructor(){super(...arguments),CI(this,_)}static{CI(t,c)}})})();var CB=i(19155);let C$=(0,H.AH)`
  :host {
    display: flex;
    flex-direction: column;
    align-items: normal;
    gap: 12px;
    min-width: 198px;
    padding: 16px;
  }

  nav {
    display: flex;
    padding: 2px;
    align-items: flex-start;
    gap: 4px;
    align-self: stretch;
    border-radius: 8px;
    background: var(--affine-hover-color);
  }

  nav button {
    display: flex;
    padding: 4px 8px;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    flex: 1 0 0;

    ${yi};
    color: var(--affine-text-secondary-color);
    font-weight: 600;

    border-radius: 8px;
    background: transparent;
    border: none;
  }

  nav button[active] {
    color: var(--affine-text-primary-color, #121212);
    background: var(--affine-white);
    box-shadow: var(--affine-shadow-1);
    pointer-events: none;
  }

  .modes {
    display: none;
    gap: 8px;
    align-self: stretch;
  }
  .modes[active] {
    display: flex;
  }

  .modes .mode {
    display: flex;
    padding: 2px;
    flex-direction: column;
    flex: 1 0 0;
  }

  .modes .mode button {
    position: relative;
    display: flex;
    height: 60px;
    padding: 12px 12px 8px;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 4px;
    align-self: stretch;
    border-radius: 8px;
    border: 1px solid var(--affine-border-color);
    box-sizing: border-box;

    ${yi};
    font-weight: 400;
    color: #8e8d91;
  }
  .modes .mode.light button {
    background: white;
  }
  .modes .mode.dark button {
    background: #141414;
  }
  .modes .mode button .color {
    background: var(--c);
    flex-shrink: 0;
    width: 22px;
    height: 22px;
    border-radius: 50%;
    overflow: hidden;
  }
  .modes .mode button[active] {
    pointer-events: none;
    outline: 2px solid var(--affine-brand-color);
  }

  .content {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .color-palette-wrapper {
    position: relative;
    width: 100%;
    height: 170px;
  }

  .color-palette-wrapper canvas {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 8px;
  }
  .color-palette-wrapper::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    left: 0;
    bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-sizing: border-box;
    border-radius: 8px;
    overflow: hidden;
    pointer-events: none;
  }

  .color-circle {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--size);
    height: var(--size);
    left: calc(-1 * var(--size) / 2);
    transform: translate(var(--x, 0), var(--y, 0));
    background: transparent;
    border: 0.5px solid #e3e2e4;
    border-radius: 50%;
    box-sizing: border-box;
    box-shadow: 0px 0px 0px 0.5px #e3e3e4 inset;
    filter: drop-shadow(0px 0px 12px rgba(66, 65, 73, 0.14));
    pointer-events: none;
    z-index: 2;
  }
  .color-circle::before {
    content: '';
    position: absolute;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: var(--c);
    box-sizing: border-box;
  }
  .color-circle::after {
    content: '';
    position: absolute;
    width: calc(var(--size) - 1px);
    height: calc(var(--size) - 1px);
    background: transparent;
    border-style: solid;
    border-color: white;
    border-radius: 50%;
    box-sizing: border-box;
  }

  .color-palette-wrapper {
    --size: calc(var(--r, 12.5px) * 2);
  }
  .color-palette-wrapper .color-circle {
    top: calc(-1 * var(--size) / 2);
  }
  .color-palette-wrapper .color-circle::before {
    opacity: var(--o, 1);
  }
  .color-palette-wrapper .color-circle::after {
    border-width: 4px;
  }
  .color-palette,
  .color-slider {
    position: absolute;
    inset: calc(-1 * var(--size) / 2);
  }

  .color-slider-wrapper:last-of-type {
    margin-bottom: 12px;
  }

  .color-slider-wrapper {
    display: flex;
    align-items: center;
    position: relative;
    width: 100%;
    height: 12px;
  }
  .color-slider-wrapper::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    left: 0;
    bottom: 0;
    border-radius: 12px;
    overflow: hidden;
  }
  .color-slider-wrapper {
    --size: calc(var(--r, 10.5px) * 2);
  }
  .color-slider-wrapper .color-circle::after {
    border-width: 2px;
  }
  .color-slider-wrapper.hue::before {
    background: linear-gradient(
      to right,
      #f00 0%,
      #ff0 calc(100% / 6),
      #0f0 calc(200% / 6),
      #0ff 50%,
      #00f calc(400% / 6),
      #f0f calc(500% / 6),
      #f00 100%
    );
  }
  .color-slider-wrapper.alpha::before {
    background:
      linear-gradient(to right, var(--s) 0%, var(--c) 100%),
      conic-gradient(
          #fff 25%,
          #d9d9d9 0deg,
          #d9d9d9 50%,
          #fff 0deg,
          #fff 75%,
          #d9d9d9 0deg
        )
        0% 0% / 8px 8px;
  }
  .color-slider-wrapper.alpha .color-circle::before {
    opacity: var(--o, 1);
  }

  footer {
    display: flex;
    justify-content: space-between;
  }

  .field {
    display: flex;
    padding: 7px 9px;
    align-items: center;
    gap: 4px;
    border-radius: 8px;
    border: 1px solid var(--affine-border-color);
    background: var(--affine-white-30);
    box-sizing: border-box;
  }

  .field.color {
    width: 134px;
  }

  .field.alpha {
    width: 56px;
    gap: 0;
  }

  input {
    display: flex;
    width: 100%;
    padding: 0;
    background: transparent;
    border: none;
    outline: none;
    ${yt};
    font-weight: 400;
    color: var(--affine-text-primary-color);
  }

  /* Chrome, Safari, Edge, Opera */
  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  /* Firefox */
  input[type='number'] {
    -moz-appearance: textfield;
  }
`;var CT=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},CO=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let CP=[{type:"colors",name:"Colors"},{type:"custom",name:"Custom"}];(()=>{let e,t,i,s,o,r,a,n,l=[(0,L.EM)("edgeless-color-picker")],c=[],d=(0,sh.Jb)((0,P.Tm)(H.WF)),h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[];(class extends d{static{t=this}static{let C="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.P)(".color-slider-wrapper.alpha .color-slider")],s=[(0,L.P)("canvas")],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.P)(".color-slider-wrapper.hue .color-slider")],a=[(0,L.P)(".color-palette")],n=[(0,L.MZ)({attribute:!1})],CT(this,null,i,{kind:"accessor",name:"alphaControl",static:!1,private:!1,access:{has:e=>"alphaControl"in e,get:e=>e.alphaControl,set:(e,t)=>{e.alphaControl=t}},metadata:C},h,u),CT(this,null,s,{kind:"accessor",name:"canvas",static:!1,private:!1,access:{has:e=>"canvas"in e,get:e=>e.canvas,set:(e,t)=>{e.canvas=t}},metadata:C},p,f),CT(this,null,o,{kind:"accessor",name:"colors",static:!1,private:!1,access:{has:e=>"colors"in e,get:e=>e.colors,set:(e,t)=>{e.colors=t}},metadata:C},g,m),CT(this,null,r,{kind:"accessor",name:"hueControl",static:!1,private:!1,access:{has:e=>"hueControl"in e,get:e=>e.hueControl,set:(e,t)=>{e.hueControl=t}},metadata:C},v,y),CT(this,null,a,{kind:"accessor",name:"paletteControl",static:!1,private:!1,access:{has:e=>"paletteControl"in e,get:e=>e.paletteControl,set:(e,t)=>{e.paletteControl=t}},metadata:C},b,w),CT(this,null,n,{kind:"accessor",name:"pick",static:!1,private:!1,access:{has:e=>"pick"in e,get:e=>e.pick,set:(e,t)=>{e.pick=t}},metadata:C},x,_),CT(null,e={value:t},l,{kind:"class",name:t.name,metadata:C},null,c),t=e.value,C&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})}#oR=new DOMRect;#oz=e=>{let t=e.target,i=t.value,s=i.trim().replace(/[^0-9]/,""),o=Ci(0,Number(s),100),r=Cs(o,100),a=this.hsva$.peek();if(i!==(s=`${o}`)&&(t.value=s),a.a===r)return;let n=this.#oR.width*r;this.alphaPosX$.value=n,this.#oF()};#oN=e=>{e.stopPropagation();let t=e.target;if("Enter"===e.key){let e;let i=t.value,s=i.trim().replace(_9.other,"");if((e=s.match(_9.hex3))||(e=s.match(_9.hex6))){let o=this.hsva$.peek(),r=Cu(e[1]),a={...o,...r};if(i!==(s=Cl(Cn(a)))&&(t.value=s),Cp(a,o))return;this.#oq(a),this.#oF()}else t.value=this.hex6WithoutHash$.peek()}};#oU=new DOMRect;#oW=new DOMRect;static{this.styles=C$}#oF(){let e=this.hsva$.peek(),t=this.modeType$.peek(),i={[t]:Cd(e)};if("normal"!==t){let e="light"===t?"dark":"light",{hsva:s}=this[`${e}$`].peek();i[e]=Cd(s)}this.pick?.({type:"pick",detail:i})}#oG(){this.pick?.({type:"end"})}#oY(){this.pick?.({type:"start"})}#oK(e){let{left:t,width:i}=this.#oR,s=Ci(0,e-t,i);this.alphaPosX$.value=s}#oX(e){let{width:t}=this.#oR,i=Ci(0,this.alphaPosX$.peek()+e*t/100,t);this.alphaPosX$.value=i}#oq({h:e,s:t,v:i,a:s}){let o=this.#oU.width*e,r=this.#oW.width*t,a=this.#oW.height*(1-i),n=this.#oR.width*s;(0,sh.vA)(()=>{this.huePosX$.value=o,this.alphaPosX$.value=n,this.palettePos$.value={x:r,y:a}})}#oQ(e){let{left:t,width:i}=this.#oU,s=Ci(0,e-t,i);this.huePosX$.value=s}#oJ(e){let{width:t}=this.#oU,i=Ci(0,this.huePosX$.peek()+e*t/100,t);this.huePosX$.value=i}#o1(e,t){let{left:i,top:s,width:o,height:r}=this.#oW,a=Ci(0,e-i,o),n=Ci(0,t-s,r);this.palettePos$.value={x:a,y:n}}#o0(e,t){let{width:i,height:s}=this.#oW,o=this.palettePos$.peek(),r=Ci(0,o.x+e*i/100,i),a=Ci(0,o.y+t*s/100,s);this.palettePos$.value={x:r,y:a}}#o2({left:e,top:t,width:i,height:s},o){return new DOMRect(e+o,t+o,Math.round(i-2*o),Math.round(s-2*o))}#o5(){this.#oW=this.#o2(this.paletteControl.getBoundingClientRect(),12.5),this.#oU=this.#o2(this.hueControl.getBoundingClientRect(),10.5),this.#oR=this.#o2(this.alphaControl.getBoundingClientRect(),10.5)}#o7(e){this.modeType$.value=e,this.#oq(this.mode$.peek().hsva)}#o3(e){if(this.navType$.value=e,"colors"===e){let e=this.mode$.peek();this.modes$.value[0].hsva={...e.hsva},this.modeType$.value="normal"}else{let[e,t,i]=this.modes$.value;t.hsva={...e.hsva},i.hsva={...e.hsva},this.modeType$.value="light"}}firstUpdated(){let e,t,i,s=!1,o=!1,r=!1,a=!1,n=0;this.disposables.addFromEvent(this,"wheel",e=>{e.stopPropagation();let t=e.composedPath()[0],i=t===this.hueControl,s=!i&&t===this.alphaControl,o=!s&&t===this.paletteControl;a=i||s||o,n&&clearTimeout(n),a&&(n||this.#oY(),n=window.setTimeout(()=>{this.#oG(),n=0},110)),((e,t)=>{if(!a)return;let r=Math.abs(e),n=Math.abs(t);0!==Math.hypot(e=Math.sign(e),t=Math.sign(t))&&(e*=-1*Math.max(1,Math.log10(r)),t*=-1*Math.max(1,Math.log10(n)),i&&this.#oJ(e|t),s&&this.#oX(e|t),o&&this.#o0(e,t),this.#oF())})(e.deltaX,e.deltaY)}),this.disposables.addFromEvent(this,"pointerdown",l=>{l.stopPropagation(),n&&(clearTimeout(n),n=0),e=(0,lt.on)(this,"pointerenter",()=>r=!1),i=(0,lt.on)(this,"pointerout",()=>r=!0),(0,lt.Oo)(document,"pointerup",()=>{e?.(),t?.(),i?.(),a&&this.#oG(),o&&r&&(0,lt.Oo)(document,"click",lt.dG,!0),e=t=i=null,s=o=r=a=!1}),s=!0;let c=l.composedPath()[0],d=c===this.hueControl,h=!d&&c===this.alphaControl,u=!h&&c===this.paletteControl;if(a=d||h||u){this.#oY();let e=c.getBoundingClientRect();d?this.#oU=this.#o2(e,10.5):h?this.#oR=this.#o2(e,10.5):u&&(this.#oW=this.#o2(e,12.5))}let p=(e,t)=>{a&&(d&&this.#oQ(e),h&&this.#oK(e),u&&this.#o1(e,t),this.#oF())};p(l.x,l.y),t=(0,lt.on)(document,"pointermove",e=>{s&&(o||(o=!0),p(e.x,e.y))})}),this.disposables.addFromEvent(this,"click",lt.dG);let l=[],{type:c,modes:d}=this.colors;["dark","light"].includes(c)&&l.push(()=>{this.modeType$.value=c,this.navType$.value="custom"}),d?.length&&l.push(()=>{this.modes$.value.reduce((e,t,i)=>{let s=d[i];return t.hsva=s?Ca(s.rgba):e,{...t.hsva}},Ce())}),l.push(()=>{let e=this.mode$.peek();this.#oq(e.hsva)}),this.#o5(),(0,sh.vA)(()=>l.forEach(e=>e())),this.updateComplete.then(()=>{this.disposables.add(this.hsva$.subscribe(e=>{let t=this.modeType$.peek(),i=this.modes$.value.find(e=>e.type===t);i&&(i.hsva={...e})})),this.disposables.add(this.huePosX$.subscribe(e=>{let{width:t}=this.#oU,i=function(e){if(e<0)return _6[0][0];if(e>1)return _6[_6.length-1][0];let t=0,i=_6.length;for(;t<i;){let s=Math.floor((t+i)/2);_6[s][1]<e?t=s+1:i=s}0===t&&(t=1);let[s,o]=_6[t-1],[r,a]=_6[t];e=(e-o)/(a-o);let[n,l,c]=[Ct(s.r,r.r,e),Ct(s.g,r.g,e),Ct(s.b,r.b,e)];return{r:n,g:l,b:c}}(Cs(e,t));Cf(this.canvas,i),this.hue$.value=i})),this.disposables.add(this.hue$.subscribe(e=>{let t=this.hsva$.peek(),i=Co(e).h;this.hsva$.value={...t,h:i}})),this.disposables.add(this.alphaPosX$.subscribe(e=>{let t=this.hsva$.peek(),{width:i}=this.#oR,s=Cs(e,i);this.hsva$.value={...t,a:s}})),this.disposables.add(this.palettePos$.subscribe(({x:e,y:t})=>{let i=this.hsva$.peek(),{width:s,height:o}=this.#oW,r=Cs(e,s),a=Cs(o-t,o);this.hsva$.value={...i,s:r,v:a}}))}).catch(console.error)}render(){return(0,H.qy)`
      <header>
        <nav>
          ${(0,D.u)(CP,e=>e.type,({type:e,name:t})=>(0,H.qy)`
              <button
                ?active=${e===this.navType$.value}
                @click=${()=>this.#o3(e)}
              >
                ${t}
              </button>
            `)}
        </nav>
      </header>

      <div class="modes" ?active=${"custom"===this.navType$.value}>
        ${(0,D.u)([this.light$.value,this.dark$.value],e=>e.type,({type:e,name:t,hsva:i})=>(0,H.qy)`
            <div
              class="${(0,oJ.H)({mode:!0,[e]:!0})}"
              style=${(0,Z.W)({"--c":Cd(i)})}
            >
              <button
                ?active=${this.modeType$.value===e}
                @click=${()=>this.#o7(e)}
              >
                <div class="color"></div>
                <div>${t}</div>
              </button>
            </div>
          `)}
      </div>

      <div class="content">
        <div
          class="color-palette-wrapper"
          style=${(0,Z.W)(this.paletteStyle$.value)}
        >
          <canvas></canvas>
          <div class="color-circle"></div>
          <div class="color-palette"></div>
        </div>
        <div
          class="color-slider-wrapper hue"
          style=${(0,Z.W)(this.hueStyle$.value)}
        >
          <div class="color-circle"></div>
          <div class="color-slider"></div>
        </div>
        <div
          class="color-slider-wrapper alpha"
          style=${(0,Z.W)(this.alphaStyle$.value)}
        >
          <div class="color-circle"></div>
          <div class="color-slider"></div>
        </div>
      </div>

      <footer>
        <label class="field color">
          <span>#</span>
          <input
            autocomplete="off"
            spellcheck="false"
            minlength="1"
            maxlength="6"
            .value=${(0,CB.V)(this.hex6WithoutHash$.value)}
            @keydown=${this.#oN}
          />
        </label>
        <label class="field alpha">
          <input
            type="number"
            min="0"
            max="100"
            .value=${(0,CB.V)(this.alpha100$.value)}
            @input=${this.#oz}
          />
          <span>%</span>
        </label>
      </footer>
    `}#o4=(0,sh.EW)(()=>`${Math.round(100*this.hsva$.value.a)}`);get alpha100$(){return this.#o4}set alpha100$(e){this.#o4=e}#o6=CO(this,h,void 0);get alphaControl(){return this.#o6}set alphaControl(e){this.#o6=e}#o8=(CO(this,u),(0,sh.vP)(0));get alphaPosX$(){return this.#o8}set alphaPosX$(e){this.#o8=e}#o9=(0,sh.EW)(()=>{let e=this.alphaPosX$.value,t=this.rgba$.value,i=`#${Cl(t)}`;return{"--o":t.a,"--s":`${i}00`,"--c":`${i}ff`,"--x":`${e}px`,"--r":"10.5px"}});get alphaStyle$(){return this.#o9}set alphaStyle$(e){this.#o9=e}#re=CO(this,p,void 0);get canvas(){return this.#re}set canvas(e){this.#re=e}#rt=(CO(this,f),CO(this,g,{type:"normal"}));get colors(){return this.#rt}set colors(e){this.#rt=e}#ri=(CO(this,m),(0,sh.EW)(()=>this.modes$.value[2]));get dark$(){return this.#ri}set dark$(e){this.#ri=e}#rs=(0,sh.EW)(()=>this.hex8$.value.substring(0,7));get hex6$(){return this.#rs}set hex6$(e){this.#rs=e}#ro=(0,sh.EW)(()=>this.hex6$.value.substring(1));get hex6WithoutHash$(){return this.#ro}set hex6WithoutHash$(e){this.#ro=e}#rr=(0,sh.EW)(()=>Cc(this.rgba$.value));get hex8$(){return this.#rr}set hex8$(e){this.#rr=e}#ra=(0,sh.vP)(Ce());get hsva$(){return this.#ra}set hsva$(e){this.#ra=e}#rn=(0,sh.vP)({r:0,g:0,b:0});get hue$(){return this.#rn}set hue$(e){this.#rn=e}#rl=CO(this,v,void 0);get hueControl(){return this.#rl}set hueControl(e){this.#rl=e}#rc=(CO(this,y),(0,sh.vP)(0));get huePosX$(){return this.#rc}set huePosX$(e){this.#rc=e}#rd=(0,sh.EW)(()=>{let e=this.huePosX$.value,t=this.hue$.value;return{"--x":`${e}px`,"--c":`#${Cl(t)}`,"--r":"10.5px"}});get hueStyle$(){return this.#rd}set hueStyle$(e){this.#rd=e}#rh=(0,sh.EW)(()=>this.modes$.value[1]);get light$(){return this.#rh}set light$(e){this.#rh=e}#ru=(0,sh.EW)(()=>{let e=this.modeType$.value;return this.modes$.value.find(t=>t.type===e)});get mode$(){return this.#ru}set mode$(e){this.#ru=e}#rp=(0,sh.vP)("normal");get modeType$(){return this.#rp}set modeType$(e){this.#rp=e}#rf=(0,sh.vP)([{type:"normal",name:"Normal",hsva:Ce()},{type:"light",name:"Light",hsva:Ce()},{type:"dark",name:"Dark",hsva:Ce()}]);get modes$(){return this.#rf}set modes$(e){this.#rf=e}#rg=(0,sh.vP)("colors");get navType$(){return this.#rg}set navType$(e){this.#rg=e}#rm=CO(this,b,void 0);get paletteControl(){return this.#rm}set paletteControl(e){this.#rm=e}#rv=(CO(this,w),(0,sh.vP)({x:0,y:0}));get palettePos$(){return this.#rv}set palettePos$(e){this.#rv=e}#ry=(0,sh.EW)(()=>{let{x:e,y:t}=this.palettePos$.value;return{"--c":this.hex6$.value,"--x":`${e}px`,"--y":`${t}px`,"--r":"12.5px"}});get paletteStyle$(){return this.#ry}set paletteStyle$(e){this.#ry=e}#rb=CO(this,x,void 0);get pick(){return this.#rb}set pick(e){this.#rb=e}#rw=(CO(this,_),(0,sh.EW)(()=>Cn(this.hsva$.value)));get rgba$(){return this.#rw}set rgba$(e){this.#rw=e}static{CO(t,c)}})})();var CA=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},CH=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("edgeless-color-custom-button")],s=[],o=H.WF,r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;CA(this,null,[(0,L.MZ)({attribute:!1})],{kind:"accessor",name:"active",static:!1,private:!1,access:{has:e=>"active"in e,get:e=>e.active,set:(e,t)=>{e.active=t}},metadata:n},r,a),CA(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    ${me}

    .color-custom {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      box-sizing: border-box;
      overflow: hidden;
      padding: 2px;
      border: 2px solid transparent;
      background:
        linear-gradient(var(--c, transparent), var(--c, transparent))
          content-box,
        linear-gradient(var(--b, transparent), var(--b, transparent))
          padding-box,
        conic-gradient(
            from 180deg at 50% 50%,
            #d21c7e 0deg,
            #c240f0 30.697514712810516deg,
            #434af5 62.052921652793884deg,
            #3cb5f9 93.59999656677246deg,
            #3ceefa 131.40000343322754deg,
            #37f7bd 167.40000128746033deg,
            #2df541 203.39999914169312deg,
            #e7f738 239.40000772476196deg,
            #fbaf3e 273.07027101516724deg,
            #fd904e 300.73712825775146deg,
            #f64545 329.47510957717896deg,
            #f040a9 359.0167021751404deg
          )
          border-box;
    }
  `}render(){return(0,H.qy)`
      <div class="color-container" ?active=${this.active}>
        <div class="color-unit color-custom"></div>
      </div>
    `}#iK=CH(this,r,void 0);get active(){return this.#iK}set active(e){this.#iK=e}constructor(){super(...arguments),CH(this,a)}static{CH(t,s)}})})();var CL=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},CD=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l,c,d,h,u,p=[(0,L.EM)("edgeless-color-picker-button")],f=[],g=(0,P.Tm)(H.WF),m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[],O=[],A=[],D=[],j=[],V=[],R=[];(class extends g{static{t=this}static{let P="function"==typeof Symbol&&Symbol.metadata?Object.create(g[Symbol.metadata]??null):void 0;i=[(0,L.MZ)()],s=[(0,L.MZ)()],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)()],l=[(0,L.P)("editor-menu-button")],c=[(0,L.MZ)({attribute:!1})],d=[(0,L.MZ)({attribute:!1})],h=[(0,L.wk)()],u=[(0,L.MZ)()],CL(this,null,i,{kind:"accessor",name:"color",static:!1,private:!1,access:{has:e=>"color"in e,get:e=>e.color,set:(e,t)=>{e.color=t}},metadata:P},m,v),CL(this,null,s,{kind:"accessor",name:"colorType",static:!1,private:!1,access:{has:e=>"colorType"in e,get:e=>e.colorType,set:(e,t)=>{e.colorType=t}},metadata:P},y,b),CL(this,null,o,{kind:"accessor",name:"colors",static:!1,private:!1,access:{has:e=>"colors"in e,get:e=>e.colors,set:(e,t)=>{e.colors=t}},metadata:P},w,x),CL(this,null,r,{kind:"accessor",name:"hollowCircle",static:!1,private:!1,access:{has:e=>"hollowCircle"in e,get:e=>e.hollowCircle,set:(e,t)=>{e.hollowCircle=t}},metadata:P},_,C),CL(this,null,a,{kind:"accessor",name:"isText",static:!1,private:!1,access:{has:e=>"isText"in e,get:e=>e.isText,set:(e,t)=>{e.isText=t}},metadata:P},k,S),CL(this,null,n,{kind:"accessor",name:"label",static:!1,private:!1,access:{has:e=>"label"in e,get:e=>e.label,set:(e,t)=>{e.label=t}},metadata:P},M,E),CL(this,null,l,{kind:"accessor",name:"menuButton",static:!1,private:!1,access:{has:e=>"menuButton"in e,get:e=>e.menuButton,set:(e,t)=>{e.menuButton=t}},metadata:P},I,B),CL(this,null,c,{kind:"accessor",name:"palettes",static:!1,private:!1,access:{has:e=>"palettes"in e,get:e=>e.palettes,set:(e,t)=>{e.palettes=t}},metadata:P},$,T),CL(this,null,d,{kind:"accessor",name:"pick",static:!1,private:!1,access:{has:e=>"pick"in e,get:e=>e.pick,set:(e,t)=>{e.pick=t}},metadata:P},O,A),CL(this,null,h,{kind:"accessor",name:"tabType",static:!1,private:!1,access:{has:e=>"tabType"in e,get:e=>e.tabType,set:(e,t)=>{e.tabType=t}},metadata:P},D,j),CL(this,null,u,{kind:"accessor",name:"tooltip",static:!1,private:!1,access:{has:e=>"tooltip"in e,get:e=>e.tooltip,set:(e,t)=>{e.tooltip=t}},metadata:P},V,R),CL(null,e={value:t},p,{kind:"class",name:t.name,metadata:P},null,f),t=e.value,P&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:P}),CD(t,f)}#rx;#oF(e){this.pick?.({type:"start"}),this.pick?.({type:"pick",detail:e}),this.pick?.({type:"end"})}firstUpdated(){this.disposables.addFromEvent(this.menuButton,"toggle",e=>{"hidden"===e.newState&&"normal"!==this.tabType&&(this.tabType="normal")})}render(){return(0,H.qy)`
      <editor-menu-button
        .contentPadding=${this.tabContentPadding}
        .button=${(0,H.qy)`
          <editor-icon-button
            aria-label=${this.label}
            .tooltip=${this.tooltip||this.label}
          >
            ${this.isText?(0,H.qy)`
                  <edgeless-text-color-icon
                    .color=${this.colorWithoutAlpha}
                  ></edgeless-text-color-icon>
                `:(0,H.qy)`
                  <edgeless-color-button
                    .color=${this.colorWithoutAlpha}
                    .hollowCircle=${this.hollowCircle}
                  ></edgeless-color-button>
                `}
          </editor-icon-button>
        `}
      >
        ${(0,we.S)(this.tabType,[["normal",()=>(0,H.qy)`
              <div data-orientation="vertical">
                <slot name="other"></slot>
                <slot name="separator"></slot>
                <edgeless-color-panel
                  role="listbox"
                  .value=${this.color}
                  .options=${this.palettes}
                  .hollowCircle=${this.hollowCircle}
                  .openColorPicker=${this.switchToCustomTab}
                  .hasTransparent=${!1}
                  @select=${this.#rx}
                >
                  <edgeless-color-custom-button
                    slot="custom"
                    style=${(0,Z.W)(this.customButtonStyle)}
                    .active=${!this.isCSSVariable}
                    @click=${this.switchToCustomTab}
                  ></edgeless-color-custom-button>
                </edgeless-color-panel>
              </div>
            `],["custom",()=>(0,H.qy)`
              <edgeless-color-picker
                class="custom"
                .pick=${this.pick}
                .colors=${{type:"palette"===this.colorType?"normal":this.colorType,modes:this.colors.map(Cv(window.getComputedStyle(this)))}}
              ></edgeless-color-picker>
            `]])}
      </editor-menu-button>
    `}get colorWithoutAlpha(){return this.isCSSVariable?this.color:Cg(this.color)}get customButtonStyle(){let e="transparent",t="transparent";return this.isCSSVariable||(e="var(--affine-background-overlay-panel-color)",t=Cg(this.color)),{"--b":e,"--c":t}}get isCSSVariable(){return this.color.startsWith("--")}get tabContentPadding(){return`${"custom"===this.tabType?0:8}px`}#iw;get color(){return this.#iw}set color(e){this.#iw=e}#r_;get colorType(){return this.#r_}set colorType(e){this.#r_=e}#rt;get colors(){return this.#rt}set colors(e){this.#rt=e}#ix;get hollowCircle(){return this.#ix}set hollowCircle(e){this.#ix=e}#rC;get isText(){return this.#rC}set isText(e){this.#rC=e}#rk;get label(){return this.#rk}set label(e){this.#rk=e}#rS;get menuButton(){return this.#rS}set menuButton(e){this.#rS=e}#rM;get palettes(){return this.#rM}set palettes(e){this.#rM=e}#rb;get pick(){return this.#rb}set pick(e){this.#rb=e}#rE;get tabType(){return this.#rE}set tabType(e){this.#rE=e}#sZ;get tooltip(){return this.#sZ}set tooltip(e){this.#sZ=e}constructor(){super(...arguments),this.#rx=e=>{this.#oF({palette:e.detail})},this.switchToCustomTab=e=>{e.stopPropagation(),"palette"===this.colorType&&(this.colorType="normal"),this.tabType="custom",this.menuButton.show(!0)},this.#iw=CD(this,m,void 0),this.#r_=(CD(this,v),CD(this,y,"palette")),this.#rt=(CD(this,b),CD(this,w,[])),this.#ix=(CD(this,x),CD(this,_,!1)),this.#rC=(CD(this,C),CD(this,k,void 0)),this.#rk=(CD(this,S),CD(this,M,void 0)),this.#rS=(CD(this,E),CD(this,I,void 0)),this.#rM=(CD(this,B),CD(this,$,[])),this.#rb=(CD(this,T),CD(this,O,void 0)),this.#rE=(CD(this,A),CD(this,D,"normal")),this.#sZ=(CD(this,j),CD(this,V,void 0)),CD(this,R)}})})();var CZ=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Cj=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let CV=[{name:"Left",value:C.nO.Left,icon:tl},{name:"Center",value:C.nO.Center,icon:tc},{name:"Right",value:C.nO.Right,icon:td}];(()=>{let e,t,i,s,o=[(0,L.EM)("edgeless-align-panel")],r=[],a=H.WF,n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],CZ(this,null,i,{kind:"accessor",name:"onSelect",static:!1,private:!1,access:{has:e=>"onSelect"in e,get:e=>e.onSelect,set:(e,t)=>{e.onSelect=t}},metadata:h},n,l),CZ(this,null,s,{kind:"accessor",name:"value",static:!1,private:!1,access:{has:e=>"value"in e,get:e=>e.value,set:(e,t)=>{e.value=t}},metadata:h},c,d),CZ(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
  `}_onSelect(e){this.value=e,this.onSelect&&this.onSelect(e)}render(){return(0,D.u)(CV,e=>e.name,({name:e,value:t,icon:i})=>(0,H.qy)`
        <edgeless-tool-icon-button
          .activeMode=${"background"}
          aria-label=${e}
          .tooltip=${e}
          .active=${this.value===t}
          @click=${()=>this._onSelect(t)}
        >
          ${i}
        </edgeless-tool-icon-button>
      `)}#oC=Cj(this,n,void 0);get onSelect(){return this.#oC}set onSelect(e){this.#oC=e}#ey=(Cj(this,l),Cj(this,c,C.nO.Left));get value(){return this.#ey}set value(e){this.#ey=e}constructor(){super(...arguments),Cj(this,d)}static{Cj(t,r)}})})();var CR=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Cz=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o=[(0,L.EM)("edgeless-font-family-panel")],r=[],a=H.WF,n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],CR(this,null,i,{kind:"accessor",name:"onSelect",static:!1,private:!1,access:{has:e=>"onSelect"in e,get:e=>e.onSelect,set:(e,t)=>{e.onSelect=t}},metadata:h},n,l),CR(this,null,s,{kind:"accessor",name:"value",static:!1,private:!1,access:{has:e=>"value"in e,get:e=>e.value,set:(e,t)=>{e.value=t}},metadata:h},c,d),CR(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      align-items: start;
      flex-direction: column;
      min-width: 136px;
    }

    edgeless-tool-icon-button {
      width: 100%;
    }
  `}_onSelect(e){this.value=e,this.onSelect&&this.onSelect(e)}render(){return(0,D.u)(C.i,e=>e[0],([e,t])=>{let i=this.value===e;return(0,H.qy)`
          <edgeless-tool-icon-button
            data-font="${t}"
            style="font-family: ${(0,mf.s9)(e)}"
            .iconContainerPadding=${[4,8]}
            .justify=${"space-between"}
            .active=${i}
            @click=${()=>this._onSelect(e)}
          >
            ${t} ${i?it:H.s6}
          </edgeless-tool-icon-button>
        `})}#oC=Cz(this,n,void 0);get onSelect(){return this.#oC}set onSelect(e){this.#oC=e}#ey=(Cz(this,l),Cz(this,c,C.ay.Inter));get value(){return this.#ey}set value(e){this.#ey=e}constructor(){super(...arguments),Cz(this,d)}static{Cz(t,r)}})})();var CF=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},CN=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let Cq=[[C.IT.Light,()=>"Light"],[C.IT.Regular,()=>"Regular"],[C.IT.SemiBold,()=>"Semibold"]];(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("edgeless-font-weight-and-style-panel")],n=[],l=H.WF,c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],CF(this,null,i,{kind:"accessor",name:"fontFamily",static:!1,private:!1,access:{has:e=>"fontFamily"in e,get:e=>e.fontFamily,set:(e,t)=>{e.fontFamily=t}},metadata:v},c,d),CF(this,null,s,{kind:"accessor",name:"fontStyle",static:!1,private:!1,access:{has:e=>"fontStyle"in e,get:e=>e.fontStyle,set:(e,t)=>{e.fontStyle=t}},metadata:v},h,u),CF(this,null,o,{kind:"accessor",name:"fontWeight",static:!1,private:!1,access:{has:e=>"fontWeight"in e,get:e=>e.fontWeight,set:(e,t)=>{e.fontWeight=t}},metadata:v},p,f),CF(this,null,r,{kind:"accessor",name:"onSelect",static:!1,private:!1,access:{has:e=>"onSelect"in e,get:e=>e.onSelect,set:(e,t)=>{e.onSelect=t}},metadata:v},g,m),CF(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      align-items: start;
      flex-direction: column;
      min-width: 124px;
    }

    edgeless-tool-icon-button {
      width: 100%;
    }
  `}_isActive(e,t=C.zz.Normal){return this.fontWeight===e&&this.fontStyle===t}_isDisabled(e,t=C.zz.Normal){return this.fontFamily in C._9&&!(0,mf.AF)().filter((0,mf.yp)(this.fontFamily)).find(i=>i.weight===e&&i.style===t)}_onSelect(e,t=C.zz.Normal){this.fontWeight=e,this.fontStyle=t,this.onSelect&&this.onSelect(e,t)}render(){let e=(0,mf.e4)(this.fontFamily);0===e.length&&(e=(0,mf.e4)(C.ay.Inter));let t=e.filter(e=>e.style===C.zz.Normal),i=e.filter(e=>e.style===C.zz.Italic);return(0,v6.f)([t.length>0?(0,D.u)(t,e=>e.weight,e=>{let t=this._isActive(e.weight);return(0,H.qy)`
                  <edgeless-tool-icon-button
                    data-weight="${e.weight}"
                    .iconContainerPadding=${[4,8]}
                    .justify=${"space-between"}
                    .disabled=${this._isDisabled(e.weight)}
                    .active=${t}
                    @click=${()=>this._onSelect(e.weight)}
                  >
                    ${(0,we.S)(e.weight,Cq)}
                    ${t?it:H.s6}
                  </edgeless-tool-icon-button>
                `}):H.s6,i.length>0?(0,D.u)(i,e=>e.weight,e=>{let t=this._isActive(e.weight,C.zz.Italic);return(0,H.qy)`
                  <edgeless-tool-icon-button
                    data-weight="${e.weight} italic"
                    .iconContainerPadding=${[4,8]}
                    .justify=${"space-between"}
                    .disabled=${this._isDisabled(e.weight,C.zz.Italic)}
                    .active=${t}
                    @click=${()=>this._onSelect(e.weight,C.zz.Italic)}
                  >
                    ${(0,we.S)(e.weight,Cq)} Italic
                    ${t?it:H.s6}
                  </edgeless-tool-icon-button>
                `}):H.s6].filter(e=>e!==H.s6),()=>(0,H.qy)`
        <edgeless-menu-divider
          data-orientation="horizontal"
        ></edgeless-menu-divider>
      `)}#rI=CN(this,c,C.ay.Inter);get fontFamily(){return this.#rI}set fontFamily(e){this.#rI=e}#rB=(CN(this,d),CN(this,h,C.zz.Normal));get fontStyle(){return this.#rB}set fontStyle(e){this.#rB=e}#r$=(CN(this,u),CN(this,p,C.IT.Regular));get fontWeight(){return this.#r$}set fontWeight(e){this.#r$=e}#oC=(CN(this,f),CN(this,g,void 0));get onSelect(){return this.#oC}set onSelect(e){this.#oC=e}constructor(){super(...arguments),CN(this,m)}static{CN(t,n)}})})();var CU=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},CW=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let CG=(()=>{let e,t,i,s,o,r,a,n,l,c,d,h,u,p,f,g,m,v,y,b=[(0,L.EM)("edgeless-tool-icon-button")],w=[],x=H.WF,_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[],O=[],P=[],A=[],D=[],j=[],V=[],R=[],z=[],F=[],N=[],q=[],U=[],W=[],G=[],Y=[],K=[],X=[],Q=[],J=[],ee=[],et=[],ei=[],es=[],eo=[];return class extends x{static{t=this}static{let H="function"==typeof Symbol&&Symbol.metadata?Object.create(x[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({attribute:!1})],c=[(0,L.MZ)({attribute:!1})],d=[(0,L.MZ)({attribute:!1})],h=[(0,L.MZ)({attribute:!1})],u=[(0,L.MZ)({attribute:!1})],p=[(0,L.MZ)({attribute:!1})],f=[(0,L.MZ)({type:Boolean})],g=[(0,L.MZ)({attribute:!1})],m=[(0,L.MZ)({attribute:!1})],v=[(0,L.MZ)({attribute:!1})],y=[(0,L.MZ)({attribute:!1})],CU(this,null,i,{kind:"accessor",name:"active",static:!1,private:!1,access:{has:e=>"active"in e,get:e=>e.active,set:(e,t)=>{e.active=t}},metadata:H},_,C),CU(this,null,s,{kind:"accessor",name:"activeMode",static:!1,private:!1,access:{has:e=>"activeMode"in e,get:e=>e.activeMode,set:(e,t)=>{e.activeMode=t}},metadata:H},k,S),CU(this,null,o,{kind:"accessor",name:"arrow",static:!1,private:!1,access:{has:e=>"arrow"in e,get:e=>e.arrow,set:(e,t)=>{e.arrow=t}},metadata:H},M,E),CU(this,null,r,{kind:"accessor",name:"coming",static:!1,private:!1,access:{has:e=>"coming"in e,get:e=>e.coming,set:(e,t)=>{e.coming=t}},metadata:H},I,B),CU(this,null,a,{kind:"accessor",name:"disabled",static:!1,private:!1,access:{has:e=>"disabled"in e,get:e=>e.disabled,set:(e,t)=>{e.disabled=t}},metadata:H},$,T),CU(this,null,n,{kind:"accessor",name:"hover",static:!1,private:!1,access:{has:e=>"hover"in e,get:e=>e.hover,set:(e,t)=>{e.hover=t}},metadata:H},O,P),CU(this,null,l,{kind:"accessor",name:"hoverState",static:!1,private:!1,access:{has:e=>"hoverState"in e,get:e=>e.hoverState,set:(e,t)=>{e.hoverState=t}},metadata:H},A,D),CU(this,null,c,{kind:"accessor",name:"iconContainerPadding",static:!1,private:!1,access:{has:e=>"iconContainerPadding"in e,get:e=>e.iconContainerPadding,set:(e,t)=>{e.iconContainerPadding=t}},metadata:H},j,V),CU(this,null,d,{kind:"accessor",name:"iconContainerWidth",static:!1,private:!1,access:{has:e=>"iconContainerWidth"in e,get:e=>e.iconContainerWidth,set:(e,t)=>{e.iconContainerWidth=t}},metadata:H},R,z),CU(this,null,h,{kind:"accessor",name:"iconSize",static:!1,private:!1,access:{has:e=>"iconSize"in e,get:e=>e.iconSize,set:(e,t)=>{e.iconSize=t}},metadata:H},F,N),CU(this,null,u,{kind:"accessor",name:"justify",static:!1,private:!1,access:{has:e=>"justify"in e,get:e=>e.justify,set:(e,t)=>{e.justify=t}},metadata:H},q,U),CU(this,null,p,{kind:"accessor",name:"labelHeight",static:!1,private:!1,access:{has:e=>"labelHeight"in e,get:e=>e.labelHeight,set:(e,t)=>{e.labelHeight=t}},metadata:H},W,G),CU(this,null,f,{kind:"accessor",name:"showTooltip",static:!1,private:!1,access:{has:e=>"showTooltip"in e,get:e=>e.showTooltip,set:(e,t)=>{e.showTooltip=t}},metadata:H},Y,K),CU(this,null,g,{kind:"accessor",name:"tipPosition",static:!1,private:!1,access:{has:e=>"tipPosition"in e,get:e=>e.tipPosition,set:(e,t)=>{e.tipPosition=t}},metadata:H},X,Q),CU(this,null,m,{kind:"accessor",name:"tooltip",static:!1,private:!1,access:{has:e=>"tooltip"in e,get:e=>e.tooltip,set:(e,t)=>{e.tooltip=t}},metadata:H},J,ee),CU(this,null,v,{kind:"accessor",name:"tooltipOffset",static:!1,private:!1,access:{has:e=>"tooltipOffset"in e,get:e=>e.tooltipOffset,set:(e,t)=>{e.tooltipOffset=t}},metadata:H},et,ei),CU(this,null,y,{kind:"accessor",name:"withHover",static:!1,private:!1,access:{has:e=>"withHover"in e,get:e=>e.withHover,set:(e,t)=>{e.withHover=t}},metadata:H},es,eo),CU(null,e={value:t},b,{kind:"class",name:t.name,metadata:H},null,w),t=e.value,H&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:H})}static{this.styles=(0,H.AH)`
    .icon-container {
      position: relative;
      display: flex;
      align-items: center;
      padding: var(--icon-container-padding);
      color: var(--affine-icon-color);
      border-radius: 4px;
      cursor: pointer;
      white-space: nowrap;
      box-sizing: border-box;
      width: var(--icon-container-width, unset);
      justify-content: var(--justify, unset);
    }

    .icon-container.active-mode-color[active] {
      color: var(--affine-primary-color);
    }

    .icon-container.active-mode-background[active] {
      background: var(--affine-hover-color);
    }

    .icon-container[disabled] {
      pointer-events: none;
      cursor: not-allowed;
      color: var(--affine-text-disable-color);
    }

    .icon-container[coming] {
      cursor: not-allowed;
      color: var(--affine-text-disable-color);
    }

    ::slotted(svg) {
      flex-shrink: 0;
      height: var(--icon-size, unset);
    }

    ::slotted(.label) {
      flex: 1;
      padding: 0 4px;
      overflow: hidden;
      white-space: nowrap;
      line-height: var(--label-height, inherit);
    }
    ::slotted(.label.padding0) {
      padding: 0;
    }
    ::slotted(.label.ellipsis) {
      text-overflow: ellipsis;
    }
    ::slotted(.label.medium) {
      font-weight: 500;
    }

    .icon-container[with-hover]::before {
      content: '';
      display: block;
      background: var(--affine-hover-color);
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      border-radius: 4px;
    }
  `}constructor(){super(),CW(this,eo),this.addEventListener("click",e=>{this.disabled&&(e.stopPropagation(),e.preventDefault())},{capture:!0})}connectedCallback(){super.connectedCallback(),this.role="button"}render(){let e=this.coming?"(Coming soon)":this.tooltip,t=`icon-container active-mode-${this.activeMode} ${this.hoverState?"hovered":""}`,i=this.iconContainerPadding,s=(0,Z.W)({"--icon-container-width":this.iconContainerWidth,"--icon-container-padding":Array.isArray(i)?i.map(e=>`${e}px`).join(" "):`${i}px`,"--icon-size":this.iconSize,"--justify":this.justify,"--label-height":this.labelHeight});return(0,H.qy)`
      <style>
        .icon-container:hover,
        .icon-container.hovered {
          background: ${this.hover?"var(--affine-hover-color)":"inherit"};
        }
      </style>
      <div
        class=${t}
        style=${s}
        ?with-hover=${this.withHover}
        ?disabled=${this.disabled}
        ?active=${this.active}
      >
        <slot></slot>
        ${(0,wm.P)(this.showTooltip&&e?(0,H.qy)`<affine-tooltip
                tip-position=${this.tipPosition}
                .arrow=${this.arrow}
                .offset=${this.tooltipOffset}
                >${e}</affine-tooltip
              >`:H.s6)}
      </div>
    `}#iK=CW(this,_,!1);get active(){return this.#iK}set active(e){this.#iK=e}#sI=(CW(this,C),CW(this,k,"color"));get activeMode(){return this.#sI}set activeMode(e){this.#sI=e}#te=(CW(this,S),CW(this,M,!0));get arrow(){return this.#te}set arrow(e){this.#te=e}#sB=(CW(this,E),CW(this,I,!1));get coming(){return this.#sB}set coming(e){this.#sB=e}#iX=(CW(this,B),CW(this,$,!1));get disabled(){return this.#iX}set disabled(e){this.#iX=e}#iQ=(CW(this,T),CW(this,O,!0));get hover(){return this.#iQ}set hover(e){this.#iQ=e}#s$=(CW(this,P),CW(this,A,!1));get hoverState(){return this.#s$}set hoverState(e){this.#s$=e}#sT=(CW(this,D),CW(this,j,2));get iconContainerPadding(){return this.#sT}set iconContainerPadding(e){this.#sT=e}#sO=(CW(this,V),CW(this,R,void 0));get iconContainerWidth(){return this.#sO}set iconContainerWidth(e){this.#sO=e}#sP=(CW(this,z),CW(this,F,void 0));get iconSize(){return this.#sP}set iconSize(e){this.#sP=e}#sA=(CW(this,N),CW(this,q,void 0));get justify(){return this.#sA}set justify(e){this.#sA=e}#sH=(CW(this,U),CW(this,W,void 0));get labelHeight(){return this.#sH}set labelHeight(e){this.#sH=e}#sL=(CW(this,G),CW(this,Y,!0));get showTooltip(){return this.#sL}set showTooltip(e){this.#sL=e}#sD=(CW(this,K),CW(this,X,"top"));get tipPosition(){return this.#sD}set tipPosition(e){this.#sD=e}#sZ=(CW(this,Q),CW(this,J,void 0));get tooltip(){return this.#sZ}set tooltip(e){this.#sZ=e}#sj=(CW(this,ee),CW(this,et,8));get tooltipOffset(){return this.#sj}set tooltipOffset(e){this.#sj=e}#sV=(CW(this,ei),CW(this,es,void 0));get withHover(){return this.#sV}set withHover(e){this.#sV=e}static{CW(t,w)}},t})();var CY=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},CK=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l,c=[(0,L.EM)("edgeless-size-panel")],d=[],h=H.WF,u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[];(class extends h{static{t=this}static{let M="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({attribute:"data-type"})],CY(this,null,i,{kind:"accessor",name:"maxSize",static:!1,private:!1,access:{has:e=>"maxSize"in e,get:e=>e.maxSize,set:(e,t)=>{e.maxSize=t}},metadata:M},u,p),CY(this,null,s,{kind:"accessor",name:"minSize",static:!1,private:!1,access:{has:e=>"minSize"in e,get:e=>e.minSize,set:(e,t)=>{e.minSize=t}},metadata:M},f,g),CY(this,null,o,{kind:"accessor",name:"onPopperCose",static:!1,private:!1,access:{has:e=>"onPopperCose"in e,get:e=>e.onPopperCose,set:(e,t)=>{e.onPopperCose=t}},metadata:M},m,v),CY(this,null,r,{kind:"accessor",name:"onSelect",static:!1,private:!1,access:{has:e=>"onSelect"in e,get:e=>e.onSelect,set:(e,t)=>{e.onSelect=t}},metadata:M},y,b),CY(this,null,a,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:e=>"size"in e,get:e=>e.size,set:(e,t)=>{e.size=t}},metadata:M},w,x),CY(this,null,n,{kind:"accessor",name:"sizeList",static:!1,private:!1,access:{has:e=>"sizeList"in e,get:e=>e.sizeList,set:(e,t)=>{e.sizeList=t}},metadata:M},_,C),CY(this,null,l,{kind:"accessor",name:"type",static:!1,private:!1,access:{has:e=>"type"in e,get:e=>e.type,set:(e,t)=>{e.type=t}},metadata:M},k,S),CY(null,e={value:t},c,{kind:"class",name:t.name,metadata:M},null,d),t=e.value,M&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:M})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 4px;
      width: 68px;
    }

    edgeless-tool-icon-button {
      align-self: stretch;
    }

    .size-input {
      display: flex;
      align-self: stretch;
      width: 100%;
      border: 0.5px solid var(--affine-border-color);
      border-radius: 8px;
      padding: 4px 8px;
      box-sizing: border-box;
    }

    .size-input::placeholder {
      color: var(--affine-placeholder-color);
    }

    .size-input:focus {
      outline-color: var(--affine-primary-color);
      outline-width: 0.5px;
    }

    :host([data-type='check']) {
      gap: 0;
    }

    :host([data-type='check']) .size-input {
      margin-top: 4px;
    }
  `}_onPopperClose(){this.onPopperCose?.()}_onSelect(e){this.onSelect?.(e)}render(){return(0,H.qy)`
      ${(0,D.u)(this.sizeList,e=>e.name,this.renderItem())}

      <input
        class="size-input"
        type="text"
        inputmode="numeric"
        pattern="[0-9]*"
        min="0"
        placeholder=${Math.trunc(this.size)}
        @keydown=${this._onKeydown}
        @input=${lt.dG}
        @click=${lt.dG}
        @pointerdown=${lt.dG}
      />
    `}renderItem(){return"normal"===this.type?this.renderItemWithNormal:this.renderItemWithCheck}#rT;get maxSize(){return this.#rT}set maxSize(e){this.#rT=e}#rO;get minSize(){return this.#rO}set minSize(e){this.#rO=e}#rP;get onPopperCose(){return this.#rP}set onPopperCose(e){this.#rP=e}#oC;get onSelect(){return this.#oC}set onSelect(e){this.#oC=e}#ev;get size(){return this.#ev}set size(e){this.#ev=e}#rA;get sizeList(){return this.#rA}set sizeList(e){this.#rA=e}#ie;get type(){return this.#ie}set type(e){this.#ie=e}constructor(){super(...arguments),this._onKeydown=e=>{if(e.stopPropagation(),"Enter"===e.key&&!e.isComposing){e.preventDefault();let t=e.target,i=parseInt(t.value.trim());if(isNaN(i)){t.value="";return}this._onSelect((0,iy.qE)(i,this.minSize,this.maxSize)),t.value="",this._onPopperClose()}},this.renderItemWithCheck=({name:e,value:t})=>{let i=this.size===t;return(0,H.qy)`
      <edgeless-tool-icon-button
        .iconContainerPadding=${[4,8]}
        .justify=${"space-between"}
        .active=${i}
        @click=${()=>this._onSelect(t)}
      >
        ${e??t} ${i?it:H.s6}
      </edgeless-tool-icon-button>
    `},this.renderItemWithNormal=({name:e,value:t})=>(0,H.qy)`
      <edgeless-tool-icon-button
        .iconContainerPadding=${[4,8]}
        .active=${this.size===t}
        .activeMode=${"background"}
        @click=${()=>this._onSelect(t)}
      >
        ${e??t}
      </edgeless-tool-icon-button>
    `,this.#rT=CK(this,u,200),this.#rO=(CK(this,p),CK(this,f,1)),this.#rP=(CK(this,g),CK(this,m,void 0)),this.#oC=(CK(this,v),CK(this,y,void 0)),this.#ev=(CK(this,b),CK(this,w,void 0)),this.#rA=(CK(this,x),CK(this,_,void 0)),this.#ie=(CK(this,C),CK(this,k,"normal")),CK(this,S)}static{CK(t,d)}})})();var CX=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},CQ=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let CJ=[{value:16},{value:24},{value:32},{value:40},{value:64},{value:128}],C1=[[C.IT.Light,()=>"Light"],[C.IT.Regular,()=>"Regular"],[C.IT.SemiBold,()=>"Semibold"]],C0=[[C.zz.Normal,()=>H.s6],[C.zz.Italic,()=>"Italic"]],C2=[[C.nO.Left,()=>tl],[C.nO.Center,()=>tc],[C.nO.Right,()=>td]];function C5(e,t){let i=(0,ik.Tr)(e,e=>e instanceof gC.Q?"fontSize"===t?null:e[t]:e instanceof S.lw?e.labelStyle[t]:e[t]);return(0,ik.Sk)(Object.entries(i),([e,t])=>t)}function C7(e){let t=C5(e,"fontStyle");return t?t[0]:C.zz.Normal}function C3(e){let t=C5(e,"fontWeight");return t?t[0]:C.IT.Regular}function C4(e,t){return e instanceof S.lw?{labelStyle:{...e.labelStyle,...t}}:{...t}}(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("edgeless-change-text-menu")],n=[],l=(0,P.Tm)(H.WF),c=[],d=[],h=[],u=[],p=[],f=[],g=[],v=[];(class extends l{static{t=this}static{let m="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.P)("edgeless-color-picker-button.text-color")],CX(this,null,i,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:m},c,d),CX(this,null,s,{kind:"accessor",name:"elementType",static:!1,private:!1,access:{has:e=>"elementType"in e,get:e=>e.elementType,set:(e,t)=>{e.elementType=t}},metadata:m},h,u),CX(this,null,o,{kind:"accessor",name:"elements",static:!1,private:!1,access:{has:e=>"elements"in e,get:e=>e.elements,set:(e,t)=>{e.elements=t}},metadata:m},p,f),CX(this,null,r,{kind:"accessor",name:"textColorButton",static:!1,private:!1,access:{has:e=>"textColorButton"in e,get:e=>e.textColorButton,set:(e,t)=>{e.textColorButton=t}},metadata:m},g,v),CX(null,e={value:t},a,{kind:"class",name:t.name,metadata:m},null,n),t=e.value,m&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m})}static{this.styles=(0,H.AH)`
    :host {
      display: inherit;
      align-items: inherit;
      justify-content: inherit;
      gap: inherit;
      height: 100%;
    }
  `}render(){let e=this.edgeless.surface.renderer.getColorScheme(),t=this.elements,i=function(e){let t=C5(e,"textAlign");return t?t[0]:C.nO.Left}(t),s=function(e,t){let i=(0,ik.Tr)(e,e=>{let i=e instanceof S.lw?e.labelStyle.color:e.color;return"object"==typeof i?i[t]??i.normal??null:i}),s=(0,ik.Sk)(Object.entries(i),([e,t])=>t);return s?s[0]:g2()}(t,e),o=function(e){let t=C5(e,"fontFamily");return t?t[0]:C.ay.Inter}(t),r=Math.trunc(function(e){let t=C5(e,"fontSize");return t?Number(t[0]):CJ[0].value}(t)),a=C7(t),n=C3(t),l=(0,mf.e4)(o),c=1===l.length&&l[0].style===a&&l[0].weight===n;return(0,v6.f)([(0,H.qy)`
          <editor-menu-button
            .contentPadding=${"8px"}
            .button=${(0,H.qy)`
              <editor-icon-button
                aria-label="Font"
                .tooltip=${"Font"}
                .justify=${"space-between"}
                .labelHeight=${"20px"}
                .iconContainerWidth=${"40px"}
              >
                <span
                  class="label padding0"
                  style=${`font-family: ${(0,mf.s9)(o)}`}
                  >Aa</span
                >${tO}
              </editor-icon-button>
            `}
          >
            <edgeless-font-family-panel
              .value=${o}
              .onSelect=${this._setFontFamily}
            ></edgeless-font-family-panel>
          </editor-menu-button>
        `,(0,_4.z)(this.edgeless.doc.awarenessStore.getFlag("enable_color_picker"),()=>{let{type:i,colors:o}=Cb(e,s,t[0]instanceof S.lw?t[0].labelStyle.color:t[0].color);return(0,H.qy)`
              <edgeless-color-picker-button
                class="text-color"
                .label=${"Text color"}
                .pick=${this.pickColor}
                .isText=${!0}
                .color=${s}
                .colors=${o}
                .colorType=${i}
                .palettes=${g1}
              >
              </edgeless-color-picker-button>
            `},()=>(0,H.qy)`
            <editor-menu-button
              .contentPadding=${"8px"}
              .button=${(0,H.qy)`
                <editor-icon-button
                  aria-label="Text color"
                  .tooltip=${"Text color"}
                >
                  <edgeless-text-color-icon
                    .color=${s}
                  ></edgeless-text-color-icon>
                </editor-icon-button>
              `}
            >
              <edgeless-color-panel
                .value=${s}
                @select=${this._setTextColor}
              ></edgeless-color-panel>
            </editor-menu-button>
          `),(0,H.qy)`
          <editor-menu-button
            .contentPadding=${"8px"}
            .button=${(0,H.qy)`
              <editor-icon-button
                aria-label="Font style"
                .tooltip=${"Font style"}
                .justify=${"space-between"}
                .labelHeight=${"20px"}
                .iconContainerWidth=${"90px"}
                .disabled=${c}
              >
                <span class="label ellipsis">
                  ${(0,we.S)(n,C1)}
                  ${(0,we.S)(a,C0)}
                </span>
                ${tO}
              </editor-icon-button>
            `}
          >
            <edgeless-font-weight-and-style-panel
              .fontFamily=${o}
              .fontWeight=${n}
              .fontStyle=${a}
              .onSelect=${this._setFontWeightAndStyle}
            ></edgeless-font-weight-and-style-panel>
          </editor-menu-button>
        `,"edgeless-text"===this.elementType?H.s6:(0,H.qy)`
              <editor-menu-button
                .contentPadding=${"8px"}
                .button=${(0,H.qy)`
                  <editor-icon-button
                    aria-label="Font size"
                    .tooltip=${"Font size"}
                    .justify=${"space-between"}
                    .labelHeight=${"20px"}
                    .iconContainerWidth=${"60px"}
                  >
                    <span class="label">${r}</span>
                    ${tO}
                  </editor-icon-button>
                `}
              >
                <edgeless-size-panel
                  data-type="check"
                  .size=${r}
                  .sizeList=${CJ}
                  .onSelect=${this._setFontSize}
                ></edgeless-size-panel>
              </editor-menu-button>
            `,(0,H.qy)`
          <editor-menu-button
            .button=${(0,H.qy)`
              <editor-icon-button
                aria-label="Alignment"
                .tooltip=${"Alignment"}
              >
                ${(0,we.S)(i,C2)}${tO}
              </editor-icon-button>
            `}
          >
            <edgeless-align-panel
              .value=${i}
              .onSelect=${this._setTextAlign}
            ></edgeless-align-panel>
          </editor-menu-button>
        `].filter(e=>e!==H.s6),wk)}get service(){return this.edgeless.service}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#rH;get elementType(){return this.#rH}set elementType(e){this.#rH=e}#oH;get elements(){return this.#oH}set elements(e){this.#oH=e}#rL;get textColorButton(){return this.#rL}set textColorButton(e){this.#rL=e}constructor(){super(...arguments),this._setFontFamily=e=>{let t=C3(this.elements),i=(0,y.I)(e,t)?t:C.IT.Regular,s=C7(this.elements),o=(0,y.r$)(e,s)?s:C.zz.Normal,r={fontFamily:e,fontWeight:i,fontStyle:o};this.elements.forEach(e=>{this.service.updateElement(e.id,C4(e,r)),this._updateElementBound(e)})},this._setFontSize=e=>{let t={fontSize:e};this.elements.forEach(e=>{this.service.updateElement(e.id,C4(e,t)),this._updateElementBound(e)})},this._setFontWeightAndStyle=(e,t)=>{let i={fontWeight:e,fontStyle:t};this.elements.forEach(e=>{this.service.updateElement(e.id,C4(e,i)),this._updateElementBound(e)})},this._setTextAlign=e=>{let t={textAlign:e};this.elements.forEach(e=>{this.service.updateElement(e.id,C4(e,t))})},this._setTextColor=({detail:e})=>{let t={color:e};this.elements.forEach(e=>{this.service.updateElement(e.id,C4(e,t))})},this._updateElementBound=e=>{let t=this.elementType;if("text"===t&&e instanceof B.n){let{text:t,fontFamily:i,fontStyle:s,fontSize:o,fontWeight:r,hasMaxWidth:a}=e,n=(0,y.JO)({yText:t,fontFamily:i,fontStyle:s,fontSize:o,fontWeight:r,hasMaxWidth:a},m.z.fromXYWH(e.deserializedXYWH));this.service.updateElement(e.id,{xywh:n.serialize()})}else if("connector"===t&&(0,S.yp)(e)){let{text:t,labelXYWH:i,labelStyle:{fontFamily:s,fontStyle:o,fontSize:r,fontWeight:a},labelConstraints:{hasMaxWidth:n,maxWidth:l}}=e,c=m.z.fromXYWH(i||[0,0,16,16]),d=c.center,h=(0,y.JO)({yText:t,fontFamily:s,fontStyle:o,fontSize:r,fontWeight:a,hasMaxWidth:n,maxWidth:l},c);h.center=d,this.service.updateElement(e.id,{labelXYWH:h.toXYWH()})}else if("shape"===t&&e instanceof b.B5){let t=(0,w.d)(e,m.z.fromXYWH(e.deserializedXYWH));this.service.updateElement(e.id,{xywh:t.serialize()})}},this.pickColor=e=>{if("pick"===e.type){this.elements.forEach(t=>{if(t instanceof S.lw){this.service.updateElement(t.id,{labelStyle:{...t.labelStyle,...Cy("color",{...e.detail})}}),this._updateElementBound(t);return}this.service.updateElement(t.id,Cy("color",{...e.detail})),this._updateElementBound(t)});return}let t="connector"===this.elementType?"labelStyle":"color";this.elements.forEach(i=>{i["start"===e.type?"stash":"pop"](t)})},this.#iE=CQ(this,c,void 0),this.#rH=(CQ(this,d),CQ(this,h,void 0)),this.#oH=(CQ(this,u),CQ(this,p,void 0)),this.#rL=(CQ(this,f),CQ(this,g,void 0)),CQ(this,v)}static{CQ(t,n)}})})();var C6=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},C8=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};function C9(e,t){let i=t===S.Re.Front?"frontEndpointStyle":"rearEndpointStyle",s=(0,ik.Tr)(e,e=>e[i]),o=(0,ik.Sk)(Object.entries(s),([e,t])=>t);return o?o[0]:null}let ke=[{name:"General",value:!1,icon:tP},{name:"Scribbled",value:!0,icon:tA}],kt=[[!1,()=>tP],[!0,()=>tA]],ki=[{value:"None",icon:eG},{value:"Arrow",icon:eY},{value:"Triangle",icon:eK},{value:"Circle",icon:eX},{value:"Diamond",icon:eQ}],ks=[{value:"Diamond",icon:e2},{value:"Circle",icon:e0},{value:"Triangle",icon:e1},{value:"Arrow",icon:eJ},{value:"None",icon:eG}],ko=[{name:"Curve",icon:e3,value:S.B1.Curve},{name:"Elbowed",icon:e4,value:S.B1.Orthogonal},{name:"Straight",icon:e6,value:S.B1.Straight}],kr=[[S.B1.Curve,()=>e3],[S.B1.Orthogonal,()=>e4],[S.B1.Straight,()=>e6]];(()=>{let e,t,i,s,o,r=[(0,L.EM)("edgeless-change-connector-button")],a=[],n=(0,P.Tm)(H.WF),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.P)("edgeless-color-picker-button.stroke-color")],C6(this,null,i,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:f},l,c),C6(this,null,s,{kind:"accessor",name:"elements",static:!1,private:!1,access:{has:e=>"elements"in e,get:e=>e.elements,set:(e,t)=>{e.elements=t}},metadata:f},d,h),C6(this,null,o,{kind:"accessor",name:"strokeColorButton",static:!1,private:!1,access:{has:e=>"strokeColorButton"in e,get:e=>e.strokeColorButton,set:(e,t)=>{e.strokeColorButton=t}},metadata:f},u,p),C6(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f}),C8(t,a)}_addLabel(){mH(this.elements[0],this.edgeless)}_flipEndpointStyle(e,t){e!==t&&this.elements.forEach(i=>this.service.updateElement(i.id,{frontEndpointStyle:t,rearEndpointStyle:e}))}_getEndpointIcon(e,t){return e.find(({value:e})=>e===t)?.icon||eG}_setConnectorColor(e){this._setConnectorProp("stroke",e)}_setConnectorMode(e){this._setConnectorProp("mode",e)}_setConnectorPointStyle(e,t){let i={[e===S.Re.Front?"frontEndpointStyle":"rearEndpointStyle"]:t};this.elements.forEach(e=>this.service.updateElement(e.id,{...i}))}_setConnectorProp(e,t){this.doc.captureSync(),this.elements.filter(i=>i[e]!==t).forEach(i=>this.service.updateElement(i.id,{[e]:t}))}_setConnectorRough(e){this._setConnectorProp("rough",e)}_setConnectorStroke({type:e,value:t}){if("size"===e){this._setConnectorStrokeWidth(t);return}this._setConnectorStrokeStyle(t)}_setConnectorStrokeStyle(e){this._setConnectorProp("strokeStyle",e)}_setConnectorStrokeWidth(e){this._setConnectorProp("strokeWidth",e)}_showAddButtonOrTextMenu(){return 1!==this.elements.length||this.elements[0].text?this.elements.some(e=>!e.text)?"nothing":"menu":"button"}render(){let e=this.edgeless.surface.renderer.getColorScheme(),t=this.elements,i=function(e,t){let i=(0,ik.Tr)(e,e=>"object"==typeof e.stroke?e.stroke[t]??e.stroke.normal??null:e.stroke),s=(0,ik.Sk)(Object.entries(i),([e,t])=>t);return s?s[0]:null}(t,e)??g2(),s=function(e){let t=(0,ik.Tr)(e,e=>e.mode),i=(0,ik.Sk)(Object.entries(t),([e,t])=>t);return i?Number(i[0]):null}(t),o=function(e){let t=(0,ik.Tr)(e,e=>e.strokeWidth),i=(0,ik.Sk)(Object.entries(t),([e,t])=>t);return i?Number(i[0]):q.D9.Four}(t)??q.D9.Four,r=function(e){let{trueCount:t,falseCount:i}=e.reduce((e,t)=>(t.rough?e.trueCount++:e.falseCount++,e),{trueCount:0,falseCount:0});return t>i}(t),a=function(e){let t=(0,ik.Tr)(e,e=>e.strokeStyle),i=(0,ik.Sk)(Object.entries(t),([e,t])=>t);return i?i[0]:null}(t)??C.u1.Solid,n=C9(t,S.Re.Front)??S.F7,l=C9(t,S.Re.Rear)??S.OM;return(0,v6.f)([(0,_4.z)(this.edgeless.doc.awarenessStore.getFlag("enable_color_picker"),()=>{let{type:s,colors:r}=Cb(e,i,t[0].stroke);return(0,H.qy)`
              <edgeless-color-picker-button
                class="stroke-color"
                .label=${"Stroke style"}
                .pick=${this.pickColor}
                .color=${i}
                .colors=${r}
                .colorType=${s}
                .palettes=${g1}
                .hollowCircle=${!0}
              >
                <div
                  slot="other"
                  class="line-styles"
                  style=${(0,Z.W)({display:"flex",flexDirection:"row",gap:"8px",alignItems:"center"})}
                >
                  ${CM({selectedLineSize:o,selectedLineStyle:a,onClick:e=>this._setConnectorStroke(e),lineStyles:[C.u1.Solid,C.u1.Dash]})}
                </div>
                <editor-toolbar-separator
                  slot="separator"
                  data-orientation="horizontal"
                ></editor-toolbar-separator>
              </edgeless-color-picker-button>
            `},()=>(0,H.qy)`
            <editor-menu-button
              .contentPadding=${"8px"}
              .button=${(0,H.qy)`
                <editor-icon-button
                  aria-label="Stroke style"
                  .tooltip=${"Stroke style"}
                >
                  <edgeless-color-button
                    .color=${i}
                  ></edgeless-color-button>
                </editor-icon-button>
              `}
            >
              <stroke-style-panel
                .strokeWidth=${o}
                .strokeStyle=${a}
                .strokeColor=${i}
                .setStrokeStyle=${e=>this._setConnectorStroke(e)}
                .setStrokeColor=${e=>this._setConnectorColor(e.detail)}
              >
              </stroke-style-panel>
            </editor-menu-button>
          `),(0,H.qy)`
          <editor-menu-button
            .button=${(0,H.qy)`
              <editor-icon-button aria-label="Style" .tooltip=${"Style"}>
                ${(0,we.S)(r,kt)}${tO}
              </editor-icon-button>
            `}
          >
            <div>
              ${(0,D.u)(ke,e=>e.name,({name:e,value:t,icon:i})=>(0,H.qy)`
                  <editor-icon-button
                    aria-label=${e}
                    .tooltip=${e}
                    .active=${r===t}
                    .activeMode=${"background"}
                    @click=${()=>this._setConnectorRough(t)}
                  >
                    ${i}
                  </editor-icon-button>
                `)}
            </div>
          </editor-menu-button>
        `,(0,H.qy)`
          <editor-menu-button
            .button=${(0,H.qy)`
              <editor-icon-button
                aria-label="Start point style"
                .tooltip=${"Start point style"}
              >
                ${this._getEndpointIcon(ki,n)}${tO}
              </editor-icon-button>
            `}
          >
            <div>
              ${(0,D.u)(ki,e=>e.value,({value:e,icon:t})=>(0,H.qy)`
                  <editor-icon-button
                    aria-label=${e}
                    .tooltip=${e}
                    .active=${n===e}
                    .activeMode=${"background"}
                    @click=${()=>this._setConnectorPointStyle(S.Re.Front,e)}
                  >
                    ${t}
                  </editor-icon-button>
                `)}
            </div>
          </editor-menu-button>

          <editor-icon-button
            aria-label="Flip direction"
            .tooltip=${"Flip direction"}
            .disabled=${!1}
            @click=${()=>this._flipEndpointStyle(n,l)}
          >
            ${e5}
          </editor-icon-button>

          <editor-menu-button
            .button=${(0,H.qy)`
              <editor-icon-button
                aria-label="End point style"
                .tooltip=${"End point style"}
              >
                ${this._getEndpointIcon(ks,l)}${tO}
              </editor-icon-button>
            `}
          >
            <div>
              ${(0,D.u)(ks,e=>e.value,({value:e,icon:t})=>(0,H.qy)`
                  <editor-icon-button
                    aria-label=${e}
                    .tooltip=${e}
                    .active=${l===e}
                    .activeMode=${"background"}
                    @click=${()=>this._setConnectorPointStyle(S.Re.Rear,e)}
                  >
                    ${t}
                  </editor-icon-button>
                `)}
            </div>
          </editor-menu-button>

          <editor-menu-button
            .button=${(0,H.qy)`
              <editor-icon-button
                aria-label="Shape"
                .tooltip=${"Connector shape"}
              >
                ${(0,we.S)(s,kr)}${tO}
              </editor-icon-button>
            `}
          >
            <div>
              ${(0,D.u)(ko,e=>e.name,({name:e,value:t,icon:i})=>(0,H.qy)`
                  <editor-icon-button
                    aria-label=${e}
                    .tooltip=${e}
                    .active=${s===t}
                    .activeMode=${"background"}
                    @click=${()=>this._setConnectorMode(t)}
                  >
                    ${i}
                  </editor-icon-button>
                `)}
            </div>
          </editor-menu-button>
        `,(0,we.S)(this._showAddButtonOrTextMenu(),[["button",()=>(0,H.qy)`
                <editor-icon-button
                  aria-label="Add text"
                  .tooltip=${"Add text"}
                  @click=${this._addLabel}
                >
                  ${ie}
                </editor-icon-button>
              `],["menu",()=>(0,H.qy)`
                <edgeless-change-text-menu
                  .elementType=${"connector"}
                  .elements=${this.elements}
                  .edgeless=${this.edgeless}
                ></edgeless-change-text-menu>
              `],["nothing",()=>H.s6]])].filter(e=>e!==H.s6),wk)}get doc(){return this.edgeless.doc}get service(){return this.edgeless.service}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#oH;get elements(){return this.#oH}set elements(e){this.#oH=e}#rD;get strokeColorButton(){return this.#rD}set strokeColorButton(e){this.#rD=e}constructor(){super(...arguments),this.pickColor=e=>{if("pick"===e.type){this.elements.forEach(t=>this.service.updateElement(t.id,Cy("stroke",{...e.detail})));return}this.elements.forEach(t=>t["start"===e.type?"stash":"pop"]("stroke"))},this.#iE=C8(this,l,void 0),this.#oH=(C8(this,c),C8(this,d,[])),this.#rD=(C8(this,h),C8(this,u,void 0)),C8(this,p)}})})();var ka=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},kn=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("edgeless-change-embed-card-button")],n=[],l=(0,P.Tm)(H.WF),c=[],d=[],h=[],u=[],p=[],f=[],g=[],v=[];(class extends l{static{t=this}static{let m="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],ka(this,null,i,{kind:"accessor",name:"_embedScale",static:!1,private:!1,access:{has:e=>"_embedScale"in e,get:e=>e._embedScale,set:(e,t)=>{e._embedScale=t}},metadata:m},c,d),ka(this,null,s,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:m},h,u),ka(this,null,o,{kind:"accessor",name:"model",static:!1,private:!1,access:{has:e=>"model"in e,get:e=>e.model,set:(e,t)=>{e.model=t}},metadata:m},p,f),ka(this,null,r,{kind:"accessor",name:"quickConnectButton",static:!1,private:!1,access:{has:e=>"quickConnectButton"in e,get:e=>e.quickConnectButton,set:(e,t)=>{e.quickConnectButton=t}},metadata:m},g,v),ka(null,e={value:t},a,{kind:"class",name:t.name,metadata:m},null,n),t=e.value,m&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m})}static{this.styles=(0,H.AH)`
    .affine-link-preview {
      display: flex;
      justify-content: flex-start;
      width: 140px;
      padding: var(--1, 0px);
      border-radius: var(--1, 0px);
      opacity: var(--add, 1);
      user-select: none;
      cursor: pointer;

      color: var(--affine-link-color);
      font-feature-settings:
        'clig' off,
        'liga' off;
      font-family: var(--affine-font-family);
      font-size: var(--affine-font-sm);
      font-style: normal;
      font-weight: 400;
      text-decoration: none;
      text-wrap: nowrap;
    }

    .affine-link-preview > span {
      display: inline-block;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical;

      text-overflow: ellipsis;
      overflow: hidden;
      opacity: var(--add, 1);
    }
  `}get _blockComponent(){let e=this.edgeless.service.selection.surfaceSelections.filter(e=>e.elements.includes(this.model.id));if(1!==e.length)return;let t=this.std.view.getBlock(e[0].blockId);if(t)return t}get _canConvertToEmbedView(){let e=this._blockComponent;return(!(e&&gV(e.model))||!!e.doc.awarenessStore.getFlag("enable_synced_doc_block"))&&(e&&"convertToEmbed"in e||this._embedOptions?.viewType==="embed")}get _canShowCardStylePanel(){return gL(this.model)||gj(this.model)||gV(this.model)}get _canShowFullScreenButton(){return gz(this.model)}get _canShowUrlOptions(){return"url"in this.model&&(gL(this.model)||gj(this.model)||gV(this.model))}get _doc(){return this.model.doc}get _embedViewButtonDisabled(){return!!this._doc.readonly||gV(this.model)&&(!!this._blockComponent?.closest("affine-embed-synced-doc-block")||this.model.pageId===this._doc.id)}get _getCardStyleOptions(){let{EmbedCardHorizontalIcon:e,EmbedCardListIcon:t,EmbedCardVerticalIcon:i,EmbedCardCubeIcon:s}=nF();return[{style:"horizontal",Icon:e,tooltip:"Large horizontal style"},{style:"list",Icon:t,tooltip:"Small horizontal style"},{style:"vertical",Icon:i,tooltip:"Large vertical style"},{style:"cube",Icon:s,tooltip:"Small vertical style"}]}get _isCardView(){return!!(gL(this.model)||gV(this.model))||this._embedOptions?.viewType==="card"}get _isEmbedView(){return!gL(this.model)&&(gR(this.model)||this._embedOptions?.viewType==="embed")}get _openButtonDisabled(){return gV(this.model)&&this.model.pageId===this._doc.id}_openMenuButton(){let e=[];return(gV(this.model)||gR(this.model)?e.push({name:"Open this doc",icon:aX,handler:this._open,disabled:this._openButtonDisabled}):this._canShowFullScreenButton&&e.push({name:"Open this doc",icon:aX,handler:this._open}),this._blockComponent&&lF(this._blockComponent)&&e.push({name:"Open in center peek",icon:aK,handler:()=>this._peek()}),0===e.length)?H.s6:(0,H.qy)`
      <editor-menu-button
        .contentPadding=${"8px"}
        .button=${(0,H.qy)`
          <editor-icon-button
            aria-label="Open"
            .justify=${"space-between"}
            .labelHeight=${"20px"}
          >
            ${aY}${tO}
          </editor-icon-button>
        `}
      >
        <div data-size="small" data-orientation="vertical">
          ${(0,D.u)(e,e=>e.name,({name:e,icon:t,handler:i,disabled:s})=>(0,H.qy)`
              <editor-menu-action
                aria-label=${e}
                ?disabled=${s}
                @click=${i}
              >
                ${t}<span class="label">${e}</span>
              </editor-menu-action>
            `)}
        </div>
      </editor-menu-button>
    `}get _rootService(){return this.std.spec.getService("affine:page")}_setCardStyle(e){let t=m.z.deserialize(this.model.xywh);t.w=fA.Cd[e],t.h=fA.Hn[e];let i=t.serialize();this.model.doc.updateBlock(this.model,{style:e,xywh:i})}_setEmbedScale(e){if(gz(this.model))return;let t=m.z.deserialize(this.model.xywh);if("scale"in this.model){let i=e/(this.model.scale??1);t.w*=i,t.h*=i;let s=t.serialize();this.model.doc.updateBlock(this.model,{scale:e,xywh:s})}else{t.h=fA.Hn[this.model.style]*e,t.w=fA.Cd[this.model.style]*e;let i=t.serialize();this.model.doc.updateBlock(this.model,{xywh:i})}this._embedScale=e}_showCaption(){this._blockComponent?.captionEditor?.show()}_viewMenuButton(){if(this._canConvertToEmbedView||this._isEmbedView){let e=[{type:"card",name:"Card view",handler:()=>this._convertToCardView(),disabled:this.model.doc.readonly},{type:"embed",name:"Embed view",handler:()=>this._convertToEmbedView(),disabled:this.model.doc.readonly&&this._embedViewButtonDisabled}];return(0,H.qy)`
        <editor-menu-button
          .contentPadding=${"8px"}
          .button=${(0,H.qy)`
            <editor-icon-button
              aria-label="Switch view"
              .justify=${"space-between"}
              .labelHeight=${"20px"}
              .iconContainerWidth=${"110px"}
            >
              <div class="label">
                <span style="text-transform: capitalize"
                  >${this._viewType}</span
                >
                view
              </div>
              ${tO}
            </editor-icon-button>
          `}
        >
          <div data-size="small" data-orientation="vertical">
            ${(0,D.u)(e,e=>e.type,({type:e,name:t,handler:i,disabled:s})=>(0,H.qy)`
                <editor-menu-action
                  aria-label=${t}
                  data-testid=${`link-to-${e}`}
                  ?data-selected=${this._viewType===e}
                  ?disabled=${s}
                  @click=${i}
                >
                  ${t}
                </editor-menu-action>
              `)}
          </div>
        </editor-menu-button>
      `}return H.s6}get _viewType(){return this._isCardView?"card":this._isEmbedView?"embed":"inline"}get std(){return this.edgeless.std}connectedCallback(){super.connectedCallback(),this._embedScale=this._getScale()}render(){let e=this.model;"url"in this.model&&(this._embedOptions=this._rootService.getEmbedBlockOptions(this.model.url));let t=[this._canShowUrlOptions&&"url"in e?(0,H.qy)`
            <a
              class="affine-link-preview"
              href=${e.url}
              rel="noopener noreferrer"
              target="_blank"
            >
              <span>${nN(e.url)}</span>
            </a>

            <editor-icon-button
              aria-label="Click to copy link"
              .tooltip=${"Click to copy link"}
              class="change-embed-card-button copy"
              ?disabled=${this._doc.readonly}
              @click=${this._copyUrl}
            >
              ${aL}
            </editor-icon-button>

            <editor-icon-button
              aria-label="Edit"
              .tooltip=${"Edit"}
              class="change-embed-card-button edit"
              ?disabled=${this._doc.readonly}
              @click=${()=>yu(this.std.host,e)}
            >
              ${aQ}
            </editor-icon-button>
          `:H.s6,this._openMenuButton(),this._viewMenuButton(),"style"in e&&this._canShowCardStylePanel?(0,H.qy)`
            <editor-menu-button
              .contentPadding=${"8px"}
              .button=${(0,H.qy)`
                <editor-icon-button
                  aria-label="Card style"
                  .tooltip=${"Card style"}
                >
                  ${nb}
                </editor-icon-button>
              `}
            >
              <card-style-panel
                .value=${e.style}
                .options=${this._getCardStyleOptions}
                .onSelect=${e=>this._setCardStyle(e)}
              >
              </card-style-panel>
            </editor-menu-button>
          `:H.s6,"caption"in e?(0,H.qy)`
            <editor-icon-button
              aria-label="Add caption"
              .tooltip=${"Add caption"}
              class="change-embed-card-button caption"
              ?disabled=${this._doc.readonly}
              @click=${this._showCaption}
            >
              ${a1}
            </editor-icon-button>
          `:H.s6,this.quickConnectButton,gz(e)?H.s6:(0,H.qy)`
            <editor-menu-button
              .contentPadding=${"8px"}
              .button=${(0,H.qy)`
                <editor-icon-button
                  aria-label="Scale"
                  .tooltip=${"Scale"}
                  .justify=${"space-between"}
                  .iconContainerWidth=${"65px"}
                  .labelHeight=${"20px"}
                >
                  <span class="label">
                    ${Math.round(100*this._embedScale)+"%"}
                  </span>
                  ${tO}
                </editor-icon-button>
              `}
            >
              <edgeless-scale-panel
                class="embed-scale-popper"
                .scale=${Math.round(100*this._embedScale)}
                .onSelect=${e=>this._setEmbedScale(e)}
              ></edgeless-scale-panel>
            </editor-menu-button>
          `];return(0,v6.f)(t.filter(e=>e!==H.s6),wk)}#rZ;get _embedScale(){return this.#rZ}set _embedScale(e){this.#rZ=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#i7;get model(){return this.#i7}set model(e){this.#i7=e}#rj;get quickConnectButton(){return this.#rj}set quickConnectButton(e){this.#rj=e}constructor(){super(...arguments),this._convertToCardView=()=>{if(this._isCardView)return;let e=this._blockComponent;if(e&&"convertToCard"in e){e.convertToCard();return}if(!("url"in this.model))return;let{id:t,url:i,xywh:s,style:o,caption:r}=this.model,a="affine:bookmark",n=o;if(this._embedOptions&&"card"===this._embedOptions.viewType){let{flavour:e,styles:t}=this._embedOptions;a=e,n=t.includes(o)?o:t[0]}else n=wI.HO.includes(o)?o:wI.HO[0];let l=m.z.deserialize(s);l.w=fA.Cd[n],l.h=fA.Hn[n];let c=this.edgeless.service.addBlock(a,{url:i,xywh:l.serialize(),style:n,caption:r},this.edgeless.surface.model);this.std.command.exec("reassociateConnectors",{oldId:t,newId:c}),this.edgeless.service.selection.set({editing:!1,elements:[c]}),this._doc.deleteBlock(this.model)},this._convertToEmbedView=()=>{if(this._isEmbedView)return;let e=this._blockComponent;if(e&&"convertToEmbed"in e){e.convertToEmbed();return}if(!("url"in this.model)||!this._embedOptions)return;let{flavour:t,styles:i}=this._embedOptions,{id:s,url:o,xywh:r,style:a}=this.model,n=i.includes(a)?a:i[0],l=m.z.deserialize(r);l.w=fA.Cd[n],l.h=fA.Hn[n];let c=this.edgeless.service.addBlock(t,{url:o,xywh:l.serialize(),style:n},this.edgeless.surface.model);this.std.command.exec("reassociateConnectors",{oldId:s,newId:c}),this.edgeless.service.selection.set({editing:!1,elements:[c]}),this._doc.deleteBlock(this.model)},this._copyUrl=()=>{"url"in this.model&&(navigator.clipboard.writeText(this.model.url).catch(console.error),l8(this.std.host,"Copied link to clipboard"),this.edgeless.service.selection.clear())},this._embedOptions=null,this._getScale=()=>"scale"in this.model?this.model.scale??1:gz(this.model)?1:m.z.deserialize(this.model.xywh).h/fA.Hn[this.model.style],this._open=()=>{this._blockComponent?.open()},this._peek=()=>{this._blockComponent&&lN(this._blockComponent)},this.#rZ=kn(this,c,1),this.#iE=(kn(this,d),kn(this,h,void 0)),this.#i7=(kn(this,u),kn(this,p,void 0)),this.#rj=(kn(this,f),kn(this,g,void 0)),kn(this,v)}static{kn(t,n)}})})();var kl=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},kc=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let kd=["--affine-tag-gray","--affine-tag-red","--affine-tag-orange","--affine-tag-yellow","--affine-tag-green","--affine-tag-teal","--affine-tag-blue","--affine-tag-purple","--affine-tag-pink"];(()=>{let e,t,i,s,o,r=[(0,L.EM)("edgeless-change-frame-button")],a=[],n=(0,P.Tm)(H.WF),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.P)("edgeless-color-picker-button.background")],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],kl(this,null,i,{kind:"accessor",name:"backgroundButton",static:!1,private:!1,access:{has:e=>"backgroundButton"in e,get:e=>e.backgroundButton,set:(e,t)=>{e.backgroundButton=t}},metadata:f},l,c),kl(this,null,s,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:f},d,h),kl(this,null,o,{kind:"accessor",name:"frames",static:!1,private:!1,access:{has:e=>"frames"in e,get:e=>e.frames,set:(e,t)=>{e.frames=t}},metadata:f},u,p),kl(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f}),kc(t,a)}_insertIntoPage(){if(!this.edgeless.doc.root)return;let e=this.edgeless.doc.root,t=e.children.filter(e=>(0,iS.o)(e,["affine:note"])&&e.displayMode!==q.ko.EdgelessOnly),i=t[t.length-1],s=this.frames[0],o=i?.id;if(!i){let t=(0,f.W)(s.xywh);t[1]=t[1]+t[3],t[3]=72,o=this.edgeless.doc.addBlock("affine:note",{xywh:(0,f.P)(...t)},e.id)}this.edgeless.doc.addBlock("affine:surface-ref",{reference:this.frames[0].id,refFlavour:"affine:frame"},o),l8(this.edgeless.host,"Frame has been inserted into doc")}_setFrameBackground(e){this.frames.forEach(t=>{this.service.updateElement(t.id,{background:e})})}render(){let{frames:e}=this,t=1===e.length,i=this.edgeless.surface.renderer.getColorScheme(),s=function(e,t){let i=(0,ik.Tr)(e,e=>"object"==typeof e.background?e.background[t]??e.background.normal??null:e.background),s=(0,ik.Sk)(Object.entries(i),([e,t])=>t);return s?s[0]:null}(e,i)??"--affine-palette-transparent";return(0,v6.f)([t?(0,H.qy)`
              <editor-icon-button
                aria-label=${"Insert into Page"}
                .tooltip=${"Insert into Page"}
                .iconSize=${"20px"}
                .labelHeight=${"20px"}
                @click=${this._insertIntoPage}
              >
                ${te}
                <span class="label">Insert into Page</span>
              </editor-icon-button>
            `:H.s6,t?(0,H.qy)`
              <editor-icon-button
                aria-label="Rename"
                .tooltip=${"Rename"}
                .iconSize=${"20px"}
                @click=${()=>mO(this.frames[0],this.edgeless)}
              >
                ${eu}
              </editor-icon-button>
            `:H.s6,(0,_4.z)(this.edgeless.doc.awarenessStore.getFlag("enable_color_picker"),()=>{let{type:e,colors:t}=Cb(i,s,this.frames[0].background);return(0,H.qy)`
              <edgeless-color-picker-button
                class="background"
                .label=${"Background"}
                .pick=${this.pickColor}
                .color=${s}
                .colors=${t}
                .colorType=${e}
                .palettes=${kd}
              >
              </edgeless-color-picker-button>
            `},()=>(0,H.qy)`
            <editor-menu-button
              .contentPadding=${"8px"}
              .button=${(0,H.qy)`
                <editor-icon-button
                  aria-label="Background"
                  .tooltip=${"Background"}
                >
                  <edgeless-color-button
                    .color=${s}
                  ></edgeless-color-button>
                </editor-icon-button>
              `}
            >
              <edgeless-color-panel
                .value=${s}
                .options=${kd}
                @select=${e=>this._setFrameBackground(e.detail)}
              >
              </edgeless-color-panel>
            </editor-menu-button>
          `)].filter(e=>e!==H.s6),wk)}get service(){return this.edgeless.service}#rV;get backgroundButton(){return this.#rV}set backgroundButton(e){this.#rV=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#rR;get frames(){return this.#rR}set frames(e){this.#rR=e}constructor(){super(...arguments),this.pickColor=e=>{if("pick"===e.type){this.frames.forEach(t=>this.service.updateElement(t.id,Cy("background",{...e.detail})));return}this.frames.forEach(t=>t["start"===e.type?"stash":"pop"]("background"))},this.#rV=kc(this,l,void 0),this.#iE=(kc(this,c),kc(this,d,void 0)),this.#rR=(kc(this,h),kc(this,u,[])),kc(this,p)}})})();var kh=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ku=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o=[(0,L.EM)("edgeless-change-group-button")],r=[],a=(0,P.Tm)(H.WF),n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],kh(this,null,i,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:h},n,l),kh(this,null,s,{kind:"accessor",name:"groups",static:!1,private:!1,access:{has:e=>"groups"in e,get:e=>e.groups,set:(e,t)=>{e.groups=t}},metadata:h},c,d),kh(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),ku(t,r)}_insertIntoPage(){if(!this.edgeless.doc.root)return;let e=this.edgeless.doc.root,t=e.children.filter(e=>(0,iS.o)(e,["affine:note"])&&e.displayMode!==q.ko.EdgelessOnly),i=t[t.length-1],s=this.groups[0],o=i?.id;if(!i){let t=(0,f.W)(s.xywh);t[1]=t[1]+t[3],t[3]=72,o=this.edgeless.doc.addBlock("affine:note",{xywh:(0,f.P)(...t)},e.id)}this.edgeless.doc.addBlock("affine:surface-ref",{reference:this.groups[0].id,refFlavour:"group"},o),l8(this.edgeless.host,"Group has been inserted into page")}render(){let{groups:e}=this,t=1===e.length;return(0,v6.f)([t?(0,H.qy)`
              <editor-icon-button
                aria-label="Insert into Page"
                .tooltip=${"Insert into Page"}
                .iconSize=${"20px"}
                .labelHeight=${"20px"}
                @click=${this._insertIntoPage}
              >
                ${te}
                <span class="label">Insert into Page</span>
              </editor-icon-button>
            `:H.s6,t?(0,H.qy)`
              <editor-icon-button
                aria-label="Rename"
                .tooltip=${"Rename"}
                .iconSize=${"20px"}
                @click=${()=>mP(e[0],this.edgeless)}
              >
                ${eu}
              </editor-icon-button>
            `:H.s6,(0,H.qy)`
          <editor-icon-button
            aria-label="Ungroup"
            .tooltip=${"Ungroup"}
            .iconSize=${"20px"}
            @click=${()=>e.forEach(e=>this.edgeless.service.ungroup(e))}
          >
            ${eg}
          </editor-icon-button>
        `].filter(e=>e!==H.s6),wk)}#iE=ku(this,n,void 0);get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#eB=(ku(this,l),ku(this,c,void 0));get groups(){return this.#eB}set groups(e){this.#eB=e}constructor(){super(...arguments),ku(this,d)}})})();let kp=(0,H.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <style xmlns="http://www.w3.org/2000/svg">
    .spinner {
      transform-origin: center;
      animation: spinner_animate 0.75s infinite linear;
    }
    @keyframes spinner_animate {
      100% {
        transform: rotate(360deg);
      }
    }
  </style>
  <path
    d="M14.6666 7.99992C14.6666 11.6818 11.6818 14.6666 7.99992 14.6666C4.31802 14.6666 1.33325 11.6818 1.33325 7.99992C1.33325 4.31802 4.31802 1.33325 7.99992 1.33325C11.6818 1.33325 14.6666 4.31802 14.6666 7.99992ZM3.30003 7.99992C3.30003 10.5956 5.40424 12.6998 7.99992 12.6998C10.5956 12.6998 12.6998 10.5956 12.6998 7.99992C12.6998 5.40424 10.5956 3.30003 7.99992 3.30003C5.40424 3.30003 3.30003 5.40424 3.30003 7.99992Z"
    fill-opacity="0.1"
  />
  <path
    d="M13.6833 7.99992C14.2263 7.99992 14.674 7.55732 14.5942 7.02014C14.5142 6.48171 14.3684 5.95388 14.1591 5.4487C13.8241 4.63986 13.333 3.90493 12.714 3.28587C12.0949 2.66682 11.36 2.17575 10.5511 1.84072C10.046 1.63147 9.51812 1.48564 8.9797 1.40564C8.44251 1.32583 7.99992 1.77351 7.99992 2.31659C7.99992 2.85967 8.44486 3.28962 8.9761 3.40241C9.25681 3.46201 9.53214 3.54734 9.79853 3.65768C10.3688 3.89388 10.8869 4.24008 11.3233 4.67652C11.7598 5.11295 12.106 5.63108 12.3422 6.20131C12.4525 6.4677 12.5378 6.74303 12.5974 7.02374C12.7102 7.55498 13.1402 7.99992 13.6833 7.99992Z"
    fill="#1E96EB"
    class="spinner"
  />
</svg>`,kf=(0,H.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4 2.16667C2.98748 2.16667 2.16667 2.98748 2.16667 4V10.6667V12C2.16667 13.0125 2.98748 13.8333 4 13.8333H12C13.0125 13.8333 13.8333 13.0125 13.8333 12V9.33333V4C13.8333 2.98748 13.0125 2.16667 12 2.16667H4ZM3.16667 12V10.8738L6.07741 7.96303C6.40285 7.63759 6.93048 7.63759 7.25592 7.96303L8.97978 9.68689L10.3131 11.0202C10.5084 11.2155 10.825 11.2155 11.0202 11.0202C11.2155 10.825 11.2155 10.5084 11.0202 10.3131L10.0404 9.33333L10.7441 8.6297C11.0695 8.30426 11.5972 8.30426 11.9226 8.6297L12.8333 9.54044V12C12.8333 12.4602 12.4602 12.8333 12 12.8333H4C3.53976 12.8333 3.16667 12.4602 3.16667 12ZM7.96303 7.25592L9.33333 8.62623L10.037 7.92259C10.7529 7.20663 11.9137 7.20663 12.6297 7.92259L12.8333 8.12623V4C12.8333 3.53976 12.4602 3.16667 12 3.16667H4C3.53976 3.16667 3.16667 3.53976 3.16667 4V9.45956L5.3703 7.25592C6.08626 6.53996 7.24707 6.53996 7.96303 7.25592ZM9.33333 6C9.70152 6 10 5.70152 10 5.33333C10 4.96514 9.70152 4.66667 9.33333 4.66667C8.96514 4.66667 8.66667 4.96514 8.66667 5.33333C8.66667 5.70152 8.96514 6 9.33333 6Z"
    fill="#77757D"
  />
</svg> `,kg=(0,H.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M2.1665 4.00008C2.1665 2.98756 2.98732 2.16675 3.99984 2.16675H11.9998C13.0124 2.16675 13.8332 2.98756 13.8332 4.00008V7.33341C13.8332 7.60956 13.6093 7.83341 13.3332 7.83341C13.057 7.83341 12.8332 7.60956 12.8332 7.33341V4.00008C12.8332 3.53984 12.4601 3.16675 11.9998 3.16675H3.99984C3.5396 3.16675 3.1665 3.53984 3.1665 4.00008V9.45964L5.37014 7.256C6.0861 6.54004 7.2469 6.54004 7.96287 7.256L8.35339 7.64653C8.54865 7.84179 8.54865 8.15837 8.35339 8.35363C8.15813 8.5489 7.84155 8.5489 7.64628 8.35363L7.25576 7.96311C6.93032 7.63767 6.40268 7.63767 6.07725 7.96311L3.1665 10.8739V12.0001C3.1665 12.4603 3.5396 12.8334 3.99984 12.8334H7.33317C7.60931 12.8334 7.83317 13.0573 7.83317 13.3334C7.83317 13.6096 7.60931 13.8334 7.33317 13.8334H3.99984C2.98732 13.8334 2.1665 13.0126 2.1665 12.0001V4.00008Z"
    fill="#77757D"
    fill-opacity="0.6"
  />
  <path
    d="M9.99984 5.33341C9.99984 5.7016 9.70136 6.00008 9.33317 6.00008C8.96498 6.00008 8.6665 5.7016 8.6665 5.33341C8.6665 4.96522 8.96498 4.66675 9.33317 4.66675C9.70136 4.66675 9.99984 4.96522 9.99984 5.33341Z"
    fill="#77757D"
    fill-opacity="0.6"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M8.97962 8.97986C9.17488 8.7846 9.49146 8.7846 9.68672 8.97986L11.3332 10.6263L12.9796 8.97986C13.1749 8.7846 13.4915 8.7846 13.6867 8.97986C13.882 9.17512 13.882 9.49171 13.6867 9.68697L12.0403 11.3334L13.6867 12.9799C13.882 13.1751 13.882 13.4917 13.6867 13.687C13.4915 13.8822 13.1749 13.8822 12.9796 13.687L11.3332 12.0405L9.68672 13.687C9.49146 13.8822 9.17488 13.8822 8.97962 13.687C8.78435 13.4917 8.78435 13.1751 8.97962 12.9799L10.6261 11.3334L8.97962 9.68697C8.78435 9.49171 8.78435 9.17512 8.97962 8.97986Z"
    fill="#77757D"
    fill-opacity="0.6"
  />
</svg> `;var km=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},kv=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};function ky(e,t,i){let s=(0,H.AH)`
    .tooltip-with-shortcut {
      display: flex;
      flex-wrap: nowrap;
      align-items: center;
      gap: 10px;
    }
    .tooltip__shortcut {
      font-size: 12px;
      position: relative;

      display: flex;
      align-items: center;
      justify-content: center;
      height: 16px;
      min-width: 16px;
    }
    .tooltip__shortcut::before {
      content: '';
      border-radius: 4px;
      position: absolute;
      inset: 0;
      background: currentColor;
      opacity: 0.2;
    }
    .tooltip__label {
      white-space: pre;
    }
  `;return(0,H.qy)`<style>
      ${s}
    </style>
    <div class="tooltip-with-shortcut">
      <span class="tooltip__label">${e}</span>
      <span class="tooltip__shortcut">${t}</span>
      ${i?(0,H.qy)`<span class="tooltip__postfix">${i}</span>`:""}
    </div>`}function kb(e){return new Promise(t=>{let i={width:0,height:0},s=new Image;s.onload=()=>{i.width=s.width,i.height=s.height,URL.revokeObjectURL(s.src),t(i)},s.onerror=()=>{URL.revokeObjectURL(s.src),t(i)},s.src=URL.createObjectURL(e)})}(()=>{let e,t,i=[(0,L.EM)("affine-image-block-card")],s=[],o=(0,P.Tm)(P.ao),r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;km(this,null,[(0,L.MZ)({attribute:!1})],{kind:"accessor",name:"block",static:!1,private:!1,access:{has:e=>"block"in e,get:e=>e.block,set:(e,t)=>{e.block=t}},metadata:n},r,a),km(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    .affine-image-block-card-container {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .affine-image-block-card {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      background-color: var(--affine-background-secondary-color, #f4f4f5);
      border-radius: 8px;
      border: 1px solid var(--affine-background-tertiary-color, #eee);
      padding: 12px;
    }

    .affine-image-block-card-content {
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--affine-placeholder-color);
      text-align: justify;
      font-family: var(--affine-font-family);
      font-size: var(--affine-font-sm);
      font-style: normal;
      font-weight: 600;
      line-height: var(--affine-line-height);
      user-select: none;
    }

    .affine-image-card-size {
      overflow: hidden;
      padding-top: 12px;
      color: var(--affine-text-secondary-color);
      text-overflow: ellipsis;
      font-size: 10px;
      font-style: normal;
      font-weight: 400;
      line-height: 20px;
      user-select: none;
    }
  `}render(){let{isInSurface:e,loading:t,error:i,model:s}=this.block,o=e?s.rotate:0,r=(0,Z.W)({transform:`rotate(${o}deg)`,transformOrigin:"center",width:e?"220px":"752px",height:e?"122px":"78px"}),a=s.size&&s.size>0?(0,iy.bn)(s.size,!0,0):null;return(0,H.qy)`
      <div class="affine-image-block-card-container">
        <div class="affine-image-block-card drag-target" style=${r}>
          <div class="affine-image-block-card-content">
            ${t?kp:i?kg:kf}
            <span class="affine-image-block-card-title-text">${t?"Loading image...":i?"Image loading failed.":"Image"}</span>
          </div>
          <div class="affine-image-card-size">${a}</div>
        </div>
      </div>
    `}#e$=kv(this,r,void 0);get block(){return this.#e$}set block(e){this.#e$=e}constructor(){super(...arguments),kv(this,a)}static{kv(t,s)}})})();let kw=["ew","nwse","ns","nesw"];function kx(e,t=!1,i=220,s=122){return t?new m.z(e[0],e[1],i,s):m.z.fromCenter(e,i,s)}let k_=new Set;async function kC(e,t,i){let s;if(k_.has(t)){console.error("The image is already uploading!");return}k_.add(t);let o=e.doc;try{s=await o.blobSync.set(i)}catch(t){console.error(t),t instanceof Error&&l8(e,`Failed to upload image! ${t.message||t.toString()}`)}finally{k_.delete(t);let e=o.getBlockById(t);o.withoutTransact(()=>{e&&o.updateBlock(e,{sourceId:s})})}}async function kk(e){let t=e.sourceId;if(!t)return null;let s=e.doc,o=await s.blobSync.get(t);if(!o)return null;if(!o.type){let e=await o.arrayBuffer(),t=await Promise.resolve().then(i.bind(i,81208)),s=await t.fileTypeFromBuffer(e);return s?.mime.startsWith("image/")?new Blob([e],{type:s.mime}):null}return o.type.startsWith("image/")?o:null}async function kS(e){try{if(e.model.sourceId===e.lastSourceId&&e.blobUrl){if(e.blobUrl)return}else e.loading=!0,e.error=!1,e.blob=void 0,e.blobUrl&&(URL.revokeObjectURL(e.blobUrl),e.blobUrl=void 0);let{model:t}=e,{id:i,sourceId:s,doc:o}=t;if(k_.has(i)||!s)return;let r=await o.blobSync.get(s);if(!r)return;e.loading=!1,e.blob=r,e.blobUrl=URL.createObjectURL(r),e.lastSourceId=s}catch(t){e.retryCount++,console.warn(`${t}, retrying`,e.retryCount),e.retryCount<3?setTimeout(()=>{kS(e).catch(console.error)},1e3*e.retryCount):(e.loading=!1,e.error=!0)}}async function kM(e){let{host:t,downloading:i}=e;if(i){l8(t,"Download in progress...");return}e.downloading=!0;let s=await kk(e.model);if(!s){l8(t,"Unable to download image!");return}l8(t,"Downloading image..."),(0,_q.WN)(s,"image"),e.downloading=!1}async function kE(e){let{blob:t,model:i}=e;if(!t)return;let s=new File([t],"image.png",{type:t.type}),o=await kb(s);e.doc.updateBlock(i,{width:o.width,height:o.height})}async function kI(e){let{host:t,model:i}=e,s=await kk(i);if(!s){console.error("Failed to get image blob");return}try{var o,r;if(window.apis?.clipboard?.copyAsImageFromString){let e=await (o=s,new Promise(e=>{let t=new FileReader;t.addEventListener("load",i=>e(t.result)),t.addEventListener("error",()=>e(null)),t.readAsDataURL(o)}));if(!e)throw new u.Ss(p.O.DefaultRuntimeError,"Cant convert a blob to data URL.");await window.apis.clipboard?.copyAsImageFromString(e)}else{if("image/png"!==s.type){let e=await (r=s,new Promise(e=>{let t=new FileReader;t.addEventListener("load",i=>{let s=new Image;s.onload=()=>{let t=document.createElement("canvas");t.width=s.width,t.height=s.height;let i=t.getContext("2d");i&&(i.drawImage(s,0,0),t.toBlob(e,"image/png"))},s.onerror=()=>e(null),s.src=t.result}),t.addEventListener("error",()=>e(null)),t.readAsDataURL(r)}));if(!e){console.error("Failed to convert blob to PNG");return}s=e}if(!globalThis.isSecureContext){console.error("Clipboard API is not available in insecure context",s.type,s);return}await navigator.clipboard.write([new ClipboardItem({[s.type]:s})])}l8(t,"Copied image to clipboard")}catch(e){console.error(e)}}function kB(e,t,i,s,o="after"){let r=t.filter(e=>e.type.startsWith("image/"));if(!r.length)return;if(r.some(e=>e.size>i)){l8(e,`You can only upload files less than ${(0,iy.bn)(i,!0,0)}`);return}let a=r.map(e=>({flavour:"affine:image",size:e.size})),n=e.doc.addSiblingBlocks(s,a,o);return n.map((t,i)=>void kC(e,t,r[i])),n}async function k$(e){if(!e.doc.schema.flavourSchemaMap.has("affine:attachment")){console.error("The attachment flavour is not supported!");return}let t=e.model,i=t.sourceId,s=await kk(t);if(!i||!s){console.error("Image data not available");return}let{saveImageData:o,getAttachmentData:r}=(0,_q.YF)();o(i,{width:t.width,height:t.height});let a=r(i),n={sourceId:i,name:"affine-attachment",size:s.size,type:s.type,caption:t.caption,...a};_U(t,"affine:attachment",n)}var kT=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},kO=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o=[(0,L.EM)("edgeless-change-image-button")],r=[],a=(0,P.Tm)(H.WF),n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],kT(this,null,i,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:h},n,l),kT(this,null,s,{kind:"accessor",name:"model",static:!1,private:!1,access:{has:e=>"model"in e,get:e=>e.model,set:(e,t)=>{e.model=t}},metadata:h},c,d),kT(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),kO(t,r)}get _blockComponent(){let e=this.edgeless.service.selection.surfaceSelections.filter(e=>e.elements.includes(this.model.id));if(1===e.length)return this.edgeless.std.view.getBlock(e[0].blockId)}get _doc(){return this.model.doc}render(){return(0,H.qy)`
      <editor-icon-button
        aria-label="Download"
        .tooltip=${"Download"}
        ?disabled=${this._doc.readonly}
        @click=${this._download}
      >
        ${a0}
      </editor-icon-button>

      <editor-toolbar-separator></editor-toolbar-separator>

      <editor-icon-button
        aria-label="Add caption"
        .tooltip=${"Add caption"}
        class="change-image-button caption"
        ?disabled=${this._doc.readonly}
        @click=${this._showCaption}
      >
        ${a1}
      </editor-icon-button>
    `}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#i7;get model(){return this.#i7}set model(e){this.#i7=e}constructor(){super(...arguments),this._download=()=>{this._blockComponent&&kM(this._blockComponent).catch(console.error)},this._showCaption=()=>{this._blockComponent?.captionEditor?.show()},this.#iE=kO(this,n,void 0),this.#i7=(kO(this,l),kO(this,c,void 0)),kO(this,d)}})})();var kP=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},kA=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let kH=[{value:io.cy.ONE,icon:t7},{value:io.cy.FOUR,icon:t6},{value:io.cy.THREE,icon:t4},{value:io.cy.TWO,icon:t3}],kL=[{name:"Left",value:gS.p5.LEFT,icon:t2},{name:"Radial",value:gS.p5.BALANCE,icon:t0},{name:"Right",value:gS.p5.RIGHT,icon:t5}];function kD(e,t){if(!t?.length)return H.s6;let i=[];return(t.forEach(t=>{"mindmap"===t.type&&i.push(t);let s=e.service.surface.getGroup(t.id);s?.type==="mindmap"&&i.push(s)}),0===i.length)?H.s6:(0,H.qy)`
    <edgeless-change-mindmap-button
      .elements=${i}
      .nodes=${t.filter(e=>"shape"===e.type)}
      .edgeless=${e}
    >
    </edgeless-change-mindmap-button>
  `}(()=>{let e,t,i,s,o=[(0,L.EM)("edgeless-change-mindmap-style-panel")],r=[],a=H.WF,n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],kP(this,null,i,{kind:"accessor",name:"mindmapStyle",static:!1,private:!1,access:{has:e=>"mindmapStyle"in e,get:e=>e.mindmapStyle,set:(e,t)=>{e.mindmapStyle=t}},metadata:h},n,l),kP(this,null,s,{kind:"accessor",name:"onSelect",static:!1,private:!1,access:{has:e=>"onSelect"in e,get:e=>e.onSelect,set:(e,t)=>{e.onSelect=t}},metadata:h},c,d),kP(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: row;
      gap: 8px;
      background: var(--affine-background-overlay-panel-color);
    }

    .style-item {
      border-radius: 4px;
    }

    .style-item > svg {
      vertical-align: middle;
    }

    .style-item.active,
    .style-item:hover {
      cursor: pointer;
      background-color: var(--affine-hover-color);
    }
  `}render(){return(0,D.u)(kH,e=>e.value,({value:e,icon:t})=>(0,H.qy)`
        <div
          role="button"
          class="style-item ${e===this.mindmapStyle?"active":""}"
          @click=${()=>this.onSelect(e)}
        >
          ${t}
        </div>
      `)}#N=kA(this,n,void 0);get mindmapStyle(){return this.#N}set mindmapStyle(e){this.#N=e}#oC=(kA(this,l),kA(this,c,void 0));get onSelect(){return this.#oC}set onSelect(e){this.#oC=e}constructor(){super(...arguments),kA(this,d)}static{kA(t,r)}})})(),(()=>{let e,t,i,s,o=[(0,L.EM)("edgeless-change-mindmap-layout-panel")],r=[],a=H.WF,n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],kP(this,null,i,{kind:"accessor",name:"mindmapLayout",static:!1,private:!1,access:{has:e=>"mindmapLayout"in e,get:e=>e.mindmapLayout,set:(e,t)=>{e.mindmapLayout=t}},metadata:h},n,l),kP(this,null,s,{kind:"accessor",name:"onSelect",static:!1,private:!1,access:{has:e=>"onSelect"in e,get:e=>e.onSelect,set:(e,t)=>{e.onSelect=t}},metadata:h},c,d),kP(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: row;
      gap: 8px;
    }
  `}render(){return(0,D.u)(kL,e=>e.value,({name:e,value:t,icon:i})=>(0,H.qy)`
        <editor-icon-button
          aria-label=${e}
          .tooltip=${e}
          .tipPosition=${"top"}
          .active=${this.mindmapLayout===t}
          .activeMode=${"background"}
          @click=${()=>this.onSelect(t)}
        >
          ${i}
        </editor-icon-button>
      `)}#rz=kA(this,n,void 0);get mindmapLayout(){return this.#rz}set mindmapLayout(e){this.#rz=e}#oC=(kA(this,l),kA(this,c,void 0));get onSelect(){return this.#oC}set onSelect(e){this.#oC=e}constructor(){super(...arguments),kA(this,d)}static{kA(t,r)}})})(),(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("edgeless-change-mindmap-button")],n=[],l=(0,P.Tm)(H.WF),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.wk)()],r=[(0,L.MZ)({attribute:!1})],kP(this,null,i,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:v},c,d),kP(this,null,s,{kind:"accessor",name:"elements",static:!1,private:!1,access:{has:e=>"elements"in e,get:e=>e.elements,set:(e,t)=>{e.elements=t}},metadata:v},h,u),kP(this,null,o,{kind:"accessor",name:"layoutType",static:!1,private:!1,access:{has:e=>"layoutType"in e,get:e=>e.layoutType,set:(e,t)=>{e.layoutType=t}},metadata:v},p,f),kP(this,null,r,{kind:"accessor",name:"nodes",static:!1,private:!1,access:{has:e=>"nodes"in e,get:e=>e.nodes,set:(e,t)=>{e.nodes=t}},metadata:v},g,m),kP(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v}),kA(t,n)}_getCommonLayoutType(){let e=(0,ik.Tr)(this.elements,e=>e.layoutType),t=(0,ik.Sk)(Object.entries(e),([e,t])=>t);return t?Number(t[0]):gS.p5.BALANCE}_getCommonStyle(){let e=(0,ik.Tr)(this.elements,e=>e.style),t=(0,ik.Sk)(Object.entries(e),([e,t])=>t);return t?Number(t[0]):io.cy.ONE}_isSubnode(){return 1===this.nodes.length&&this.nodes[0].group.tree.element!==this.nodes[0]}get _mindmaps(){let e=new Set;return this.elements.reduce((t,i)=>(e.add(i),e),e)}render(){return(0,v6.f)([(0,H.qy)`
          <editor-menu-button
            .contentPadding=${"8px"}
            .button=${(0,H.qy)`
              <editor-icon-button aria-label="Style" .tooltip=${"Style"}>
                ${t1}${tO}
              </editor-icon-button>
            `}
          >
            <edgeless-change-mindmap-style-panel
              .mindmapStyle=${this._getCommonStyle()}
              .onSelect=${this._updateStyle}
            >
            </edgeless-change-mindmap-style-panel>
          </editor-menu-button>
        `,this._isSubnode()?H.s6:(0,H.qy)`
              <editor-menu-button
                .button=${(0,H.qy)`
                  <editor-icon-button aria-label="Layout" .tooltip=${"Layout"}>
                    ${this.layout.icon}${tO}
                  </editor-icon-button>
                `}
              >
                <edgeless-change-mindmap-layout-panel
                  .mindmapLayout=${this.layout.value}
                  .onSelect=${this._updateLayoutType}
                >
                </edgeless-change-mindmap-layout-panel>
              </editor-menu-button>
            `].filter(e=>e!==H.s6),wk)}get layout(){let e=this.layoutType??this._getCommonLayoutType();return kL.find(t=>t.value===e)}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#oH;get elements(){return this.#oH}set elements(e){this.#oH=e}#rF;get layoutType(){return this.#rF}set layoutType(e){this.#rF=e}#rN;get nodes(){return this.#rN}set nodes(e){this.#rN=e}constructor(){super(...arguments),this._updateLayoutType=e=>{this.elements.forEach(t=>{t.layoutType=e,t.layout()}),this.layoutType=e},this._updateStyle=e=>{this._mindmaps.forEach(t=>t.style=e)},this.#iE=kA(this,c,void 0),this.#oH=(kA(this,d),kA(this,h,void 0)),this.#rF=(kA(this,u),kA(this,p,void 0)),this.#rN=(kA(this,f),kA(this,g,void 0)),kA(this,m)}})})();var kZ=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},kj=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,L.EM)("note-display-mode-panel")],a=[],n=(0,P.Tm)(H.WF),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],kZ(this,null,i,{kind:"accessor",name:"displayMode",static:!1,private:!1,access:{has:e=>"displayMode"in e,get:e=>e.displayMode,set:(e,t)=>{e.displayMode=t}},metadata:f},l,c),kZ(this,null,s,{kind:"accessor",name:"onSelect",static:!1,private:!1,access:{has:e=>"onSelect"in e,get:e=>e.onSelect,set:(e,t)=>{e.onSelect=t}},metadata:f},d,h),kZ(this,null,o,{kind:"accessor",name:"panelWidth",static:!1,private:!1,access:{has:e=>"panelWidth"in e,get:e=>e.panelWidth,set:(e,t)=>{e.panelWidth=t}},metadata:f},u,p),kZ(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      min-width: 180px;
      width: var(--panel-width);
      gap: 4px;
    }
    .item {
      display: flex;
      align-items: center;
      width: 100%;
      height: 30px;
      padding: 4px 12px;
      border-radius: 4px;
      gap: 4px;
      box-sizing: border-box;
      cursor: pointer;
    }
    .item-label {
      flex: 1 1 0;
    }
    .item-icon {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 4px;
      color: var(--affine-icon-color);
    }
    .item:hover,
    .item.selected {
      background-color: var(--affine-hover-color);
    }
  `}_DisplayModeIcon(e){switch(e){case q.ko.DocAndEdgeless:return(0,H.qy)`${tQ} ${tX}`;case q.ko.DocOnly:return(0,H.qy)`${tQ}`;case q.ko.EdgelessOnly:return(0,H.qy)`${tX}`}}_DisplayModeLabel(e){switch(e){case q.ko.DocAndEdgeless:return"In Both";case q.ko.DocOnly:return"In Page Only";case q.ko.EdgelessOnly:return"In Edgeless Only"}}render(){return this.style.setProperty("--panel-width",`${this.panelWidth}px`),(0,D.u)(Object.keys(q.ko),e=>e,e=>{let t=q.ko[e],i=t===this.displayMode;return(0,H.qy)`<div
          class="item ${i?"selected":""} ${t}"
          @click=${()=>this.onSelect(t)}
          @dblclick=${lt.dG}
          @pointerdown=${lt.dG}
        >
          <div class="item-label">${this._DisplayModeLabel(t)}</div>
          <div class="item-icon">${this._DisplayModeIcon(t)}</div>
        </div>`})}#rq=kj(this,l,void 0);get displayMode(){return this.#rq}set displayMode(e){this.#rq=e}#oC=(kj(this,c),kj(this,d,void 0));get onSelect(){return this.#oC}set onSelect(e){this.#oC=e}#rU=(kj(this,h),kj(this,u,240));get panelWidth(){return this.#rU}set panelWidth(e){this.#rU=e}constructor(){super(...arguments),kj(this,p)}static{kj(t,a)}})})();var kV=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},kR=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let kz=["","0px 0.2px 4.8px 0px rgba(66, 65, 73, 0.2), 0px 0px 1.6px 0px rgba(66, 65, 73, 0.2)","0px 9.6px 10.4px -4px rgba(66, 65, 73, 0.07), 0px 10.4px 7.2px -8px rgba(66, 65, 73, 0.22)","0px 0px 0px 4px rgba(255, 255, 255, 1), 0px 1.2px 2.4px 4.8px rgba(66, 65, 73, 0.16)","0px 5.2px 12px 0px rgba(66, 65, 73, 0.13), 0px 0px 0.4px 1px rgba(0, 0, 0, 0.06)","0px 0px 0px 1.4px rgba(0, 0, 0, 1), 2.4px 2.4px 0px 1px rgba(0, 0, 0, 1)"],kF=["","0px 0.2px 6px 0px rgba(0, 0, 0, 0.44), 0px 0px 2px 0px rgba(0, 0, 0, 0.66)","0px 9.6px 10.4px -4px rgba(0, 0, 0, 0.66), 0px 10.4px 7.2px -8px rgba(0, 0, 0, 0.44)","0px 1.2px 2.4px 4.8px rgba(0, 0, 0, 0.36), 0px 0px 0px 3.4px rgba(75, 75, 75, 1)","0px 5.2px 12px 0px rgba(0, 0, 0, 0.66), 0px 0px 0.4px 1px rgba(0, 0, 0, 0.44)","0px 0px 0px 1.4px rgba(178, 178, 178, 1), 2.4px 2.4px 0px 1px rgba(178, 178, 178, 1)"],kN=["No shadow","Box shadow","Sticker shadow","Paper shadow","Floation shadow","Film shadow"];(()=>{let e,t,i,s,o,r=[(0,L.EM)("edgeless-note-shadow-panel")],a=[],n=(0,P.Tm)(H.WF),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],kV(this,null,i,{kind:"accessor",name:"background",static:!1,private:!1,access:{has:e=>"background"in e,get:e=>e.background,set:(e,t)=>{e.background=t}},metadata:f},l,c),kV(this,null,s,{kind:"accessor",name:"onSelect",static:!1,private:!1,access:{has:e=>"onSelect"in e,get:e=>e.onSelect,set:(e,t)=>{e.onSelect=t}},metadata:f},d,h),kV(this,null,o,{kind:"accessor",name:"value",static:!1,private:!1,access:{has:e=>"value"in e,get:e=>e.value,set:(e,t)=>{e.value=t}},metadata:f},u,p),kV(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
    }

    .item {
      padding: 8px;
      border-radius: 4px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
    }

    .item-icon {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .item:hover {
      background-color: var(--affine-hover-color);
    }
  `}render(){let e="dark"===im.Q.mode?kF:kz;return(0,D.u)(fv.LS,e=>e,(t,i)=>(0,H.qy)`<style>
            .item-icon svg rect:first-of-type {
              fill: ${this.background.startsWith("--")?`var(${this.background})`:this.background};
            }
          </style>
          <div
            class="item"
            @click=${()=>this.onSelect(t)}
            style=${(0,Z.W)({border:this.value===t?"1px solid var(--affine-brand-color)":"none"})}
          >
            <edgeless-tool-icon-button
              class="item-icon"
              .tooltip=${kN[i]}
              .tipPosition=${"bottom"}
              .iconContainerPadding=${0}
              style=${(0,Z.W)({boxShadow:`${e[i]}`})}
            >
              ${0===i?ts:to}
            </edgeless-tool-icon-button>
          </div>`)}#rW=kR(this,l,void 0);get background(){return this.#rW}set background(e){this.#rW=e}#oC=(kR(this,c),kR(this,d,void 0));get onSelect(){return this.#oC}set onSelect(e){this.#oC=e}#ey=(kR(this,h),kR(this,u,void 0));get value(){return this.#ey}set value(e){this.#ey=e}constructor(){super(...arguments),kR(this,p)}static{kR(t,a)}})})();var kq=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},kU=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let kW=[50,100,200];(()=>{let e,t,i,s,o,r,a,n,l=[(0,L.EM)("edgeless-scale-panel")],c=[],d=H.WF,h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[];(class extends d{static{t=this}static{let C="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],kq(this,null,i,{kind:"accessor",name:"maxScale",static:!1,private:!1,access:{has:e=>"maxScale"in e,get:e=>e.maxScale,set:(e,t)=>{e.maxScale=t}},metadata:C},h,u),kq(this,null,s,{kind:"accessor",name:"minScale",static:!1,private:!1,access:{has:e=>"minScale"in e,get:e=>e.minScale,set:(e,t)=>{e.minScale=t}},metadata:C},p,f),kq(this,null,o,{kind:"accessor",name:"onPopperCose",static:!1,private:!1,access:{has:e=>"onPopperCose"in e,get:e=>e.onPopperCose,set:(e,t)=>{e.onPopperCose=t}},metadata:C},g,m),kq(this,null,r,{kind:"accessor",name:"onSelect",static:!1,private:!1,access:{has:e=>"onSelect"in e,get:e=>e.onSelect,set:(e,t)=>{e.onSelect=t}},metadata:C},v,y),kq(this,null,a,{kind:"accessor",name:"scale",static:!1,private:!1,access:{has:e=>"scale"in e,get:e=>e.scale,set:(e,t)=>{e.scale=t}},metadata:C},b,w),kq(this,null,n,{kind:"accessor",name:"scaleList",static:!1,private:!1,access:{has:e=>"scaleList"in e,get:e=>e.scaleList,set:(e,t)=>{e.scaleList=t}},metadata:C},x,_),kq(null,e={value:t},l,{kind:"class",name:t.name,metadata:C},null,c),t=e.value,C&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 4px;
      width: 68px;
    }

    edgeless-tool-icon-button {
      align-self: stretch;
    }

    .scale-input {
      display: flx;
      align-self: stretch;
      border: 0.5px solid var(--affine-border-color);
      border-radius: 8px;
      padding: 4px 8px;
      box-sizing: border-box;
    }

    .scale-input::placeholder {
      color: var(--affine-placeholder-color);
    }

    .scale-input:focus {
      outline-color: var(--affine-primary-color);
      outline-width: 0.5px;
    }
  `}_onPopperClose(){this.onPopperCose?.()}_onSelect(e){this.onSelect?.(e/100)}render(){var e;return(0,H.qy)`
      ${(0,D.u)(this.scaleList,e=>e,e=>(0,H.qy)`<edgeless-tool-icon-button
            .iconContainerPadding=${[4,8]}
            .activeMode=${"background"}
            .active=${this.scale===e}
            @click=${()=>this._onSelect(e)}
          >
            ${`${e}%`}
          </edgeless-tool-icon-button>`)}

      <input
        class="scale-input"
        type="text"
        inputmode="numeric"
        pattern="[0-9]*"
        min="0"
        placeholder=${e=Math.trunc(this.scale),`${e}%`}
        @keydown=${this._onKeydown}
        @input=${lt.dG}
        @click=${lt.dG}
        @pointerdown=${lt.dG}
      />
    `}#rG;get maxScale(){return this.#rG}set maxScale(e){this.#rG=e}#rY;get minScale(){return this.#rY}set minScale(e){this.#rY=e}#rP;get onPopperCose(){return this.#rP}set onPopperCose(e){this.#rP=e}#oC;get onSelect(){return this.#oC}set onSelect(e){this.#oC=e}#rK;get scale(){return this.#rK}set scale(e){this.#rK=e}#rX;get scaleList(){return this.#rX}set scaleList(e){this.#rX=e}constructor(){super(...arguments),this._onKeydown=e=>{if(e.stopPropagation(),"Enter"===e.key&&!e.isComposing){e.preventDefault();let t=e.target,i=parseInt(t.value.trim());if(isNaN(i)){t.value="";return}this._onSelect((0,iy.qE)(i,this.minScale,this.maxScale)),t.value="",this._onPopperClose()}},this.#rG=kU(this,h,400),this.#rY=(kU(this,u),kU(this,p,0)),this.#rP=(kU(this,f),kU(this,g,void 0)),this.#oC=(kU(this,m),kU(this,v,void 0)),this.#rK=(kU(this,y),kU(this,b,void 0)),this.#rX=(kU(this,w),kU(this,x,kW)),kU(this,_)}static{kU(t,c)}})})();var kG=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},kY=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let kK=[{name:"None",value:0},{name:"Small",value:8},{name:"Medium",value:16},{name:"Large",value:24},{name:"Huge",value:32}],kX={[q.ko.DocAndEdgeless]:"Both",[q.ko.EdgelessOnly]:"Edgeless",[q.ko.DocOnly]:"Page"};(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("edgeless-change-note-button")],l=[],c=(0,P.Tm)(H.WF),d=[],h=[],u=[],p=[],f=[],g=[],v=[],y=[],b=[],w=[];(class extends c{static{t=this}static{let m="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.P)("edgeless-color-picker-button.background")],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],kG(this,null,i,{kind:"accessor",name:"backgroundButton",static:!1,private:!1,access:{has:e=>"backgroundButton"in e,get:e=>e.backgroundButton,set:(e,t)=>{e.backgroundButton=t}},metadata:m},d,h),kG(this,null,s,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:m},u,p),kG(this,null,o,{kind:"accessor",name:"enableNoteSlicer",static:!1,private:!1,access:{has:e=>"enableNoteSlicer"in e,get:e=>e.enableNoteSlicer,set:(e,t)=>{e.enableNoteSlicer=t}},metadata:m},f,g),kG(this,null,r,{kind:"accessor",name:"notes",static:!1,private:!1,access:{has:e=>"notes"in e,get:e=>e.notes,set:(e,t)=>{e.notes=t}},metadata:m},v,y),kG(this,null,a,{kind:"accessor",name:"quickConnectButton",static:!1,private:!1,access:{has:e=>"quickConnectButton"in e,get:e=>e.quickConnectButton,set:(e,t)=>{e.quickConnectButton=t}},metadata:m},b,w),kG(null,e={value:t},n,{kind:"class",name:t.name,metadata:m},null,l),t=e.value,m&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m}),kY(t,l)}_getScaleLabel(e){return Math.round(100*e)+"%"}_handleNoteSlicerButtonClick(){this.edgeless.service&&this.edgeless.slots.toggleNoteSlicer.emit()}_setBackground(e){this.notes.forEach(t=>{this.doc.updateBlock(t,{background:e})}),this.edgeless.service.editPropsStore.recordLastProps("affine:note",{background:e})}_setCollapse(){this.notes.forEach(e=>{let{collapse:t,collapsedHeight:i}=e.edgeless;if(t)this.doc.updateBlock(e,()=>{e.edgeless.collapse=!1});else if(i){let{xywh:t,edgeless:s}=e,o=m.z.deserialize(t);o.h=i*(s.scale??1),this.doc.updateBlock(e,()=>{e.edgeless.collapse=!0,e.xywh=o.serialize()})}}),this.requestUpdate()}_setDisplayMode(e,t){let{displayMode:i}=e;if(t===i)return;this.doc.updateBlock(e,{displayMode:t});let s=this.doc.getParent(e);(0,V.Z1)(s);let o=s.children.filter(e=>(0,iS.o)(e,["affine:note"])),r=o[o.length-1];i===q.ko.EdgelessOnly&&t!==q.ko.EdgelessOnly&&e!==r&&this.doc.moveBlocks([e],s,r,!1),t===q.ko.DocOnly&&this.edgeless.service.selection.clear()}_setShadowType(e){this.notes.forEach(t=>{this.doc.updateBlock(t,()=>{t.edgeless.style.shadowType=e})})}_setStrokeStyle(e){this.notes.forEach(t=>{this.doc.updateBlock(t,()=>{t.edgeless.style.borderStyle=e})})}_setStrokeWidth(e){this.notes.forEach(t=>{this.doc.updateBlock(t,()=>{t.edgeless.style.borderSize=e})})}_setStyles({type:e,value:t}){if("size"===e){this._setStrokeWidth(t);return}"lineStyle"===e&&this._setStrokeStyle(t)}get doc(){return this.edgeless.doc}render(){let e=this.notes.length,t=this.notes[0],{edgeless:i,displayMode:s}=t,{shadowType:o,borderRadius:r,borderSize:a,borderStyle:n}=i.style,l=this.edgeless.surface.renderer.getColorScheme(),c=function(e,t){let i=(0,ik.Tr)(e,e=>"object"==typeof e.background?e.background[t]??e.background.normal??null:e.background),s=(0,ik.Sk)(Object.entries(i),([e,t])=>t);return s?s[0]:null}(this.notes,l)??fv.KI,{collapse:d}=i,h=i.scale??1,u=kX[s],p=1===e,f=s===q.ko.DocOnly,g=[p?(0,H.qy)`
            <span class="display-mode-button-label">Show in</span>
            <editor-menu-button
              .contentPadding=${"8px"}
              .button=${(0,H.qy)`
                <editor-icon-button
                  aria-label="Mode"
                  .tooltip=${"Display mode"}
                  .justify=${"space-between"}
                  .labelHeight=${"20px"}
                >
                  <span class="label">${u}</span>
                  ${tO}
                </editor-icon-button>
              `}
            >
              <note-display-mode-panel
                .displayMode=${s}
                .onSelect=${e=>this._setDisplayMode(t,e)}
              >
              </note-display-mode-panel>
            </editor-menu-button>
          `:H.s6,f?H.s6:(0,_4.z)(this.edgeless.doc.awarenessStore.getFlag("enable_color_picker"),()=>{let{type:e,colors:i}=Cb(l,c,t.background);return(0,H.qy)`
                <edgeless-color-picker-button
                  class="background"
                  .label=${"Background"}
                  .pick=${this.pickColor}
                  .color=${c}
                  .colorType=${e}
                  .colors=${i}
                  .palettes=${fv.Zb}
                >
                </edgeless-color-picker-button>
              `},()=>(0,H.qy)`
              <editor-menu-button
                .contentPadding=${"8px"}
                .button=${(0,H.qy)`
                  <editor-icon-button
                    aria-label="Background"
                    .tooltip=${"Background"}
                  >
                    <edgeless-color-button
                      .color=${c}
                    ></edgeless-color-button>
                  </editor-icon-button>
                `}
              >
                <edgeless-color-panel
                  .value=${c}
                  .options=${fv.Zb}
                  @select=${e=>this._setBackground(e.detail)}
                >
                </edgeless-color-panel>
              </editor-menu-button>
            `),f?H.s6:(0,H.qy)`
            <editor-menu-button
              .contentPadding=${"6px"}
              .button=${(0,H.qy)`
                <editor-icon-button
                  aria-label="Shadow style"
                  .tooltip=${"Shadow style"}
                >
                  ${ti}${tO}
                </editor-icon-button>
              `}
            >
              <edgeless-note-shadow-panel
                .value=${o}
                .background=${c}
                .onSelect=${e=>this._setShadowType(e)}
              >
              </edgeless-note-shadow-panel>
            </editor-menu-button>

            <editor-menu-button
              .button=${(0,H.qy)`
                <editor-icon-button
                  aria-label="Border style"
                  .tooltip=${"Border style"}
                >
                  ${eW}${tO}
                </editor-icon-button>
              `}
            >
              <div data-orientation="horizontal">
                ${CM({selectedLineSize:a,selectedLineStyle:n,onClick:e=>this._setStyles(e)})}
              </div>
            </editor-menu-button>

            <editor-menu-button
              ${(0,lB.K)(this._cornersPanelRef)}
              .contentPadding=${"8px"}
              .button=${(0,H.qy)`
                <editor-icon-button aria-label="Corners" .tooltip=${"Corners"}>
                  ${tt}${tO}
                </editor-icon-button>
              `}
            >
              <edgeless-size-panel
                .size=${r}
                .sizeList=${kK}
                .minSize=${0}
                .onSelect=${e=>this._setBorderRadius(e)}
                .onPopperCose=${()=>this._cornersPanelRef.value?.hide()}
              >
              </edgeless-size-panel>
            </editor-menu-button>
          `,p?(0,H.qy)`
            <editor-icon-button
              aria-label="Slicer"
              .tooltip=${ky("Cutting mode","-")}
              .active=${this.enableNoteSlicer}
              @click=${()=>this._handleNoteSlicerButtonClick()}
            >
              ${tp}
            </editor-icon-button>
          `:H.s6,p?this.quickConnectButton:H.s6,(0,H.qy)`
        <editor-icon-button
          aria-label="Size"
          .tooltip=${d?"Auto height":"Customized height"}
          @click=${()=>this._setCollapse()}
        >
          ${d?ex:eC}
        </editor-icon-button>

        <editor-menu-button
          ${(0,lB.K)(this._scalePanelRef)}
          .contentPadding=${"8px"}
          .button=${(0,H.qy)`
            <editor-icon-button
              aria-label="Scale"
              .tooltip=${"Scale"}
              .justify=${"space-between"}
              .labelHeight=${"20px"}
              .iconContainerWidth=${"65px"}
            >
              <span class="label">${this._getScaleLabel(h)}</span
              >${tO}
            </editor-icon-button>
          `}
        >
          <edgeless-scale-panel
            .scale=${Math.round(100*h)}
            .onSelect=${e=>this._setNoteScale(e)}
            .onPopperCose=${()=>this._scalePanelRef.value?.hide()}
          ></edgeless-scale-panel>
        </editor-menu-button>
      `];return(0,v6.f)(g.filter(e=>e!==H.s6),wk)}#rQ;get _cornersPanelRef(){return this.#rQ}set _cornersPanelRef(e){this.#rQ=e}#rJ;get _scalePanelRef(){return this.#rJ}set _scalePanelRef(e){this.#rJ=e}#rV;get backgroundButton(){return this.#rV}set backgroundButton(e){this.#rV=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#r1;get enableNoteSlicer(){return this.#r1}set enableNoteSlicer(e){this.#r1=e}#r0;get notes(){return this.#r0}set notes(e){this.#r0=e}#rj;get quickConnectButton(){return this.#rj}set quickConnectButton(e){this.#rj=e}constructor(){super(...arguments),this._setBorderRadius=e=>{this.notes.forEach(t=>{this.doc.updateBlock(t,()=>{t.edgeless.style.borderRadius=e})})},this._setNoteScale=e=>{this.notes.forEach(t=>{this.doc.updateBlock(t,()=>{let i=m.z.deserialize(t.xywh),s=e/(t.edgeless.scale??1);i.w*=s,i.h*=s;let o=i.serialize();t.xywh=o,t.edgeless.scale=e})})},this.pickColor=e=>{if("pick"===e.type){this.notes.forEach(t=>this.doc.updateBlock(t,Cy("background",{...e.detail}))),this.edgeless.service.editPropsStore.recordLastProps("affine:note",Cy("background",e.detail));return}this.notes.forEach(t=>t["start"===e.type?"stash":"pop"]("background"))},this.#rQ=(0,lB._)(),this.#rJ=(0,lB._)(),this.#rV=kY(this,d,void 0),this.#iE=(kY(this,h),kY(this,u,void 0)),this.#r1=(kY(this,p),kY(this,f,void 0)),this.#r0=(kY(this,g),kY(this,v,[])),this.#rj=(kY(this,y),kY(this,b,void 0)),kY(this,w)}})})();let{Rect:kQ,Ellipse:kJ,Triangle:k1,Diamond:k0}=O.IO,k2=[{name:kQ,generalIcon:eT,scribbledIcon:eL,tooltip:"Square",disabled:!1,value:{shapeType:kQ,radius:0}},{name:kJ,generalIcon:eO,scribbledIcon:eD,tooltip:"Ellipse",disabled:!1,value:{shapeType:kJ}},{name:k0,generalIcon:eP,scribbledIcon:eZ,tooltip:"Diamond",disabled:!1,value:{shapeType:k0}},{name:k1,generalIcon:eA,scribbledIcon:ej,tooltip:"Triangle",disabled:!1,value:{shapeType:k1}},{name:"roundedRect",generalIcon:eH,scribbledIcon:eV,tooltip:"Rounded rectangle",disabled:!1,value:{shapeType:kQ,radius:.1}}];k2.reduce((e,t)=>(e[t.name]=t,e),{});var k5=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},k7=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o=[(0,L.EM)("edgeless-shape-panel")],r=[],a=H.WF,n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],k5(this,null,i,{kind:"accessor",name:"selectedShape",static:!1,private:!1,access:{has:e=>"selectedShape"in e,get:e=>e.selectedShape,set:(e,t)=>{e.selectedShape=t}},metadata:h},n,l),k5(this,null,s,{kind:"accessor",name:"shapeStyle",static:!1,private:!1,access:{has:e=>"shapeStyle"in e,get:e=>e.shapeStyle,set:(e,t)=>{e.shapeStyle=t}},metadata:h},c,d),k5(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
  `}_onSelect(e){this.selectedShape=e,this.slots.select.emit(e)}disconnectedCallback(){this.slots.select.dispose(),super.disconnectedCallback()}render(){return(0,D.u)(k2,e=>e.name,({name:e,generalIcon:t,scribbledIcon:i,tooltip:s,disabled:o})=>(0,H.qy)`<edgeless-tool-icon-button
          .disabled=${o}
          .tooltip=${s}
          .active=${this.selectedShape===e}
          .activeMode=${"background"}
          @click=${()=>{o||this._onSelect(e)}}
        >
          ${this.shapeStyle===C.lH.General?t:i}
        </edgeless-tool-icon-button>`)}#r2;get selectedShape(){return this.#r2}set selectedShape(e){this.#r2=e}#r5;get shapeStyle(){return this.#r5}set shapeStyle(e){this.#r5=e}constructor(){super(...arguments),this.slots={select:new i_.D},this.#r2=k7(this,n,void 0),this.#r5=(k7(this,l),k7(this,c,C.lH.Scribbled)),k7(this,d)}static{k7(t,r)}})})();var k3=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},k4=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let k6=[{value:C.lH.General,icon:tP},{value:C.lH.Scribbled,icon:tA}];(()=>{let e,t,i,s,o=[(0,L.EM)("edgeless-shape-style-panel")],r=[],a=H.WF,n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],k3(this,null,i,{kind:"accessor",name:"onSelect",static:!1,private:!1,access:{has:e=>"onSelect"in e,get:e=>e.onSelect,set:(e,t)=>{e.onSelect=t}},metadata:h},n,l),k3(this,null,s,{kind:"accessor",name:"value",static:!1,private:!1,access:{has:e=>"value"in e,get:e=>e.value,set:(e,t)=>{e.value=t}},metadata:h},c,d),k3(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
  `}_onSelect(e){this.value=e,this.onSelect&&this.onSelect(e)}render(){return(0,D.u)(k6,e=>e.value,({value:e,icon:t})=>(0,H.qy)`<edgeless-tool-icon-button
          .tipPosition=${"top"}
          .activeMode=${"background"}
          aria-label=${e}
          .tooltip=${e}
          .active=${this.value===e}
          @click=${()=>this._onSelect(e)}
        >
          ${t}
        </edgeless-tool-icon-button>`)}#oC=k4(this,n,void 0);get onSelect(){return this.#oC}set onSelect(e){this.#oC=e}#ey=(k4(this,l),k4(this,c,void 0));get value(){return this.#ey}set value(e){this.#ey=e}constructor(){super(...arguments),k4(this,d)}static{k4(t,r)}})})();var k8=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},k9=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let Se=[(0,H.AH)`
    .edgeless-component-line-size-button {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 16px;
      height: 16px;
    }

    .edgeless-component-line-size-button div {
      border-radius: 50%;
      background-color: var(--affine-icon-color);
    }

    .edgeless-component-line-size-button.size-s div {
      width: 4px;
      height: 4px;
    }
    .edgeless-component-line-size-button.size-l div {
      width: 10px;
      height: 10px;
    }
  `];(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("edgeless-change-shape-button")],l=[],c=(0,P.Tm)(H.WF),d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[];(class extends c{static{t=this}static{let w="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.P)("edgeless-shape-panel")],s=[(0,L.P)("edgeless-color-picker-button.border-style")],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.P)("edgeless-color-picker-button.fill-color")],k8(this,null,i,{kind:"accessor",name:"_shapePanel",static:!1,private:!1,access:{has:e=>"_shapePanel"in e,get:e=>e._shapePanel,set:(e,t)=>{e._shapePanel=t}},metadata:w},d,h),k8(this,null,s,{kind:"accessor",name:"borderStyleButton",static:!1,private:!1,access:{has:e=>"borderStyleButton"in e,get:e=>e.borderStyleButton,set:(e,t)=>{e.borderStyleButton=t}},metadata:w},u,p),k8(this,null,o,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:w},f,g),k8(this,null,r,{kind:"accessor",name:"elements",static:!1,private:!1,access:{has:e=>"elements"in e,get:e=>e.elements,set:(e,t)=>{e.elements=t}},metadata:w},m,v),k8(this,null,a,{kind:"accessor",name:"fillColorButton",static:!1,private:!1,access:{has:e=>"fillColorButton"in e,get:e=>e.fillColorButton,set:(e,t)=>{e.fillColorButton=t}},metadata:w},y,b),k8(null,e={value:t},n,{kind:"class",name:t.name,metadata:w},null,l),t=e.value,w&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w})}static{this.styles=[Se]}#r7(e){return t=>{if("pick"===t.type){this.elements.forEach(i=>{let s=Cy(e,{...t.detail});"fillColor"!==e||i.filled||Object.assign(s,{filled:!0}),this.service.updateElement(i.id,s)});return}this.elements.forEach(i=>i["start"===t.type?"stash":"pop"](e))}}_addText(){mT(this.elements[0],this.edgeless)}_getTextColor(e){return g4(e)?g2():e===mB?mE:mI}_setShapeFillColor(e){let t=!g4(e),i=this._getTextColor(e);this.elements.forEach(s=>this.service.updateElement(s.id,{filled:t,fillColor:e,color:i}))}_setShapeStrokeColor(e){this.elements.forEach(t=>this.service.updateElement(t.id,{strokeColor:e}))}_setShapeStrokeStyle(e){this.elements.forEach(t=>this.service.updateElement(t.id,{strokeStyle:e}))}_setShapeStrokeWidth(e){this.elements.forEach(t=>this.service.updateElement(t.id,{strokeWidth:e}))}_setShapeStyle(e){let t=e===C.lH.General?C.ay.Inter:C.ay.Kalam;this.elements.forEach(i=>{this.service.updateElement(i.id,{shapeStyle:e,fontFamily:t})})}_setShapeStyles({type:e,value:t}){if("size"===e){this._setShapeStrokeWidth(t);return}"lineStyle"===e&&this._setShapeStrokeStyle(t)}_showAddButtonOrTextMenu(){return 1!==this.elements.length||this.elements[0].text?this.elements.some(e=>!e.text)?"nothing":"menu":"button"}firstUpdated(){this._disposables.add(this._shapePanel.slots.select.on(e=>{let t="roundedRect"===e?{shapeType:O.IO.Rect,radius:.1}:{shapeType:e,radius:0};this.edgeless.doc.captureSync(),this.elements.forEach(e=>{this.service.updateElement(e.id,t)})}))}render(){let e=this.edgeless.surface.renderer.getColorScheme(),t=this.elements,i=function(e){let t=(0,ik.Tr)(e,e=>"rect"===e.shapeType&&e.radius?"roundedRect":e.shapeType),i=(0,ik.Sk)(Object.entries(t),([e,t])=>t);return i?i[0]:null}(t),s=function(e,t){let i=(0,ik.Tr)(e,e=>e.filled?"object"==typeof e.fillColor?e.fillColor[t]??e.fillColor.normal??null:e.fillColor:"--affine-palette-transparent"),s=(0,ik.Sk)(Object.entries(i),([e,t])=>t);return s?s[0]:null}(t,e)??O.SO,o=function(e,t){let i=(0,ik.Tr)(e,e=>"object"==typeof e.strokeColor?e.strokeColor[t]??e.strokeColor.normal??null:e.strokeColor),s=(0,ik.Sk)(Object.entries(i),([e,t])=>t);return s?s[0]:null}(t,e)??O.vt,r=function(e){let t=(0,ik.Tr)(e,e=>e.strokeWidth),i=(0,ik.Sk)(Object.entries(t),([e,t])=>t);return i?Number(i[0]):q.D9.Four}(t)??q.D9.Four,a=function(e){let t=(0,ik.Tr)(e,e=>e.strokeStyle),i=(0,ik.Sk)(Object.entries(t),([e,t])=>t);return i?i[0]:null}(t)??C.u1.Solid,n=function(e){let t=(0,ik.Tr)(e,e=>e.shapeStyle),i=(0,ik.Sk)(Object.entries(t),([e,t])=>t);return i?i[0]:C.lH.Scribbled}(t)??C.lH.Scribbled;return(0,v6.f)([(0,H.qy)`
          <editor-menu-button
            .button=${(0,H.qy)`
              <editor-icon-button
                aria-label="Switch type"
                .tooltip=${"Switch type"}
              >
                ${tH}${tO}
              </editor-icon-button>
            `}
          >
            <edgeless-shape-panel
              .selectedShape=${i}
              .shapeStyle=${n}
            >
            </edgeless-shape-panel>
          </editor-menu-button>
        `,(0,H.qy)`
          <editor-menu-button
            .button=${(0,H.qy)`
              <editor-icon-button aria-label="Style" .tooltip=${"Style"}>
                ${(0,wm.P)(n===C.lH.General?tP:tA)}
                ${tO}
              </editor-icon-button>
            `}
          >
            <edgeless-shape-style-panel
              .value=${n}
              .onSelect=${e=>this._setShapeStyle(e)}
            >
            </edgeless-shape-style-panel>
          </editor-menu-button>
        `,(0,_4.z)(this.edgeless.doc.awarenessStore.getFlag("enable_color_picker"),()=>{let{type:i,colors:o}=Cb(e,s,t[0].fillColor);return(0,H.qy)`
              <edgeless-color-picker-button
                class="fill-color"
                .label=${"Fill color"}
                .pick=${this.#r7("fillColor")}
                .color=${s}
                .colors=${o}
                .colorType=${i}
                .palettes=${O.d}
              >
              </edgeless-color-picker-button>
            `},()=>(0,H.qy)`
            <editor-menu-button
              .contentPadding=${"8px"}
              .button=${(0,H.qy)`
                <editor-icon-button
                  aria-label="Fill color"
                  .tooltip=${"Fill color"}
                >
                  <edgeless-color-button
                    .color=${s}
                  ></edgeless-color-button>
                </editor-icon-button>
              `}
            >
              <edgeless-color-panel
                role="listbox"
                aria-label="Fill colors"
                .value=${s}
                .options=${O.d}
                @select=${e=>this._setShapeFillColor(e.detail)}
              >
              </edgeless-color-panel>
            </editor-menu-button>
          `),(0,_4.z)(this.edgeless.doc.awarenessStore.getFlag("enable_color_picker"),()=>{let{type:i,colors:s}=Cb(e,o,t[0].strokeColor);return(0,H.qy)`
              <edgeless-color-picker-button
                class="border-style"
                .label=${"Border style"}
                .pick=${this.#r7("strokeColor")}
                .color=${o}
                .colors=${s}
                .colorType=${i}
                .palettes=${O.S5}
                .hollowCircle=${!0}
              >
                <div
                  slot="other"
                  class="line-styles"
                  style=${(0,Z.W)({display:"flex",flexDirection:"row",gap:"8px",alignItems:"center"})}
                >
                  ${CM({selectedLineSize:r,selectedLineStyle:a,onClick:e=>this._setShapeStyles(e),lineStyles:[C.u1.Solid,C.u1.Dash]})}
                </div>
                <editor-toolbar-separator
                  slot="separator"
                  data-orientation="horizontal"
                ></editor-toolbar-separator>
              </edgeless-color-picker-button>
            `},()=>(0,H.qy)`
            <editor-menu-button
              .contentPadding=${"8px"}
              .button=${(0,H.qy)`
                <editor-icon-button
                  aria-label="Border style"
                  .tooltip=${"Border style"}
                >
                  <edgeless-color-button
                    .color=${o}
                    .hollowCircle=${!0}
                  ></edgeless-color-button>
                </editor-icon-button>
              `}
            >
              <stroke-style-panel
                .hollowCircle=${!0}
                .strokeWidth=${r}
                .strokeStyle=${a}
                .strokeColor=${o}
                .setStrokeStyle=${e=>this._setShapeStyles(e)}
                .setStrokeColor=${e=>this._setShapeStrokeColor(e.detail)}
              >
              </stroke-style-panel>
            </editor-menu-button>
          `),(0,we.S)(this._showAddButtonOrTextMenu(),[["button",()=>(0,H.qy)`
                <editor-icon-button
                  aria-label="Add text"
                  .tooltip=${"Add text"}
                  @click=${this._addText}
                >
                  ${ie}
                </editor-icon-button>
              `],["menu",()=>(0,H.qy)`
                <edgeless-change-text-menu
                  .elementType=${"shape"}
                  .elements=${t}
                  .edgeless=${this.edgeless}
                ></edgeless-change-text-menu>
              `],["nothing",()=>H.s6]])].filter(e=>e!==H.s6),wk)}get service(){return this.edgeless.service}#r3=k9(this,d,void 0);get _shapePanel(){return this.#r3}set _shapePanel(e){this.#r3=e}#r4=(k9(this,h),k9(this,u,void 0));get borderStyleButton(){return this.#r4}set borderStyleButton(e){this.#r4=e}#iE=(k9(this,p),k9(this,f,void 0));get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#oH=(k9(this,g),k9(this,m,[]));get elements(){return this.#oH}set elements(e){this.#oH=e}#r6=(k9(this,v),k9(this,y,void 0));get fillColorButton(){return this.#r6}set fillColorButton(e){this.#r6=e}constructor(){super(...arguments),k9(this,b)}static{k9(t,l)}})})();var St=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Si=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("edgeless-one-row-color-panel")],s=[],o=mt;(class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;St(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      flex-wrap: nowrap;
      padding: 0 2px;
      gap: 14px;
      box-sizing: border-box;
      background: var(--affine-background-overlay-panel-color);
    }

    ${me}

    .color-container {
      width: 20px;
      height: 20px;
    }
    .color-container::before {
      content: '';
      position: absolute;
      width: 2px;
      right: calc(100% + 7px);
      height: 100%;
      // FIXME: not working
      scroll-snap-align: start;
    }
  `}static{Si(t,s)}})})();var Ss=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},So=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};async function Sr(e,t,i=!0){let{clipboardController:s}=e,o=gG(t,e.surface.edgeless.service.frame),r=gI(o);r.x+=r.w+10;let a=await gY(o,e.std),{canvasElements:n,blockModels:l}=await s.createElementsFromClipboardData(a,r.center),c=[...n,...l];e.surface.fitToViewport(r),i&&e.service.selection.set({elements:c.map(e=>e.id),editing:!1})}(()=>{let e,t,i,s,o,r,a,n,l,c=[(0,L.EM)("edgeless-shape-menu")],d=[],h=H.WF,u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],k=[],S=[],M=[];(class extends h{static{t=this}static{let C="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({attribute:!1})],Ss(this,null,i,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:C},u,p),Ss(this,null,s,{kind:"accessor",name:"fillColor",static:!1,private:!1,access:{has:e=>"fillColor"in e,get:e=>e.fillColor,set:(e,t)=>{e.fillColor=t}},metadata:C},f,g),Ss(this,null,o,{kind:"accessor",name:"onChange",static:!1,private:!1,access:{has:e=>"onChange"in e,get:e=>e.onChange,set:(e,t)=>{e.onChange=t}},metadata:C},m,v),Ss(this,null,r,{kind:"accessor",name:"radius",static:!1,private:!1,access:{has:e=>"radius"in e,get:e=>e.radius,set:(e,t)=>{e.radius=t}},metadata:C},y,b),Ss(this,null,a,{kind:"accessor",name:"shapeStyle",static:!1,private:!1,access:{has:e=>"shapeStyle"in e,get:e=>e.shapeStyle,set:(e,t)=>{e.shapeStyle=t}},metadata:C},w,x),Ss(this,null,n,{kind:"accessor",name:"shapeType",static:!1,private:!1,access:{has:e=>"shapeType"in e,get:e=>e.shapeType,set:(e,t)=>{e.shapeType=t}},metadata:C},_,k),Ss(this,null,l,{kind:"accessor",name:"strokeColor",static:!1,private:!1,access:{has:e=>"strokeColor"in e,get:e=>e.strokeColor,set:(e,t)=>{e.strokeColor=t}},metadata:C},S,M),Ss(null,e={value:t},c,{kind:"class",name:t.name,metadata:C},null,d),t=e.value,C&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      z-index: -1;
    }
    .menu-content {
      display: flex;
      align-items: center;
    }
    .shape-type-container,
    .shape-style-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 14px;
    }
    .shape-type-container svg,
    .shape-style-container svg {
      fill: var(--affine-icon-color);
      stroke: none;
    }
    menu-divider {
      height: 24px;
      margin: 0 9px;
    }
  `}render(){let{radius:e,fillColor:t,shapeStyle:i}=this,{shapeType:s}=this;"rect"===s&&e>0&&(s="roundedRect");let o=im.Q.getColorValue(t,O.SO);return(0,H.qy)`
      <edgeless-slide-menu>
        <div class="menu-content">
          <div class="shape-style-container">
            <edgeless-tool-icon-button
              .tooltip=${"General"}
              .active=${i===C.lH.General}
              .activeMode=${"background"}
              @click=${()=>{this._setShapeStyle(C.lH.General)}}
            >
              ${tP}
            </edgeless-tool-icon-button>
            <edgeless-tool-icon-button
              .tooltip=${"Scribbled"}
              .active=${i===C.lH.Scribbled}
              .activeMode=${"background"}
              @click=${()=>{this._setShapeStyle(C.lH.Scribbled)}}
            >
              ${tA}
            </edgeless-tool-icon-button>
          </div>
          <menu-divider .vertical=${!0}></menu-divider>
          <div class="shape-type-container">
            ${k2.map(({name:e,generalIcon:t,scribbledIcon:o,tooltip:r,value:a})=>(0,H.qy)`
                  <edgeless-tool-icon-button
                    .tooltip=${r}
                    .active=${s===e}
                    .activeMode=${"background"}
                    @click=${()=>this.onChange(a)}
                  >
                    ${i===C.lH.General?t:o}
                  </edgeless-tool-icon-button>
                `)}
          </div>
          <menu-divider .vertical=${!0}></menu-divider>
          <edgeless-one-row-color-panel
            .value=${o}
            .options=${O.d}
            .hasTransparent=${!this.edgeless.doc.awarenessStore.getFlag("enable_color_picker")}
            @select=${e=>this._setFillColor(e.detail)}
          ></edgeless-one-row-color-panel>
        </div>
      </edgeless-slide-menu>
    `}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#r8;get fillColor(){return this.#r8}set fillColor(e){this.#r8=e}#ef;get onChange(){return this.#ef}set onChange(e){this.#ef=e}#i6;get radius(){return this.#i6}set radius(e){this.#i6=e}#r5;get shapeStyle(){return this.#r5}set shapeStyle(e){this.#r5=e}#r9;get shapeType(){return this.#r9}set shapeType(e){this.#r9=e}#oZ;get strokeColor(){return this.#oZ}set strokeColor(e){this.#oZ=e}constructor(){super(...arguments),this._setFillColor=e=>{let t=!g4(e),i=e.replace("--affine-palette-shape-","--affine-palette-line-");i.endsWith("transparent")&&(i="--affine-palette-line-grey"),this.onChange({filled:t,fillColor:e,strokeColor:i})},this._setShapeStyle=e=>{this.onChange({shapeStyle:e})},this.#iE=So(this,u,void 0),this.#r8=(So(this,p),So(this,f,void 0)),this.#ef=(So(this,g),So(this,m,void 0)),this.#i6=(So(this,v),So(this,y,void 0)),this.#r5=(So(this,b),So(this,w,void 0)),this.#r9=(So(this,x),So(this,_,void 0)),this.#oZ=(So(this,k),So(this,S,void 0)),So(this,M)}static{So(t,d)}})})();var Sa=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Sn=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let Sl={icon:aY,name:"Open this doc",type:"open"},Sc={icon:aK,name:"Open in center peek",type:"center-peek"},Sd=[{icon:tS,name:"Bring to Front",type:"front"},{icon:tM,name:"Bring Forward",type:"forward"},{icon:tE,name:"Send Backward",type:"backward"},{icon:tI,name:"Send to Back",type:"back"}],Sh=[{icon:tB,name:"Copy",type:"copy"},{icon:t$,name:"Duplicate",type:"duplicate"}],Su={icon:tT,name:"Delete",type:"delete"},Sp={icon:ta,name:"Frame section",type:"create-frame"},Sf={icon:ep,name:"Group section",type:"create-group"},Sg={icon:aU,name:"Reload",type:"reload"},Sm={icon:nL,name:"Turn into linked doc",type:"turn-into-linked-doc"},Sv={icon:nL,name:"Create linked doc",type:"create-linked-doc"};(()=>{let e,t,i,s,o,r=[(0,L.EM)("edgeless-more-button")],a=[],n=(0,P.Tm)(H.WF),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],Sa(this,null,i,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:f},l,c),Sa(this,null,s,{kind:"accessor",name:"elements",static:!1,private:!1,access:{has:e=>"elements"in e,get:e=>e.elements,set:(e,t)=>{e.elements=t}},metadata:f},d,h),Sa(this,null,o,{kind:"accessor",name:"vertical",static:!1,private:!1,access:{has:e=>"vertical"in e,get:e=>e.vertical,set:(e,t)=>{e.vertical=t}},metadata:f},u,p),Sa(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f}),Sn(t,a)}get _Actions(){return[[Sp,Sf],Sd,this.getOpenActions(),[...Sh,this.getRefreshAction()],[this.getLinkedDocAction()],[Su]]}get _FrameActions(){return[[Sp],Sh,[this.getLinkedDocAction()],[Su]]}get _block(){let e=this.edgeless.service.selection.surfaceSelections;if(1!==e.length||1!==e[0].elements.length)return;let t=this.view.getBlock(e[0].blockId);if(t)return t}_refreshable(e){return gA(e)||gL(e)||gH(e)||gZ(e)}getLinkedDocAction(){let e=1===this.selection.selectedElements.length,{firstElement:t}=this.selection;return e&&(gV(t)||gR(t))?H.s6:e&&gT(t)?Sm:Sv}getOpenActions(){let e=1===this.selection.selectedElements.length,{firstElement:t}=this.selection,i=[];if(e&&(gV(t)||gR(t))){let e=t.pageId===this.doc.id;i.push({...Sl,disabled:e})}return e&&this._block&&lF(this._block)&&i.push(Sc),i}getRefreshAction(){return this.selection.selectedElements.every(e=>this._refreshable(e))?Sg:H.s6}render(){let e=wE(this.edgeless.service.selection.selectedElements.some(gP)?this._FrameActions:this._Actions,this._runAction);return(0,H.qy)`
      <editor-menu-button
        .contentPadding=${"8px"}
        .button=${(0,H.qy)`
          <editor-icon-button aria-label="More" .tooltip=${"More"}>
            ${this.vertical?eU:eq}
          </editor-icon-button>
        `}
      >
        <div
          class="more-actions-container"
          data-size="large"
          data-orientation="vertical"
        >
          ${e}
        </div>
      </editor-menu-button>
    `}get doc(){return this.edgeless.doc}get selection(){return this.edgeless.service.selection}get slots(){return this.edgeless.slots}get surface(){return this.edgeless.surface}get view(){return this.edgeless.host.view}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#oH;get elements(){return this.#oH}set elements(e){this.#oH=e}#eN;get vertical(){return this.#eN}set vertical(e){this.#eN=e}constructor(){super(...arguments),this._createLinkedDoc=e=>{let t=gG(this.edgeless.service.selection.selectedElements,this.edgeless.surface.edgeless.service.frame),i=function(e,t,i){let s=e.doc.collection.createDoc({});return s.load(()=>{let o=s.addBlock("affine:page",{title:new e.doc.Text(i)}),r=s.addBlock("affine:surface",{},o),a=m2(s);if(!a)return;let n=function(e){let t=(0,ik.$z)(e,e=>e instanceof S.lw?"connector":e instanceof M.$?"group":e instanceof I.AR?"mindmap":"default");return[...t.default??[],...t.connector??[],...t.group??[],...t.mindmap??[]]}(t),l=new Map;n.forEach(e=>{let t=e.id;if(e instanceof iE.y){let i=m7(e);gT(e)?(t=s.addBlock("affine:note",i,o),e.children.forEach(e=>{vl(s,e,t)})):t=s.addBlock(e.flavour,i,r)}else{let i=function(e,t){if(e instanceof S.lw){var i;return(i=e.serialize()).source.id&&(i.source.id=t.get(i.source.id)),i.target.id&&(i.target.id=t.get(i.target.id)),i}return e instanceof M.$?function(e,t){if(e.children){let i={};for(let[s,o]of Object.entries(e.children)){let e=t.get(s);e&&(i[e]=o)}e.children=i}return e}(e.serialize(),t):e instanceof I.AR?function(e,t){if(e.children){let i={};for(let[s,o]of Object.entries(e.children)){let e=t.get(s);if(o.parent){let e=t.get(o.parent);o.parent=e}e&&(i[e]=o)}e.children=i}return e}(e.serialize(),t):e.serialize()}(e,l);t=a.addElement(i)}l.set(e.id,t)})}),e.spec.getService("affine:page").docModeService.setMode("edgeless",s.id),s}(this.edgeless.host,t,e),s=gI(t),o=this.edgeless.service.addBlock("affine:embed-linked-doc",{xywh:`[${s.center[0]-182}, ${s.center[1]-195}, 364, 390]`,style:"vertical",pageId:i.id},this.surface.model.id);this.edgeless.service.telemetryService?.track("CanvasElementAdded",{control:"context-menu",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:"embed-linked-doc"}),this.edgeless.service.telemetryService?.track("DocCreated",{control:"create linked doc",page:"whiteboard editor",module:"format toolbar",type:"embed-linked-doc"}),this.edgeless.service.telemetryService?.track("LinkedDocCreated",{control:"create linked doc",page:"whiteboard editor",module:"format toolbar",type:"embed-linked-doc",other:"new doc"}),this.doc.transact(()=>{my(this.surface,t)}),this.edgeless.service.selection.set({elements:[o],editing:!1})},this._delete=()=>{this.doc.captureSync(),my(this.surface,this.selection.selectedElements),this.selection.set({elements:[],editing:!1})},this._reload=e=>{e.forEach(e=>{let t=this.view.getBlock(e.blockId);t&&this._refreshable(t.model)&&t.refreshData()})},this._runAction=async({type:e})=>{let t=this.edgeless.service.selection;switch(e){case"copy":this.edgeless.clipboardController.copy();break;case"duplicate":await Sr(this.edgeless,t.selectedElements);break;case"delete":this._delete();break;case"turn-into-linked-doc":{let e=await m4(this.edgeless.host);if(null===e)return;this._turnIntoLinkedDoc(e),m8(this.edgeless.host,this.edgeless.doc);break}case"create-linked-doc":{let e=await m4(this.edgeless.host);if(null===e)return;this._createLinkedDoc(e),m8(this.edgeless.host,this.edgeless.doc);break}case"create-frame":{let{service:e}=this.edgeless,t=e.frame.createFrameOnSelected();if(!t)break;this.edgeless.service.telemetryService?.track("CanvasElementAdded",{control:"context-menu",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:"frame"}),this.edgeless.surface.fitToViewport(m.z.deserialize(t.xywh));break}case"create-group":this.edgeless.service.createGroupFromSelected();break;case"front":case"forward":case"backward":case"back":this.selection.selectedElements.forEach(t=>{this.edgeless.service.reorderElement(t,e)});break;case"reload":this._reload(this.selection.surfaceSelections);break;case"open":this._block&&"open"in this._block&&"function"==typeof this._block.open&&this._block.open();break;case"center-peek":this._block&&lF(this._block)&&lN(this._block)}},this._turnIntoLinkedDoc=e=>{let t=1===this.selection.selectedElements.length,{firstElement:i}=this.selection;if(t&&gT(i)){let t=function(e,t,i){let s=e.collection.createDoc({});return s.load(()=>{let o=s.addBlock("affine:page",{title:new e.Text(i)});s.addBlock("affine:surface",{},o);let r=m7(t),a=s.addBlock("affine:note",{...r,hidden:!1,displayMode:q.ko.DocAndEdgeless},o);t.children.forEach(e=>{vl(s,e,a)})}),s}(this.edgeless.host.doc,i,e),s=this.edgeless.service.addBlock("affine:embed-synced-doc",{xywh:i.xywh,style:"syncedDoc",pageId:t.id,index:i.index},this.surface.model.id);this.edgeless.service.telemetryService?.track("CanvasElementAdded",{control:"context-menu",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:"embed-synced-doc"}),this.edgeless.service.telemetryService?.track("DocCreated",{control:"turn into linked doc",page:"whiteboard editor",module:"format toolbar",type:"embed-linked-doc"}),this.edgeless.service.telemetryService?.track("LinkedDocCreated",{control:"turn into linked doc",page:"whiteboard editor",module:"format toolbar",type:"embed-linked-doc",other:"new doc"}),function(e,t,i){i.surface.getConnectors(e).forEach(s=>{s.source.id===e&&i.updateElement(s.id,{source:{...s.source,id:t}}),s.target.id===e&&i.updateElement(s.id,{target:{...s.target,id:t}})})}(i.id,s,this.edgeless.service),this.doc.transact(()=>{this.surface.doc.deleteBlock(i)}),this.edgeless.service.selection.set({elements:[s],editing:!1})}else this._createLinkedDoc(e)},this.#iE=Sn(this,l,void 0),this.#oH=(Sn(this,c),Sn(this,d,[])),this.#eN=(Sn(this,h),Sn(this,u,!1)),Sn(this,p)}})})();var Sy=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Sb=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("edgeless-release-from-group-button")],s=[],o=(0,P.Tm)(H.WF),r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;Sy(this,null,[(0,L.MZ)({attribute:!1})],{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:n},r,a),Sy(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),Sb(t,s)}_releaseFromGroup(){let e=this.edgeless.service,t=e.selection.firstElement;if(!(t.group instanceof M.$))return;let i=t.group;i.removeChild(t),t.index=e.layer.generateIndex("flavour"in t?t.flavour:t.type);let s=i.group;s instanceof M.$&&s.addChild(t.id)}render(){return(0,H.qy)`
      <editor-icon-button
        aria-label="Release from group"
        .tooltip=${"Release from group"}
        .iconSize=${"20px"}
        @click=${()=>this._releaseFromGroup()}
      >
        ${ef}
      </editor-icon-button>
    `}#iE=Sb(this,r,void 0);get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}constructor(){super(...arguments),Sb(this,a)}})})();var Sw=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Sx=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let S_="edgeless-element-toolbar-widget",SC=(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)(S_)],l=[],c=P.W,d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],w=[];return class extends c{static{t=this}static{let b="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.wk)({hasChanged:(e,t)=>e.length!==t?.length||e.some((e,i)=>e!==t[i])})],a=[(0,L.wk)()],Sw(this,null,i,{kind:"accessor",name:"_dragging",static:!1,private:!1,access:{has:e=>"_dragging"in e,get:e=>e._dragging,set:(e,t)=>{e._dragging=t}},metadata:b},d,h),Sw(this,null,s,{kind:"accessor",name:"_registeredEntries",static:!1,private:!1,access:{has:e=>"_registeredEntries"in e,get:e=>e._registeredEntries,set:(e,t)=>{e._registeredEntries=t}},metadata:b},u,p),Sw(this,null,o,{kind:"accessor",name:"enableNoteSlicer",static:!1,private:!1,access:{has:e=>"enableNoteSlicer"in e,get:e=>e.enableNoteSlicer,set:(e,t)=>{e.enableNoteSlicer=t}},metadata:b},f,g),Sw(this,null,r,{kind:"accessor",name:"selectedIds",static:!1,private:!1,access:{has:e=>"selectedIds"in e,get:e=>e.selectedIds,set:(e,t)=>{e.selectedIds=t}},metadata:b},m,v),Sw(this,null,a,{kind:"accessor",name:"toolbarVisible",static:!1,private:!1,access:{has:e=>"toolbarVisible"in e,get:e=>e.toolbarVisible,set:(e,t)=>{e.toolbarVisible=t}},metadata:b},y,w),Sw(null,e={value:t},n,{kind:"class",name:t.name,metadata:b},null,l),t=e.value,b&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:b})}static{this.styles=(0,H.AH)`
    :host {
      position: absolute;
      z-index: 3;
      transform: translateZ(0);
      will-change: transform;
      -webkit-user-select: none;
      user-select: none;
    }
  `}_groupSelected(){return(0,ik.$z)(this.selection.selectedElements,e=>gT(e)?"note":gP(e)?"frame":gA(e)?"image":gH(e)?"attachment":gL(e)||gD(e)?"embedCard":gO(e)?"edgelessText":e.type)}_recalculatePosition(){let e,t;let{selection:i,viewport:s}=this.edgeless.service,o=i.selectedElements;if(0===o.length){this.style.transform="translate3d(0, 0, 0)";return}let r=gI(o),{width:a,height:n}=s,[l,c]=s.toViewCoord(r.x,r.y),[d,h]=s.toViewCoord(r.maxX,r.maxY);if(l>=a||d<=0||c>=n||h<=0){e=l,t=c,this.style.transform=`translate3d(${e}px, ${t}px, 0)`;return}let u=49,p=!1,f=!1;(p=o.some(e=>gP(e)))||(f=o.some(e=>e instanceof M.$))?(u+=20,p&&(u+=8)):1===o.length&&o[0]instanceof b.B5&&(u+=26),(t=c-u)<0&&(t=c+r.h*s.zoom+u-37,(p||f)&&(t-=20,p&&(t-=8))),e=(0,iH.qE)(l,10,a-10),t=(0,iH.qE)(t,10,n-150),this.style.transform=`translate3d(${e}px, ${t}px, 0)`,this.selectedIds=i.selectedIds}_renderQuickConnectButton(){return[(0,H.qy)`
        <editor-icon-button
          aria-label="Draw connector"
          .tooltip=${"Draw connector"}
          .activeMode=${"background"}
          @click=${this._quickConnect}
        >
          ${e3}
        </editor-icon-button>
      `]}firstUpdated(){let{_disposables:e,edgeless:t}=this;e.add(t.service.viewport.viewportUpdated.on(()=>{this._recalculatePosition()})),e.add(this.selection.slots.updated.on(()=>{0===this.selection.selectedIds.length||this.selection.editing||this.selection.inoperable?this.toolbarVisible=!1:(this.toolbarVisible=!0,this._recalculatePosition())})),(0,ik.ME)(this.edgeless.service.surface,["elementAdded","elementUpdated"]).forEach(t=>e.add(t.on(this._updateOnSelectedChange))),e.add(this.doc.slots.blockUpdated.on(this._updateOnSelectedChange)),e.add(t.dispatcher.add("dragStart",()=>{this._dragging=!0})),e.add(t.dispatcher.add("dragEnd",()=>{this._dragging=!1,this._recalculatePosition()})),e.add(t.slots.elementResizeStart.on(()=>{this._dragging=!0})),e.add(t.slots.elementResizeEnd.on(()=>{this._dragging=!1,this._recalculatePosition()})),e.add(t.slots.readonlyUpdated.on(()=>this.requestUpdate())),this.updateComplete.then(()=>{e.add(im.Q.subscribe(()=>this.requestUpdate()))}).catch(console.error)}registerEntry(e){this._registeredEntries.push(e)}render(){var e;if(this.doc.readonly||this._dragging||!this.toolbarVisible)return H.s6;let t=this._groupSelected(),{edgeless:i,selection:s}=this,{shape:o,brush:r,connector:a,note:n,text:l,frame:c,group:d,embedCard:h,attachment:u,image:p,edgelessText:f,mindmap:g}=t,{selectedElements:m}=this.selection,v=(0,ik.I8)(Object.values(t),e=>!!e.length,2),y=1!==m.length||a?.length?void 0:this._renderQuickConnectButton(),b=m.length!==a?.length?[m.length<2||m.some(e=>e.group instanceof I.AR)?H.s6:(0,H.qy)`
    <edgeless-add-frame-button
      .edgeless=${i}
    ></edgeless-add-frame-button>
  `,m.length<2||m[0]instanceof M.$||m.some(e=>e.group instanceof I.AR)?H.s6:(0,H.qy)`
    <edgeless-add-group-button
      .edgeless=${i}
    ></edgeless-add-group-button>
  `,m.length<2||m.some(e=>e.group instanceof I.AR)?H.s6:(0,H.qy)`
    <edgeless-align-button .edgeless=${i}></edgeless-align-button>
  `]:[],w=v?b:[...b,kD(i,g),kD(i,o),!o?.length||o.some(e=>i.service.surface.isInMindmap(e.id))?H.s6:(0,H.qy)`
    <edgeless-change-shape-button .elements=${o} .edgeless=${i}>
    </edgeless-change-shape-button>
  `,r?.length?(0,H.qy)`
    <edgeless-change-brush-button .elements=${r} .edgeless=${i}>
    </edgeless-change-brush-button>
  `:H.s6,a?.length?(0,H.qy)`
    <edgeless-change-connector-button
      .elements=${a}
      .edgeless=${i}
    >
    </edgeless-change-connector-button>
  `:H.s6,n?.length?(0,H.qy)`
    <edgeless-change-note-button
      .notes=${n}
      .edgeless=${i}
      .enableNoteSlicer=${!1}
      .quickConnectButton=${y?.pop()??H.s6}
    >
    </edgeless-change-note-button>
  `:H.s6,l?.length?(0,H.qy)`
    <edgeless-change-text-menu
      .elementType=${"text"}
      .elements=${l}
      .edgeless=${i}
    ></edgeless-change-text-menu>
  `:H.s6,f?.length?(0,H.qy)`
    <edgeless-change-text-menu
      .elementType=${"edgeless-text"}
      .elements=${f}
      .edgeless=${i}
    ></edgeless-change-text-menu>
  `:H.s6,c?.length?(0,H.qy)`
    <edgeless-change-frame-button
      .edgeless=${i}
      .frames=${c}
    ></edgeless-change-frame-button>
  `:H.s6,d?.length?(0,H.qy)`
    <edgeless-change-group-button .edgeless=${i} .groups=${d}>
    </edgeless-change-group-button>
  `:H.s6,h?.length!==1?H.s6:(0,H.qy)`
    <edgeless-change-embed-card-button
      .model=${h[0]}
      .edgeless=${i}
      .quickConnectButton=${y?.pop()??H.s6}
    ></edgeless-change-embed-card-button>
  `,u?.length!==1?H.s6:(0,H.qy)`
    <edgeless-change-attachment-button
      .model=${u[0]}
      .edgeless=${i}
    ></edgeless-change-attachment-button>
  `,p?.length!==1?H.s6:(0,H.qy)`
    <edgeless-change-image-button
      .model=${p[0]}
      .edgeless=${i}
    ></edgeless-change-image-button>
  `];return 1===m.length&&(s.firstElement.group instanceof M.$&&w.unshift((e=this.edgeless,(0,H.qy)`
    <edgeless-release-from-group-button
      .edgeless=${e}
    ></edgeless-release-from-group-button>
  `)),a?.length||w.push(y?.pop()??H.s6)),this._registeredEntries.filter(e=>e.when(m)).map(e=>e.render(this.edgeless)).forEach(e=>e&&w.unshift(e)),w.push((0,H.qy)`
      <edgeless-more-button
        .elements=${m}
        .edgeless=${i}
        .vertical=${!0}
      ></edgeless-more-button>
    `),(0,H.qy)`
      <editor-toolbar>
        ${(0,v6.f)(w.filter(e=>e!==H.s6),wk)}
      </editor-toolbar>
    `}get edgeless(){return this.block}get selection(){return this.edgeless.service.selection}get slots(){return this.edgeless.slots}get surface(){return this.edgeless.surface}#sX;get _dragging(){return this.#sX}set _dragging(e){this.#sX=e}#ae;get _registeredEntries(){return this.#ae}set _registeredEntries(e){this.#ae=e}#r1;get enableNoteSlicer(){return this.#r1}set enableNoteSlicer(e){this.#r1=e}#at;get selectedIds(){return this.#at}set selectedIds(e){this.#at=e}#ai;get toolbarVisible(){return this.#ai}set toolbarVisible(e){this.#ai=e}constructor(){super(...arguments),this._quickConnect=({x:e,y:t})=>{let i=this.selection.selectedElements[0],s=this.edgeless.service.viewport.toViewCoordFromClientCoord([e,t]);this.edgeless.doc.captureSync(),this.edgeless.tools.setEdgelessTool({type:"connector",mode:S.B1.Curve}),this.edgeless.tools.controllers.connector.quickConnect(s,i)},this._updateOnSelectedChange=e=>{let t="string"==typeof e?e:e.id;this.isConnected&&!this._dragging&&this.selection.has(t)&&(this._recalculatePosition(),this.requestUpdate())},this.#sX=Sx(this,d,!1),this.#ae=(Sx(this,h),Sx(this,u,[])),this.#r1=(Sx(this,p),Sx(this,f,void 0)),this.#at=(Sx(this,g),Sx(this,m,[])),this.#ai=(Sx(this,v),Sx(this,y,!1)),Sx(this,w)}static{Sx(t,l)}},t})(),Sk=(0,H.AH)`
  :host {
    position: absolute;
    top: 0;
    right: 0;
    z-index: var(--affine-z-index-popover);
  }

  .affine-image-toolbar-container {
    height: 24px;
    gap: 4px;
    padding: 4px;
    margin: 0;
  }

  .image-toolbar-button {
    color: var(--affine-icon-color);
    background-color: var(--affine-background-primary-color);
    box-shadow: var(--affine-shadow-1);
    border-radius: 4px;
  }
`;var SS=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},SM=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l,c=[(0,L.EM)("affine-image-toolbar")],d=[],h=H.WF,u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[];(class extends h{static{t=this}static{let M="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,L.P)("editor-icon-button.more")],s=[(0,L.wk)()],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({attribute:!1})],SS(this,null,i,{kind:"accessor",name:"_moreButton",static:!1,private:!1,access:{has:e=>"_moreButton"in e,get:e=>e._moreButton,set:(e,t)=>{e._moreButton=t}},metadata:M},u,p),SS(this,null,s,{kind:"accessor",name:"_moreMenuOpen",static:!1,private:!1,access:{has:e=>"_moreMenuOpen"in e,get:e=>e._moreMenuOpen,set:(e,t)=>{e._moreMenuOpen=t}},metadata:M},f,g),SS(this,null,o,{kind:"accessor",name:"abortController",static:!1,private:!1,access:{has:e=>"abortController"in e,get:e=>e.abortController,set:(e,t)=>{e.abortController=t}},metadata:M},m,v),SS(this,null,r,{kind:"accessor",name:"blockComponent",static:!1,private:!1,access:{has:e=>"blockComponent"in e,get:e=>e.blockComponent,set:(e,t)=>{e.blockComponent=t}},metadata:M},y,b),SS(this,null,a,{kind:"accessor",name:"config",static:!1,private:!1,access:{has:e=>"config"in e,get:e=>e.config,set:(e,t)=>{e.config=t}},metadata:M},w,x),SS(this,null,n,{kind:"accessor",name:"moreMenuConfig",static:!1,private:!1,access:{has:e=>"moreMenuConfig"in e,get:e=>e.moreMenuConfig,set:(e,t)=>{e.moreMenuConfig=t}},metadata:M},_,C),SS(this,null,l,{kind:"accessor",name:"onActiveStatusChange",static:!1,private:!1,access:{has:e=>"onActiveStatusChange"in e,get:e=>e.onActiveStatusChange,set:(e,t)=>{e.onActiveStatusChange=t}},metadata:M},k,S),SS(null,e={value:t},c,{kind:"class",name:t.name,metadata:M},null,d),t=e.value,M&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:M})}static{this.styles=Sk}_clearPopMenu(){this._popMenuAbortController&&(this._popMenuAbortController.abort(),this._popMenuAbortController=null)}get _items(){var e,t,i,s;return e=this.blockComponent,t=this.abortController,i=this.config,s=this.closeCurrentMenu,i.filter(t=>t.showWhen(e)).map(i=>{let o=null;switch(i.type){case"common":{let s=`image-toolbar-button ${i.name.toLocaleLowerCase()}`;o=(0,H.qy)`
            <editor-icon-button
              class=${s}
              .tooltip=${i.tooltip}
              .tooltipOffset=${4}
              @click=${()=>i.action(e,t)}
            >
              ${i.icon}
            </editor-icon-button>
          `;break}case"custom":o=i.render(e,s);break;default:o=null}return[o]}).filter(([e])=>null!=e).map(([e])=>e)}_toggleMoreMenu(){var e,t;if(this._currentOpenMenu&&!this._currentOpenMenu.signal.aborted&&this._currentOpenMenu===this._popMenuAbortController){this.closeCurrentMenu(),this._moreMenuOpen=!1;return}this.closeCurrentMenu(),this._popMenuAbortController=new AbortController,this._popMenuAbortController.signal.addEventListener("abort",()=>{this._moreMenuOpen=!1,this.onActiveStatusChange(!1)}),this.onActiveStatusChange(!0),this._currentOpenMenu=this._popMenuAbortController,(0,V.Z1)(this._moreButton),ri({template:(0,H.qy)`
        <editor-menu-content
          data-show
          class="image-more-popup-menu"
          style=${(0,Z.W)({"--content-padding":"8px","--packed-height":"4px"})}
        >
          <div data-size="large" data-orientation="vertical">
            ${(e=this.blockComponent,t=this._popMenuAbortController,this.moreMenuConfig.filter(t=>t.showWhen(e)).map(i=>{let s=null;switch(i.type){case"more":{let o=`menu-item ${i.name.toLocaleLowerCase()}`;s=(0,H.qy)`
            <editor-menu-action
              class=${o}
              @click=${s=>{s.stopPropagation(),i.action(e,t)}}
            >
              ${i.icon} ${i.name}
            </editor-menu-action>
          `;break}case"divider":s=(0,H.qy)`
            <editor-toolbar-separator
              data-orientation="horizontal"
            ></editor-toolbar-separator>
          `;break;default:s=null}return s}).filter(e=>null!==e).map(e=>e))}
          </div>
        </editor-menu-content>
      `,container:this.blockComponent.host,portalStyles:{zIndex:"var(--affine-z-index-popover)"},computePosition:{referenceElement:this._moreButton,placement:"bottom-start",middleware:[(0,oG.UU)(),(0,oG.cY)(4)],autoUpdate:{animationFrame:!0}},abortController:this._popMenuAbortController,closeOnClickAway:!0}),this._moreMenuOpen=!0}disconnectedCallback(){super.disconnectedCallback(),this.closeCurrentMenu(),this._clearPopMenu()}render(){return(0,H.qy)`
      <editor-toolbar class="affine-image-toolbar-container" data-without-bg>
        ${this._items}
        <editor-icon-button
          class="image-toolbar-button more"
          aria-label="More"
          .tooltip=${"More"}
          .tooltipOffset=${4}
          .showTooltip=${!this._moreMenuOpen}
          @click=${()=>this._toggleMoreMenu()}
        >
          ${eU}
        </editor-icon-button>
      </editor-toolbar>
    `}#om;get _moreButton(){return this.#om}set _moreButton(e){this.#om=e}#ov;get _moreMenuOpen(){return this.#ov}set _moreMenuOpen(e){this.#ov=e}#eS;get abortController(){return this.#eS}set abortController(e){this.#eS=e}#of;get blockComponent(){return this.#of}set blockComponent(e){this.#of=e}#t$;get config(){return this.#t$}set config(e){this.#t$=e}#as;get moreMenuConfig(){return this.#as}set moreMenuConfig(e){this.#as=e}#og;get onActiveStatusChange(){return this.#og}set onActiveStatusChange(e){this.#og=e}constructor(){super(...arguments),this._currentOpenMenu=null,this._popMenuAbortController=null,this.closeCurrentMenu=()=>{this._currentOpenMenu&&!this._currentOpenMenu.signal.aborted&&(this._currentOpenMenu.abort(),this._currentOpenMenu=null)},this.#om=SM(this,u,void 0),this.#ov=(SM(this,p),SM(this,f,!1)),this.#eS=(SM(this,g),SM(this,m,void 0)),this.#of=(SM(this,v),SM(this,y,void 0)),this.#t$=(SM(this,b),SM(this,w,void 0)),this.#as=(SM(this,x),SM(this,_,void 0)),this.#og=(SM(this,C),SM(this,k,A.lQ)),SM(this,S)}static{SM(t,d)}})})();let SE=[{name:"download",icon:a0,tooltip:"Download",showWhen:()=>!0,action:(e,t)=>{t.abort(),e.download()},type:"common"},{name:"caption",icon:a1,tooltip:"Caption",showWhen:e=>!e.doc.readonly,action:(e,t)=>{t.abort(),e.captionEditor?.show()},type:"common"}],SI=[{name:"Turn into card view",icon:eI,tooltip:"Turn into Card view",showWhen:e=>{let t=e.doc,i=t.schema.flavourSchemaMap.has("affine:attachment"),s=t.readonly;return i&&!s&&!!e.blob},action:(e,t)=>{e.convertToCardView(),t.abort()},type:"more"},{name:"Copy",icon:aL,tooltip:"Copy",showWhen:()=>!0,action:(e,t)=>{e.copy(),t.abort()},type:"more"},{name:"Duplicate",icon:aZ,tooltip:"Duplicate",showWhen:e=>!e.doc.readonly,action:(e,t)=>{!function(e,t){let i=e.model,{width:s,height:o,xywh:r,rotate:a,zIndex:n,...l}=m7(i),{doc:c}=i,d=c.getParent(i);(0,V.Z1)(d,"Parent not found");let h=d?.children.indexOf(i),u=c.addBlock(i.flavour,l,d,h+1);t?.abort();let p=e.host;p.updateComplete.then(()=>{let{selection:e}=p;if(e.setGroup("note",[e.create("block",{blockId:u})]),(0,sc.zU)(p)){let e=p.view.getBlock(u);e&&e.scrollIntoView(!0)}}).catch(console.error)}(e,t)},type:"more"},{type:"divider",showWhen:e=>!e.doc.readonly},{name:"Delete",icon:aj,tooltip:"Delete",showWhen:e=>!e.doc.readonly,action:(e,t)=>{t.abort(),e.doc.deleteBlock(e.model)},type:"more"}];var SB=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},S$=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let ST=(()=>{let e,t,i=[(0,L.EM)("affine-image-toolbar-widget")],s=[],o=P.W;return class extends o{static{t=this}constructor(){super(...arguments),this._hoverController=null,this._isActivated=!1,this._setHoverController=()=>{this._hoverController=null,this._hoverController=new lE(this,({abortController:e})=>{let t=this.block,i=this.host.selection,s=i.find("text");if(s&&(s.to||s.from.length))return null;let o=i.filter("block");if(o.length>1||1===o.length&&o[0].blockId!==t.blockId)return null;let r=t.resizeImg??t.imageCard;return r?{template:(0,H.qy)`<affine-image-toolbar
            .blockComponent=${t}
            .abortController=${e}
            .config=${this.config}
            .moreMenuConfig=${this.moreMenuConfig}
            .onActiveStatusChange=${e=>{this._isActivated=e,e||this._hoverController?.isHovering||this._hoverController?.abort()}}
          ></affine-image-toolbar>`,container:this.block,portalStyles:{zIndex:"var(--affine-z-index-popover)"},computePosition:{referenceElement:r,placement:"right-start",middleware:[(0,oG.BN)({crossAxis:!0,padding:{top:fA.Et+12,bottom:12,right:12},limiter:(0,oG.ER)()})],autoUpdate:!0}}:null},{allowMultiple:!0});let e=this.block;this._hoverController.setReference(e),this._hoverController.onAbort=()=>{this._isActivated||this._hoverController?.abort()}},this.addConfigItems=(e,t)=>(void 0===t?this.config.push(...e):this.config.splice(t,0,...e),this),this.addMoreMenuItems=(e,t)=>(void 0===t?this.moreMenuConfig.push(...e):this.moreMenuConfig.splice(t,0,...e),this),this.buildDefaultConfig=()=>(this.clearConfig().addConfigItems(SE).addMoreMenuItems(SI),this),this.clearConfig=()=>(this.config=[],this.moreMenuConfig=[],this),this.config=[],this.moreMenuConfig=[]}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;SB(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),S$(t,s)}firstUpdated(){this.config.length&&this.moreMenuConfig.length||this.buildDefaultConfig(),this._setHoverController()}},t})();var SO=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},SP=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let SA="affine-inner-modal-widget";function SH(e,t,{gap:i=12,offsetY:s=5}={}){e||console.warn("The popper element is not exist. Popper position maybe incorrect");let{placement:o,height:r}=function(e,t=document.body,i=20){let s=e.getBoundingClientRect(),o=t.getBoundingClientRect(),r=s.top-o.top,a=o.bottom-s.bottom,n=r>a?"top":"bottom";return{placement:n,height:("top"===n?r:a)-i}}(t,document.body,i+s),a=t.getBoundingClientRect(),n={x:a.x,y:a.y+("bottom"===o?a.height:0)},l=document.body.getBoundingClientRect(),c=function({positioningPoint:e,objRect:t={width:0,height:0},boundaryRect:i=document.body.getBoundingClientRect(),offsetX:s=0,offsetY:o=0,edgeGap:r=20}){return{x:(0,iy.qE)(e.x+s,r,i.width-t.width-r),y:e.y+o}}({positioningPoint:n,objRect:e?.getBoundingClientRect(),boundaryRect:l,offsetY:"bottom"===o?s:-s});return{placement:o,height:r,x:`${c.x}px`,y:"bottom"===o?`${c.y}px`:`calc(${c.y}px - 100%)`}}(()=>{let e,t,i=[(0,L.EM)(SA)],s=[],o=P.W;(class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;SO(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),SP(t,s)}open(e,t){let i=(0,oG.ll)(this.target,e,()=>{(0,oG.rD)(this.target,e,{middleware:[(0,oG.Ej)({apply:({rects:t})=>{Object.assign(e.style,{left:`${t.reference.x}px`,top:`${t.reference.y}px`,width:`${t.reference.width}px`,height:`${t.reference.height}px`})}})]}).catch(console.error)});return{close:()=>{e.remove(),t.onClose?.(),i()}}}render(){return H.s6}setTarget(e){this._getTarget=e}get target(){return this._getTarget?this._getTarget():document.body}})})();let SL=(0,H.AH)`
  :host {
    position: absolute;
  }

  .linked-doc-popover {
    position: fixed;
    left: 0;
    top: 0;
    box-sizing: border-box;
    font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
    font-size: var(--affine-font-base);
    padding: 12px 8px;
    display: flex;
    flex-direction: column;
    overflow-y: auto;

    background: var(--affine-background-overlay-panel-color);
    box-shadow: var(--affine-shadow-2);
    border-radius: 12px;
    z-index: var(--affine-z-index-popover);
  }

  .linked-doc-popover icon-button {
    padding: 8px;
    justify-content: flex-start;
    gap: 8px;
  }

  .linked-doc-popover .group-title {
    color: var(--affine-text-secondary-color);
    margin: 8px 12px;
  }

  .linked-doc-popover .divider {
    margin: 6px 12px;
    height: 1px;
    background: var(--affine-border-color);
  }

  .group icon-button svg {
    width: 20px;
    height: 20px;
  }

  ${cl(".linked-doc-popover .group")}
`;var SD=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},SZ=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let Sj=(()=>{let e,t,i,s,o,r,a,n,l=[(0,L.EM)("affine-linked-doc-popover")],c=[],d=(0,P.Tm)(H.WF),h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[];return class extends d{static{t=this}static{let C="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.wk)()],r=[(0,L.wk)()],a=[(0,L.YG)("icon-button")],n=[(0,L.P)(".linked-doc-popover")],SD(this,null,i,{kind:"accessor",name:"_activatedItemIndex",static:!1,private:!1,access:{has:e=>"_activatedItemIndex"in e,get:e=>e._activatedItemIndex,set:(e,t)=>{e._activatedItemIndex=t}},metadata:C},h,u),SD(this,null,s,{kind:"accessor",name:"_linkedDocGroup",static:!1,private:!1,access:{has:e=>"_linkedDocGroup"in e,get:e=>e._linkedDocGroup,set:(e,t)=>{e._linkedDocGroup=t}},metadata:C},p,f),SD(this,null,o,{kind:"accessor",name:"_position",static:!1,private:!1,access:{has:e=>"_position"in e,get:e=>e._position,set:(e,t)=>{e._position=t}},metadata:C},g,m),SD(this,null,r,{kind:"accessor",name:"_showTooltip",static:!1,private:!1,access:{has:e=>"_showTooltip"in e,get:e=>e._showTooltip,set:(e,t)=>{e._showTooltip=t}},metadata:C},v,y),SD(this,null,a,{kind:"accessor",name:"iconButtons",static:!1,private:!1,access:{has:e=>"iconButtons"in e,get:e=>e.iconButtons,set:(e,t)=>{e.iconButtons=t}},metadata:C},b,w),SD(this,null,n,{kind:"accessor",name:"linkedDocElement",static:!1,private:!1,access:{has:e=>"linkedDocElement"in e,get:e=>e.linkedDocElement,set:(e,t)=>{e.linkedDocElement=t}},metadata:C},x,_),SD(null,e={value:t},l,{kind:"class",name:t.name,metadata:C},null,c),t=e.value,C&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})}static{this.styles=SL}constructor(e,t,i,s,o){super(),this.triggerKey=e,this.getMenus=t,this.editorHost=i,this.inlineEditor=s,this.abortController=o,this._abort=()=>{this.abortController.abort(),cn(this.editorHost,this.inlineEditor,this.triggerKey+(this._query||""))},this._expanded=new Map,this._startRange=this.inlineEditor.getInlineRange(),this.#ao=SZ(this,h,0),this.#ar=(SZ(this,u),SZ(this,p,[])),this.#aa=(SZ(this,f),SZ(this,g,null)),this.#an=(SZ(this,m),SZ(this,v,!1)),this.#al=(SZ(this,y),SZ(this,b,void 0)),this.#ac=(SZ(this,w),SZ(this,x,null)),SZ(this,_),this.triggerKey=e,this.getMenus=t,this.editorHost=i,this.inlineEditor=s,this.abortController=o}get _actionGroup(){return this._linkedDocGroup.map(e=>({...e,items:this._getActionItems(e)}))}get _flattenActionList(){return this._actionGroup.map(e=>e.items.map(t=>({...t,groupName:e.name}))).flat()}_getActionItems(e){return this._expanded.get(e.name)?e.items:e.maxDisplay&&e.items.length>e.maxDisplay?e.items.slice(0,e.maxDisplay).concat({key:`${e.name} More`,name:e.overflowText||"more",icon:eq,action:()=>{this._expanded.set(e.name,!0),this.requestUpdate()}}):e.items}_isTextOverflowing(e){return e.scrollWidth>e.clientWidth}get _query(){return cr(this.inlineEditor,this._startRange)}async _updateLinkedDocGroup(){let e=this._query;if(null===e){this.abortController.abort();return}this._linkedDocGroup=await this.getMenus(e,this._abort,this.editorHost,this.inlineEditor)}connectedCallback(){super.connectedCallback(),this._updateLinkedDocGroup(),this._disposables.addFromEvent(this,"mousedown",e=>{e.preventDefault()});let{eventSource:e}=this.inlineEditor;e&&ca({target:e,signal:this.abortController.signal,inlineEditor:this.inlineEditor,onInput:()=>{this._activatedItemIndex=0,this._updateLinkedDocGroup()},onPaste:()=>{this._activatedItemIndex=0,setTimeout(()=>{this._updateLinkedDocGroup()},20)},onDelete:()=>{let e=this.inlineEditor.getInlineRange();this._startRange&&e&&(e.index<this._startRange.index&&this.abortController.abort(),this._activatedItemIndex=0,this._updateLinkedDocGroup())},onMove:e=>{let t=this._flattenActionList.length;this._activatedItemIndex=(t+this._activatedItemIndex+e)%t;let i=this._flattenActionList[this._activatedItemIndex],s=this.shadowRoot;if(!s){console.warn("Failed to find the shadow root!",this);return}let o=s.querySelector(`icon-button[data-id="${i.key}"]`);if(!o){console.warn("Failed to find the active item!",i);return}o.scrollIntoView({block:"nearest"})},onConfirm:()=>{this._flattenActionList[this._activatedItemIndex].action()?.catch(console.error)},onAbort:()=>{this.abortController.abort()}})}render(){let e=this._position?(0,Z.W)({transform:`translate(${this._position.x}, ${this._position.y})`,maxHeight:`${Math.min(this._position.height,410)}px`}):(0,Z.W)({visibility:"hidden"}),t=0;return(0,H.qy)`<div class="linked-doc-popover" style="${e}">
      ${this._actionGroup.filter(e=>e.items.length).map((e,i)=>(0,H.qy)`
            <div class="divider" ?hidden=${0===i}></div>
            <div class="group-title">${e.name}</div>
            <div class="group" style=${e.styles??""}>
              ${e.items.map(({key:e,name:i,icon:s,action:o})=>{let r=++t-1,a=this._showTooltip?(0,H.qy)`<affine-tooltip tip-position=${"right"}
                      >${i}</affine-tooltip
                    >`:H.s6;return(0,H.qy)`<icon-button
                  width="280px"
                  height="32px"
                  data-id=${e}
                  text=${i}
                  hover=${this._activatedItemIndex===r}
                  @click=${()=>{o()?.catch(console.error)}}
                  @mousemove=${()=>{for(let t of(this._activatedItemIndex=r,this.iconButtons.values()))if(t.dataset.id==e&&t.textElement){let e=this._isTextOverflowing(t.textElement);this._showTooltip=e;break}}}
                >
                  ${s} ${a}
                </icon-button>`})}
            </div>
          `)}
    </div>`}updatePosition(e){this._position=e}#ao;get _activatedItemIndex(){return this.#ao}set _activatedItemIndex(e){this.#ao=e}#ar;get _linkedDocGroup(){return this.#ar}set _linkedDocGroup(e){this.#ar=e}#aa;get _position(){return this.#aa}set _position(e){this.#aa=e}#an;get _showTooltip(){return this.#an}set _showTooltip(e){this.#an=e}#al;get iconButtons(){return this.#al}set iconButtons(e){this.#al=e}#ac;get linkedDocElement(){return this.#ac}set linkedDocElement(e){this.#ac=e}static{SZ(t,c)}},t})();var SV=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},SR=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let Sz="affine-linked-doc-widget";(()=>{let e,t,i=[(0,L.EM)(Sz)],s=[],o=P.W;(class extends o{static{t=this}constructor(){super(...arguments),this._abortController=null,this._onCompositionEnd=e=>{let t=e.get("defaultState").event;if(!this.config.triggerKeys.some(e=>e.includes(t.data)))return;let i=this.getInlineEditor(t);i&&this._handleInput(i,!0)},this._onKeyDown=e=>{let t=e.get("keyboardState").raw,i=t.key;if(void 0===i||"Process"===i||t.isComposing)return;let s=this.getInlineEditor(t);if(!s)return;let o=s.getInlineRange();if(o){if(o.length>0)return;this._handleInput(s,!1)}},this.getInlineEditor=e=>{if(e.target instanceof HTMLElement){let t=e.target.closest(".can-link-doc > .inline-editor")?.inlineEditor;if(t instanceof si.hq)return t}let t=this.host.selection.value.find(e=>e.is("text"));if(!t)return;let i=this.host.doc.getBlockById(t.blockId);if(i){if((0,st.op)(i,this.config.ignoreBlockTypes))return;return(0,sc.h9)(this.host,i)}},this.showLinkedDocPopover=(e,t)=>{let i=(0,li.oV)();if(!i)return;this._abortController?.abort(),this._abortController=new AbortController;let s=new ix.K;this._abortController.signal.addEventListener("abort",()=>s.dispose());let o=new Sj(t,this.config.getMenus,this.host,e,this._abortController);document.body.append(o),s.add(()=>o.remove());let r=(0,A.nF)(()=>{let e=o.linkedDocElement;if(!e)return;let t=SH(e,i);o.updatePosition(t)},10);s.addFromEvent(window,"resize",r);let a=(0,sc.dV)(this.host);return a&&s.addFromEvent(a,"scroll",r,{passive:!0}),setTimeout(r),s.addFromEvent(window,"mousedown",e=>{e.target!==o&&this._abortController?.abort()}),o}}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;SV(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),SR(t,s)}_handleInput(e,t){let i=this.config.triggerKeys[0],s=i=>{t?i():e.slots.inlineRangeApply.once(i)};s(()=>{let t=e.getInlineRange();if(!t)return;let o=e.getTextPoint(t.index);if(!o)return;let[r,a]=o,n=r.textContent?r.textContent.slice(0,a):"",l=this.config.triggerKeys.find(e=>n.endsWith(e));if(l){if(this.config.convertTriggerKey&&i!==l){let t=e.getInlineRange();if(!t)return;let o=t.index-l.length;e.deleteText({index:o,length:l.length}),e.insertText({index:o,length:0},i),e.setInlineRange({index:o+i.length,length:0}),s(()=>{this.showLinkedDocPopover(e,i)});return}this.showLinkedDocPopover(e,l)}})}connectedCallback(){super.connectedCallback(),this.handleEvent("keyDown",this._onKeyDown),this.handleEvent("compositionEnd",this._onCompositionEnd)}get config(){return{triggerKeys:["@","[[","【【"],ignoreBlockTypes:["affine:code"],convertTriggerKey:!0,getMenus:yO,...this.std.spec.getConfig("affine:page")?.linkedWidget}}})})();var SF=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},SN=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let Sq=(()=>{let e,t,i=[(0,L.EM)("affine-custom-modal")],s=[],o=H.WF;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;SF(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    :host {
      z-index: calc(var(--affine-z-index-modal) + 3);
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
    }

    .modal-background {
      width: 100%;
      height: 100%;
      box-sizing: border-box;
      align-items: center;
      background-color: var(--affine-background-modal-color);
      justify-content: center;
      display: flex;
    }

    .modal-window {
      width: 70%;
      min-width: 500px;
      height: 80%;
      overflow-y: scroll;
      background-color: var(--affine-background-overlay-panel-color);
      border-radius: 12px;
      box-shadow: var(--affine-shadow-3);
      position: relative;
    }

    .modal-main {
      height: 100%;
    }

    .modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: 20px;
      padding: 24px;
      position: absolute;
      box-sizing: border-box;
      bottom: 0;
      right: 0;
    }

    .modal-footer .button {
      align-items: center;
      background: var(--affine-white);
      border: 1px solid;
      border-color: var(--affine-border-color);
      border-radius: 8px;
      color: var(--affine-text-primary-color);
      cursor: pointer;
      display: inline-flex;
      font-size: var(--affine-font-sm);
      font-weight: 500;
      justify-content: center;
      outline: 0;
      padding: 12px 18px;
      touch-action: manipulation;
      transition: all 0.3s;
      user-select: none;
    }

    .modal-footer .primary {
      background: var(--affine-primary-color);
      border-color: var(--affine-black-10);
      box-shadow: var(--affine-button-inner-shadow);
      color: var(--affine-pure-white);
    }
  `}close(){this.remove()}modalRef(e){e&&this.onOpen?.(e)}render(){let{options:e}=this;return(0,H.qy)`<div class="modal-background">
      <div class="modal-window">
        <div class="modal-main" ${(0,lB.K)(this.modalRef)}></div>
        <div class="modal-footer">
          ${e.footer?(0,D.u)(e.footer,e=>e.text,e=>(0,H.qy)`
                  <button
                    class="button ${e.type??""}"
                    @click=${e.onClick}
                  >
                    ${e.text}
                  </button>
                `):H.s6}
        </div>
      </div>
    </div>`}static{SN(t,s)}},t})();var SU=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},SW=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let SG="affine-modal-widget";(()=>{let e,t,i=[(0,L.EM)(SG)],s=[],o=P.W;(class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;SU(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),SW(t,s)}open(e){return function(e,t=document.body){let i=new Sq;return i.onOpen=e.entry,i.options=e,t.append(i),i}(e,this.ownerDocument.body)}render(){return H.s6}})})();var SY=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},SK=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let SX="affine-page-dragging-area-widget";function SQ(e,t){return e.left<t.left+t.width&&e.left+e.width>t.left&&e.top<t.top+t.height&&e.top+e.height>t.top}(()=>{let e,t,i=[(0,L.EM)(SX)],s=[],o=P.W,r=[],a=[];var n=class extends o{static{t=this}static{let l="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;SY(this,null,[(0,L.wk)()],{kind:"accessor",name:"rect",static:!1,private:!1,access:{has:e=>"rect"in e,get:e=>e.rect,set:(e,t)=>{e.rect=t}},metadata:l},r,a),SY(null,e={value:t},i,{kind:"class",name:t.name,metadata:l},null,s),n=t=e.value,l&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l})}static{this.excludeFlavours=["affine:note","affine:surface"]}get _allBlocksWithRect(){if(!this._viewport)return[];let{scrollLeft:e,scrollTop:t}=this._viewport;return(()=>{let e=[];return this.host.view.walkThrough(t=>{if(!(t instanceof P.p_))return!0;"root"===t.model.role||n.excludeFlavours.includes(t.model.flavour)||e.push(t)}),e})().map(i=>{let s=i.getBoundingClientRect();return{element:i,rect:{left:s.left+e,top:s.top+t,width:s.width,height:s.height}}})}_clearRaf(){this._rafID&&(cancelAnimationFrame(this._rafID),this._rafID=0)}_selectBlocksByRect(e){let t=(function(e,t){let i=function(e,t){let i=[];for(let s of e){let e=s.rect;if(t.top+t.height<e.top)break;i.push(s)}return i}(e,t),s=i.length,o=[],r=null,a=[];if(0===s)return o;for(let e of i){let i=e.rect;SQ(t,i)&&i.top<=t.top&&i.top+i.height>=t.top+t.height&&(r=e)}if(r)a=function(e,t,i){let s=e.element,o=[e];if(s.childElementCount>0){let e=s.childBlocks.map(e=>i.find(t=>t.element.model.id===e.model.id)).filter(e=>e),r=e.findIndex(e=>SQ(e.rect,t)&&e.rect.top<t.top),a=e.findIndex(e=>SQ(e.rect,t)&&e.rect.top+e.rect.height>t.top+t.height);-1!==r&&-1!==a&&(o=e.slice(r,a+1))}return o}(r,t,i);else for(let e of i)SQ(t,e.rect)&&a.push(e);for(let e=0;e<a.length;e++){let t=a[e],i=a[e].element.doc.getParent(t.element.model),s=i?.id;s&&!a.some(e=>e.element.model.id===s)&&o.push(a[e].element.blockId)}return o})(this._allBlocksWithRect,e).map(e=>this.host.selection.create("block",{blockId:e}));this.host.selection.setGroup("note",t)}get _viewport(){let e=this.block;if(e)return e.viewport}get scrollContainer(){return h7(this.block)}connectedCallback(){super.connectedCallback(),this.handleEvent("dragStart",e=>{let t=e.get("pointerState"),{button:i}=t.raw;if(0===i&&function(e){let t=e.raw.target;(0,V.nn)(t,Element);let i=t.closest(`[${fA.u_}]`);return i&&(0,iS.o)(i.model,["affine:page","affine:note"])}(t)){if(!this._viewport)return;this._dragging=!0;let{scrollLeft:e,scrollTop:i}=this._viewport;return this._initialScrollOffset={left:e,top:i},this._initialContainerOffset={x:t.containerOffset.x,y:t.containerOffset.y},!0}},{global:!0}),this.handleEvent("dragMove",e=>{if(this._clearRaf(),!this._dragging)return;let t=e.get("pointerState");if("touch"!==t.raw.pointerType)return e.get("defaultState").event.preventDefault(),this._rafID=requestAnimationFrame(()=>{this._updateDraggingArea(t,!0)}),!0},{global:!0}),this.handleEvent("dragEnd",()=>{this._clearRaf(),this._dragging=!1,this.rect=null,this._initialScrollOffset={top:0,left:0},this._initialContainerOffset={x:0,y:0},this._lastPointerState=null},{global:!0}),this.handleEvent("pointerMove",e=>{this._dragging&&e.get("pointerState").raw.preventDefault()},{global:!0})}disconnectedCallback(){this._clearRaf(),this._disposables.dispose(),super.disconnectedCallback()}firstUpdated(){this._disposables.addFromEvent(this.scrollContainer,"scroll",()=>{if(!this._dragging||!this._lastPointerState)return;let e=this._lastPointerState;this._rafID=requestAnimationFrame(()=>{this._updateDraggingArea(e,!1)})})}render(){let e=this.rect;if(!e)return H.s6;let t={left:e.left+"px",top:e.top+"px",width:e.width+"px",height:e.height+"px"};return(0,H.qy)`
      <style>
        .affine-page-dragging-area {
          position: absolute;
          background: var(--affine-hover-color);
          z-index: 1;
          pointer-events: none;
        }
      </style>
      <div class="affine-page-dragging-area" style=${(0,Z.W)(t)}></div>
    `}#ej;get rect(){return this.#ej}set rect(e){this.#ej=e}constructor(){super(...arguments),this._dragging=!1,this._initialContainerOffset={x:0,y:0},this._initialScrollOffset={top:0,left:0},this._lastPointerState=null,this._rafID=0,this._updateDraggingArea=(e,t)=>{let{x:i,y:s}=e,{x:o,y:r}=e.start,{left:a,top:n}=this._initialScrollOffset;if(!this._viewport)return;let{scrollLeft:l,scrollTop:c,scrollWidth:d,scrollHeight:h}=this._viewport,{x:u,y:p}=this._initialContainerOffset,{x:f,y:g}=e.containerOffset,{left:m,top:v}=this._viewport,y=Math.min(o+a+u-m,i+l+f-m),b=Math.max(o+a+u-m,i+l+f-m),w=Math.min(r+n+p-v,s+c+g-v),x=Math.max(r+n+p-v,s+c+g-v);y=Math.max(y,f-m),b=Math.min(b,d);let _={left:y,top:w=Math.max(w,g-v),width:b-y,height:(x=Math.min(x,h))-w};if(this.rect=_,this._selectBlocksByRect({left:_.left+m,top:_.top+v,width:_.width,height:_.height}),this._lastPointerState=e,t){let t=this.scrollContainer.getBoundingClientRect();if(!vf(this.scrollContainer,e.raw.y-t.top)){this._clearRaf();return}}},this.#ej=SK(this,r,null),SK(this,a)}static{SK(t,s)}};return n=t})();let SJ=(e,t)=>{let[i,s,o,r]=t,a=Math.min(.1*o,.1*r);e.moveTo(i+a,s),e.arcTo(i+o,s,i+o,s+r,a),e.arcTo(i+o,s+r,i,s+r,a),e.arcTo(i,s+r,i,s,a),e.arcTo(i,s,i+o,s,a)},S1=(e,t,i,s)=>{e.setLineDash(s.strokeLineDash??[]),e.strokeStyle=s.stroke??"transparent",e.lineWidth=s.strokeWidth??2,e.fillStyle=s.fill??"transparent",e.beginPath();let o=m.z.fromXYWH(i);switch(t){case"rect":b.e2.rect.draw(e,o);break;case"triangle":b.e2.triangle.draw(e,o);break;case"diamond":b.e2.diamond.draw(e,o);break;case"ellipse":b.e2.ellipse.draw(e,o);break;case"roundedRect":SJ(e,i);break;default:throw Error(`Unknown shape type: ${t}`)}e.closePath(),e.fill(),e.stroke()};class S0{constructor(e,t,i,s){this.xywh=e,this.type=t,this.options=i,this.shapeStyle=s}}class S2 extends S0{draw(e,t){if("Scribbled"===this.shapeStyle){let[e,i,s,o]=this.xywh;t.rectangle(e,i,s,o,this.options)}else S1(e,"rect",this.xywh,this.options)}}class S5 extends S0{draw(e,t){if("Scribbled"===this.shapeStyle){let[e,i,s,o]=this.xywh;t.polygon([[e+s/2,i],[e,i+o],[e+s,i+o]],this.options)}else S1(e,"triangle",this.xywh,this.options)}}class S7 extends S0{draw(e,t){if("Scribbled"===this.shapeStyle){let[e,i,s,o]=this.xywh;t.polygon([[e+s/2,i],[e+s,i+o/2],[e+s/2,i+o],[e,i+o/2]],this.options)}else S1(e,"diamond",this.xywh,this.options)}}class S3 extends S0{draw(e,t){if("Scribbled"===this.shapeStyle){let[e,i,s,o]=this.xywh;t.ellipse(e+s/2,i+o/2,s,o,this.options)}else S1(e,"ellipse",this.xywh,this.options)}}class S4 extends S0{draw(e,t){if("Scribbled"===this.shapeStyle){let[e,i,s,o]=this.xywh,r=Math.min(.1*s,.1*o),a=e+r,n=e+s-r,l=i+r,c=i+o-r,d=`
          M${a},${i} L${n},${i}
          A${r},${r} 0 0 1 ${n},${l}
          L${n},${c}
          A${r},${r} 0 0 1 ${n-r},${c}
          L${a+r},${c}
          A${r},${r} 0 0 1 ${a},${c-r}
          L${a},${l}
          A${r},${r} 0 0 1 ${a+r},${i}
        `;t.path(d,this.options)}else S1(e,"roundedRect",this.xywh,this.options)}}class S6{static createShape(e,t,i,s){switch(t){case"rect":return new S2(e,t,i,s);case"triangle":return new S5(e,t,i,s);case"diamond":return new S7(e,t,i,s);case"ellipse":return new S3(e,t,i,s);case"roundedRect":return new S4(e,t,i,s);default:throw Error(`Unknown shape type: ${t}`)}}}class S8 extends _.h{constructor(e){super(),this.x=0,this.y=0,this.globalAlpha=0,this.edgeless=e,this.disposables=new ix.K,this.disposables.add(this.edgeless.service.viewport.viewportUpdated.on(()=>{let e=this.edgeless.tools.lastMousePos.x,t=this.edgeless.tools.lastMousePos.y,[i,s]=this.edgeless.service.viewport.toModelCoord(e,t);this.x=i,this.y=s}))}dispose(){this.disposables.dispose()}render(e,t){(0,A.lQ)()}}class S9 extends S8{constructor(e,t,i,s){super(e);let o=[this.x,this.y,100,100],{shapeStyle:r,fillColor:a,strokeColor:n}=s,l=im.Q.getColorValue(a,O.SO,!0),c=im.Q.getColorValue(n,O.vt,!0);i.fill=l,i.stroke=c,this.shape=S6.createShape(o,t,i,r),this.disposables.add(this.edgeless.slots.edgelessToolUpdated.on(e=>{if("shape"!==e.type)return;let t=e.shapeType,s={...i},{x:o,y:a}=this;("roundedRect"===t||"rect"===t)&&(o+=6,a+=6);let n=[o,a,"roundedRect"===t?140:100,100];this.shape=S6.createShape(n,t,s,r),this.edgeless.surface.refresh()}))}render(e,t){e.globalAlpha=this.globalAlpha;let{x:i,y:s}=this,{type:o}=this.shape;("roundedRect"===o||"rect"===o)&&(i+=6,s+=6);let r=[i,s,"roundedRect"===o?140:100,100];this.shape.xywh=r,this.shape.draw(e,t)}}class Me extends S8{constructor(e,t){super(e),this.backgroundColor="transparent",this.text="",this.globalAlpha=0,this.backgroundColor=im.Q.getColorValue(t,fv.KI,!0),this.disposables.add(this.edgeless.slots.edgelessToolUpdated.on(e=>{"affine:note"===e.type&&(this.text=this._getOverlayText(e.tip),this.edgeless.surface.refresh())}))}_getOverlayText(e){return e[0].toUpperCase()+e.slice(1)}render(e){e.globalAlpha=this.globalAlpha;let t=this.x+6,i=this.y+6;e.strokeStyle=im.Q.getPropertyValue("--affine-border-color"),e.fillStyle=this.backgroundColor,e.lineWidth=4,e.beginPath(),e.moveTo(t+6,i),e.lineTo(t+100-6,i),e.quadraticCurveTo(t+100,i,t+100,i+6),e.lineTo(t+100,i+50-6),e.quadraticCurveTo(t+100,i+50,t+100-6,i+50),e.lineTo(t+6,i+50),e.quadraticCurveTo(t,i+50,t,i+50-6),e.lineTo(t,i+6),e.quadraticCurveTo(t,i,t+6,i),e.closePath(),e.stroke(),e.fill(),e.fillStyle=im.Q.getPropertyValue("--affine-icon-color");let s=16;for(e.font=`${s}px Arial`,e.textAlign="left",e.textBaseline="middle";e.measureText(this.text).width>80;)s-=1,e.font=`${s}px Arial`;e.fillText(this.text,t+10,i+25)}}class Mt extends Me{constructor(e,t){super(e,t),this.slots={draggingNoteUpdated:new i_.D},this.width=0,this.height=0,this.disposables.add(this.slots.draggingNoteUpdated.on(({xywh:e})=>{[this.x,this.y,this.width,this.height]=e,this.edgeless.surface.refresh()}))}render(e){e.globalAlpha=.8,e.fillStyle=this.backgroundColor,e.strokeStyle="rgba(0, 0, 0, 0.10)",e.lineWidth=2,e.beginPath(),e.roundRect(this.x,this.y,this.width,this.height,4),e.closePath(),e.fill(),e.stroke()}}!function(e){e[e.Right=0]="Right",e[e.Bottom=1]="Bottom",e[e.Left=2]="Left",e[e.Top=3]="Top"}(c||(c={}));class Mi extends _.h{constructor(e){super(),this.xywh=e}render(e,t){}}class Ms extends Mi{constructor(e){super(e)}render(e,t){let[i,s,o,r]=this.xywh;e.globalAlpha=.4,e.strokeStyle="#1e96eb",e.lineWidth=1,e.strokeRect(i,s,o,r),e.font="15px sans-serif",e.fillStyle="#C0BFC1",e.textAlign="center",e.textBaseline="middle",e.fillText("Type '/' to insert",i+o/2,s+r/2)}}class Mo extends Mi{constructor(e,t){super(e),this._background=t}render(e,t){let[i,s,o,r]=this.xywh;e.globalAlpha=.4,e.fillStyle=this._background,e.strokeStyle="rgba(0, 0, 0, 0.10)",e.lineWidth=2,e.beginPath(),e.roundRect(i,s,o,r,8),e.closePath(),e.fill(),e.stroke(),e.font="15px sans-serif",e.fillStyle="black",e.textAlign="left",e.textBaseline="middle",e.fillText("Type '/' for command",i+24,s+r/2)}}class Mr extends Mi{constructor(e,t){super(e),this._strokeColor=t}render(e,t){let[i,s,o,r]=this.xywh,a=s-30-10;e.globalAlpha=.4,e.fillStyle="rgba(0, 0, 0, 0.8)",e.beginPath(),e.roundRect(i,a,72,30,4),e.closePath(),e.fill(),e.globalAlpha=1,e.font="14px sans-serif",e.fillStyle="white",e.textAlign="center",e.textBaseline="middle",e.fillText("Frame",i+36,a+15),e.globalAlpha=.4,e.strokeStyle=this._strokeColor,e.lineWidth=2,e.beginPath(),e.roundRect(i,s,o,r,8),e.closePath(),e.stroke()}}class Ma extends _.h{constructor(e,t,i,s){super(),this._shape=S6.createShape(e,t,i,s)}render(e,t){e.globalAlpha=.4,this._shape.draw(e,t)}}function Mn(e){let t,i;switch(e){case c.Right:t=[1,.5],i=[0,.5];break;case c.Bottom:t=[.5,1],i=[.5,0];break;case c.Left:t=[0,.5],i=[1,.5];break;case c.Top:t=[.5,0],i=[.5,1]}return{startPosition:t,endPosition:i}}function Ml(e){return e instanceof E.B5}var Mc=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Md=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("affine-surface")],s=[],o=P.p_,r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;Mc(this,null,[(0,L.P)(".affine-edgeless-surface-block-container")],{kind:"accessor",name:"_surfaceContainer",static:!1,private:!1,access:{has:e=>"_surfaceContainer"in e,get:e=>e._surfaceContainer,set:(e,t)=>{e._surfaceContainer=t}},metadata:n},r,a),Mc(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.isConnector=e=>e instanceof E.lw}static{this.isShape=Ml}static{this.styles=(0,H.AH)`
    .affine-edgeless-surface-block-container {
      width: 100%;
      height: 100%;
    }

    .affine-edgeless-surface-block-container canvas {
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      position: absolute;
      z-index: 1;
      pointer-events: none;
      transform-origin: 0 0;
      transform: var(--canvas-transform);
    }

    edgeless-block-portal-container {
      position: relative;
      box-sizing: border-box;
      overflow: hidden;
      display: block;
      height: 100%;
      font-family: var(--affine-font-family);
      font-size: var(--affine-font-base);
      line-height: var(--affine-line-height);
      color: var(--affine-text-primary-color);
      font-weight: 400;
    }

    .affine-block-children-container.edgeless {
      padding-left: 0;
      position: relative;
      overflow: hidden;
      height: 100%;
      /**
       * Fix: pointerEvent stops firing after a short time.
       * When a gesture is started, the browser intersects the touch-action values of the touched element and its ancestors,
       * up to the one that implements the gesture (in other words, the first containing scrolling element)
       * https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action
       */
      touch-action: none;
      background-color: var(--affine-background-primary-color);
      background-image: radial-gradient(
        var(--affine-edgeless-grid-color) 1px,
        var(--affine-background-primary-color) 1px
      );
      z-index: 0;
    }

    .affine-edgeless-block-child {
      position: absolute;
      transform-origin: center;
      box-sizing: border-box;
      border: 2px solid var(--affine-white-10);
      border-radius: 8px;
      box-shadow: var(--affine-shadow-3);
      pointer-events: all;
    }
  `}_getReversedTransform(){let{translateX:e,translateY:t,zoom:i}=this.edgeless.service.viewport;return`scale(${1/i}) translate(${-e}px, ${-t}px)`}_initOverlay(){this.overlays={connector:new gE.TG(this.edgeless.service),frame:new xp},(0,ik.zu)(this.overlays).forEach(e=>{this._renderer.addOverlay(e)})}_initRenderer(){let e=this.edgeless.service;this._renderer=new _.A({viewport:e.viewport,layerManager:e.layer,enableStackingCanvas:!0,provider:{generateColorProperty:(e,t)=>im.Q.generateColorProperty(e,t),getColorValue:(e,t,i)=>im.Q.getColorValue(e,t,i),getColorScheme:()=>im.Q.mode,getPropertyValue:e=>im.Q.getPropertyValue(e),selectedElements:()=>e.selection.selectedIds},onStackingCanvasCreated(e){e.className="indexable-canvas"}}),this._disposables.add(this.model.elementUpdated.on(e=>{e.props.externalXYWH||this._renderer.refresh()})),this._disposables.add(this.model.elementAdded.on(()=>{this._renderer.refresh()})),this._disposables.add(this.model.elementRemoved.on(()=>{this._renderer.refresh()})),this._disposables.add(()=>{this._renderer.dispose()}),this._disposables.add(this._renderer.stackingCanvasUpdated.on(e=>{e.added.length&&this._surfaceContainer.append(...e.added),e.removed.length&&e.removed.forEach(e=>{e.remove()})})),this._disposables.add(e.selection.slots.updated.on(()=>{this._renderer.refresh()}))}connectedCallback(){super.connectedCallback(),this.setAttribute(P.vz.rangeSyncExcludeAttr,"true"),this._initThemeObserver(),this._initRenderer(),this._initOverlay()}firstUpdated(){this._renderer.attach(this._surfaceContainer),this._surfaceContainer.append(...this._renderer.stackingCanvas),this._initCanvasTransform()}render(){return(0,H.qy)`
      <div class="affine-edgeless-surface-block-container">
        <!-- attach canvas later in renderer -->
      </div>
    `}get edgeless(){return this.parentBlock}get renderer(){return this._renderer}#ad;get _surfaceContainer(){return this.#ad}set _surfaceContainer(e){this.#ad=e}constructor(){super(...arguments),this._cachedViewport=new m.z,this._initCanvasTransform=()=>{let e=()=>{this._surfaceContainer.style.setProperty("--canvas-transform",this._getReversedTransform())};this._disposables.add(this.edgeless.service.viewport.viewportUpdated.on(()=>{e()})),e()},this._initThemeObserver=()=>{this.disposables.add(im.Q.subscribe(()=>this.requestUpdate()))},this._lastTime=0,this.fitToViewport=e=>{let{viewport:t}=this.edgeless.service;e=e.expand(30),Date.now()-this._lastTime>200&&(this._cachedViewport=t.viewportBounds),this._lastTime=Date.now(),this._cachedViewport.contains(e)||(this._cachedViewport=this._cachedViewport.unite(e),t.setViewportByBound(this._cachedViewport,[0,0,0,0],!0))},this.refresh=()=>{this._renderer?.refresh()},this.#ad=Md(this,r,void 0),Md(this,a)}static{Md(t,s)}})})();var Mh=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Mu=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let Mp=(0,H.AH)`
  :host {
    display: flex;
  }

  .note-slicer-container {
    display: flex;
  }

  .note-slicer-button {
    position: absolute;
    top: 0;
    right: 0;
    display: flex;
    box-sizing: border-box;
    border-radius: 4px;
    justify-content: center;
    align-items: center;
    color: var(--affine-icon-color);
    border: 1px solid var(--affine-border-color);
    background-color: var(--affine-background-overlay-panel-color);
    box-shadow: var(--affine-menu-shadow);
    cursor: pointer;
    width: 24px;
    height: 24px;
    transform-origin: left top;
    z-index: var(--affine-z-index-popover);
    opacity: 0;
    transition: opacity 150ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }

  .note-slicer-dividing-line-container {
    display: flex;
    align-items: center;
    position: absolute;
    left: 0;
    top: 0;
    height: 4px;
    cursor: pointer;
  }

  .note-slicer-dividing-line {
    display: block;
    height: 1px;
    width: 100%;
    z-index: var(--affine-z-index-popover);
    background-image: linear-gradient(
      to right,
      var(--affine-black-10) 50%,
      transparent 50%
    );
    background-size: 4px 100%;
  }
  .note-slicer-dividing-line-container.active .note-slicer-dividing-line {
    background-image: linear-gradient(
      to right,
      var(--affine-black-60) 50%,
      transparent 50%
    );
    animation: slide 0.3s linear infinite;
  }
  @keyframes slide {
    0% {
      background-position: 0 0;
    }
    100% {
      background-position: -4px 0;
    }
  }
`;(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("note-slicer")],n=[],l=(0,P.Tm)(H.WF),c=[],d=[],h=[],u=[],p=[],m=[],v=[],y=[];(class extends l{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.wk)()],r=[(0,L.MZ)({attribute:!1})],Mh(this,null,i,{kind:"accessor",name:"_activeSlicerIndex",static:!1,private:!1,access:{has:e=>"_activeSlicerIndex"in e,get:e=>e._activeSlicerIndex,set:(e,t)=>{e._activeSlicerIndex=t}},metadata:f},c,d),Mh(this,null,s,{kind:"accessor",name:"_anchorNote",static:!1,private:!1,access:{has:e=>"_anchorNote"in e,get:e=>e._anchorNote,set:(e,t)=>{e._anchorNote=t}},metadata:f},h,u),Mh(this,null,o,{kind:"accessor",name:"_enableNoteSlicer",static:!1,private:!1,access:{has:e=>"_enableNoteSlicer"in e,get:e=>e._enableNoteSlicer,set:(e,t)=>{e._enableNoteSlicer=t}},metadata:f},p,m),Mh(this,null,r,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:f},v,y),Mh(null,e={value:t},a,{kind:"class",name:t.name,metadata:f},null,n),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=Mp}get _editorHost(){return this.edgeless.host}get _noteBlock(){return this._editorHost&&this._editorHost.view.viewFromPath("block",(0,st.UL)(this._anchorNote))||null}get _selection(){return this.edgeless.service.selection}_sliceNote(){if(!this._anchorNote||!this._noteBlockIds.length)return;let e=this.edgeless.doc,{index:t,xywh:i,background:s,children:o,displayMode:r}=this._anchorNote,{collapse:a,collapsedHeight:n,...l}=this._anchorNote.edgeless,c=this._noteBlockIds[this._activeSlicerIndex];if(!c)return;let d=o.findIndex(e=>e.id===c),h=o.slice(d+1),[u,,p]=(0,f.W)(i),g=this._divingLinePositions[this._activeSlicerIndex].y,m=this.edgeless.service.viewport.toModelCoord(u,g)[1],v=this.edgeless.service.addBlock("affine:note",{background:s,displayMode:r,xywh:(0,f.P)(u,m+40,p,72),index:t+1,edgeless:l},e.root?.id);e.moveBlocks(h,e.getBlockById(v)),this._activeSlicerIndex=0,this._selection.set({elements:[v],editing:!1}),this.edgeless.service.telemetryService?.track("SplitNote",{control:"NoteSlicer"})}_updateActiveSlicerIndex(e){let{_divingLinePositions:t}=this,i=e.y+4*this._zoom,s=-1;for(let e=0;e<t.length&&!(i<(t[e].y+(e>0?t[e-1].y:0))/2);e++)s++;s<0&&(s=0),this._activeSlicerIndex=s}_updateDivingLineAndBlockIds(){if(!this._anchorNote||!this._noteBlock){this._divingLinePositions=[],this._noteBlockIds=[];return}let e=[],t=[],i=this._noteBlock.getBoundingClientRect(),s=i.top,o=i.bottom;for(let i=0;i<this._anchorNote.children.length-1;i++){let r=this._anchorNote.children[i],a=this.edgeless.host.view.viewFromPath("block",st.UL(r))?.getBoundingClientRect();if(a&&a.bottom>s&&a.bottom<o){let i=a.x-this._viewportOffset.left,s=a.bottom+4*this._zoom-this._viewportOffset.top;e.push(new g.b(i,s)),t.push(r.id)}}this._divingLinePositions=e,this._noteBlockIds=t}_updateSlicedNote(){let{edgeless:e}=this,{selectedElements:t}=e.service.selection;!e.service.selection.editing&&1===t.length&&gT(t[0])?this._anchorNote=t[0]:this._anchorNote=null}get _viewportOffset(){let{viewport:e}=this.edgeless;return{left:e.left??0,top:e.top??0}}get _zoom(){return this.edgeless.service?.viewport?this.edgeless.service.viewport.zoom:(console.error("Viewport is not found, something went wrong."),1)}connectedCallback(){super.connectedCallback();let{disposables:e,edgeless:t}=this;if(!t.service)return;this._updateDivingLineAndBlockIds(),e.add(t.service.uiEventDispatcher.add("pointerMove",e=>{this._hidden&&(this._hidden=!1);let t=e.get("pointerState"),i=new g.b(t.x,t.y);this._updateActiveSlicerIndex(i)})),e.add(t.service.viewport.viewportUpdated.on(()=>{this._hidden=!0,this.requestUpdate()})),e.add(t.service.selection.slots.updated.on(()=>{this._enableNoteSlicer=!1,this._updateSlicedNote(),this.selectedRectEle&&(this.selectedRectEle.autoCompleteOff=!1)})),e.add(t.slots.toggleNoteSlicer.on(()=>{this._enableNoteSlicer=!this._enableNoteSlicer,this.selectedRectEle&&this._enableNoteSlicer&&(this.selectedRectEle.autoCompleteOff=!0)}));let{surface:i}=this.edgeless;requestAnimationFrame(()=>{i.isConnected&&i.edgeless.dispatcher&&e.add(i.edgeless.dispatcher.add("click",e=>{let{raw:t}=e.get("pointerState"),i=t.target;return!!i&&!!i.closest("note-slicer")&&(this._sliceNote(),!0)}))})}disconnectedCallback(){super.disconnectedCallback(),this.disposables.dispose(),this._noteDisposables?.dispose(),this._noteDisposables=null}firstUpdated(){this.edgeless.service&&this.disposables.add(this.edgeless.service.uiEventDispatcher.add("wheel",()=>{this._hidden=!0,this.requestUpdate()}))}render(){if(this.edgeless.doc.readonly||this._hidden||!this._anchorNote||!this._enableNoteSlicer)return H.s6;this._updateDivingLineAndBlockIds();let e=this._noteBlock;if(!e||!this._divingLinePositions.length)return H.s6;let t=(0,st.wH)(e).width,i=this._divingLinePositions[this._activeSlicerIndex];return(0,H.qy)`<div class="note-slicer-container">
      <div
        class="note-slicer-button"
        style=${(0,Z.W)({left:`${i.x-66*this._zoom}px`,top:`${i.y}px`,opacity:1,scale:`${this._zoom}`,transform:"translateY(-50%)"})}
      >
        ${tu}
      </div>
      ${this._divingLinePositions.map((e,i)=>{let s=(0,oJ.H)({"note-slicer-dividing-line-container":!0,active:i===this._activeSlicerIndex});return(0,H.qy)`<div
          class=${s}
          style=${(0,Z.W)({left:`${e.x}px`,top:`${e.y}px`,width:`${t}px`})}
        >
          <span class="note-slicer-dividing-line"></span>
        </div>`})}
    </div> `}updated(e){super.updated(e),e.has("anchorNote")&&(this._noteDisposables?.dispose(),this._noteDisposables=null,this._anchorNote&&(this._noteDisposables=new ix.K,this._noteDisposables.add(this._anchorNote.propsUpdated.on(({key:e})=>{("children"===e||"xywh"===e)&&this.requestUpdate()}))))}get selectedRectEle(){return this.edgeless.querySelector("edgeless-selected-rect")}#ah;get _activeSlicerIndex(){return this.#ah}set _activeSlicerIndex(e){this.#ah=e}#au;get _anchorNote(){return this.#au}set _anchorNote(e){this.#au=e}#ap;get _enableNoteSlicer(){return this.#ap}set _enableNoteSlicer(e){this.#ap=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}constructor(){super(...arguments),this._divingLinePositions=[],this._hidden=!1,this._noteBlockIds=[],this._noteDisposables=null,this.#ah=Mu(this,c,0),this.#au=(Mu(this,d),Mu(this,h,null)),this.#ap=(Mu(this,u),Mu(this,p,!1)),this.#iE=(Mu(this,m),Mu(this,v,void 0)),Mu(this,y)}static{Mu(t,n)}})})();var Mf=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Mg=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,L.EM)("edgeless-navigator-black-background")],a=[],n=(0,P.Tm)(H.WF),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.wk)()],o=[(0,L.wk)()],Mf(this,null,i,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:f},l,c),Mf(this,null,s,{kind:"accessor",name:"frame",static:!1,private:!1,access:{has:e=>"frame"in e,get:e=>e.frame,set:(e,t)=>{e.frame=t}},metadata:f},d,h),Mf(this,null,o,{kind:"accessor",name:"show",static:!1,private:!1,access:{has:e=>"show"in e,get:e=>e.show,set:(e,t)=>{e.show=t}},metadata:f},u,p),Mf(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    .edgeless-navigator-black-background {
      background-color: black;
      position: absolute;
      z-index: 1;
      background-color: transparent;
      box-shadow: 0 0 0 5000px black;
    }
  `}_tryLoadBlackBackground(){let e=this.edgeless.service.editPropsStore.getStorage("presentBlackBackground");this._blackBackground=e??!0}firstUpdated(){let{_disposables:e,edgeless:t}=this;e.add(t.slots.navigatorFrameChanged.on(e=>{this.frame=e})),e.add(t.slots.navigatorSettingUpdated.on(({blackBackground:e})=>{void 0!==e&&(this.edgeless.service.editPropsStore.setStorage("presentBlackBackground",e),this._blackBackground=e,this.show=e&&"frameNavigator"===t.edgelessTool.type)})),e.add(t.slots.edgelessToolUpdated.on(e=>{"frameNavigator"!==e.type?this.show=!1:this.show=this._blackBackground})),e.add(t.slots.fullScreenToggled.on(()=>setTimeout(()=>{this.requestUpdate()},500))),this._tryLoadBlackBackground()}render(){let{edgeless:e,frame:t,show:i}=this;if(!i||!t)return H.s6;let s=m.z.deserialize(t.xywh),o=e.service.viewport.zoom,r=s.w*o,a=s.h*o,[n,l]=e.service.viewport.toViewCoord(s.x,s.y);return(0,H.qy)` <style>
        .edgeless-navigator-black-background {
          width: ${r}px;
          height: ${a}px;
          top: ${l}px;
          left: ${n}px;
        }
      </style>
      <div class="edgeless-navigator-black-background"></div>`}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#af;get frame(){return this.#af}set frame(e){this.#af=e}#ag;get show(){return this.#ag}set show(e){this.#ag=e}constructor(){super(...arguments),this._blackBackground=!1,this.#iE=Mg(this,l,void 0),this.#af=(Mg(this,c),Mg(this,d,void 0)),this.#ag=(Mg(this,h),Mg(this,u,!1)),Mg(this,p)}static{Mg(t,a)}})})();var Mm=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Mv=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("edgeless-dragging-area-rect")],s=[],o=(0,P.Tm)(H.WF),r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;Mm(this,null,[(0,L.MZ)({attribute:!1})],{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:n},r,a),Mm(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    .affine-edgeless-dragging-area {
      position: absolute;
      background: var(--affine-hover-color);
      z-index: 1;
      pointer-events: none;
    }
  `}firstUpdated(){this._disposables.add(this.edgeless.slots.draggingAreaUpdated.on(()=>this.requestUpdate()))}render(){let e=this.edgeless.tools.draggingArea;if(null===e)return H.s6;let t={left:e.left+"px",top:e.top+"px",width:e.width+"px",height:e.height+"px"};return(0,H.qy)`
      <div class="affine-edgeless-dragging-area" style=${(0,Z.W)(t)}></div>
    `}#iE=Mv(this,r,void 0);get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}constructor(){super(...arguments),Mv(this,a)}static{Mv(t,s)}})})();let My=(0,H.AH)`
  .affine-embed-html-block {
    margin: 0 auto;
    box-sizing: border-box;
    width: 100%;
    height: 100%;
    display: flex;
    padding: 12px;
    flex-direction: column;
    align-items: flex-start;
    gap: 20px;

    border-radius: 12px;
    border: 1px solid var(--affine-background-tertiary-color);

    opacity: var(--add, 1);
    background: var(--affine-background-primary-color);
    user-select: none;
  }

  .affine-embed-html {
    width: 100%;
    height: calc(100% - 20px - 22px);
    opacity: var(--add, 1);
  }

  .affine-embed-html img,
  .affine-embed-html object,
  .affine-embed-html svg {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 4px 4px var(--1, 0px) var(--1, 0px);
  }

  .affine-embed-html-iframe-container {
    position: relative;
    width: 100%;
    height: 100%;
    border-radius: 4px 4px 0px 0px;
    box-shadow: var(--affine-shadow-1);
    overflow: hidden;
  }

  .embed-html-block-iframe-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .embed-html-block-iframe-wrapper > iframe {
    width: 100%;
    height: 100%;
    border: none;
  }

  .embed-html-block-iframe-wrapper affine-menu {
    min-width: 296px;
  }

  .embed-html-block-iframe-wrapper affine-menu .settings-header {
    padding: 7px 12px;
    font-weight: 500;
    font-size: var(--affine-font-xs);
    color: var(--affine-text-secondary-color);
  }

  .embed-html-block-iframe-wrapper > embed-html-fullscreen-toolbar {
    visibility: hidden;
  }

  .embed-html-block-iframe-wrapper:fullscreen > embed-html-fullscreen-toolbar {
    visibility: visible;
  }

  .affine-embed-html-iframe-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .affine-embed-html-iframe-overlay.hide {
    display: none;
  }

  .affine-embed-html-title {
    display: flex;
    align-items: center;
    gap: 8px;

    padding: var(--1, 0px);
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
  }

  .affine-embed-html-title-icon {
    display: flex;
    width: 20px;
    height: 20px;
    justify-content: center;
    align-items: center;
  }

  .affine-embed-html-title-icon img,
  .affine-embed-html-title-icon object,
  .affine-embed-html-title-icon svg {
    width: 20px;
    height: 20px;
    fill: var(--affine-background-primary-color);
  }

  .affine-embed-html-title-text {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;

    word-break: break-word;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-primary-color);

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-sm);
    font-style: normal;
    font-weight: 600;
    line-height: 22px;
  }
`,Mb=(0,H.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M6.66667 1.875C5.40101 1.875 4.375 2.90101 4.375 4.16667V6.66667C4.375 7.01184 4.65482 7.29167 5 7.29167C5.34518 7.29167 5.625 7.01184 5.625 6.66667V4.16667C5.625 3.59137 6.09137 3.125 6.66667 3.125H12.9349C13.2563 3.125 13.5598 3.27341 13.7571 3.52714L15.8222 6.18232C15.9645 6.36517 16.0417 6.5902 16.0417 6.82185V15C16.0417 15.5753 15.5753 16.0417 15 16.0417H6.66667C6.09137 16.0417 5.625 15.5753 5.625 15V13.75C5.625 13.4048 5.34518 13.125 5 13.125C4.65482 13.125 4.375 13.4048 4.375 13.75V15C4.375 16.2657 5.40101 17.2917 6.66667 17.2917H15C16.2657 17.2917 17.2917 16.2657 17.2917 15V6.82185C17.2917 6.31223 17.1218 5.81716 16.8089 5.4149L14.7438 2.75972C14.3096 2.2015 13.642 1.875 12.9349 1.875H6.66667ZM2.30713 11.4758C2.30713 11.7936 2.47945 11.9727 2.78158 11.9727C3.0837 11.9727 3.25602 11.7936 3.25602 11.4758V10.6679H4.3929V11.4758C4.3929 11.7936 4.56523 11.9727 4.86735 11.9727C5.16947 11.9727 5.3418 11.7936 5.3418 11.4758V9.12821C5.3418 8.81043 5.16947 8.63139 4.86735 8.63139C4.56523 8.63139 4.3929 8.81043 4.3929 9.12821V9.91374H3.25602V9.12821C3.25602 8.81043 3.0837 8.63139 2.78158 8.63139C2.47945 8.63139 2.30713 8.81043 2.30713 9.12821V11.4758ZM6.51672 11.4758C6.51672 11.7936 6.68905 11.9727 6.99117 11.9727C7.29329 11.9727 7.46562 11.7936 7.46562 11.4758V9.44377H7.9423C8.19295 9.44377 8.3608 9.30725 8.3608 9.06555C8.3608 8.82385 8.19743 8.68734 7.9423 8.68734H6.04004C5.78491 8.68734 5.62154 8.82385 5.62154 9.06555C5.62154 9.30725 5.78939 9.44377 6.04004 9.44377H6.51672V11.4758ZM9.05457 11.9727C8.79049 11.9727 8.64054 11.8138 8.64054 11.534V9.25354C8.64054 8.85518 8.85986 8.63139 9.25598 8.63139C9.58944 8.63139 9.76624 8.76343 9.90051 9.11479L10.46 10.5717H10.4779L11.0352 9.11479C11.1694 8.76343 11.3462 8.63139 11.6797 8.63139C12.0758 8.63139 12.2951 8.85518 12.2951 9.25354V11.534C12.2951 11.8138 12.1452 11.9727 11.8811 11.9727C11.617 11.9727 11.4671 11.8138 11.4671 11.534V10.0458H11.4492L10.8069 11.6638C10.742 11.8272 10.639 11.901 10.4712 11.901C10.3011 11.901 10.1914 11.825 10.1288 11.6638L9.48649 10.0458H9.46859V11.534C9.46859 11.8138 9.31864 11.9727 9.05457 11.9727ZM12.745 11.4199C12.745 11.7377 12.9173 11.9167 13.2194 11.9167H14.5868C14.8419 11.9167 15.0053 11.7802 15.0053 11.5385C15.0053 11.2968 14.8374 11.1603 14.5868 11.1603H13.6938V9.12821C13.6938 8.81043 13.5215 8.63139 13.2194 8.63139C12.9173 8.63139 12.745 8.81043 12.745 9.12821V11.4199Z"
    fill="#77757D"
  />
</svg> `;var Mw=i(14086),Mx=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},M_=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let MC=(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("edgeless-auto-complete-panel")],n=[],l=(0,P.Tm)(H.WF),d=[],h=[],u=[],p=[],g=[],y=[],b=[],w=[];return class extends l{static{t=this}static{let c="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],Mx(this,null,i,{kind:"accessor",name:"connector",static:!1,private:!1,access:{has:e=>"connector"in e,get:e=>e.connector,set:(e,t)=>{e.connector=t}},metadata:c},d,h),Mx(this,null,s,{kind:"accessor",name:"currentSource",static:!1,private:!1,access:{has:e=>"currentSource"in e,get:e=>e.currentSource,set:(e,t)=>{e.currentSource=t}},metadata:c},u,p),Mx(this,null,o,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:c},g,y),Mx(this,null,r,{kind:"accessor",name:"position",static:!1,private:!1,access:{has:e=>"position"in e,get:e=>e.position,set:(e,t)=>{e.position=t}},metadata:c},b,w),Mx(null,e={value:t},a,{kind:"class",name:t.name,metadata:c},null,n),t=e.value,c&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c})}static{this.styles=(0,H.AH)`
    .auto-complete-panel-container {
      position: absolute;
      display: flex;
      width: 136px;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
      padding: 8px 0;
      gap: 8px;
      border-radius: 8px;
      background: var(--affine-background-overlay-panel-color);
      box-shadow: var(--affine-shadow-2);
      z-index: 1;
    }

    .row-button {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 120px;
      height: 28px;
      padding: 4px 0;
      text-align: center;
      border-radius: 8px;
      font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
      font-size: 12px;
      font-style: normal;
      font-weight: 500;
      border: 1px solid var(--affine-border-color, #e3e2e4);
      box-sizing: border-box;
    }
  `}constructor(e,t,i,s){super(),this._overlay=null,this.#iM=M_(this,d,void 0),this.#am=(M_(this,h),M_(this,u,void 0)),this.#iE=(M_(this,p),M_(this,g,void 0)),this.#av=(M_(this,y),M_(this,b,void 0)),M_(this,w),this.position=e,this.edgeless=t,this.currentSource=i,this.connector=s}_addFrame(){let e=this._generateTarget(this.connector)?.nextBound;if(!e)return;let{h:t}=e,i=this._getTargetXYWH(t/.75,t);if(!i)return;let{xywh:s,position:o}=i,r=this.edgeless,{service:a,surfaceBlockModel:n}=r,l=a.layer.frames.length+1,c=a.addBlock("affine:frame",{title:new v.rl.Y.Text(`Frame ${l}`),xywh:(0,f.P)(...s)},n);r.doc.captureSync();let d=a.getElementById(c);(0,V.Z1)(d),this.connector.target={id:c,position:o},r.service.selection.set({elements:[d.id],editing:!1})}_addNote(){let{doc:e}=this.edgeless,t=this.edgeless.service,i=this._getTargetXYWH(448,110);if(!i)return;let{xywh:s,position:o}=i,r=fv.KI;if(Ml(this.currentSource)){if("object"==typeof this.currentSource.fillColor)r={...this.currentSource.fillColor};else{let e=this.currentSource.fillColor.split("-").pop();e&&"gray"!==e||(e="grey"),r=`--affine-note-background-${e}`}}else r="object"==typeof this.currentSource.background?{...this.currentSource.background}:this.currentSource.background;let a=t.addBlock("affine:note",{xywh:(0,f.P)(...s),background:r},e.root?.id);e.addBlock("affine:paragraph",{type:"text"},a);let n=this.currentSource.group;n instanceof M.$&&n.addChild(a),this.connector.target={id:a,position:o},t.updateElement(this.connector.id,{target:{id:a,position:o}}),this.edgeless.service.selection.set({elements:[a],editing:!1})}_addShape(e){let t=this.edgeless,i=this._generateTarget(this.connector);if(!i)return;let s=this.currentSource,{nextBound:o,position:r}=i,{service:a}=t,n=function(e,t,i){let s=e.service,o=Ml(t)?t.serialize():e.service.editPropsStore.getLastProps("shape"),r=s.addElement("shape",{...o,shapeType:"roundedRect"===i?"rect":i,radius:"roundedRect"===i?.1:0,text:new v.rl.Y.Text}),a=t.group;return a instanceof E.$f&&a.addChild(r),r}(t,s,e);a.updateElement(n,{xywh:o.serialize()}),a.updateElement(this.connector.id,{target:{id:n,position:r}}),mT(a.getElementById(n),this.edgeless),t.service.selection.set({elements:[n],editing:!0}),t.doc.captureSync()}_addText(){let e=this._getTargetXYWH(116,24);if(!e)return;let{xywh:t,position:i}=e,s=m.z.fromXYWH(t),o=this.edgeless.service;if(this.edgeless.doc.awarenessStore.getFlag("enable_edgeless_text")){let e=this.edgeless.host.spec.getService("affine:edgeless-text").initEdgelessTextBlock({edgeless:this.edgeless,x:s.x,y:s.y});o.updateElement(this.connector.id,{target:{id:e,position:i}}),this.currentSource.group instanceof M.$&&this.currentSource.group.addChild(e),this.edgeless.service.selection.set({elements:[e],editing:!1}),this.edgeless.doc.captureSync()}else{let e=o.addElement(E.J9.TEXT,{xywh:s.serialize(),text:new v.rl.Y.Text,textAlign:"left",fontSize:24,fontFamily:C.ay.Inter,color:g5(),fontWeight:C.IT.Regular,fontStyle:C.zz.Normal}),t=o.getElementById(e);(0,V.nn)(t,E.n6),o.updateElement(this.connector.id,{target:{id:e,position:i}}),this.currentSource.group instanceof M.$&&this.currentSource.group.addChild(e),this.edgeless.service.selection.set({elements:[e],editing:!1}),this.edgeless.doc.captureSync(),m$(t,this.edgeless)}}_autoComplete(e){if(this._removeOverlay(),this._connectorExist()){switch(e){case"text":this._addText();break;case"note":this._addNote();break;case"frame":this._addFrame();break;default:this._addShape(e)}this.remove()}}_connectorExist(){return!!this.edgeless.service.getElementById(this.connector.id)}_generateTarget(e){let t,i,s;let{currentSource:o}=this,r=100,a=100;if(Ml(o)){let e=m.z.deserialize(o.xywh);r=e.w,a=e.h}let n=e.target.position;(0,V.Z1)(n);let l=e.path.length,d=(0,iH.z)((0,iH.ct)(iv.l.angle(e.path[l-2],e.path[l-1])));return d>=45&&d<=135?(t=new m.z(n[0]-r/2,n[1],r,a),i=[.5,0],s=c.Bottom):d>=135&&d<=225?(t=new m.z(n[0]-r,n[1]-a/2,r,a),i=[1,.5],s=c.Left):d>=225&&d<=315?(t=new m.z(n[0]-r/2,n[1]-a,r,a),i=[.5,1],s=c.Top):(t=new m.z(n[0],n[1]-a/2,r,a),i=[0,.5],s=c.Right),{nextBound:t,position:i,direction:s}}_getCurrentSourceInfo(){let{currentSource:e}=this;if(Ml(e)){let{shapeType:t,shapeStyle:i,radius:s}=e;return{style:i,type:"rect"===t&&s?"roundedRect":t}}return{style:"General",type:"note"}}_getPanelPosition(){let{viewport:e}=this.edgeless.service,{boundingClientRect:t,zoom:i}=e,s=this._getTargetXYWH(136/i,108/i),o=s?s.xywh.slice(0,2):this.position,r=e.toViewCoord(o[0],o[1]),{width:a,height:n}=t;return r[0]=(0,iH.qE)(r[0],20,a-20-136),r[1]=(0,iH.qE)(r[1],20,n-20-108),r}_getTargetXYWH(e,t){let i=this._generateTarget(this.connector);if(!i)return null;let{nextBound:s,direction:o,position:r}=i;if(!s)return null;let{w:a,h:n}=s,l=s.x,d=s.y;switch(o){case c.Right:d+=n/2-t/2;break;case c.Bottom:l-=e/2-a/2;break;case c.Left:d+=n/2-t/2,l-=e-a;break;case c.Top:l-=e/2-a/2,d+=n-t}return{xywh:[l,d,e,t],position:r}}_removeOverlay(){this._overlay&&this.edgeless.surface.renderer.removeOverlay(this._overlay)}_showFrameOverlay(){let e=this._generateTarget(this.connector)?.nextBound;if(!e)return;let{h:t}=e,i=this._getTargetXYWH(t/.75,t)?.xywh;if(!i)return;let s=im.Q.getPropertyValue("--affine-black-30");this._overlay=new Mr(i,s),this.edgeless.surface.renderer.addOverlay(this._overlay)}_showNoteOverlay(){let e=this._getTargetXYWH(448,110)?.xywh;if(!e)return;let t="";t=Ml(this.currentSource)?im.Q.getColorValue(this.currentSource.fillColor,O.SO,!0):im.Q.getColorValue(this.currentSource.background,fv.KI,!0),this._overlay=new Mo(e,t),this.edgeless.surface.renderer.addOverlay(this._overlay)}_showOverlay(e){if(this._removeOverlay(),this._connectorExist()){switch(e){case"text":this._showTextOverlay();break;case"note":this._showNoteOverlay();break;case"frame":this._showFrameOverlay();break;default:this._showShapeOverlay(e)}this.edgeless.surface.refresh()}}_showShapeOverlay(e){let t=this._generateTarget(this.connector)?.nextBound;if(!t)return;let{x:i,y:s,w:o,h:r}=t,{shapeStyle:a,strokeColor:n,fillColor:l,strokeWidth:c,roughness:d}=Ml(this.currentSource)?this.currentSource:this.edgeless.service.editPropsStore.getLastProps("shape"),h=im.Q.getColorValue(n,O.vt,!0),u=im.Q.getColorValue(l,O.SO,!0);this._overlay=new Ma([i,s,o,r],e,{seed:666,roughness:d,strokeLineDash:[0,0],stroke:h,strokeWidth:c,fill:u},a),this.edgeless.surface.renderer.addOverlay(this._overlay)}_showTextOverlay(){let e=this._getTargetXYWH(116,24)?.xywh;e&&(this._overlay=new Ms(e),this.edgeless.surface.renderer.addOverlay(this._overlay))}connectedCallback(){super.connectedCallback(),this.edgeless.handleEvent("click",e=>{let{target:t}=e.get("pointerState").raw,i=vI(t);i?.closest("edgeless-auto-complete-panel")||this.remove()})}disconnectedCallback(){super.disconnectedCallback(),this._removeOverlay()}firstUpdated(){this.disposables.add(this.edgeless.service.viewport.viewportUpdated.on(()=>this.requestUpdate()))}render(){let e=this._getPanelPosition();if(!e)return H.s6;let t=(0,Z.W)({left:`${e[0]}px`,top:`${e[1]}px`}),{style:i,type:s}=this._getCurrentSourceInfo(),o=(0,D.u)(k2,({name:e,generalIcon:t,scribbledIcon:s,tooltip:o})=>(0,H.qy)`
        <edgeless-tool-icon-button
          .tooltip=${o}
          @pointerenter=${()=>this._showOverlay(e)}
          @pointerleave=${()=>this._removeOverlay()}
          @click=${()=>this._autoComplete(e)}
        >
          ${"General"===i?t:s}
        </edgeless-tool-icon-button>
      `);return(0,H.qy)`<div class="auto-complete-panel-container" style=${t}>
      ${o}

      <edgeless-tool-icon-button
        .tooltip=${"Text"}
        @pointerenter=${()=>this._showOverlay("text")}
        @pointerleave=${()=>this._removeOverlay()}
        @click=${()=>this._autoComplete("text")}
      >
        ${no}
      </edgeless-tool-icon-button>
      <edgeless-tool-icon-button
        .tooltip=${"Note"}
        @pointerenter=${()=>this._showOverlay("note")}
        @pointerleave=${()=>this._removeOverlay()}
        @click=${()=>this._autoComplete("note")}
      >
        ${tr}
      </edgeless-tool-icon-button>
      <edgeless-tool-icon-button
        .tooltip=${"Frame"}
        @pointerenter=${()=>this._showOverlay("frame")}
        @pointerleave=${()=>this._removeOverlay()}
        @click=${()=>this._autoComplete("frame")}
      >
        ${ta}
      </edgeless-tool-icon-button>

      <edgeless-tool-icon-button
        .iconContainerPadding=${0}
        .tooltip=${s.charAt(0).toUpperCase()+s.slice(1)}
        @pointerenter=${()=>this._showOverlay(s)}
        @pointerleave=${()=>this._removeOverlay()}
        @click=${()=>this._autoComplete(s)}
      >
        <div class="row-button">Add a same object</div>
      </edgeless-tool-icon-button>
    </div>`}#iM;get connector(){return this.#iM}set connector(e){this.#iM=e}#am;get currentSource(){return this.#am}set currentSource(e){this.#am=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#av;get position(){return this.#av}set position(e){this.#av=e}static{M_(t,n)}},t})();var Mk=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},MS=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};class MM extends _.h{constructor(){super(...arguments),this.linePoints=[],this.renderShape=null,this.stroke=""}render(e,t){this.linePoints.length&&this.renderShape&&(e.setLineDash([2,2]),e.strokeStyle=this.stroke,e.beginPath(),this.linePoints.forEach((t,i)=>{0===i?e.moveTo(t[0],t[1]):e.lineTo(t[0],t[1])}),e.stroke(),this.renderShape(e),e.stroke())}}(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("edgeless-auto-complete")],l=[],d=(0,P.Tm)(H.WF),h=[],u=[],p=[],f=[],g=[],y=[],w=[],x=[],_=[],C=[];(class extends d{static{t=this}static{let c="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],Mk(this,null,i,{kind:"accessor",name:"_isHover",static:!1,private:!1,access:{has:e=>"_isHover"in e,get:e=>e._isHover,set:(e,t)=>{e._isHover=t}},metadata:c},h,u),Mk(this,null,s,{kind:"accessor",name:"_isMoving",static:!1,private:!1,access:{has:e=>"_isMoving"in e,get:e=>e._isMoving,set:(e,t)=>{e._isMoving=t}},metadata:c},p,f),Mk(this,null,o,{kind:"accessor",name:"current",static:!1,private:!1,access:{has:e=>"current"in e,get:e=>e.current,set:(e,t)=>{e.current=t}},metadata:c},g,y),Mk(this,null,r,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:c},w,x),Mk(this,null,a,{kind:"accessor",name:"selectedRect",static:!1,private:!1,access:{has:e=>"selectedRect"in e,get:e=>e.selectedRect,set:(e,t)=>{e.selectedRect=t}},metadata:c},_,C),Mk(null,e={value:t},n,{kind:"class",name:t.name,metadata:c},null,l),t=e.value,c&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c})}static{this.styles=(0,H.AH)`
    .edgeless-auto-complete-container {
      position: absolute;
      z-index: 1;
      pointer-events: none;
    }
    .edgeless-auto-complete-arrow-wrapper {
      width: 72px;
      height: 44px;
      position: absolute;
      z-index: 1;
      pointer-events: auto;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .edgeless-auto-complete-arrow-wrapper.hidden {
      display: none;
    }
    .edgeless-auto-complete-arrow {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 24px;
      height: 24px;
      border-radius: 19px;
      cursor: pointer;
      pointer-events: auto;
      transition:
        background 0.3s linear,
        box-shadow 0.2s linear;
    }

    .edgeless-auto-complete-arrow-wrapper:hover
      > .edgeless-auto-complete-arrow {
      border: 1px solid var(--affine-border-color);
      box-shadow: var(--affine-shadow-1);
      background: var(--affine-white);
    }

    .edgeless-auto-complete-arrow-wrapper
      > .edgeless-auto-complete-arrow:hover {
      border: 1px solid var(--affine-white-10);
      box-shadow: var(--affine-shadow-1);
      background: var(--affine-primary-color);
    }

    .edgeless-auto-complete-arrow-wrapper.mindmap
      > .edgeless-auto-complete-arrow {
      border: 1px solid var(--affine-border-color);
      box-shadow: var(--affine-shadow-1);
      background: var(--affine-white);

      transition:
        background 0.3s linear,
        color 0.2s linear;
    }

    .edgeless-auto-complete-arrow-wrapper.mindmap
      > .edgeless-auto-complete-arrow:hover {
      border: 1px solid var(--affine-white-10);
      box-shadow: var(--affine-shadow-1);
      background: var(--affine-primary-color);
    }

    .edgeless-auto-complete-arrow svg {
      fill: #77757d;
      color: #77757d;
    }
    .edgeless-auto-complete-arrow:hover svg {
      fill: #ffffff;
      color: #ffffff;
    }
  `}_addConnector(e,t){let{current:i,edgeless:s}=this,o=g3;if(Ml(i))o="object"==typeof i.strokeColor?{...i.strokeColor}:i.strokeColor;else if("object"==typeof i.background)o={...i.background};else{let e=i.background.split("-").pop();e&&"gray"!==e||(e="grey"),o=`--affine-palette-line-${e}`}let r=s.service.addElement(E.J9.CONNECTOR,{mode:S.B1.Orthogonal,strokeWidth:2,stroke:o,source:e,target:t});return s.service.getElementById(r)}_addMindmapNode(e,t){let i=this.current.group;if(!(i instanceof I.AR))return;let s="sibling"===t?i.getParentNode(this.current.id)??this.current:this.current,o=i.addNode(s.id,"sibling"===t?this.current.id:void 0,void 0,void 0,e);requestAnimationFrame(()=>{mT(this.edgeless.service.getElementById(o),this.edgeless)})}_computeLine(e,t,i){let s=this.current.elementBound,{startPosition:o,endPosition:r}=Mn(e),a={xywh:i.serialize(),rotate:t.rotate,shapeType:t.shapeType},n=t.getRelativePointLocation(o),l=t.getRelativePointLocation.call(a,r);return this._pathGenerator.generateOrthogonalConnectorPath({startBound:s,endBound:i,startPoint:n,endPoint:l})}_computeNextBound(e){if(Ml(this.current)){let t=this._getConnectedElements(this.current).filter(e=>e instanceof b.B5);return function(e,t,i){let s;let{x:o,y:r,w:a,h:n}=m.z.deserialize(t.xywh),l=0;switch(e){case c.Right:l=0;break;case c.Bottom:l=90;break;case c.Left:l=180;break;case c.Top:l=270}function d(e){return!i.some(t=>e.isOverlapWithBound(t.elementBound))}s=(l=(0,iH.z)(l+t.rotate))>=45&&l<=135?new m.z(o,r+n+100,a,n):l>=135&&l<=225?new m.z(o-a-100,r,a,n):l>=225&&l<=315?new m.z(o,r-n-100,a,n):new m.z(o+a+100,r,a,n);let h=0;return d(s)?s:function t(){let i=Math.ceil(++h/2),o=s.clone();switch(e){case c.Right:case c.Left:o.y=h%2==1?s.y-(n+20)*i:s.y+(n+20)*i;break;case c.Bottom:case c.Top:o.x=h%2==1?s.x-(a+20)*i:s.x+(a+20)*i}return d(o)?o:t()}()}(e,this.current,t)}{let t=this.current.elementBound;switch(e){case c.Right:t.x+=t.w+100;break;case c.Bottom:t.y+=t.h+100;break;case c.Left:t.x-=t.w+100;break;case c.Top:t.y-=t.h+100}return t}}_createAutoCompletePanel(e,t){if(!this.canShowAutoComplete)return;let i=new MC(this.edgeless.service.viewport.toModelCoord(e.clientX,e.clientY),this.edgeless,this.current,t);this.edgeless.append(i)}_generateElementOnClick(e){let{doc:t,service:i}=this.edgeless,s=this._computeNextBound(e),o=function(e,t,i){let s;let{service:o}=e;if(Ml(t))s=o.addElement(t.type,{...t.serialize(),text:new v.rl.Y.Text,xywh:i.serialize()});else{let{doc:o}=e;s=o.addBlock("affine:note",{background:t.background,displayMode:t.displayMode,edgeless:t.edgeless,xywh:i.serialize()},e.model.id);let r=o.getBlockById(s);(0,V.Z1)(r),o.updateBlock(r,()=>{r.edgeless.collapse=!0}),o.addBlock("affine:paragraph",{},r.id)}let r=t.group;return r instanceof E.$f&&r.addChild(s),s}(this.edgeless,this.current,s);if(Ml(this.current)){let{startPosition:t,endPosition:s}=Mn(e);this._addConnector({id:this.current.id,position:t},{id:o,position:s}),mT(i.getElementById(o),this.edgeless)}else{let e=t.getBlockById(o);(0,V.Z1)(e);let[r,a]=i.viewport.toViewCoord(s.center[0],s.y+45.5);requestAnimationFrame(()=>{(0,st.kW)(r,a)})}this.edgeless.service.selection.set({elements:[o],editing:!0}),this.removeOverlay()}_getConnectedElements(e){let t=this.edgeless.service;return t.getConnectors(e.id).reduce((i,s)=>(s.target.id===e.id&&s.source.id&&i.push(t.getElementById(s.source.id)),s.source.id===e.id&&s.target.id&&i.push(t.getElementById(s.target.id)),i),[])}_getMindmapButtons(){let e=this.current.group,t=this.current instanceof b.B5&&e instanceof I.AR?e.getLayoutDir(this.current.id):null,i=e?.tree.id===this.current.id,s=null;switch(t){case gS.p5.LEFT:s=[[c.Left,"child",gS.p5.LEFT]],i||s.push([c.Bottom,"sibling",t]);break;case gS.p5.RIGHT:s=[[c.Right,"child",gS.p5.RIGHT]],i||s.push([c.Bottom,"sibling",t]);break;case gS.p5.BALANCE:s=[[c.Right,"child",gS.p5.RIGHT],[c.Left,"child",gS.p5.LEFT]];break;default:s=null}return s}_renderArrow(){let e=this.current instanceof b.B5,{selectedRect:t}=this,{zoom:i}=this.edgeless.service.viewport,s=e?[c.Right,c.Bottom,c.Left,c.Top]:[c.Right,c.Left],o=e?22:2/3*44;return s.map(s=>{let r="";switch(s){case c.Top:r+=`translate(${t.width/2}px, ${-o}px)`;break;case c.Right:r+=`translate(${t.width+o}px, ${t.height/2}px)`,e&&(r+="rotate(90deg)");break;case c.Bottom:r+=`translate(${t.width/2}px, ${t.height+o}px)`,e&&(r+="rotate(180deg)");break;case c.Left:r+=`translate(${-o}px, ${t.height/2}px)`,e&&(r+="rotate(-90deg)")}r+="translate(-36px, -22px)";let a=(0,oJ.H)({"edgeless-auto-complete-arrow-wrapper":!0,hidden:!e&&s===c.Left&&i>=1.5});return(0,H.qy)`<div
        class=${a}
        style=${(0,Z.W)({transform:r,transformOrigin:"left top"})}
      >
        <div
          class="edgeless-auto-complete-arrow"
          @mouseenter=${()=>{this._timer=setTimeout(()=>{if(this.current instanceof b.B5){let e=this._computeNextBound(s),t=this._computeLine(s,this.current,e);this._showNextShape(this.current,e,t,this.current.shapeType)}},300)}}
          @mouseleave=${()=>{this.removeOverlay()}}
          @pointerdown=${e=>{this._onPointerDown(e,s)}}
        >
          ${e?eS:eM}
        </div>
      </div>`})}_renderMindMapButtons(){let e=this._getMindmapButtons();if(!e)return;let{selectedRect:t}=this,{zoom:i}=this.edgeless.service.viewport;return e.map(e=>{let s="",[o,r,a]=e,n=a===gS.p5.LEFT,l="child"===r?t9:t8;switch(o){case c.Bottom:s+=`translate(${t.width/2}px, ${t.height+22}px)`,n&&(s+="scale(-1)");break;case c.Right:s+=`translate(${t.width+22}px, ${t.height/2}px)`;break;case c.Left:s+=`translate(-22px, ${t.height/2}px)scale(-1)`}s+="translate(-36px, -22px)";let d=(0,oJ.H)({"edgeless-auto-complete-arrow-wrapper":!0,hidden:o===c.Left&&i>=1.5,mindmap:!0});return(0,H.qy)`<div
        class=${d}
        style=${(0,Z.W)({transform:s,transformOrigin:"left top"})}
      >
        <div
          class="edgeless-auto-complete-arrow"
          @pointerdown=${()=>{this._addMindmapNode(a,r)}}
        >
          ${l}
        </div>
      </div>`})}_showNextShape(e,t,i,s){let{surface:o}=this.edgeless;o.renderer.addOverlay(this._autoCompleteOverlay),this._autoCompleteOverlay.stroke=o.renderer.getColorValue(e.strokeColor,O.vt,!0),this._autoCompleteOverlay.linePoints=i,this._autoCompleteOverlay.renderShape=i=>{b.e2[s].draw(i,{...t,rotate:e.rotate})},o.refresh()}get _surface(){return this.edgeless.surface}connectedCallback(){super.connectedCallback(),this._pathGenerator=new gE.IV({getElementById:e=>this.edgeless.service.getElementById(e)})}firstUpdated(){let{_disposables:e,edgeless:t}=this;e.add(this.edgeless.service.selection.slots.updated.on(()=>{this._autoCompleteOverlay.linePoints=[],this._autoCompleteOverlay.renderShape=null})),e.add(()=>this.removeOverlay()),e.add(t.host.event.add("pointerMove",()=>{let e=t.tools.getHoverState();if(!e){this._isHover=!1;return}this._isHover=e.content===this.current})),this.edgeless.handleEvent("dragStart",()=>{this._isMoving=!0}),this.edgeless.handleEvent("dragEnd",()=>{this._isMoving=!1})}removeOverlay(){this._timer&&clearTimeout(this._timer),this.edgeless.surface.renderer.removeOverlay(this._autoCompleteOverlay)}render(){let e=this.current instanceof b.B5,t=this.current.group instanceof I.AR;if(this._isMoving||this._isHover&&!e)return this.removeOverlay(),H.s6;let{selectedRect:i}=this;return(0,H.qy)`<div
      class="edgeless-auto-complete-container"
      style=${(0,Z.W)({top:i.top+"px",left:i.left+"px",width:i.width+"px",height:i.height+"px",transform:`rotate(${i.rotate}deg)`})}
    >
      ${t?this._renderMindMapButtons():this._renderArrow()}
    </div>`}get canShowAutoComplete(){let{current:e}=this;return Ml(e)||gT(e)}#ay;get _isHover(){return this.#ay}set _isHover(e){this.#ay=e}#ab;get _isMoving(){return this.#ab}set _isMoving(e){this.#ab=e}#aw;get current(){return this.#aw}set current(e){this.#aw=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#ax;get selectedRect(){return this.#ax}set selectedRect(e){this.#ax=e}constructor(){super(...arguments),this._autoCompleteOverlay=new MM,this._onPointerDown=(e,t)=>{let i;let{service:s}=this.edgeless,o=s.viewport.boundingClientRect,r=s.viewport.toModelCoord(e.clientX-o.left,e.clientY-o.top);this.edgeless.dispatcher&&(this._disposables.addFromEvent(document,"pointermove",e=>{let a=s.viewport.toModelCoord(e.clientX-o.left,e.clientY-o.top);if(iv.l.dist(r,a)>8&&!this._isMoving){if(!this.canShowAutoComplete)return;this._isMoving=!0;let{startPosition:e}=Mn(t);i=this._addConnector({id:this.current.id,position:e},{position:a})}if(this._isMoving){(0,V.Z1)(i);let e=i.source.id;i.target=this._surface.overlays.connector.renderConnector(a,e?[e]:[])}}),this._disposables.addFromEvent(document,"pointerup",e=>{this._isMoving?i&&!i.target.id&&(this.edgeless.service.selection.clear(),this._createAutoCompletePanel(e,i)):this._generateElementOnClick(t),this._isMoving=!1,this._surface.overlays.connector.clear(),this._disposables.dispose(),this._disposables=new ix.K}))},this._timer=null,this.#ay=MS(this,h,!0),this.#ab=(MS(this,u),MS(this,p,!1)),this.#aw=(MS(this,f),MS(this,g,void 0)),this.#iE=(MS(this,y),MS(this,w,void 0)),this.#ax=(MS(this,x),MS(this,_,void 0)),MS(this,C)}static{MS(t,l)}})})();var ME=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},MI=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("edgeless-connector-handle")],n=[],l=(0,P.Tm)(H.WF),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.P)(".line-end")],s=[(0,L.P)(".line-start")],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],ME(this,null,i,{kind:"accessor",name:"_endHandler",static:!1,private:!1,access:{has:e=>"_endHandler"in e,get:e=>e._endHandler,set:(e,t)=>{e._endHandler=t}},metadata:v},c,d),ME(this,null,s,{kind:"accessor",name:"_startHandler",static:!1,private:!1,access:{has:e=>"_startHandler"in e,get:e=>e._startHandler,set:(e,t)=>{e._startHandler=t}},metadata:v},h,u),ME(this,null,o,{kind:"accessor",name:"connector",static:!1,private:!1,access:{has:e=>"connector"in e,get:e=>e.connector,set:(e,t)=>{e.connector=t}},metadata:v},p,f),ME(this,null,r,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:v},g,m),ME(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    .line-controller {
      position: absolute;
      width: ${12}px;
      height: ${12}px;
      box-sizing: border-box;
      border-radius: 50%;
      border: 2px solid var(--affine-text-emphasis-color);
      background-color: var(--affine-background-primary-color);
      cursor: pointer;
      z-index: 10;
      pointer-events: all;
      /**
       * Fix: pointerEvent stops firing after a short time.
       * When a gesture is started, the browser intersects the touch-action values of the touched element and its ancestors,
       * up to the one that implements the gesture (in other words, the first containing scrolling element)
       * https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action
       */
      touch-action: none;
    }
    .line-controller-hidden {
      display: none;
    }
  `}_bindEvent(){let e=this.edgeless;this._disposables.addFromEvent(this._startHandler,"pointerdown",t=>{e.slots.elementResizeStart.emit(),this._capPointerDown(t,"source")}),this._disposables.addFromEvent(this._endHandler,"pointerdown",t=>{e.slots.elementResizeStart.emit(),this._capPointerDown(t,"target")}),this._disposables.add(()=>{e.surface.overlays.connector.clear()})}_capPointerDown(e,t){let{edgeless:i,connector:s,_disposables:o}=this,{service:r,surface:a}=i;e.stopPropagation(),o.addFromEvent(document,"pointermove",e=>{let i=r.viewport.toModelCoordFromClientCoord([e.x,e.y]),o=s["source"===t?"target":"source"].id;s[t]=a.overlays.connector.renderConnector(i,o?[o]:[]),this.requestUpdate()}),o.addFromEvent(document,"pointerup",()=>{a.overlays.connector.clear(),i.doc.captureSync(),o.dispose(),this._disposables=new ix.K,this._bindEvent(),i.slots.elementResizeEnd.emit()})}firstUpdated(){let{edgeless:e}=this,{viewport:t}=e.service;this._lastZoom=t.zoom,e.service.viewport.viewportUpdated.on(()=>{t.zoom!==this._lastZoom&&(this._lastZoom=t.zoom,this.requestUpdate())}),this._bindEvent()}render(){let{service:e}=this.edgeless,{path:t}=this.connector,i=e.viewport.zoom,s=iv.l.subScalar(iv.l.mul(t[0],i),6),o=iv.l.subScalar(iv.l.mul(t[t.length-1],i),6),r={transform:`translate3d(${s[0]}px,${s[1]}px,0)`},a={transform:`translate3d(${o[0]}px,${o[1]}px,0)`};return(0,H.qy)`
      <div
        class="line-controller line-start"
        style=${(0,Z.W)(r)}
      ></div>
      <div class="line-controller line-end" style=${(0,Z.W)(a)}></div>
    `}#a_;get _endHandler(){return this.#a_}set _endHandler(e){this.#a_=e}#aC;get _startHandler(){return this.#aC}set _startHandler(e){this.#aC=e}#iM;get connector(){return this.#iM}set connector(e){this.#iM=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}constructor(){super(...arguments),this._lastZoom=1,this.#a_=MI(this,c,void 0),this.#aC=(MI(this,d),MI(this,h,void 0)),this.#iM=(MI(this,u),MI(this,p,void 0)),this.#iE=(MI(this,f),MI(this,g,void 0)),MI(this,m)}static{MI(t,n)}})})();let MB=Math.PI/12;class M${constructor(e,t,i,s){this._aspectRatio=1,this._bounds=new Map,this._currentRect=new DOMRect,this._dragDirection=r.Left,this._dragPos={start:{x:0,y:0},end:{x:0,y:0}},this._dragging=!1,this._locked=!1,this._origin={x:0,y:0},this._originalRect=new DOMRect,this._proportion=!1,this._proportional=!1,this._resizeMode="none",this._rotate=0,this._rotation=!1,this._shiftKey=!1,this._target=null,this._zoom=1,this.onPointerDown=(e,t,i=!1)=>{if(e.stopPropagation(),this._locked=!1,this._target=e.target,this._dragDirection=t,this._dragPos.start={x:e.x,y:e.y},this._dragPos.end={x:e.x,y:e.y},this._rotation=this._target.classList.contains("rotate"),this._proportional=i,this._rotation){let e=this._target.closest(".affine-edgeless-selected-rect")?.getBoundingClientRect();(0,V.Z1)(e);let{left:t,top:i,right:s,bottom:o}=e;this._origin={x:(t+s)/2,y:(i+o)/2}}this._dragging=!0,this._onDragStart();let s=({x:e,y:t,shiftKey:i})=>{if("none"===this._resizeMode)return;this._shiftKey=i,this._dragPos.end={x:e,y:t};let s=this._proportional||this._shiftKey;if(this._rotation){this._onRotate(s);return}this._onResize(s)},o=e=>{this._dragging=!1,this._onDragEnd();let{x:t,y:i,width:r,height:a}=this._currentRect;this._originalRect=new DOMRect(t,i,r,a),this._locked=!0,this._shiftKey=!1,this._rotation=!1,this._dragPos={start:{x:0,y:0},end:{x:0,y:0}},document.removeEventListener("pointermove",s),document.removeEventListener("pointerup",o)};document.addEventListener("pointermove",s),document.addEventListener("pointerup",o)},this._onDragStart=e,this._onResizeMove=t,this._onRotateMove=i,this._onDragEnd=s}_onResize(e){let t;let{_aspectRatio:i,_dragDirection:s,_dragPos:o,_rotate:a,_resizeMode:n,_zoom:l,_target:c,_originalRect:d,_currentRect:h}=this;e||=this._proportion,(0,V.Z1)(c);let u="all"===n,p="corner"===n,f="edgeAndCorner"===n,{start:{x:g,y:v},end:{x:y,y:b}}=o,{left:w,top:x,right:_,bottom:C}=d,k={w:_-w,h:C-x,cx:(w+_)/2,cy:(x+C)/2},S={...k},M={x:1,y:1},E={x:1,y:1},I={x:1,y:1},B=new DOMPoint(0,0),$=new DOMPoint(0,0),T=(y-g)/l,O=new DOMMatrix().translateSelf(k.cx,k.cy).rotateSelf(a).translateSelf(-k.cx,-k.cy);if(p||u||f){switch(s){case r.TopLeft:I.x=-1,I.y=-1,B.x=_,B.y=C,$.x=w,$.y=x;break;case r.TopRight:I.x=1,I.y=-1,B.x=w,B.y=C,$.x=_,$.y=x;break;case r.BottomRight:I.x=1,I.y=1,B.x=w,B.y=x,$.x=_,$.y=C;break;case r.BottomLeft:I.x=-1,I.y=1,B.x=_,B.y=x,$.x=w,$.y=C;break;case r.Left:I.x=-1,I.y=1,B.x=_,B.y=k.cy,$.x=w,$.y=k.cy;break;case r.Right:I.x=1,I.y=1,B.x=w,B.y=k.cy,$.x=_,$.y=k.cy;break;case r.Top:{let e=(w+_)/2;I.x=1,I.y=-1,B.x=e,B.y=C,$.x=e,$.y=x;break}case r.Bottom:{let e=(w+_)/2;I.x=1,I.y=1,B.x=e,B.y=x,$.x=e,$.y=C}}e||=this._bounds.size>1;let t=B.matrixTransform(O),o=$.matrixTransform(O);if(o.x+=T,o.y+=(b-v)/l,s===r.Left||s===r.Right||s===r.Top||s===r.Bottom){let e=$.matrixTransform(O),t=[0,0],[[i,n]]=(0,iH.Hb)([[e.x,e.y]],t,-a),[[l,c]]=(0,iH.Hb)([[o.x,o.y]],t,-a),d={x:0,y:0};s===r.Left||s===r.Right?(d.x=l,d.y=n):(d.x=i,d.y=c);let[[h,u]]=(0,iH.Hb)([[d.x,d.y]],t,a);o.x=h,o.y=u}let n=(t.x+o.x)/2,c=(t.y+o.y)/2,d=new DOMMatrix().translateSelf(n,c).rotateSelf(-a).translateSelf(-n,-c),h=t.matrixTransform(d),u=o.matrixTransform(d);switch(s){case r.TopLeft:S.w=h.x-u.x,S.h=h.y-u.y;break;case r.TopRight:S.w=u.x-h.x,S.h=h.y-u.y;break;case r.BottomRight:S.w=u.x-h.x,S.h=u.y-h.y;break;case r.BottomLeft:S.w=h.x-u.x,S.h=u.y-h.y;break;case r.Left:S.w=h.x-u.x;break;case r.Right:S.w=u.x-h.x;break;case r.Top:S.h=h.y-u.y;break;case r.Bottom:S.h=u.y-h.y}S.cx=(u.x+h.x)/2,S.cy=(u.y+h.y)/2,M.x=S.w/k.w,M.y=S.h/k.h,E.x=M.x<0?-1:1,E.y=M.y<0?-1:1;let p=s===r.TopLeft||s===r.TopRight||s===r.BottomRight||s===r.BottomLeft;e&&p&&(i<Math.abs(S.w/S.h)?(M.y=Math.abs(M.x)*E.y,S.h=M.y*k.h):(M.x=Math.abs(M.y)*E.x,S.w=M.x*k.w),$.x=B.x+S.w*I.x,$.y=B.y+S.h*I.y,o=$.matrixTransform(O),S.cx=(t.x+o.x)/2,S.cy=(t.y+o.y)/2)}else{switch(s){case r.Left:I.x=-1,B.x=_,$.x=w+T,S.w=B.x-$.x;break;case r.Right:I.x=1,B.x=w,$.x=_+T,S.w=$.x-B.x}M.x=S.w/k.w,E.x=M.x<0?-1:1,498>Math.abs(S.w)&&(S.w=498*E.x,M.x=S.w/k.w,$.x=B.x+S.w*I.x),S.cx=($.x+B.x)/2}let P=Math.abs(S.w),A=Math.abs(S.h),H=S.cx-P/2,L=S.cy-A/2;h.x=H,h.y=L,h.width=P,h.height=A;let D=new Map;if(p||u||f){if(1===this._bounds.size)t=(e,t)=>{D.set(t,{bound:new m.z(H,L,P,A)})};else{let e=B.matrixTransform(O),i=new DOMMatrix().translateSelf(e.x,e.y).rotateSelf(a).translateSelf(-e.x,-e.y).scaleSelf(M.x,M.y,1,e.x,e.y,0).translateSelf(e.x,e.y).rotateSelf(-a).translateSelf(-e.x,-e.y);t=({bound:{x:e,y:t,w:s,h:o},path:r},a)=>{let n=new DOMPoint(e+s/2,t+o/2).matrixTransform(i),l=Math.abs(s*M.x),c=Math.abs(o*M.y);D.set(a,{bound:new m.z(n.x-l/2,n.y-c/2,l,c),matrix:i,path:r})}}}else{let e=new DOMMatrix().scaleSelf(M.x,M.y,1,B.x,B.y,0);t=({bound:{x:t,y:i,w:s,h:o},rotate:r=0,path:a},n)=>{let l,c;let u=t+s/2,p=i+o/2,f=new DOMPoint(u,p).matrixTransform(e);if(r){let{width:e}=(0,iH.R$)({x:t,y:i,w:s,h:o,rotate:r}),a=e/2;if(f.y=p,h.width<=e)c=(l=s*(h.width/e))/(s/o),f.x=h.left+h.width/2;else{let e=(u-a-d.left)/d.width,t=h.left+e*h.width+a;f.x=Math.max(h.left+a,Math.min(t,h.left+h.width-a)),l=s,c=o}}else l=Math.abs(s*M.x),c=Math.abs(o*M.y);D.set(n,{bound:new m.z(f.x-l/2,f.y-c/2,l,c),matrix:e,path:a})}}this._bounds.forEach(t),this._onResizeMove(D,this._dragDirection)}_onRotate(e=!1){let{_originalRect:{left:t,top:i,right:s,bottom:o},_dragPos:{start:{x:r,y:a},end:{x:n,y:l}},_origin:{x:c,y:d},_rotate:h}=this,u=Math.atan2(a-d,r-c),p=Math.atan2(l-d,n-c)-u;if(e){let e=h*Math.PI/180,t=e+p;t+=MB/2,t-=t%MB,p=t-e}let f=180*p/Math.PI,g=n,m=l;if(e){let e=new DOMPoint(r,a).matrixTransform(new DOMMatrix().translateSelf(c,d).rotateSelf(f).translateSelf(-c,-d));g=e.x,m=e.y}this._onRotateMove({x:(t+s)/2,y:(i+o)/2},f),this._dragPos.start={x:g,y:m},this._rotate+=f}onPressShiftKey(e){if(!this._target||this._locked||this._shiftKey===e)return;this._shiftKey=e;let t=this._proportional||this._shiftKey;if(this._rotation){this._onRotate(t);return}this._onResize(t)}updateBounds(e){this._bounds=e}updateRectPosition(e){return this._currentRect.x+=e.x,this._currentRect.y+=e.y,this._originalRect.x=this._currentRect.x,this._originalRect.y=this._currentRect.y,this._originalRect}updateState(e,t,i,s,o,r=!1){this._resizeMode=e,this._rotate=t,this._zoom=i,this._proportion=r,s&&(this._currentRect.x=s.x,this._currentRect.y=s.y,this._originalRect.x=this._currentRect.x,this._originalRect.y=this._currentRect.y),o&&(this._originalRect=o,this._aspectRatio=o.width/o.height,this._currentRect=DOMRect.fromRect(o))}get bounds(){return this._bounds}get currentRect(){return this._currentRect}get dragDirection(){return this._dragDirection}get dragging(){return this._dragging}get originalRect(){return this._originalRect}get rotation(){return this._rotation}}var MT=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},MO=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,a,n,l,c,d,h,u,p=[(0,L.EM)("edgeless-selected-rect")],g=[],v=(0,P.Tm)(H.WF),x=[],_=[],C=[],k=[],$=[],T=[],O=[],A=[],D=[],j=[],R=[],z=[],F=[],N=[],q=[],U=[],W=[],G=[],Y=[],K=[];(class extends v{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(v[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.wk)()],a=[(0,L.wk)()],n=[(0,L.wk)()],l=[(0,L.wk)()],c=[(0,L.wk)()],d=[(0,L.wk)()],h=[(0,L.wk)()],u=[(0,L.MZ)({attribute:!1})],MT(this,null,i,{kind:"accessor",name:"_isHeightLimit",static:!1,private:!1,access:{has:e=>"_isHeightLimit"in e,get:e=>e._isHeightLimit,set:(e,t)=>{e._isHeightLimit=t}},metadata:r},x,_),MT(this,null,s,{kind:"accessor",name:"_isResizing",static:!1,private:!1,access:{has:e=>"_isResizing"in e,get:e=>e._isResizing,set:(e,t)=>{e._isResizing=t}},metadata:r},C,k),MT(this,null,o,{kind:"accessor",name:"_isWidthLimit",static:!1,private:!1,access:{has:e=>"_isWidthLimit"in e,get:e=>e._isWidthLimit,set:(e,t)=>{e._isWidthLimit=t}},metadata:r},$,T),MT(this,null,a,{kind:"accessor",name:"_mode",static:!1,private:!1,access:{has:e=>"_mode"in e,get:e=>e._mode,set:(e,t)=>{e._mode=t}},metadata:r},O,A),MT(this,null,n,{kind:"accessor",name:"_scaleDirection",static:!1,private:!1,access:{has:e=>"_scaleDirection"in e,get:e=>e._scaleDirection,set:(e,t)=>{e._scaleDirection=t}},metadata:r},D,j),MT(this,null,l,{kind:"accessor",name:"_scalePercent",static:!1,private:!1,access:{has:e=>"_scalePercent"in e,get:e=>e._scalePercent,set:(e,t)=>{e._scalePercent=t}},metadata:r},R,z),MT(this,null,c,{kind:"accessor",name:"_selectedRect",static:!1,private:!1,access:{has:e=>"_selectedRect"in e,get:e=>e._selectedRect,set:(e,t)=>{e._selectedRect=t}},metadata:r},F,N),MT(this,null,d,{kind:"accessor",name:"_shiftKey",static:!1,private:!1,access:{has:e=>"_shiftKey"in e,get:e=>e._shiftKey,set:(e,t)=>{e._shiftKey=t}},metadata:r},q,U),MT(this,null,h,{kind:"accessor",name:"autoCompleteOff",static:!1,private:!1,access:{has:e=>"autoCompleteOff"in e,get:e=>e.autoCompleteOff,set:(e,t)=>{e.autoCompleteOff=t}},metadata:r},W,G),MT(this,null,u,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:r},Y,K),MT(null,e={value:t},p,{kind:"class",name:t.name,metadata:r},null,g),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.enabledWarnings=[]}static{this.styles=(0,H.AH)`
    :host {
      display: block;
      user-select: none;
      contain: size layout;
      position: absolute;
      top: 0;
      left: 0;
      z-index: 1;
    }

    .affine-edgeless-selected-rect {
      position: absolute;
      top: 0;
      left: 0;
      transform-origin: center center;
      border-radius: 0;
      pointer-events: none;
      box-sizing: border-box;
      z-index: 1;
      border-color: var(--affine-blue);
      border-width: var(--affine-border-width);
      border-style: solid;
      transform: translate(0, 0) rotate(0);
    }

    .affine-edgeless-selected-rect .handle {
      position: absolute;
      user-select: none;
      outline: none;
      pointer-events: auto;

      /**
       * Fix: pointerEvent stops firing after a short time.
       * When a gesture is started, the browser intersects the touch-action values of the touched element and its ancestors,
       * up to the one that implements the gesture (in other words, the first containing scrolling element)
       * https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action
       */
      touch-action: none;
    }

    .affine-edgeless-selected-rect .handle[aria-label^='top-'],
    .affine-edgeless-selected-rect .handle[aria-label^='bottom-'] {
      width: 18px;
      height: 18px;
      box-sizing: border-box;
      z-index: 10;
    }

    .affine-edgeless-selected-rect .handle[aria-label^='top-'] .resize,
    .affine-edgeless-selected-rect .handle[aria-label^='bottom-'] .resize {
      position: absolute;
      width: 12px;
      height: 12px;
      box-sizing: border-box;
      border-radius: 50%;
      border: 2px var(--affine-blue) solid;
      background: white;
    }

    .affine-edgeless-selected-rect .handle[aria-label^='top-'] .rotate,
    .affine-edgeless-selected-rect .handle[aria-label^='bottom-'] .rotate {
      position: absolute;
      width: 12px;
      height: 12px;
      box-sizing: border-box;
      background: transparent;
    }

    /* -18 + 6.5 */
    .affine-edgeless-selected-rect .handle[aria-label='top-left'] {
      left: -12px;
      top: -12px;
    }
    .affine-edgeless-selected-rect .handle[aria-label='top-left'] .resize {
      right: 0;
      bottom: 0;
    }
    .affine-edgeless-selected-rect .handle[aria-label='top-left'] .rotate {
      right: 6px;
      bottom: 6px;
    }

    .affine-edgeless-selected-rect .handle[aria-label='top-right'] {
      top: -12px;
      right: -12px;
    }
    .affine-edgeless-selected-rect .handle[aria-label='top-right'] .resize {
      left: 0;
      bottom: 0;
    }
    .affine-edgeless-selected-rect .handle[aria-label='top-right'] .rotate {
      left: 6px;
      bottom: 6px;
    }

    .affine-edgeless-selected-rect .handle[aria-label='bottom-right'] {
      right: -12px;
      bottom: -12px;
    }
    .affine-edgeless-selected-rect .handle[aria-label='bottom-right'] .resize {
      left: 0;
      top: 0;
    }
    .affine-edgeless-selected-rect .handle[aria-label='bottom-right'] .rotate {
      left: 6px;
      top: 6px;
    }

    .affine-edgeless-selected-rect .handle[aria-label='bottom-left'] {
      bottom: -12px;
      left: -12px;
    }
    .affine-edgeless-selected-rect .handle[aria-label='bottom-left'] .resize {
      right: 0;
      top: 0;
    }
    .affine-edgeless-selected-rect .handle[aria-label='bottom-left'] .rotate {
      right: 6px;
      top: 6px;
    }

    .affine-edgeless-selected-rect .handle[aria-label='top'],
    .affine-edgeless-selected-rect .handle[aria-label='bottom'],
    .affine-edgeless-selected-rect .handle[aria-label='left'],
    .affine-edgeless-selected-rect .handle[aria-label='right'] {
      border: 0;
      background: transparent;
      border-color: var('--affine-blue');
    }

    .affine-edgeless-selected-rect .handle[aria-label='left'],
    .affine-edgeless-selected-rect .handle[aria-label='right'] {
      top: 0;
      bottom: 0;
      height: 100%;
      width: 6px;
    }

    .affine-edgeless-selected-rect .handle[aria-label='top'],
    .affine-edgeless-selected-rect .handle[aria-label='bottom'] {
      left: 0;
      right: 0;
      width: 100%;
      height: 6px;
    }

    /* calc(-1px - (6px - 1px) / 2) = -3.5px */
    .affine-edgeless-selected-rect .handle[aria-label='left'] {
      left: -3.5px;
    }
    .affine-edgeless-selected-rect .handle[aria-label='right'] {
      right: -3.5px;
    }
    .affine-edgeless-selected-rect .handle[aria-label='top'] {
      top: -3.5px;
    }
    .affine-edgeless-selected-rect .handle[aria-label='bottom'] {
      bottom: -3.5px;
    }

    .affine-edgeless-selected-rect .handle[aria-label='top'] .resize,
    .affine-edgeless-selected-rect .handle[aria-label='bottom'] .resize,
    .affine-edgeless-selected-rect .handle[aria-label='left'] .resize,
    .affine-edgeless-selected-rect .handle[aria-label='right'] .resize {
      width: 100%;
      height: 100%;
    }

    .affine-edgeless-selected-rect .handle[aria-label='top'] .resize:after,
    .affine-edgeless-selected-rect .handle[aria-label='bottom'] .resize:after,
    .affine-edgeless-selected-rect .handle[aria-label='left'] .resize:after,
    .affine-edgeless-selected-rect .handle[aria-label='right'] .resize:after {
      position: absolute;
      width: 7px;
      height: 7px;
      box-sizing: border-box;
      border-radius: 6px;
      z-index: 10;
      content: '';
      background: white;
    }

    .affine-edgeless-selected-rect
      .handle[aria-label='top']
      .transparent-handle:after,
    .affine-edgeless-selected-rect
      .handle[aria-label='bottom']
      .transparent-handle:after,
    .affine-edgeless-selected-rect
      .handle[aria-label='left']
      .transparent-handle:after,
    .affine-edgeless-selected-rect
      .handle[aria-label='right']
      .transparent-handle:after {
      opacity: 0;
    }

    .affine-edgeless-selected-rect .handle[aria-label='left'] .resize:after,
    .affine-edgeless-selected-rect .handle[aria-label='right'] .resize:after {
      top: calc(50% - 6px);
    }

    .affine-edgeless-selected-rect .handle[aria-label='top'] .resize:after,
    .affine-edgeless-selected-rect .handle[aria-label='bottom'] .resize:after {
      left: calc(50% - 6px);
    }

    .affine-edgeless-selected-rect .handle[aria-label='left'] .resize:after {
      left: -0.5px;
    }
    .affine-edgeless-selected-rect .handle[aria-label='right'] .resize:after {
      right: -0.5px;
    }
    .affine-edgeless-selected-rect .handle[aria-label='top'] .resize:after {
      top: -0.5px;
    }
    .affine-edgeless-selected-rect .handle[aria-label='bottom'] .resize:after {
      bottom: -0.5px;
    }

    .affine-edgeless-selected-rect .handle .resize::before {
      content: '';
      display: none;
      position: absolute;
      width: 20px;
      height: 20px;
      background-image: url("data:image/svg+xml,%3Csvg width='26' height='26' viewBox='0 0 26 26' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M23 3H19C10.1634 3 3 10.1634 3 19V23' stroke='black' stroke-opacity='0.3' stroke-width='5' stroke-linecap='round'/%3E%3C/svg%3E");
      background-size: contain;
      background-repeat: no-repeat;
    }
    .affine-edgeless-selected-rect[data-mode='scale']
      .handle[aria-label='top-left']
      .resize:hover::before,
    .affine-edgeless-selected-rect[data-scale-direction='top-left'][data-scale-percent]
      .handle[aria-label='top-left']
      .resize::before {
      display: block;
      top: 0px;
      left: 0px;
      transform: translate(-100%, -100%);
    }
    .affine-edgeless-selected-rect[data-mode='scale']
      .handle[aria-label='top-right']
      .resize:hover::before,
    .affine-edgeless-selected-rect[data-scale-direction='top-right'][data-scale-percent]
      .handle[aria-label='top-right']
      .resize::before {
      display: block;
      top: 0px;
      right: 0px;
      transform: translate(100%, -100%) rotate(90deg);
    }
    .affine-edgeless-selected-rect[data-mode='scale']
      .handle[aria-label='bottom-right']
      .resize:hover::before,
    .affine-edgeless-selected-rect[data-scale-direction='bottom-right'][data-scale-percent]
      .handle[aria-label='bottom-right']
      .resize::before {
      display: block;
      bottom: 0px;
      right: 0px;
      transform: translate(100%, 100%) rotate(180deg);
    }
    .affine-edgeless-selected-rect[data-mode='scale']
      .handle[aria-label='bottom-left']
      .resize:hover::before,
    .affine-edgeless-selected-rect[data-scale-direction='bottom-left'][data-scale-percent]
      .handle[aria-label='bottom-left']
      .resize::before {
      display: block;
      bottom: 0px;
      left: 0px;
      transform: translate(-100%, 100%) rotate(-90deg);
    }

    .affine-edgeless-selected-rect::after {
      content: attr(data-scale-percent);
      display: none;
      position: absolute;
      color: var(--affine-icon-color);
      font-feature-settings:
        'clig' off,
        'liga' off;
      font-family: var(--affine-font-family);
      font-size: 12px;
      font-style: normal;
      font-weight: 400;
      line-height: 24px;
    }
    .affine-edgeless-selected-rect[data-scale-direction='top-left']::after {
      display: block;
      top: -20px;
      left: -20px;
      transform: translate(-100%, -100%);
    }
    .affine-edgeless-selected-rect[data-scale-direction='top-right']::after {
      display: block;
      top: -20px;
      right: -20px;
      transform: translate(100%, -100%);
    }
    .affine-edgeless-selected-rect[data-scale-direction='bottom-right']::after {
      display: block;
      bottom: -20px;
      right: -20px;
      transform: translate(100%, 100%);
    }
    .affine-edgeless-selected-rect[data-scale-direction='bottom-left']::after {
      display: block;
      bottom: -20px;
      left: -20px;
      transform: translate(-100%, 100%);
    }
  `}constructor(){super(),this._cursorRotate=0,this._dragEndCallback=[],this._initSelectedSlot=()=>{this._propDisposables.forEach(e=>e.dispose()),this._propDisposables=[],this.selection.selectedElements.forEach(e=>{"flavour"in e&&this._propDisposables.push(e.propsUpdated.on(()=>{this._updateOnElementChange(e.id)}))})},this._onDragEnd=()=>{this.slots.dragEnd.emit(),this.doc.transact(()=>{this._dragEndCallback.forEach(e=>e())}),this._dragEndCallback=[],this._isWidthLimit=!1,this._isHeightLimit=!1,this._updateCursor(!1),this._scalePercent=void 0,this._scaleDirection=void 0,this._updateMode(),this.edgeless.slots.elementResizeEnd.emit()},this._onDragMove=(e,t)=>{this.slots.dragMove.emit();let{edgeless:i}=this;e.forEach(({bound:e,matrix:s,path:o},r)=>{let a=i.service.getElementById(r);if(a){if(gT(a)){this.#ak(a,e,t);return}if(gO(a)){this.#aS(a,e,t);return}if(gR(a)){this.#aM(a,e,t);return}if(gz(a)){this.#aE(a,e,t);return}if(function(e){return!!e&&"flavour"in e&&"affine:embed-ai-chat"===e.flavour}(a)){this.#aI(a,e,t);return}if(this._isProportionalElement(a)){this.#aB(a,e,t);return}if(a instanceof B.n){this.#a$(a,e,t);return}if(a instanceof b.B5){this.#aT(a,e,t);return}if(a instanceof S.lw&&s&&o){this.#aO(a,e,s,o);return}this.#aP(a,e,t)}})},this._onDragRotate=(e,t)=>{this.slots.dragRotate.emit();let{selection:i}=this,s=new DOMMatrix().translateSelf(e.x,e.y).rotateSelf(t).translateSelf(-e.x,-e.y);gB(i.selectedElements.filter(e=>gA(e)||gO(e)||gF(e))).forEach(e=>{let{id:i,rotate:o}=e,r=m.z.deserialize(e.xywh),a=new DOMPoint(...r.center).matrixTransform(s);r.center=[a.x,a.y],gF(e)&&e instanceof S.lw?this.#aO(e,r,s,e.absolutePath.map(e=>e.clone())):this.edgeless.service.updateElement(i,{xywh:r.serialize(),rotate:(0,iH.z)(o+t)})}),this._updateCursor(!0,{type:"rotate",angle:t}),this._updateMode()},this._onDragStart=()=>{this.slots.dragStart.emit();let e=this._resizeManager.rotation;this._dragEndCallback=[],this.edgeless.slots.elementResizeStart.emit(),this.selection.selectedElements.forEach(t=>{t.stash("xywh"),t instanceof Mw.N&&t.stash("edgeless"),e&&t.stash("rotate"),t instanceof B.n&&!e&&(t.stash("fontSize"),t.stash("hasMaxWidth")),this._dragEndCallback.push(()=>{t.pop("xywh"),t instanceof Mw.N&&t.pop("edgeless"),e&&t.pop("rotate"),t instanceof B.n&&!e&&(t.pop("fontSize"),t.pop("hasMaxWidth"))})}),this._updateResizeManagerState(!0)},this._propDisposables=[],this._updateCursor=(e,t)=>{let i="default";if(e&&t){let{type:e,target:s,point:o}=t,{angle:r}=t;if("rotate"===e)s&&o&&(r=function(e,t,i=0){let s=e.closest(".affine-edgeless-selected-rect")?.getBoundingClientRect();(0,V.Z1)(s);let{left:o,top:r,right:a,bottom:n}=s,l=iv.l.med([o,r],[a,n]);return(0,iH.z)((iv.l.angle(l,t)+i)*180/Math.PI)}(s,o,45)),this._cursorRotate+=r||0,i=(function(e=0,t=(0,H.AH)`default`){return`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Cg transform='rotate(${e} 16 16)'%3E%3Cpath fill='white' d='M13.7,18.5h3.9l0-1.5c0-1.4-1.2-2.6-2.6-2.6h-1.5v3.9l-5.8-5.8l5.8-5.8v3.9h2.3c3.1,0,5.6,2.5,5.6,5.6v2.3h3.9l-5.8,5.8L13.7,18.5z'/%3E%3Cpath d='M20.4,19.4v-3.2c0-2.6-2.1-4.7-4.7-4.7h-3.2l0,0V9L9,12.6l3.6,3.6v-2.6l0,0H15c1.9,0,3.5,1.6,3.5,3.5v2.4l0,0h-2.6l3.6,3.6l3.6-3.6L20.4,19.4L20.4,19.4z'/%3E%3C/g%3E%3C/svg%3E") 16 16, ${t}`})(this._cursorRotate).toString();else{if("edge"===this.resizeMode)i="ew";else if(s&&o){let e=function(e){let t=e.parentElement;(0,V.Z1)(t);let i=t.getAttribute("aria-label");return(0,V.Z1)(i),i}(s),{width:t,height:a,left:n,top:l}=this._selectedRect;i=kw[Math.round((r="top"===e||"bottom"===e||"left"===e||"right"===e?function(e,t){let i=0,s=e.parentElement;(0,V.Z1)(s);let o=s.getAttribute("aria-label");switch((0,V.Z1)(o),o){case"top":i=270;break;case"bottom":i=90;break;case"left":i=180;break;case"right":i=0}return i+t}(s,this._selectedRect.rotate):function(e,t,i,s){let o=e.parentElement;(0,V.Z1)(o);let r=o.getAttribute("aria-label");(0,V.Z1)(r);let{left:a,top:n,right:l,bottom:c,width:d,height:h}=i,u=Math.min(d,h),p=iv.l.med([a,n],[l,c]),f=[0,0];switch(r){case"top-left":f[0]=a,f[1]=n;break;case"top-right":f[0]=l,f[1]=n;break;case"bottom-right":f[0]=l,f[1]=c;break;case"bottom-left":f[0]=a,f[1]=c}let g=new DOMMatrix().translateSelf(p[0],p[1]).rotateSelf(s).translateSelf(-p[0],-p[1]).transformPoint(new DOMPoint(...f)),m=new DOMMatrix().translateSelf(g.x,g.y).rotateSelf(s).translateSelf(-g.x,-g.y).scaleSelf(u/d,u/h,1,g.x,g.y,0).translateSelf(g.x,g.y).rotateSelf(-s).translateSelf(-g.x,-g.y),v=new DOMPoint(...p).matrixTransform(m);return(0,iH.z)(180*iv.l.angle([v.x,v.y],t)/Math.PI)}(s,o,new DOMRect(n+this.edgeless.viewport.left,l+this.edgeless.viewport.top,t,a),this._selectedRect.rotate))*Math.PI/180/(Math.PI/4))%kw.length]}i+="-resize"}}else this._cursorRotate=0;this.edgelessSlots.cursorUpdated.emit(i)},this._updateMode=()=>{if(this._cursorRotate){this._mode="rotate";return}let{selection:e}=this,t=e.selectedElements;1!==t.length&&(this._mode="scale");let i=t[0];gT(i)||gR(i)?this._mode=this._shiftKey?"scale":"resize":this._isProportionalElement(i)?this._mode="scale":this._mode="resize","scale"!==this._mode&&(this._scalePercent=void 0,this._scaleDirection=void 0)},this._updateOnElementChange=(e,t=!1)=>{if(t&&this._resizeManager.dragging||!this.isConnected)return;let i="string"==typeof e?e:e.id;(this._resizeManager.bounds.has(i)||this.selection.has(i))&&(this._updateSelectedRect(),this._updateMode())},this._updateOnSelectionChange=()=>{this._initSelectedSlot(),this._updateSelectedRect(),this._updateResizeManagerState(!0),this._updateCursor(!1),this._updateMode()},this._updateOnViewportChange=()=>{this.selection.empty||(this._updateSelectedRect(),this._updateMode())},this._updateResizeManagerState=e=>{let{_resizeManager:t,_selectedRect:i,resizeMode:s,zoom:o,selection:{selectedElements:r}}=this,a=gW(r),n=r.some(e=>this._isProportionalElement(e));r.length>1&&(e=!0),t.updateState(s,i.rotate,o,e?void 0:a,e?a:void 0,n),t.updateBounds(function(e){let t=new Map;return gB(e).forEach(e=>{let i={bound:m.z.deserialize(e.xywh),rotate:e.rotate};gF(e)&&e instanceof S.lw&&(i.path=e.absolutePath.map(e=>e.clone())),t.set(e.id,i)}),t}(r))},this._updateSelectedRect=(0,lt.GR)(()=>{let{zoom:e,selection:t,edgeless:i}=this,s=t.selectedElements,o=gW(s),[r,a]=i.service.viewport.toViewCoord(o.left,o.top),[n,l]=[o.width*e,o.height*e],c=0;1===s.length&&s[0].rotate&&(c=s[0].rotate),this._selectedRect={width:n,height:l,left:r,top:a,rotate:c,borderStyle:"solid",borderWidth:t.editing?2:1}},this),this.slots={dragStart:new i_.D,dragMove:new i_.D,dragRotate:new i_.D,dragEnd:new i_.D},this.#aA=MO(this,x,!1),this.#aH=(MO(this,_),MO(this,C,!1)),this.#aL=(MO(this,k),MO(this,$,!1)),this.#en=(MO(this,T),MO(this,O,"resize")),this.#aD=(MO(this,A),MO(this,D,void 0)),this.#aZ=(MO(this,j),MO(this,R,void 0)),this.#aj=(MO(this,z),MO(this,F,{width:0,height:0,left:0,top:0,rotate:0,borderWidth:0,borderStyle:"solid"})),this.#aV=(MO(this,N),MO(this,q,!1)),this.#aR=(MO(this,U),MO(this,W,!1)),this.#iE=(MO(this,G),MO(this,Y,void 0)),MO(this,K),this._resizeManager=new M$(this._onDragStart,this._onDragMove,this._onDragRotate,this._onDragEnd),this.addEventListener("pointerdown",lt.dG)}#aI(e,t,i){let s=m.z.deserialize(e.xywh),o=1;"scale"in e&&(o=e.scale);let r=s.w/o,a=s.h/o;this._shiftKey&&(o=t.w/r,this._scalePercent=`${Math.round(100*o)}%`,this._scaleDirection=i),r=t.w/o,r=(0,iy.qE)(r,260,320),t.w=r*o,a=t.h/o,a=(0,iy.qE)(a,160,300),t.h=a*o,this._isWidthLimit=260===r||320===r,this._isHeightLimit=160===a||300===a,this.edgeless.service.updateElement(e.id,{scale:o,xywh:t.serialize()})}#aO(e,t,i,s){let o=e.resize(t,s,i);this.edgeless.service.updateElement(e.id,o)}#aS(e,t,i){let s=m.z.deserialize(e.xywh);if(i===r.TopLeft||i===r.TopRight||i===r.BottomRight||i===r.BottomLeft){let o=e.scale*(t.w/s.w);this._scalePercent=`${Math.round(100*o)}%`,this._scaleDirection=i,t.h=t.w*(s.h/s.w),this.edgeless.service.updateElement(e.id,{scale:o,xywh:t.serialize()})}else if(i===r.Left||i===r.Right){let i=this.edgeless.host.view.getBlock(e.id);if(!i||!i.checkWidthOverflow(t.w))return;let o=(0,iy.qE)(t.w/e.scale,mV,1/0);t.w=o*e.scale,this.edgeless.service.updateElement(e.id,{xywh:m.z.serialize({...t,h:s.h}),hasMaxWidth:!0})}}#aE(e,t,i){t.w=(0,iy.qE)(t.w,370,1/0),t.h=(0,iy.qE)(t.h,80,1/0),this._isWidthLimit=370===t.w,this._isHeightLimit=80===t.h,this.edgeless.service.updateElement(e.id,{xywh:t.serialize()})}#aM(e,t,i){let s=m.z.deserialize(e.xywh),o=e.scale??1,r=s.w/o,a=s.h/o;this._shiftKey&&(o=t.w/r,this._scalePercent=`${Math.round(100*o)}%`,this._scaleDirection=i),r=t.w/o,r=(0,iy.qE)(r,370,1/0),t.w=r*o,a=t.h/o,a=(0,iy.qE)(a,64,1/0),t.h=a*o,this._isWidthLimit=370===r,this._isHeightLimit=64===a,this.edgeless.service.updateElement(e.id,{scale:o,xywh:t.serialize()})}#ak(e,t,i){let s=m.z.deserialize(e.xywh),o=e.edgeless.scale??1,r=s.w/o,a=s.h/o;this._shiftKey?(o=t.w/r,this._scalePercent=`${Math.round(100*o)}%`,this._scaleDirection=i):s.h!==t.h&&this.edgeless.doc.updateBlock(e,()=>{e.edgeless.collapse=!0,e.edgeless.collapsedHeight=t.h/o}),r=t.w/o,r=(0,iy.qE)(r,498,1/0),t.w=r*o,a=t.h/o,a=(0,iy.qE)(a,78,1/0),t.h=a*o,this._isWidthLimit=498===r,this._isHeightLimit=78===a,this.edgeless.service.updateElement(e.id,{edgeless:{...e.edgeless,scale:o},xywh:t.serialize()})}#aB(e,t,i){let s=m.z.deserialize(e.xywh);if(gA(e)){let{height:s}=e;s&&(this._scalePercent=`${Math.round(t.h/s*100)}%`,this._scaleDirection=i)}else{let s=e.style,o=fA.Hn[s];this._scalePercent=`${Math.round(t.h/o*100)}%`,this._scaleDirection=i}i===r.Left||i===r.Right?t.h=s.h/s.w*t.w:(i===r.Top||i===r.Bottom)&&(t.w=s.w/s.h*t.h),this.edgeless.service.updateElement(e.id,{xywh:t.serialize()})}#aT(e,t,i){t=(0,w.d)(e,t),this.edgeless.service.updateElement(e.id,{xywh:t.serialize()})}#a$(e,t,i){let s=1;if(i===r.Left||i===r.Right){let{text:i,fontFamily:o,fontSize:r,fontStyle:a,fontWeight:n,hasMaxWidth:l}=e;t=(0,y.JO)({yText:i,fontFamily:o,fontSize:r,fontStyle:a,fontWeight:n,hasMaxWidth:l},t,!0),this.edgeless.service.updateElement(e.id,{xywh:t.serialize(),fontSize:e.fontSize*s,hasMaxWidth:!0})}else s=t.h/e.h,this.edgeless.service.updateElement(e.id,{xywh:t.serialize(),fontSize:e.fontSize*s})}#aP(e,t,i){this.edgeless.service.updateElement(e.id,{xywh:t.serialize()})}_canAutoComplete(){return!this.autoCompleteOff&&!this._isResizing&&1===this.selection.selectedElements.length&&(this.selection.selectedElements[0]instanceof b.B5||gT(this.selection.selectedElements[0]))}_canRotate(){return!this.selection.selectedElements.every(e=>gT(e)||gP(e)||gL(e)||gH(e)||gD(e))}_isProportionalElement(e){return gH(e)||gA(e)||gL(e)||!!e&&"flavour"in e&&"affine:embed-figma"===e.flavour||gj(e)||!!e&&"flavour"in e&&"affine:embed-youtube"===e.flavour||!!e&&"flavour"in e&&"affine:embed-loom"===e.flavour||gV(e)}_shouldRenderSelection(e){return(e=e??this.selection.selectedElements).length>0&&!this.selection.editing}firstUpdated(){let{_disposables:e,edgelessSlots:t,selection:i,edgeless:s}=this;e.add(s.service.viewport.viewportUpdated.on(this._updateOnViewportChange)),(0,ik.ME)(s.service.surface,["elementAdded","elementRemoved","elementUpdated"]).forEach(t=>{e.add(t.on(this._updateOnElementChange))}),e.add(this.doc.slots.blockUpdated.on(this._updateOnElementChange)),e.add(t.pressShiftKeyUpdated.on(e=>{this._shiftKey=e,this._resizeManager.onPressShiftKey(e),this._updateSelectedRect(),this._updateMode()})),e.add(i.slots.updated.on(this._updateOnSelectionChange)),e.add(s.slots.readonlyUpdated.on(()=>this.requestUpdate())),e.add(s.slots.elementResizeStart.on(()=>this._isResizing=!0)),e.add(s.slots.elementResizeEnd.on(()=>this._isResizing=!1)),e.add(()=>{this._propDisposables.forEach(e=>e.dispose())})}render(){if(!this.isConnected)return H.s6;let{selection:e}=this,t=e.selectedElements;if(!this._shouldRenderSelection(t))return H.s6;let{edgeless:i,doc:s,resizeMode:o,_resizeManager:a,_selectedRect:n,_updateCursor:l}=this,c=!e.editing&&!s.readonly,d=e.inoperable,h=[];if(!d){let e=c?function(e,t,i){let s=()=>({handleTopLeft:gk(r.TopLeft,t,i),handleTopRight:gk(r.TopRight,t,i),handleBottomLeft:gk(r.BottomLeft,t,i),handleBottomRight:gk(r.BottomRight,t,i)}),o=e=>({handleLeft:gk(r.Left,t,i,e),handleRight:gk(r.Right,t,i,e)});switch(e){case"corner":{let{handleTopLeft:e,handleTopRight:t,handleBottomLeft:i,handleBottomRight:o}=s();return(0,H.qy)`
        ${e}
        ${t}
        ${i}
        ${o}
      `}case"edge":{let{handleLeft:e,handleRight:t}=o();return(0,H.qy)`${e} ${t}`}case"all":{let{handleTopLeft:e,handleTopRight:a,handleBottomLeft:n,handleBottomRight:l}=s(),{handleLeft:c,handleRight:d}=o(!0),{handleTop:h,handleBottom:u}={handleTop:gk(r.Top,t,i,!0),handleBottom:gk(r.Bottom,t,i,!0)};return(0,H.qy)`
        ${e}
        ${h}
        ${a}
        ${d}
        ${l}
        ${u}
        ${n}
        ${c}
      `}case"edgeAndCorner":{let{handleTopLeft:e,handleTopRight:t,handleBottomLeft:i,handleBottomRight:r}=s(),{handleLeft:a,handleRight:n}=o(!0);return(0,H.qy)`
        ${e} ${t} ${n} ${r}
        ${i} ${a}
      `}case"none":return H.s6}}(o,(e,i)=>{if(e.target.classList.contains("rotate")&&!this._canRotate())return;let s=t.some(e=>e instanceof B.n);a.onPointerDown(e,i,s)},(e,t)=>{(this._canRotate()||t?.type!=="rotate")&&l(e,t)}):H.s6,s=1===t.length&&t[0]instanceof S.lw?(0,H.qy)`
              <edgeless-connector-handle
                .connector=${t[0]}
                .edgeless=${i}
              ></edgeless-connector-handle>
            `:H.s6,n=t.length>1&&!t.reduce((e,t)=>e&&t instanceof S.lw,!0)?t.map(e=>{let[t,s,o,r]=(0,f.W)(e.xywh),[a,n]=i.service.viewport.toViewCoord(t,s),{left:l,top:c,borderWidth:d}=this._selectedRect,h={position:"absolute",boxSizing:"border-box",left:`${a-l-d}px`,top:`${n-c-d}px`,width:`${o*this.zoom}px`,height:`${r*this.zoom}px`,transform:`rotate(${e.rotate}deg)`,border:"1px solid var(--affine-primary-color)"};return(0,H.qy)`<div
                class="element-handle"
                style=${(0,Z.W)(h)}
              ></div>`}):H.s6;h.push(e,s,n)}let u=1===t.length&&t[0]instanceof M.$;return 1===t.length&&t[0]instanceof S.lw&&(n.width=0,n.height=0,n.borderWidth=0),n.borderStyle=u?"dashed":"solid",(0,H.qy)`
      <style>
        .affine-edgeless-selected-rect .handle[aria-label='right']::after {
          content: '';
          display: ${this._isWidthLimit?"initial":"none"};
          position: absolute;
          top: 0;
          left: 1.5px;
          width: 2px;
          height: 100%;
          background: var(--affine-error-color);
          filter: drop-shadow(-6px 0px 12px rgba(235, 67, 53, 0.35));
        }

        .affine-edgeless-selected-rect .handle[aria-label='bottom']::after {
          content: '';
          display: ${this._isHeightLimit?"initial":"none"};
          position: absolute;
          top: 1.5px;
          left: 0px;
          width: 100%;
          height: 2px;
          background: var(--affine-error-color);
          filter: drop-shadow(-6px 0px 12px rgba(235, 67, 53, 0.35));
        }
      </style>

      ${!s.readonly&&!d&&this._canAutoComplete()?(0,H.qy)`<edgeless-auto-complete
            .current=${this.selection.selectedElements[0]}
            .edgeless=${i}
            .selectedRect=${n}
          >
          </edgeless-auto-complete>`:H.s6}

      <div
        class="affine-edgeless-selected-rect"
        style=${(0,Z.W)({width:`${n.width}px`,height:`${n.height}px`,borderWidth:`${n.borderWidth}px`,borderStyle:n.borderStyle,transform:`translate(${n.left}px, ${n.top}px) rotate(${n.rotate}deg)`})}
        disabled="true"
        data-mode=${this._mode}
        data-scale-percent=${(0,lI.J)(this._scalePercent)}
        data-scale-direction=${(0,lI.J)(this._scaleDirection)}
      >
        ${h}
      </div>
    `}get doc(){return this.edgeless.doc}get dragDirection(){return this._resizeManager.dragDirection}get dragging(){return this._resizeManager.dragging||this.edgeless.tools.dragging}get edgelessSlots(){return this.edgeless.slots}get resizeMode(){let e=this.selection.selectedElements,t=!0,i=e.length>1,s=!0,o=!0,r=!1;for(let a of e)gT(a)||gR(a)?(t=!1,this._shiftKey&&(s=!1,o=!1)):gz(a)?t=!1:gP(a)?t=!1:this._isProportionalElement(a)?(t=!1,s=!1,o=!1):gO(a)?(t=!1,s=!1):((0,V.j)(a),a.type===E.J9.CONNECTOR?i&&=!(a.source.id||a.target.id):t=!1,a.type!==E.J9.SHAPE&&a.type!==E.J9.GROUP&&(s=!1),a.type!==E.J9.TEXT&&(o=!1),(a.group instanceof I.AR||a instanceof I.AR)&&(r=!0));return t?i?"all":"none":r?"none":s?"all":o?"edgeAndCorner":"corner"}get selection(){return this.edgeless.service.selection}get surface(){return this.edgeless.surface}get zoom(){return this.edgeless.service.viewport.zoom}#aA;get _isHeightLimit(){return this.#aA}set _isHeightLimit(e){this.#aA=e}#aH;get _isResizing(){return this.#aH}set _isResizing(e){this.#aH=e}#aL;get _isWidthLimit(){return this.#aL}set _isWidthLimit(e){this.#aL=e}#en;get _mode(){return this.#en}set _mode(e){this.#en=e}#aD;get _scaleDirection(){return this.#aD}set _scaleDirection(e){this.#aD=e}#aZ;get _scalePercent(){return this.#aZ}set _scalePercent(e){this.#aZ=e}#aj;get _selectedRect(){return this.#aj}set _selectedRect(e){this.#aj=e}#aV;get _shiftKey(){return this.#aV}set _shiftKey(e){this.#aV=e}#aR;get autoCompleteOff(){return this.#aR}set autoCompleteOff(e){this.#aR=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}static{MO(t,g)}})})();var MP=i(99603),MA=i(55639),MH=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ML=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l,c,d=[(0,L.EM)("smooth-corner")],h=[],u=H.WF,p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[];(class extends u{static{t=this}static{let B="function"==typeof Symbol&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({type:String})],s=[(0,L.MZ)({type:Number})],o=[(0,L.MZ)({type:String})],r=[(0,L.MZ)({type:Number})],a=[(0,L.MZ)({type:Number})],n=[(0,L.wk)()],l=[(0,L.MZ)({type:Number})],c=[(0,L.wk)()],MH(this,null,i,{kind:"accessor",name:"bgColor",static:!1,private:!1,access:{has:e=>"bgColor"in e,get:e=>e.bgColor,set:(e,t)=>{e.bgColor=t}},metadata:B},p,f),MH(this,null,s,{kind:"accessor",name:"bgOpacity",static:!1,private:!1,access:{has:e=>"bgOpacity"in e,get:e=>e.bgOpacity,set:(e,t)=>{e.bgOpacity=t}},metadata:B},g,m),MH(this,null,o,{kind:"accessor",name:"borderColor",static:!1,private:!1,access:{has:e=>"borderColor"in e,get:e=>e.borderColor,set:(e,t)=>{e.borderColor=t}},metadata:B},v,y),MH(this,null,r,{kind:"accessor",name:"borderRadius",static:!1,private:!1,access:{has:e=>"borderRadius"in e,get:e=>e.borderRadius,set:(e,t)=>{e.borderRadius=t}},metadata:B},b,w),MH(this,null,a,{kind:"accessor",name:"borderWidth",static:!1,private:!1,access:{has:e=>"borderWidth"in e,get:e=>e.borderWidth,set:(e,t)=>{e.borderWidth=t}},metadata:B},x,_),MH(this,null,n,{kind:"accessor",name:"height",static:!1,private:!1,access:{has:e=>"height"in e,get:e=>e.height,set:(e,t)=>{e.height=t}},metadata:B},C,k),MH(this,null,l,{kind:"accessor",name:"smooth",static:!1,private:!1,access:{has:e=>"smooth"in e,get:e=>e.smooth,set:(e,t)=>{e.smooth=t}},metadata:B},S,M),MH(this,null,c,{kind:"accessor",name:"width",static:!1,private:!1,access:{has:e=>"width"in e,get:e=>e.width,set:(e,t)=>{e.width=t}},metadata:B},E,I),MH(null,e={value:t},d,{kind:"class",name:t.name,metadata:B},null,h),t=e.value,B&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:B})}static{this.styles=(0,H.AH)`
    :host {
      position: relative;
    }
    .smooth-corner-bg,
    .smooth-corner-border {
      position: absolute;
      top: 0;
      left: 0;
      pointer-events: none;
    }
    .smooth-corner-border {
      z-index: 2;
    }
    .smooth-corner-content {
      position: relative;
      z-index: 1;
      width: 100%;
      height: 100%;
    }
  `}constructor(){super(),this._resizeObserver=null,this.#az=ML(this,p,"white"),this.#aF=(ML(this,f),ML(this,g,1)),this.#aN=(ML(this,m),ML(this,v,"black")),this.#eP=(ML(this,y),ML(this,b,0)),this.#eA=(ML(this,w),ML(this,x,2)),this.#F=(ML(this,_),ML(this,C,0)),this.#aq=(ML(this,k),ML(this,S,0)),this.#tQ=(ML(this,M),ML(this,E,0)),ML(this,I),this._resizeObserver=new ResizeObserver(e=>{for(let t of e)this.width=t.contentRect.width,this.height=t.contentRect.height})}_getSvg(e,t){return(0,H.JW)`<svg
      class="${e}"
      width=${this.width+this.borderWidth}
      height=${this.height+this.borderWidth}
      viewBox="0 0 ${this.width+this.borderWidth} ${this.height+this.borderWidth}"
      xmlns="http://www.w3.org/2000/svg"
    >
      ${t}
    </svg>`}get _path(){return(0,MA.k)({width:this.width,height:this.height,cornerRadius:this.borderRadius,cornerSmoothing:this.smooth})}connectedCallback(){super.connectedCallback(),this._resizeObserver?.observe(this)}disconnectedCallback(){super.disconnectedCallback(),this._resizeObserver?.unobserve(this)}render(){return(0,H.qy)`${this._getSvg("smooth-corner-bg",(0,H.JW)`<path 
          d="${this._path}" 
          fill="${this.bgColor}" 
          fill-opacity="${this.bgOpacity}"
          transform="translate(${this.borderWidth/2} ${this.borderWidth/2})"
        >`)}
      ${this._getSvg("smooth-corner-border",(0,H.JW)`<path 
          fill="none"
          d="${this._path}" 
          stroke="${this.borderColor}" 
          stroke-width="${this.borderWidth}"
          transform="translate(${this.borderWidth/2} ${this.borderWidth/2})"
        >`)}
      <div class="smooth-corner-content">
        <slot></slot>
      </div>`}#az;get bgColor(){return this.#az}set bgColor(e){this.#az=e}#aF;get bgOpacity(){return this.#aF}set bgOpacity(e){this.#aF=e}#aN;get borderColor(){return this.#aN}set borderColor(e){this.#aN=e}#eP;get borderRadius(){return this.#eP}set borderRadius(e){this.#eP=e}#eA;get borderWidth(){return this.#eA}set borderWidth(e){this.#eA=e}#F;get height(){return this.#F}set height(e){this.#F=e}#aq;get smooth(){return this.#aq}set smooth(e){this.#aq=e}#tQ;get width(){return this.#tQ}set width(e){this.#tQ=e}static{ML(t,h)}})})();var MD=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},MZ=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("edgeless-toolbar-button")],s=[],o=CG;(class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;MD(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    .icon-container {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      color: var(--affine-icon-color);
      cursor: pointer;
    }

    .icon-container.active-mode-color[active] {
      color: var(--affine-primary-color);
    }

    .icon-container.active-mode-background[active] {
      background: var(--affine-hover-color);
    }

    .icon-container[disabled] {
      pointer-events: none;
      cursor: not-allowed;
    }

    .icon-container[coming] {
      cursor: not-allowed;
      color: var(--affine-text-disable-color);
    }
  `}render(){return(0,H.qy)` ${super.render()} `}static{MZ(t,s)}})})();let Mj=(0,MP.q6)(Symbol("edgelessToolbarSlotsContext")),MV=(0,MP.q6)(Symbol("edgelessToolbarThemeContext")),MR=(0,MP.q6)(Symbol("edgelessToolbarContext"));var Mz=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},MF=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l,c=[(0,L.EM)("edgeless-frame-order-menu")],d=[],h=(0,P.Tm)(H.WF),u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[];(class extends h{static{t=this}static{let M="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,L.P)(".clone")],s=[(0,L.P)(".edgeless-frame-order-items-container")],o=[(0,L.wk)()],r=[(0,L.P)(".indicator-line")],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({attribute:!1})],Mz(this,null,i,{kind:"accessor",name:"_clone",static:!1,private:!1,access:{has:e=>"_clone"in e,get:e=>e._clone,set:(e,t)=>{e._clone=t}},metadata:M},u,p),Mz(this,null,s,{kind:"accessor",name:"_container",static:!1,private:!1,access:{has:e=>"_container"in e,get:e=>e._container,set:(e,t)=>{e._container=t}},metadata:M},f,g),Mz(this,null,o,{kind:"accessor",name:"_curIndex",static:!1,private:!1,access:{has:e=>"_curIndex"in e,get:e=>e._curIndex,set:(e,t)=>{e._curIndex=t}},metadata:M},m,v),Mz(this,null,r,{kind:"accessor",name:"_indicatorLine",static:!1,private:!1,access:{has:e=>"_indicatorLine"in e,get:e=>e._indicatorLine,set:(e,t)=>{e._indicatorLine=t}},metadata:M},y,b),Mz(this,null,a,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:M},w,x),Mz(this,null,n,{kind:"accessor",name:"embed",static:!1,private:!1,access:{has:e=>"embed"in e,get:e=>e.embed,set:(e,t)=>{e.embed=t}},metadata:M},_,C),Mz(this,null,l,{kind:"accessor",name:"frames",static:!1,private:!1,access:{has:e=>"frames"in e,get:e=>e.frames,set:(e,t)=>{e.frames=t}},metadata:M},k,S),Mz(null,e={value:t},c,{kind:"class",name:t.name,metadata:M},null,d),t=e.value,M&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:M})}static{this.styles=(0,H.AH)`
    :host {
      position: relative;
    }
    .edgeless-frame-order-items-container {
      max-height: 281px;
      border-radius: 8px;
      padding: 8px;
      background: var(--affine-background-overlay-panel-color);
      box-shadow: var(--affine-menu-shadow);
      overflow: auto;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    .edgeless-frame-order-items-container.embed {
      padding: 0;
      background: unset;
      box-shadow: unset;
      border-radius: 0;
    }

    .item {
      box-sizing: border-box;
      width: 256px;
      border-radius: 4px;
      padding: 4px;
      display: flex;
      gap: 4px;
      align-items: center;
      cursor: grab;
    }

    .draggable:hover {
      background-color: var(--affine-hover-color);
    }

    .item:hover .drag-indicator {
      opacity: 1;
    }

    .drag-indicator {
      cursor: pointer;
      width: 4px;
      height: 12px;
      border-radius: 1px;
      opacity: 0.2;
      background: var(--affine-placeholder-color);
      margin-right: 2px;
    }

    .title {
      font-size: 14px;
      font-weight: 400;
      height: 22px;
      line-height: 22px;
      color: var(--affine-text-primary-color);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .clone {
      visibility: hidden;
      position: absolute;
      z-index: 1;
      left: 8px;
      height: 30px;
      border: 1px solid var(--affine-border-color);
      box-shadow: var(--affine-menu-shadow);
      background-color: var(--affine-white);
      pointer-events: none;
    }

    .indicator-line {
      visibility: hidden;
      position: absolute;
      z-index: 1;
      left: 8px;
      background-color: var(--affine-primary-color);
      height: 1px;
      width: 90%;
    }
  `}_bindEvent(){let{_disposables:e}=this;e.addFromEvent(this._container,"wheel",e=>{e.stopPropagation()}),e.addFromEvent(this._container,"pointerdown",e=>{let t=e.target.closest(".draggable");if(!t)return;let i=this._clone,s=this._indicatorLine;i.style.visibility="visible";let o=t.getBoundingClientRect(),r=Number(t.getAttribute("index"));this._curIndex=r;let a=-1,n=this._container.getBoundingClientRect(),l=n.top+8,c=n.bottom,d=e.clientX-o.left,h=e.clientY-o.top;function u(e,t){i.style.left=e-n.left-d+"px",i.style.top=t-n.top-h+"px"}u(e.clientX,e.clientY),this._disposables.addFromEvent(document,"pointermove",e=>{if(s.style.visibility="visible",u(e.clientX,e.clientY),e.clientY>=l&&e.clientY<=c){let t=e.pageY+this._container.scrollTop-l,i=0;t<o.height/2?(a=0,i=this.embed?-2:4):(a=Math.ceil((t-o.height/2)/(o.height+10)),i=(this.embed?-2:7.5)+a*o.height+(a-.5)*4),s.style.top=i-this._container.scrollTop+"px";return}a=-1}),this._disposables.addFromEvent(document,"pointerup",()=>{if(i.style.visibility="hidden",s.style.visibility="hidden",a>=0&&a<=this.frames.length&&a!==r&&a!==r+1){let e=this.frames[a-1]?.index||null,t=this.frames[a]?.index||null,i=this.frames[r];this.edgeless.service.updateElement(i.id,{index:(0,iC.TU)(e,t)}),this.edgeless.doc.captureSync(),this.requestUpdate()}this._disposables.dispose(),this._disposables=new ix.K,this._bindEvent()})})}firstUpdated(){this._bindEvent()}render(){let e=this.frames[this._curIndex];return(0,H.qy)`
      <div
        class="edgeless-frame-order-items-container ${this.embed?"embed":""}"
        @click=${e=>e.stopPropagation()}
      >
        ${(0,D.u)(this.frames,e=>e.id,(e,t)=>(0,H.qy)`
            <div class="item draggable" id=${e.id} index=${t}>
              <div class="drag-indicator"></div>
              <div class="title">${e.title.toString()}</div>
            </div>
          `)}
        <div class="indicator-line"></div>
        <div class="clone item">
          ${e?(0,H.qy)`<div class="drag-indicator"></div>
                <div class="index">${this._curIndex+1}</div>
                <div class="title">${e.title.toString()}</div>`:H.s6}
        </div>
      </div>
    `}#aU=MF(this,u,void 0);get _clone(){return this.#aU}set _clone(e){this.#aU=e}#ek=(MF(this,p),MF(this,f,void 0));get _container(){return this.#ek}set _container(e){this.#ek=e}#aW=(MF(this,g),MF(this,m,-1));get _curIndex(){return this.#aW}set _curIndex(e){this.#aW=e}#aG=(MF(this,v),MF(this,y,void 0));get _indicatorLine(){return this.#aG}set _indicatorLine(e){this.#aG=e}#iE=(MF(this,b),MF(this,w,void 0));get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#aY=(MF(this,x),MF(this,_,!1));get embed(){return this.#aY}set embed(e){this.#aY=e}#rR=(MF(this,C),MF(this,k,void 0));get frames(){return this.#rR}set frames(e){this.#rR=e}constructor(){super(...arguments),MF(this,S)}static{MF(t,d)}})})();var MN=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Mq=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l=[(0,L.EM)("edgeless-frame-order-button")],c=[],d=(0,P.Tm)(H.WF),h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[];(class extends d{static{t=this}static{let C="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.P)(".edgeless-frame-order-button")],s=[(0,L.P)("edgeless-frame-order-menu")],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],MN(this,null,i,{kind:"accessor",name:"_edgelessFrameOrderButton",static:!1,private:!1,access:{has:e=>"_edgelessFrameOrderButton"in e,get:e=>e._edgelessFrameOrderButton,set:(e,t)=>{e._edgelessFrameOrderButton=t}},metadata:C},h,u),MN(this,null,s,{kind:"accessor",name:"_edgelessFrameOrderMenu",static:!1,private:!1,access:{has:e=>"_edgelessFrameOrderMenu"in e,get:e=>e._edgelessFrameOrderMenu,set:(e,t)=>{e._edgelessFrameOrderMenu=t}},metadata:C},p,f),MN(this,null,o,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:C},g,m),MN(this,null,r,{kind:"accessor",name:"frames",static:!1,private:!1,access:{has:e=>"frames"in e,get:e=>e.frames,set:(e,t)=>{e.frames=t}},metadata:C},v,y),MN(this,null,a,{kind:"accessor",name:"popperShow",static:!1,private:!1,access:{has:e=>"popperShow"in e,get:e=>e.popperShow,set:(e,t)=>{e.popperShow=t}},metadata:C},b,w),MN(this,null,n,{kind:"accessor",name:"setPopperShow",static:!1,private:!1,access:{has:e=>"setPopperShow"in e,get:e=>e.setPopperShow,set:(e,t)=>{e.setPopperShow=t}},metadata:C},x,_),MN(null,e={value:t},l,{kind:"class",name:t.name,metadata:C},null,c),t=e.value,C&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})}static{this.styles=(0,H.AH)`
    edgeless-frame-order-menu {
      display: none;
    }

    edgeless-frame-order-menu[data-show] {
      display: initial;
    }
  `}firstUpdated(){this._edgelessFrameOrderPopper=(0,wb.j)(this._edgelessFrameOrderButton,this._edgelessFrameOrderMenu,({display:e})=>this.setPopperShow("show"===e),{mainAxis:22})}render(){let{readonly:e}=this.edgeless.doc;return(0,H.qy)`
      <style>
        .edgeless-frame-order-button svg {
          color: ${e?"var(--affine-text-disable-color)":"inherit"};
        }
      </style>
      <edgeless-tool-icon-button
        class="edgeless-frame-order-button"
        .tooltip=${this.popperShow?"":"Frame Order"}
        @click=${()=>{e||this._edgelessFrameOrderPopper?.toggle()}}
        .iconContainerPadding=${0}
      >
        ${ek}
      </edgeless-tool-icon-button>
      <edgeless-frame-order-menu
        .edgeless=${this.edgeless}
        .frames=${this.frames}
      >
      </edgeless-frame-order-menu>
    `}#aK;get _edgelessFrameOrderButton(){return this.#aK}set _edgelessFrameOrderButton(e){this.#aK=e}#aX;get _edgelessFrameOrderMenu(){return this.#aX}set _edgelessFrameOrderMenu(e){this.#aX=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#rR;get frames(){return this.#rR}set frames(e){this.#rR=e}#aQ;get popperShow(){return this.#aQ}set popperShow(e){this.#aQ=e}#aJ;get setPopperShow(){return this.#aJ}set setPopperShow(e){this.#aJ=e}constructor(){super(...arguments),this._edgelessFrameOrderPopper=null,this.#aK=Mq(this,h,void 0),this.#aX=(Mq(this,u),Mq(this,p,void 0)),this.#iE=(Mq(this,f),Mq(this,g,void 0)),this.#rR=(Mq(this,m),Mq(this,v,void 0)),this.#aQ=(Mq(this,y),Mq(this,b,!1)),this.#aJ=(Mq(this,w),Mq(this,x,()=>{})),Mq(this,_)}static{Mq(t,c)}})})();let MU=new WeakMap;function MW(e){e.style.transform="translateY(0)"}function MG(e){e.style.transform="translateY(calc(100% + 10px))"}function MY(e,t,i){let s=i?.duration??230;MU.has(t)||MU.set(t,new Map);let o=MU.get(t);if((0,V.Z1)(o),o.has(e)){let t=o.get(e);return(0,V.Z1)(t),t.cancel?.(),requestAnimationFrame(()=>MW(t.element)),t}let r=document.createElement("div"),a=document.createElement(e);(0,V.Z1)(t.shadowRoot),r.append(a),t.shadowRoot.append(r),a.style.transition=`all ${s}ms ease`,MG(a),requestAnimationFrame(()=>MW(a)),Object.assign(r.style,{height:"100px",pointerEvents:"none",position:"absolute",overflow:"hidden",width:"100%",maxWidth:"100%",boxSizing:"border-box",left:"0px",bottom:"100%",display:"flex",alignItems:"end"}),Object.assign(a.style,{width:"100%",marginLeft:"30px",maxWidth:"calc(100% - 60px)",bottom:"0%",pointerEvents:"auto"});let n=()=>{r.remove(),a.remove(),MU.get(t)?.delete(e),i?.onDispose?.()},l={element:a,dispose:()=>{MG(a),a.addEventListener("transitionend",n,{once:!0}),l.cancel=()=>a.removeEventListener("transitionend",n)}};return MU.get(t)?.set(e,l),l}var MK=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},MX=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let MQ=e=>(()=>{let t,i,s,o,r,a,n,l=(0,P.Tm)(e),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[];return class extends l{static{let e="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;t=[(0,L.MZ)({attribute:!1})],i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,MP.Fg)({context:MV,subscribe:!0})],r=[(0,MP.Fg)({context:MR})],a=[(0,L.MZ)({attribute:!1})],n=[(0,MP.Fg)({context:Mj})],MK(this,null,t,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:e},c,d),MK(this,null,i,{kind:"accessor",name:"edgelessTool",static:!1,private:!1,access:{has:e=>"edgelessTool"in e,get:e=>e.edgelessTool,set:(e,t)=>{e.edgelessTool=t}},metadata:e},h,u),MK(this,null,s,{kind:"accessor",name:"popper",static:!1,private:!1,access:{has:e=>"popper"in e,get:e=>e.popper,set:(e,t)=>{e.popper=t}},metadata:e},p,f),MK(this,null,o,{kind:"accessor",name:"theme",static:!1,private:!1,access:{has:e=>"theme"in e,get:e=>e.theme,set:(e,t)=>{e.theme=t}},metadata:e},g,m),MK(this,null,r,{kind:"accessor",name:"toolbar",static:!1,private:!1,access:{has:e=>"toolbar"in e,get:e=>e.toolbar,set:(e,t)=>{e.toolbar=t}},metadata:e},v,y),MK(this,null,a,{kind:"accessor",name:"toolbarContainer",static:!1,private:!1,access:{has:e=>"toolbarContainer"in e,get:e=>e.toolbarContainer,set:(e,t)=>{e.toolbarContainer=t}},metadata:e},b,w),MK(this,null,n,{kind:"accessor",name:"toolbarSlots",static:!1,private:!1,access:{has:e=>"toolbarSlots"in e,get:e=>e.toolbarSlots,set:(e,t)=>{e.toolbarSlots=t}},metadata:e},x,_),e&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:e})}_applyActiveStyle(){this.enableActiveBackground&&(this.style.background=this.active?(0,oY.Vg)("hoverColor"):"transparent")}_updateActiveEdgelessTool(e){this.edgelessTool=e??this.edgeless.edgelessTool}connectedCallback(){super.connectedCallback(),this.edgeless&&(this._updateActiveEdgelessTool(),this._applyActiveStyle(),this._disposables.add(this.edgeless.slots.edgelessToolUpdated.on(e=>{this._updateActiveEdgelessTool(e),this._applyActiveStyle()})))}createPopper(...e){return this.toolbar.activePopper&&(this.toolbar.activePopper.dispose(),this.toolbar.activePopper=null),this.popper=MY(e[0],e[1],{...e[2],onDispose:()=>{e[2]?.onDispose?.(),this.popper=null}}),this.toolbar.activePopper=this.popper,this.popper}disconnectedCallback(){super.disconnectedCallback(),this.popper?.dispose()}tryDisposePopper(){return!!this.active&&!!this.popper&&(this.popper.dispose(),this.popper=null,!0)}get active(){let{type:e}=this,t=this.edgelessTool.type;return Array.isArray(e)?e.includes(t):t===e}get setEdgelessTool(){return this.edgeless.tools.setEdgelessTool}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#a1;get edgelessTool(){return this.#a1}set edgelessTool(e){this.#a1=e}#a0;get popper(){return this.#a0}set popper(e){this.#a0=e}#a2;get theme(){return this.#a2}set theme(e){this.#a2=e}#a5;get toolbar(){return this.#a5}set toolbar(e){this.#a5=e}#a7;get toolbarContainer(){return this.#a7}set toolbarContainer(e){this.#a7=e}#a3;get toolbarSlots(){return this.#a3}set toolbarSlots(e){this.#a3=e}constructor(){super(...arguments),this.enableActiveBackground=!1,this.#iE=MX(this,c,void 0),this.#a1=(MX(this,d),MX(this,h,void 0)),this.#a0=(MX(this,u),MX(this,p,null)),this.#a2=(MX(this,f),MX(this,g,void 0)),this.#a5=(MX(this,m),MX(this,v,void 0)),this.#a7=(MX(this,y),MX(this,b,null)),this.#a3=(MX(this,w),MX(this,x,void 0)),MX(this,_)}}})();var MJ=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},M1=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let M0=(0,H.AH)`
  :host {
    display: flex;
  }

  .switch {
    height: 0;
    width: 0;
    visibility: hidden;
    margin: 0;
  }

  label {
    cursor: pointer;
    text-indent: -9999px;
    width: 38px;
    height: 20px;
    background: var(--affine-icon-color);
    border: 1px solid var(--affine-black-10);
    display: block;
    border-radius: 20px;
    position: relative;
  }

  label:after {
    content: '';
    position: absolute;
    top: 1px;
    left: 1px;
    width: 16px;
    height: 16px;
    background: var(--affine-white);
    border: 1px solid var(--affine-black-10);
    border-radius: 16px;
    transition: 0.1s;
  }

  label.on {
    background: var(--affine-primary-color);
  }

  label.on:after {
    left: calc(100% - 1px);
    transform: translateX(-100%);
  }

  label:active:after {
    width: 24px;
  }
`;(()=>{let e,t,i,s,o=[(0,L.EM)("toggle-switch")],r=[],a=H.WF,n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],MJ(this,null,i,{kind:"accessor",name:"on",static:!1,private:!1,access:{has:e=>"on"in e,get:e=>e.on,set:(e,t)=>{e.on=t}},metadata:h},n,l),MJ(this,null,s,{kind:"accessor",name:"onChange",static:!1,private:!1,access:{has:e=>"onChange"in e,get:e=>e.onChange,set:(e,t)=>{e.onChange=t}},metadata:h},c,d),MJ(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=M0}_toggleSwitch(){this.on=!this.on,this.onChange&&this.onChange(this.on)}render(){return(0,H.qy)`
      <label class=${this.on?"on":""}>
        <input
          type="checkbox"
          class="switch"
          ?checked=${this.on}
          @change=${this._toggleSwitch}
        />
      </label>
    `}#a4=M1(this,n,!1);get on(){return this.#a4}set on(e){this.#a4=e}#ef=(M1(this,l),M1(this,c,void 0));get onChange(){return this.#ef}set onChange(e){this.#ef=e}constructor(){super(...arguments),M1(this,d)}static{M1(t,r)}})})();var M2=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},M5=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l,c,d,h,u=[(0,L.EM)("edgeless-navigator-setting-button")],p=[],f=(0,P.Tm)(H.WF),g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[],O=[],A=[],D=[];(class extends f{static{t=this}static{let P="function"==typeof Symbol&&Symbol.metadata?Object.create(f[Symbol.metadata]??null):void 0;i=[(0,L.P)(".navigator-setting-button")],s=[(0,L.P)(".navigator-setting-menu")],o=[(0,L.wk)()],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({attribute:!1})],c=[(0,L.MZ)({attribute:!1})],d=[(0,L.MZ)({attribute:!1})],h=[(0,L.MZ)({attribute:!1})],M2(this,null,i,{kind:"accessor",name:"_navigatorSettingButton",static:!1,private:!1,access:{has:e=>"_navigatorSettingButton"in e,get:e=>e._navigatorSettingButton,set:(e,t)=>{e._navigatorSettingButton=t}},metadata:P},g,m),M2(this,null,s,{kind:"accessor",name:"_navigatorSettingMenu",static:!1,private:!1,access:{has:e=>"_navigatorSettingMenu"in e,get:e=>e._navigatorSettingMenu,set:(e,t)=>{e._navigatorSettingMenu=t}},metadata:P},v,y),M2(this,null,o,{kind:"accessor",name:"blackBackground",static:!1,private:!1,access:{has:e=>"blackBackground"in e,get:e=>e.blackBackground,set:(e,t)=>{e.blackBackground=t}},metadata:P},b,w),M2(this,null,r,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:P},x,_),M2(this,null,a,{kind:"accessor",name:"frames",static:!1,private:!1,access:{has:e=>"frames"in e,get:e=>e.frames,set:(e,t)=>{e.frames=t}},metadata:P},C,k),M2(this,null,n,{kind:"accessor",name:"hideToolbar",static:!1,private:!1,access:{has:e=>"hideToolbar"in e,get:e=>e.hideToolbar,set:(e,t)=>{e.hideToolbar=t}},metadata:P},S,M),M2(this,null,l,{kind:"accessor",name:"includeFrameOrder",static:!1,private:!1,access:{has:e=>"includeFrameOrder"in e,get:e=>e.includeFrameOrder,set:(e,t)=>{e.includeFrameOrder=t}},metadata:P},E,I),M2(this,null,c,{kind:"accessor",name:"onHideToolbarChange",static:!1,private:!1,access:{has:e=>"onHideToolbarChange"in e,get:e=>e.onHideToolbarChange,set:(e,t)=>{e.onHideToolbarChange=t}},metadata:P},B,$),M2(this,null,d,{kind:"accessor",name:"popperShow",static:!1,private:!1,access:{has:e=>"popperShow"in e,get:e=>e.popperShow,set:(e,t)=>{e.popperShow=t}},metadata:P},T,O),M2(this,null,h,{kind:"accessor",name:"setPopperShow",static:!1,private:!1,access:{has:e=>"setPopperShow"in e,get:e=>e.setPopperShow,set:(e,t)=>{e.setPopperShow=t}},metadata:P},A,D),M2(null,e={value:t},u,{kind:"class",name:t.name,metadata:P},null,p),t=e.value,P&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:P})}static{this.styles=(0,H.AH)`
    .navigator-setting-menu {
      display: none;
      padding: 8px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 500;
      background-color: var(--affine-background-overlay-panel-color);
      box-shadow: var(--affine-menu-shadow);
      color: var(--affine-text-primary-color);
    }

    .navigator-setting-menu[data-show] {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .item-container {
      padding: 4px 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      min-width: 264px;
      width: 100%;
      box-sizing: border-box;
    }
    .item-container.header {
      height: 34px;
    }

    .text {
      padding: 0px 4px;
      line-height: 22px;
      font-size: var(--affine-font-sm);
      color: var(--affine-text-primary-color);
    }

    .text.title {
      font-weight: 500;
      line-height: 20px;
      font-size: var(--affine-font-xs);
      color: var(--affine-text-secondary-color);
    }

    .divider {
      width: 100%;
      height: 16px;
      display: flex;
      align-items: center;
    }
    .divider::before {
      content: '';
      width: 100%;
      height: 1px;
      background: var(--affine-border-color);
    }
  `}_tryRestoreSettings(){let e=this.edgeless.service.editPropsStore.getStorage("presentBlackBackground");this.blackBackground=e??!0}connectedCallback(){super.connectedCallback(),this._tryRestoreSettings()}firstUpdated(){this._navigatorSettingPopper=(0,wb.j)(this._navigatorSettingButton,this._navigatorSettingMenu,({display:e})=>this.setPopperShow("show"===e),{mainAxis:22})}render(){return(0,H.qy)`
      <edgeless-tool-icon-button
        class="navigator-setting-button"
        .tooltip=${this.popperShow?"":"Settings"}
        @click=${()=>{this._navigatorSettingPopper?.toggle()}}
        .iconContainerPadding=${0}
      >
        ${e_}
      </edgeless-tool-icon-button>

      <div
        class="navigator-setting-menu"
        @click=${e=>{e.stopPropagation()}}
      >
        <div class="item-container header">
          <div class="text title">Playback Settings</div>
        </div>

        <div class="item-container">
          <div class="text">Black background</div>

          <toggle-switch
            .on=${this.blackBackground}
            .onChange=${this._onBlackBackgroundChange}
          >
          </toggle-switch>
        </div>

        <div class="item-container">
          <div class="text">Hide toolbar</div>

          <toggle-switch
            .on=${this.hideToolbar}
            .onChange=${e=>{this.onHideToolbarChange&&this.onHideToolbarChange(e)}}
          >
          </toggle-switch>
        </div>

        ${this.includeFrameOrder?(0,H.qy)` <div class="divider"></div>
              <div class="item-container header">
                <div class="text title">Frame Order</div>
              </div>

              <edgeless-frame-order-menu
                .edgeless=${this.edgeless}
                .frames=${this.frames}
                .embed=${!0}
              ></edgeless-frame-order-menu>`:H.s6}
      </div>
    `}#a6;get _navigatorSettingButton(){return this.#a6}set _navigatorSettingButton(e){this.#a6=e}#a8;get _navigatorSettingMenu(){return this.#a8}set _navigatorSettingMenu(e){this.#a8=e}#a9;get blackBackground(){return this.#a9}set blackBackground(e){this.#a9=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#rR;get frames(){return this.#rR}set frames(e){this.#rR=e}#ne;get hideToolbar(){return this.#ne}set hideToolbar(e){this.#ne=e}#nt;get includeFrameOrder(){return this.#nt}set includeFrameOrder(e){this.#nt=e}#ni;get onHideToolbarChange(){return this.#ni}set onHideToolbarChange(e){this.#ni=e}#aQ;get popperShow(){return this.#aQ}set popperShow(e){this.#aQ=e}#aJ;get setPopperShow(){return this.#aJ}set setPopperShow(e){this.#aJ=e}constructor(){super(...arguments),this._navigatorSettingPopper=null,this._onBlackBackgroundChange=e=>{this.blackBackground=e,this.edgeless.slots.navigatorSettingUpdated.emit({blackBackground:this.blackBackground})},this.#a6=M5(this,g,void 0),this.#a8=(M5(this,m),M5(this,v,void 0)),this.#a9=(M5(this,y),M5(this,b,!0)),this.#iE=(M5(this,w),M5(this,x,void 0)),this.#rR=(M5(this,_),M5(this,C,void 0)),this.#ne=(M5(this,k),M5(this,S,!1)),this.#nt=(M5(this,M),M5(this,E,!1)),this.#ni=(M5(this,I),M5(this,B,void 0)),this.#aQ=(M5(this,$),M5(this,T,!1)),this.#aJ=(M5(this,O),M5(this,A,()=>{})),M5(this,D)}static{M5(t,p)}})})();var M7=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},M3=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l,c,d=[(0,L.EM)("presentation-toolbar")],h=[],u=MQ(H.WF),p=[],f=[],g=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[];(class extends u{static{t=this}static{let m="function"==typeof Symbol&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;i=[(0,L.wk)({hasChanged:()=>!0})],s=[(0,L.wk)()],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({type:Boolean})],a=[(0,L.MZ)()],n=[(0,L.MZ)()],l=[(0,L.MZ)({type:Boolean})],c=[(0,L.MZ)({attribute:!0,type:Boolean})],M7(this,null,i,{kind:"accessor",name:"_currentFrameIndex",static:!1,private:!1,access:{has:e=>"_currentFrameIndex"in e,get:e=>e._currentFrameIndex,set:(e,t)=>{e._currentFrameIndex=t}},metadata:m},p,f),M7(this,null,s,{kind:"accessor",name:"_navigatorMode",static:!1,private:!1,access:{has:e=>"_navigatorMode"in e,get:e=>e._navigatorMode,set:(e,t)=>{e._navigatorMode=t}},metadata:m},g,v),M7(this,null,o,{kind:"accessor",name:"containerWidth",static:!1,private:!1,access:{has:e=>"containerWidth"in e,get:e=>e.containerWidth,set:(e,t)=>{e.containerWidth=t}},metadata:m},y,b),M7(this,null,r,{kind:"accessor",name:"frameMenuShow",static:!1,private:!1,access:{has:e=>"frameMenuShow"in e,get:e=>e.frameMenuShow,set:(e,t)=>{e.frameMenuShow=t}},metadata:m},w,x),M7(this,null,a,{kind:"accessor",name:"setFrameMenuShow",static:!1,private:!1,access:{has:e=>"setFrameMenuShow"in e,get:e=>e.setFrameMenuShow,set:(e,t)=>{e.setFrameMenuShow=t}},metadata:m},_,C),M7(this,null,n,{kind:"accessor",name:"setSettingMenuShow",static:!1,private:!1,access:{has:e=>"setSettingMenuShow"in e,get:e=>e.setSettingMenuShow,set:(e,t)=>{e.setSettingMenuShow=t}},metadata:m},k,S),M7(this,null,l,{kind:"accessor",name:"settingMenuShow",static:!1,private:!1,access:{has:e=>"settingMenuShow"in e,get:e=>e.settingMenuShow,set:(e,t)=>{e.settingMenuShow=t}},metadata:m},M,E),M7(this,null,c,{kind:"accessor",name:"visible",static:!1,private:!1,access:{has:e=>"visible"in e,get:e=>e.visible,set:(e,t)=>{e.visible=t}},metadata:m},I,B),M7(null,e={value:t},d,{kind:"class",name:t.name,metadata:m},null,h),t=e.value,m&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m})}static{this.styles=(0,H.AH)`
    :host {
      align-items: inherit;
      width: 100%;
      height: 100%;
      gap: 8px;
      padding-right: 2px;
    }
    .full-divider {
      width: 8px;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .full-divider::after {
      content: '';
      width: 1px;
      height: 100%;
      background: var(--affine-border-color);
      transform: scaleX(0.5);
    }
    .config-buttons {
      display: flex;
      gap: 10px;
    }
    .edgeless-frame-navigator {
      width: 140px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .edgeless-frame-navigator.dense {
      width: auto;
    }

    .edgeless-frame-navigator-title {
      display: inline-block;
      cursor: pointer;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
      padding-right: 8px;
    }

    .edgeless-frame-navigator-count {
      color: var(--affine-text-secondary-color);
      white-space: nowrap;
    }
    .edgeless-frame-navigator-stop {
      border: none;
      cursor: pointer;
      padding: 4px;
      border-radius: 8px;
      position: relative;
      overflow: hidden;

      svg {
        display: block;
      }
    }
    .edgeless-frame-navigator-stop::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: transparent;
      border-radius: inherit;
    }
    .edgeless-frame-navigator-stop:hover::before {
      background: var(--affine-hover-color);
    }
  `}constructor(e){super(),this._cachedIndex=-1,this.type="frameNavigator",this.#ns=M3(this,p,0),this.#no=(M3(this,f),M3(this,g,"fit")),this.#nr=(M3(this,v),M3(this,y,1920)),this.#na=(M3(this,b),M3(this,w,!1)),this.#nn=(M3(this,x),M3(this,_,()=>{})),this.#nl=(M3(this,C),M3(this,k,()=>{})),this.#nc=(M3(this,S),M3(this,M,!1)),this.#nd=(M3(this,E),M3(this,I,!0)),M3(this,B),this.edgeless=e}get _cachedPresentHideToolbar(){return!!this.edgeless.service.editPropsStore.getStorage("presentHideToolbar")}set _cachedPresentHideToolbar(e){this.edgeless.service.editPropsStore.setStorage("presentHideToolbar",!!e)}get _frames(){return this.edgeless.service.frames}_moveToCurrentFrame(){let e=this._currentFrameIndex,t=this.edgeless.service.viewport,i=this._frames[e];if(i){let e=m.z.deserialize(i.xywh);if("fill"===this._navigatorMode){let i,s;let o=t.viewportBounds,r=e.center;o.w/o.h>e.w/e.h?s=(i=e.w)*o.h/o.w:i=(s=e.h)*o.w/o.h,e=m.z.fromCenter(r,i,s)}t.setViewportByBound(e,[0,0,0,0],!1),this.edgeless.slots.navigatorFrameChanged.emit(this._frames[this._currentFrameIndex])}}_nextFrame(){let e=this._frames,t=e.length-1;this._currentFrameIndex===e.length-1?l8(this.host,"You have reached the last frame"):this._currentFrameIndex=(0,iH.qE)(this._currentFrameIndex+1,0,t)}_previousFrame(){let e=this._frames.length-1;0===this._currentFrameIndex?l8(this.host,"You have reached the first frame"):this._currentFrameIndex=(0,iH.qE)(this._currentFrameIndex-1,0,e)}_toggleFullScreen(){if(document.fullscreenElement)clearTimeout(this._timer),document.exitFullscreen().catch(console.error);else{var e;(e=this.edgeless.viewportElement).requestFullscreen?e.requestFullscreen().catch(console.error):"mozRequestFullScreen"in e&&e.mozRequestFullScreen instanceof Function?e.mozRequestFullScreen():"webkitRequestFullscreen"in e&&e.webkitRequestFullscreen instanceof Function?e.webkitRequestFullscreen():"msRequestFullscreen"in e&&e.msRequestFullscreen instanceof Function&&e.msRequestFullscreen(),this._timer=setTimeout(()=>{this._currentFrameIndex=this._cachedIndex},400)}setTimeout(()=>this._moveToCurrentFrame(),400),this.edgeless.slots.fullScreenToggled.emit()}firstUpdated(){let{_disposables:e,edgeless:t}=this,{slots:i}=t;e.add(t.bindHotKey({ArrowLeft:()=>{let{type:e}=this.edgelessTool;"frameNavigator"===e&&this._previousFrame()},ArrowRight:()=>{let{type:e}=this.edgelessTool;"frameNavigator"===e&&this._nextFrame()}},{global:!0})),e.add(i.edgelessToolUpdated.on(e=>{"frameNavigator"===e.type&&(this._cachedIndex=this._currentFrameIndex,this._navigatorMode=e.mode??this._navigatorMode,gP(t.service.selection.selectedElements[0])&&(this._cachedIndex=this._frames.findIndex(e=>e.id===t.service.selection.selectedElements[0].id)),0===this._frames.length&&l8(this.host,"The presentation requires at least 1 frame. You can firstly create a frame.",5e3),this._toggleFullScreen()),this.requestUpdate()})),e.add(t.slots.navigatorSettingUpdated.on(({fillScreen:e})=>{void 0!==e&&(this._navigatorMode=e?"fill":"fit")})),this._navigatorMode=!0===this.edgeless.service.editPropsStore.getStorage("presentFillScreen")?"fill":"fit"}render(){let e=this._currentFrameIndex,t=this._frames,i=t[e],{doc:s}=this.edgeless;return(0,H.qy)`
      <style>
        :host {
          display: ${this.visible?"flex":"none"};
        }
      </style>
      <edgeless-tool-icon-button
        .iconContainerPadding=${0}
        .tooltip=${"Previous"}
        @click=${()=>this._previousFrame()}
      >
        ${ev}
      </edgeless-tool-icon-button>

      <div class="edgeless-frame-navigator ${this.dense?"dense":""}">
        ${this.dense?H.s6:(0,H.qy)`<span
              style="color: ${(0,oY.Vg)("textPrimaryColor")}"
              class="edgeless-frame-navigator-title"
              @click=${()=>this._moveToCurrentFrame()}
            >
              ${i?.title??"no frame"}
            </span>`}

        <span class="edgeless-frame-navigator-count">
          ${0===t.length?0:e+1} / ${t.length}
        </span>
      </div>

      <edgeless-tool-icon-button
        .tooltip=${"Next"}
        @click=${()=>this._nextFrame()}
        .iconContainerPadding=${0}
      >
        ${ey}
      </edgeless-tool-icon-button>

      <div class="full-divider"></div>

      <div class="config-buttons">
        <edgeless-tool-icon-button
          .tooltip=${document.fullscreenElement?"Exit Full Screen":"Enter Full Screen"}
          @click=${()=>this._toggleFullScreen()}
          .iconContainerPadding=${0}
          .iconContainerWidth=${"24px"}
        >
          ${document.fullscreenElement?ew:eb}
        </edgeless-tool-icon-button>

        ${this.dense?H.s6:(0,H.qy)`<edgeless-frame-order-button
              .popperShow=${this.frameMenuShow}
              .setPopperShow=${this.setFrameMenuShow}
              .frames=${this._frames}
              .edgeless=${this.edgeless}
            >
            </edgeless-frame-order-button>`}

        <edgeless-navigator-setting-button
          .edgeless=${this.edgeless}
          .hideToolbar=${this._cachedPresentHideToolbar}
          .onHideToolbarChange=${e=>{this._cachedPresentHideToolbar=e}}
          .popperShow=${this.settingMenuShow}
          .setPopperShow=${this.setSettingMenuShow}
          .frames=${this._frames}
          .includeFrameOrder=${this.dense}
        >
        </edgeless-navigator-setting-button>
      </div>

      <div class="full-divider"></div>

      <button
        class="edgeless-frame-navigator-stop"
        @click=${()=>{this.setEdgelessTool(s.readonly?{type:"pan",panning:!1}:{type:"default"}),document.fullscreenElement&&this._toggleFullScreen()}}
        style="background: ${(0,oY.Vg)("warningColor")}"
      >
        ${is}
      </button>
    `}updated(e){e.has("_currentFrameIndex")&&"frameNavigator"===this.edgelessTool.type&&this._moveToCurrentFrame()}get dense(){return this.containerWidth<554}get host(){return this.edgeless.host}#ns;get _currentFrameIndex(){return this.#ns}set _currentFrameIndex(e){this.#ns=e}#no;get _navigatorMode(){return this.#no}set _navigatorMode(e){this.#no=e}#nr;get containerWidth(){return this.#nr}set containerWidth(e){this.#nr=e}#na;get frameMenuShow(){return this.#na}set frameMenuShow(e){this.#na=e}#nn;get setFrameMenuShow(){return this.#nn}set setFrameMenuShow(e){this.#nn=e}#nl;get setSettingMenuShow(){return this.#nl}set setSettingMenuShow(e){this.#nl=e}#nc;get settingMenuShow(){return this.#nc}set settingMenuShow(e){this.#nc=e}#nd;get visible(){return this.#nd}set visible(e){this.#nd=e}static{M3(t,h)}})})();let M4=(e,t,i,s,o)=>{let r={...s};return e.editPropsStore.slots.lastPropsUpdated.on(({type:e,props:s})=>{if(e!==t)return;let a=i.filter(e=>s[e]!==r[e]&&void 0!=s[e]).reduce((e,t)=>({...e,[t]:s[t]}),{});Object.assign(r,a),o?.(a,s)})},M6=(e,t,i,s)=>{let o=e.editPropsStore.getLastProps(t),r=i.reduce((e,t)=>({...e,[t]:o[t]}),s);return Object.assign(s,r),r};var M8=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},M9=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l=[(0,L.EM)("edgeless-slide-menu")],c=[],d=(0,P.Tm)(H.WF),h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[];(class extends d{static{t=this}static{let C="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.P)(".menu-container")],s=[(0,L.P)(".slide-menu-content")],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,MP.Fg)({context:Mj})],M8(this,null,i,{kind:"accessor",name:"_menuContainer",static:!1,private:!1,access:{has:e=>"_menuContainer"in e,get:e=>e._menuContainer,set:(e,t)=>{e._menuContainer=t}},metadata:C},h,u),M8(this,null,s,{kind:"accessor",name:"_slideMenuContent",static:!1,private:!1,access:{has:e=>"_slideMenuContent"in e,get:e=>e._slideMenuContent,set:(e,t)=>{e._slideMenuContent=t}},metadata:C},p,f),M8(this,null,o,{kind:"accessor",name:"height",static:!1,private:!1,access:{has:e=>"height"in e,get:e=>e.height,set:(e,t)=>{e.height=t}},metadata:C},g,m),M8(this,null,r,{kind:"accessor",name:"showNext",static:!1,private:!1,access:{has:e=>"showNext"in e,get:e=>e.showNext,set:(e,t)=>{e.showNext=t}},metadata:C},v,y),M8(this,null,a,{kind:"accessor",name:"showPrevious",static:!1,private:!1,access:{has:e=>"showPrevious"in e,get:e=>e.showPrevious,set:(e,t)=>{e.showPrevious=t}},metadata:C},b,w),M8(this,null,n,{kind:"accessor",name:"toolbarSlots",static:!1,private:!1,access:{has:e=>"toolbarSlots"in e,get:e=>e.toolbarSlots,set:(e,t)=>{e.toolbarSlots=t}},metadata:C},x,_),M8(null,e={value:t},l,{kind:"class",name:t.name,metadata:C},null,c),t=e.value,C&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})}static{this.styles=(0,H.AH)`
    :host {
      max-width: 100%;
    }
    ::-webkit-scrollbar {
      display: none;
    }
    .slide-menu-wrapper {
      position: relative;
    }
    .menu-container {
      background: var(--affine-background-overlay-panel-color);
      border-radius: 8px 8px 0 0;
      border: 1px solid var(--affine-border-color);
      border-bottom: none;
      display: flex;
      align-items: center;
      width: fit-content;
      max-width: 100%;
      overflow-x: auto;
      overscroll-behavior: none;
      scrollbar-width: none;
      position: relative;
      height: calc(var(--menu-height) + 1px);
      box-sizing: border-box;
      padding: 0 10px;
      scroll-snap-type: x mandatory;
    }
    .slide-menu-content {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
      transition: left 0.5s ease-in-out;
    }
    .next-slide-button,
    .previous-slide-button {
      align-items: center;
      justify-content: center;
      position: absolute;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: 1px solid var(--affine-border-color);
      background: var(--affine-background-overlay-panel-color);
      box-shadow: var(--affine-shadow-2);
      color: var(--affine-icon-color);
      transition:
        transform 0.3s ease-in-out,
        opacity 0.5s ease-in-out;
      z-index: 12;
    }
    .next-slide-button {
      opacity: 0;
      display: flex;
      top: 50%;
      right: 0;
      transform: translate(50%, -50%) scale(0.5);
    }
    .next-slide-button:hover {
      cursor: pointer;
      transform: translate(50%, -50%) scale(1);
    }
    .previous-slide-button {
      opacity: 0;
      top: 50%;
      left: 0;
      transform: translate(-50%, -50%) scale(0.5);
    }
    .previous-slide-button:hover {
      cursor: pointer;
      transform: translate(-50%, -50%) scale(1);
    }
    .previous-slide-button svg {
      transform: rotate(180deg);
    }
  `}_handleSlideButtonClick(e){let t=this._slideMenuContent.clientWidth,i=this._menuContainer.scrollLeft,s=this._menuContainer.clientWidth;this._menuContainer.scrollTo({left:Math.max(0,Math.min(i+("left"===e?-s:s),t)),behavior:"smooth"})}_handleWheel(e){e.stopPropagation()}_toggleSlideButton(){let e=this._menuContainer.scrollLeft,t=this._menuContainer.clientWidth,i=this._slideMenuContent.clientWidth-t+2;this.showPrevious=e>0,this.showNext=e<i}firstUpdated(){setTimeout(this._toggleSlideButton.bind(this),0),this._disposables.addFromEvent(this._menuContainer,"scrollend",()=>{this._toggleSlideButton()}),this._disposables.add(this.toolbarSlots.resize.on(()=>this._toggleSlideButton()))}render(){return(0,H.qy)`
      <div class="slide-menu-wrapper">
        <div
          class="previous-slide-button"
          @click=${()=>this._handleSlideButtonClick("left")}
          style=${(0,Z.W)({opacity:this.showPrevious?"1":"0"})}
        >
          ${tL}
        </div>
        <div
          class="menu-container"
          style=${(0,Z.W)({"--menu-height":this.height})}
        >
          <div class="slide-menu-content" @wheel=${this._handleWheel}>
            <slot></slot>
          </div>
        </div>
        <div
          style=${(0,Z.W)({opacity:this.showNext?"1":"0"})}
          class="next-slide-button"
          @click=${()=>this._handleSlideButtonClick("right")}
        >
          ${tL}
        </div>
      </div>
    `}#nh=M9(this,h,void 0);get _menuContainer(){return this.#nh}set _menuContainer(e){this.#nh=e}#nu=(M9(this,u),M9(this,p,void 0));get _slideMenuContent(){return this.#nu}set _slideMenuContent(e){this.#nu=e}#F=(M9(this,f),M9(this,g,"40px"));get height(){return this.#F}set height(e){this.#F=e}#np=(M9(this,m),M9(this,v,!1));get showNext(){return this.#np}set showNext(e){this.#np=e}#nf=(M9(this,y),M9(this,b,!1));get showPrevious(){return this.#nf}set showPrevious(e){this.#nf=e}#a3=(M9(this,w),M9(this,x,void 0));get toolbarSlots(){return this.#a3}set toolbarSlots(e){this.#a3=e}constructor(){super(...arguments),M9(this,_)}static{M9(t,c)}})})();var Ee=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Et=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,L.EM)("edgeless-brush-menu")],a=[],n=MQ(H.WF),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],Ee(this,null,i,{kind:"accessor",name:"color",static:!1,private:!1,access:{has:e=>"color"in e,get:e=>e.color,set:(e,t)=>{e.color=t}},metadata:f},l,c),Ee(this,null,s,{kind:"accessor",name:"lineWidth",static:!1,private:!1,access:{has:e=>"lineWidth"in e,get:e=>e.lineWidth,set:(e,t)=>{e.lineWidth=t}},metadata:f},d,h),Ee(this,null,o,{kind:"accessor",name:"onChange",static:!1,private:!1,access:{has:e=>"onChange"in e,get:e=>e.onChange,set:(e,t)=>{e.onChange=t}},metadata:f},u,p),Ee(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      position: absolute;
      z-index: -1;
    }

    .menu-content {
      display: flex;
      align-items: center;
    }

    menu-divider {
      height: 24px;
      margin: 0 9px;
    }
  `}render(){let e=im.Q.getColorValue(this.color,g2());return(0,H.qy)`
      <edgeless-slide-menu>
        <div class="menu-content">
          <edgeless-line-width-panel
            .selectedSize=${this.lineWidth}
            @select=${e=>this.onChange({lineWidth:e.detail})}
          >
          </edgeless-line-width-panel>
          <menu-divider .vertical=${!0}></menu-divider>
          <edgeless-one-row-color-panel
            .value=${e}
            .hasTransparent=${!this.edgeless.doc.awarenessStore.getFlag("enable_color_picker")}
            @select=${e=>this.onChange({color:e.detail})}
          ></edgeless-one-row-color-panel>
        </div>
      </edgeless-slide-menu>
    `}#iw;get color(){return this.#iw}set color(e){this.#iw=e}#ng;get lineWidth(){return this.#ng}set lineWidth(e){this.#ng=e}#ef;get onChange(){return this.#ef}set onChange(e){this.#ef=e}constructor(){super(...arguments),this.type="brush",this.#iw=Et(this,l,void 0),this.#ng=(Et(this,c),Et(this,d,void 0)),this.#ef=(Et(this,h),Et(this,u,void 0)),Et(this,p)}static{Et(t,a)}})})();var Ei=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Es=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("edgeless-brush-tool-button")],s=[],o=MQ(H.WF),r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;Ei(this,null,[(0,L.wk)()],{kind:"accessor",name:"states",static:!1,private:!1,access:{has:e=>"states"in e,get:e=>e.states,set:(e,t)=>{e.states=t}},metadata:n},r,a),Ei(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      height: 100%;
      overflow-y: hidden;
    }
    .edgeless-brush-button {
      height: 100%;
    }
    .pen-wrapper {
      width: 35px;
      height: 64px;
      display: flex;
      align-items: flex-end;
      justify-content: center;
    }
    #edgeless-pen-icon {
      transition: transform 0.3s ease-in-out;
      transform: translateY(8px);
    }
    .edgeless-brush-button:hover #edgeless-pen-icon,
    .pen-wrapper.active #edgeless-pen-icon {
      transform: translateY(0);
    }
  `}_toggleBrushMenu(){this.tryDisposePopper()||(this.active||this.setEdgelessTool({type:this.type}),Object.assign(this.createPopper("edgeless-brush-menu",this).element,{edgeless:this.edgeless,onChange:e=>{this.edgeless.service.editPropsStore.recordLastProps("brush",e),this.setEdgelessTool({type:"brush"})}}),this.updateMenu())}connectedCallback(){super.connectedCallback();let{edgeless:e,states:t,statesKeys:i}=this;M6(e.service,"brush",i,t),this.disposables.add(M4(e.service,"brush",i,t,e=>{this.states={...this.states,...e}}))}render(){let{active:e,theme:t}=this,i="dark"===t?tv:tm,s=im.Q.generateColorProperty(this.states.color);return(0,H.qy)`
      <edgeless-toolbar-button
        class="edgeless-brush-button"
        .tooltip=${this.popper?"":ky("Pen","P")}
        .tooltipOffset=${4}
        .active=${e}
        .withHover=${!0}
        @click=${()=>this._toggleBrushMenu()}
      >
        <div style=${(0,Z.W)({color:s})} class="pen-wrapper">${i}</div>
      </edgeless-toolbar-button>
    `}updateMenu(){let{popper:e}=this;e&&Object.assign(e.element,this.states)}updated(e){e.has("states")&&this.popper&&this.updateMenu()}get statesKeys(){return Object.keys(this.states)}#nm;get states(){return this.#nm}set states(e){this.#nm=e}constructor(){super(...arguments),this.enableActiveBackground=!0,this.type="brush",this.#nm=Es(this,r,{color:g7,lineWidth:st.D9.Four}),Es(this,a)}static{Es(t,s)}})})();let Eo=e=>{let t=e.service.editPropsStore.getLastProps("connector").mode??S.B1.Curve,i="connector"===e.tools.edgelessTool.type,s=(t,i=!0)=>()=>{e.tools.setEdgelessTool({type:"connector",mode:t}),i&&e.service.editPropsStore.recordLastProps("connector",{mode:t})};return{type:"sub-menu",name:"Connector",icon:tU,select:s(t,!1),isSelected:i,options:{items:[{type:"action",name:"Curve",icon:e3,select:s(S.B1.Curve),isSelected:i&&t===S.B1.Curve},{type:"action",name:"Elbowed",icon:e4,select:s(S.B1.Orthogonal),isSelected:i&&t===S.B1.Orthogonal},{type:"action",name:"Straight",icon:e6,select:s(S.B1.Straight),isSelected:i&&t===S.B1.Straight}]}}},Er=e=>{class t extends MQ(e){}return t};var Ea=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},En=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("edgeless-connector-menu")],n=[],l=MQ(H.WF),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],Ea(this,null,i,{kind:"accessor",name:"mode",static:!1,private:!1,access:{has:e=>"mode"in e,get:e=>e.mode,set:(e,t)=>{e.mode=t}},metadata:v},c,d),Ea(this,null,s,{kind:"accessor",name:"onChange",static:!1,private:!1,access:{has:e=>"onChange"in e,get:e=>e.onChange,set:(e,t)=>{e.onChange=t}},metadata:v},h,u),Ea(this,null,o,{kind:"accessor",name:"stroke",static:!1,private:!1,access:{has:e=>"stroke"in e,get:e=>e.stroke,set:(e,t)=>{e.stroke=t}},metadata:v},p,f),Ea(this,null,r,{kind:"accessor",name:"strokeWidth",static:!1,private:!1,access:{has:e=>"strokeWidth"in e,get:e=>e.strokeWidth,set:(e,t)=>{e.strokeWidth=t}},metadata:v},g,m),Ea(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    :host {
      position: absolute;
      display: flex;
      z-index: -1;
    }

    .connector-submenu-content {
      display: flex;
      height: 24px;
      align-items: center;
      justify-content: center;
    }

    .connector-mode-button-group {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 14px;
    }

    .connector-mode-button-group > edgeless-tool-icon-button svg {
      fill: var(--affine-icon-color);
    }

    .submenu-divider {
      width: 1px;
      height: 24px;
      margin: 0 16px;
      background-color: var(--affine-border-color);
      display: inline-block;
    }
  `}render(){var e,t;let{stroke:i,strokeWidth:s}=this,o=(e=this.mode,t=this.onChange,(0,H.qy)`
    <div class="connector-mode-button-group">
      <edgeless-tool-icon-button
        .active=${e===S.B1.Curve}
        .activeMode=${"background"}
        .tooltip=${"Curve"}
        @click=${()=>t({mode:S.B1.Curve})}
      >
        ${e3}
      </edgeless-tool-icon-button>
      <edgeless-tool-icon-button
        .active=${e===S.B1.Orthogonal}
        .activeMode=${"background"}
        .tooltip=${"Elbowed"}
        @click=${()=>t({mode:S.B1.Orthogonal})}
      >
        ${e4}
      </edgeless-tool-icon-button>
      <edgeless-tool-icon-button
        .active=${e===S.B1.Straight}
        .activeMode=${"background"}
        .tooltip=${"Straight"}
        @click=${()=>t({mode:S.B1.Straight})}
      >
        ${e6}
      </edgeless-tool-icon-button>
    </div>
  `),r=im.Q.getColorValue(i,g3);return(0,H.qy)`
      <edgeless-slide-menu>
        <div class="connector-submenu-content">
          ${o}
          <div class="submenu-divider"></div>
          <edgeless-line-width-panel
            .selectedSize=${s}
            @select=${e=>this.onChange({strokeWidth:e.detail})}
          >
          </edgeless-line-width-panel>
          <div class="submenu-divider"></div>
          <edgeless-one-row-color-panel
            .value=${r}
            .hasTransparent=${!this.edgeless.doc.awarenessStore.getFlag("enable_color_picker")}
            @select=${e=>this.onChange({stroke:e.detail})}
          ></edgeless-one-row-color-panel>
        </div>
      </edgeless-slide-menu>
    `}#tc;get mode(){return this.#tc}set mode(e){this.#tc=e}#ef;get onChange(){return this.#ef}set onChange(e){this.#ef=e}#nv;get stroke(){return this.#nv}set stroke(e){this.#nv=e}#oV;get strokeWidth(){return this.#oV}set strokeWidth(e){this.#oV=e}constructor(){super(...arguments),this.type="connector",this.#tc=En(this,c,void 0),this.#ef=(En(this,d),En(this,h,void 0)),this.#nv=(En(this,u),En(this,p,void 0)),this.#oV=(En(this,f),En(this,g,void 0)),En(this,m)}static{En(t,n)}})})();var El=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Ec=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("edgeless-connector-tool-button")],s=[],o=Er(H.WF),r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;El(this,null,[(0,L.wk)()],{kind:"accessor",name:"states",static:!1,private:!1,access:{has:e=>"states"in e,get:e=>e.states,set:(e,t)=>{e.states=t}},metadata:n},r,a),El(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
    }
    .edgeless-connector-button {
      display: flex;
      position: relative;
    }
    .arrow-up-icon {
      position: absolute;
      top: 4px;
      right: 2px;
      font-size: 0;
    }
  `}_toggleMenu(){if(this.tryDisposePopper())return;let e=this.createPopper("edgeless-connector-menu",this);e.element.edgeless=this.edgeless,e.element.onChange=e=>{this.edgeless.service.editPropsStore.recordLastProps(this.type,e),this.updateMenu(),this.setEdgelessTool({type:this.type,mode:this.states.mode})},this.updateMenu()}connectedCallback(){super.connectedCallback();let{edgeless:e,states:t,stateKeys:i,type:s}=this;M6(e.service,s,i,t),this.disposables.add(M4(e.service,s,i,t,e=>{this.states={...this.states,...e},this.updateMenu()}))}render(){let{active:e}=this;return(0,H.qy)`
      <edgeless-tool-icon-button
        .tooltip=${this.popper?"":ky((0,S.o)(this.states.mode),"C")}
        .tooltipOffset=${17}
        .active=${e}
        .iconContainerPadding=${6}
        class="edgeless-connector-button"
        @click=${()=>{this._toggleMenu(),this.edgeless.tools.setEdgelessTool({type:"connector",mode:this.states.mode})}}
      >
        ${tU}
        <span class="arrow-up-icon" style=${(0,Z.W)({color:e?"currentColor":"var(--affine-icon-secondary)"})}>
          ${tf}
        </span>
      </edgeless-tool-icon-button>
    `}updateMenu(){this.popper&&Object.assign(this.popper.element,this.states)}get stateKeys(){return Object.keys(this.states)}#nm;get states(){return this.#nm}set states(e){this.#nm=e}constructor(){super(...arguments),this.type="connector",this.#nm=Ec(this,r,{mode:S.B1.Curve,stroke:g3,strokeWidth:st.D9.Two}),Ec(this,a)}static{Ec(t,s)}})})();var Ed=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Eh=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("edgeless-default-tool-button")],s=[],o=Er(H.WF),r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;Ed(this,null,[(0,L.P)(".current-icon")],{kind:"accessor",name:"currentIcon",static:!1,private:!1,access:{has:e=>"currentIcon"in e,get:e=>e.currentIcon,set:(e,t)=>{e.currentIcon=t}},metadata:n},r,a),Ed(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    .current-icon {
      transition: 100ms;
      width: 24px;
      height: 24px;
    }
    .current-icon > svg {
      display: block;
    }
    .arrow-up-icon {
      position: absolute;
      top: 4px;
      right: 2px;
      font-size: 0;
      color: var(--affine-icon-secondary);
    }
    .active .arrow-up-icon {
      color: inherit;
    }
  `}_changeTool(){this.toolbar.activePopper&&this.toolbar.activePopper.dispose();let e=this.edgelessTool?.type;if("default"!==e&&"pan"!==e){"default"===localStorage.defaultTool?this.setEdgelessTool({type:"default"}):"pan"===localStorage.defaultTool&&this.setEdgelessTool({type:"pan",panning:!1});return}this._fadeOut(),setTimeout(()=>{"default"===e?this.setEdgelessTool({type:"pan",panning:!1}):"pan"===e&&this.setEdgelessTool({type:"default"}),this._fadeIn()},100)}_fadeIn(){this.currentIcon.style.opacity="1",this.currentIcon.style.transform="translateY(0px)"}_fadeOut(){this.currentIcon.style.opacity="0",this.currentIcon.style.transform="translateY(-5px)"}connectedCallback(){super.connectedCallback(),localStorage.defaultTool||(localStorage.defaultTool="default"),this.disposables.add(this.edgeless.slots.edgelessToolUpdated.on(({type:e})=>{("default"===e||"pan"===e)&&(localStorage.defaultTool=e)}))}render(){let e=this.edgelessTool?.type,{active:t}=this;return(0,H.qy)`
      <edgeless-tool-icon-button
        class="edgeless-default-button ${e} ${t?"active":""}"
        .tooltip=${"pan"===e?ky("Hand","H"):ky("Select","V")}
        .tooltipOffset=${17}
        .active=${t}
        .iconContainerPadding=${6}
        @click=${this._changeTool}
      >
        <span class="current-icon">
          ${"default"===localStorage.defaultTool?eh:e$}
        </span>
        <span class="arrow-up-icon">${tf}</span>
      </edgeless-tool-icon-button>
    `}#ny;get currentIcon(){return this.#ny}set currentIcon(e){this.#ny=e}constructor(){super(...arguments),this.type=["default","pan"],this.#ny=Eh(this,r,void 0),Eh(this,a)}static{Eh(t,s)}})})();var Eu=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Ep=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("edgeless-eraser-tool-button")],s=[],o=MQ(H.WF);(class extends o{static{t=this}constructor(){super(...arguments),this.enableActiveBackground=!0,this.type="eraser"}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;Eu(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    :host {
      height: 100%;
      overflow-y: hidden;
    }
    .eraser-button {
      display: flex;
      justify-content: center;
      align-items: flex-end;
      position: relative;
      width: 49px;
      height: 64px;
    }
    #edgeless-eraser-icon {
      transition: transform 0.3s ease-in-out;
      transform: translateY(8px);
    }
    .eraser-button:hover #edgeless-eraser-icon,
    .eraser-button.active #edgeless-eraser-icon {
      transform: translateY(0);
    }
  `}firstUpdated(){this.disposables.add(this.edgeless.bindHotKey({Escape:()=>{"eraser"===this.edgelessTool.type&&this.setEdgelessTool({type:"default"})}},{global:!0}))}render(){let e=this.edgelessTool?.type,{theme:t}=this,i="dark"===t?tb:ty;return(0,H.qy)`
      <edgeless-toolbar-button
        class="edgeless-eraser-button"
        .tooltip=${ky("Eraser","E")}
        .tooltipOffset=${4}
        .active=${"eraser"===e}
        @click=${()=>this.setEdgelessTool({type:"eraser"})}
      >
        <div class="eraser-button">${i}</div>
      </edgeless-toolbar-button>
    `}static{Ep(t,s)}})})();let Ef=[{name:"1:1",wh:[1200,1200]},{name:"4:3",wh:[1600,1200]},{name:"16:9",wh:[1600,900]},{name:"2:1",wh:[1600,800]}],Eg=(e,t)=>{let i=e.service.frames,s=e.service.viewport.center,o=new m.z(s.x-t[0]/2,s.y-t[1]/2,t[0],t[1]),r=e.service.addBlock("affine:frame",{title:new v.rl.Y.Text(`Frame ${i.length+1}`),xywh:o.serialize()},e.surface.model);e.doc.captureSync();let a=e.service.getElementById(r);(0,V.Z1)(a),e.tools.setEdgelessTool({type:"default"}),e.service.selection.set({elements:[a.id],editing:!1})},Em=e=>({type:"sub-menu",name:"Frame",icon:ta,select:()=>e.tools.setEdgelessTool({type:"frame"}),isSelected:"frame"===e.tools.edgelessTool.type,options:{items:[{type:"action",name:"Custom",select:()=>e.tools.setEdgelessTool({type:"frame"})},...Ef.map(t=>({type:"action",name:`Slide ${t.name}`,select:()=>Eg(e,t.wh)}))]}});var Ev=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Ey=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("edgeless-frame-menu")],s=[],o=MQ(H.WF);(class extends o{static{t=this}constructor(){super(...arguments),this.type="frame"}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;Ev(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    :host {
      position: absolute;
      display: flex;
      z-index: -1;
    }
    .menu-content {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 14px;
    }

    .frame-add-button {
      width: 40px;
      height: 24px;
      border-radius: 4px;
      border: 1px solid var(--affine-border-color);
      color: var(--affine-text-primary-color);
      line-height: 20px;
      font-weight: 400;
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      position: relative;
    }

    .frame-add-button::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      left: 0;
      top: 0;
      border-radius: 3px;
      background: transparent;
      transition: background-color 0.23s ease;
      pointer-events: none;
    }
    .frame-add-button:hover::before {
      background: var(--affine-hover-color);
    }

    .custom {
      width: 60px;
      background: var(--affine-hover-color);
    }

    .divider {
      width: 1px;
      height: 20px;
      background: var(--affine-border-color);
      transform: scaleX(0.5);
    }
  `}render(){let{edgeless:e}=this;return(0,H.qy)`
      <edgeless-slide-menu .showNext=${!1}>
        <div class="menu-content">
          <div class="frame-add-button custom">Custom</div>
          <div class="divider"></div>
          ${(0,D.u)(Ef,e=>e.name,(t,i)=>(0,H.qy)`
              <div
                @click=${()=>Eg(e,t.wh)}
                class="frame-add-button ${i}"
                data-name="${t.name}"
                data-w="${t.wh[0]}"
                data-h="${t.wh[1]}"
              >
                ${t.name}
              </div>
            `)}
        </div>
      </edgeless-slide-menu>
    `}static{Ey(t,s)}})})();var Eb=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Ew=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("edgeless-frame-tool-button")],s=[],o=Er(H.WF);(class extends o{static{t=this}constructor(){super(...arguments),this.type="frame"}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;Eb(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
    }

    .arrow-up-icon {
      position: absolute;
      top: 4px;
      right: 2px;
      font-size: 0;
    }
  `}_toggleFrameMenu(){this.tryDisposePopper()||(this.createPopper("edgeless-frame-menu",this).element.edgeless=this.edgeless)}render(){let e=this.edgelessTool?.type;return(0,H.qy)`
      <edgeless-tool-icon-button
        class="edgeless-frame-button"
        .tooltip=${this.popper?"":ky("Frame","F")}
        .tooltipOffset=${17}
        .active=${"frame"===e}
        .iconContainerPadding=${6}
        @click=${()=>{this._toggleFrameMenu(),this.setEdgelessTool({type:"frame"})}}
      >
        ${tn}
        <span class="arrow-up-icon" style=${(0,Z.W)({color:"frame"===e?"currentColor":"var(--affine-icon-secondary)"})}>
          ${tf}
        </span>
      </edgeless-tool-icon-button>
    `}static{Ew(t,s)}})})();let Ex=e=>({type:"action",name:"Link",icon:aH,select:()=>{let{insertedLinkType:t}=e.service.std.command.exec("insertLinkByQuickSearch");t?.then(t=>{t&&(e.service.telemetryService?.track("CanvasElementAdded",{control:"toolbar:general",page:"whiteboard editor",module:"toolbar",type:t.flavour.split(":")[1]}),t.isNewDoc&&e.service.telemetryService?.track("DocCreated",{control:"toolbar:general",page:"whiteboard editor",module:"edgeless toolbar",type:t.flavour.split(":")[1]}))}).catch(console.error)}});var E_=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},EC=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("edgeless-link-tool-button")],s=[],o=Er(H.WF);(class extends o{static{t=this}constructor(){super(...arguments),this.type="default"}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;E_(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    .link-icon,
    .link-icon > svg {
      width: 24px;
      height: 24px;
    }
  `}_onClick(){this.edgeless.service.insertLinkByQuickSearch().then(e=>{e&&(this.edgeless.service.telemetryService?.track("CanvasElementAdded",{control:"toolbar:general",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:e.flavour.split(":")[1]}),e.isNewDoc?(this.edgeless.service.telemetryService?.track("DocCreated",{control:"toolbar:general",page:"whiteboard editor",module:"edgeless toolbar",segment:"whiteboard",type:e.flavour.split(":")[1]}),this.edgeless.service.telemetryService?.track("LinkedDocCreated",{control:"links",page:"whiteboard editor",module:"edgeless toolbar",segment:"whiteboard",type:e.flavour.split(":")[1],other:"new doc"})):this.edgeless.service.telemetryService?.track("LinkedDocCreated",{control:"links",page:"whiteboard editor",module:"edgeless toolbar",segment:"whiteboard",type:e.flavour.split(":")[1],other:"existing doc"}))}).catch(console.error)}render(){return(0,H.qy)`<edgeless-tool-icon-button
      .iconContainerPadding="${6}"
      .tooltip="${ky("Link","@")}"
      .tooltipOffset=${17}
      class="edgeless-link-tool-button"
      @click=${this._onClick}
    >
      <span class="link-icon">${aH}</span>
    </edgeless-tool-icon-button>`}static{EC(t,s)}})})();let Ek=e=>({inputType:"touch",x:e.touches[0].clientX,y:e.touches[0].clientY,el:e.currentTarget,originalEvent:e}),ES=e=>({inputType:"mouse",x:e.clientX,y:e.clientY,el:e.currentTarget,originalEvent:e}),EM={startPos:{x:0,y:0},offsetPos:{x:0,y:0},startTime:0,scopeRect:{},edgelessRect:{},elementRectOriginal:{},element:null,elementInfo:null,parentToMount:null,moved:!1,validMoved:!1},EE=e=>`edgeless-draggable-control-overlay-${e}`,EI=(e,t)=>e.classList.add(EE(t)),EB=e=>{let{edgelessRect:t,parentToMount:i,element:s}=e,o=getComputedStyle(s),r=document.createElement("div");EI(r,"mask"),Object.assign(r.style,{position:"absolute",top:"0",left:"0",width:t.width+"px",height:t.height+"px",overflow:"hidden",zIndex:"9999"});let a=document.createElement("div");EI(a,"element");let n=document.createElement("div");EI(n,"transition-wrapper"),Object.assign(n.style,{transition:"all 0.18s ease",transform:"scale(var(--scale, 1)) rotate(var(--rotate, 0deg))",width:o.width,height:o.height}),n.style.setProperty("--rotate","0deg"),n.style.setProperty("--scale","1"),(0,H.XX)(e.elementInfo.preview,n),Object.assign(a.style,{transform:"translate(var(--translate-x, 0), var(--translate-y, 0)) rotate(var(--rotate, 0deg)) scale(var(--scale, 1))",position:"absolute",cursor:"grabbing",transition:"inherit"});let l=document.createElement("style");return l.textContent=`
    .${EE("transition-wrapper")} > * {
      display: block;
      width: 100%;
      height: 100%;
    }
  `,r.append(l),a.append(n),r.append(a),i.append(r),{mask:r,element:a,transitionWrapper:n}},E$=e=>Math.abs(e.x)>50||Math.abs(e.y)>50;class ET{constructor(e,t){this.host=e,this.options=t,this.clearTimeout=null,this.events={},this.info=EM,this.overlay=null,this.states={cancelled:!1,draggingElement:null,dragOut:null},this.host=e,e.addController(this)}_animateCancelDrop(e,t=230){let{overlay:i,info:s}=this;if(!i)return;this.options?.onCanceled?.(i,s.elementInfo),i.mask.style.pointerEvents="none",s.scopeRect&&(i.mask.style.height=s.scopeRect.bottom-s.edgelessRect.top+"px");let{element:o,elementRectOriginal:r}=s,a=o.getBoundingClientRect(),n=a.left-r.left,l=a.top-r.top;i.element.style.transition=`transform ${t}ms ease`,i.element.style.setProperty("--translate-x",`${n}px`),i.element.style.setProperty("--translate-y",`${l}px`),i.transitionWrapper.style.setProperty("--scale","1"),this.clearTimeout=setTimeout(()=>{if(e)return e();this.reset(),this.removeAllEvents(),this.clearTimeout=null},t)}_createOverlay({x:e,y:t}){let{info:i}=this,{elementInfo:s,elementRectOriginal:o,offsetPos:r,edgelessRect:a}=i;this.reset(),this._updateState("draggingElement",s),this.overlay=EB(i);let{overlay:n}=this,{width:l,height:c,left:d,top:h}=o,u=d-a.left,p=h-a.top,f=`${((e-d)/l*100).toFixed(0)}%`,g=`${((t-h)/c*100).toFixed(0)}%`;Object.assign(n.element.style,{left:`${u}px`,top:`${p}px`}),n.element.style.setProperty("--translate-x",`${r.x}px`),n.element.style.setProperty("--translate-y",`${r.y}px`),n.transitionWrapper.style.transformOrigin=`${f} ${g}`,this.options.onOverlayCreated?.(n,s)}_onDragEnd(){let{overlay:e,info:t,options:i}=this,{startTime:s,elementInfo:o,edgelessRect:r,validMoved:a}=t,{service:n,clickThreshold:l=1500}=i,c=n.viewport.zoom;if(!a)return Date.now()-s<l&&(i.onElementClick?.(t.elementInfo),i.clickToDrag)?(this._createOverlay(t.startPos),this.info.moved=!0,setTimeout(()=>{this._updateOverlayScale(c)},50),!1):(this.reset(),!0);if(this.states.dragOut&&!this.states.cancelled&&e){let t=e.transitionWrapper.getBoundingClientRect(),[s,a]=this.options.service.viewport.toModelCoord(t.left-r.left,t.top-r.top),n=new m.z(s,a,t.width/c,t.height/c);return i?.onDrop?.(o,n),this.reset(),!0}return this.states.dragOut||this._animateCancelDrop(),!0}_onDragMove(e){if(this.states.cancelled)return;let{info:t,options:i}=this;t.moved||(t.moved=!0,this._createOverlay(e));let{overlay:s}=this;(0,V.Z1)(s);let{x:o,y:r}=e,{startPos:a,scopeRect:n}=t,l=o-a.x,c=r-a.y;if(t.offsetPos={x:l,y:c},!t.validMoved){let e=i.isValidMove??E$;t.validMoved=e(t.offsetPos)}let d=!n||r<n.top||r>n.bottom||o<n.left||o>n.right;d!==this.states.dragOut&&i.onEnterOrLeaveScope?.(s,d),this._updateState("dragOut",d),s.element.style.setProperty("--translate-x",`${l}px`),s.element.style.setProperty("--translate-y",`${c}px`);let h=i.service.viewport.zoom;this._updateOverlayScale(h)}_onDragStart(e,t){let{scopeElement:i,edgeless:s}=this.options;e.originalEvent.stopPropagation(),e.originalEvent.preventDefault();let o=s.host.getBoundingClientRect();if(0===o.width&&(o.width=s.viewport.clientWidth),this.info={startTime:Date.now(),startPos:{x:e.x,y:e.y},offsetPos:{x:0,y:0},scopeRect:i?.getBoundingClientRect()??null,edgelessRect:o,elementRectOriginal:e.el.getBoundingClientRect(),element:e.el,elementInfo:t,moved:!1,validMoved:!1,parentToMount:s.host},this.removeAllEvents(),"mouse"===e.inputType){let e=e=>{this._onDragMove(ES(e))},t=i=>{this._onDragEnd()&&(s.host.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t))};s.host.addEventListener("mousemove",e),window.addEventListener("mouseup",t),this.events={onMouseMove:e,onMouseUp:t}}else{let e=e=>{this._onDragMove(Ek(e))},t=i=>{this._onDragEnd()&&(s.host.removeEventListener("touchmove",e),window.removeEventListener("touchend",t))};s.host.addEventListener("touchmove",e),window.addEventListener("touchend",t),this.events={onTouchMove:e,onTouchEnd:t}}}_updateOverlayScale(e){let t=this.overlay?.transitionWrapper;if(!t)return;let i=this.info.elementInfo.standardWidth??this.options.standardWidth??100,{elementRectOriginal:s}=this.info,o=i*e/s.width,r=this.options.clickToDragScale??1.2,a=this.states.dragOut?o:this.options.clickToDrag?r:1;t.style.setProperty("--scale",a.toFixed(2))}_updateState(e,t){this.states[e]=t,this.host.requestUpdate()}_updateStates(e){Object.assign(this.states,e),this.host.requestUpdate()}cancel(){this.states.cancelled||(this._updateState("cancelled",!0),this._animateCancelDrop())}cancelWithoutAnimation(){this.states.cancelled||(this._updateState("cancelled",!0),this.reset(),this.removeAllEvents())}clickToDrag(e,t){this.options.clickToDrag||(this.options.clickToDrag=!0,console.warn("clickToDrag is not enabled, it will be enabled automatically"));let i=e.getBoundingClientRect(),s={x:i.left+i.width/2,y:i.top+i.height/2},o=new MouseEvent("mousedown",{clientX:s.x,clientY:s.y}),r=new MouseEvent("mouseup",{clientX:s.x,clientY:s.y});e.dispatchEvent(o),window.dispatchEvent(r);let a=new MouseEvent("mousemove",{clientX:t.x,clientY:t.y});this.options.edgeless.host.dispatchEvent(a)}hostConnected(){this.host.disposables.add(this.options.service.viewport.viewportUpdated.on(({zoom:e})=>{this._updateOverlayScale(e)})),this.host.disposables.addFromEvent(window,"keydown",e=>{"Escape"===e.key&&this.states.draggingElement&&this.cancel()})}hostDisconnected(){this.removeAllEvents(),this.reset()}onMouseDown(e,t){this._onDragStart(ES(e),t)}onTouchStart(e,t){this._onDragStart(Ek(e),t)}removeAllEvents(){let{events:e,options:t}=this,i=t.edgeless.host,{onMouseUp:s,onMouseMove:o,onTouchMove:r,onTouchEnd:a}=e;s&&window.removeEventListener("mouseup",s),o&&i.removeEventListener("mousemove",o),r&&i.removeEventListener("touchmove",r),a&&window.removeEventListener("touchend",a),this.events={}}reset(){this.clearTimeout&&clearTimeout(this.clearTimeout),this.overlay?.mask.remove(),this.overlay=null,this._updateStates({cancelled:!1,draggingElement:null,dragOut:null})}updateElementInfo(e){this.info.elementInfo={...this.info.elementInfo,...e},e.preview&&this.overlay&&(0,H.XX)(e.preview,this.overlay.transitionWrapper)}}let EO={x:"px",y:"px",r:"deg",s:"",z:"",o:""},EP={default:{x:-20,y:-8,r:7.74,s:.92,z:2},active:{x:-22,y:-9,r:-8,s:.92},hover:{x:-22,y:-9,r:-8,s:1,z:3},next:{x:-22,y:64,r:0}},EA={default:{x:4,y:-4,s:1,z:1,r:-7},active:{x:11,y:-14,r:9,s:1},hover:{x:11,y:-14,r:9,s:1.16,z:3},next:{y:64,r:0}},EH=e=>(t,i)=>{let[s,o,r,a]=t.toXYWH(),n=i.addElement("mindmap",{style:e});i.telemetryService?.track("CanvasElementAdded",{control:"toolbar:dnd",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:"mindmap"});let l=i.getElementById(n),c=o+a/2,d=(...e)=>{let t=l.addNode(...e);return{node:i.getElementById(t),id:t}},h=d(null,void 0,void 0,{text:"Mind Map",xywh:`[${s},${c-25},145,50]`});for(let e=0;e<3;e++){let t=s+145+300,i=c-17.5+(e-1)*50;d(h.id,void 0,void 0,{text:"Text",xywh:`[${t},${i},80,35]`},gS.p5.RIGHT)}return n},EL=(e,t,i)=>{let s;let o=e.y+e.h/2;if(i.doc.awarenessStore.getFlag("enable_edgeless_text"))s=i.host.spec.getService("affine:edgeless-text").initEdgelessTextBlock({edgeless:i,x:e.x,y:o-16});else{s=t.addElement(E.J9.TEXT,{xywh:new m.z(e.x,o-16,100,32).serialize(),text:new v.rl.Y.Text}),i.doc.captureSync();let r=i.service.getElementById(s);(0,V.nn)(r,B.n),m$(r,i)}return t.telemetryService?.track("CanvasElementAdded",{control:"toolbar:dnd",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:"text"}),s},ED=(e,t={})=>{let i={};for(let[s,o]of Object.entries(t))i[`--${e}-${s}`]=`${o}${EO[s]}`;return i},EZ=e=>{let t={};for(let[i,s]of Object.entries(e))Object.assign(t,ED(i,{...e.default,...s}));return t},Ej=(0,H.JW)`<svg width="76" height="17" viewBox="0 0 76 17" fill="none" xmlns="http://www.w3.org/2000/svg"
xmlns:xlink="http://www.w3.org/1999/xlink">
<g filter="url(#filter0_b_5310_64490)">
  <mask id="path-1-inside-1_5310_64490" fill="white">
    <path fill-rule="evenodd" clip-rule="evenodd"
      d="M4 1.62744C2.89543 1.62744 2 2.52287 2 3.62744V29.6088H73.943V3.62744C73.943 2.52287 73.0476 1.62744 71.943 1.62744H4ZM25.5294 5.94132C23.97 5.94132 22.7059 7.20546 22.7059 8.76485C22.7059 10.3242 23.97 11.5884 25.5294 11.5884H50.9412C52.5006 11.5884 53.7647 10.3242 53.7647 8.76485C53.7647 7.20546 52.5006 5.94132 50.9412 5.94132H25.5294Z" />
  </mask>
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M4 1.62744C2.89543 1.62744 2 2.52287 2 3.62744V29.6088H73.943V3.62744C73.943 2.52287 73.0476 1.62744 71.943 1.62744H4ZM25.5294 5.94132C23.97 5.94132 22.7059 7.20546 22.7059 8.76485C22.7059 10.3242 23.97 11.5884 25.5294 11.5884H50.9412C52.5006 11.5884 53.7647 10.3242 53.7647 8.76485C53.7647 7.20546 52.5006 5.94132 50.9412 5.94132H25.5294Z"
    fill="url(#paint0_linear_5310_64490)" fill-opacity="0.2" />
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M4 1.62744C2.89543 1.62744 2 2.52287 2 3.62744V29.6088H73.943V3.62744C73.943 2.52287 73.0476 1.62744 71.943 1.62744H4ZM25.5294 5.94132C23.97 5.94132 22.7059 7.20546 22.7059 8.76485C22.7059 10.3242 23.97 11.5884 25.5294 11.5884H50.9412C52.5006 11.5884 53.7647 10.3242 53.7647 8.76485C53.7647 7.20546 52.5006 5.94132 50.9412 5.94132H25.5294Z"
    fill="url(#pattern0_5310_64490)" fill-opacity="0.2" />
  <path
    d="M2 29.6088H1V30.6088H2V29.6088ZM73.943 29.6088V30.6088H74.943V29.6088H73.943ZM3 3.62744C3 3.07516 3.44772 2.62744 4 2.62744V0.627441C2.34315 0.627441 1 1.97059 1 3.62744H3ZM3 29.6088V3.62744H1V29.6088H3ZM73.943 28.6088H2V30.6088H73.943V28.6088ZM72.943 3.62744V29.6088H74.943V3.62744H72.943ZM71.943 2.62744C72.4953 2.62744 72.943 3.07515 72.943 3.62744H74.943C74.943 1.97059 73.5999 0.627441 71.943 0.627441V2.62744ZM4 2.62744H71.943V0.627441H4V2.62744ZM23.7059 8.76485C23.7059 7.75774 24.5223 6.94132 25.5294 6.94132V4.94132C23.4177 4.94132 21.7059 6.65317 21.7059 8.76485H23.7059ZM25.5294 10.5884C24.5223 10.5884 23.7059 9.77196 23.7059 8.76485H21.7059C21.7059 10.8765 23.4177 12.5884 25.5294 12.5884V10.5884ZM50.9412 10.5884H25.5294V12.5884H50.9412V10.5884ZM52.7647 8.76485C52.7647 9.77196 51.9483 10.5884 50.9412 10.5884V12.5884C53.0529 12.5884 54.7647 10.8765 54.7647 8.76485H52.7647ZM50.9412 6.94132C51.9483 6.94132 52.7647 7.75774 52.7647 8.76485H54.7647C54.7647 6.65317 53.0529 4.94132 50.9412 4.94132V6.94132ZM25.5294 6.94132H50.9412V4.94132H25.5294V6.94132Z"
    fill="#DFDFDF" mask="url(#path-1-inside-1_5310_64490)" />
  <path
    d="M2 29.6088H1V30.6088H2V29.6088ZM73.943 29.6088V30.6088H74.943V29.6088H73.943ZM3 3.62744C3 3.07516 3.44772 2.62744 4 2.62744V0.627441C2.34315 0.627441 1 1.97059 1 3.62744H3ZM3 29.6088V3.62744H1V29.6088H3ZM73.943 28.6088H2V30.6088H73.943V28.6088ZM72.943 3.62744V29.6088H74.943V3.62744H72.943ZM71.943 2.62744C72.4953 2.62744 72.943 3.07515 72.943 3.62744H74.943C74.943 1.97059 73.5999 0.627441 71.943 0.627441V2.62744ZM4 2.62744H71.943V0.627441H4V2.62744ZM23.7059 8.76485C23.7059 7.75774 24.5223 6.94132 25.5294 6.94132V4.94132C23.4177 4.94132 21.7059 6.65317 21.7059 8.76485H23.7059ZM25.5294 10.5884C24.5223 10.5884 23.7059 9.77196 23.7059 8.76485H21.7059C21.7059 10.8765 23.4177 12.5884 25.5294 12.5884V10.5884ZM50.9412 10.5884H25.5294V12.5884H50.9412V10.5884ZM52.7647 8.76485C52.7647 9.77196 51.9483 10.5884 50.9412 10.5884V12.5884C53.0529 12.5884 54.7647 10.8765 54.7647 8.76485H52.7647ZM50.9412 6.94132C51.9483 6.94132 52.7647 7.75774 52.7647 8.76485H54.7647C54.7647 6.65317 53.0529 4.94132 50.9412 4.94132V6.94132ZM25.5294 6.94132H50.9412V4.94132H25.5294V6.94132Z"
    fill="url(#paint1_linear_5310_64490)" fill-opacity="0.2" mask="url(#path-1-inside-1_5310_64490)" />
</g>
<g filter="url(#filter1_f_5310_64490)">
  <path
    d="M70.2669 3.15204C71.3826 3.15204 72.2871 4.05651 72.2871 5.17224L72.2871 17.0683C72.2871 18.2224 71.3515 19.158 70.1974 19.158C68.779 19.158 67.7727 17.775 68.209 16.4254L69.6661 11.919C69.9708 10.9766 69.9431 9.95821 69.5876 9.03381L68.3813 5.8974C67.8725 4.57417 68.8492 3.15204 70.2669 3.15204Z"
    fill="url(#paint2_linear_5310_64490)" />
</g>
<g filter="url(#filter2_f_5310_64490)">
  <path
    d="M6.71501 5.1665C5.1902 5.1665 3.9541 6.40261 3.9541 7.92741L3.9541 13.7517C3.9541 15.4078 5.29667 16.7504 6.9528 16.7504L7.67637 16.7504C9.95388 16.7504 11.1826 14.079 9.70058 12.3497L9.43766 12.0429C8.67279 11.1505 8.73042 9.8179 9.56949 8.9948C10.9975 7.59395 10.0056 5.1665 8.00525 5.1665L6.71501 5.1665Z"
    fill="url(#paint3_linear_5310_64490)" />
</g>
<defs>
  <filter id="filter0_b_5310_64490" x="0" y="-0.372559" width="75.9434" height="31.9814" filterUnits="userSpaceOnUse"
    color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix" />
    <feGaussianBlur in="BackgroundImageFix" stdDeviation="1" />
    <feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_5310_64490" />
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_backgroundBlur_5310_64490" result="shape" />
  </filter>
  <pattern id="pattern0_5310_64490" patternContentUnits="objectBoundingBox" width="1.49325" height="3.83929">
    <use xlink:href="#image0_5310_64490" transform="scale(0.000729125 0.00187465)" />
  </pattern>
  <filter id="filter1_f_5310_64490" x="65.1064" y="0.152039" width="10.1807" height="22.006"
    filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix" />
    <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape" />
    <feGaussianBlur stdDeviation="1.5" result="effect1_foregroundBlur_5310_64490" />
  </filter>
  <filter id="filter2_f_5310_64490" x="0.954102" y="2.1665" width="12.3936" height="17.5839"
    filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix" />
    <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape" />
    <feGaussianBlur stdDeviation="1.5" result="effect1_foregroundBlur_5310_64490" />
  </filter>
  <linearGradient id="paint0_linear_5310_64490" x1="3.19554" y1="11.2178" x2="72.9973" y2="11.6556"
    gradientUnits="userSpaceOnUse">
    <stop stop-opacity="0" />
    <stop offset="0.848958" stop-opacity="0.66" />
    <stop offset="1" stop-opacity="0" />
  </linearGradient>
  <linearGradient id="paint1_linear_5310_64490" x1="2" y1="5.50025" x2="74" y2="7.50025"
    gradientUnits="userSpaceOnUse">
    <stop stop-color="white" stop-opacity="0.12" />
    <stop offset="0.71" stop-opacity="0.77" />
    <stop offset="1" stop-opacity="0.12" />
  </linearGradient>
  <linearGradient id="paint2_linear_5310_64490" x1="70.1607" y1="3.80093" x2="70.1607" y2="20.4558"
    gradientUnits="userSpaceOnUse">
    <stop stop-color="white" />
    <stop offset="1" stop-color="white" stop-opacity="0" />
  </linearGradient>
  <linearGradient id="paint3_linear_5310_64490" x1="8.03322" y1="5.63612" x2="8.03322" y2="17.6896"
    gradientUnits="userSpaceOnUse">
    <stop stop-color="white" />
    <stop offset="1" stop-color="white" stop-opacity="0" />
  </linearGradient>
</defs>
</svg>`,EV=(0,H.JW)`<svg width="75" height="17" viewBox="0 0 75 17" fill="none" xmlns="http://www.w3.org/2000/svg"
xmlns:xlink="http://www.w3.org/1999/xlink">
<g filter="url(#filter0_b_5310_64515)">
  <mask id="path-1-inside-1_5310_64515" fill="white">
    <path fill-rule="evenodd" clip-rule="evenodd"
      d="M3 1.62744C1.89543 1.62744 1 2.52287 1 3.62744V29.6088H72.943V3.62744C72.943 2.52287 72.0476 1.62744 70.943 1.62744H3ZM24.5294 5.94132C22.97 5.94132 21.7059 7.20546 21.7059 8.76485C21.7059 10.3242 22.97 11.5884 24.5294 11.5884H49.9412C51.5006 11.5884 52.7647 10.3242 52.7647 8.76485C52.7647 7.20546 51.5006 5.94132 49.9412 5.94132H24.5294Z" />
  </mask>
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M3 1.62744C1.89543 1.62744 1 2.52287 1 3.62744V29.6088H72.943V3.62744C72.943 2.52287 72.0476 1.62744 70.943 1.62744H3ZM24.5294 5.94132C22.97 5.94132 21.7059 7.20546 21.7059 8.76485C21.7059 10.3242 22.97 11.5884 24.5294 11.5884H49.9412C51.5006 11.5884 52.7647 10.3242 52.7647 8.76485C52.7647 7.20546 51.5006 5.94132 49.9412 5.94132H24.5294Z"
    fill="url(#paint0_linear_5310_64515)" fill-opacity="0.2" />
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M3 1.62744C1.89543 1.62744 1 2.52287 1 3.62744V29.6088H72.943V3.62744C72.943 2.52287 72.0476 1.62744 70.943 1.62744H3ZM24.5294 5.94132C22.97 5.94132 21.7059 7.20546 21.7059 8.76485C21.7059 10.3242 22.97 11.5884 24.5294 11.5884H49.9412C51.5006 11.5884 52.7647 10.3242 52.7647 8.76485C52.7647 7.20546 51.5006 5.94132 49.9412 5.94132H24.5294Z"
    fill="url(#pattern0_5310_64515)" fill-opacity="0.2" />
  <path
    d="M1 29.6088H0V30.6088H1V29.6088ZM72.943 29.6088V30.6088H73.943V29.6088H72.943ZM2 3.62744C2 3.07516 2.44772 2.62744 3 2.62744V0.627441C1.34315 0.627441 0 1.97059 0 3.62744H2ZM2 29.6088V3.62744H0V29.6088H2ZM72.943 28.6088H1V30.6088H72.943V28.6088ZM71.943 3.62744V29.6088H73.943V3.62744H71.943ZM70.943 2.62744C71.4953 2.62744 71.943 3.07515 71.943 3.62744H73.943C73.943 1.97059 72.5999 0.627441 70.943 0.627441V2.62744ZM3 2.62744H70.943V0.627441H3V2.62744ZM22.7059 8.76485C22.7059 7.75774 23.5223 6.94132 24.5294 6.94132V4.94132C22.4177 4.94132 20.7059 6.65317 20.7059 8.76485H22.7059ZM24.5294 10.5884C23.5223 10.5884 22.7059 9.77196 22.7059 8.76485H20.7059C20.7059 10.8765 22.4177 12.5884 24.5294 12.5884V10.5884ZM49.9412 10.5884H24.5294V12.5884H49.9412V10.5884ZM51.7647 8.76485C51.7647 9.77196 50.9483 10.5884 49.9412 10.5884V12.5884C52.0529 12.5884 53.7647 10.8765 53.7647 8.76485H51.7647ZM49.9412 6.94132C50.9483 6.94132 51.7647 7.75774 51.7647 8.76485H53.7647C53.7647 6.65317 52.0529 4.94132 49.9412 4.94132V6.94132ZM24.5294 6.94132H49.9412V4.94132H24.5294V6.94132Z"
    fill="#7C7C7C" mask="url(#path-1-inside-1_5310_64515)" />
  <path
    d="M1 29.6088H0V30.6088H1V29.6088ZM72.943 29.6088V30.6088H73.943V29.6088H72.943ZM2 3.62744C2 3.07516 2.44772 2.62744 3 2.62744V0.627441C1.34315 0.627441 0 1.97059 0 3.62744H2ZM2 29.6088V3.62744H0V29.6088H2ZM72.943 28.6088H1V30.6088H72.943V28.6088ZM71.943 3.62744V29.6088H73.943V3.62744H71.943ZM70.943 2.62744C71.4953 2.62744 71.943 3.07515 71.943 3.62744H73.943C73.943 1.97059 72.5999 0.627441 70.943 0.627441V2.62744ZM3 2.62744H70.943V0.627441H3V2.62744ZM22.7059 8.76485C22.7059 7.75774 23.5223 6.94132 24.5294 6.94132V4.94132C22.4177 4.94132 20.7059 6.65317 20.7059 8.76485H22.7059ZM24.5294 10.5884C23.5223 10.5884 22.7059 9.77196 22.7059 8.76485H20.7059C20.7059 10.8765 22.4177 12.5884 24.5294 12.5884V10.5884ZM49.9412 10.5884H24.5294V12.5884H49.9412V10.5884ZM51.7647 8.76485C51.7647 9.77196 50.9483 10.5884 49.9412 10.5884V12.5884C52.0529 12.5884 53.7647 10.8765 53.7647 8.76485H51.7647ZM49.9412 6.94132C50.9483 6.94132 51.7647 7.75774 51.7647 8.76485H53.7647C53.7647 6.65317 52.0529 4.94132 49.9412 4.94132V6.94132ZM24.5294 6.94132H49.9412V4.94132H24.5294V6.94132Z"
    fill="url(#paint1_linear_5310_64515)" fill-opacity="0.2" mask="url(#path-1-inside-1_5310_64515)" />
</g>
<g filter="url(#filter1_f_5310_64515)">
  <path d="M71.5225 3.15186L71.5225 19.1578L66.5609 19.1578L68.0588 10.647L66.5609 3.15186L71.5225 3.15186Z"
    fill="url(#paint2_linear_5310_64515)" fill-opacity="0.6" />
</g>
<g filter="url(#filter2_f_5310_64515)">
  <path
    d="M4.11816 3.11768C3.56588 3.11768 3.11816 3.56539 3.11816 4.11768L3.11816 18.1177C3.11816 18.67 3.56588 19.1177 4.11816 19.1177L10.2348 19.1177C10.9076 19.1177 11.3884 18.4666 11.1906 17.8236L9.77942 13.2373C9.73147 13.0815 9.72235 12.9163 9.75286 12.7561L11.3626 4.30479C11.48 3.68856 11.0076 3.11768 10.3803 3.11768L4.11816 3.11768Z"
    fill="url(#paint3_linear_5310_64515)" fill-opacity="0.5" />
</g>
<defs>
  <filter id="filter0_b_5310_64515" x="-1" y="-0.372559" width="75.9434" height="31.9814" filterUnits="userSpaceOnUse"
    color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix" />
    <feGaussianBlur in="BackgroundImageFix" stdDeviation="1" />
    <feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_5310_64515" />
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_backgroundBlur_5310_64515" result="shape" />
  </filter>
  <pattern id="pattern0_5310_64515" patternContentUnits="objectBoundingBox" width="1.49325" height="3.83929">
    <use xlink:href="#image0_5310_64515" transform="scale(0.000729125 0.00187465)" />
  </pattern>
  <filter id="filter1_f_5310_64515" x="63.5605" y="0.151855" width="10.9619" height="22.006"
    filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix" />
    <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape" />
    <feGaussianBlur stdDeviation="1.5" result="effect1_foregroundBlur_5310_64515" />
  </filter>
  <filter id="filter2_f_5310_64515" x="0.118164" y="0.117676" width="14.2627" height="22" filterUnits="userSpaceOnUse"
    color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix" />
    <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape" />
    <feGaussianBlur stdDeviation="1.5" result="effect1_foregroundBlur_5310_64515" />
  </filter>
  <linearGradient id="paint0_linear_5310_64515" x1="2.19554" y1="11.2178" x2="71.9973" y2="11.6556"
    gradientUnits="userSpaceOnUse">
    <stop stop-opacity="0" />
    <stop offset="0.848958" stop-opacity="0.66" />
    <stop offset="1" stop-opacity="0" />
  </linearGradient>
  <linearGradient id="paint1_linear_5310_64515" x1="1" y1="5.50025" x2="73" y2="7.50025"
    gradientUnits="userSpaceOnUse">
    <stop stop-color="white" stop-opacity="0.12" />
    <stop offset="0.71" stop-opacity="0.77" />
    <stop offset="1" stop-opacity="0.12" />
  </linearGradient>
  <linearGradient id="paint2_linear_5310_64515" x1="69.3961" y1="3.80075" x2="69.3961" y2="20.4556"
    gradientUnits="userSpaceOnUse">
    <stop stop-color="white" stop-opacity="0.2" />
    <stop offset="1" stop-color="white" stop-opacity="0.12" />
  </linearGradient>
  <linearGradient id="paint3_linear_5310_64515" x1="6.74843" y1="3.76632" x2="6.74843" y2="20.415"
    gradientUnits="userSpaceOnUse">
    <stop stop-color="white" stop-opacity="0.2" />
    <stop offset="1" stop-color="white" stop-opacity="0.12" />
  </linearGradient>
</defs>
</svg>`,ER=(0,H.JW)`<svg width="54" height="24" viewBox="0 0 54 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g filter="url(#filter0_d_740_3589)">
<mask id="path-1-outside-1_740_3589" maskUnits="userSpaceOnUse" x="0.875977" y="0.511719" width="52" height="22" fill="black">
<rect fill="white" x="0.875977" y="0.511719" width="52" height="22"/>
<path d="M7.52094 6.01159C5.67018 6.11441 4.65911 6.16582 4.48774 6.16582C4.07646 6.16582 3.66518 5.91734 3.2539 5.42037C2.84262 4.90627 2.63698 4.37503 2.63698 3.82666C2.63698 2.98696 5.07896 2.56711 9.96291 2.56711C12.4649 2.56711 14.3071 2.82416 15.4895 3.33826C16.6719 3.85236 17.2631 4.47785 17.2631 5.21473C17.2631 5.43751 17.1346 5.65172 16.8776 5.85736C16.6205 6.04586 16.2949 6.14011 15.9008 6.14011C15.5066 6.14011 14.7869 6.11441 13.7416 6.063C12.6962 6.01159 11.7451 5.97731 10.8883 5.96018C10.9568 6.16582 10.9911 6.40573 10.9911 6.67992C10.9911 6.9541 10.8883 7.49391 10.6827 8.29934C10.4942 9.10476 10.22 10.2272 9.8601 11.6667C9.50022 13.089 9.10608 14.8198 8.67766 16.8591C8.24925 18.8812 7.94935 20.0894 7.77799 20.4835C7.62376 20.8605 7.46953 21.049 7.3153 21.049C6.95543 21.049 6.5013 20.7234 5.95293 20.0722C5.42169 19.4039 5.15607 18.8641 5.15607 18.4528C5.15607 18.0415 5.50738 16.345 6.20998 13.3632C6.91259 10.3643 7.34957 7.91376 7.52094 6.01159ZM27.3638 12.7463C27.3638 13.586 26.7897 14.34 25.6416 15.0083C24.5106 15.6767 23.3453 16.0108 22.1457 16.0108C20.9461 16.0108 19.9608 15.9252 19.1896 15.7538C19.0354 16.2165 18.9583 16.6792 18.9583 17.1419C18.9583 17.6046 19.0354 17.9387 19.1896 18.1444C19.3438 18.3329 19.7294 18.4271 20.3463 18.4271C21.6316 18.4271 22.7283 18.3072 23.6366 18.0672C24.562 17.8273 25.0418 17.7074 25.0761 17.7074C25.7787 17.7074 26.13 17.9387 26.13 18.4014C26.13 19.0697 25.573 19.7038 24.4591 20.3036C23.3624 20.9034 22.0857 21.2033 20.6291 21.2033C19.1896 21.2033 18.0329 20.7491 17.1589 19.8409C16.2849 18.9326 15.848 17.8616 15.848 16.6278C15.848 15.3768 16.2078 14.0744 16.9276 12.7206C17.6644 11.3668 18.5813 10.2358 19.678 9.32754C20.7748 8.40215 21.8629 7.93946 22.9425 7.93946C24.0393 7.93946 25.0504 8.47927 25.9757 9.55888C26.9011 10.6214 27.3638 11.6838 27.3638 12.7463ZM24.382 12.335C24.382 12.1637 24.2021 11.9152 23.8422 11.5896C23.4824 11.264 23.1396 11.1012 22.814 11.1012C22.5056 11.1012 22.1029 11.3325 21.6059 11.7952C21.1089 12.2408 20.6377 12.8234 20.1921 13.5432C20.3463 13.5603 20.5691 13.5689 20.8604 13.5689C23.2082 13.5689 24.382 13.1576 24.382 12.335ZM38.1414 20.2522C38.1414 20.8862 37.8587 21.2033 37.2932 21.2033C36.3678 21.2033 35.1511 20.0722 33.6431 17.8102C31.6895 20.0722 30.3785 21.2033 29.7102 21.2033C29.2475 21.2033 28.802 20.9805 28.3735 20.5349C27.9623 20.0722 27.7566 19.6695 27.7566 19.3268C27.7566 19.2411 27.9366 19.0269 28.2964 18.6842C29.7188 17.3304 30.9098 16.0537 31.8694 14.8541C31.1325 13.5175 30.5071 12.2408 29.993 11.0241C29.4789 9.80736 29.2218 9.07049 29.2218 8.81344C29.2218 8.53925 29.2304 8.35931 29.2475 8.27363C29.2989 8.05085 29.4532 7.93946 29.7102 7.93946C30.4299 7.93946 31.184 8.08513 31.9722 8.37645C32.7777 8.65064 33.1804 8.97623 33.1804 9.35324C33.1804 9.95302 33.4374 10.827 33.9515 11.9752C34.9969 10.5014 35.8451 9.45606 36.4963 8.83914C37.1647 8.22222 37.7045 7.91376 38.1157 7.91376C38.5442 7.91376 39.0154 8.16224 39.5295 8.65921C40.0608 9.15617 40.3264 9.60172 40.3264 9.99587C40.3264 10.1844 40.2493 10.3643 40.095 10.5357C39.9408 10.707 39.7095 10.9127 39.401 11.1526C39.0925 11.3754 38.7926 11.6324 38.5013 11.9237C38.2271 12.2151 37.2932 13.3375 35.6995 15.2911L36.4449 16.6021C37.5759 18.5899 38.1414 19.8066 38.1414 20.2522ZM47.2316 10.9984C47.0945 11.4611 46.8889 12.1122 46.6147 12.9519C46.3576 13.7745 46.032 14.8113 45.6379 16.0623C45.2609 17.3132 45.0724 17.9816 45.0724 18.0672C45.0724 18.1358 45.2095 18.1701 45.4836 18.1701C45.775 18.1701 46.4519 17.9816 47.5143 17.6046C48.5768 17.2104 49.2023 17.0133 49.3908 17.0133C49.8192 17.0133 50.0334 17.3047 50.0334 17.8873C50.0334 18.47 49.4594 19.1726 48.3112 19.9951C47.163 20.8005 45.9635 21.2033 44.7125 21.2033C44.1641 21.2033 43.5129 20.9034 42.7589 20.3036C42.0049 19.7038 41.6279 19.0954 41.6279 18.4785C41.6279 17.9644 41.8849 16.8848 42.399 15.2397C42.9303 13.5774 43.2902 12.4378 43.4787 11.8209C42.8103 12.0094 42.3048 12.1037 41.9621 12.1037C41.6193 12.1037 41.2595 11.8723 40.8824 11.4096C40.5054 10.9298 40.3169 10.4757 40.3169 10.0473C40.3169 9.4989 41.645 9.03621 44.3012 8.65921C44.6268 7.06549 44.7896 5.68599 44.7896 4.5207C44.7896 4.00659 45.0467 3.74954 45.5608 3.74954C46.0063 3.74954 46.5718 4.02373 47.2573 4.57211C47.9599 5.10334 48.3112 5.63458 48.3112 6.16582C48.3112 6.67992 48.1998 7.40823 47.977 8.35074C48.7996 8.31647 49.4251 8.29934 49.8535 8.29934C51.1388 8.29934 51.7814 8.59066 51.7814 9.17331C51.7814 9.55031 51.4044 9.87591 50.6504 10.1501C49.9135 10.4071 48.7739 10.6899 47.2316 10.9984Z"/>
</mask>
<path d="M7.52094 6.01159C5.67018 6.11441 4.65911 6.16582 4.48774 6.16582C4.07646 6.16582 3.66518 5.91734 3.2539 5.42037C2.84262 4.90627 2.63698 4.37503 2.63698 3.82666C2.63698 2.98696 5.07896 2.56711 9.96291 2.56711C12.4649 2.56711 14.3071 2.82416 15.4895 3.33826C16.6719 3.85236 17.2631 4.47785 17.2631 5.21473C17.2631 5.43751 17.1346 5.65172 16.8776 5.85736C16.6205 6.04586 16.2949 6.14011 15.9008 6.14011C15.5066 6.14011 14.7869 6.11441 13.7416 6.063C12.6962 6.01159 11.7451 5.97731 10.8883 5.96018C10.9568 6.16582 10.9911 6.40573 10.9911 6.67992C10.9911 6.9541 10.8883 7.49391 10.6827 8.29934C10.4942 9.10476 10.22 10.2272 9.8601 11.6667C9.50022 13.089 9.10608 14.8198 8.67766 16.8591C8.24925 18.8812 7.94935 20.0894 7.77799 20.4835C7.62376 20.8605 7.46953 21.049 7.3153 21.049C6.95543 21.049 6.5013 20.7234 5.95293 20.0722C5.42169 19.4039 5.15607 18.8641 5.15607 18.4528C5.15607 18.0415 5.50738 16.345 6.20998 13.3632C6.91259 10.3643 7.34957 7.91376 7.52094 6.01159ZM27.3638 12.7463C27.3638 13.586 26.7897 14.34 25.6416 15.0083C24.5106 15.6767 23.3453 16.0108 22.1457 16.0108C20.9461 16.0108 19.9608 15.9252 19.1896 15.7538C19.0354 16.2165 18.9583 16.6792 18.9583 17.1419C18.9583 17.6046 19.0354 17.9387 19.1896 18.1444C19.3438 18.3329 19.7294 18.4271 20.3463 18.4271C21.6316 18.4271 22.7283 18.3072 23.6366 18.0672C24.562 17.8273 25.0418 17.7074 25.0761 17.7074C25.7787 17.7074 26.13 17.9387 26.13 18.4014C26.13 19.0697 25.573 19.7038 24.4591 20.3036C23.3624 20.9034 22.0857 21.2033 20.6291 21.2033C19.1896 21.2033 18.0329 20.7491 17.1589 19.8409C16.2849 18.9326 15.848 17.8616 15.848 16.6278C15.848 15.3768 16.2078 14.0744 16.9276 12.7206C17.6644 11.3668 18.5813 10.2358 19.678 9.32754C20.7748 8.40215 21.8629 7.93946 22.9425 7.93946C24.0393 7.93946 25.0504 8.47927 25.9757 9.55888C26.9011 10.6214 27.3638 11.6838 27.3638 12.7463ZM24.382 12.335C24.382 12.1637 24.2021 11.9152 23.8422 11.5896C23.4824 11.264 23.1396 11.1012 22.814 11.1012C22.5056 11.1012 22.1029 11.3325 21.6059 11.7952C21.1089 12.2408 20.6377 12.8234 20.1921 13.5432C20.3463 13.5603 20.5691 13.5689 20.8604 13.5689C23.2082 13.5689 24.382 13.1576 24.382 12.335ZM38.1414 20.2522C38.1414 20.8862 37.8587 21.2033 37.2932 21.2033C36.3678 21.2033 35.1511 20.0722 33.6431 17.8102C31.6895 20.0722 30.3785 21.2033 29.7102 21.2033C29.2475 21.2033 28.802 20.9805 28.3735 20.5349C27.9623 20.0722 27.7566 19.6695 27.7566 19.3268C27.7566 19.2411 27.9366 19.0269 28.2964 18.6842C29.7188 17.3304 30.9098 16.0537 31.8694 14.8541C31.1325 13.5175 30.5071 12.2408 29.993 11.0241C29.4789 9.80736 29.2218 9.07049 29.2218 8.81344C29.2218 8.53925 29.2304 8.35931 29.2475 8.27363C29.2989 8.05085 29.4532 7.93946 29.7102 7.93946C30.4299 7.93946 31.184 8.08513 31.9722 8.37645C32.7777 8.65064 33.1804 8.97623 33.1804 9.35324C33.1804 9.95302 33.4374 10.827 33.9515 11.9752C34.9969 10.5014 35.8451 9.45606 36.4963 8.83914C37.1647 8.22222 37.7045 7.91376 38.1157 7.91376C38.5442 7.91376 39.0154 8.16224 39.5295 8.65921C40.0608 9.15617 40.3264 9.60172 40.3264 9.99587C40.3264 10.1844 40.2493 10.3643 40.095 10.5357C39.9408 10.707 39.7095 10.9127 39.401 11.1526C39.0925 11.3754 38.7926 11.6324 38.5013 11.9237C38.2271 12.2151 37.2932 13.3375 35.6995 15.2911L36.4449 16.6021C37.5759 18.5899 38.1414 19.8066 38.1414 20.2522ZM47.2316 10.9984C47.0945 11.4611 46.8889 12.1122 46.6147 12.9519C46.3576 13.7745 46.032 14.8113 45.6379 16.0623C45.2609 17.3132 45.0724 17.9816 45.0724 18.0672C45.0724 18.1358 45.2095 18.1701 45.4836 18.1701C45.775 18.1701 46.4519 17.9816 47.5143 17.6046C48.5768 17.2104 49.2023 17.0133 49.3908 17.0133C49.8192 17.0133 50.0334 17.3047 50.0334 17.8873C50.0334 18.47 49.4594 19.1726 48.3112 19.9951C47.163 20.8005 45.9635 21.2033 44.7125 21.2033C44.1641 21.2033 43.5129 20.9034 42.7589 20.3036C42.0049 19.7038 41.6279 19.0954 41.6279 18.4785C41.6279 17.9644 41.8849 16.8848 42.399 15.2397C42.9303 13.5774 43.2902 12.4378 43.4787 11.8209C42.8103 12.0094 42.3048 12.1037 41.9621 12.1037C41.6193 12.1037 41.2595 11.8723 40.8824 11.4096C40.5054 10.9298 40.3169 10.4757 40.3169 10.0473C40.3169 9.4989 41.645 9.03621 44.3012 8.65921C44.6268 7.06549 44.7896 5.68599 44.7896 4.5207C44.7896 4.00659 45.0467 3.74954 45.5608 3.74954C46.0063 3.74954 46.5718 4.02373 47.2573 4.57211C47.9599 5.10334 48.3112 5.63458 48.3112 6.16582C48.3112 6.67992 48.1998 7.40823 47.977 8.35074C48.7996 8.31647 49.4251 8.29934 49.8535 8.29934C51.1388 8.29934 51.7814 8.59066 51.7814 9.17331C51.7814 9.55031 51.4044 9.87591 50.6504 10.1501C49.9135 10.4071 48.7739 10.6899 47.2316 10.9984Z" fill="#6E52DF"/>
<path d="M7.52094 6.01159L8.58766 6.10769L8.69885 4.87345L7.46153 4.94219L7.52094 6.01159ZM3.2539 5.42037L2.41756 6.08945L2.42311 6.09639L2.42878 6.10323L3.2539 5.42037ZM15.4895 3.33826L15.0624 4.32049L15.0624 4.32049L15.4895 3.33826ZM16.8776 5.85736L17.5109 6.72105L17.5291 6.70775L17.5466 6.6937L16.8776 5.85736ZM13.7416 6.063L13.6889 7.13275L13.6889 7.13275L13.7416 6.063ZM10.8883 5.96018L10.9097 4.88935L9.39226 4.859L9.87222 6.29887L10.8883 5.96018ZM10.6827 8.29934L9.6449 8.03438L9.64224 8.04479L9.63979 8.05526L10.6827 8.29934ZM9.8601 11.6667L10.8984 11.9294L10.8992 11.9265L9.8601 11.6667ZM8.67766 16.8591L9.72545 17.0811L9.72583 17.0793L8.67766 16.8591ZM7.77799 20.4835L6.79577 20.0565L6.79111 20.0672L6.78669 20.078L7.77799 20.4835ZM5.95293 20.0722L5.11449 20.7387L5.12392 20.7505L5.13368 20.7621L5.95293 20.0722ZM6.20998 13.3632L7.25247 13.6089L7.25279 13.6075L6.20998 13.3632ZM7.46153 4.94219C6.53669 4.99357 5.8232 5.03202 5.32018 5.0576C5.06848 5.0704 4.87118 5.07989 4.72719 5.08615C4.6551 5.08928 4.59812 5.09153 4.55529 5.09297C4.5339 5.09369 4.51726 5.09417 4.50481 5.09446C4.49149 5.09477 4.48672 5.09478 4.48774 5.09478V7.23686C4.69818 7.23686 5.75634 7.18231 7.58035 7.08098L7.46153 4.94219ZM4.48774 5.09478C4.54101 5.09478 4.40254 5.12842 4.07903 4.73751L2.42878 6.10323C2.92782 6.70625 3.61192 7.23686 4.48774 7.23686V5.09478ZM4.09025 4.7513C3.7993 4.38762 3.70802 4.08567 3.70802 3.82666H1.56594C1.56594 4.6644 1.88594 5.42492 2.41756 6.08945L4.09025 4.7513ZM3.70802 3.82666C3.70802 4.23168 3.39464 4.3261 3.58582 4.22749C3.74524 4.14527 4.07544 4.03633 4.64995 3.93755C5.77804 3.7436 7.53527 3.63816 9.96291 3.63816V1.49607C7.5066 1.49607 5.60087 1.60055 4.28698 1.82644C3.64051 1.93759 3.05496 2.09106 2.60388 2.32373C2.18457 2.54 1.56594 3.00179 1.56594 3.82666H3.70802ZM9.96291 3.63816C12.4302 3.63816 14.0894 3.89741 15.0624 4.32049L15.9165 2.35604C14.5248 1.75092 12.4995 1.49607 9.96291 1.49607V3.63816ZM15.0624 4.32049C16.1667 4.80059 16.1921 5.16413 16.1921 5.21473H18.3342C18.3342 3.79158 17.1772 2.90414 15.9165 2.35604L15.0624 4.32049ZM16.1921 5.21473C16.1921 5.16585 16.1994 5.1193 16.2115 5.07799C16.2235 5.03741 16.2382 5.00839 16.2483 4.99142C16.2667 4.96082 16.2674 4.97386 16.2085 5.02101L17.5466 6.6937C17.9326 6.38491 18.3342 5.89499 18.3342 5.21473H16.1921ZM16.2442 4.99366C16.2105 5.01833 16.1218 5.06907 15.9008 5.06907V7.21115C16.468 7.21115 17.0305 7.07339 17.5109 6.72105L16.2442 4.99366ZM15.9008 5.06907C15.5365 5.06907 14.8415 5.04475 13.7942 4.99325L13.6889 7.13275C14.7323 7.18406 15.4768 7.21115 15.9008 7.21115V5.06907ZM13.7942 4.99325C12.7406 4.94143 11.7789 4.90673 10.9097 4.88935L10.8669 7.03101C11.7113 7.04789 12.6518 7.08174 13.6889 7.13275L13.7942 4.99325ZM9.87222 6.29887C9.89618 6.37078 9.92007 6.49179 9.92007 6.67992H12.0622C12.0622 6.31967 12.0175 5.96086 11.9044 5.62148L9.87222 6.29887ZM9.92007 6.67992C9.92007 6.79669 9.8566 7.20523 9.6449 8.03438L11.7204 8.56429C11.92 7.78259 12.0622 7.11152 12.0622 6.67992H9.92007ZM9.63979 8.05526C9.45312 8.85289 9.18044 9.96928 8.82103 11.4069L10.8992 11.9265C11.2595 10.4851 11.5352 9.35663 11.7255 8.54341L9.63979 8.05526ZM8.82177 11.404C8.4572 12.8449 8.05978 14.5908 7.6295 16.6389L9.72583 17.0793C10.1524 15.0489 10.5432 13.3332 10.8984 11.9294L8.82177 11.404ZM7.62988 16.6371C7.4168 17.6429 7.23762 18.4369 7.09194 19.0238C6.9389 19.6403 6.84011 19.9545 6.79577 20.0565L8.76021 20.9106C8.88723 20.6184 9.02408 20.1314 9.17093 19.5398C9.32514 18.9186 9.51011 18.0975 9.72545 17.0811L7.62988 16.6371ZM6.78669 20.078C6.72666 20.2247 6.69734 20.2543 6.7177 20.2294C6.73064 20.2136 6.77951 20.1566 6.87247 20.0998C6.97277 20.0385 7.12505 19.978 7.3153 19.978V22.1201C7.86215 22.1201 8.21279 21.7848 8.37558 21.5859C8.55017 21.3725 8.67508 21.1193 8.76929 20.8891L6.78669 20.078ZM7.3153 19.978C7.45213 19.978 7.4678 20.034 7.32889 19.9344C7.20132 19.8429 7.01561 19.6714 6.77218 19.3823L5.13368 20.7621C5.43863 21.1243 5.75416 21.4411 6.08072 21.6753C6.39593 21.9013 6.81859 22.1201 7.3153 22.1201V19.978ZM6.79137 19.4058C6.55531 19.1088 6.40449 18.8725 6.31629 18.6933C6.22494 18.5076 6.22712 18.4365 6.22712 18.4528H4.08503C4.08503 19.2575 4.56656 20.0494 5.11449 20.7387L6.79137 19.4058ZM6.22712 18.4528C6.22712 18.4648 6.22676 18.4426 6.23597 18.3658C6.24435 18.2959 6.25807 18.2015 6.27841 18.0795C6.31908 17.8355 6.38185 17.5069 6.46834 17.0891C6.64108 16.2549 6.90199 15.0963 7.25247 13.6089L5.16749 13.1176C4.81537 14.612 4.54932 15.7925 4.37076 16.6548C4.28161 17.0853 4.21264 17.4443 4.16547 17.7273C4.12244 17.9855 4.08503 18.2501 4.08503 18.4528H6.22712ZM7.25279 13.6075C7.96081 10.5855 8.40993 8.0805 8.58766 6.10769L6.45421 5.91549C6.28921 7.74702 5.86436 10.1431 5.16718 13.1189L7.25279 13.6075ZM25.6416 15.0083L25.1028 14.0827L25.0967 14.0863L25.6416 15.0083ZM19.1896 15.7538L19.422 14.7083L18.479 14.4987L18.1735 15.4151L19.1896 15.7538ZM19.1896 18.1444L18.3328 18.787L18.3463 18.8051L18.3607 18.8226L19.1896 18.1444ZM23.6366 18.0672L23.3678 17.0305L23.363 17.0317L23.6366 18.0672ZM24.4591 20.3036L23.9514 19.3605L23.9452 19.3639L24.4591 20.3036ZM17.1589 19.8409L17.9307 19.0983L17.9307 19.0983L17.1589 19.8409ZM16.9276 12.7206L15.9868 12.2085L15.9819 12.2178L16.9276 12.7206ZM19.678 9.32754L20.3612 10.1525L20.3687 10.1461L19.678 9.32754ZM25.9757 9.55888L25.1625 10.2559L25.1681 10.2623L25.9757 9.55888ZM23.8422 11.5896L23.1236 12.3838L23.1236 12.3838L23.8422 11.5896ZM21.6059 11.7952L22.3209 12.5927L22.3283 12.586L22.3357 12.5791L21.6059 11.7952ZM20.1921 13.5432L19.2814 12.9794L18.3893 14.4205L20.0738 14.6077L20.1921 13.5432ZM26.2928 12.7463C26.2928 13.0167 26.125 13.4877 25.1028 14.0827L26.1804 15.934C27.4545 15.1923 28.4349 14.1553 28.4349 12.7463H26.2928ZM25.0967 14.0863C24.1145 14.6666 23.1356 14.9398 22.1457 14.9398V17.0819C23.5549 17.0819 24.9066 16.6867 26.1864 15.9304L25.0967 14.0863ZM22.1457 14.9398C20.9885 14.9398 20.0884 14.8564 19.422 14.7083L18.9573 16.7993C19.8331 16.994 20.9038 17.0819 22.1457 17.0819V14.9398ZM18.1735 15.4151C17.9849 15.9811 17.8872 16.558 17.8872 17.1419H20.0293C20.0293 16.8004 20.0859 16.4519 20.2057 16.0925L18.1735 15.4151ZM17.8872 17.1419C17.8872 17.6732 17.9661 18.2981 18.3328 18.787L20.0464 17.5017C20.0835 17.5512 20.0753 17.5664 20.0597 17.4987C20.0445 17.4325 20.0293 17.3183 20.0293 17.1419H17.8872ZM18.3607 18.8226C18.652 19.1786 19.0523 19.3265 19.3401 19.3968C19.6487 19.4723 19.9938 19.4982 20.3463 19.4982V17.3561C20.0819 17.3561 19.9258 17.3348 19.8488 17.316C19.8128 17.3072 19.8171 17.3044 19.8456 17.3193C19.8749 17.3346 19.946 17.3774 20.0186 17.4661L18.3607 18.8226ZM20.3463 19.4982C21.6926 19.4982 22.8867 19.3731 23.9101 19.1028L23.363 17.0317C22.57 17.2412 21.5706 17.3561 20.3463 17.3561V19.4982ZM23.9054 19.104C24.3673 18.9843 24.715 18.8952 24.9503 18.8364C25.0686 18.8068 25.1542 18.786 25.2102 18.7729C25.239 18.7662 25.2537 18.763 25.2583 18.762C25.2613 18.7614 25.2539 18.763 25.2405 18.7653C25.2339 18.7663 25.2193 18.7687 25.1999 18.7711C25.1878 18.7725 25.1393 18.7784 25.0761 18.7784V16.6363C25.0106 16.6363 24.9591 16.6425 24.9432 16.6444C24.9199 16.6472 24.9006 16.6503 24.8883 16.6523C24.8637 16.6564 24.8416 16.6608 24.8263 16.664C24.7946 16.6705 24.7589 16.6786 24.7234 16.6868C24.6509 16.7038 24.5523 16.7279 24.4307 16.7583C24.1862 16.8194 23.8313 16.9103 23.3678 17.0305L23.9054 19.104ZM25.0761 18.7784C25.1963 18.7784 25.2699 18.7886 25.3075 18.7969C25.3457 18.8053 25.3252 18.8068 25.2774 18.7754C25.2225 18.7392 25.1557 18.6747 25.1085 18.5815C25.0634 18.4924 25.0589 18.4221 25.0589 18.4014H27.201C27.201 17.8524 26.966 17.3225 26.4556 16.9864C26.0233 16.7017 25.5109 16.6363 25.0761 16.6363V18.7784ZM25.0589 18.4014C25.0589 18.4203 25.0245 18.7827 23.9514 19.3606L24.9669 21.2466C26.1216 20.6249 27.201 19.7192 27.201 18.4014H25.0589ZM23.9452 19.3639C23.0303 19.8642 21.936 20.1322 20.6291 20.1322V22.2743C22.2355 22.2743 23.6945 21.9425 24.973 21.2433L23.9452 19.3639ZM20.6291 20.1322C19.4356 20.1322 18.5734 19.7662 17.9307 19.0983L16.3872 20.5835C17.4924 21.7321 18.9436 22.2743 20.6291 22.2743V20.1322ZM17.9307 19.0983C17.2441 18.3848 16.919 17.5781 16.919 16.6278H14.7769C14.7769 18.1451 15.3258 19.4805 16.3872 20.5835L17.9307 19.0983ZM16.919 16.6278C16.919 15.5874 17.2175 14.4569 17.8733 13.2234L15.9819 12.2178C15.1982 13.6919 14.7769 15.1662 14.7769 16.6278H16.919ZM17.8683 13.2326C18.5454 11.9886 19.3778 10.9668 20.3611 10.1524L18.9949 8.50263C17.7848 9.50475 16.7835 10.745 15.9869 12.2086L17.8683 13.2326ZM20.3687 10.1461C21.3364 9.32962 22.1886 9.01051 22.9425 9.01051V6.86842C21.5372 6.86842 20.2131 7.47469 18.9873 8.50895L20.3687 10.1461ZM22.9425 9.01051C23.6395 9.01051 24.3761 9.33838 25.1625 10.2559L26.7889 8.86185C25.7246 7.62016 24.4391 6.86842 22.9425 6.86842V9.01051ZM25.1681 10.2623C25.9798 11.1943 26.2928 12.0168 26.2928 12.7463H28.4349C28.4349 11.3509 27.8224 10.0484 26.7834 8.85544L25.1681 10.2623ZM25.4531 12.335C25.4531 11.9059 25.245 11.5721 25.1146 11.392C24.9632 11.183 24.7681 10.9829 24.5608 10.7954L23.1236 12.3838C23.1969 12.4501 23.2543 12.5064 23.2981 12.553C23.3426 12.6003 23.3677 12.6319 23.3796 12.6483C23.3928 12.6666 23.3811 12.6543 23.3638 12.6139C23.3472 12.5751 23.311 12.4769 23.311 12.335H25.4531ZM24.5608 10.7954C24.0983 10.3769 23.5096 10.0301 22.814 10.0301V12.1722C22.7697 12.1722 22.8664 12.151 23.1236 12.3838L24.5608 10.7954ZM22.814 10.0301C22.4011 10.0301 22.035 10.1806 21.7471 10.346C21.4507 10.5162 21.1595 10.7474 20.8761 11.0113L22.3357 12.5791C22.5492 12.3803 22.7078 12.2645 22.8142 12.2034C22.929 12.1374 22.9185 12.1722 22.814 12.1722V10.0301ZM20.8909 10.9978C20.3007 11.5269 19.7671 12.1949 19.2814 12.9794L21.1028 14.1069C21.5083 13.4519 21.9171 12.9547 22.3209 12.5927L20.8909 10.9978ZM20.0738 14.6077C20.2877 14.6314 20.5574 14.6399 20.8604 14.6399V12.4978C20.5808 12.4978 20.405 12.4892 20.3104 12.4787L20.0738 14.6077ZM20.8604 14.6399C22.0677 14.6399 23.0946 14.5379 23.8558 14.2712C24.2411 14.1362 24.6327 13.9338 24.9379 13.6131C25.2667 13.2675 25.4531 12.826 25.4531 12.335H23.311C23.311 12.2553 23.3507 12.1737 23.386 12.1366C23.3976 12.1243 23.3491 12.179 23.1475 12.2496C22.7348 12.3942 22.001 12.4978 20.8604 12.4978V14.6399ZM33.6431 17.8102L34.5342 17.2161L33.753 16.0443L32.8325 17.1101L33.6431 17.8102ZM28.3735 20.5349L27.573 21.2465L27.587 21.2622L27.6015 21.2773L28.3735 20.5349ZM28.2964 18.6842L27.558 17.9084L27.5578 17.9086L28.2964 18.6842ZM31.8694 14.8541L32.7058 15.5232L33.1531 14.9641L32.8074 14.337L31.8694 14.8541ZM29.2475 8.27363L28.2039 8.03279L28.2004 8.04814L28.1973 8.06358L29.2475 8.27363ZM31.9722 8.37645L31.601 9.38108L31.614 9.38589L31.6271 9.39035L31.9722 8.37645ZM33.9515 11.9752L32.974 12.4129L33.7403 14.1242L34.8251 12.5948L33.9515 11.9752ZM36.4963 8.83914L35.7698 8.05207L35.7597 8.06161L36.4963 8.83914ZM39.5295 8.65921L38.7851 9.42927L38.7914 9.43537L38.7978 9.44136L39.5295 8.65921ZM39.401 11.1526L40.0281 12.0209L40.0435 12.0097L40.0586 11.998L39.401 11.1526ZM38.5013 11.9237L37.744 11.1664L37.7325 11.1779L37.7214 11.1897L38.5013 11.9237ZM35.6995 15.2911L34.8696 14.6141L34.4057 15.1827L34.7684 15.8205L35.6995 15.2911ZM36.4449 16.6021L35.5139 17.1315L35.514 17.1317L36.4449 16.6021ZM37.0704 20.2522C37.0704 20.3345 37.0608 20.3663 37.0618 20.3631C37.0638 20.3562 37.0797 20.309 37.1301 20.2526C37.1828 20.1935 37.2435 20.1577 37.2893 20.1406C37.3289 20.1258 37.3372 20.1322 37.2932 20.1322V22.2743C37.7748 22.2743 38.3226 22.1337 38.7287 21.6784C39.114 21.2464 39.2125 20.706 39.2125 20.2522H37.0704ZM37.2932 20.1322C37.2473 20.1322 36.9686 20.0844 36.4158 19.5705C35.895 19.0863 35.2672 18.3156 34.5342 17.2161L32.7519 18.4043C33.5269 19.5669 34.2616 20.4926 34.9574 21.1395C35.6213 21.7566 36.4136 22.2743 37.2932 22.2743V20.1322ZM32.8325 17.1101C31.8692 18.2256 31.0925 19.0286 30.495 19.544C30.1956 19.8024 29.9659 19.9668 29.8006 20.0613C29.6148 20.1674 29.6021 20.1322 29.7102 20.1322V22.2743C30.1525 22.2743 30.5542 22.0977 30.8633 21.9211C31.1928 21.7329 31.5383 21.4731 31.8943 21.1659C32.6078 20.5504 33.4634 19.6569 34.4537 18.5102L32.8325 17.1101ZM29.7102 20.1322C29.6269 20.1322 29.4425 20.1014 29.1456 19.7926L27.6015 21.2773C28.1614 21.8596 28.8681 22.2743 29.7102 22.2743V20.1322ZM29.174 19.8234C29.0083 19.6369 28.9141 19.4955 28.8647 19.3988C28.8153 19.302 28.8277 19.2835 28.8277 19.3268H26.6856C26.6856 20.074 27.1135 20.7295 27.573 21.2465L29.174 19.8234ZM28.8277 19.3268C28.8277 19.4137 28.8164 19.4865 28.8045 19.5404C28.7925 19.5947 28.7778 19.6388 28.7656 19.6707C28.7422 19.7321 28.7184 19.7734 28.7088 19.7895C28.6903 19.8203 28.6842 19.8234 28.7117 19.7908C28.7638 19.7287 28.8655 19.6212 29.0351 19.4597L27.5578 17.9086C27.3675 18.0898 27.1993 18.2608 27.0715 18.413C27.0089 18.4874 26.9354 18.5816 26.8719 18.6874C26.8338 18.7509 26.6856 18.9953 26.6856 19.3268H28.8277ZM29.0348 19.46C30.4831 18.0815 31.709 16.7692 32.7058 15.5232L31.0331 14.185C30.1106 15.3382 28.9544 16.5792 27.558 17.9084L29.0348 19.46ZM32.8074 14.337C32.0858 13.028 31.4772 11.7849 30.9795 10.6072L29.0064 11.4409C29.5369 12.6966 30.1793 14.0069 30.9315 15.3712L32.8074 14.337ZM30.9795 10.6072C30.7262 10.0077 30.5435 9.54322 30.4259 9.20611C30.3669 9.03703 30.3289 8.91314 30.3069 8.82802C30.2797 8.72264 30.2928 8.73648 30.2928 8.81344H28.1508C28.1508 9.01892 28.1961 9.22125 28.2331 9.36436C28.2753 9.52773 28.3338 9.71229 28.4033 9.91165C28.5428 10.3114 28.7456 10.8237 29.0064 11.4409L30.9795 10.6072ZM30.2928 8.81344C30.2928 8.68557 30.2949 8.59048 30.2981 8.52379C30.2996 8.49066 30.3013 8.46977 30.3023 8.45873C30.3037 8.44485 30.3032 8.45653 30.2978 8.48368L28.1973 8.06358C28.1556 8.27176 28.1508 8.56097 28.1508 8.81344H30.2928ZM30.2911 8.51446C30.2709 8.60229 30.2025 8.76584 30.0288 8.89128C29.8691 9.00663 29.729 9.01051 29.7102 9.01051V6.86842C29.4343 6.86842 29.0886 6.928 28.7747 7.15473C28.4467 7.39156 28.2756 7.72219 28.2039 8.03279L30.2911 8.51446ZM29.7102 9.01051C30.2839 9.01051 30.912 9.12646 31.601 9.38108L32.3435 7.37182C31.4559 7.04379 30.5759 6.86842 29.7102 6.86842V9.01051ZM31.6271 9.39035C31.7946 9.44738 31.9253 9.50176 32.0245 9.55106C32.1252 9.60104 32.1802 9.63918 32.205 9.65916C32.23 9.6794 32.2068 9.6671 32.1756 9.61273C32.1402 9.55083 32.1093 9.45965 32.1093 9.35324H34.2514C34.2514 8.73204 33.9051 8.27913 33.5517 7.99341C33.2097 7.71684 32.7728 7.51757 32.3174 7.36255L31.6271 9.39035ZM32.1093 9.35324C32.1093 10.1946 32.4513 11.2454 32.974 12.4129L34.9291 11.5375C34.4236 10.4086 34.2514 9.71144 34.2514 9.35324H32.1093ZM34.8251 12.5948C35.862 11.1329 36.661 10.1585 37.2329 9.61667L35.7597 8.06161C35.0293 8.75364 34.1317 9.86987 33.0779 11.3555L34.8251 12.5948ZM37.2228 9.62615C37.5222 9.34977 37.7583 9.17534 37.9338 9.07503C38.1182 8.96964 38.1682 8.9848 38.1157 8.9848V6.84272C37.652 6.84272 37.2264 7.0121 36.871 7.21518C36.5068 7.42333 36.1388 7.71159 35.7699 8.05213L37.2228 9.62615ZM38.1157 8.9848C38.1305 8.9848 38.3451 9.00392 38.7851 9.42927L40.2739 7.88914C39.6857 7.32056 38.9578 6.84272 38.1157 6.84272V8.9848ZM38.7978 9.44136C39.0171 9.64646 39.1419 9.80501 39.2072 9.91454C39.2716 10.0225 39.2553 10.0437 39.2553 9.99587H41.3974C41.3974 9.13567 40.8421 8.42042 40.2612 7.87705L38.7978 9.44136ZM39.2553 9.99587C39.2553 9.93947 39.2678 9.8884 39.2841 9.85029C39.2991 9.81518 39.3112 9.8056 39.2989 9.81918L40.8911 11.2522C41.181 10.9301 41.3974 10.5049 41.3974 9.99587H39.2553ZM39.2989 9.81918C39.2061 9.92234 39.0312 10.0833 38.7434 10.3072L40.0586 11.998C40.3877 11.742 40.6755 11.4917 40.8911 11.2522L39.2989 9.81918ZM38.7739 10.2843C38.4155 10.5432 38.0724 10.838 37.744 11.1664L39.2587 12.6811C39.5129 12.4269 39.7696 12.2076 40.0281 12.0209L38.7739 10.2843ZM37.7214 11.1897C37.4138 11.5165 36.4476 12.6797 34.8696 14.6141L36.5294 15.9681C38.1388 13.9953 39.0404 12.9137 39.2813 12.6578L37.7214 11.1897ZM34.7684 15.8205L35.5139 17.1315L37.376 16.0726L36.6305 14.7617L34.7684 15.8205ZM35.514 17.1317C36.0736 18.1152 36.4813 18.8873 36.7461 19.4569C36.8788 19.7424 36.9677 19.9604 37.0214 20.1184C37.0836 20.3011 37.0704 20.3235 37.0704 20.2522H39.2125C39.2125 19.9581 39.1286 19.6613 39.0494 19.4285C38.9618 19.1709 38.8386 18.8769 38.6886 18.554C38.3878 17.907 37.9473 17.0768 37.3758 16.0724L35.514 17.1317ZM47.2316 10.9984L47.0215 9.94812L46.3882 10.0748L46.2047 10.6941L47.2316 10.9984ZM46.6147 12.9519L45.5964 12.6195L45.5924 12.6325L46.6147 12.9519ZM45.6379 16.0623L44.6163 15.7404L44.6124 15.7532L45.6379 16.0623ZM47.5143 17.6046L47.8725 18.6139L47.8797 18.6114L47.8869 18.6087L47.5143 17.6046ZM48.3112 19.9951L48.9263 20.872L48.935 20.8658L48.3112 19.9951ZM42.7589 20.3036L43.4257 19.4654L43.4257 19.4654L42.7589 20.3036ZM42.399 15.2397L41.3788 14.9136L41.3768 14.9202L42.399 15.2397ZM43.4787 11.8209L44.5029 12.1339L45.0763 10.2575L43.1879 10.7901L43.4787 11.8209ZM40.8824 11.4096L40.0403 12.0714L40.0461 12.0788L40.0521 12.0862L40.8824 11.4096ZM44.3012 8.65921L44.4517 9.71962L45.1994 9.6135L45.3506 8.87359L44.3012 8.65921ZM47.2573 4.57211L46.5882 5.40845L46.5997 5.4176L46.6113 5.42643L47.2573 4.57211ZM47.977 8.35074L46.9347 8.10438L46.6096 9.47969L48.0216 9.42086L47.977 8.35074ZM50.6504 10.1501L51.0032 11.1615L51.0164 11.1567L50.6504 10.1501ZM46.2047 10.6941C46.0718 11.1426 45.8697 11.7829 45.5965 12.6195L47.6328 13.2844C47.908 12.4416 48.1172 11.7795 48.2585 11.3026L46.2047 10.6941ZM45.5924 12.6325C45.3357 13.4539 45.0103 14.4899 44.6163 15.7404L46.6594 16.3841C47.0537 15.1327 47.3796 14.0951 47.637 13.2714L45.5924 12.6325ZM44.6124 15.7532C44.4233 16.3805 44.2798 16.8675 44.1829 17.211C44.1348 17.3817 44.0961 17.5243 44.0686 17.634C44.0551 17.688 44.0421 17.7431 44.0317 17.794C44.0281 17.8116 44.0013 17.9329 44.0013 18.0672H46.1434C46.1434 18.1801 46.1225 18.2618 46.1307 18.2216C46.1321 18.2147 46.1367 18.1937 46.1468 18.1535C46.1665 18.0746 46.1985 17.9559 46.2446 17.7925C46.3362 17.4676 46.4754 16.995 46.6634 16.3713L44.6124 15.7532ZM44.0013 18.0672C44.0013 18.5051 44.2434 18.81 44.4554 18.9691C44.6373 19.1055 44.8211 19.1598 44.9154 19.1834C45.1151 19.2333 45.3246 19.2411 45.4836 19.2411V17.099C45.3685 17.099 45.3724 17.0897 45.435 17.1053C45.4608 17.1117 45.5931 17.1447 45.7407 17.2554C45.9185 17.3887 46.1434 17.6636 46.1434 18.0672H44.0013ZM45.4836 19.2411C45.791 19.2411 46.1597 19.1544 46.4971 19.0605C46.8693 18.9568 47.33 18.8064 47.8725 18.6139L47.1562 16.5952C46.6362 16.7797 46.2273 16.912 45.9225 16.9969C45.583 17.0914 45.4676 17.099 45.4836 17.099V19.2411ZM47.8869 18.6087C48.4115 18.4141 48.8143 18.2734 49.1022 18.1827C49.2468 18.1371 49.3505 18.108 49.4195 18.0913C49.5139 18.0684 49.4813 18.0844 49.3908 18.0844V15.9423C49.2061 15.9423 49.0246 15.9829 48.9155 16.0093C48.781 16.0419 48.6266 16.0866 48.4585 16.1396C48.1208 16.246 47.6797 16.4009 47.1418 16.6004L47.8869 18.6087ZM49.3908 18.0844C49.3774 18.0844 49.3148 18.082 49.2297 18.0434C49.1386 18.0022 49.0622 17.9374 49.0099 17.8663C48.9622 17.8015 48.9519 17.7553 48.953 17.7599C48.9544 17.7654 48.9624 17.8038 48.9624 17.8873H51.1045C51.1045 17.4963 51.0382 17.0088 50.7357 16.5974C50.3879 16.1244 49.8744 15.9423 49.3908 15.9423V18.0844ZM48.9624 17.8873C48.9624 17.827 48.9866 17.9127 48.7735 18.1736C48.5697 18.423 48.2223 18.7413 47.6874 19.1245L48.935 20.8658C49.5483 20.4264 50.062 19.9821 50.4323 19.5289C50.7932 19.0872 51.1045 18.5303 51.1045 17.8873H48.9624ZM47.6961 19.1183C46.7054 19.8133 45.7171 20.1322 44.7125 20.1322V22.2743C46.2098 22.2743 47.6207 21.7878 48.9263 20.8719L47.6961 19.1183ZM44.7125 20.1322C44.5309 20.1322 44.1186 20.0166 43.4257 19.4654L42.0922 21.1418C42.9072 21.7901 43.7973 22.2743 44.7125 22.2743V20.1322ZM43.4257 19.4654C42.7823 18.9536 42.6989 18.6205 42.6989 18.4785H40.5569C40.5569 19.5704 41.2275 20.454 42.0922 21.1418L43.4257 19.4654ZM42.6989 18.4785C42.6989 18.3555 42.7365 18.0611 42.8626 17.5313C42.9832 17.0248 43.1681 16.3695 43.4213 15.5592L41.3768 14.9202C41.1159 15.755 40.9152 16.4621 40.7788 17.0352C40.6478 17.585 40.5569 18.0874 40.5569 18.4785H42.6989ZM43.4193 15.5657C43.9503 13.9041 44.3122 12.7583 44.5029 12.1339L42.4544 11.5079C42.2681 12.1174 41.9103 13.2508 41.3788 14.9136L43.4193 15.5657ZM43.1879 10.7901C42.5382 10.9734 42.1504 11.0326 41.9621 11.0326V13.1747C42.4592 13.1747 43.0825 13.0455 43.7694 12.8517L43.1879 10.7901ZM41.9621 11.0326C42.0416 11.0326 42.0643 11.0614 42.0143 11.0292C41.9587 10.9935 41.8559 10.9087 41.7128 10.7331L40.0521 12.0862C40.4881 12.6213 41.123 13.1747 41.9621 13.1747V11.0326ZM41.7246 10.7479C41.4345 10.3787 41.388 10.1524 41.388 10.0473H39.2459C39.2459 10.799 39.5763 11.4809 40.0403 12.0714L41.7246 10.7479ZM41.388 10.0473C41.388 10.3904 41.1721 10.5367 41.2147 10.5043C41.2502 10.4772 41.3775 10.4007 41.6654 10.3004C42.2291 10.104 43.1424 9.90546 44.4517 9.71962L44.1507 7.59879C42.8038 7.78996 41.725 8.01127 40.9606 8.27756C40.5845 8.40861 40.2137 8.57414 39.9172 8.79987C39.6278 9.02017 39.2459 9.42997 39.2459 10.0473H41.388ZM45.3506 8.87359C45.6854 7.23476 45.8607 5.77999 45.8607 4.5207H43.7186C43.7186 5.59198 43.5682 6.89623 43.2518 8.44482L45.3506 8.87359ZM45.8607 4.5207C45.8607 4.42874 45.8829 4.5565 45.7397 4.69967C45.5966 4.84285 45.4688 4.82059 45.5608 4.82059V2.6785C45.1386 2.6785 44.6253 2.78476 44.2251 3.18499C43.8248 3.58522 43.7186 4.09855 43.7186 4.5207H45.8607ZM45.5608 4.82059C45.6189 4.82059 45.9362 4.88686 46.5882 5.40845L47.9264 3.73576C47.2074 3.1606 46.3938 2.6785 45.5608 2.6785V4.82059ZM46.6113 5.42643C47.2209 5.88736 47.2402 6.1412 47.2402 6.16582H49.3822C49.3822 5.12796 48.6988 4.31933 47.9033 3.71778L46.6113 5.42643ZM47.2402 6.16582C47.2402 6.55349 47.152 7.18498 46.9347 8.10438L49.0194 8.59711C49.2476 7.63147 49.3822 6.80635 49.3822 6.16582H47.2402ZM48.0216 9.42086C48.8402 9.38675 49.4479 9.37038 49.8535 9.37038V7.22829C49.4023 7.22829 48.759 7.24619 47.9324 7.28063L48.0216 9.42086ZM49.8535 9.37038C50.137 9.37038 50.3625 9.38662 50.5369 9.41298C50.7147 9.43984 50.8131 9.47335 50.8572 9.49331C50.8996 9.51255 50.8543 9.50195 50.798 9.42542C50.7328 9.3368 50.7103 9.23796 50.7103 9.17331H52.8524C52.8524 8.81733 52.7496 8.46358 52.5238 8.15647C52.3068 7.86145 52.0205 7.66876 51.7416 7.54234C51.21 7.30133 50.5436 7.22829 49.8535 7.22829V9.37038ZM50.7103 9.17331C50.7103 9.08064 50.7355 8.99867 50.7669 8.94001C50.7951 8.88759 50.8175 8.87335 50.7986 8.88967C50.7795 8.90617 50.7328 8.94118 50.6434 8.98859C50.5552 9.03539 50.4374 9.0879 50.2843 9.14354L51.0164 11.1567C51.4502 10.9989 51.87 10.7947 52.1987 10.5108C52.5424 10.214 52.8524 9.76551 52.8524 9.17331H50.7103ZM50.2976 9.13882C49.6335 9.37047 48.5536 9.6417 47.0215 9.94812L47.4416 12.0486C48.9941 11.7381 50.1934 11.4438 51.0031 11.1614L50.2976 9.13882Z" fill="white" mask="url(#path-1-outside-1_740_3589)"/>
</g>
<defs>
<filter id="filter0_d_740_3589" x="0.494633" y="0.425297" width="53.4287" height="22.9199" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset/>
<feGaussianBlur stdDeviation="1.07104"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_740_3589"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_740_3589" result="shape"/>
</filter>
</defs>
</svg>
`,Ez=(0,H.JW)`<svg width="58" height="44" viewBox="0 0 58 44" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M40.3337 22.7009L21.0225 22.7009L21.0225 21.2996L40.3337 21.2996L40.3337 22.7009Z" fill="#E660A4"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M37.8158 8.32903C34.2586 8.32903 31.3749 11.2326 31.3749 14.8143C31.3749 19.1699 27.8681 22.7008 23.5423 22.7008L21.0234 22.7008L21.0234 21.2995L23.5423 21.2995C27.0995 21.2995 29.9832 18.396 29.9832 14.8143C29.9832 10.4587 33.49 6.92773 37.8158 6.92773L40.3346 6.92773L40.3346 8.32903L37.8158 8.32903Z" fill="#6E52DF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M23.5413 22.7009L21.0225 22.7009L21.0225 21.2996L23.5413 21.2996C27.8671 21.2996 31.3739 24.8305 31.3739 29.1861C31.3739 32.7678 34.2576 35.6713 37.8148 35.6713L40.3337 35.6713L40.3337 37.0726L37.8148 37.0726C33.489 37.0726 29.9822 33.5417 29.9822 29.1861C29.9822 25.6044 27.0985 22.7009 23.5413 22.7009Z" fill="#FF8C38"/>
<g filter="url(#filter0_d_8326_40611)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M42.0141 30.7434L52.9291 30.7434C54.6251 30.7434 56 32.1278 56 33.8355L56 38.9079C56 40.6156 54.6251 42 52.9291 42L42.0141 42C40.318 42 38.9431 40.6156 38.9431 38.9079L38.9431 33.8355C38.9431 32.1278 40.318 30.7434 42.0141 30.7434ZM42.0141 32.1447C41.0866 32.1447 40.3348 32.9017 40.3348 33.8355L40.3348 38.9079C40.3348 39.8417 41.0866 40.5987 42.0141 40.5987L52.9291 40.5987C53.8565 40.5987 54.6083 39.8417 54.6083 38.9079L54.6083 33.8355C54.6083 32.9017 53.8565 32.1447 52.9291 32.1447L42.0141 32.1447Z" fill="#FF8C38"/>
</g>
<g filter="url(#filter1_d_8326_40611)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M42.0131 16.4124L52.9281 16.4124C54.6241 16.4124 55.9991 17.7967 55.9991 19.5044L55.9991 24.5768C55.9991 26.2846 54.6241 27.6689 52.9281 27.6689L42.0131 27.6689C40.317 27.6689 38.9421 26.2846 38.9421 24.5768L38.9421 19.5044C38.9421 17.7967 40.317 16.4124 42.0131 16.4124ZM42.0131 17.8136C41.0857 17.8136 40.3339 18.5706 40.3339 19.5044L40.3339 24.5768C40.3339 25.5106 41.0857 26.2676 42.0131 26.2676L52.9281 26.2676C53.8555 26.2676 54.6073 25.5106 54.6073 24.5768L54.6073 19.5044C54.6073 18.5706 53.8555 17.8136 52.9281 17.8136L42.0131 17.8136Z" fill="#E660A4"/>
</g>
<g filter="url(#filter2_d_8326_40611)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M42.0131 2L52.9281 2C54.6241 2 55.9991 3.38438 55.9991 5.09209L55.9991 10.1645C55.9991 11.8722 54.6241 13.2566 52.9281 13.2566L42.0131 13.2566C40.317 13.2566 38.9421 11.8722 38.9421 10.1645L38.9421 5.09209C38.9421 3.38438 40.317 2 42.0131 2ZM42.0131 3.4013C41.0857 3.4013 40.3339 4.15829 40.3339 5.09209L40.3339 10.1645C40.3339 11.0983 41.0857 11.8553 42.0131 11.8553L52.9281 11.8553C53.8555 11.8553 54.6073 11.0983 54.6073 10.1645L54.6073 5.09209C54.6073 4.15829 53.8555 3.4013 52.9281 3.4013L42.0131 3.4013Z" fill="#6E52DF"/>
</g>
<g filter="url(#filter3_d_8326_40611)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.45717 14.6809L18.1186 14.6809C20.0279 14.6809 21.5758 16.2394 21.5758 18.1619L21.5758 25.8381C21.5758 27.7606 20.0279 29.3191 18.1186 29.3191L5.45717 29.3191C3.54783 29.3191 2 27.7606 2 25.8381L2 18.1619C2 16.2394 3.54783 14.6809 5.45717 14.6809ZM5.45717 16.0822C4.31645 16.0822 3.39171 17.0133 3.39171 18.1619L3.39171 25.8381C3.39171 26.9867 4.31645 27.9178 5.45717 27.9178L18.1186 27.9178C19.2593 27.9178 20.1841 26.9867 20.1841 25.8381L20.1841 18.1619C20.1841 17.0133 19.2593 16.0822 18.1186 16.0822L5.45717 16.0822Z" fill="#84CFFF"/>
</g>
<path d="M40.3342 33.8356C40.3342 32.9018 41.086 32.1448 42.0135 32.1448L52.9285 32.1448C53.8559 32.1448 54.6077 32.9018 54.6077 33.8356L54.6077 38.908C54.6077 39.8418 53.8559 40.5988 52.9285 40.5988L42.0135 40.5988C41.086 40.5988 40.3342 39.8418 40.3342 38.908L40.3342 33.8356Z" fill="#FBFBFC"/>
<path d="M40.3342 19.5045C40.3342 18.5707 41.086 17.8137 42.0135 17.8137L52.9285 17.8137C53.8559 17.8137 54.6077 18.5707 54.6077 19.5045L54.6077 24.5769C54.6077 25.5107 53.8559 26.2677 52.9285 26.2677L42.0135 26.2677C41.086 26.2677 40.3342 25.5107 40.3342 24.5769L40.3342 19.5045Z" fill="#FBFBFC"/>
<path d="M40.3342 5.09217C40.3342 4.15836 41.086 3.40137 42.0135 3.40137L52.9285 3.40137C53.8559 3.40137 54.6077 4.15836 54.6077 5.09216L54.6077 10.1646C54.6077 11.0984 53.8559 11.8554 52.9285 11.8554L42.0135 11.8554C41.086 11.8554 40.3342 11.0984 40.3342 10.1646L40.3342 5.09217Z" fill="#FBFBFC"/>
<path d="M3.39111 18.1617C3.39111 17.0131 4.31585 16.082 5.45657 16.082L18.118 16.082C19.2587 16.082 20.1835 17.0131 20.1835 18.1617L20.1835 25.8379C20.1835 26.9865 19.2587 27.9176 18.118 27.9176L5.45657 27.9176C4.31585 27.9176 3.39111 26.9865 3.39111 25.8379L3.39111 18.1617Z" fill="#FBFBFC"/>
<defs>
<filter id="filter0_d_8326_40611" x="36.9431" y="28.7434" width="21.0569" height="15.2566" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset/>
<feGaussianBlur stdDeviation="1"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_8326_40611"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_8326_40611" result="shape"/>
</filter>
<filter id="filter1_d_8326_40611" x="36.9421" y="14.4124" width="21.0569" height="15.2566" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset/>
<feGaussianBlur stdDeviation="1"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_8326_40611"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_8326_40611" result="shape"/>
</filter>
<filter id="filter2_d_8326_40611" x="36.9421" y="0" width="21.0569" height="15.2566" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset/>
<feGaussianBlur stdDeviation="1"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_8326_40611"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_8326_40611" result="shape"/>
</filter>
<filter id="filter3_d_8326_40611" x="0" y="12.6809" width="23.5758" height="18.6382" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset/>
<feGaussianBlur stdDeviation="1"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_8326_40611"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_8326_40611" result="shape"/>
</filter>
</defs>
</svg>
`,EF=(0,H.JW)`<svg width="58" height="44" viewBox="0 0 58 44" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M40.3337 22.7009L21.0225 22.7009L21.0225 21.2996L40.3337 21.2996L40.3337 22.7009Z" fill="#E660A4"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M37.8158 8.32903C34.2586 8.32903 31.3749 11.2326 31.3749 14.8143C31.3749 19.1699 27.8681 22.7008 23.5423 22.7008L21.0234 22.7008L21.0234 21.2995L23.5423 21.2995C27.0995 21.2995 29.9832 18.396 29.9832 14.8143C29.9832 10.4587 33.49 6.92773 37.8158 6.92773L40.3346 6.92773L40.3346 8.32903L37.8158 8.32903Z" fill="#6E52DF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M23.5413 22.7009L21.0225 22.7009L21.0225 21.2996L23.5413 21.2996C27.8671 21.2996 31.3739 24.8305 31.3739 29.1861C31.3739 32.7678 34.2576 35.6713 37.8148 35.6713L40.3337 35.6713L40.3337 37.0726L37.8148 37.0726C33.489 37.0726 29.9822 33.5417 29.9822 29.1861C29.9822 25.6044 27.0985 22.7009 23.5413 22.7009Z" fill="#FF8C38"/>
<g filter="url(#filter0_d_8326_49080)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M42.0141 30.7434L52.9291 30.7434C54.6251 30.7434 56 32.1278 56 33.8355L56 38.9079C56 40.6156 54.6251 42 52.9291 42L42.0141 42C40.318 42 38.9431 40.6156 38.9431 38.9079L38.9431 33.8355C38.9431 32.1278 40.318 30.7434 42.0141 30.7434ZM42.0141 32.1447C41.0866 32.1447 40.3348 32.9017 40.3348 33.8355L40.3348 38.9079C40.3348 39.8417 41.0866 40.5987 42.0141 40.5987L52.9291 40.5987C53.8565 40.5987 54.6083 39.8417 54.6083 38.9079L54.6083 33.8355C54.6083 32.9017 53.8565 32.1447 52.9291 32.1447L42.0141 32.1447Z" fill="#FF8C38"/>
</g>
<g filter="url(#filter1_d_8326_49080)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M42.0131 16.4124L52.9281 16.4124C54.6241 16.4124 55.9991 17.7967 55.9991 19.5044L55.9991 24.5768C55.9991 26.2846 54.6241 27.6689 52.9281 27.6689L42.0131 27.6689C40.317 27.6689 38.9421 26.2846 38.9421 24.5768L38.9421 19.5044C38.9421 17.7967 40.317 16.4124 42.0131 16.4124ZM42.0131 17.8136C41.0857 17.8136 40.3339 18.5706 40.3339 19.5044L40.3339 24.5768C40.3339 25.5106 41.0857 26.2676 42.0131 26.2676L52.9281 26.2676C53.8555 26.2676 54.6073 25.5106 54.6073 24.5768L54.6073 19.5044C54.6073 18.5706 53.8555 17.8136 52.9281 17.8136L42.0131 17.8136Z" fill="#E660A4"/>
</g>
<g filter="url(#filter2_d_8326_49080)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M42.0131 2L52.9281 2C54.6241 2 55.9991 3.38438 55.9991 5.09209L55.9991 10.1645C55.9991 11.8722 54.6241 13.2566 52.9281 13.2566L42.0131 13.2566C40.317 13.2566 38.9421 11.8722 38.9421 10.1645L38.9421 5.09209C38.9421 3.38438 40.317 2 42.0131 2ZM42.0131 3.4013C41.0857 3.4013 40.3339 4.15829 40.3339 5.09209L40.3339 10.1645C40.3339 11.0983 41.0857 11.8553 42.0131 11.8553L52.9281 11.8553C53.8555 11.8553 54.6073 11.0983 54.6073 10.1645L54.6073 5.09209C54.6073 4.15829 53.8555 3.4013 52.9281 3.4013L42.0131 3.4013Z" fill="#6E52DF"/>
</g>
<g filter="url(#filter3_d_8326_49080)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.45717 14.6809L18.1186 14.6809C20.0279 14.6809 21.5758 16.2394 21.5758 18.1619L21.5758 25.8381C21.5758 27.7606 20.0279 29.3191 18.1186 29.3191L5.45717 29.3191C3.54783 29.3191 2 27.7606 2 25.8381L2 18.1619C2 16.2394 3.54783 14.6809 5.45717 14.6809ZM5.45717 16.0822C4.31645 16.0822 3.39171 17.0133 3.39171 18.1619L3.39171 25.8381C3.39171 26.9867 4.31645 27.9178 5.45717 27.9178L18.1186 27.9178C19.2593 27.9178 20.1841 26.9867 20.1841 25.8381L20.1841 18.1619C20.1841 17.0133 19.2593 16.0822 18.1186 16.0822L5.45717 16.0822Z" fill="#84CFFF"/>
</g>
<path d="M40.3342 33.8356C40.3342 32.9018 41.086 32.1448 42.0135 32.1448L52.9285 32.1448C53.8559 32.1448 54.6077 32.9018 54.6077 33.8356L54.6077 38.908C54.6077 39.8418 53.8559 40.5988 52.9285 40.5988L42.0135 40.5988C41.086 40.5988 40.3342 39.8418 40.3342 38.908L40.3342 33.8356Z" fill="#1E1E1E"/>
<path d="M40.3342 19.5045C40.3342 18.5707 41.086 17.8137 42.0135 17.8137L52.9285 17.8137C53.8559 17.8137 54.6077 18.5707 54.6077 19.5045L54.6077 24.5769C54.6077 25.5107 53.8559 26.2677 52.9285 26.2677L42.0135 26.2677C41.086 26.2677 40.3342 25.5107 40.3342 24.5769L40.3342 19.5045Z" fill="#1E1E1E"/>
<path d="M40.3342 5.09217C40.3342 4.15836 41.086 3.40137 42.0135 3.40137L52.9285 3.40137C53.8559 3.40137 54.6077 4.15836 54.6077 5.09216L54.6077 10.1646C54.6077 11.0984 53.8559 11.8554 52.9285 11.8554L42.0135 11.8554C41.086 11.8554 40.3342 11.0984 40.3342 10.1646L40.3342 5.09217Z" fill="#1E1E1E"/>
<path d="M3.39111 18.1617C3.39111 17.0131 4.31585 16.082 5.45657 16.082L18.118 16.082C19.2587 16.082 20.1835 17.0131 20.1835 18.1617L20.1835 25.8379C20.1835 26.9865 19.2587 27.9176 18.118 27.9176L5.45657 27.9176C4.31585 27.9176 3.39111 26.9865 3.39111 25.8379L3.39111 18.1617Z" fill="#1E1E1E"/>
<defs>
<filter id="filter0_d_8326_49080" x="36.9431" y="28.7434" width="21.0569" height="15.2566" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset/>
<feGaussianBlur stdDeviation="1"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_8326_49080"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_8326_49080" result="shape"/>
</filter>
<filter id="filter1_d_8326_49080" x="36.9421" y="14.4124" width="21.0569" height="15.2566" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset/>
<feGaussianBlur stdDeviation="1"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_8326_49080"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_8326_49080" result="shape"/>
</filter>
<filter id="filter2_d_8326_49080" x="36.9421" y="0" width="21.0569" height="15.2566" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset/>
<feGaussianBlur stdDeviation="1"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_8326_49080"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_8326_49080" result="shape"/>
</filter>
<filter id="filter3_d_8326_49080" x="0" y="12.6809" width="23.5758" height="18.6382" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset/>
<feGaussianBlur stdDeviation="1"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_8326_49080"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_8326_49080" result="shape"/>
</filter>
</defs>
</svg>
`,EN=(0,H.JW)`<svg width="64" height="48" viewBox="0 0 64 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M23.9766 24L43.4028 24" stroke="black" stroke-width="1.4" stroke-linejoin="round"/>
<path d="M23.9766 24.0001L33.5897 24.0001C33.6449 24.0001 33.6897 23.9553 33.6897 23.9001L33.6897 9.7416C33.6897 9.68637 33.7344 9.6416 33.7897 9.6416L43.4028 9.6416" stroke="black" stroke-width="1.4" stroke-linejoin="round"/>
<path d="M23.9766 24L33.5897 24C33.6449 24 33.6897 24.0448 33.6897 24.1L33.6897 38.2585C33.6897 38.3137 33.7344 38.3585 33.7897 38.3585L43.4028 38.3585" stroke="black" stroke-width="1.4" stroke-linejoin="round"/>
<g filter="url(#filter0_dd_7525_14565)">
<rect x="43.4023" y="34.1353" width="14.3585" height="8.44617" rx="0.1" fill="#84CFFF"/>
</g>
<g filter="url(#filter1_dd_7525_14565)">
<rect x="43.4023" y="19.7769" width="14.3585" height="8.44617" rx="0.1" fill="#84CFFF"/>
</g>
<g filter="url(#filter2_dd_7525_14565)">
<rect x="43.4023" y="5.41846" width="14.3585" height="8.44617" rx="0.1" fill="#84CFFF"/>
</g>
<g filter="url(#filter3_dd_7525_14565)">
<rect x="6.23926" y="18.0879" width="16.8923" height="11.8246" rx="0.1" fill="#FFC46B"/>
</g>
<defs>
<filter id="filter0_dd_7525_14565" x="42.4023" y="33.1353" width="17.3584" height="11.4462" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feMorphology radius="1" operator="dilate" in="SourceAlpha" result="effect1_dropShadow_7525_14565"/>
<feOffset dx="1" dy="1"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_7525_14565"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feMorphology radius="1" operator="dilate" in="SourceAlpha" result="effect2_dropShadow_7525_14565"/>
<feOffset/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"/>
<feBlend mode="normal" in2="effect1_dropShadow_7525_14565" result="effect2_dropShadow_7525_14565"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_7525_14565" result="shape"/>
</filter>
<filter id="filter1_dd_7525_14565" x="42.4023" y="18.7769" width="17.3584" height="11.4462" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feMorphology radius="1" operator="dilate" in="SourceAlpha" result="effect1_dropShadow_7525_14565"/>
<feOffset dx="1" dy="1"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_7525_14565"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feMorphology radius="1" operator="dilate" in="SourceAlpha" result="effect2_dropShadow_7525_14565"/>
<feOffset/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"/>
<feBlend mode="normal" in2="effect1_dropShadow_7525_14565" result="effect2_dropShadow_7525_14565"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_7525_14565" result="shape"/>
</filter>
<filter id="filter2_dd_7525_14565" x="42.4023" y="4.41846" width="17.3584" height="11.4462" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feMorphology radius="1" operator="dilate" in="SourceAlpha" result="effect1_dropShadow_7525_14565"/>
<feOffset dx="1" dy="1"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_7525_14565"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feMorphology radius="1" operator="dilate" in="SourceAlpha" result="effect2_dropShadow_7525_14565"/>
<feOffset/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"/>
<feBlend mode="normal" in2="effect1_dropShadow_7525_14565" result="effect2_dropShadow_7525_14565"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_7525_14565" result="shape"/>
</filter>
<filter id="filter3_dd_7525_14565" x="5.23926" y="17.0879" width="19.8926" height="14.8246" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feMorphology radius="1" operator="dilate" in="SourceAlpha" result="effect1_dropShadow_7525_14565"/>
<feOffset dx="1" dy="1"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_7525_14565"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feMorphology radius="1" operator="dilate" in="SourceAlpha" result="effect2_dropShadow_7525_14565"/>
<feOffset/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"/>
<feBlend mode="normal" in2="effect1_dropShadow_7525_14565" result="effect2_dropShadow_7525_14565"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_7525_14565" result="shape"/>
</filter>
</defs>
</svg>
`,Eq=(0,H.JW)`<svg width="64" height="48" viewBox="0 0 64 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M23.9761 24L43.4023 24" stroke="white" stroke-width="1.4" stroke-linejoin="round"/>
<path d="M23.9761 24.0001L33.5892 24.0001C33.6444 24.0001 33.6892 23.9553 33.6892 23.9001L33.6892 9.7416C33.6892 9.68637 33.7339 9.6416 33.7892 9.6416L43.4023 9.6416" stroke="white" stroke-width="1.4" stroke-linejoin="round"/>
<path d="M23.9761 24L33.5892 24C33.6444 24 33.6892 24.0448 33.6892 24.1L33.6892 38.2585C33.6892 38.3137 33.7339 38.3585 33.7892 38.3585L43.4023 38.3585" stroke="white" stroke-width="1.4" stroke-linejoin="round"/>
<g filter="url(#filter0_dd_7525_19591)">
<rect x="43.4023" y="34.1353" width="14.3585" height="8.44617" rx="0.1" fill="#84CFFF"/>
</g>
<g filter="url(#filter1_dd_7525_19591)">
<rect x="43.4023" y="19.7769" width="14.3585" height="8.44617" rx="0.1" fill="#84CFFF"/>
</g>
<g filter="url(#filter2_dd_7525_19591)">
<rect x="43.4023" y="5.41846" width="14.3585" height="8.44617" rx="0.1" fill="#84CFFF"/>
</g>
<g filter="url(#filter3_dd_7525_19591)">
<rect x="6.23926" y="18.0879" width="16.8923" height="11.8246" rx="0.1" fill="#FFC46B"/>
</g>
<defs>
<filter id="filter0_dd_7525_19591" x="42.4023" y="33.1353" width="17.3584" height="11.4462" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feMorphology radius="1" operator="dilate" in="SourceAlpha" result="effect1_dropShadow_7525_19591"/>
<feOffset dx="1" dy="1"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_7525_19591"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feMorphology radius="1" operator="dilate" in="SourceAlpha" result="effect2_dropShadow_7525_19591"/>
<feOffset/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"/>
<feBlend mode="normal" in2="effect1_dropShadow_7525_19591" result="effect2_dropShadow_7525_19591"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_7525_19591" result="shape"/>
</filter>
<filter id="filter1_dd_7525_19591" x="42.4023" y="18.7769" width="17.3584" height="11.4462" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feMorphology radius="1" operator="dilate" in="SourceAlpha" result="effect1_dropShadow_7525_19591"/>
<feOffset dx="1" dy="1"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_7525_19591"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feMorphology radius="1" operator="dilate" in="SourceAlpha" result="effect2_dropShadow_7525_19591"/>
<feOffset/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"/>
<feBlend mode="normal" in2="effect1_dropShadow_7525_19591" result="effect2_dropShadow_7525_19591"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_7525_19591" result="shape"/>
</filter>
<filter id="filter2_dd_7525_19591" x="42.4023" y="4.41846" width="17.3584" height="11.4462" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feMorphology radius="1" operator="dilate" in="SourceAlpha" result="effect1_dropShadow_7525_19591"/>
<feOffset dx="1" dy="1"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_7525_19591"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feMorphology radius="1" operator="dilate" in="SourceAlpha" result="effect2_dropShadow_7525_19591"/>
<feOffset/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"/>
<feBlend mode="normal" in2="effect1_dropShadow_7525_19591" result="effect2_dropShadow_7525_19591"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_7525_19591" result="shape"/>
</filter>
<filter id="filter3_dd_7525_19591" x="5.23926" y="17.0879" width="19.8926" height="14.8246" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feMorphology radius="1" operator="dilate" in="SourceAlpha" result="effect1_dropShadow_7525_19591"/>
<feOffset dx="1" dy="1"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_7525_19591"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feMorphology radius="1" operator="dilate" in="SourceAlpha" result="effect2_dropShadow_7525_19591"/>
<feOffset/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"/>
<feBlend mode="normal" in2="effect1_dropShadow_7525_19591" result="effect2_dropShadow_7525_19591"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_7525_19591" result="shape"/>
</filter>
</defs>
</svg>
`,EU=(0,H.JW)`<svg width="64" height="48" viewBox="0 0 64 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M23.9766 24L43.4028 24" stroke="#FFD338" stroke-width="1.4"/>
<path d="M23.9766 24.0001L26.5104 24.0001C30.4754 24.0001 33.6897 20.7858 33.6897 16.8208V16.8208C33.6897 12.8559 36.9039 9.6416 40.8689 9.6416L43.4028 9.6416" stroke="#FFD338" stroke-width="1.4"/>
<path d="M23.9766 24L26.5104 24C30.4754 24 33.6897 27.2143 33.6897 31.1792V31.1792C33.6897 35.1442 36.9039 38.3585 40.8689 38.3585L43.4028 38.3585" stroke="#FFD338" stroke-width="1.4"/>
<g filter="url(#filter0_d_7525_14574)">
<rect x="43.4023" y="34.1353" width="14.3585" height="8.44617" rx="1.68923" fill="white"/>
<rect x="42.7023" y="33.4353" width="15.7585" height="9.84617" rx="2.38923" stroke="#FFD338" stroke-width="1.4"/>
</g>
<g filter="url(#filter1_d_7525_14574)">
<rect x="43.4023" y="19.7769" width="14.3585" height="8.44617" rx="1.68923" fill="white"/>
<rect x="42.7023" y="19.0769" width="15.7585" height="9.84617" rx="2.38923" stroke="#FFD338" stroke-width="1.4"/>
</g>
<g filter="url(#filter2_d_7525_14574)">
<rect x="43.4023" y="5.41846" width="14.3585" height="8.44617" rx="1.68923" fill="white"/>
<rect x="42.7023" y="4.71846" width="15.7585" height="9.84617" rx="2.38923" stroke="#FFD338" stroke-width="1.4"/>
</g>
<g filter="url(#filter3_d_7525_14574)">
<rect x="6.23926" y="18.0879" width="16.8923" height="11.8246" rx="2.07776" fill="#FFD338"/>
<rect x="5.53926" y="17.3879" width="18.2923" height="13.2246" rx="2.77776" stroke="white" stroke-width="1.4"/>
</g>
<defs>
<filter id="filter0_d_7525_14574" x="39.4681" y="30.2014" width="22.2269" height="16.3139" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset/>
<feGaussianBlur stdDeviation="1.26693"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_7525_14574"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_7525_14574" result="shape"/>
</filter>
<filter id="filter1_d_7525_14574" x="39.4681" y="15.843" width="22.2269" height="16.3139" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset/>
<feGaussianBlur stdDeviation="1.26693"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_7525_14574"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_7525_14574" result="shape"/>
</filter>
<filter id="filter2_d_7525_14574" x="39.4681" y="1.48458" width="22.2269" height="16.3139" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset/>
<feGaussianBlur stdDeviation="1.26693"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_7525_14574"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_7525_14574" result="shape"/>
</filter>
<filter id="filter3_d_7525_14574" x="2.30501" y="14.154" width="24.7601" height="19.6923" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset/>
<feGaussianBlur stdDeviation="1.26693"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_7525_14574"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_7525_14574" result="shape"/>
</filter>
</defs>
</svg>
`,EW=(0,H.JW)`<svg width="64" height="48" viewBox="0 0 64 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M23.9766 24L43.4028 24" stroke="#E660A4" stroke-width="1.4" stroke-linecap="round" />
<path
  d="M23.9766 24.0001L26.5104 24.0001C30.4754 24.0001 33.6897 20.7858 33.6897 16.8208V16.8208C33.6897 12.8559 36.9039 9.6416 40.8689 9.6416L43.4028 9.6416"
  stroke="#6E52DF" stroke-width="1.4" stroke-linecap="round" />
<path
  d="M23.9766 24L26.5104 24C30.4754 24 33.6897 27.2143 33.6897 31.1792V31.1792C33.6897 35.1442 36.9039 38.3585 40.8689 38.3585L43.4028 38.3585"
  stroke="#FF8C38" stroke-width="1.4" stroke-linecap="round" />
<path
  d="M7 26C9.85124 21.8236 11.8347 18.5607 11.8347 20.649C11.8347 22.7372 10.9669 24.695 11.2149 25.3475C11.4628 26 12.9504 24.0423 13.9421 22.8677C14.9339 21.6931 15.9256 21.0405 15.8017 22.8677C15.6777 24.6949 16.2975 25.739 17.2893 24.8254C18.281 23.9118 19.2727 23.5203 20.0165 23.7813C20.6116 23.9901 21.5868 24.5644 22 24.8254"
  stroke="var(--affine-black)" stroke-width="1.4" stroke-linecap="round" />
<path
  d="M44 11C46.4711 7.51964 48.1901 4.80062 48.1901 6.54079C48.1901 8.28097 47.438 9.91246 47.6529 10.4562C47.8678 11 49.157 9.36862 50.0165 8.38977C50.876 7.41092 51.7355 6.86712 51.6281 8.38977C51.5207 9.91243 52.0579 10.7825 52.9174 10.0212C53.7769 9.25986 54.6364 8.93358 55.281 9.1511C55.7967 9.32512 56.6419 9.80367 57 10.0212"
  stroke="var(--affine-black)" stroke-width="1.4" stroke-linecap="round" />
<path
  d="M44 25.5C46.4711 22.0196 48.1901 19.3006 48.1901 21.0408C48.1901 22.781 47.438 24.4125 47.6529 24.9562C47.8678 25.5 49.157 23.8686 50.0165 22.8898C50.876 21.9109 51.7355 21.3671 51.6281 22.8898C51.5207 24.4124 52.0579 25.2825 52.9174 24.5212C53.7769 23.7599 54.6364 23.4336 55.281 23.6511C55.7967 23.8251 56.6419 24.3037 57 24.5212"
  stroke="var(--affine-black)" stroke-width="1.4" stroke-linecap="round" />
<path
  d="M44 40C46.4711 36.5196 48.1901 33.8006 48.1901 35.5408C48.1901 37.281 47.438 38.9125 47.6529 39.4562C47.8678 40 49.157 38.3686 50.0165 37.3898C50.876 36.4109 51.7355 35.8671 51.6281 37.3898C51.5207 38.9124 52.0579 39.7825 52.9174 39.0212C53.7769 38.2599 54.6364 37.9336 55.281 38.1511C55.7967 38.3251 56.6419 38.8037 57 39.0212"
  stroke="var(--affine-black)" stroke-width="1.4" stroke-linecap="round" />
</svg>`,EG=e=>[{type:"mindmap",icon:e===im.z.Dark?EF:Ez,style:I.cy.ONE,render:EH(I.cy.ONE)},{type:"mindmap",icon:EW,style:I.cy.FOUR,render:EH(I.cy.FOUR)},{type:"mindmap",icon:EU,style:I.cy.THREE,render:EH(I.cy.THREE)},{type:"mindmap",icon:"light"===e?EN:Eq,style:I.cy.TWO,render:EH(I.cy.TWO)}];var EY=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},EK=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let EX={type:"text",icon:ER,render:EL};(()=>{let e,t,i,s,o=[(0,L.EM)("edgeless-mindmap-menu")],r=[],a=MQ(H.WF),n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],EY(this,null,i,{kind:"accessor",name:"activeStyle",static:!1,private:!1,access:{has:e=>"activeStyle"in e,get:e=>e.activeStyle,set:(e,t)=>{e.activeStyle=t}},metadata:h},n,l),EY(this,null,s,{kind:"accessor",name:"onActiveStyleChange",static:!1,private:!1,access:{has:e=>"onActiveStyleChange"in e,get:e=>e.onActiveStyleChange,set:(e,t)=>{e.onActiveStyleChange=t}},metadata:h},c,d),EY(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      z-index: -1;
      justify-content: flex-end;
    }
    .text-and-mindmap {
      display: flex;
      gap: 10px;
      padding: 8px 0px;
      box-sizing: border-box;
    }
    .thin-divider {
      width: 1px;
      transform: scaleX(0.5);
      height: 48px;
      background: var(--affine-border-color);
    }
    .text-item {
      width: 60px;
    }
    .mindmap-item {
      width: 64px;
    }

    .text-item,
    .mindmap-item {
      border-radius: 4px;
      height: 48px;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .text-item > button,
    .mindmap-item > button {
      position: absolute;
      border-radius: inherit;
      border: none;
      background: none;
      cursor: grab;
      padding: 0;
    }
    .text-item:hover,
    .mindmap-item:hover {
      background: var(--affine-hover-color);
    }
    .text-item > button.next,
    .mindmap-item > button.next {
      transition: transform 0.3s ease-in-out;
    }
  `}initDragController(){!this.draggableController&&this.edgeless&&(this.draggableController=new ET(this,{service:this.edgeless.service,edgeless:this.edgeless,scopeElement:this,clickToDrag:!0,onOverlayCreated:()=>{this.setEdgelessTool({type:"mindmap"})},onDrop:(e,t)=>{let i=e.data.render(t,this.edgeless.service,this.edgeless);"mindmap"===e.data.type?(this.onActiveStyleChange?.(e.data.style),this.setEdgelessTool({type:"default"},{elements:[i],editing:!1})):"text"===e.data.type&&this.setEdgelessTool({type:"default"})}}))}render(){let{cancelled:e,draggingElement:t,dragOut:i}=this.draggableController?.states||{},s=t?.data?.type==="text";return(0,H.qy)`<edgeless-slide-menu .height=${"64px"}>
      <div class="text-and-mindmap">
        <div class="text-item">
          ${s?(0,H.qy)`<button
                class="next"
                style="transform: translateY(${i&&!e?0:64}px)"
              >
                ${EX.icon}
              </button>`:H.s6}
          <button
            style="opacity: ${s?0:1}"
            @mousedown=${e=>this.draggableController.onMouseDown(e,{preview:EX.icon,data:EX})}
            @touchstart=${e=>this.draggableController.onTouchStart(e,{preview:EX.icon,data:EX})}
          >
            ${EX.icon}
          </button>
          <affine-tooltip tip-position="top" .offset=${12}>
            ${ky("Edgeless Text","T")}
          </affine-tooltip>
        </div>
        <div class="thin-divider"></div>
        <!-- mind map -->
        ${(0,D.u)(this.mindMaps,s=>{let o=t?.data?.type!=="text",r=t?.data,a=o&&r?.style===s.style;return(0,H.qy)`
            <div class="mindmap-item">
              ${a?(0,H.qy)`<button
                    style="transform: translateY(${i&&!e?0:64}px)"
                    class="next"
                  >
                    ${s.icon}
                  </button>`:H.s6}
              <button
                style="opacity: ${a?0:1}"
                @mousedown=${e=>{this.draggableController.onMouseDown(e,{preview:s.icon,data:s,standardWidth:350})}}
                @touchstart=${e=>{this.draggableController.onTouchStart(e,{preview:s.icon,data:s,standardWidth:350})}}
                @click=${()=>this.onActiveStyleChange?.(s.style)}
              >
                ${s.icon}
              </button>
              <affine-tooltip tip-position="top" .offset=${12}>
                ${ky("Mind Map","M")}
              </affine-tooltip>
            </div>
          `})}
      </div>
    </edgeless-slide-menu>`}updated(e){e.has("edgeless")&&this.initDragController()}get mindMaps(){return EG(this.theme)}#nb;get activeStyle(){return this.#nb}set activeStyle(e){this.#nb=e}#nw;get onActiveStyleChange(){return this.#nw}set onActiveStyleChange(e){this.#nw=e}constructor(){super(...arguments),this.type="mindmap",this.#nb=EK(this,n,void 0),this.#nw=(EK(this,l),EK(this,c,void 0)),EK(this,d)}static{EK(t,r)}})})();var EQ=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},EJ=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("edgeless-mindmap-tool-button")],n=[],l=MQ(H.WF),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.MZ)({type:Boolean})],o=[(0,L.P)(".basket-tool-item.mindmap")],r=[(0,L.wk)()],EQ(this,null,i,{kind:"accessor",name:"activeStyle",static:!1,private:!1,access:{has:e=>"activeStyle"in e,get:e=>e.activeStyle,set:(e,t)=>{e.activeStyle=t}},metadata:v},c,d),EQ(this,null,s,{kind:"accessor",name:"enableBlur",static:!1,private:!1,access:{has:e=>"enableBlur"in e,get:e=>e.enableBlur,set:(e,t)=>{e.enableBlur=t}},metadata:v},h,u),EQ(this,null,o,{kind:"accessor",name:"mindmapElement",static:!1,private:!1,access:{has:e=>"mindmapElement"in e,get:e=>e.mindmapElement,set:(e,t)=>{e.mindmapElement=t}},metadata:v},p,f),EQ(this,null,r,{kind:"accessor",name:"readyToDrop",static:!1,private:!1,access:{has:e=>"readyToDrop"in e,get:e=>e.readyToDrop,set:(e,t)=>{e.readyToDrop=t}},metadata:v},g,m),EQ(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    :host {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .partial-clip {
      flex-shrink: 0;
      box-sizing: border-box;
      width: calc(100% + 20px);
      pointer-events: none;
      padding: 0 10px;
      overflow: hidden;
    }
    .basket-wrapper {
      pointer-events: auto;
      height: 64px;
      width: 96px;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      position: relative;
    }
    .basket,
    .basket-tool-item {
      transition: transform 0.3s ease-in-out;
      position: absolute;
    }

    .basket {
      bottom: 0;
      height: 17px;
      width: 76px;
    }
    .basket > div,
    .basket > svg {
      position: absolute;
    }
    .glass {
      width: 76px;
      height: 17px;
      border-radius: 2px;
      mask: url(#mindmap-basket-body-mask);
    }
    .glass.enabled {
      backdrop-filter: blur(2px);
    }

    .basket {
      z-index: 3;
    }
    .basket-tool-item {
      cursor: grab;
    }
    .basket-tool-item svg {
      display: block;
    }
    .basket-tool-item {
      transform: translate(var(--default-x, 0), var(--default-y, 0))
        rotate(var(--default-r, 0)) scale(var(--default-s, 1));
      z-index: var(--default-z, 0);
    }

    .basket-tool-item.next {
      transform: translate(var(--next-x, 0), var(--next-y, 0))
        rotate(var(--next-r, 0)) scale(var(--next-s, 1));
      z-index: var(--next-z, 0);
    }

    /* active & hover */
    .basket-wrapper:hover .basket,
    .basket-wrapper.active .basket {
      z-index: 0;
    }
    .basket-wrapper:hover .basket-tool-item.current,
    .basket-wrapper.active .basket-tool-item.current {
      transform: translate(var(--active-x, 0), var(--active-y, 0))
        rotate(var(--active-r, 0)) scale(var(--active-s, 1));
      z-index: var(--active-z, 0);
    }

    .basket-tool-item.next.coming,
    .basket-wrapper:hover .basket-tool-item.current:hover {
      transform: translate(var(--hover-x, 0), var(--hover-y, 0))
        rotate(var(--hover-r, 0)) scale(var(--hover-s, 1));
      z-index: var(--hover-z, 0);
    }
  `}_toggleMenu(){this.tryDisposePopper()||(this.setEdgelessTool({type:"default"}),Object.assign(this.createPopper("edgeless-mindmap-menu",this).element,{edgeless:this.edgeless,activeStyle:this.activeStyle,onActiveStyleChange:e=>{this.activeStyle=e}}))}initDragController(){if(!this.edgeless||!this.toolbarContainer||this.draggableController)return;this.draggableController=new ET(this,{service:this.edgeless.service,edgeless:this.edgeless,scopeElement:this.toolbarContainer,standardWidth:100,clickToDrag:!0,onOverlayCreated:(e,{data:t})=>{let i=this.draggableTools.find(e=>e.name===t.name);if(!i)return;let s=i.config?.hover?.r??i.config?.default?.r??0;e.element.style.setProperty("--rotate",s+"deg"),setTimeout(()=>{e.transitionWrapper.style.setProperty("--rotate",-s+"deg")},50);let o=i.config?.hover?.s??i.config?.default?.s??1;e.element.style.setProperty("--scale",`${o}`);let r=parseInt(e.element.style.left),a=parseInt(e.element.style.top);"mindmap"===t.name?(e.element.style.left=r+3+"px",e.element.style.top=a+5+"px"):"text"===t.name&&(e.element.style.left=r+0+"px",e.element.style.top=a+3+"px"),this.readyToDrop=!0},onCanceled:e=>{e.transitionWrapper.style.transformOrigin="unset",e.transitionWrapper.style.setProperty("--rotate","0deg"),this.readyToDrop=!1},onDrop:(e,t)=>{let i=e.data.render(t,this.edgeless.service,this.edgeless);this.readyToDrop=!1,"mindmap"===e.data.name?this.setEdgelessTool({type:"default"},{elements:[i],editing:!1}):"text"===e.data.name&&this.setEdgelessTool({type:"default"})}});let e=this.edgeless.bindHotKey({m:()=>{let e=this.edgeless.service;if(e.locked||e.selection.editing)return;if(this.readyToDrop){let e=(this.mindmaps.findIndex(e=>e.style===this.activeStyle)+1)%this.mindmaps.length,t=this.mindmaps[e];this.activeStyle=t.style;let i=this.draggableTools.find(e=>"mindmap"===e.name);(0,V.Z1)(i),this.draggableController.updateElementInfo({data:i,preview:t.icon});return}this.setEdgelessTool({type:"mindmap"});let t=this.mindmapElement;(0,V.Z1)(t);let{x:i,y:s}=e.tool.lastMousePos,{left:o,top:r}=this.edgeless.viewport;this.draggableController.clickToDrag(t,{x:i+o,y:s+r})}},{global:!0});this.disposables.add(e)}render(){let{popper:e,theme:t}=this,{cancelled:i,dragOut:s,draggingElement:o}=this.draggableController?.states||{},r=e||o;return(0,H.qy)`<edgeless-toolbar-button
      class="edgeless-mindmap-button"
      ?withHover=${!0}
      .tooltip=${e?"":"Others"}
      .tooltipOffset=${4}
      @click=${this._toggleMenu}
      style="width: 100%; height: 100%; display: inline-block"
    >
      <div class="partial-clip">
        <div class="basket-wrapper ${r?"active":""}">
          ${(0,D.u)(this.draggableTools,e=>e.name,e=>{let t=o?.data.name===e.name,r=EZ(e.config),a=(0,Z.W)({...r}),n=(0,Z.W)({...r,opacity:t?0:1,pointerEvents:o?"none":"auto"});return(0,H.qy)`${t?(0,H.qy)`<div
                      class=${(0,oJ.H)({"basket-tool-item":!0,next:!0,coming:!!s&&!i})}
                      style=${a}
                    >
                      ${e.icon}
                    </div>`:H.s6}

                <div
                  style=${n}
                  @mousedown=${t=>this.draggableController.onMouseDown(t,{data:e,preview:e.icon,standardWidth:e.standardWidth})}
                  @touchstart=${t=>this.draggableController.onTouchStart(t,{data:e,preview:e.icon,standardWidth:e.standardWidth})}
                  class="basket-tool-item current ${e.name}"
                >
                  ${e.icon}
                </div>`})}

          <div class="basket">
            <div
              class="glass ${this.enableBlur?"enabled":""}"
              style="background: ${"light"===t?"rgba(255,255,255,0.5)":"rgba(74, 74, 74, 0.6)"}"
            ></div>
            ${"light"===t?Ej:EV}
          </div>
        </div>
      </div>

      <svg width="0" height="0" style="opacity: 0; pointer-events: none">
        <defs>
          <mask id="mindmap-basket-body-mask">
            <rect
              x="2"
              width="71.8"
              y="2"
              height="15"
              rx="1.5"
              ry="1.5"
              fill="white"
            />
            <rect
              width="32"
              height="6"
              x="22"
              y="5.9"
              fill="black"
              rx="3"
              ry="3"
            />
          </mask>
        </defs>
      </svg>
    </edgeless-toolbar-button>`}updated(e){["edgeless","toolbarContainer"].some(t=>e.has(t))&&!this.draggableController&&this.initDragController()}get draggableTools(){return[{name:"text",icon:ER,config:EP,standardWidth:100,render:EL},{name:"mindmap",icon:this.mindmaps.find(e=>e.style===this.activeStyle).icon,config:EA,standardWidth:350,render:EH(this.activeStyle)}]}get mindmaps(){return EG(this.theme)}#nb;get activeStyle(){return this.#nb}set activeStyle(e){this.#nb=e}#nx;get enableBlur(){return this.#nx}set enableBlur(e){this.#nx=e}#n_;get mindmapElement(){return this.#n_}set mindmapElement(e){this.#n_=e}#nC;get readyToDrop(){return this.#nC}set readyToDrop(e){this.#nC=e}constructor(){super(...arguments),this.enableActiveBackground=!0,this.type=["mindmap","text"],this.#nb=EJ(this,c,I.cy.ONE),this.#nx=(EJ(this,d),EJ(this,h,!0)),this.#n_=(EJ(this,u),EJ(this,p,void 0)),this.#nC=(EJ(this,f),EJ(this,g,!1)),EJ(this,m)}static{EJ(t,n)}})})();let E1=(0,H.JW)`<svg width="44" height="5" viewBox="0 0 44 5" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M43.9013 1.45752V1.94112H42.5034V1.45752H43.9013ZM42.8208 0.901367H43.4646V3.06551C43.4646 3.12496 43.4737 3.1713 43.4918 3.20455C43.5099 3.23679 43.5351 3.25946 43.5674 3.27256C43.6006 3.28565 43.6389 3.2922 43.6822 3.2922C43.7124 3.2922 43.7427 3.28968 43.7729 3.28465C43.8031 3.2786 43.8263 3.27407 43.8424 3.27105L43.9437 3.75012C43.9114 3.76019 43.8661 3.77178 43.8076 3.78488C43.7492 3.79898 43.6782 3.80755 43.5946 3.81057C43.4394 3.81662 43.3034 3.79596 43.1865 3.74861C43.0706 3.70126 42.9805 3.62771 42.916 3.52796C42.8515 3.42822 42.8198 3.30228 42.8208 3.15014V0.901367Z" fill="currentColor"/>
<path d="M39.9741 4.64977V1.45796H40.6089V1.84787H40.6376C40.6658 1.7854 40.7066 1.72193 40.76 1.65745C40.8144 1.59196 40.8849 1.53755 40.9716 1.49423C41.0592 1.4499 41.168 1.42773 41.298 1.42773C41.4673 1.42773 41.6234 1.47207 41.7665 1.56073C41.9096 1.64838 42.0239 1.78087 42.1096 1.95819C42.1952 2.13451 42.238 2.35566 42.238 2.62164C42.238 2.88057 42.1962 3.0992 42.1126 3.27753C42.03 3.45486 41.9171 3.58936 41.774 3.68104C41.632 3.77172 41.4728 3.81706 41.2965 3.81706C41.1716 3.81706 41.0653 3.79641 40.9776 3.7551C40.891 3.71379 40.8199 3.6619 40.7645 3.59944C40.7091 3.53596 40.6668 3.47199 40.6376 3.4075H40.6179V4.64977H39.9741ZM40.6043 2.61862C40.6043 2.75665 40.6235 2.87705 40.6618 2.97981C40.7 3.08258 40.7555 3.16268 40.828 3.22011C40.9005 3.27653 40.9887 3.30474 41.0925 3.30474C41.1972 3.30474 41.2859 3.27602 41.3584 3.21859C41.431 3.16016 41.4859 3.07956 41.5232 2.97679C41.5615 2.87302 41.5806 2.75363 41.5806 2.61862C41.5806 2.48462 41.562 2.36674 41.5247 2.26498C41.4874 2.16322 41.4325 2.08363 41.36 2.0262C41.2874 1.96877 41.1983 1.94006 41.0925 1.94006C40.9877 1.94006 40.899 1.96776 40.8265 2.02318C40.7549 2.07859 40.7 2.15718 40.6618 2.25894C40.6235 2.36069 40.6043 2.48059 40.6043 2.61862Z" fill="currentColor"/>
<path d="M38.1667 3.8231C38.0186 3.8231 37.8867 3.79741 37.7708 3.74603C37.6549 3.69364 37.5632 3.61656 37.4957 3.5148C37.4292 3.41204 37.396 3.28408 37.396 3.13094C37.396 3.00198 37.4197 2.89367 37.467 2.80602C37.5144 2.71836 37.5789 2.64784 37.6605 2.59444C37.7421 2.54104 37.8348 2.50074 37.9385 2.47354C38.0433 2.44633 38.1531 2.42719 38.268 2.41611C38.403 2.402 38.5118 2.38891 38.5944 2.37681C38.6771 2.36372 38.737 2.34457 38.7743 2.31939C38.8116 2.2942 38.8302 2.25692 38.8302 2.20755V2.19848C38.8302 2.10277 38.8 2.02872 38.7395 1.97633C38.6801 1.92394 38.5954 1.89774 38.4856 1.89774C38.3698 1.89774 38.2776 1.92343 38.2091 1.97482C38.1406 2.02519 38.0952 2.08867 38.073 2.16524L37.4776 2.11688C37.5078 1.97582 37.5673 1.85391 37.6559 1.75115C37.7446 1.64737 37.8589 1.56778 37.999 1.51237C38.14 1.45594 38.3033 1.42773 38.4886 1.42773C38.6176 1.42773 38.741 1.44285 38.8589 1.47307C38.9778 1.5033 39.0831 1.55015 39.1748 1.61362C39.2675 1.67709 39.3405 1.7587 39.3939 1.85845C39.4473 1.95718 39.474 2.07557 39.474 2.2136V3.77928H38.8634V3.45738H38.8453C38.808 3.52992 38.7582 3.59389 38.6957 3.64931C38.6332 3.70371 38.5582 3.74653 38.4705 3.77777C38.3829 3.80799 38.2816 3.8231 38.1667 3.8231ZM38.3511 3.37879C38.4458 3.37879 38.5295 3.36015 38.602 3.32287C38.6745 3.28459 38.7315 3.2332 38.7728 3.16872C38.8141 3.10424 38.8347 3.0312 38.8347 2.94959V2.70325C38.8146 2.71635 38.7869 2.72844 38.7516 2.73952C38.7174 2.7496 38.6786 2.75917 38.6352 2.76823C38.5919 2.7763 38.5486 2.78385 38.5053 2.7909C38.4619 2.79695 38.4227 2.80249 38.3874 2.80753C38.3118 2.81861 38.2458 2.83624 38.1894 2.86042C38.133 2.8846 38.0892 2.91735 38.0579 2.95866C38.0267 2.99896 38.0111 3.04933 38.0111 3.10978C38.0111 3.19744 38.0428 3.26444 38.1063 3.31078C38.1708 3.35612 38.2524 3.37879 38.3511 3.37879Z" fill="currentColor"/>
<path d="M35.6544 3.81647C35.4781 3.81647 35.3184 3.77113 35.1753 3.68045C35.0333 3.58877 34.9204 3.45426 34.8368 3.27694C34.7542 3.09861 34.7129 2.87998 34.7129 2.62105C34.7129 2.35506 34.7557 2.13391 34.8413 1.9576C34.927 1.78028 35.0408 1.64779 35.1829 1.56013C35.326 1.47147 35.4826 1.42714 35.6529 1.42714C35.7829 1.42714 35.8912 1.44931 35.9778 1.49364C36.0655 1.53696 36.136 1.59137 36.1894 1.65685C36.2438 1.72134 36.2851 1.78481 36.3133 1.84728H36.333V0.683594H36.9753V3.77868H36.3405V3.40691H36.3133C36.2831 3.47139 36.2403 3.53537 36.1849 3.59884C36.1305 3.66131 36.0594 3.7132 35.9718 3.7545C35.8851 3.79581 35.7793 3.81647 35.6544 3.81647ZM35.8584 3.30414C35.9622 3.30414 36.0499 3.27593 36.1214 3.21951C36.1939 3.16208 36.2494 3.08199 36.2876 2.97922C36.3269 2.87645 36.3466 2.75605 36.3466 2.61803C36.3466 2.48 36.3274 2.3601 36.2891 2.25834C36.2509 2.15658 36.1955 2.078 36.1229 2.02258C36.0504 1.96717 35.9622 1.93946 35.8584 1.93946C35.7526 1.93946 35.6635 1.96818 35.5909 2.02561C35.5184 2.08303 35.4635 2.16263 35.4262 2.26439C35.3889 2.36615 35.3703 2.48403 35.3703 2.61803C35.3703 2.75303 35.3889 2.87242 35.4262 2.9762C35.4645 3.07896 35.5194 3.15957 35.5909 3.218C35.6635 3.27543 35.7526 3.30414 35.8584 3.30414Z" fill="currentColor"/>
<path d="M32.9929 3.82213C32.8448 3.82213 32.7128 3.79644 32.597 3.74505C32.4811 3.69266 32.3894 3.61559 32.3219 3.51383C32.2554 3.41106 32.2222 3.28311 32.2222 3.12996C32.2222 3.001 32.2458 2.89269 32.2932 2.80504C32.3406 2.71739 32.405 2.64686 32.4866 2.59346C32.5682 2.54006 32.6609 2.49976 32.7647 2.47256C32.8695 2.44536 32.9793 2.42621 33.0942 2.41513C33.2292 2.40103 33.338 2.38793 33.4206 2.37584C33.5032 2.36274 33.5632 2.3436 33.6005 2.31841C33.6377 2.29322 33.6564 2.25594 33.6564 2.20658V2.19751C33.6564 2.10179 33.6261 2.02774 33.5657 1.97535C33.5062 1.92296 33.4216 1.89676 33.3118 1.89676C33.1959 1.89676 33.1037 1.92246 33.0352 1.97384C32.9667 2.02422 32.9214 2.08769 32.8992 2.16426L32.3038 2.1159C32.334 1.97485 32.3934 1.85294 32.4821 1.75017C32.5708 1.6464 32.6851 1.5668 32.8252 1.51139C32.9662 1.45497 33.1294 1.42676 33.3148 1.42676C33.4438 1.42676 33.5672 1.44187 33.6851 1.4721C33.804 1.50232 33.9093 1.54917 34.0009 1.61264C34.0936 1.67612 34.1667 1.75773 34.2201 1.85747C34.2735 1.95621 34.3002 2.07459 34.3002 2.21262V3.7783H33.6896V3.4564H33.6715C33.6342 3.52894 33.5843 3.59292 33.5219 3.64833C33.4594 3.70274 33.3843 3.74556 33.2967 3.77679C33.209 3.80702 33.1078 3.82213 32.9929 3.82213ZM33.1773 3.37781C33.272 3.37781 33.3556 3.35917 33.4282 3.3219C33.5007 3.28361 33.5576 3.23223 33.5989 3.16775C33.6402 3.10327 33.6609 3.03022 33.6609 2.94861V2.70227C33.6408 2.71537 33.613 2.72746 33.5778 2.73854C33.5435 2.74862 33.5047 2.75819 33.4614 2.76726C33.4181 2.77532 33.3748 2.78287 33.3314 2.78993C33.2881 2.79597 33.2488 2.80151 33.2136 2.80655C33.138 2.81763 33.072 2.83527 33.0156 2.85945C32.9592 2.88363 32.9153 2.91637 32.8841 2.95768C32.8529 2.99798 32.8373 3.04836 32.8373 3.10881C32.8373 3.19646 32.869 3.26346 32.9325 3.30981C32.9969 3.35514 33.0786 3.37781 33.1773 3.37781Z" fill="currentColor"/>
<path d="M29.7856 3.82364C29.5508 3.82364 29.3478 3.77377 29.1765 3.67402C29.0063 3.57327 28.8748 3.43323 28.7821 3.25389C28.6894 3.07354 28.6431 2.86448 28.6431 2.62671C28.6431 2.38692 28.6894 2.17736 28.7821 1.99802C28.8748 1.81767 29.0063 1.67763 29.1765 1.57789C29.3478 1.47713 29.5508 1.42676 29.7856 1.42676C30.0203 1.42676 30.2229 1.47713 30.3931 1.57789C30.5644 1.67763 30.6964 1.81767 30.7891 1.99802C30.8818 2.17736 30.9281 2.38692 30.9281 2.62671C30.9281 2.86448 30.8818 3.07354 30.7891 3.25389C30.6964 3.43323 30.5644 3.57327 30.3931 3.67402C30.2229 3.77377 30.0203 3.82364 29.7856 3.82364ZM29.7886 3.32492C29.8954 3.32492 29.9846 3.29469 30.0561 3.23424C30.1276 3.17278 30.1815 3.08916 30.2178 2.98337C30.2551 2.87758 30.2737 2.75718 30.2737 2.62218C30.2737 2.48717 30.2551 2.36677 30.2178 2.26098C30.1815 2.15519 30.1276 2.07157 30.0561 2.01011C29.9846 1.94865 29.8954 1.91792 29.7886 1.91792C29.6808 1.91792 29.5901 1.94865 29.5166 2.01011C29.444 2.07157 29.3891 2.15519 29.3519 2.26098C29.3156 2.36677 29.2974 2.48717 29.2974 2.62218C29.2974 2.75718 29.3156 2.87758 29.3519 2.98337C29.3891 3.08916 29.444 3.17278 29.5166 3.23424C29.5901 3.29469 29.6808 3.32492 29.7886 3.32492Z" fill="currentColor"/>
<path d="M28.3413 1.45752V1.94112H26.9434V1.45752H28.3413ZM27.2607 0.901367H27.9045V3.06551C27.9045 3.12496 27.9136 3.1713 27.9317 3.20455C27.9499 3.23679 27.9751 3.25946 28.0073 3.27256C28.0405 3.28565 28.0788 3.2922 28.1222 3.2922C28.1524 3.2922 28.1826 3.28968 28.2128 3.28465C28.2431 3.2786 28.2662 3.27407 28.2823 3.27105L28.3836 3.75012C28.3514 3.76019 28.306 3.77178 28.2476 3.78488C28.1892 3.79898 28.1181 3.80755 28.0345 3.81057C27.8793 3.81662 27.7433 3.79596 27.6265 3.74861C27.5106 3.70126 27.4204 3.62771 27.3559 3.52796C27.2915 3.42822 27.2597 3.30228 27.2607 3.15014V0.901367Z" fill="currentColor"/>
<path d="M25.7007 1.45752V1.94112H24.3027V1.45752H25.7007ZM24.6201 0.901367H25.2639V3.06551C25.2639 3.12496 25.273 3.1713 25.2911 3.20455C25.3092 3.23679 25.3344 3.25946 25.3667 3.27256C25.3999 3.28565 25.4382 3.2922 25.4815 3.2922C25.5118 3.2922 25.542 3.28968 25.5722 3.28465C25.6024 3.2786 25.6256 3.27407 25.6417 3.27105L25.743 3.75012C25.7107 3.76019 25.6654 3.77178 25.607 3.78488C25.5485 3.79898 25.4775 3.80755 25.3939 3.81057C25.2387 3.81662 25.1027 3.79596 24.9858 3.74861C24.87 3.70126 24.7798 3.62771 24.7153 3.52796C24.6508 3.42822 24.6191 3.30228 24.6201 3.15014V0.901367Z" fill="currentColor"/>
<path d="M22.9062 3.82462C22.6714 3.82462 22.4684 3.77474 22.2972 3.675C22.1269 3.57425 21.9954 3.4342 21.9027 3.25487C21.81 3.07452 21.7637 2.86546 21.7637 2.62769C21.7637 2.3879 21.81 2.17833 21.9027 1.999C21.9954 1.81865 22.1269 1.67861 22.2972 1.57886C22.4684 1.47811 22.6714 1.42773 22.9062 1.42773C23.1409 1.42773 23.3435 1.47811 23.5137 1.57886C23.685 1.67861 23.817 1.81865 23.9097 1.999C24.0024 2.17833 24.0487 2.3879 24.0487 2.62769C24.0487 2.86546 24.0024 3.07452 23.9097 3.25487C23.817 3.4342 23.685 3.57425 23.5137 3.675C23.3435 3.77474 23.1409 3.82462 22.9062 3.82462ZM22.9092 3.3259C23.016 3.3259 23.1052 3.29567 23.1767 3.23522C23.2482 3.17376 23.3021 3.09014 23.3384 2.98435C23.3757 2.87856 23.3943 2.75816 23.3943 2.62315C23.3943 2.48815 23.3757 2.36775 23.3384 2.26196C23.3021 2.15617 23.2482 2.07254 23.1767 2.01109C23.1052 1.94963 23.016 1.9189 22.9092 1.9189C22.8014 1.9189 22.7107 1.94963 22.6372 2.01109C22.5646 2.07254 22.5097 2.15617 22.4725 2.26196C22.4362 2.36775 22.4181 2.48815 22.4181 2.62315C22.4181 2.75816 22.4362 2.87856 22.4725 2.98435C22.5097 3.09014 22.5646 3.17376 22.6372 3.23522C22.7107 3.29567 22.8014 3.3259 22.9092 3.3259Z" fill="currentColor"/>
<path d="M19.8538 2.43727V3.77928H19.21V1.45796H19.8235V1.86752H19.8507C19.9021 1.73251 19.9883 1.62571 20.1092 1.54712C20.2301 1.46753 20.3767 1.42773 20.549 1.42773C20.7102 1.42773 20.8507 1.463 20.9706 1.53352C21.0905 1.60405 21.1837 1.7048 21.2502 1.83578C21.3167 1.96575 21.3499 2.12091 21.3499 2.30125V3.77928H20.7061V2.41611C20.7071 2.27405 20.6709 2.16322 20.5973 2.08363C20.5238 2.00303 20.4225 1.96273 20.2935 1.96273C20.2069 1.96273 20.1303 1.98136 20.0638 2.01864C19.9983 2.05592 19.947 2.11033 19.9097 2.18186C19.8734 2.25239 19.8548 2.33752 19.8538 2.43727Z" fill="currentColor"/>
<path d="M16.7385 3.82364C16.4997 3.82364 16.2942 3.77528 16.1219 3.67856C15.9506 3.58083 15.8186 3.4428 15.726 3.26447C15.6333 3.08513 15.5869 2.87305 15.5869 2.62822C15.5869 2.38944 15.6333 2.17988 15.726 1.99953C15.8186 1.81919 15.9491 1.67864 16.1174 1.57789C16.2866 1.47713 16.4851 1.42676 16.7128 1.42676C16.866 1.42676 17.0085 1.45144 17.1405 1.50081C17.2735 1.54917 17.3894 1.62222 17.4881 1.71995C17.5878 1.81767 17.6654 1.94059 17.7208 2.0887C17.7762 2.23579 17.804 2.40808 17.804 2.60555V2.78237H15.8438V2.38339H17.1979C17.1979 2.2907 17.1778 2.20859 17.1375 2.13706C17.0972 2.06552 17.0413 2.00961 16.9697 1.96931C16.8992 1.928 16.8171 1.90734 16.7234 1.90734C16.6257 1.90734 16.539 1.93001 16.4635 1.97535C16.3889 2.01968 16.3305 2.07963 16.2881 2.15519C16.2458 2.22975 16.2242 2.31287 16.2232 2.40455V2.78388C16.2232 2.89874 16.2443 2.99798 16.2866 3.0816C16.33 3.16523 16.3909 3.22971 16.4695 3.27505C16.5481 3.32038 16.6413 3.34305 16.7491 3.34305C16.8206 3.34305 16.8861 3.33298 16.9455 3.31283C17.005 3.29268 17.0559 3.26245 17.0982 3.22215C17.1405 3.18185 17.1727 3.13248 17.1949 3.07405L17.7904 3.11334C17.7601 3.25641 17.6982 3.38134 17.6045 3.48814C17.5118 3.59393 17.3919 3.67654 17.2448 3.73599C17.0987 3.79442 16.9299 3.82364 16.7385 3.82364Z" fill="currentColor"/>
<path d="M12.9878 4.64977V1.45796H13.6225V1.84787H13.6512C13.6795 1.7854 13.7203 1.72193 13.7737 1.65745C13.8281 1.59196 13.8986 1.53755 13.9852 1.49423C14.0729 1.4499 14.1817 1.42773 14.3117 1.42773C14.4809 1.42773 14.6371 1.47207 14.7802 1.56073C14.9232 1.64838 15.0376 1.78087 15.1232 1.95819C15.2089 2.13451 15.2517 2.35566 15.2517 2.62164C15.2517 2.88057 15.2099 3.0992 15.1262 3.27753C15.0436 3.45486 14.9308 3.58936 14.7877 3.68104C14.6457 3.77172 14.4865 3.81706 14.3102 3.81706C14.1852 3.81706 14.0789 3.79641 13.9913 3.7551C13.9046 3.71379 13.8336 3.6619 13.7782 3.59944C13.7228 3.53596 13.6805 3.47199 13.6512 3.4075H13.6316V4.64977H12.9878ZM13.618 2.61862C13.618 2.75665 13.6371 2.87705 13.6754 2.97981C13.7137 3.08258 13.7691 3.16268 13.8417 3.22011C13.9142 3.27653 14.0024 3.30474 14.1061 3.30474C14.2109 3.30474 14.2996 3.27602 14.3721 3.21859C14.4447 3.16016 14.4996 3.07956 14.5368 2.97679C14.5751 2.87302 14.5943 2.75363 14.5943 2.61862C14.5943 2.48462 14.5756 2.36674 14.5384 2.26498C14.5011 2.16322 14.4462 2.08363 14.3736 2.0262C14.3011 1.96877 14.2119 1.94006 14.1061 1.94006C14.0014 1.94006 13.9127 1.96776 13.8402 2.02318C13.7686 2.07859 13.7137 2.15718 13.6754 2.25894C13.6371 2.36069 13.618 2.48059 13.618 2.61862Z" fill="currentColor"/>
<path d="M11.1814 3.82213C11.0333 3.82213 10.9013 3.79644 10.7854 3.74505C10.6696 3.69266 10.5779 3.61559 10.5104 3.51383C10.4439 3.41106 10.4106 3.28311 10.4106 3.12996C10.4106 3.001 10.4343 2.89269 10.4817 2.80504C10.529 2.71739 10.5935 2.64686 10.6751 2.59346C10.7567 2.54006 10.8494 2.49976 10.9532 2.47256C11.058 2.44536 11.1678 2.42621 11.2827 2.41513C11.4177 2.40103 11.5265 2.38793 11.6091 2.37584C11.6917 2.36274 11.7516 2.3436 11.7889 2.31841C11.8262 2.29322 11.8448 2.25594 11.8448 2.20658V2.19751C11.8448 2.10179 11.8146 2.02774 11.7542 1.97535C11.6947 1.92296 11.6101 1.89676 11.5003 1.89676C11.3844 1.89676 11.2922 1.92246 11.2237 1.97384C11.1552 2.02422 11.1099 2.08769 11.0877 2.16426L10.4923 2.1159C10.5225 1.97485 10.5819 1.85294 10.6706 1.75017C10.7592 1.6464 10.8736 1.5668 11.0136 1.51139C11.1547 1.45497 11.3179 1.42676 11.5033 1.42676C11.6323 1.42676 11.7557 1.44187 11.8736 1.4721C11.9924 1.50232 12.0977 1.54917 12.1894 1.61264C12.2821 1.67612 12.3552 1.75773 12.4085 1.85747C12.4619 1.95621 12.4886 2.07459 12.4886 2.21262V3.7783H11.8781V3.4564H11.86C11.8227 3.52894 11.7728 3.59292 11.7103 3.64833C11.6479 3.70274 11.5728 3.74556 11.4852 3.77679C11.3975 3.80702 11.2963 3.82213 11.1814 3.82213ZM11.3658 3.37781C11.4605 3.37781 11.5441 3.35917 11.6166 3.3219C11.6892 3.28361 11.7461 3.23223 11.7874 3.16775C11.8287 3.10327 11.8494 3.03022 11.8494 2.94861V2.70227C11.8292 2.71537 11.8015 2.72746 11.7663 2.73854C11.732 2.74862 11.6932 2.75819 11.6499 2.76726C11.6066 2.77532 11.5632 2.78287 11.5199 2.78993C11.4766 2.79597 11.4373 2.80151 11.402 2.80655C11.3265 2.81763 11.2605 2.83527 11.2041 2.85945C11.1476 2.88363 11.1038 2.91637 11.0726 2.95768C11.0413 2.99798 11.0257 3.04836 11.0257 3.10881C11.0257 3.19646 11.0575 3.26346 11.1209 3.30981C11.1854 3.35514 11.267 3.37781 11.3658 3.37781Z" fill="currentColor"/>
<path d="M8.50757 2.43667V3.77868H7.86377V0.683594H8.48944V1.86692H8.51664C8.56903 1.7299 8.65366 1.6226 8.77053 1.54502C8.88741 1.46643 9.034 1.42714 9.21032 1.42714C9.37152 1.42714 9.51207 1.4624 9.63196 1.53293C9.75286 1.60245 9.84656 1.7027 9.91306 1.83367C9.98056 1.96364 10.0138 2.1193 10.0128 2.30066V3.77868H9.369V2.41551C9.37001 2.27245 9.33374 2.16112 9.26019 2.08152C9.18765 2.00193 9.08589 1.96213 8.95491 1.96213C8.86726 1.96213 8.78968 1.98077 8.72217 2.01805C8.65568 2.05533 8.60329 2.10973 8.565 2.18127C8.52772 2.25179 8.50858 2.33693 8.50757 2.43667Z" fill="currentColor"/>
<path d="M7.40576 2.1199L6.81636 2.15617C6.80629 2.10579 6.78462 2.06045 6.75138 2.02015C6.71813 1.97885 6.6743 1.9461 6.61989 1.92192C6.5665 1.89673 6.50252 1.88414 6.42796 1.88414C6.32822 1.88414 6.24409 1.9053 6.17558 1.94761C6.10707 1.98892 6.07281 2.04433 6.07281 2.11385C6.07281 2.16927 6.09498 2.21612 6.13931 2.2544C6.18364 2.29269 6.25971 2.32342 6.36751 2.34659L6.78765 2.43122C7.01333 2.47757 7.18159 2.55212 7.29241 2.65489C7.40324 2.75766 7.45865 2.89266 7.45865 3.05991C7.45865 3.21205 7.41382 3.34554 7.32415 3.4604C7.23549 3.57526 7.11358 3.66492 6.95842 3.72941C6.80427 3.79288 6.62644 3.82462 6.42494 3.82462C6.11765 3.82462 5.87282 3.76064 5.69046 3.63268C5.50911 3.50372 5.40282 3.32841 5.37158 3.10676L6.00481 3.07351C6.02395 3.16721 6.07029 3.23875 6.14384 3.28811C6.21739 3.33647 6.31159 3.36065 6.42645 3.36065C6.53929 3.36065 6.62997 3.33899 6.69848 3.29567C6.768 3.25134 6.80326 3.19441 6.80427 3.1249C6.80326 3.06646 6.77858 3.0186 6.73022 2.98132C6.68186 2.94304 6.6073 2.91382 6.50655 2.89367L6.10455 2.81357C5.87786 2.76823 5.7091 2.68965 5.59827 2.57781C5.48845 2.46598 5.43354 2.32342 5.43354 2.15012C5.43354 2.00101 5.47384 1.87255 5.55445 1.76475C5.63606 1.65694 5.75041 1.57382 5.89751 1.51539C6.04561 1.45695 6.2189 1.42773 6.41738 1.42773C6.71057 1.42773 6.94129 1.4897 7.10955 1.61362C7.27881 1.73755 7.37755 1.9063 7.40576 2.1199Z" fill="currentColor"/>
<path d="M2.92866 3.82364C2.69391 3.82364 2.49089 3.77377 2.31961 3.67402C2.14934 3.57327 2.01786 3.43323 1.92517 3.25389C1.83248 3.07354 1.78613 2.86448 1.78613 2.62671C1.78613 2.38692 1.83248 2.17736 1.92517 1.99802C2.01786 1.81767 2.14934 1.67763 2.31961 1.57789C2.49089 1.47713 2.69391 1.42676 2.92866 1.42676C3.16341 1.42676 3.36592 1.47713 3.53619 1.57789C3.70747 1.67763 3.83945 1.81767 3.93214 1.99802C4.02483 2.17736 4.07118 2.38692 4.07118 2.62671C4.07118 2.86448 4.02483 3.07354 3.93214 3.25389C3.83945 3.43323 3.70747 3.57327 3.53619 3.67402C3.36592 3.77377 3.16341 3.82364 2.92866 3.82364ZM2.93168 3.32492C3.03848 3.32492 3.12764 3.29469 3.19917 3.23424C3.27071 3.17278 3.32461 3.08916 3.36088 2.98337C3.39816 2.87758 3.4168 2.75718 3.4168 2.62218C3.4168 2.48717 3.39816 2.36677 3.36088 2.26098C3.32461 2.15519 3.27071 2.07157 3.19917 2.01011C3.12764 1.94865 3.03848 1.91792 2.93168 1.91792C2.82387 1.91792 2.7332 1.94865 2.65965 2.01011C2.58711 2.07157 2.5322 2.15519 2.49492 2.26098C2.45865 2.36677 2.44051 2.48717 2.44051 2.62218C2.44051 2.75718 2.45865 2.87758 2.49492 2.98337C2.5322 3.08916 2.58711 3.17278 2.65965 3.23424C2.7332 3.29469 2.82387 3.32492 2.93168 3.32492Z" fill="currentColor"/>
<path d="M1.48533 1.45752V1.94112H0.0874023L0.0874023 1.45752H1.48533ZM0.40477 0.901367H1.04857V3.06551C1.04857 3.12496 1.05764 3.1713 1.07578 3.20455C1.09391 3.23679 1.1191 3.25946 1.15134 3.27256C1.18459 3.28565 1.22287 3.2922 1.2662 3.2922C1.29642 3.2922 1.32665 3.28968 1.35687 3.28465C1.3871 3.2786 1.41027 3.27407 1.42639 3.27105L1.52765 3.75012C1.49541 3.76019 1.45007 3.77178 1.39163 3.78488C1.3332 3.79898 1.26217 3.80755 1.17854 3.81057C1.02339 3.81662 0.88737 3.79596 0.770499 3.74861C0.654634 3.70126 0.564461 3.62771 0.49998 3.52796C0.435499 3.42822 0.403763 3.30228 0.40477 3.15014V0.901367Z" fill="currentColor"/>
</svg>

`,E0=[{flavour:"affine:paragraph",type:"text",name:"Text",description:"Start typing with plain text.",icon:au,tooltip:"Drag/Click to insert Text block"},{flavour:"affine:paragraph",type:"h1",name:"Heading 1",description:"Headings in the largest font.",icon:af,tooltip:"Drag/Click to insert Heading 1"},{flavour:"affine:paragraph",type:"h2",name:"Heading 2",description:"Headings in the 2nd font size.",icon:ag,tooltip:"Drag/Click to insert Heading 2"},{flavour:"affine:paragraph",type:"h3",name:"Heading 3",description:"Headings in the 3rd font size.",icon:am,tooltip:"Drag/Click to insert Heading 3"},{flavour:"affine:paragraph",type:"h4",name:"Heading 4",description:"Heading in the 4th font size.",icon:av,tooltip:"Drag/Click to insert Heading 4"},{flavour:"affine:paragraph",type:"h5",name:"Heading 5",description:"Heading in the 5th font size.",icon:ay,tooltip:"Drag/Click to insert Heading 5"},{flavour:"affine:paragraph",type:"h6",name:"Heading 6",description:"Heading in the 6th font size.",icon:ab,tooltip:"Drag/Click to insert Heading 6"},{flavour:"affine:code",type:"code",name:"Code Block",description:"Capture a code snippet.",icon:aE,tooltip:"Drag/Click to insert Code Block"},{flavour:"affine:paragraph",type:"quote",name:"Quote",description:"Capture a quote.",icon:aI,tooltip:"Drag/Click to insert Quote"},{flavour:"affine:divider",type:null,name:"Divider",description:"A visual divider.",icon:aB,tooltip:"A visual divider"}].concat([{flavour:"affine:list",type:"bulleted",name:"Bulleted List",description:"A simple bulleted list.",icon:aw,tooltip:"Drag/Click to insert Bulleted List"},{flavour:"affine:list",type:"numbered",name:"Numbered List",description:"A list with numbering.",icon:ax,tooltip:"Drag/Click to insert Numbered List"},{flavour:"affine:list",type:"todo",name:"To-do List",description:"Track tasks with a to-do list.",icon:aM,tooltip:"Drag/Click to insert To-do List"}]).filter(e=>"Divider"!==e.name).map(e=>({icon:e.icon,tooltip:"text"!==e.type?e.tooltip.replace("Drag/Click to insert ",""):"Text",childFlavour:e.flavour,childType:e.type}));var E2=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},E5=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("edgeless-note-menu")],l=[],c=MQ(H.WF),d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[];(class extends c{static{t=this}static{let w="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],E2(this,null,i,{kind:"accessor",name:"_imageLoading",static:!1,private:!1,access:{has:e=>"_imageLoading"in e,get:e=>e._imageLoading,set:(e,t)=>{e._imageLoading=t}},metadata:w},d,h),E2(this,null,s,{kind:"accessor",name:"childFlavour",static:!1,private:!1,access:{has:e=>"childFlavour"in e,get:e=>e.childFlavour,set:(e,t)=>{e.childFlavour=t}},metadata:w},u,p),E2(this,null,o,{kind:"accessor",name:"childType",static:!1,private:!1,access:{has:e=>"childType"in e,get:e=>e.childType,set:(e,t)=>{e.childType=t}},metadata:w},f,g),E2(this,null,r,{kind:"accessor",name:"onChange",static:!1,private:!1,access:{has:e=>"onChange"in e,get:e=>e.onChange,set:(e,t)=>{e.onChange=t}},metadata:w},m,v),E2(this,null,a,{kind:"accessor",name:"tip",static:!1,private:!1,access:{has:e=>"tip"in e,get:e=>e.tip,set:(e,t)=>{e.tip=t}},metadata:w},y,b),E2(null,e={value:t},n,{kind:"class",name:t.name,metadata:w},null,l),t=e.value,w&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w})}static{this.styles=(0,H.AH)`
    :host {
      position: absolute;
      display: flex;
      z-index: -1;
    }
    .menu-content {
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .button-group-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 14px;
      fill: var(--affine-icon-color);
    }
    .button-group-container svg {
      width: 20px;
      height: 20px;
    }
    .divider {
      width: 1px;
      height: 24px;
      background: var(--affine-border-color);
      transform: scaleX(0.5);
      margin: 0 14px;
    }
  `}async _addImages(){this._imageLoading=!0;let e=await (0,st.UE)(),t=await this.edgeless.addImages(e);this._imageLoading=!1,this.edgeless.service.tool.setEdgelessTool({type:"default"},{elements:t,editing:!1})}_onHandleLinkButtonClick(){let{insertedLinkType:e}=this.edgeless.service.std.command.exec("insertLinkByQuickSearch");e?.then(e=>{e&&(this.edgeless.service.telemetryService?.track("CanvasElementAdded",{control:"toolbar:general",page:"whiteboard editor",module:"toolbar",type:e.flavour.split(":")[1]}),e.isNewDoc&&this.edgeless.service.telemetryService?.track("DocCreated",{control:"toolbar:general",page:"whiteboard editor",module:"edgeless toolbar",type:e.flavour.split(":")[1]}))}).catch(console.error)}disconnectedCallback(){super.disconnectedCallback()}firstUpdated(){this.disposables.add(this.edgeless.slots.edgelessToolUpdated.on(e=>{"affine:note"===e.type&&(this.childFlavour=e.childFlavour,this.childType=e.childType,this.tip=e.tip)}))}render(){let{childType:e}=this;return(0,H.qy)`
      <edgeless-slide-menu>
        <div class="menu-content">
          <!-- add to edgeless -->
          <div class="button-group-container">
            <edgeless-tool-icon-button
              .activeMode=${"background"}
              .tooltip=${"Image"}
              @click=${this._addImages}
              .disabled=${this._imageLoading}
            >
              ${kf}
            </edgeless-tool-icon-button>

            <edgeless-tool-icon-button
              .activeMode=${"background"}
              .tooltip=${ky("Link","@")}
              @click=${()=>{this._onHandleLinkButtonClick()}}
            >
              ${aH}
            </edgeless-tool-icon-button>

            <edgeless-tool-icon-button
              .activeMode=${"background"}
              .tooltip=${"File"}
              @click=${async()=>{let e=await (0,st.p6)();e&&(await this.edgeless.addAttachments([e]),this.edgeless.service.tool.setEdgelessTool({type:"default"}),this.edgeless.service.telemetryService?.track("CanvasElementAdded",{control:"toolbar:general",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:"attachment"}))}}
            >
              ${nr}
            </edgeless-tool-icon-button>
          </div>

          <div class="divider"></div>

          <!-- add to note -->
          <div class="button-group-container">
            ${(0,D.u)(E0,e=>e.childFlavour,t=>(0,H.qy)`
                <edgeless-tool-icon-button
                  .active=${e===t.childType}
                  .activeMode=${"background"}
                  .tooltip=${t.tooltip}
                  @click=${()=>this.onChange({childFlavour:t.childFlavour,childType:t.childType,tip:t.tooltip})}
                >
                  ${t.icon}
                </edgeless-tool-icon-button>
              `)}
          </div>
        </div>
      </edgeless-slide-menu>
    `}#nk;get _imageLoading(){return this.#nk}set _imageLoading(e){this.#nk=e}#nS;get childFlavour(){return this.#nS}set childFlavour(e){this.#nS=e}#nM;get childType(){return this.#nM}set childType(e){this.#nM=e}#ef;get onChange(){return this.#ef}set onChange(e){this.#ef=e}#nE;get tip(){return this.#nE}set tip(e){this.#nE=e}constructor(){super(...arguments),this.type="affine:note",this.#nk=E5(this,d,!1),this.#nS=(E5(this,h),E5(this,u,void 0)),this.#nM=(E5(this,p),E5(this,f,void 0)),this.#ef=(E5(this,g),E5(this,m,void 0)),this.#nE=(E5(this,v),E5(this,y,void 0)),E5(this,b)}static{E5(t,l)}})})();var E7=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},E3=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("edgeless-note-senior-button")],n=[],l=MQ(H.WF),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.wk)()],r=[(0,L.wk)()],E7(this,null,i,{kind:"accessor",name:"_noteBg",static:!1,private:!1,access:{has:e=>"_noteBg"in e,get:e=>e._noteBg,set:(e,t)=>{e._noteBg=t}},metadata:v},c,d),E7(this,null,s,{kind:"accessor",name:"childFlavour",static:!1,private:!1,access:{has:e=>"childFlavour"in e,get:e=>e.childFlavour,set:(e,t)=>{e.childFlavour=t}},metadata:v},h,u),E7(this,null,o,{kind:"accessor",name:"childType",static:!1,private:!1,access:{has:e=>"childType"in e,get:e=>e.childType,set:(e,t)=>{e.childType=t}},metadata:v},p,f),E7(this,null,r,{kind:"accessor",name:"tip",static:!1,private:!1,access:{has:e=>"tip"in e,get:e=>e.tip,set:(e,t)=>{e.tip=t}},metadata:v},g,m),E7(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    :host,
    .edgeless-note-button {
      display: block;
      width: 100%;
      height: 100%;
    }
    :host * {
      box-sizing: border-box;
    }

    .note-root {
      --paper-border-color: var(--affine-pure-white);
      --paper-foriegn-color: rgba(0, 0, 0, 0.1);
      --paper-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);
      --icon-card-bg: #fff;
      --icon-card-shadow: 0px 2px 4px rgba(0, 0, 0, 0.22),
        inset 0px -2px 1px rgba(0, 0, 0, 0.14);
    }
    .note-root[data-dark='true'] {
      --paper-border-color: var(--affine-divider-color);
      --paper-foriegn-color: rgba(255, 255, 255, 0.12);
      --paper-shadow: 0px 2px 6px rgba(0, 0, 0, 0.8);
      --icon-card-bg: #343434;
      --icon-card-shadow: 0px 2px 4px rgba(0, 0, 0, 0.6),
        inset 0px -2px 1px rgba(255, 255, 255, 0.06);
    }

    .note-root {
      width: 100%;
      height: 64px;
      background: transparent;
      position: relative;
      overflow: hidden;
      cursor: pointer;
      display: flex;
      align-items: flex-end;
      justify-content: center;
    }
    .paper {
      --y: 20px;
      --r: 4.42deg;
      width: 60px;
      height: 72px;
      background: var(--paper-bg);
      border: 1px solid var(--paper-border-color);
      position: absolute;
      transform: translateY(var(--y)) rotate(var(--r));
      color: var(--paper-foriegn-color);
      box-shadow: var(--paper-shadow);
      padding-top: 32px;
      padding-left: 3px;
      transition: transform 0.4s ease;
    }
    .edgeless-toolbar-note-icon {
      position: absolute;
      width: 26px;
      height: 26px;
      border-radius: 2px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--affine-icon-secondary);
      background: var(--icon-card-bg);
      box-shadow: var(--icon-card-shadow);
      bottom: 12px;
      transition: transform 0.4s ease;
      transform: translateX(var(--x)) translateY(var(--y)) rotate(var(--r));
    }
    .edgeless-toolbar-note-icon.link {
      --x: -22px;
      --y: -5px;
      --r: -6deg;
      transform-origin: 0% 100%;
    }
    .edgeless-toolbar-note-icon.text {
      --r: 4deg;
      --x: 0px;
      --y: 0px;
    }
    .edgeless-toolbar-note-icon.heading {
      --x: 21px;
      --y: -7px;
      --r: 8deg;
      transform-origin: 0% 100%;
    }

    .note-root:hover .paper {
      --y: 15px;
    }
    .note-root:hover .link {
      --x: -25px;
      --y: -5px;
      --r: -9.5deg;
    }
    .note-root:hover .text {
      --y: -10px;
    }
    .note-root:hover .heading {
      --x: 23px;
      --y: -8px;
      --r: 15deg;
    }
  `}_toggleNoteMenu(){if(this.tryDisposePopper())return;let{edgeless:e,childFlavour:t,childType:i,tip:s}=this;this.setEdgelessTool({type:"affine:note",childFlavour:t,childType:i,tip:s}),Object.assign(this.createPopper("edgeless-note-menu",this).element,{edgeless:e,childFlavour:t,childType:i,tip:s,onChange:e=>{this._states.forEach(t=>{void 0!=e[t]&&Object.assign(this,{[t]:e[t]})}),this.setEdgelessTool({type:"affine:note",childFlavour:this.childFlavour,childType:this.childType,tip:this.tip})}})}connectedCallback(){super.connectedCallback();let{background:e}=this.edgeless.service.editPropsStore.getLastProps(this.type);this._noteBg=im.Q.generateColorProperty(e,fv.KI),this.disposables.add(this.edgeless.service.editPropsStore.slots.lastPropsUpdated.on(({type:e,props:t})=>{e===this.type&&t.background&&(this._noteBg=im.Q.generateColorProperty(t.background,fv.KI))}))}render(){let{theme:e,_noteBg:t}=this;return(0,H.qy)`<edgeless-toolbar-button
      class="edgeless-note-button"
      .tooltip=${this.popper?"":ky("Note","N")}
      .tooltipOffset=${5}
    >
      <div
        class="note-root"
        data-dark=${"dark"===e}
        @click=${this._toggleNoteMenu}
        style="--paper-bg: ${t}"
      >
        <div class="paper">${E1}</div>
        <div class="edgeless-toolbar-note-icon link">${aH}</div>
        <div class="edgeless-toolbar-note-icon heading">${af}</div>
        <div class="edgeless-toolbar-note-icon text">${au}</div>
      </div>
    </edgeless-toolbar-button>`}#nI;get _noteBg(){return this.#nI}set _noteBg(e){this.#nI=e}#nS;get childFlavour(){return this.#nS}set childFlavour(e){this.#nS=e}#nM;get childType(){return this.#nM}set childType(e){this.#nM=e}#nE;get tip(){return this.#nE}set tip(e){this.#nE=e}constructor(){super(...arguments),this._states=["childFlavour","childType","tip"],this.enableActiveBackground=!0,this.type="affine:note",this.#nI=E3(this,c,`var(${fv.KI})`),this.#nS=(E3(this,d),E3(this,h,"affine:paragraph")),this.#nM=(E3(this,u),E3(this,p,"text")),this.#nE=(E3(this,f),E3(this,g,"Note")),E3(this,m)}static{E3(t,n)}})})();var E4=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},E6=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,L.EM)("edgeless-note-tool-button")],a=[],n=Er(H.WF),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.wk)()],E4(this,null,i,{kind:"accessor",name:"childFlavour",static:!1,private:!1,access:{has:e=>"childFlavour"in e,get:e=>e.childFlavour,set:(e,t)=>{e.childFlavour=t}},metadata:f},l,c),E4(this,null,s,{kind:"accessor",name:"childType",static:!1,private:!1,access:{has:e=>"childType"in e,get:e=>e.childType,set:(e,t)=>{e.childType=t}},metadata:f},d,h),E4(this,null,o,{kind:"accessor",name:"tip",static:!1,private:!1,access:{has:e=>"tip"in e,get:e=>e.tip,set:(e,t)=>{e.tip=t}},metadata:f},u,p),E4(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
    }

    .arrow-up-icon {
      position: absolute;
      top: 4px;
      right: 2px;
      font-size: 0;
    }
  `}_disposeMenu(){this._noteMenu?.dispose(),this._noteMenu=null}_toggleNoteMenu(){this._noteMenu?(this._disposeMenu(),this.requestUpdate()):(this.edgeless.tools.setEdgelessTool({type:"affine:note",childFlavour:this.childFlavour,childType:this.childType,tip:this.tip}),this._noteMenu=MY("edgeless-note-menu",this),this._noteMenu.element.edgeless=this.edgeless,this._noteMenu.element.childFlavour=this.childFlavour,this._noteMenu.element.childType=this.childType,this._noteMenu.element.tip=this.tip,this._noteMenu.element.onChange=e=>{this._states.forEach(t=>{void 0!=e[t]&&Object.assign(this,{[t]:e[t]})}),this.edgeless.tools.setEdgelessTool({type:"affine:note",childFlavour:this.childFlavour,childType:this.childType,tip:this.tip})})}connectedCallback(){super.connectedCallback(),this._disposables.add(this.edgeless.slots.edgelessToolUpdated.on(e=>{"affine:note"!==e.type&&this._disposeMenu()}))}disconnectedCallback(){this._disposeMenu(),super.disconnectedCallback()}render(){let{active:e}=this;return(0,H.qy)`
      <edgeless-tool-icon-button
        class="edgeless-note-button"
        .tooltip=${this._noteMenu?"":ky("Note","N")}
        .tooltipOffset=${17}
        .active=${e}
        .iconContainerPadding=${6}
        @click=${()=>{this._toggleNoteMenu()}}
      >
        ${te}
        <span class="arrow-up-icon" style=${(0,Z.W)({color:e?"currentColor":"var(--affine-icon-secondary)"})}>
          ${tf}
        </span>
      </edgeless-tool-icon-button>
    `}#nS;get childFlavour(){return this.#nS}set childFlavour(e){this.#nS=e}#nM;get childType(){return this.#nM}set childType(e){this.#nM=e}#nE;get tip(){return this.#nE}set tip(e){this.#nE=e}constructor(){super(...arguments),this._noteMenu=null,this._states=["childFlavour","childType","tip"],this.type="affine:note",this.#nS=E6(this,l,"affine:paragraph"),this.#nM=(E6(this,c),E6(this,d,"text")),this.#nE=(E6(this,h),E6(this,u,"Text")),E6(this,p)}static{E6(t,a)}})})();class E8 extends mL{constructor(){super(...arguments),this._disableOverlay=!1,this._draggingArea=null,this._draggingElement=null,this._draggingElementId=null,this._moveWithSpaceShapePosTemp=null,this._moveWithSpaceStartPos=[0,0],this._shapeOverlay=null,this.tool={type:"shape",shapeType:"rect"}}_addNewShape(e,t,i){let{viewport:s}=this._service,o=this._edgeless.service.editPropsStore.getLastProps("shape"),{shapeType:r}=this.tool;"rect"===r&&o.radius>0&&(t+=40);let[a,n]=s.toModelCoord(e.point.x,e.point.y),l=new m.z(a,n,t,i),c=this._service.addElement(E.J9.SHAPE,{shapeType:r,xywh:l.serialize(),radius:o.radius});return this._service.telemetryService?.track("CanvasElementAdded",{control:"canvas:draw",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:E.J9.SHAPE,other:{shapeType:r}}),c}_hideOverlay(){this._shapeOverlay&&(this._shapeOverlay.globalAlpha=0,this._edgeless.surface.refresh())}_move(){let{_draggingArea:e,_moveWithSpaceStartPos:t,_moveWithSpaceShapePosTemp:i}=this;if(!e||!i)return;let{x:s,y:o}=e.end,r=s-t[0],a=o-t[1],{start:n,end:l}=i;e.start.x=n.x+r,e.start.y=n.y+a,e.end.x=l.x+r,e.end.y=l.y+a}_resize(e=!1){let{_draggingElementId:t,_draggingArea:i}=this;if(!t||!i)return;let{viewport:s}=this._service,{zoom:o}=s,{start:{x:r,y:a},end:n}=i,{x:l,y:c}=n;if(e){let e=Math.max(Math.abs(l-r),Math.abs(c-a));l=r+(l>r?e:-e),c=a+(c>a?e:-e)}let[d,h]=s.toModelCoord(Math.min(r,l),Math.min(a,c)),u=Math.abs(r-l)/o,p=Math.abs(a-c)/o,f=new m.z(d,h,u,p);this._service.updateElement(t,{xywh:f.serialize()})}_updateOverlayPosition(e,t){this._shapeOverlay&&(this._shapeOverlay.x=e,this._shapeOverlay.y=t,this._edgeless.surface.refresh())}afterModeSwitch(e){"shape"===e.type&&this.createOverlay()}beforeModeSwitch(){this.clearOverlay()}clearOverlay(){this._shapeOverlay&&(this._shapeOverlay.dispose(),this._edgeless.surface.renderer.removeOverlay(this._shapeOverlay),this._shapeOverlay=null,this._edgeless.surface.refresh())}createOverlay(){if(this.clearOverlay(),this._disableOverlay)return;let e=this._edgeless.service.editPropsStore.getLastProps("shape");switch(m_.stroke=im.Q.getColorValue(e.strokeColor,O.vt,!0),m_.fill=im.Q.getColorValue(e.fillColor,O.SO,!0),e.strokeStyle){case"dash":m_.strokeLineDash=[12,12];break;case"none":m_.strokeLineDash=[],m_.stroke="transparent";break;default:m_.strokeLineDash=[]}let t=e.shapeType;e.radius>0&&"rect"===t&&(t="roundedRect"),this._shapeOverlay=new S9(this._edgeless,t,m_,{shapeStyle:e.shapeStyle,fillColor:e.fillColor,strokeColor:e.strokeColor}),this._edgeless.surface.renderer.addOverlay(this._shapeOverlay)}onContainerClick(e){if(this.clearOverlay(),this._disableOverlay)return;this._doc.captureSync();let t=this._addNewShape(e,100,100),i=this._service.getElementById(t);i&&this._edgeless.tools.switchToDefaultMode({elements:[i.id],editing:!1})}onContainerContextMenu(){(0,A.lQ)()}onContainerDblClick(){(0,A.lQ)()}onContainerDragEnd(){if(this._disableOverlay)return;this._draggingElement&&this._draggingElement.pop("xywh");let e=this._draggingElementId;if(!e)return;if(this._draggingArea){let t=Math.abs(this._draggingArea?.end.x-this._draggingArea?.start.x),i=Math.abs(this._draggingArea?.end.y-this._draggingArea?.start.y);if(t<20&&i<20){this._service.removeElement(e);return}}this._draggingElement=null,this._draggingElementId=null,this._draggingArea=null,this._doc.captureSync();let t=this._service.getElementById(e);t&&this._edgeless.tools.switchToDefaultMode({elements:[t.id],editing:!1})}onContainerDragMove(e){!this._disableOverlay&&this._draggingElementId&&this._draggingArea&&(this._draggingArea.end=new DOMPoint(e.x,e.y),this._edgeless.tools.spaceBar&&this._move(),this._resize(e.keys.shift||this._edgeless.tools.shiftKey))}onContainerDragStart(e){if(this._disableOverlay)return;this.clearOverlay(),this._doc.captureSync();let t=this._addNewShape(e,0,0);this._draggingElementId=t,this._draggingElement=this._service.getElementById(t),this._draggingElement.stash("xywh"),this._draggingArea={start:new DOMPoint(e.x,e.y),end:new DOMPoint(e.x,e.y)}}onContainerMouseMove(e){if(!this._shapeOverlay)return;0===this._shapeOverlay.globalAlpha&&(this._shapeOverlay.globalAlpha=1);let[t,i]=this._service.viewport.toModelCoord(e.x,e.y);this._updateOverlayPosition(t,i)}onContainerMouseOut(e){e.raw.relatedTarget&&(0,st.Xn)(e.raw.relatedTarget,mM)||this._hideOverlay()}onContainerPointerDown(){(0,A.lQ)()}onContainerTripleClick(){(0,A.lQ)()}onPressShiftKey(e){this._draggingElementId&&this._resize(e)}onPressSpaceBar(e){let{tools:t}=this._edgeless;if(t.dragging&&e){if(!this._draggingArea)return;let e=this._draggingArea.end.x,t=this._draggingArea.end.y;this._moveWithSpaceStartPos=[e,t];let{start:{x:i,y:s},end:{x:o,y:r}}=this._draggingArea;this._moveWithSpaceShapePosTemp={start:new DOMPoint(i,s),end:new DOMPoint(o,r)}}}setDisableOverlay(e){this._disableOverlay=e}}let E9=e=>{let t=["x","y","s","z"],i=(e,t)=>["x","y"].includes(e)&&"number"==typeof t?`${t}px`:t;return["default","hover","next"].reduce((s,o)=>({...s,...t.reduce((t,s)=>{let r=e.default?.[s],a=e[o]?.[s]??r;return void 0===a?t:{...t,[`--${o}-${s}`]:i(s,a)}},{})}),{})};var Ie=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},It=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let Ii=[];Ii.push({name:"roundedRect",svg:tC,style:{default:{x:-9,y:6},hover:{y:-5,z:1},next:{y:60}}}),Ii.push({name:O.IO.Ellipse,svg:tx,style:{default:{x:-20,y:31},hover:{y:15,z:1},next:{y:64}}}),Ii.push({name:O.IO.Triangle,svg:t_,style:{default:{x:18,y:25},hover:{y:7,z:1},next:{y:64}}}),Ii.forEach(e=>{Object.values(e.style).forEach(e=>{e.y&&(e.y+=-2),e.x&&(e.x+=0)})}),(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("edgeless-toolbar-shape-draggable")],l=[],c=MQ(H.WF),d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[];(class extends c{static{t=this}static{let w="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.wk)()],r=[(0,L.P)(".edgeless-shape-draggable")],a=[(0,L.MZ)({attribute:!1})],Ie(this,null,i,{kind:"accessor",name:"color",static:!1,private:!1,access:{has:e=>"color"in e,get:e=>e.color,set:(e,t)=>{e.color=t}},metadata:w},d,h),Ie(this,null,s,{kind:"accessor",name:"onShapeClick",static:!1,private:!1,access:{has:e=>"onShapeClick"in e,get:e=>e.onShapeClick,set:(e,t)=>{e.onShapeClick=t}},metadata:w},u,p),Ie(this,null,o,{kind:"accessor",name:"readyToDrop",static:!1,private:!1,access:{has:e=>"readyToDrop"in e,get:e=>e.readyToDrop,set:(e,t)=>{e.readyToDrop=t}},metadata:w},f,g),Ie(this,null,r,{kind:"accessor",name:"shapeContainer",static:!1,private:!1,access:{has:e=>"shapeContainer"in e,get:e=>e.shapeContainer,set:(e,t)=>{e.shapeContainer=t}},metadata:w},m,v),Ie(this,null,a,{kind:"accessor",name:"stroke",static:!1,private:!1,access:{has:e=>"stroke"in e,get:e=>e.stroke,set:(e,t)=>{e.stroke=t}},metadata:w},y,b),Ie(null,e={value:t},n,{kind:"class",name:t.name,metadata:w},null,l),t=e.value,w&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w})}static{this.styles=(0,H.AH)`
    :host {
      display: flex;
      justify-content: center;
      align-items: flex-end;
    }
    .edgeless-shape-draggable {
      /* avoid shadow clipping */
      --shadow-safe-area: 10px;
      box-sizing: border-box;
      flex-shrink: 0;
      width: calc(100% + 2 * var(--shadow-safe-area));
      height: calc(100% + var(--shadow-safe-area));
      padding-top: var(--shadow-safe-area);
      padding-left: var(--shadow-safe-area);
      padding-right: var(--shadow-safe-area);
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      pointer-events: none;
    }

    .shape {
      width: fit-content;
      height: fit-content;
      position: absolute;
      transition:
        transform 0.3s,
        z-index 0.1s;
      transform: translateX(var(--default-x, 0)) translateY(var(--default-y, 0))
        scale(var(--default-s, 1));
      z-index: var(--default-z, 0);
      pointer-events: none;
    }
    .shape svg {
      display: block;
    }
    .shape svg path,
    .shape svg circle,
    .shape svg rect {
      pointer-events: auto;
      cursor: grab;
    }
    .shape:hover,
    .shape.cancel {
      transform: translateX(var(--hover-x, 0)) translateY(var(--hover-y, 0))
        scale(var(--hover-s, 1));
      z-index: var(--hover-z, 0);
    }
    .shape.next {
      transition: all 0.5s cubic-bezier(0.39, 0.28, 0.09, 0.95);
      pointer-events: none;
      transform: translateX(var(--next-x, 0)) translateY(var(--next-y, 0))
        scale(var(--next-s, 1));
    }
    .shape.next.coming {
      transform: translateX(var(--default-x, 0)) translateY(var(--default-y, 0))
        scale(var(--default-s, 1));
    }
  `}_setShapeOverlayLock(e){let t=this.edgeless.tools.currentController;t instanceof E8&&t.setDisableOverlay(e)}initDragController(){this.edgeless&&this.toolbarContainer&&!this.draggableController&&(this.draggableController=new ET(this,{service:this.edgeless.service,edgeless:this.edgeless,scopeElement:this.toolbarContainer,standardWidth:100,clickToDrag:!0,onOverlayCreated:(e,t)=>{Object.assign(e.element.style,{color:this.color,stroke:this.stroke});let i=this.edgeless.tools.currentController;i instanceof E8&&i.clearOverlay(),e.element.style.filter=`drop-shadow(${this.shapeShadow})`,this.readyToDrop=!0,this.draggingShape=t.data.name},onDrop:(e,t)=>{let i=t.serialize(),s=e.data,o=this.edgeless.service.addElement(E.J9.SHAPE,{shapeType:"roundedRect"===s.name?O.IO.Rect:s.name,xywh:i,radius:"roundedRect"===s.name?.1:0});this.edgeless.service.telemetryService?.track("CanvasElementAdded",{control:"toolbar:dnd",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:"shape",other:{shapeType:"roundedRect"===s.name?O.IO.Rect:s.name}}),this._setShapeOverlayLock(!1),this.readyToDrop=!1,this.edgeless.service.tool.setEdgelessTool({type:"default"},{elements:[o],editing:!1})},onCanceled:()=>{this._setShapeOverlayLock(!1),this.readyToDrop=!1},onElementClick:e=>{this.onShapeClick?.(e.data),this._setShapeOverlayLock(!0)},onEnterOrLeaveScope:(e,t)=>{e.element.style.filter=t?"none":`drop-shadow(${this.shapeShadow})`}}),this._disposables.add(this.edgeless.bindHotKey({s:e=>{if(e.get("keyboardState").raw.shiftKey)return;let t=this.edgeless.service;if(t.locked||t.selection.editing)return;if(this.readyToDrop){let e=(Ii.findIndex(e=>e.name===this.draggingShape)+1)%Ii.length,t=Ii[e];this.draggingShape=t.name,this.draggableController.cancelWithoutAnimation()}let i=this.shapeContainer.querySelector(`.shape.${this.draggingShape}`);(0,V.Z1)(i,"Edgeless toolbar Shape element not found");let{x:s,y:o}=t.tool.lastMousePos,{left:r,top:a}=this.edgeless.viewport;this.draggableController.clickToDrag(i,{x:s+r,y:o+a})}},{global:!0})))}render(){let{cancelled:e,dragOut:t,draggingElement:i}=this.draggableController?.states||{},s=i?.data;return(0,H.qy)`<div class="edgeless-shape-draggable">
      ${(0,D.u)(Ii,e=>e.name,i=>{let o=s?.name===i.name,r={...E9(i.style),filter:`drop-shadow(${this.shapeShadow})`},a=(0,Z.W)({...r,opacity:o?0:1}),n=(0,Z.W)(r);return(0,H.qy)`${o?(0,H.qy)`<div
                  style=${n}
                  class=${(0,oJ.H)({shape:!0,next:!0,coming:!!t&&!e})}
                >
                  ${i.svg}
                </div>`:H.s6}
            <div
              style=${a}
              class=${(0,oJ.H)({shape:!0,[i.name]:!0,cancel:o&&!t})}
              @mousedown=${e=>this.draggableController.onMouseDown(e,{data:i,preview:i.svg})}
              @touchstart=${e=>this.draggableController.onTouchStart(e,{data:i,preview:i.svg})}
              @click=${e=>e.stopPropagation()}
            >
              ${i.svg}
            </div>`})}
    </div>`}updated(e){["edgeless","toolbarContainer"].some(t=>e.has(t))&&!this.draggableController&&this.initDragController()}get shapeShadow(){return"dark"===this.theme?"0 0 7px rgba(0, 0, 0, .22)":"0 0 5px rgba(0, 0, 0, .2)"}#iw;get color(){return this.#iw}set color(e){this.#iw=e}#nB;get onShapeClick(){return this.#nB}set onShapeClick(e){this.#nB=e}#nC;get readyToDrop(){return this.#nC}set readyToDrop(e){this.#nC=e}#n$;get shapeContainer(){return this.#n$}set shapeContainer(e){this.#n$=e}#nv;get stroke(){return this.#nv}set stroke(e){this.#nv=e}constructor(){super(...arguments),this.draggingShape="roundedRect",this.type="shape",this.#iw=It(this,d,void 0),this.#nB=(It(this,h),It(this,u,()=>{})),this.#nC=(It(this,p),It(this,f,!1)),this.#n$=(It(this,g),It(this,m,void 0)),this.#nv=(It(this,v),It(this,y,void 0)),It(this,b)}static{It(t,l)}})})();var Is=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Io=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let{Rect:Ir}=O.IO;(()=>{let e,t,i=[(0,L.EM)("edgeless-shape-tool-button")],s=[],o=MQ(H.WF),r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;Is(this,null,[(0,L.wk)()],{kind:"accessor",name:"states",static:!1,private:!1,access:{has:e=>"states"in e,get:e=>e.states,set:(e,t)=>{e.states=t}},metadata:n},r,a),Is(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    :host {
      display: block;
      width: 100%;
      height: 100%;
    }
    edgeless-toolbar-button,
    .shapes {
      width: 100%;
      height: 64px;
    }
  `}_handleShapeClick(e){let t=e.name;if(t!==this.states.shapeType){let e=k2.find(e=>e.name===t);if(!e)return;this.edgeless.service.editPropsStore.recordLastProps("shape",e?.value),this.updateMenu()}this.popper||this._toggleMenu()}_toggleMenu(){this.tryDisposePopper()||(this.setEdgelessTool({type:this.type,shapeType:this.states.shapeType}),Object.assign(this.createPopper("edgeless-shape-menu",this).element,{edgeless:this.edgeless,onChange:e=>{this.edgeless.service.editPropsStore.recordLastProps("shape",e),this.updateMenu(),this._updateOverlay(),this.setEdgelessTool({type:"shape",shapeType:e.shapeType??this.states.shapeType})}}),this.updateMenu())}_updateOverlay(){let e=this.edgeless.tools.currentController;e instanceof E8&&e.createOverlay()}connectedCallback(){super.connectedCallback();let{edgeless:e,states:t,stateKeys:i,type:s}=this;M6(e.service,s,i,t),this.disposables.add(M4(e.service,"shape",i,t,e=>{this.states={...this.states,...e},this.updateMenu()}))}render(){let{active:e,states:{fillColor:t,strokeColor:i}}=this,s=im.Q.generateColorProperty(t),o=im.Q.generateColorProperty(i);return(0,H.qy)`
      <edgeless-toolbar-button
        class="edgeless-shape-button"
        .tooltip=${this.popper?"":ky("Shape","S")}
        .tooltipOffset=${5}
        .active=${e}
      >
        <edgeless-toolbar-shape-draggable
          .edgeless=${this.edgeless}
          .toolbarContainer=${this.toolbarContainer}
          class="shapes"
          style=${(0,Z.W)({color:s,stroke:o})}
          .color=${s}
          .stroke=${o}
          @click=${this._toggleMenu}
          .onShapeClick=${this._handleShapeClick.bind(this)}
        >
        </edgeless-toolbar-shape-draggable>
      </edgeless-toolbar-button>
    `}updateMenu(){this.popper&&Object.assign(this.popper.element,this.states)}get stateKeys(){return Object.keys(this.states)}#nm;get states(){return this.#nm}set states(e){this.#nm=e}constructor(){super(...arguments),this.type="shape",this.#nm=Io(this,r,{shapeStyle:C.lH.Scribbled,shapeType:Ir,fillColor:O.SO,strokeColor:O.vt,radius:0}),Io(this,a)}static{Io(t,s)}})})();let Ia=(0,H.qy)`
  <svg
    width="24"
    height="18"
    viewBox="0 0 24 18"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      id="Polygon 19"
      d="M12.6809 16.8585C12.2821 17.4176 11.4514 17.4176 11.0526 16.8585L0.754394 2.41961C0.282281 1.75767 0.755483 0.838941 1.56853 0.838941L22.165 0.838943C22.978 0.838943 23.4512 1.75767 22.9791 2.41961L12.6809 16.8585Z"
      fill="currentColor"
    />
  </svg>
`,In={light:(0,H.JW)`<svg width="62" height="40" viewBox="0 0 62 40" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g filter="url(#filter0_d_744_3554)">
  <g clip-path="url(#clip0_744_3554)">
  <rect x="4.76465" y="4.82324" width="52.7059" height="30.8021" rx="3" fill="white"/>
  <rect x="7.35547" y="7.66992" width="21.7372" height="11.3655" rx="1" fill="#DFF4E8"/>
  <rect x="32.832" y="7.6084" width="21.7372" height="11.3655" rx="1" fill="#DFF4F3"/>
  <rect x="7.42578" y="21.8467" width="21.7372" height="11.3655" rx="1" fill="#FFEACA"/>
  <rect x="32.8408" y="21.7988" width="21.7372" height="11.3655" rx="1" fill="#FFE1E1"/>
  <g filter="url(#filter1_d_744_3554)">
  <rect x="8.49219" y="9.00781" width="4.13581" height="3.08021" fill="#9DD194"/>
  <rect x="8.54219" y="9.05781" width="4.03581" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter2_d_744_3554)">
  <rect x="8.49219" y="14.0635" width="4.13581" height="3.08021" fill="#9DD194"/>
  <rect x="8.54219" y="14.1135" width="4.03581" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter3_d_744_3554)">
  <rect x="13.4521" y="9.00781" width="3.72042" height="3.08021" fill="#9DD194"/>
  <rect x="13.5021" y="9.05781" width="3.62042" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter4_d_744_3554)">
  <rect x="37.6836" y="11.4336" width="3.72042" height="3.08021" fill="#84CFFF"/>
  <rect x="37.7336" y="11.4836" width="3.62042" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter5_d_744_3554)">
  <rect x="43.2646" y="11.4336" width="3.72042" height="3.08021" fill="#84CFFF"/>
  <rect x="43.3146" y="11.4836" width="3.62042" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter6_d_744_3554)">
  <rect x="48.8447" y="11.4336" width="3.72042" height="3.08021" fill="#84CFFF"/>
  <rect x="48.8947" y="11.4836" width="3.62042" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter7_d_744_3554)">
  <rect x="34.2461" y="22.8467" width="3.72042" height="3.08021" fill="#F16F6F"/>
  <rect x="34.2961" y="22.8967" width="3.62042" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter8_d_744_3554)">
  <rect x="39.2061" y="22.8467" width="3.72042" height="3.08021" fill="#F16F6F"/>
  <rect x="39.2561" y="22.8967" width="3.62042" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter9_d_744_3554)">
  <rect x="44.167" y="22.8467" width="3.72042" height="3.08021" fill="#F16F6F"/>
  <rect x="44.217" y="22.8967" width="3.62042" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter10_d_744_3554)">
  <rect x="49.127" y="22.8467" width="3.72042" height="3.08021" fill="#F16F6F"/>
  <rect x="49.177" y="22.8967" width="3.62042" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter11_d_744_3554)">
  <rect x="49.127" y="26.543" width="3.72042" height="3.08021" fill="#F16F6F"/>
  <rect x="49.177" y="26.593" width="3.62042" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter12_d_744_3554)">
  <rect x="44.167" y="26.543" width="3.72042" height="3.08021" fill="#F16F6F"/>
  <rect x="44.217" y="26.593" width="3.62042" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter13_d_744_3554)">
  <rect x="39.2061" y="26.543" width="3.72042" height="3.08021" fill="#F16F6F"/>
  <rect x="39.2561" y="26.593" width="3.62042" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter14_d_744_3554)">
  <rect x="34.2461" y="26.543" width="3.72042" height="3.08021" fill="#F16F6F"/>
  <rect x="34.2961" y="26.593" width="3.62042" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter15_d_744_3554)">
  <rect x="18.4131" y="9.00781" width="3.72042" height="3.08021" fill="#9DD194"/>
  <rect x="18.4631" y="9.05781" width="3.62042" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <line x1="7.8916" y1="20.7553" x2="54.2721" y2="20.7553" stroke="#A7A7A7" stroke-width="0.3"/>
  <line x1="30.9918" y1="8.72949" x2="30.9918" y2="32.2467" stroke="#A7A7A7" stroke-width="0.3"/>
  <g filter="url(#filter16_d_744_3554)">
  <rect x="8.62012" y="23.1807" width="3.72042" height="3.08021" fill="#FFC46B"/>
  <rect x="8.67012" y="23.2307" width="3.62042" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter17_d_744_3554)">
  <rect x="13.7139" y="25.6592" width="3.72042" height="3.08021" fill="#FFC46B"/>
  <rect x="13.7639" y="25.7092" width="3.62042" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter18_d_744_3554)">
  <rect x="18.7031" y="23.9033" width="3.72042" height="3.08021" fill="#FFC46B"/>
  <rect x="18.7531" y="23.9533" width="3.62042" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter19_d_744_3554)">
  <rect x="20.5752" y="28.8613" width="3.72042" height="3.08021" fill="#FFC46B"/>
  <rect x="20.6252" y="28.9113" width="3.62042" height="2.98021" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  </g>
  <rect x="5.06465" y="5.12324" width="52.1059" height="30.2021" rx="2.7" stroke="#E3E2E4" stroke-width="0.6"/>
  </g>
  <defs>
  <filter id="filter0_d_744_3554" x="0.764648" y="0.823242" width="60.7061" height="38.8018" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="2"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter1_d_744_3554" x="-10.6457" y="-10.1301" width="42.4116" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter2_d_744_3554" x="-10.6457" y="-5.07445" width="42.4116" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter3_d_744_3554" x="-5.68578" y="-10.1301" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter4_d_744_3554" x="18.5457" y="-7.70434" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter5_d_744_3554" x="24.1267" y="-7.70434" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter6_d_744_3554" x="29.7068" y="-7.70434" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter7_d_744_3554" x="15.1082" y="3.70875" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter8_d_744_3554" x="20.0681" y="3.70875" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter9_d_744_3554" x="25.0291" y="3.70875" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter10_d_744_3554" x="29.989" y="3.70875" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter11_d_744_3554" x="29.989" y="7.40504" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter12_d_744_3554" x="25.0291" y="7.40504" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter13_d_744_3554" x="20.0681" y="7.40504" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter14_d_744_3554" x="15.1082" y="7.40504" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter15_d_744_3554" x="-0.724844" y="-10.1301" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter16_d_744_3554" x="-10.5178" y="4.04273" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter17_d_744_3554" x="-5.42406" y="6.52125" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter18_d_744_3554" x="-0.434805" y="4.76539" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <filter id="filter19_d_744_3554" x="1.43727" y="9.7234" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3554"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3554" result="shape"/>
  </filter>
  <clipPath id="clip0_744_3554">
  <rect x="4.76465" y="4.82324" width="52.7059" height="30.8021" rx="3" fill="white"/>
  </clipPath>
  </defs>
  </svg>
  `,dark:(0,H.JW)`<svg width="62" height="40" viewBox="0 0 62 40" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g filter="url(#filter0_d_744_3621)">
  <g clip-path="url(#clip0_744_3621)">
  <rect x="4.76465" y="4.82324" width="52.7059" height="30.8021" rx="3" fill="black"/>
  <rect x="7.35547" y="7.66992" width="21.7372" height="11.3655" rx="1" fill="#2C6C3F"/>
  <rect x="32.832" y="7.6084" width="21.7372" height="11.3655" rx="1" fill="#1A736E"/>
  <rect x="7.42578" y="21.8467" width="21.7372" height="11.3655" rx="1" fill="#B9812E"/>
  <rect x="32.8408" y="21.7988" width="21.7372" height="11.3655" rx="1" fill="#6F3232"/>
  <g filter="url(#filter1_d_744_3621)">
  <rect x="8.49219" y="9.00781" width="4.13581" height="3.08021" fill="#9DD194"/>
  <rect x="8.54219" y="9.05781" width="4.03581" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter2_d_744_3621)">
  <rect x="8.49219" y="14.0635" width="4.13581" height="3.08021" fill="#9DD194"/>
  <rect x="8.54219" y="14.1135" width="4.03581" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter3_d_744_3621)">
  <rect x="13.4521" y="9.00781" width="3.72042" height="3.08021" fill="#9DD194"/>
  <rect x="13.5021" y="9.05781" width="3.62042" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter4_d_744_3621)">
  <rect x="37.6836" y="11.4336" width="3.72042" height="3.08021" fill="#84CFFF"/>
  <rect x="37.7336" y="11.4836" width="3.62042" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter5_d_744_3621)">
  <rect x="43.2646" y="11.4336" width="3.72042" height="3.08021" fill="#84CFFF"/>
  <rect x="43.3146" y="11.4836" width="3.62042" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter6_d_744_3621)">
  <rect x="48.8447" y="11.4336" width="3.72042" height="3.08021" fill="#84CFFF"/>
  <rect x="48.8947" y="11.4836" width="3.62042" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter7_d_744_3621)">
  <rect x="34.2461" y="22.8467" width="3.72042" height="3.08021" fill="#F16F6F"/>
  <rect x="34.2961" y="22.8967" width="3.62042" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter8_d_744_3621)">
  <rect x="39.2061" y="22.8467" width="3.72042" height="3.08021" fill="#F16F6F"/>
  <rect x="39.2561" y="22.8967" width="3.62042" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter9_d_744_3621)">
  <rect x="44.167" y="22.8467" width="3.72042" height="3.08021" fill="#F16F6F"/>
  <rect x="44.217" y="22.8967" width="3.62042" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter10_d_744_3621)">
  <rect x="49.127" y="22.8467" width="3.72042" height="3.08021" fill="#F16F6F"/>
  <rect x="49.177" y="22.8967" width="3.62042" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter11_d_744_3621)">
  <rect x="49.127" y="26.543" width="3.72042" height="3.08021" fill="#F16F6F"/>
  <rect x="49.177" y="26.593" width="3.62042" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter12_d_744_3621)">
  <rect x="44.167" y="26.543" width="3.72042" height="3.08021" fill="#F16F6F"/>
  <rect x="44.217" y="26.593" width="3.62042" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter13_d_744_3621)">
  <rect x="39.2061" y="26.543" width="3.72042" height="3.08021" fill="#F16F6F"/>
  <rect x="39.2561" y="26.593" width="3.62042" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter14_d_744_3621)">
  <rect x="34.2461" y="26.543" width="3.72042" height="3.08021" fill="#F16F6F"/>
  <rect x="34.2961" y="26.593" width="3.62042" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter15_d_744_3621)">
  <rect x="18.4131" y="9.00781" width="3.72042" height="3.08021" fill="#9DD194"/>
  <rect x="18.4631" y="9.05781" width="3.62042" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <line x1="7.8916" y1="20.7553" x2="54.2721" y2="20.7553" stroke="#A7A7A7" stroke-width="0.3"/>
  <line x1="30.9918" y1="8.72949" x2="30.9918" y2="32.2467" stroke="#A7A7A7" stroke-width="0.3"/>
  <g filter="url(#filter16_d_744_3621)">
  <rect x="8.62012" y="23.1807" width="3.72042" height="3.08021" fill="#FFC46B"/>
  <rect x="8.67012" y="23.2307" width="3.62042" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter17_d_744_3621)">
  <rect x="13.7139" y="25.6592" width="3.72042" height="3.08021" fill="#FFC46B"/>
  <rect x="13.7639" y="25.7092" width="3.62042" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter18_d_744_3621)">
  <rect x="18.7031" y="23.9033" width="3.72042" height="3.08021" fill="#FFC46B"/>
  <rect x="18.7531" y="23.9533" width="3.62042" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter19_d_744_3621)">
  <rect x="20.5752" y="28.8613" width="3.72042" height="3.08021" fill="#FFC46B"/>
  <rect x="20.6252" y="28.9113" width="3.62042" height="2.98021" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  </g>
  <rect x="5.26465" y="5.32324" width="51.7059" height="29.8021" rx="2.5" stroke="#727272"/>
  </g>
  <defs>
  <filter id="filter0_d_744_3621" x="0.764648" y="0.823242" width="60.7061" height="38.8018" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="2"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter1_d_744_3621" x="-10.6457" y="-10.1301" width="42.4116" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter2_d_744_3621" x="-10.6457" y="-5.07445" width="42.4116" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter3_d_744_3621" x="-5.68578" y="-10.1301" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter4_d_744_3621" x="18.5457" y="-7.70434" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter5_d_744_3621" x="24.1267" y="-7.70434" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter6_d_744_3621" x="29.7068" y="-7.70434" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter7_d_744_3621" x="15.1082" y="3.70875" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter8_d_744_3621" x="20.0681" y="3.70875" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter9_d_744_3621" x="25.0291" y="3.70875" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter10_d_744_3621" x="29.989" y="3.70875" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter11_d_744_3621" x="29.989" y="7.40504" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter12_d_744_3621" x="25.0291" y="7.40504" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter13_d_744_3621" x="20.0681" y="7.40504" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter14_d_744_3621" x="15.1082" y="7.40504" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter15_d_744_3621" x="-0.724844" y="-10.1301" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter16_d_744_3621" x="-10.5178" y="4.04273" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter17_d_744_3621" x="-5.42406" y="6.52125" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter18_d_744_3621" x="-0.434805" y="4.76539" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <filter id="filter19_d_744_3621" x="1.43727" y="9.7234" width="41.9966" height="41.3559" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3621"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3621" result="shape"/>
  </filter>
  <clipPath id="clip0_744_3621">
  <rect x="4.76465" y="4.82324" width="52.7059" height="30.8021" rx="3" fill="white"/>
  </clipPath>
  </defs>
  </svg>
  `},Il={light:(0,H.JW)`<svg width="55" height="36" viewBox="0 0 55 36" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g filter="url(#filter0_d_744_3580)">
  <rect width="46.1176" height="27.128" rx="3" transform="matrix(1 0 0 -1 4.5293 31.2461)" fill="white"/>
  <rect x="0.3" y="-0.3" width="45.5176" height="26.528" rx="2.7" transform="matrix(1 0 0 -1 4.5293 30.6461)" stroke="#E3E2E4" stroke-width="0.6"/>
  <line y1="-0.109324" x2="3.25536" y2="-0.109324" transform="matrix(1 0 0 -1 13.21 13.8838)" stroke="#6B6B6B" stroke-width="0.218649"/>
  <line y1="-0.109324" x2="3.25536" y2="-0.109324" transform="matrix(1 0 0 -1 13.21 13.8838)" stroke="#6B6B6B" stroke-width="0.218649"/>
  <path d="M22.4336 14.4268H24.1332V18.8259V20.9374L26.2315 20.9375" stroke="#6B6B6B" stroke-width="0.218649"/>
  <path d="M32.7422 20.9373H39.3551V24.1926V25.8203L41.4232 25.8203" stroke="#6B6B6B" stroke-width="0.218649"/>
  <path d="M20.2637 14.427H23.9576L23.9579 11.2328V9.54401L26.2318 9.54395" stroke="#6B6B6B" stroke-width="0.218649"/>
  <path d="M38.168 20.9377H39.6247V17.6824V16.0547L41.4233 16.0547" stroke="#6B6B6B" stroke-width="0.218649"/>
  <rect width="6.51073" height="3.79792" rx="0.728829" transform="matrix(1 0 0 -1 26.2314 11.7139)" fill="#9DD194"/>
  <rect x="0.0364415" y="-0.0364415" width="6.43784" height="3.72504" rx="0.692388" transform="matrix(1 0 0 -1 26.2314 11.641)" stroke="black" stroke-opacity="0.1" stroke-width="0.0728829"/>
  <rect width="7.05329" height="3.25536" rx="0.728829" transform="matrix(1 0 0 -1 6.15723 16.0547)" fill="#FFDE6B"/>
  <rect x="0.0364415" y="-0.0364415" width="6.9804" height="3.18248" rx="0.692388" transform="matrix(1 0 0 -1 6.15723 15.9818)" stroke="black" stroke-opacity="0.1" stroke-width="0.0728829"/>
  <rect width="3.37861" height="3.37861" transform="matrix(0.707107 0.707107 0.707107 -0.707107 34.2441 20.8691)" fill="#937EE7"/>
  <rect x="0.051536" width="3.30572" height="3.30572" transform="matrix(0.707107 0.707107 0.707107 -0.707107 34.2592 20.8327)" stroke="black" stroke-opacity="0.1" stroke-width="0.0728829"/>
  <rect width="3.37861" height="3.37861" transform="matrix(0.707107 0.707107 0.707107 -0.707107 16.1426 14.4902)" fill="#937EE7"/>
  <rect x="0.051536" width="3.30572" height="3.30572" transform="matrix(0.707107 0.707107 0.707107 -0.707107 16.1577 14.4538)" stroke="black" stroke-opacity="0.1" stroke-width="0.0728829"/>
  <rect width="6.51073" height="3.79792" rx="0.728829" transform="matrix(1 0 0 -1 26.2314 22.5654)" fill="#FFDE6B"/>
  <rect x="0.0364415" y="-0.0364415" width="6.43784" height="3.72504" rx="0.692388" transform="matrix(1 0 0 -1 26.2314 22.4925)" stroke="black" stroke-opacity="0.1" stroke-width="0.0728829"/>
  <rect width="7.05329" height="3.25536" rx="0.728829" transform="matrix(1 0 0 -1 41.4238 26.9053)" fill="#937EE7"/>
  <rect x="0.0364415" y="-0.0364415" width="6.9804" height="3.18248" rx="0.692388" transform="matrix(1 0 0 -1 41.4238 26.8324)" stroke="black" stroke-opacity="0.1" stroke-width="0.0728829"/>
  <rect width="7.05329" height="3.79792" rx="0.728829" transform="matrix(1 0 0 -1 41.4238 18.2246)" fill="#937EE7"/>
  <rect x="0.0364415" y="-0.0364415" width="6.9804" height="3.72504" rx="0.692388" transform="matrix(1 0 0 -1 41.4238 18.1517)" stroke="black" stroke-opacity="0.1" stroke-width="0.0728829"/>
  </g>
  <defs>
  <filter id="filter0_d_744_3580" x="0.529297" y="0.118164" width="54.1172" height="35.1279" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="2"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3580"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3580" result="shape"/>
  </filter>
  </defs>
  </svg>
  `,dark:(0,H.JW)`<svg width="55" height="36" viewBox="0 0 55 36" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g filter="url(#filter0_d_744_3647)">
  <rect width="46.1176" height="27.128" rx="3" transform="matrix(1 0 0 -1 4.5293 31.2461)" fill="#1B1B1B"/>
  <rect x="0.5" y="-0.5" width="45.1176" height="26.128" rx="2.5" transform="matrix(1 0 0 -1 4.5293 30.2461)" stroke="#727272"/>
  <line y1="-0.109324" x2="3.25536" y2="-0.109324" transform="matrix(1 0 0 -1 13.21 13.8838)" stroke="#6B6B6B" stroke-width="0.218649"/>
  <line y1="-0.109324" x2="3.25536" y2="-0.109324" transform="matrix(1 0 0 -1 13.21 13.8838)" stroke="#6B6B6B" stroke-width="0.218649"/>
  <path d="M22.4336 14.4268H24.1332V18.8259V20.9374L26.2315 20.9375" stroke="#6B6B6B" stroke-width="0.218649"/>
  <path d="M32.7422 20.9373H39.3551V24.1926V25.8203L41.4232 25.8203" stroke="#6B6B6B" stroke-width="0.218649"/>
  <path d="M20.2637 14.427H23.9576L23.9579 11.2328V9.54401L26.2318 9.54395" stroke="#6B6B6B" stroke-width="0.218649"/>
  <path d="M38.168 20.9377H39.6247V17.6824V16.0547L41.4233 16.0547" stroke="#6B6B6B" stroke-width="0.218649"/>
  <rect width="6.51073" height="3.79792" rx="0.728829" transform="matrix(1 0 0 -1 26.2314 11.7139)" fill="#9DD194"/>
  <rect x="0.0364415" y="-0.0364415" width="6.43784" height="3.72504" rx="0.692388" transform="matrix(1 0 0 -1 26.2314 11.641)" stroke="white" stroke-opacity="0.1" stroke-width="0.0728829"/>
  <rect width="7.05329" height="3.25536" rx="0.728829" transform="matrix(1 0 0 -1 6.15723 16.0547)" fill="#FFD338"/>
  <rect x="0.0364415" y="-0.0364415" width="6.9804" height="3.18248" rx="0.692388" transform="matrix(1 0 0 -1 6.15723 15.9818)" stroke="white" stroke-opacity="0.1" stroke-width="0.0728829"/>
  <rect width="3.37861" height="3.37861" transform="matrix(0.707107 0.707107 0.707107 -0.707107 34.2441 20.8691)" fill="#937EE7"/>
  <rect x="0.051536" width="3.30572" height="3.30572" transform="matrix(0.707107 0.707107 0.707107 -0.707107 34.2592 20.8327)" stroke="white" stroke-opacity="0.1" stroke-width="0.0728829"/>
  <rect width="3.37861" height="3.37861" transform="matrix(0.707107 0.707107 0.707107 -0.707107 16.1426 14.4902)" fill="#937EE7"/>
  <rect x="0.051536" width="3.30572" height="3.30572" transform="matrix(0.707107 0.707107 0.707107 -0.707107 16.1577 14.4538)" stroke="white" stroke-opacity="0.1" stroke-width="0.0728829"/>
  <rect width="6.51073" height="3.79792" rx="0.728829" transform="matrix(1 0 0 -1 26.2314 22.5654)" fill="#FFD338"/>
  <rect x="0.0364415" y="-0.0364415" width="6.43784" height="3.72504" rx="0.692388" transform="matrix(1 0 0 -1 26.2314 22.4925)" stroke="white" stroke-opacity="0.1" stroke-width="0.0728829"/>
  <rect width="7.05329" height="3.25536" rx="0.728829" transform="matrix(1 0 0 -1 41.4238 26.9053)" fill="#937EE7"/>
  <rect x="0.0364415" y="-0.0364415" width="6.9804" height="3.18248" rx="0.692388" transform="matrix(1 0 0 -1 41.4238 26.8324)" stroke="white" stroke-opacity="0.1" stroke-width="0.0728829"/>
  <rect width="7.05329" height="3.79792" rx="0.728829" transform="matrix(1 0 0 -1 41.4238 18.2246)" fill="#937EE7"/>
  <rect x="0.0364415" y="-0.0364415" width="6.9804" height="3.72504" rx="0.692388" transform="matrix(1 0 0 -1 41.4238 18.1517)" stroke="white" stroke-opacity="0.1" stroke-width="0.0728829"/>
  </g>
  <defs>
  <filter id="filter0_d_744_3647" x="0.529297" y="0.118164" width="54.1172" height="35.1279" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="2"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3647"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3647" result="shape"/>
  </filter>
  </defs>
  </svg>
  `},Ic={light:(0,H.JW)`<svg width="80" height="51" viewBox="0 0 80 51" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g filter="url(#filter0_d_744_3594)">
  <g clip-path="url(#clip0_744_3594)">
  <rect x="4.29395" y="4" width="71.5294" height="42.0761" rx="4" fill="white"/>
  <rect x="7.66016" y="9.89062" width="5.89066" height="1.68304" rx="0.841522" fill="#FFEACA"/>
  <rect x="7.66016" y="13.2568" width="20.1965" height="33.6609" rx="1" fill="#FFEACA"/>
  <g filter="url(#filter1_d_744_3594)">
  <rect x="8.50195" y="15.7812" width="5.04914" height="4.20761" fill="#FFDE6B"/>
  <rect x="8.55195" y="15.8313" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter2_d_744_3594)">
  <rect x="8.50195" y="22.5137" width="5.04914" height="4.20761" fill="#FFDE6B"/>
  <rect x="8.55195" y="22.5637" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter3_d_744_3594)">
  <rect x="8.50195" y="28.4043" width="5.04914" height="4.20761" fill="#FFDE6B"/>
  <rect x="8.55195" y="28.4543" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter4_d_744_3594)">
  <rect x="15.2334" y="15.7812" width="5.04914" height="4.20761" fill="#FFDE6B"/>
  <rect x="15.2834" y="15.8313" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter5_d_744_3594)">
  <rect x="15.2334" y="22.5137" width="5.04914" height="4.20761" fill="#FFDE6B"/>
  <rect x="15.2834" y="22.5637" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter6_d_744_3594)">
  <rect x="15.2334" y="28.4043" width="5.04914" height="4.20761" fill="#9DD194"/>
  <rect x="15.2834" y="28.4543" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter7_d_744_3594)">
  <rect x="21.9658" y="15.7812" width="5.04914" height="4.20761" fill="#FFDE6B"/>
  <rect x="22.0158" y="15.8313" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter8_d_744_3594)">
  <rect x="21.9658" y="22.5137" width="5.04914" height="4.20761" fill="#FFDE6B"/>
  <rect x="22.0158" y="22.5637" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter9_d_744_3594)">
  <rect x="21.9658" y="28.4043" width="5.04914" height="4.20761" fill="#F16F6F"/>
  <rect x="22.0158" y="28.4543" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <rect x="30.3809" y="9.89062" width="5.89066" height="1.68304" rx="0.841522" fill="#E1EFFF"/>
  <rect x="30.3809" y="13.2568" width="20.1965" height="33.6609" rx="1" fill="#E1EFFF"/>
  <g filter="url(#filter10_d_744_3594)">
  <rect x="31.2227" y="15.7812" width="5.04914" height="4.20761" fill="#B8E3FF"/>
  <rect x="31.2727" y="15.8313" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter11_d_744_3594)">
  <rect x="31.2227" y="21.6719" width="5.04914" height="4.20761" fill="#B8E3FF"/>
  <rect x="31.2727" y="21.7219" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter12_d_744_3594)">
  <rect x="37.9551" y="15.7812" width="5.04914" height="4.20761" fill="#B8E3FF"/>
  <rect x="38.0051" y="15.8313" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter13_d_744_3594)">
  <rect x="37.9551" y="21.6719" width="5.04914" height="4.20761" fill="#FFC46B"/>
  <rect x="38.0051" y="21.7219" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter14_d_744_3594)">
  <rect x="44.6875" y="15.7812" width="5.04914" height="4.20761" fill="#B8E3FF"/>
  <rect x="44.7375" y="15.8313" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <rect x="53.1025" y="9.89062" width="5.89066" height="1.68304" rx="0.841522" fill="#DFF4E8"/>
  <rect x="53.1025" y="13.2568" width="20.1965" height="33.6609" rx="1" fill="#DFF4E8"/>
  <g filter="url(#filter15_d_744_3594)">
  <rect x="53.9434" y="15.7812" width="5.04914" height="4.20761" fill="#9DD194"/>
  <rect x="53.9934" y="15.8313" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter16_d_744_3594)">
  <rect x="53.9434" y="21.6719" width="5.04914" height="4.20761" fill="#9DD194"/>
  <rect x="53.9934" y="21.7219" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter17_d_744_3594)">
  <rect x="60.6758" y="15.7812" width="5.04914" height="4.20761" fill="#9DD194"/>
  <rect x="60.7258" y="15.8313" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter18_d_744_3594)">
  <rect x="60.6758" y="21.6719" width="5.04914" height="4.20761" fill="#FFC46B"/>
  <rect x="60.7258" y="21.7219" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter19_d_744_3594)">
  <rect x="67.4082" y="15.7812" width="5.04914" height="4.20761" fill="#9DD194"/>
  <rect x="67.4582" y="15.8313" width="4.94914" height="4.10761" stroke="black" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  </g>
  <rect x="4.59395" y="4.3" width="70.9294" height="41.4761" rx="3.7" stroke="#E3E2E4" stroke-width="0.6"/>
  </g>
  <defs>
  <filter id="filter0_d_744_3594" x="0.293945" y="0" width="79.5293" height="50.0762" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="2"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter1_d_744_3594" x="-10.636" y="-3.35668" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter2_d_744_3594" x="-10.636" y="3.37574" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter3_d_744_3594" x="-10.636" y="9.26637" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter4_d_744_3594" x="-3.90453" y="-3.35668" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter5_d_744_3594" x="-3.90453" y="3.37574" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter6_d_744_3594" x="-3.90453" y="9.26637" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter7_d_744_3594" x="2.82789" y="-3.35668" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter8_d_744_3594" x="2.82789" y="3.37574" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter9_d_744_3594" x="2.82789" y="9.26637" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter10_d_744_3594" x="12.0847" y="-3.35668" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter11_d_744_3594" x="12.0847" y="2.53395" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter12_d_744_3594" x="18.8171" y="-3.35668" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter13_d_744_3594" x="18.8171" y="2.53395" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter14_d_744_3594" x="25.5496" y="-3.35668" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter15_d_744_3594" x="34.8054" y="-3.35668" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter16_d_744_3594" x="34.8054" y="2.53395" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter17_d_744_3594" x="41.5379" y="-3.35668" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter18_d_744_3594" x="41.5379" y="2.53395" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <filter id="filter19_d_744_3594" x="48.2703" y="-3.35668" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3594"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3594" result="shape"/>
  </filter>
  <clipPath id="clip0_744_3594">
  <rect x="4.29395" y="4" width="71.5294" height="42.0761" rx="4" fill="white"/>
  </clipPath>
  </defs>
  </svg>
  `,dark:(0,H.JW)`<svg width="80" height="51" viewBox="0 0 80 51" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g filter="url(#filter0_d_744_3661)">
  <g clip-path="url(#clip0_744_3661)">
  <rect x="4.29395" y="4" width="71.5294" height="42.0761" rx="4" fill="#1A1A1A"/>
  <rect x="7.66016" y="9.89062" width="5.89066" height="1.68304" rx="0.841522" fill="#B9812E"/>
  <rect x="7.66016" y="13.2568" width="20.1965" height="30" rx="1" fill="#B9812E"/>
  <g filter="url(#filter1_d_744_3661)">
  <rect x="8.50195" y="15.7812" width="5.04914" height="4.20761" fill="#FFDE6B"/>
  <rect x="8.55195" y="15.8313" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter2_d_744_3661)">
  <rect x="8.50195" y="22.5137" width="5.04914" height="4.20761" fill="#FFDE6B"/>
  <rect x="8.55195" y="22.5637" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter3_d_744_3661)">
  <rect x="8.50195" y="28.4043" width="5.04914" height="4.20761" fill="#FFDE6B"/>
  <rect x="8.55195" y="28.4543" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter4_d_744_3661)">
  <rect x="15.2334" y="15.7812" width="5.04914" height="4.20761" fill="#FFDE6B"/>
  <rect x="15.2834" y="15.8313" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter5_d_744_3661)">
  <rect x="15.2334" y="22.5137" width="5.04914" height="4.20761" fill="#FFDE6B"/>
  <rect x="15.2834" y="22.5637" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter6_d_744_3661)">
  <rect x="15.2334" y="28.4043" width="5.04914" height="4.20761" fill="#9DD194"/>
  <rect x="15.2834" y="28.4543" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter7_d_744_3661)">
  <rect x="21.9658" y="15.7812" width="5.04914" height="4.20761" fill="#FFDE6B"/>
  <rect x="22.0158" y="15.8313" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter8_d_744_3661)">
  <rect x="21.9658" y="22.5137" width="5.04914" height="4.20761" fill="#FFDE6B"/>
  <rect x="22.0158" y="22.5637" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter9_d_744_3661)">
  <rect x="21.9658" y="28.4043" width="5.04914" height="4.20761" fill="#F16F6F"/>
  <rect x="22.0158" y="28.4543" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <rect x="30.3809" y="9.89062" width="5.89066" height="1.68304" rx="0.841522" fill="#084388"/>
  <rect x="30.3809" y="13.2568" width="20.1965" height="30" rx="1" fill="#084388"/>
  <g filter="url(#filter10_d_744_3661)">
  <rect x="31.2227" y="15.7812" width="5.04914" height="4.20761" fill="#B8E3FF"/>
  <rect x="31.2727" y="15.8313" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter11_d_744_3661)">
  <rect x="31.2227" y="21.6719" width="5.04914" height="4.20761" fill="#B8E3FF"/>
  <rect x="31.2727" y="21.7219" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter12_d_744_3661)">
  <rect x="37.9551" y="15.7812" width="5.04914" height="4.20761" fill="#B8E3FF"/>
  <rect x="38.0051" y="15.8313" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter13_d_744_3661)">
  <rect x="37.9551" y="21.6719" width="5.04914" height="4.20761" fill="#FFC46B"/>
  <rect x="38.0051" y="21.7219" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter14_d_744_3661)">
  <rect x="44.6875" y="15.7812" width="5.04914" height="4.20761" fill="#B8E3FF"/>
  <rect x="44.7375" y="15.8313" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <rect x="53.1025" y="9.89062" width="5.89066" height="1.68304" rx="0.841522" fill="#2C6C3F"/>
  <rect x="53.1025" y="13.2568" width="18" height="30" rx="1" fill="#2C6C3F"/>
  <g filter="url(#filter15_d_744_3661)">
  <rect x="53.9434" y="15.7812" width="5.04914" height="4.20761" fill="#9DD194"/>
  <rect x="53.9934" y="15.8313" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter16_d_744_3661)">
  <rect x="53.9434" y="21.6719" width="5.04914" height="4.20761" fill="#9DD194"/>
  <rect x="53.9934" y="21.7219" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter17_d_744_3661)">
  <rect x="60.6758" y="15.7812" width="5.04914" height="4.20761" fill="#9DD194"/>
  <rect x="60.7258" y="15.8313" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  <g filter="url(#filter18_d_744_3661)">
  <rect x="60.6758" y="21.6719" width="5.04914" height="4.20761" fill="#FFC46B"/>
  <rect x="60.7258" y="21.7219" width="4.94914" height="4.10761" stroke="white" stroke-opacity="0.1" stroke-width="0.1"/>
  </g>
  </g>
  <rect x="4.79395" y="4.5" width="70.5294" height="41.0761" rx="3.5" stroke="#727272"/>
  </g>
  <defs>
  <filter id="filter0_d_744_3661" x="0.293945" y="0" width="79.5293" height="50.0762" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="2"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.44 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter1_d_744_3661" x="-10.636" y="-3.35668" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter2_d_744_3661" x="-10.636" y="3.37574" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter3_d_744_3661" x="-10.636" y="9.26637" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter4_d_744_3661" x="-3.90453" y="-3.35668" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter5_d_744_3661" x="-3.90453" y="3.37574" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter6_d_744_3661" x="-3.90453" y="9.26637" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter7_d_744_3661" x="2.82789" y="-3.35668" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter8_d_744_3661" x="2.82789" y="3.37574" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter9_d_744_3661" x="2.82789" y="9.26637" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter10_d_744_3661" x="12.0847" y="-3.35668" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter11_d_744_3661" x="12.0847" y="2.53395" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter12_d_744_3661" x="18.8171" y="-3.35668" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter13_d_744_3661" x="18.8171" y="2.53395" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter14_d_744_3661" x="25.5496" y="-3.35668" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter15_d_744_3661" x="34.8054" y="-3.35668" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter16_d_744_3661" x="34.8054" y="2.53395" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter17_d_744_3661" x="41.5379" y="-3.35668" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <filter id="filter18_d_744_3661" x="41.5379" y="2.53395" width="43.3247" height="42.4839" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
  <feFlood flood-opacity="0" result="BackgroundImageFix"/>
  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
  <feOffset/>
  <feGaussianBlur stdDeviation="9.56896"/>
  <feComposite in2="hardAlpha" operator="out"/>
  <feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_744_3661"/>
  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_744_3661" result="shape"/>
  </filter>
  <clipPath id="clip0_744_3661">
  <rect x="4.29395" y="4" width="71.5294" height="42.0761" rx="4" fill="white"/>
  </clipPath>
  </defs>
  </svg>
  `},Id=(0,H.qy)`
  <svg
    width="85"
    height="50"
    viewBox="0 0 85 50"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <rect width="85" height="50" fill="white" />
    <line
      x1="16"
      y1="31.8907"
      x2="22"
      y2="31.8907"
      stroke="#6B6B6B"
      stroke-width="0.218649"
    />
    <line
      x1="16"
      y1="31.8907"
      x2="22"
      y2="31.8907"
      stroke="#6B6B6B"
      stroke-width="0.218649"
    />
    <path
      d="M33 31H36.1325V22.8918V19.0001L40 19"
      stroke="#6B6B6B"
      stroke-width="0.218649"
    />
    <path
      d="M52 19H64.1883V13V10L68 10.0001"
      stroke="#6B6B6B"
      stroke-width="0.218649"
    />
    <path
      d="M29 31H35.8083L35.8089 36.8873V39.9999L40 40"
      stroke="#6B6B6B"
      stroke-width="0.218649"
    />
    <path
      d="M62 19H64.685V24.9999V27.9999L68 28"
      stroke="#6B6B6B"
      stroke-width="0.218649"
    />
    <rect x="40" y="36" width="12" height="7" rx="0.728829" fill="#9DD194" />
    <rect
      x="40.0364"
      y="36.0364"
      width="11.9271"
      height="6.92712"
      rx="0.692388"
      stroke="black"
      stroke-opacity="0.1"
      stroke-width="0.0728829"
    />
    <rect x="3" y="28" width="13" height="6" rx="0.728829" fill="#FFDE6B" />
    <rect
      x="3.03644"
      y="28.0364"
      width="12.9271"
      height="5.92712"
      rx="0.692388"
      stroke="black"
      stroke-opacity="0.1"
      stroke-width="0.0728829"
    />
    <rect
      x="54.7686"
      y="19.1265"
      width="6.22715"
      height="6.22715"
      transform="rotate(-45 54.7686 19.1265)"
      fill="#937EE7"
    />
    <rect
      x="54.8201"
      y="19.1265"
      width="6.15427"
      height="6.15427"
      transform="rotate(-45 54.8201 19.1265)"
      stroke="black"
      stroke-opacity="0.1"
      stroke-width="0.0728829"
    />
    <rect
      x="21.4038"
      y="30.8835"
      width="6.22715"
      height="6.22715"
      transform="rotate(-45 21.4038 30.8835)"
      fill="#937EE7"
    />
    <rect
      x="21.4553"
      y="30.8835"
      width="6.15427"
      height="6.15427"
      transform="rotate(-45 21.4553 30.8835)"
      stroke="black"
      stroke-opacity="0.1"
      stroke-width="0.0728829"
    />
    <rect x="40" y="16" width="12" height="7" rx="0.728829" fill="#FFDE6B" />
    <rect
      x="40.0364"
      y="16.0364"
      width="11.9271"
      height="6.92712"
      rx="0.692388"
      stroke="black"
      stroke-opacity="0.1"
      stroke-width="0.0728829"
    />
    <rect x="68" y="8" width="13" height="6" rx="0.728829" fill="#937EE7" />
    <rect
      x="68.0364"
      y="8.03644"
      width="12.9271"
      height="5.92712"
      rx="0.692388"
      stroke="black"
      stroke-opacity="0.1"
      stroke-width="0.0728829"
    />
    <rect x="68" y="24" width="13" height="7" rx="0.728829" fill="#937EE7" />
    <rect
      x="68.0364"
      y="24.0364"
      width="12.9271"
      height="6.92712"
      rx="0.692388"
      stroke="black"
      stroke-opacity="0.1"
      stroke-width="0.0728829"
    />
  </svg>
`;var Ih=i(50334);function Iu(e,t,i){let s=i.get(e.id),o=i.get(t.id);return s&&o?s.id===o.id?e.index===t.index?0:e.index>t.index?1:-1:s.index>o.index?1:-1:s?s.id===t.id?1:s.index===t.index?0:s.index>t.index?1:-1:o?e.id===o.id?-1:e.index===o.index?0:e.index>o.index?1:-1:e.index===t.index?0:e.index>t.index?1:-1}let Ip=e=>{let t=new Map;e.slots.beforeInsert.on(e=>{"block"===e.type&&i(e.data)});let i=i=>{let{blockJson:s}=i,o=t.has(s.id)?t.get(s.id):e.model.doc.collection.idGenerator();if(t.has(s.id)||t.set(s.id,o),s.id=o,i.parent=i.parent?t.get(i.parent)??i.parent:void 0,"affine:surface-ref"===s.flavour&&((0,V.j)(s),s.props.reference=t.get(s.props.reference)??""),"affine:surface"===s.flavour){let i={},o=[];Object.entries(s.props.elements).forEach(([e,s])=>{let r=(0,iK.Ak)(10);t.set(e,r),s.id=r,i[r]=s,["connector","group"].includes(s.type)&&o.push(r)}),s.children.forEach(i=>{t.set(i.id,e.model.doc.collection.idGenerator())}),o.forEach(e=>{let s=i[e];switch(s.type){case"group":{let e=s.children,i={};Object.entries(e.json).forEach(([e,s])=>{i[t.get(e)??e]=s}),e.json=i}break;case"connector":{let e=s.target;e.id&&(s.target={...e,id:t.get(e.id)});let i=s.source;i.id&&(s.source={...i,id:t.get(i.id)})}}}),s.props.elements=i}}},If=e=>t=>{let i;if("template"!==t.type)return;let s=null;t.slots.beforeInsert.on(t=>{"template"===t.type?(s=t.bound)&&(i={x:e.x-s.x,y:e.y-s.y},s.x=e.x,s.y=e.y):s&&i&&r(t.data.blockJson)});let o=["group","connector"],r=e=>{if((0,V.Z1)(s),e.props.xywh){let t=m.z.deserialize(e.props.xywh);e.props.xywh=new m.z(t.x+i.x,t.y+i.y,t.w,t.h).serialize()}"affine:surface"===e.flavour&&Object.entries(e.props.elements).forEach(([e,t])=>{let s=t.type;if(o.includes(s)&&t.xywh&&delete t.xywh,t.xywh){let e=m.z.deserialize(t.xywh);t.xywh=new m.z(e.x+i.x,e.y+i.y,e.w,e.h).serialize()}"connector"===s&&["target","source"].forEach(e=>{let s=t[e];if((0,V.j)(s),s.id||!s.position)return;let o=s.position;s.position=[o[0]+i.x,o[1]+i.y]})})}},Ig=(e,t)=>i=>{i.slots.beforeInsert.on(e=>{"block"===e.type&&s(e.data.blockJson)});let s=i=>{if("affine:image"===i.flavour&&i.props.xywh){let s=m.z.deserialize(i.props.xywh);i.props.xywh=new m.z(e.x-s.w/2,e.y-s.h/2,s.w,s.h).serialize(),i.props.index=t()}}},Im=e=>t=>{t.slots.beforeInsert.on(e=>{"template"===e.type&&s(),"block"===e.type&&o(e.data.blockJson)});let i=new Map,s=()=>{let s=[],o=[],r=new Map;t.walk(e=>{e.props.index&&("affine:frame"===e.flavour?o.push({id:e.id,index:e.props.index}):s.push({id:e.id,index:e.props.index,flavour:e.flavour})),"affine:surface"===e.flavour&&Object.entries(e.props.elements).forEach(([e,t])=>{if(s.push({index:t.index,flavour:t.type,id:t.id,element:!0}),"group"===t.type){let e=t.children,i={index:t.index,id:t.id};Object.keys(e.json).forEach(e=>{r.set(e,i)})}})}),s.sort((e,t)=>Iu(e,t,r)),o.sort((e,t)=>Iu(e,t,r)),o.forEach(t=>{i.set(t.id,e("affine:frame"))}),s.forEach(t=>{i.set(t.id,e(t.flavour))})},o=e=>{e.props.index&&(e.props.index=i.get(e.id)??e.props.index),"affine:surface"===e.flavour&&Object.entries(e.props.elements).forEach(([e,t])=>{t.index&&(t.index=i.get(t.id))})}},Iv=[],Iy=[],Ib=e=>e.reduce((e,t)=>t?e.concat(t):e,[]),Iw={list:async e=>{let t=Ib(await Promise.all(Iy.map(t=>t.list(e)))),i=Iv.find(t=>t.name===e);return i?(i.templates instanceof Function?await i.templates():await Promise.all((0,ik.HP)(i.templates).map(e=>i.templates[e]()))).concat(t):t},categories:async()=>{let e=Ib(await Promise.all(Iy.map(e=>e.categories())));return Iv.map(e=>e.name).concat(e)},search:async(e,t)=>{let i=Ib(await Promise.all(Iy.map(i=>i.search(e,t))));return e=e.trim().toLocaleLowerCase(),await Promise.all(Iv.map(async s=>{if((!t||t===s.name)&&!(s.templates instanceof Function))return Promise.all((0,ik.HP)(s.templates).map(async t=>{if(function(e,t){let i=Array.from({length:e.length+1},()=>Array.from({length:t.length+1},()=>0));for(let s=1;s<=e.length;s++)for(let o=1;o<=t.length;o++)e[s-1]===t[o-1]?i[s][o]=i[s-1][o-1]+1:i[s][o]=Math.max(i[s-1][o],i[s][o-1]);return i[e.length][t.length]}(e,t.toLocaleLowerCase())===e.length){let e=await s.templates[t]();i.push(e)}}))})),i},extend(e){Iy.includes(e)||Iy.push(e)}};var Ix=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},I_=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("overlay-scrollbar")],s=[],o=H.WF,r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;Ix(this,null,[(0,L.P)(".overlay-handle")],{kind:"accessor",name:"_handle",static:!1,private:!1,access:{has:e=>"_handle"in e,get:e=>e._handle,set:(e,t)=>{e._handle=t}},metadata:n},r,a),Ix(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    :host {
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      width: 10px;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .overlay-handle {
      position: absolute;
      top: 0;
      left: 2px;
      background-color: rgba(0, 0, 0, 0.44);
      border-radius: 3px;
      width: 6px;
    }
  `}_dragHandle(e){let t=e.clientY;this._handleVisible=!0;let i=(0,lt.on)(document,"pointermove",e=>{this._scroll(e.clientY-t),t=e.clientY});(0,lt.Oo)(document,"pointerup",e=>{this._handleVisible=!1,e.stopPropagation(),setTimeout(()=>{this._toggleScrollbarVisible(!1)},800),i()})}_initWheelHandler(){let e=this.parentElement;e.style.contain="layout",e.style.overflow="hidden";let t=null,i=()=>{t&&clearTimeout(t),t=setTimeout(()=>{this._toggleScrollbarVisible(!1),t=null},800)},s=null;this._disposable.addFromEvent(e,"wheel",t=>{if(s=s?.isConnected?s:e.querySelector("[data-scrollable]"),this._scrollable=s,!s)return;let o=0===t.deltaMode?t.deltaY:16*t.deltaY;this._scroll(o??0),i()})}_scroll(e){let t=this._scrollable;t&&(t.scrollBy({left:0,top:e,behavior:"instant"}),(0,lt.Ak)(()=>{this._updateScrollbarRect(t),this._toggleScrollbarVisible(!0)},this))}_toggleScrollbarVisible(e){let t=e||this._handleVisible?"1":"0";this.style.opacity!==t&&(this.style.opacity=t)}_updateScrollbarRect(e){void 0!==e.scrollHeight&&void 0!==e.clientHeight&&(this._handle.style.height=`${e.clientHeight/e.scrollHeight*100}%`),void 0!==e.scrollTop&&void 0!==e.scrollHeight&&(this._handle.style.top=`${e.scrollTop/e.scrollHeight*100}%`)}connectedCallback(){super.connectedCallback(),this._disposable.dispose()}firstUpdated(){this._initWheelHandler()}render(){return(0,H.qy)`<div
      class="overlay-handle"
      @pointerdown=${this._dragHandle}
    ></div>`}#nT;get _handle(){return this.#nT}set _handle(e){this.#nT=e}constructor(){super(...arguments),this._disposable=new ix.K,this._handleVisible=!1,this._scrollable=null,this.#nT=I_(this,r,void 0),I_(this,a)}static{I_(t,s)}})})();var IC=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Ik=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("affine-template-loading")],s=[],o=H.WF;(class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;IC(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    @keyframes affine-template-block-rotate {
      from {
        rotate: 0deg;
      }
      to {
        rotate: 360deg;
      }
    }

    .affine-template-block-container {
      width: 20px;
      height: 20px;
      overflow: hidden;
    }

    .affine-template-block-loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      position: relative;
      background: conic-gradient(
        rgba(30, 150, 235, 1) 90deg,
        rgba(0, 0, 0, 0.1) 90deg 360deg
      );
      border-radius: 50%;
      animation: affine-template-block-rotate 1s infinite ease-in;
    }

    .affine-template-block-loading::before {
      content: '';
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background-color: white;
      position: absolute;
      top: 3px;
      left: 3px;
    }
  `}render(){return(0,H.qy)`<div class="affine-template-block-container">
      <div class="affine-template-block-loading"></div>
    </div>`}static{Ik(t,s)}})})();var IS=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},IM=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let IE=(()=>{let e,t,i,s,o,r,a,n,l,c,d=[(0,L.EM)("edgeless-templates-panel")],h=[],u=(0,P.Tm)(H.WF),p=[],f=[],g=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[];var $=class extends u{static{t=this}static{let m="function"==typeof Symbol&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.wk)()],r=[(0,L.wk)()],a=[(0,L.wk)()],n=[(0,L.wk)()],l=[(0,L.MZ)({attribute:!1})],c=[(0,L.wk)()],IS(this,null,i,{kind:"accessor",name:"_categories",static:!1,private:!1,access:{has:e=>"_categories"in e,get:e=>e._categories,set:(e,t)=>{e._categories=t}},metadata:m},p,f),IS(this,null,s,{kind:"accessor",name:"_currentCategory",static:!1,private:!1,access:{has:e=>"_currentCategory"in e,get:e=>e._currentCategory,set:(e,t)=>{e._currentCategory=t}},metadata:m},g,v),IS(this,null,o,{kind:"accessor",name:"_loading",static:!1,private:!1,access:{has:e=>"_loading"in e,get:e=>e._loading,set:(e,t)=>{e._loading=t}},metadata:m},y,b),IS(this,null,r,{kind:"accessor",name:"_loadingTemplate",static:!1,private:!1,access:{has:e=>"_loadingTemplate"in e,get:e=>e._loadingTemplate,set:(e,t)=>{e._loadingTemplate=t}},metadata:m},w,x),IS(this,null,a,{kind:"accessor",name:"_searchKeyword",static:!1,private:!1,access:{has:e=>"_searchKeyword"in e,get:e=>e._searchKeyword,set:(e,t)=>{e._searchKeyword=t}},metadata:m},_,C),IS(this,null,n,{kind:"accessor",name:"_templates",static:!1,private:!1,access:{has:e=>"_templates"in e,get:e=>e._templates,set:(e,t)=>{e._templates=t}},metadata:m},k,S),IS(this,null,l,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:m},M,E),IS(this,null,c,{kind:"accessor",name:"isDragging",static:!1,private:!1,access:{has:e=>"isDragging"in e,get:e=>e.isDragging,set:(e,t)=>{e.isDragging=t}},metadata:m},I,B),IS(null,e={value:t},d,{kind:"class",name:t.name,metadata:m},null,h),$=t=e.value,m&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m})}static{this.styles=(0,H.AH)`
    :host {
      position: absolute;
      font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
      z-index: 1;
    }

    .edgeless-templates-panel {
      width: 467px;
      height: 568px;
      border-radius: 12px;
      background-color: var(--affine-background-overlay-panel-color);
      box-shadow: 0px 10px 80px 0px rgba(0, 0, 0, 0.2);

      display: flex;
      flex-direction: column;
    }

    .search-bar {
      padding: 21px 24px;
      font-size: 18px;
      color: var(--affine-secondary);
      border-bottom: 1px solid var(--affine-divider-color);

      flex-shrink: 0;
    }

    .search-input {
      border: 0;
      color: var(--affine-text-primary-color);
      font-size: 20px;
      background-color: inherit;
      outline: none;
      width: 100%;
    }

    .search-input::placeholder {
      color: var(--affine-text-secondary-color);
    }

    .template-categories {
      display: flex;
      padding: 6px 8px;
      gap: 4px;
      overflow-x: scroll;

      flex-shrink: 0;
    }

    .category-entry {
      color: var(--affine-text-primary-color);
      font-size: 12px;
      font-weight: 600;
      line-height: 20px;
      border-radius: 8px;
      flex-shrink: 0;
      flex-grow: 0;
      width: fit-content;
      padding: 4px 9px;
      cursor: pointer;
    }

    .category-entry.selected,
    .category-entry:hover {
      color: var(--affine-text-primary-color);
      background-color: var(--affine-background-tertiary-color);
    }

    .template-viewport {
      position: relative;
      flex-grow: 1;
    }

    .template-scrollcontent {
      overflow: hidden;
      height: 100%;
      width: 100%;
    }

    .template-list {
      padding: 10px;
      display: flex;
      align-items: flex-start;
      align-content: flex-start;
      gap: 10px 20px;
      flex-wrap: wrap;
    }

    .template-item {
      position: relative;
      width: 135px;
      height: 80px;
      box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.02);
      background-color: var(--affine-background-primary-color);
      border-radius: 4px;
      cursor: pointer;
    }

    .template-item > svg {
      display: block;
      margin: 0 auto;
      width: 135px;
      height: 80px;
      color: var(--affine-background-primary-color);
    }

    /* .template-item:hover::before {
      content: attr(data-hover-text);
      position: absolute;
      display: block;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 110px;
      border-radius: 8px;
      padding: 4px 22px;
      box-sizing: border-box;
      z-index: 1;
      text-align: center;
      font-size: 12px;

      background-color: var(--affine-primary-color);
      color: var(--affine-white);
    } */

    .template-item:hover::after {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      box-sizing: border-box;
      border: 1px solid var(--affine-black-10);
      border-radius: 4px;
      background-color: var(--affine-hover-color);
    }

    .template-item.loading::before {
      display: none;
    }

    .template-item.loading > affine-template-loading {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
    }

    .template-item img.template-preview {
      object-fit: contain;
      width: 100%;
      height: 100%;
      display: block;
    }

    .arrow {
      bottom: 0;
      position: absolute;
      transform: translateY(20px);
      color: var(--affine-background-overlay-panel-color);
    }
  `}static{this.templates=Iw}_closePanel(){this.isDragging||this.dispatchEvent(new CustomEvent("closepanel"))}_createTemplateJob(e,t){let i=[],s=this.edgeless.service;if("template"===e){let e=(0,iY.ql)(s.blocks.map(e=>m.z.deserialize(e.xywh)).concat(s.elements));e&&(e.x+=e.w+20/s.viewport.zoom,i.push(If(e)));let t=s.layer.createIndexGenerator(!0);i.push(Im(e=>t(e)))}return"sticker"===e&&i.push(Ig(t,()=>s.layer.generateIndex("affine:image"))),i.push(Ip),this.edgeless.service.TemplateJob.create({model:this.edgeless.surfaceBlockModel,type:e,middlewares:i})}_fetch(e){this._fetchJob&&this._fetchJob.cancel(),this._loading=!0;let t={canceled:!1},i={cancel:()=>{t.canceled=!0}};this._fetchJob=i,e(t).catch(()=>{}).finally(()=>{t.canceled||i!==this._fetchJob||(this._loading=!1,this._fetchJob=null)})}_getLocalSelectedCategory(){return this.edgeless.service.editPropsStore.getStorage("templateCache")}async _initCategory(){try{this._categories=await $.templates.categories(),this._currentCategory=this._getLocalSelectedCategory()??this._categories[0],this._updateTemplates()}catch(e){console.error("Failed to load categories",e)}}_initDragController(){this.draggableController||(this.draggableController=new ET(this,{service:this.edgeless.service,edgeless:this.edgeless,clickToDrag:!0,standardWidth:560,onOverlayCreated:e=>{this.isDragging=!0,e.mask.style.color="transparent"},onDrop:(e,t)=>{this._insertTemplate(e.data,t).finally(()=>{this.isDragging=!1}).catch(console.error)},onCanceled:()=>{this.isDragging=!1}}))}async _insertTemplate(e,t){this._loadingTemplate=e,e=function(e){let t=new WeakMap,i=e=>{if("object"!=typeof e||null===e)return e;if(t.has(e))return t.get(e);let s=Array.isArray(e)?[]:{};return t.set(e,s),Object.keys(e).forEach(t=>{s[t]=i(e[t])}),s};return i(e)}(e);let i={x:t.x+t.w/2,y:t.y+t.h/2},s=this._createTemplateJob(e.type,i),o=this.edgeless.service;try{let{assets:t}=e;t&&await Promise.all(Object.entries(t).map(([e,t])=>fetch(t).then(e=>e.blob()).then(t=>s.job.assets.set(e,t))));let i=await s.insertTemplate(e.content);if(i&&"template"===e.type){let e=20/o.viewport.zoom;o.viewport.setViewportByBound(i,[e,e,e,e],!0)}}finally{this._loadingTemplate=null,this.edgeless.service.tool.setEdgelessTool({type:"default"})}}_updateSearchKeyword(e){this._searchKeyword=e.target.value,this._updateTemplates()}_updateTemplates(){this._fetch(async e=>{try{let t=this._searchKeyword?await $.templates.search(this._searchKeyword):await $.templates.list(this._currentCategory);if(e.canceled)return;this._templates=t}catch(t){if(e.canceled)return;console.error("Failed to load templates",t)}})}connectedCallback(){super.connectedCallback(),this._initDragController(),this.addEventListener("keydown",lt.dG,!1),this._disposables.add(()=>{this._currentCategory&&this.edgeless.service.editPropsStore.setStorage("templateCache",this._currentCategory)})}firstUpdated(){(0,lt.Ak)(()=>{this._disposables.addFromEvent(document,"click",e=>{this.contains(e.target)||this._closePanel()})},this),this._disposables.addFromEvent(this,"click",lt.dG),this._disposables.addFromEvent(this,"wheel",lt.dG),this._initCategory().catch(()=>{})}render(){let{_categories:e,_currentCategory:t,_templates:i}=this,{draggingElement:s}=this.draggableController?.states||{};return(0,H.qy)`
      <div
        class="edgeless-templates-panel"
        style=${(0,Z.W)({opacity:this.isDragging?"0":"1",transition:"opacity 0.2s"})}
      >
        <div class="search-bar">
          <input
            class="search-input"
            type="text"
            placeholder="Search file or anything..."
            @input=${this._updateSearchKeyword}
          />
        </div>
        <div class="template-categories">
          ${(0,D.u)(e,e=>e,e=>(0,H.qy)`<div
                class="category-entry ${t===e?"selected":""}"
                @click=${()=>{this._currentCategory=e,this._updateTemplates()}}
              >
                ${e}
              </div>`)}
        </div>
        <div class="template-viewport">
          <div class="template-scrollcontent" data-scrollable>
            <div class="template-list">
              ${this._loading?(0,H.qy)`<affine-template-loading
                    style=${(0,Z.W)({position:"absolute",left:"50%",top:"50%"})}
                  ></affine-template-loading>`:(0,D.u)(i,e=>e.name,e=>{let t=e.preview?e.preview.startsWith("<svg")?(0,H.qy)`${(0,Ih.T)(e.preview)}`:(0,H.qy)`<img
                              src="${e.preview}"
                              class="template-preview"
                            />`:Id,i=s&&s.data.name===e.name;return(0,H.qy)`
                        <div
                          class=${`template-item ${e===this._loadingTemplate?"loading":""}`}
                          style=${(0,Z.W)({opacity:i?"0":"1"})}
                          data-hover-text="Add"
                          @mousedown=${i=>this.draggableController.onMouseDown(i,{data:e,preview:t})}
                          @touchstart=${i=>{this.draggableController.onTouchStart(i,{data:e,preview:t})}}
                        >
                          ${t}
                          ${e===this._loadingTemplate?(0,H.qy)`<affine-template-loading></affine-template-loading>`:H.s6}
                          ${e.name?(0,H.qy)`<affine-tooltip
                                .offset=${12}
                                tip-position="top"
                              >
                                ${e.name}
                              </affine-tooltip>`:H.s6}
                        </div>
                      `})}
            </div>
          </div>
          <overlay-scrollbar></overlay-scrollbar>
        </div>
        <div class="arrow">${Ia}</div>
      </div>
    `}#nO;get _categories(){return this.#nO}set _categories(e){this.#nO=e}#nP;get _currentCategory(){return this.#nP}set _currentCategory(e){this.#nP=e}#i8;get _loading(){return this.#i8}set _loading(e){this.#i8=e}#nA;get _loadingTemplate(){return this.#nA}set _loadingTemplate(e){this.#nA=e}#nH;get _searchKeyword(){return this.#nH}set _searchKeyword(e){this.#nH=e}#nL;get _templates(){return this.#nL}set _templates(e){this.#nL=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#nD;get isDragging(){return this.#nD}set isDragging(e){this.#nD=e}constructor(){super(...arguments),this._fetchJob=null,this.#nO=IM(this,p,[]),this.#nP=(IM(this,f),IM(this,g,"")),this.#i8=(IM(this,v),IM(this,y,!1)),this.#nA=(IM(this,b),IM(this,w,null)),this.#nH=(IM(this,x),IM(this,_,"")),this.#nL=(IM(this,C),IM(this,k,[])),this.#iE=(IM(this,S),IM(this,M,void 0)),this.#nD=(IM(this,E),IM(this,I,!1)),IM(this,B)}static{IM(t,h)}};return $=t})();var II=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},IB=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("edgeless-template-button")],s=[],o=MQ(H.WF),r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;II(this,null,[(0,L.wk)()],{kind:"accessor",name:"_openedPanel",static:!1,private:!1,access:{has:e=>"_openedPanel"in e,get:e=>e._openedPanel,set:(e,t)=>{e._openedPanel=t}},metadata:n},r,a),II(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    :host {
      position: relative;
      width: 100%;
      height: 100%;
    }

    edgeless-template-button {
      cursor: pointer;
    }

    .template-cards {
      width: 100%;
      height: 64px;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }
    .template-card,
    .arrow-icon {
      --x: 0;
      --y: 0;
      --r: 0;
      --s: 1;
      position: absolute;
      transform: translate(var(--x), var(--y)) rotate(var(--r)) scale(var(--s));
      transition: all 0.3s ease;
    }

    .arrow-icon {
      --y: 17px;
      background: var(--affine-black-10);
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .arrow-icon > svg {
      color: var(--affine-icon-color);
      fill: currentColor;
      width: 20px;
      height: 20px;
    }

    .template-card.card1 {
      transform-origin: 100% 50%;
      --x: 15px;
      --y: 8px;
    }
    .template-card.card2 {
      transform-origin: 0% 50%;
      --x: -17px;
    }
    .template-card.card3 {
      --y: 27px;
    }

    /* hover */
    .template-cards:not(.expanded):hover .card1 {
      --r: 8.69deg;
    }
    .template-cards:not(.expanded):hover .card2 {
      --r: -10.93deg;
    }
    .template-cards:not(.expanded):hover .card3 {
      --y: 22px;
      --r: 5.19deg;
    }

    /* expanded */
    .template-cards.expanded .card1 {
      --x: 17px;
      --y: -5px;
      --r: 8.69deg;
      --s: 0.64;
    }
    .template-cards.expanded .card2 {
      --x: -19px;
      --y: -6px;
      --r: -10.93deg;
      --s: 0.64;
    }
    .template-cards.expanded .card3 {
      --y: -10px;
      --s: 0.599;
      --r: 5.19deg;
    }
  `}_closePanel(){this._openedPanel&&(this._openedPanel.remove(),this._openedPanel=null,this._cleanup?.(),this._cleanup=null,this.requestUpdate(),this._prevTool&&"template"!==this._prevTool.type?(this.setEdgelessTool(this._prevTool),this._prevTool=null):this.setEdgelessTool({type:"default"}))}_togglePanel(){if(this._openedPanel){this._closePanel(),this._prevTool&&(this.setEdgelessTool(this._prevTool),this._prevTool=null);return}this._prevTool=this.edgelessTool?{...this.edgelessTool}:null,this.setEdgelessTool({type:"template"});let e=document.createElement("edgeless-templates-panel");e.edgeless=this.edgeless,this._cleanup=(0,lt.Oo)(e,"closepanel",()=>{this._closePanel()}),this._openedPanel=e,this.renderRoot.append(e),requestAnimationFrame(()=>{let t=e.renderRoot.querySelector(".arrow");(0,oG.ll)(this,e,()=>{(0,oG.rD)(this,e,{placement:"top",middleware:[(0,oG.cY)(20),(0,oG.UE)({element:t}),(0,oG.BN)()]}).then(({x:i,y:s,middlewareData:o})=>{e.style.left=`${i}px`,e.style.top=`${s}px`,t.style.left=`${(o.arrow?.x??0)-(o.shift?.x??0)}px`}).catch(e=>{console.warn("Can't compute position",e)})})})}render(){let{cards:e,_openedPanel:t}=this;return(0,H.qy)`<edgeless-toolbar-button @click=${this._togglePanel}>
      <div class="template-cards ${null!==t?"expanded":""}">
        <div class="arrow-icon">${ni}</div>
        ${(0,D.u)(e,(e,t)=>(0,H.qy)`
            <div
              class=${(0,oJ.H)({"template-card":!0,[`card${t+1}`]:!0})}
            >
              ${e}
            </div>
          `)}
      </div>
    </edgeless-toolbar-button>`}get cards(){let{theme:e}=this;return[In[e],Il[e],Ic[e]]}#nZ;get _openedPanel(){return this.#nZ}set _openedPanel(e){this.#nZ=e}constructor(){super(...arguments),this._cleanup=null,this._prevTool=null,this.enableActiveBackground=!0,this.type="template",this.#nZ=IB(this,r,null),IB(this,a)}static{IB(t,s)}})})();let I$=({edgeless:e})=>{let{doc:t}=e,i=[];return i.push({type:"default",content:(0,H.qy)`<edgeless-default-tool-button
      .edgeless=${e}
    ></edgeless-default-tool-button>`}),t.readonly||i.push({type:"frame",content:(0,H.qy)`<edgeless-frame-tool-button
        .edgeless=${e}
      ></edgeless-frame-tool-button>`,menu:Em(e)}),i.push({type:"connector",content:(0,H.qy)`<edgeless-connector-tool-button
      .edgeless=${e}
    ></edgeless-connector-tool-button>`,menu:Eo(e)}),i.push({content:(0,H.qy)`<edgeless-link-tool-button
      .edgeless=${e}
    ></edgeless-link-tool-button>`,menu:Ex(e)}),i},IT=({edgeless:e,toolbarContainer:t})=>{let{doc:i}=e,s=[];return i.readonly||s.push({name:"Note",content:(0,H.qy)`<edgeless-note-senior-button .edgeless=${e}>
      </edgeless-note-senior-button>`}),s.push({name:"Pen",content:(0,H.qy)`<div class="brush-and-eraser">
      <edgeless-brush-tool-button
        .edgeless=${e}
      ></edgeless-brush-tool-button>

      <edgeless-eraser-tool-button
        .edgeless=${e}
      ></edgeless-eraser-tool-button>
    </div> `}),s.push({name:"Shape",content:(0,H.qy)`<edgeless-shape-tool-button
      .edgeless=${e}
      .toolbarContainer=${t}
    ></edgeless-shape-tool-button>`}),s.push({name:"Mind Map",content:(0,H.qy)`<edgeless-mindmap-tool-button
      .edgeless=${e}
      .toolbarContainer=${t}
    ></edgeless-mindmap-tool-button>`}),s.push({name:"Template",content:(0,H.qy)`<edgeless-template-button .edgeless=${e}>
    </edgeless-template-button>`}),s};var IO=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},IP=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let IA=(()=>{let e,t,i,s,o,r,a,n,l=[(0,L.EM)("edgeless-toolbar")],c=[],d=(0,P.Tm)(H.WF),h=[],u=[],p=[],f=[],g=[],m=[],y=[],b=[],w=[],x=[],_=[],C=[];return class extends d{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.wk)()],r=[(0,L.wk)()],a=[(0,L.wk)()],n=[(0,L.P)(".edgeless-toolbar-container")],IO(this,null,i,{kind:"accessor",name:"containerWidth",static:!1,private:!1,access:{has:e=>"containerWidth"in e,get:e=>e.containerWidth,set:(e,t)=>{e.containerWidth=t}},metadata:v},h,u),IO(this,null,s,{kind:"accessor",name:"edgelessTool",static:!1,private:!1,access:{has:e=>"edgelessTool"in e,get:e=>e.edgelessTool,set:(e,t)=>{e.edgelessTool=t}},metadata:v},p,f),IO(this,null,o,{kind:"accessor",name:"presentFrameMenuShow",static:!1,private:!1,access:{has:e=>"presentFrameMenuShow"in e,get:e=>e.presentFrameMenuShow,set:(e,t)=>{e.presentFrameMenuShow=t}},metadata:v},g,m),IO(this,null,r,{kind:"accessor",name:"presentSettingMenuShow",static:!1,private:!1,access:{has:e=>"presentSettingMenuShow"in e,get:e=>e.presentSettingMenuShow,set:(e,t)=>{e.presentSettingMenuShow=t}},metadata:v},y,b),IO(this,null,a,{kind:"accessor",name:"scrollSeniorToolIndex",static:!1,private:!1,access:{has:e=>"scrollSeniorToolIndex"in e,get:e=>e.scrollSeniorToolIndex,set:(e,t)=>{e.scrollSeniorToolIndex=t}},metadata:v},w,x),IO(this,null,n,{kind:"accessor",name:"toolbarContainer",static:!1,private:!1,access:{has:e=>"toolbarContainer"in e,get:e=>e.toolbarContainer,set:(e,t)=>{e.toolbarContainer=t}},metadata:v},_,C),IO(null,e={value:t},l,{kind:"class",name:t.name,metadata:v},null,c),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    :host {
      font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};
      position: absolute;
      z-index: 1;
      left: calc(50%);
      transform: translateX(-50%);
      bottom: 0;
      -webkit-user-select: none;
      user-select: none;
      width: 100%;
      pointer-events: none;
    }
    .edgeless-toolbar-wrapper {
      width: 100%;
      display: flex;
      justify-content: center;
    }
    .edgeless-toolbar-toggle-control {
      pointer-events: auto;
      padding-bottom: 16px;
      width: fit-content;
      max-width: calc(100% - ${(0,H.iz)(64)}px * 2);
      min-width: 264px;
    }
    .edgeless-toolbar-toggle-control[data-enable='true'] {
      transition: 0.23s ease;
      padding-top: 100px;
      transform: translateY(100px);
    }
    .edgeless-toolbar-toggle-control[data-enable='true']:hover {
      padding-top: 0;
      transform: translateY(0);
    }

    .edgeless-toolbar-smooth-corner {
      display: block;
      width: fit-content;
      max-width: 100%;
    }
    .edgeless-toolbar-container {
      position: relative;
      display: flex;
      align-items: center;
      padding: 0 ${(0,H.iz)(12)}px;
      height: ${(0,H.iz)(64)}px;
    }
    :host([disabled]) .edgeless-toolbar-container {
      pointer-events: none;
    }
    .edgeless-toolbar-container[level='second'] {
      position: absolute;
      bottom: 8px;
      transform: translateY(-100%);
    }
    .edgeless-toolbar-container[hidden] {
      display: none;
    }
    .quick-tools {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: ${(0,H.iz)(10)}px;
    }
    .full-divider {
      width: ${(0,H.iz)(8)}px;
      height: 100%;
      margin: 0 ${(0,H.iz)(8)}px;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .full-divider::after {
      content: '';
      display: block;
      width: 1px;
      height: 100%;
      background-color: var(--affine-border-color);
    }
    .brush-and-eraser {
      display: flex;
      height: 100%;
      gap: 4px;
      justify-content: center;
    }
    .senior-tools {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: ${(0,H.iz)(0)}px;
      height: 100%;
      min-width: ${(0,H.iz)(96)}px;
    }
    .quick-tool-item {
      width: ${(0,H.iz)(36)}px;
      height: ${(0,H.iz)(36)}px;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-shrink: 0;
    }
    .quick-tool-more {
      width: 0;
      height: ${(0,H.iz)(36)}px;
      flex-shrink: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: all 0.23s ease;
      overflow: hidden;
    }
    [data-dense-quick='true'] .quick-tool-more {
      width: ${(0,H.iz)(20)}px;
      margin-left: ${(0,H.iz)(8)}px;
    }
    .quick-tool-more-button {
      padding: 0;
    }

    .senior-tool-item {
      width: ${(0,H.iz)(96)}px;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-shrink: 0;
    }
    .senior-nav-button-wrapper {
      flex-shrink: 0;
      width: 0px;
      height: ${(0,H.iz)(20)}px;
      transition: width 0.23s ease;
      overflow: hidden;
    }
    .senior-nav-button {
      padding: 0;
    }
    .senior-nav-button svg {
      width: 20px;
      height: 20px;
    }
    [data-dense-senior='true'] .senior-nav-button-wrapper {
      width: ${(0,H.iz)(20)}px;
    }
    [data-dense-senior='true'] .senior-nav-button-wrapper.prev {
      margin-right: ${(0,H.iz)(8)}px;
    }
    [data-dense-senior='true'] .senior-nav-button-wrapper.next {
      margin-left: ${(0,H.iz)(8)}px;
    }
    .transform-button svg {
      transition: 0.3s ease-in-out;
    }
    .transform-button:hover svg {
      transform: scale(1.15);
    }
  `}constructor(e){super(),this._moreQuickToolsMenu=null,this._moreQuickToolsMenuRef=null,this._onContainerResize=(0,A.sg)(({w:e})=>{this.slots.resize.emit({w:e,h:64}),this.containerWidth=e,this._denseSeniorTools?this.scrollSeniorToolIndex=Math.min(this._seniorTools.length-this.scrollSeniorToolSize,this.scrollSeniorToolIndex):this.scrollSeniorToolIndex=0,this._denseQuickTools&&this._moreQuickToolsMenu&&this._moreQuickToolsMenuRef&&(this._moreQuickToolsMenu.close(),this._openMoreQuickToolsMenu({currentTarget:this._moreQuickToolsMenuRef})),!this._denseQuickTools&&this._moreQuickToolsMenu&&(this._moreQuickToolsMenu.close(),this._moreQuickToolsMenu=null)},300),this._resizeObserver=null,this._slotsProvider=new MP.DT(this,{context:Mj,initialValue:{resize:new v.DX}}),this._themeProvider=new MP.DT(this,{context:MV,initialValue:im.z.Light}),this._toolbarProvider=new MP.DT(this,{context:MR,initialValue:this}),this.activePopper=null,this.setEdgelessTool=e=>{this.edgeless.tools.setEdgelessTool(e)},this.#nr=IP(this,h,1920),this.#a1=(IP(this,u),IP(this,p,{type:localStorage.defaultTool??"default"})),this.#nj=(IP(this,f),IP(this,g,!1)),this.#nV=(IP(this,m),IP(this,y,!1)),this.#nR=(IP(this,b),IP(this,w,0)),this.#a7=(IP(this,x),IP(this,_,void 0)),IP(this,C),this.edgeless=e}get _availableWidth(){return this.containerWidth-128}get _cachedPresentHideToolbar(){return!!this.edgeless.service.editPropsStore.getStorage("presentHideToolbar")}get _denseQuickTools(){return this._availableWidth-this._seniorToolNavWidth-96-24<this._quickToolsWidthTotal}get _denseSeniorTools(){return this._availableWidth-this._quickToolsWidthTotal-this._spaceWidthTotal<this._seniorToolsWidthTotal}get _enableAutoHide(){return this.isPresentMode&&this._cachedPresentHideToolbar&&!this.presentSettingMenuShow&&!this.presentFrameMenuShow}get _hiddenQuickTools(){return this._quickTools.slice(this._visibleQuickToolSize).filter(e=>!!e.menu)}_onSeniorNavNext(){this._seniorScrollNextDisabled||(this.scrollSeniorToolIndex=Math.min(this._seniorTools.length-this.scrollSeniorToolSize,this.scrollSeniorToolIndex+this.scrollSeniorToolSize))}_onSeniorNavPrev(){this._seniorScrollPrevDisabled||(this.scrollSeniorToolIndex=Math.max(0,this.scrollSeniorToolIndex-this.scrollSeniorToolSize))}_openMoreQuickToolsMenu(e){this._hiddenQuickTools.length&&(this._moreQuickToolsMenuRef=e.currentTarget,this._moreQuickToolsMenu=lD(e.currentTarget,{placement:"top",middleware:[(0,oG.cY)({mainAxis:30})],options:{onClose:()=>{this._moreQuickToolsMenu=null,this._moreQuickToolsMenuRef=null},items:this._hiddenQuickTools.map(e=>e.menu)}}))}get _quickTools(){return I$({edgeless:this.edgeless})}get _quickToolsWidthTotal(){return 46*this._quickTools.length-10}_renderContent(){return(0,H.qy)`
      <div class="quick-tools">
        ${this._quickTools.slice(0,this._visibleQuickToolSize).map(e=>(0,H.qy)`<div class="quick-tool-item">${e.content}</div>`)}
      </div>
      <div class="quick-tool-more">
        <icon-button
          ?disabled=${!this._denseQuickTools}
          .size=${20}
          class="quick-tool-more-button"
          @click=${this._openMoreQuickToolsMenu}
          ?active=${this._quickTools.slice(this._visibleQuickToolSize).some(e=>e.type===this.edgelessTool?.type)}
        >
          ${eq}
          <affine-tooltip tip-position="top" .offset=${25}>
            More Tools
          </affine-tooltip>
        </icon-button>
      </div>
      <div class="full-divider"></div>
      <div class="senior-nav-button-wrapper prev">
        <icon-button
          .size=${20}
          class="senior-nav-button"
          ?disabled=${this._seniorScrollPrevDisabled}
          @click=${this._onSeniorNavPrev}
        >
          ${ii}
          ${(0,wm.P)(this._seniorPrevTooltip?(0,H.qy)` <affine-tooltip tip-position="top" .offset=${4}>
                  ${this._seniorPrevTooltip}
                </affine-tooltip>`:H.s6)}
        </icon-button>
      </div>
      <div class="senior-tools">
        ${this._seniorTools.slice(this.scrollSeniorToolIndex,this.scrollSeniorToolIndex+this.scrollSeniorToolSize).map(e=>(0,H.qy)`<div class="senior-tool-item">${e.content}</div>`)}
      </div>
      <div class="senior-nav-button-wrapper next">
        <icon-button
          .size=${20}
          class="senior-nav-button"
          ?disabled=${this._seniorScrollNextDisabled}
          @click=${this._onSeniorNavNext}
        >
          ${tL}
          ${(0,wm.P)(this._seniorNextTooltip?(0,H.qy)` <affine-tooltip tip-position="top" .offset=${4}>
                  ${this._seniorNextTooltip}
                </affine-tooltip>`:H.s6)}
        </icon-button>
      </div>
    `}get _seniorNextTooltip(){if(this._seniorScrollNextDisabled)return"";let e=this._seniorTools[this.scrollSeniorToolIndex+this.scrollSeniorToolSize];return e?.name??""}get _seniorPrevTooltip(){if(this._seniorScrollPrevDisabled)return"";let e=this._seniorTools[this.scrollSeniorToolIndex-1];return e?.name??""}get _seniorScrollNextDisabled(){return this.scrollSeniorToolIndex+this.scrollSeniorToolSize>=this._seniorTools.length}get _seniorScrollPrevDisabled(){return 0===this.scrollSeniorToolIndex}get _seniorToolNavWidth(){return this._denseSeniorTools?56:0}get _seniorTools(){return IT({edgeless:this.edgeless,toolbarContainer:this.toolbarContainer})}get _seniorToolsWidthTotal(){return 96*this._seniorTools.length-0}get _spaceWidthTotal(){return 48}get _visibleQuickToolSize(){return this._denseQuickTools?Math.max(1,Math.floor((this._availableWidth-this._seniorToolNavWidth-this._spaceWidthTotal-96-20-8)/46)):this._quickTools.length}connectedCallback(){super.connectedCallback(),this._toolbarProvider.setValue(this),this._resizeObserver=new ResizeObserver(e=>{for(let t of e){let{width:e}=t.contentRect;this._onContainerResize({w:e})}}),this._resizeObserver.observe(this),this._disposables.add(im.Q.subscribe(e=>this._themeProvider.setValue(e))),this._disposables.add(this.edgeless.slots.edgelessToolUpdated.on(e=>{this.edgelessTool=e})),this._disposables.add(this.edgeless.bindHotKey({Escape:()=>{if(!this.edgeless.service.selection.editing&&"frameNavigator"!==this.edgelessTool.type){if("default"===this.edgelessTool.type){this.activePopper&&(this.activePopper.dispose(),this.activePopper=null);return}this.setEdgelessTool({type:"default"})}}},{global:!0}))}disconnectedCallback(){super.disconnectedCallback(),this._resizeObserver&&this._resizeObserver.disconnect()}firstUpdated(){let{_disposables:e,edgeless:t}=this;e.add(t.service.viewport.viewportUpdated.on(()=>this.requestUpdate())),e.add(t.slots.readonlyUpdated.on(()=>{this.requestUpdate()})),e.add(t.slots.toolbarLocked.on(e=>{this.toggleAttribute("disabled",e)})),e.add(this.edgeless.service.editPropsStore.slots.storageUpdated.on(({key:e})=>{"presentHideToolbar"===e&&this.requestUpdate()}))}render(){let{type:e}=this.edgelessTool||{};return this.edgeless.doc.readonly&&"frameNavigator"!==e?H.s6:(0,H.qy)`
      <div class="edgeless-toolbar-wrapper">
        <div
          class="edgeless-toolbar-toggle-control"
          data-enable=${this._enableAutoHide}
        >
          <smooth-corner
            class="edgeless-toolbar-smooth-corner"
            .borderRadius=${16}
            .smooth=${.7}
            .borderWidth=${1}
            .bgColor=${"var(--affine-background-overlay-panel-color)"}
            .borderColor=${"var(--affine-border-color)"}
            style="filter: drop-shadow(${(0,oY.Vg)("toolbarShadow")})"
          >
            <div
              class="edgeless-toolbar-container"
              data-dense-quick=${this._denseQuickTools&&this._hiddenQuickTools.length>0}
              data-dense-senior=${this._denseSeniorTools}
              @dblclick=${lt.dG}
              @mousedown=${lt.dG}
              @pointerdown=${lt.dG}
            >
              <presentation-toolbar
                .visible=${this.isPresentMode}
                .edgeless=${this.edgeless}
                .settingMenuShow=${this.presentSettingMenuShow}
                .frameMenuShow=${this.presentFrameMenuShow}
                .setSettingMenuShow=${e=>this.presentSettingMenuShow=e}
                .setFrameMenuShow=${e=>this.presentFrameMenuShow=e}
                .containerWidth=${this.containerWidth}
              ></presentation-toolbar>
              ${this.isPresentMode?H.s6:this._renderContent()}
            </div>
          </smooth-corner>
        </div>
      </div>
    `}get host(){return this.edgeless.host}get isPresentMode(){return"frameNavigator"===this.edgelessTool.type}get scrollSeniorToolSize(){if(this._denseQuickTools)return 1;let e=this._availableWidth-this._quickToolsWidthTotal-this._spaceWidthTotal;return e>=this._seniorToolsWidthTotal?this._seniorTools.length:Math.floor((e-56)/96)||1}get slots(){return this._slotsProvider.value}#nr;get containerWidth(){return this.#nr}set containerWidth(e){this.#nr=e}#a1;get edgelessTool(){return this.#a1}set edgelessTool(e){this.#a1=e}#nj;get presentFrameMenuShow(){return this.#nj}set presentFrameMenuShow(e){this.#nj=e}#nV;get presentSettingMenuShow(){return this.#nV}set presentSettingMenuShow(e){this.#nV=e}#nR;get scrollSeniorToolIndex(){return this.#nR}set scrollSeniorToolIndex(e){this.#nR=e}#a7;get toolbarContainer(){return this.#a7}set toolbarContainer(e){this.#a7=e}static{IP(t,c)}},t})();var IH=i(672);let IL="blocksuite/surface",ID="image/png",{GROUP:IZ,MINDMAP:Ij}=E.J9;class IV extends g_{constructor(e){super(e),this.host=e,this._blockConfigs=[],this._initEdgelessClipboard=()=>{this.host.handleEvent("copy",e=>{let{surfaceSelections:t,selectedIds:i}=this.selectionManager;if(0===i.length)return!1;this._onCopy(e,t)},{global:!0}),this.host.handleEvent("paste",e=>{this._onPaste(e).catch(console.error)},{global:!0}),this.host.handleEvent("cut",e=>{this._onCut(e)},{global:!0})},this._onCopy=(e,t)=>{e.get("clipboardState").raw.preventDefault();let i=gG(this.selectionManager.selectedElements,this.surface.edgeless.service.frame);if(t[0]&&t[0].editing){if(gN(i[0]))return;this.onPageCopy(e);return}this.std.clipboard.writeToClipboard(async e=>{let t=await IR(i,this.std);return{...e,[IL]:JSON.stringify(t)}}).catch(console.error)},this._onCut=e=>{let{surfaceSelections:t,selectedElements:i}=this.selectionManager;if(0===i.length)return;if(e.get("clipboardState").event.preventDefault(),this._onCopy(e,t),t[0]?.editing){if(gN(i[0]))return;this.onPageCut(e);return}let s=gG(this.selectionManager.selectedElements,this.surface.edgeless.service.frame);this.doc.transact(()=>{my(this.surface,s)}),this.selectionManager.set({editing:!1,elements:[]})},this._onPaste=async e=>{if(document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement)return;let t=e.get("clipboardState").raw;t.preventDefault();let{surfaceSelections:i,selectedElements:s}=this.selectionManager;if(i[0]?.editing){if(gN(s[0]))return;this.onPagePaste(e);return}let o=t.clipboardData;if(!o)return;let{lastMousePos:r}=this.toolManager,a=[r.x,r.y];if(function(e){let t=e.types;return 1===t.length&&"Files"===t[0]||2===t.length&&(t.includes("text/plain")||t.includes("text/html"))&&t.includes("Files")}(o)){let e=o.files;if(0===e.length)return;let t=[],i=[];[...e].forEach(e=>{e.type.startsWith("image/")?t.push(e):i.push(e)}),0===i.length?await this.host.addImages(t,a):await this.host.addAttachments([...e],a),this._rootService.telemetryService?.track("CanvasElementAdded",{control:"canvas:paste",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:0===i.length?"image":"attachment"});return}if(nR(o.getData("text/plain"))){let e=o.getData("text/plain"),{lastMousePos:t}=this.toolManager,[i,s]=this.host.service.viewport.toModelCoord(t.x,t.y),r=await this._rootService.quickSearchService?.searchDoc({action:"insert",userInput:e,skipSelection:!0}),a=r&&"docId"in r?r.docId:void 0,n=this._rootService.getEmbedBlockOptions(e),l=a?"affine:embed-linked-doc":n?n.flavour:"affine:bookmark",c=a?"vertical":n?n.styles[0]:wI.HO[0],d=fA.Cd[c],h=fA.Hn[c],u={xywh:m.z.fromCenter(iv.l.toVec({x:i,y:s}),d,h).serialize(),style:c};a?u.pageId=a:u.url=e;let p=this.host.service.addBlock(l,u,this.surface.model.id);this._rootService.telemetryService?.track("CanvasElementAdded",{control:"canvas:paste",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:l.split(":")[1]}),this._rootService.telemetryService?.track("LinkedDocCreated",{page:"whiteboard editor",segment:"whiteboard",category:"pasted link",other:"existing doc"}),this.selectionManager.set({editing:!1,elements:[p]});return}let n=function(e){let t=e.types;if(1===t.length&&"text/plain"!==t[0])return null;let i=new DOMParser().parseFromString(e.getData("text/plain"),"image/svg+xml"),s=i.documentElement;return"svg"===s.tagName&&s.hasAttribute("xmlns")?new File([new Blob([IH.sanitize(i.documentElement,{USE_PROFILES:{svg:!0}})],{type:"image/svg+xml"})],"pasted-image.svg",{type:"image/svg+xml"}):null}(o);if(n){await this.host.addImages([n],a);return}try{let e=this.std.clipboard.readFromClipboard(o),t=e[IL];if(void 0!==t){let{snapshot:e,blobs:i}=JSON.parse(t),s=new v._O({collection:this.std.collection}),o=s.assetsManager.getAssets();for(let e of(gp(i,o),o.keys()))await s.assetsManager.writeToBlob(e);await this._pasteShapesAndBlocks(e);return}let i=e[gf.MIME];if(void 0===i)return;let s=JSON.parse(i),r=s?.snapshot;await this._pasteTextContentAsNote(r.content)}catch(e){await this._pasteTextContentAsNote(o.getData("text/plain"))}},this.registerBlock("affine:note",this._createNoteBlocks),this.registerBlock("affine:edgeless-text",this._createEdgelessTextBlocks),this.registerBlock("affine:image",this._createImageBlocks),this.registerBlock("affine:frame",this._createFrameBlocks),this.registerBlock("affine:attachment",this._createAttachmentBlocks),this.registerBlock("affine:bookmark",this._createBookmarkBlocks),this.registerBlock("affine:embed-github",this._createGithubEmbedBlocks),this.registerBlock("affine:embed-youtube",this._createYoutubeEmbedBlocks),this.registerBlock("affine:embed-figma",this._createFigmaEmbedBlocks),this.registerBlock("affine:embed-linked-doc",this._createLinkedDocEmbedBlocks),this.registerBlock("affine:embed-synced-doc",this._createSyncedDocEmbedBlocks),this.registerBlock("affine:embed-html",this._createHtmlEmbedBlocks),this.registerBlock("affine:embed-loom",this._createLoomEmbedBlocks)}_checkCanContinueToCanvas(e,t,i){if(location.pathname!==t||(0,sc.zU)(e)!==i)throw Error("Unable to export content to canvas")}async _createAttachmentBlocks(e){let t=[];for(let{props:i}of e){let{xywh:e,rotate:s,sourceId:o,name:r,size:a,type:n,embed:l,style:c}=i;if(!await this.host.std.collection.blobSync.get(o))continue;let d=this.host.service.addBlock("affine:attachment",{xywh:e,rotate:s,sourceId:o,name:r,size:a,type:n,embed:l,style:c},this.surface.model.id);t.push(d)}return t}_createBookmarkBlocks(e){return e.map(({props:e})=>{let{xywh:t,style:i,url:s,caption:o,description:r,icon:a,image:n,title:l}=e;return this.host.service.addBlock("affine:bookmark",{xywh:t,style:i,url:s,caption:o,description:r,icon:a,image:n,title:l},this.surface.model.id)})}_createCanvasElement(e,t){if(e.type===IZ){let i=new v.rl.Y.Map;for(let[s,o]of Object.entries(e.children??{})){let e=t.get(s);(0,V.Z1)(e,"Copy failed: cannot find the copied child in group"),i.set(e,o)}e.children=i}if(e.type===Ij){let i=new v.rl.Y.Map;for(let[s,o]of Object.entries(e.children??{})){let e=t.get(s),r={...o};if((0,V.Z1)(e,"Copy failed: cannot find the copied node in mind map"),o.parent){let e=t.get(o.parent);(0,V.Z1)(e,"Copy failed: cannot find the copied node in mind map"),r.parent=e}i.set(e,r)}e.children=i}let i=this.host.service.addElement(e.type,e);this.host.service.telemetryService?.track("CanvasElementAdded",{control:"canvas:paste",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:e.type});let s=this.host.service.getElementById(i);return(0,V.Z1)(s),s}_createCanvasElements(e,t){let i=(0,ik.$z)(e,e=>{switch(e.type){case"connector":return"connectors";case"group":return"groups";case"mindmap":return"mindmaps";default:return"others"}});return[...i.others?.map(e=>{let i=e.id;V.Z1(i);let s=this._createCanvasElement(e,t);return t.set(i,s.id),s}).filter(e=>!!e)??[],...i.connectors?.map(e=>{let i=e.id,s=e.source.id;s&&(e.source.id=t.get(s)??s);let o=e.target.id;o&&(e.target.id=t.get(o)??o);let r=this._createCanvasElement(e,t);return t.set(i,r.id),r})??[],...i.groups?.map(e=>{let i=e.id;V.Z1(i);let s=this._createCanvasElement(e,t);return t.set(i,s.id),s})??[],...i.mindmaps?.map(e=>{let i=e.id;V.Z1(i);let s=this._createCanvasElement(e,t);return t.set(i,s.id),s})??[]]}async _createEdgelessTextBlocks(e,t){return(await Promise.all(e.map(async e=>{let i=e.id;if(delete e.props.index,!e.props.xywh)return console.error(`EdgelessText block(id: ${i}) does not have xywh property`),null;let s=await this.onBlockSnapshotPaste(e,this.doc,this.edgeless.surface.model.id);return s?(t.set(i,s),s):(console.error(`Failed to paste EdgelessText block(id: ${i})`),null)}))).filter(e=>null!==e)}_createFigmaEmbedBlocks(e){return e.map(({props:e})=>{let{xywh:t,style:i,url:s,caption:o,title:r,description:a}=e;return this.host.service.addBlock("affine:embed-figma",{xywh:t,style:i,url:s,caption:o,title:r,description:a},this.surface.model.id)})}_createFrameBlocks(e){return e.map(({props:e})=>{let{xywh:t,title:i,background:s}=e;return this.host.service.addBlock("affine:frame",{xywh:t,background:s,title:(0,v.rS)(i)},this.surface.model.id)})}_createGithubEmbedBlocks(e){return e.map(({props:e})=>{let{xywh:t,style:i,owner:s,repo:o,githubType:r,githubId:a,url:n,caption:l,image:c,status:d,statusReason:h,title:u,description:p,createdAt:f,assignees:g}=e;return this.host.service.addBlock("affine:embed-github",{xywh:t,style:i,owner:s,repo:o,githubType:r,githubId:a,url:n,caption:l,image:c,status:d,statusReason:h,title:u,description:p,createdAt:f,assignees:g},this.surface.model.id)})}_createHtmlEmbedBlocks(e){return e.map(({props:e})=>{let{xywh:t,style:i,caption:s,html:o,design:r}=e;return this.host.service.addBlock("affine:embed-html",{xywh:t,style:i,caption:s,html:o,design:r},this.surface.model.id)})}async _createImageBlocks(e,t){let i=[];for(let{props:s,id:o}of e){let{xywh:e,rotate:r,sourceId:a,size:n,width:l,height:c,caption:d}=s;if(!await this.host.std.collection.blobSync.get(a))continue;let h=this.host.service.addBlock("affine:image",{caption:d,sourceId:a,xywh:e,rotate:r,size:n,width:l,height:c},this.surface.model.id);o&&t.set(o,h),i.push(h)}return i}_createLinkedDocEmbedBlocks(e){return e.map(({props:e})=>{let{xywh:t,style:i,caption:s,pageId:o}=e;return this.host.service.addBlock("affine:embed-linked-doc",{xywh:t,style:i,caption:s,pageId:o},this.surface.model.id)})}_createLoomEmbedBlocks(e){return e.map(({props:e})=>{let{xywh:t,style:i,url:s,caption:o,videoId:r,image:a,title:n,description:l}=e;return this.host.service.addBlock("affine:embed-loom",{xywh:t,style:i,url:s,caption:o,videoId:r,image:a,title:n,description:l},this.surface.model.id)})}async _createNoteBlocks(e,t){return(await Promise.all(e.map(async e=>{let i=e.id;if(delete e.props.index,!e.props.xywh)return console.error(`Note block(id: ${i}) does not have xywh property`),null;let s=await this.onBlockSnapshotPaste(e,this.doc,this.doc.root.id);return s?(t.set(i,s),s):(console.error(`Failed to paste note block(id: ${i})`),null)}))).filter(e=>null!==e)}_createSyncedDocEmbedBlocks(e){return e.map(({props:e})=>{let{xywh:t,style:i,caption:s,scale:o,pageId:r}=e;return this.host.service.addBlock("affine:embed-synced-doc",{xywh:t,style:i,caption:s,scale:o,pageId:r},this.surface.model.id)})}_createYoutubeEmbedBlocks(e){return e.map(({props:e})=>{let{xywh:t,style:i,url:s,caption:o,videoId:r,image:a,title:n,description:l,creator:c,creatorUrl:d,creatorImage:h}=e;return this.host.service.addBlock("affine:embed-youtube",{xywh:t,style:i,url:s,caption:o,videoId:r,image:a,title:n,description:l,creator:c,creatorUrl:d,creatorImage:h},this.surface.model.id)})}async _edgelessToCanvas(e,t,s,o=[],{background:r,padding:a=5,dpr:n=window.devicePixelRatio||1}={}){let l=e.host;if(!this.doc.root)return;let c=(await i.e(421).then(i.t.bind(i,72052,19))).default;if(!(c instanceof Function))return;let d=location.pathname,h=(0,sc.zU)(l),u=(0,sc.$n)(l);if((0,V.Z1)(u),!u.querySelector(".affine-block-children-container"))return;let p=document.createElement("canvas");p.width=(t.w+2*a)*n,p.height=(t.h+2*a)*n;let f=p.getContext("2d");if(!f)return;r&&(f.fillStyle=r,f.fillRect(0,0,p.width,p.height)),f.scale(n,n);let g=this._exportManager.replaceImgSrcWithSvg,v=this._replaceRichTextWithSvgElement.bind(this),y=l.std.clipboard.configs.get("imageProxy"),b={ignoreElements:function(e){return!!(fA.PT.includes(e.tagName)||e.classList.contains("dg"))},onclone:async function(e,t){t.style.setProperty("transform","none");let i=e.querySelector(".affine-edgeless-layer");i&&i instanceof HTMLElement&&i.style.setProperty("transform","none"),e.querySelectorAll("[style*='box-shadow']").forEach(function(e){e instanceof HTMLElement&&e.style.setProperty("box-shadow","none")}),await g(t),await v(t)},backgroundColor:"transparent",useCORS:!y,proxy:y},w=async(e,i=!1)=>{let s=sc.Au(e,this.std.view)?.parentElement,o=e.flavour.replace("affine:",".edgeless-block-portal-");if(!(s=s?.closest(o)))throw Error("Could not find edgeless block portal.");let r=m.z.deserialize(e.xywh),n=await c(s,b);f.drawImage(n,r.x-t.x+a,r.y-t.y+a,r.w,i?r.w/n.width*n.height:r.h)};for(let i of s??e.service.pickElementsByBound(t,"blocks")){if(await w(i),(0,st.op)(i,["affine:frame"])){let e=[];this.edgeless.service.frame.getElementsInFrame(i,!1).forEach(t=>{g$(t)?e.push(t):o.push(t)});for(let t=0;t<e.length;t++){let i=e[t];await w(i,!0)}}this._checkCanContinueToCanvas(l,d,h)}let x=e.surface.renderer.getCanvasByBound(t,o);return f.drawImage(x,a,a,t.w,t.h),p}_elementToSvgElement(e,t,i){let s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),r=document.createElementNS(s,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${i}`),o.setAttribute("viewBox",`0 0 ${t} ${i}`),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("x","0"),r.setAttribute("y","0"),r.setAttribute("externalResourcesRequired","true"),o.append(r),r.append(e),o}_emitSelectionChangeAfterPaste(e,t){let i=[...e,...t.filter(e=>g$(this.doc.getBlockById(e)))];this.selectionManager.set({editing:!1,elements:i})}get _exportManager(){return this._rootService.exportManager}async _pasteShapesAndBlocks(e){let{canvasElements:t,blockModels:i}=await this.createElementsFromClipboardData(e);this._emitSelectionChangeAfterPaste(t.map(e=>e.id),i.map(e=>e.id))}async _pasteTextContentAsNote(e){let t=this.host,{lastMousePos:i}=this.toolManager,[s,o]=t.service.viewport.toModelCoord(i.x,i.y),r={xywh:new m.z(s,o,448,72).serialize()},a=t.service.addBlock("affine:note",r,this.doc.root.id);if(t.service.telemetryService?.track("CanvasElementAdded",{control:"canvas:paste",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:"note"}),"string"==typeof e)e.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n").split("\n").forEach((e,i)=>{t.service.addBlock("affine:paragraph",{text:new v.rl.Y.Text(e)},a,i)});else for(let t=0;t<e.length;t++)await this.onBlockSnapshotPaste(e[t],this.doc,a,t);t.service.selection.set({elements:[a],editing:!1}),t.tools.setEdgelessTool({type:"default"})}async _replaceRichTextWithSvgElement(e){let t=Array.from(e.querySelectorAll(".inline-editor"));await Promise.all(t.map(e=>{let t=this._elementToSvgElement(e.cloneNode(!0),e.clientWidth,e.clientHeight+1);e.parentElement?.append(t),e.remove()}))}get _rootService(){return this.std.spec.getService("affine:page")}_updatePastedElementsIndex(e,t){let i=this.edgeless.service.layer.createIndexGenerator(!0);e.sort(function(e,i){if(e instanceof k.$b&&e.hasDescendant(i))return s.BEFORE;if(i instanceof k.$b&&i.hasDescendant(e))return s.AFTER;{let o=e.groups,r=i.groups,a=1,n=(0,ik.E7)(o,a),l=(0,ik.E7)(r,a);for(;n===l&&n;)++a,n=(0,ik.E7)(o,a),l=(0,ik.E7)(r,a);return n=n??e,l=l??i,t.get(n.id)===t.get(l.id)?s.SAME:t.get(n.id)<t.get(l.id)?s.BEFORE:s.AFTER}}).forEach(e=>{let t=i(g$(e)?e.flavour:e.type);this.edgeless.service.updateElement(e.id,{index:t})})}get doc(){return this.host.doc}get edgeless(){return this.surface.edgeless}get selectionManager(){return this.host.service.selection}get std(){return this.host.std}get surface(){return this.host.surface}get toolManager(){return this.host.tools}copy(){document.dispatchEvent(new Event("copy",{bubbles:!0,cancelable:!0}))}async copyAsPng(e,t){if(e.length+t.length===0)return;let i=await this.toCanvas(e,t);if((0,V.Z1)(i),window.apis?.clipboard?.copyAsImageFromString)await window.apis.clipboard?.copyAsImageFromString(i.toDataURL(ID));else{let e=await new Promise((e,t)=>i.toBlob(i=>i?e(i):t("Canvas can not export blob"),ID));(0,V.Z1)(e),this.std.clipboard.writeToClipboard(t=>({...t,[ID]:e})).catch(console.error)}}async createElementsFromClipboardData(e,t){let i=new Map,s=[],o=[];e.forEach(e=>{let{data:t}=v.T1.safeParse(e);if(t){let e=t.props;i.set(t.id,e.index),s.push(t)}else i.set(e.id,e.index),o.push(e)});let r=new Map,a=[];for(let e of this._blockConfigs){let t=s.filter(t=>t.flavour===e.flavour),i=await e.createFunction(t,r);a.push(...i)}let n=a.flatMap(e=>this.host.doc.getBlock(e)?.model??[]),l=this._createCanvasElements(o,r),c=[...n,...l],{lastMousePos:d}=this.toolManager,[h,u]=t=t??this.host.service.viewport.toModelCoord(d.x,d.y),p=gI(c),f=h-p.w/2,g=u-p.h/2;return n.forEach(e=>{let t=m.z.deserialize(e.xywh);t.x+=f-p.x,t.y+=g-p.y,this.edgeless.service.updateElement(e.id,{xywh:t.serialize()})}),l.forEach(e=>{let t=new m.z(f+e.x-p.x,g+e.y-p.y,e.w,e.h);e instanceof S.lw?e.moveTo(t):this.host.service.updateElement(e.id,{xywh:t.serialize()})}),i.forEach((e,t)=>{let s=r.get(t);s&&i.set(s,e)}),this._updatePastedElementsIndex(c,i),{canvasElements:l,blockModels:n}}hostConnected(){this._disposables.disposed&&(this._disposables=new ix.K),this._init(),this._initEdgelessClipboard()}registerBlock(e,t){this._blockConfigs.push({flavour:e,createFunction:t.bind(this)})}async toCanvas(e,t,i){e.sort(iA),t.sort(iA);let s=[];e.forEach(e=>{s.push(m.z.deserialize(e.xywh))}),t.forEach(e=>{s.push((0,iH.e0)(e.elementBound))});let o=(0,iY.ql)(s);return(0,V.Z1)(o,"bound not exist"),await this._edgelessToCanvas(this.host,o,e,t,i)}}async function IR(e,t){let i=new v._O({collection:t.collection}),s=await Promise.all(e.map(async t=>{let s=await gK(t,e,i);if(s)return(gH(t)||gA(t))&&await i.assetsManager.readFromBlob(s.props.sourceId),s})),o=await gu(i.assetsManager.getAssets());return{snapshot:s.filter(e=>!!e),blobs:o}}class Iz extends mL{constructor(){super(...arguments),this._draggingElement=null,this._draggingElementId=null,this._draggingPathPoints=null,this._draggingPathPressures=null,this._lastPoint=null,this._lastPopLength=0,this._pressureSupportedPointerIds=new Set,this._straightLineType=null,this.tool={type:"brush"}}static{this.BRUSH_POP_GAP=20}_getStraightLineType(e){let t=this._lastPoint;if(!t)return null;let i=e[0]-t[0],s=Math.abs(Math.atan2(e[1]-t[1],i));return s<Math.PI/4||s>Math.PI/4*3?"horizontal":"vertical"}_tryGetPressurePoints(e){(0,V.Z1)(this._draggingPathPressures);let t=[...this._draggingPathPressures,e.pressure];this._draggingPathPressures=t;let i=e.raw.pointerId;t.some(e=>e!==t[0])&&this._pressureSupportedPointerIds.add(i),(0,V.Z1)(this._draggingPathPoints);let s=this._draggingPathPoints;return this._pressureSupportedPointerIds.has(i)?s.map(([e,i],s)=>[e,i,t[s]]):s}afterModeSwitch(){(0,A.lQ)()}beforeModeSwitch(){(0,A.lQ)()}onContainerClick(){(0,A.lQ)()}onContainerContextMenu(){(0,A.lQ)()}onContainerDblClick(){(0,A.lQ)()}onContainerDragEnd(){if(this._draggingElement){let{_draggingElement:e}=this;this._doc.withoutTransact(()=>{e.pop("points"),e.pop("xywh")})}this._draggingElement=null,this._draggingElementId=null,this._draggingPathPoints=null,this._draggingPathPressures=null,this._lastPoint=null,this._straightLineType=null,this._doc.captureSync()}onContainerDragMove(e){if(!this._draggingElementId)return;(0,V.Z1)(this._draggingElementId),(0,V.Z1)(this._draggingPathPoints);let t=e.point.x,i=e.point.y;e.keys.shift||this._edgeless.tools.shiftKey?(this._straightLineType||(this._straightLineType=this._getStraightLineType([t,i])),"horizontal"===this._straightLineType?i=this._lastPoint?.[1]??i:"vertical"===this._straightLineType&&(t=this._lastPoint?.[0]??t)):this._straightLineType&&(this._straightLineType=null);let[s,o]=this._service.viewport.toModelCoord(t,i),r=[...this._draggingPathPoints,[s,o]];this._lastPoint=[t,i],this._draggingPathPoints=r,this._edgeless.service.updateElement(this._draggingElementId,{points:this._tryGetPressurePoints(e)}),this._lastPopLength+Iz.BRUSH_POP_GAP<this._draggingElement.points.length&&(this._lastPopLength=this._draggingElement.points.length,this._doc.withoutTransact(()=>{this._draggingElement.pop("points"),this._draggingElement.pop("xywh")}),this._draggingElement.stash("points"),this._draggingElement.stash("xywh"))}onContainerDragStart(e){this._doc.captureSync();let{viewport:t}=this._edgeless.service,[i,s]=t.toModelCoord(e.point.x,e.point.y),o=[[i,s]],r=this._service.addElement(E.J9.BRUSH,{points:o});this._service.telemetryService?.track("CanvasElementAdded",{control:"canvas:draw",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:E.J9.BRUSH});let a=this._service.getElementById(r);a.stash("points"),a.stash("xywh"),this._lastPoint=[e.point.x,e.point.y],this._draggingElementId=r,this._draggingElement=a,this._draggingPathPoints=o,this._draggingPathPressures=[e.pressure],this._lastPopLength=0}onContainerMouseMove(){(0,A.lQ)()}onContainerMouseOut(){(0,A.lQ)()}onContainerPointerDown(){(0,A.lQ)()}onContainerTripleClick(){(0,A.lQ)()}onPressShiftKey(e){(0,A.lQ)()}onPressSpaceBar(e){(0,A.lQ)()}}!function(e){e[e.Dragging=0]="Dragging",e[e.Quick=1]="Quick"}(d||(d={}));class IF extends mL{constructor(){super(...arguments),this._allowCancel=!1,this._connector=null,this._mode=d.Dragging,this._source=null,this._sourceBounds=null,this._sourceLocations=gE.Zv,this._startPoint=null,this.tool={type:"connector"}}_createConnector(){if(!(this._source&&this._startPoint)){this._source=null,this._startPoint=null;return}this._doc.captureSync();let e=this._edgeless.service.addElement(E.J9.CONNECTOR,{mode:this.tool.mode,controllers:[],source:this._source,target:{position:this._startPoint}});this._edgeless.service.telemetryService?.track("CanvasElementAdded",{control:"canvas:draw",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:E.J9.CONNECTOR});let t=this._edgeless.service.getElementById(e);if(!t){this._source=null,this._startPoint=null;return}this._connector=t}afterModeSwitch(){(0,A.lQ)()}beforeModeSwitch(e){if("connector"===e.type)return;let t=this._connector?.id;this._allowCancel&&t&&this._edgeless.service.removeElement(t),this._surface.overlays.connector.clear(),this._mode=d.Dragging,this._connector=null,this._source=null,this._sourceBounds=null,this._startPoint=null,this._allowCancel=!1}findTargetByPoint(e){if(!this._connector)return;let{_connector:t,_edgeless:i,_surface:{overlays:s},_service:{viewport:o}}=this;e=o.toModelCoord(e[0],e[1]);let r=[];t.source?.id&&r.push(t.source.id);let a=s.connector.renderConnector(e,r);i.service.updateElement(t.id,{target:a})}onContainerClick(){if(this._mode===d.Dragging||!this._connector)return;let{id:e,source:t,target:i}=this._connector,s=e;t?.id&&!i?.id&&(s=t.id,this._allowCancel=!0),this._edgeless.tools.switchToDefaultMode({elements:[s],editing:!1})}onContainerContextMenu(){(0,A.lQ)()}onContainerDblClick(){(0,A.lQ)()}onContainerDragEnd(){this._mode!==d.Quick&&this._connector&&(this._doc.captureSync(),this._edgeless.tools.switchToDefaultMode({elements:[this._connector.id],editing:!1}))}onContainerDragMove(e){this.findTargetByPoint([e.x,e.y])}onContainerDragStart(){this._mode!==d.Quick&&this._createConnector()}onContainerMouseMove(e){if(this._mode===d.Dragging||!this._sourceBounds||!this._connector)return;let t=this._connector.source?.id;if(!t)return;let i=this._service.viewport.toModelCoord(e.x,e.y),s=this._surface.overlays.connector.renderConnector(i,[t]);this._allowCancel=!s.id,this._connector.source.position=(0,gE.ML)(i,this._sourceBounds,this._sourceLocations),this._edgeless.service.updateElement(this._connector.id,{target:s,source:this._connector.source})}onContainerMouseOut(){(0,A.lQ)()}onContainerPointerDown(e){this._startPoint=this._service.viewport.toModelCoord(e.x,e.y),this._source=this._surface.overlays.connector.renderConnector(this._startPoint)}onContainerTripleClick(){(0,A.lQ)()}onPressShiftKey(e){(0,A.lQ)()}onPressSpaceBar(e){(0,A.lQ)()}quickConnect(e,t){this._startPoint=this._service.viewport.toModelCoord(e[0],e[1]),this._mode=d.Quick,this._sourceBounds=m.z.deserialize(t.xywh),this._sourceBounds.rotate=t.rotate,this._sourceLocations=t instanceof b.B5&&t.shapeType===O.IO.Triangle?gE.SP:gE.Zv,this._source={id:t.id,position:(0,gE.ML)(this._startPoint,this._sourceBounds,this._sourceLocations)},this._allowCancel=!0,this._createConnector(),t instanceof M.$&&(this._surface.overlays.connector.sourceBounds=this._sourceBounds),this.findTargetByPoint(e)}}class IN extends mL{constructor(){super(...arguments),this._dragging=!1,this.dragLastPoint=[0,0],this.dragStartPoint=[0,0],this.draggingAreaUpdated=new v.DX,this.tool={type:"copilot"}}_initDragState(e){this.dragStartPoint=this._service.viewport.toModelCoord(e.x,e.y),this.dragLastPoint=this.dragStartPoint}abort(){this._dragging=!1,this.dragStartPoint=[0,0],this.dragLastPoint=[0,0],this._edgeless.tools.setEdgelessTool({type:"default"})}afterModeSwitch(){}beforeModeSwitch(e){this._service.locked=e?.type==="copilot"}onContainerClick(){}onContainerContextMenu(){}onContainerDblClick(){}onContainerDragEnd(){this._dragging&&(this._dragging=!1,this.draggingAreaUpdated.emit(!0))}onContainerDragMove(e){if(!this._dragging)return;this.dragLastPoint=this._service.viewport.toModelCoord(e.x,e.y);let t=this.area,i=new m.z(t.x,t.y,t.width,t.height);if(t.width&t.height){let e=new Set(this._service.pickElementsByBound(i));this.selection.set({elements:Array.from(e).map(e=>e.id),editing:!1,inoperable:!0})}this.draggingAreaUpdated.emit()}onContainerDragStart(e){this.processing||(this._initDragState(e),this._dragging=!0,this.draggingAreaUpdated.emit())}onContainerMouseMove(){}onContainerMouseOut(){}onContainerPointerDown(e){if(this.processing){e.raw.stopPropagation();return}this._edgeless.tools.setEdgelessTool({type:"default"})}onContainerTripleClick(){}onPressShiftKey(){}onPressSpaceBar(){}updateDragPointsWith(e,t=0){let i=(0,iY.qZ)(e.map(e=>e.elementBound)).expand(t/this._edgeless.service.zoom);this.dragStartPoint=i.tl,this.dragLastPoint=i.br}updateSelectionWith(e,t=0){let{selection:i}=this._edgeless.service;i.clear(),this.updateDragPointsWith(e,t),i.set({elements:e.map(e=>e.id),editing:!1,inoperable:!0}),this.draggingAreaUpdated.emit(!0)}get area(){let e=new DOMPoint(this.dragStartPoint[0],this.dragStartPoint[1]),t=new DOMPoint(this.dragLastPoint[0],this.dragLastPoint[1]),i=Math.min(e.x,t.x),s=Math.min(e.y,t.y);return new DOMRect(i,s,Math.max(e.x,t.x)-i,Math.max(e.y,t.y)-s)}get processing(){let e=this._edgeless.host.view.getWidget(_c,this._edgeless.doc.root.id);return e&&"hidden"!==e.state}get selectedElements(){return this.selection.selectedElements}get selection(){return this._edgeless.service.selection}}class Iq extends _.h{constructor(){super(...arguments),this.d=""}render(e){e.globalAlpha=.33;let t=new Path2D(this.d);e.fillStyle="#aaa",e.fill(t)}}class IU extends mL{constructor(){super(...arguments),this._erasables=new Set,this._eraseTargets=new Set,this._eraserPoints=[],this._loop=()=>{let e=Date.now(),t=e-this._timestamp,i=!1;if(this._prevEraserPoint!==this._prevPoint&&(i=!0,this._eraserPoints.push(this._prevPoint),this._prevEraserPoint=this._prevPoint),t>32&&this._eraserPoints.length>1&&(i=!0,this._eraserPoints.splice(0,Math.ceil(.1*this._eraserPoints.length)),this._timestamp=e),i){let e=this._service.viewport.zoom,t=(0,iH.op)((0,iG.$)(this._eraserPoints,{size:16/e,start:{taper:!0}}));this._overlay.d=t,this._edgeless.surface.refresh()}this._timer=requestAnimationFrame(this._loop)},this._overlay=new Iq,this._prevEraserPoint=[0,0],this._prevPoint=[0,0],this._timer=0,this._timestamp=0,this.tool={type:"eraser"}}_reset(){cancelAnimationFrame(this._timer),this._edgeless.surface.renderer.removeOverlay(this._overlay),this._erasables.clear(),this._eraseTargets.clear()}toModelCoord(e){return this._service.viewport.toModelCoord(e.x,e.y)}afterModeSwitch(e){(0,A.lQ)()}beforeModeSwitch(){this._eraseTargets.forEach(e=>{if(g$(e)){let t=this._edgeless.host.view.viewFromPath("block",(0,st.UL)(e));t&&(t.style.opacity="1")}else e.opacity=1}),this._reset()}onContainerClick(){(0,A.lQ)()}onContainerContextMenu(){(0,A.lQ)()}onContainerDblClick(){(0,A.lQ)()}onContainerDragEnd(){my(this._surface,Array.from(this._eraseTargets)),this._reset(),this._doc.captureSync()}onContainerDragMove(e){let t=this.toModelCoord(e.point);this._erasables.forEach(e=>{if(!this._eraseTargets.has(e)){if(g$(e)){let i=m.z.deserialize(e.xywh);if((0,iH.Dx)(this._prevPoint,t,i.points)){this._eraseTargets.add(e);let t=this._edgeless.host.view.viewFromPath("block",(0,st.UL)(e));t&&(t.style.opacity="0.3")}}else e.getLineIntersections(this._prevPoint,t)&&(this._eraseTargets.add(e),e.opacity=.3)}}),this._prevPoint=t}onContainerDragStart(e){this._doc.captureSync();let{point:t}=e,[i,s]=this.toModelCoord(t);this._eraserPoints=[[i,s]],this._prevPoint=[i,s],this._erasables=new Set([...this._service.elements,...this._service.blocks]),this._loop(),this._edgeless.surface.renderer.addOverlay(this._overlay)}onContainerMouseMove(){(0,A.lQ)()}onContainerMouseOut(){(0,A.lQ)()}onContainerPointerDown(){(0,A.lQ)()}onContainerTripleClick(){(0,A.lQ)()}onPressShiftKey(e){(0,A.lQ)()}onPressSpaceBar(e){(0,A.lQ)()}}class IW extends mL{constructor(){super(...arguments),this.tool={type:"frameNavigator"}}afterModeSwitch(){(0,A.lQ)()}beforeModeSwitch(){(0,A.lQ)()}onContainerClick(){(0,A.lQ)()}onContainerContextMenu(){(0,A.lQ)()}onContainerDblClick(){(0,A.lQ)()}onContainerDragEnd(){(0,A.lQ)()}onContainerDragMove(){(0,A.lQ)()}onContainerDragStart(){(0,A.lQ)()}onContainerMouseMove(){(0,A.lQ)()}onContainerMouseOut(){(0,A.lQ)()}onContainerPointerDown(){(0,A.lQ)()}onContainerTripleClick(){(0,A.lQ)()}onPressShiftKey(){(0,A.lQ)()}onPressSpaceBar(e){(0,A.lQ)()}}class IG extends mL{constructor(){super(...arguments),this._frame=null,this._startPoint=null,this.tool={type:"frame"}}_toModelCoord(e){return this._service.viewport.toModelCoord(e.x,e.y)}afterModeSwitch(){(0,A.lQ)()}beforeModeSwitch(){(0,A.lQ)()}onContainerClick(){(0,A.lQ)()}onContainerContextMenu(){(0,A.lQ)()}onContainerDblClick(){(0,A.lQ)()}onContainerDragEnd(){if(this._frame){let e=this._frame;this._doc.transact(()=>{e.pop("xywh")}),this._edgeless.tools.setEdgelessTool({type:"default"}),this._edgeless.service.selection.set({elements:[this._frame.id],editing:!1}),this._doc.captureSync()}this._frame=null,this._startPoint=null}onContainerDragMove(e){let t=this._toModelCoord(e.point);if((0,V.Z1)(this._startPoint),!(8>iv.l.dist(this._startPoint,t))||this._frame){if(!this._frame){let e=this._service.frames,i=this._service.addBlock("affine:frame",{title:new v.rl.Y.Text(`Frame ${e.length+1}`),xywh:m.z.fromPoints([this._startPoint,t]).serialize()},this._service.surface);this._service.telemetryService?.track("CanvasElementAdded",{control:"canvas:draw",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:"frame"}),this._frame=this._service.getElementById(i),this._frame.stash("xywh");return}(0,V.Z1)(this._frame),this._service.updateElement(this._frame.id,{xywh:m.z.fromPoints([this._startPoint,t]).serialize()})}}onContainerDragStart(e){this._doc.captureSync();let{point:t}=e;this._startPoint=this._toModelCoord(t)}onContainerMouseMove(){(0,A.lQ)()}onContainerMouseOut(){(0,A.lQ)()}onContainerPointerDown(){(0,A.lQ)()}onContainerTripleClick(){(0,A.lQ)()}onPressShiftKey(){(0,A.lQ)()}onPressSpaceBar(e){(0,A.lQ)()}}class IY extends _.h{constructor(){super(...arguments),this.d="",this.startPoint=null}render(e){let t=new Path2D(this.d),i=this._renderer?.viewport.zoom??1;e.save();let s=im.Q.getPropertyValue("--affine-primary-color"),o=im.Q.getPropertyValue("--affine-secondary-color");if(this.startPoint){let[t,o]=this.startPoint;e.beginPath(),e.arc(t,o,2/i,0,2*Math.PI),e.fillStyle=s,e.fill()}e.strokeStyle=o,e.fillStyle="rgba(255, 255, 255, 0.1)",e.lineWidth=2/i,e.lineJoin="round",e.lineCap="round",e.setLineDash([2,5]),e.fill(t),e.stroke(t),e.restore()}}class IK extends mL{constructor(){super(...arguments),this._currentSelectionState=new Set,this._isSelecting=!1,this._lassoPoints=[],this._lastPoint=[0,0],this._loop=()=>{let e=this.tool.mode===q.yN.FreeHand?(0,iH.op)(this._lassoPoints):(0,iH.hr)(this._lassoPoints);this._overlay.d=e,this._surface.refresh(),this._raf=requestAnimationFrame(this._loop)},this._overlay=new IY,this._raf=0,this.tool={type:"lasso"}}_clearLastSelection(){this.selection.empty&&this.selection.clearLast()}_getElementsInsideLasso(){let e=(0,iY.O3)(this._lassoPoints);return this._service.pickElementsByBound(e).filter(e=>this.isInsideLassoSelection(m.z.deserialize(e.xywh),e.rotate))}_getSelectionMode(e){let t=e.keys.shift??this._edgeless.tools.shiftKey,i=e.keys.alt??!1;return t?"add":i?"sub":"set"}_reset(){cancelAnimationFrame(this._raf),this._edgeless.surface.renderer.removeOverlay(this._overlay),this._overlay.d="",this._overlay.startPoint=null;let e=this._getElementsInsideLasso();this._currentSelectionState=new Set([...Array.from(this._currentSelectionState),...e.map(e=>e.id)]),this._lassoPoints=[],this._isSelecting=!1}_setSelectionState(e,t){this.selection.set({elements:e,editing:t})}_updateSelection(e){let t;let i=this._getElementsInsideLasso().map(e=>e.id),s=this.selection.selectedElements.map(e=>e.id);switch(this._getSelectionMode(e)){case"add":t=new Set([...i,...s.filter(e=>this._currentSelectionState.has(e))]);break;case"sub":{let e=new Set(i);t=new Set(Array.from(this._currentSelectionState).filter(t=>!e.has(t)));break}case"set":t=new Set(i)}this._setSelectionState(Array.from(t),!1)}isInsideLassoSelection(e,t){let{points:i,center:s}=e,o=this._lassoPoints[0],r=this._lassoPoints.concat(o?[o]:[]),a=(0,iH.Hb)(i,s,t),n=r.length;return a.some(e=>(0,iH.s3)(e,r))||r.some((e,t,i)=>(0,iH.Dx)(e,i[(t+1)%n],a))}toModelCoord(e){return this._service.viewport.toModelCoord(e.x,e.y)}abort(){this._reset()}afterModeSwitch(e){e?.type==="lasso"&&(this._currentSelectionState=new Set(this.selection.selectedElements.map(e=>e.id))),this._reset()}beforeModeSwitch(e){e?.type==="pan"&&this._clearLastSelection()}onContainerClick(){}onContainerContextMenu(){(0,A.lQ)()}onContainerDblClick(){(0,A.lQ)()}onContainerDragEnd(e){this.tool.mode===q.yN.FreeHand&&(this._updateSelection(e),this._reset())}onContainerDragMove(e){if(this.tool.mode!==q.yN.FreeHand)return;let{point:t}=e,[i,s]=this.toModelCoord(t);this._lassoPoints.push([i,s]),this._updateSelection(e)}onContainerDragStart(e){if(this.tool.mode!==q.yN.FreeHand)return;let{alt:t,shift:i}=e.keys;i||t||(this._currentSelectionState.clear(),this.selection.clear()),this._currentSelectionState=new Set(this.selection.selectedElements.map(e=>e.id)),this._isSelecting=!0;let{point:s}=e,[o,r]=this.toModelCoord(s);this._lassoPoints=[[o,r]],this._raf=requestAnimationFrame(this._loop),this._overlay.startPoint=this._lassoPoints[0],this._surface.renderer.addOverlay(this._overlay)}onContainerMouseMove(e){if(this.tool.mode!==q.yN.Polygonal||!this._isSelecting)return;let t=this._lastPoint,[i,s]=this.toModelCoord(e.point);t&&(t[0]=i,t[1]=s),this._updateSelection(e)}onContainerMouseOut(){(0,A.lQ)()}onContainerPointerDown(e){let{mode:t}=this.tool;if(t!==q.yN.Polygonal)return;let{alt:i,shift:s}=e.keys;s||i||(this._currentSelectionState.clear(),this.selection.clear()),this._isSelecting=!0;let{point:o}=e,[r,a]=this.toModelCoord(o);if(this._lassoPoints.length<2){this._currentSelectionState=new Set(this.selection.selectedElements.map(e=>e.id));let e=[r,a],t=[r,a];this._lassoPoints=[e,t],this._lastPoint=t,this._overlay.startPoint=e,this._raf=requestAnimationFrame(this._loop),this._surface.renderer.addOverlay(this._overlay)}else{let t=this._lassoPoints[0],i=this._lastPoint,s=i[0]-t[0],o=i[1]-t[1];if(400>iv.l.len2([s,o]))return this._updateSelection(e),this._reset();this._lastPoint=[r,a],this._lassoPoints.push(this._lastPoint)}}onContainerTripleClick(){(0,A.lQ)()}onPressShiftKey(){(0,A.lQ)()}onPressSpaceBar(){(0,A.lQ)()}get isSelecting(){return this._isSelecting}get selection(){return this._edgeless.service.selection}}class IX extends mL{constructor(){super(...arguments),this.tool={type:"mindmap"}}afterModeSwitch(){(0,A.lQ)()}beforeModeSwitch(){(0,A.lQ)()}onContainerClick(){(0,A.lQ)()}onContainerContextMenu(){(0,A.lQ)()}onContainerDblClick(){(0,A.lQ)()}onContainerDragEnd(){(0,A.lQ)()}onContainerDragMove(){(0,A.lQ)()}onContainerDragStart(){(0,A.lQ)()}onContainerMouseMove(){(0,A.lQ)()}onContainerMouseOut(){(0,A.lQ)()}onContainerPointerDown(){(0,A.lQ)()}onContainerTripleClick(){(0,A.lQ)()}onPressShiftKey(){(0,A.lQ)()}onPressSpaceBar(e){(0,A.lQ)()}}function IQ(e,t,i,s=448,o=72){let r=e.addNoteWithPoint(t,{width:s,height:o}),a=e.doc,n=a.addBlock(i.childFlavour,{type:i.childType},r);if(i.collapse&&o>78){let e=a.getBlockById(r);a.updateBlock(e,()=>{e.edgeless.collapse=!0,e.edgeless.collapsedHeight=o})}e.tools.setEdgelessTool({type:"default"}),requestAnimationFrame(()=>{let i=(a.root?.children.filter(e=>"affine:note"===e.flavour)??[]).find(e=>e.id===r);i&&(e.service.selection.set({elements:[i.id],editing:!0}),e.updateComplete.then(()=>{n?st.Km(e.host,n)?.catch(console.error):(0,st.kW)(t.x,t.y)}).catch(console.error))})}class IJ extends mL{constructor(){super(...arguments),this._draggingArea=null,this._draggingNoteOverlay=null,this._noteOverlay=null,this.tool={type:"affine:note",childFlavour:"affine:paragraph",childType:"text",tip:"Text"}}_clearOverlay(){this._noteOverlay=this._disposeOverlay(this._noteOverlay),this._draggingNoteOverlay=this._disposeOverlay(this._draggingNoteOverlay),this._edgeless.surface.refresh()}_disposeOverlay(e){return e&&(e.dispose(),this._edgeless.surface.renderer.removeOverlay(e)),null}_hideOverlay(){this._noteOverlay&&(this._noteOverlay.globalAlpha=0,this._edgeless.surface.refresh())}_resize(e=!1){let{_draggingArea:t,_draggingNoteOverlay:i,_edgeless:s}=this;if(!t||!i)return;let{viewport:o}=s.service,{zoom:r}=o,{start:{x:a,y:n},end:l}=t,{x:c,y:d}=l;if(e){let e=Math.max(Math.abs(c-a),Math.abs(d-n));c=a+(c>a?e:-e),d=n+(d>n?e:-e)}let[h,u]=o.toModelCoord(Math.min(a,c),Math.min(n,d)),p=Math.abs(a-c)/r,f=Math.abs(n-d)/r;i.slots.draggingNoteUpdated.emit({xywh:[h,u,p,f]})}_updateOverlayPosition(e,t){this._noteOverlay&&(this._noteOverlay.x=e,this._noteOverlay.y=t,this._edgeless.surface.refresh())}afterModeSwitch(e){if("affine:note"!==e.type)return;let t=this._edgeless.service.editPropsStore.getLastProps("affine:note").background;this._noteOverlay=new Me(this._edgeless,t),this._noteOverlay.text=e.tip,this._edgeless.surface.renderer.addOverlay(this._noteOverlay)}beforeModeSwitch(){this._clearOverlay()}onContainerClick(e){this._clearOverlay();let{childFlavour:t,childType:i}=this.tool,s=new g.b(e.point.x,e.point.y);IQ(this._edgeless,s,{childFlavour:t,childType:i,collapse:!1})}onContainerContextMenu(){(0,A.lQ)()}onContainerDblClick(){(0,A.lQ)()}onContainerDragEnd(){if(!this._draggingNoteOverlay)return;this._draggingArea=null;let{x:e,y:t,width:i,height:s}=this._draggingNoteOverlay;this._disposeOverlay(this._draggingNoteOverlay);let{childFlavour:o,childType:r}=this.tool,[a,n]=this._edgeless.service.viewport.toViewCoord(e,t),l=new g.b(a,n);this._doc.captureSync(),IQ(this._edgeless,l,{childFlavour:o,childType:r,collapse:!0},Math.max(i,498),Math.max(s,91))}onContainerDragMove(e){this._draggingNoteOverlay&&this._draggingArea&&(this._draggingArea.end=new DOMPoint(e.x,e.y),this._resize(e.keys.shift||this._edgeless.tools.shiftKey))}onContainerDragStart(e){this._clearOverlay();let t=this._edgeless.service.editPropsStore.getLastProps("affine:note").background;this._draggingNoteOverlay=new Mt(this._edgeless,t),this._edgeless.surface.renderer.addOverlay(this._draggingNoteOverlay),this._draggingArea={start:new DOMPoint(e.x,e.y),end:new DOMPoint(e.x,e.y)}}onContainerMouseMove(e){if(!this._noteOverlay)return;0===this._noteOverlay.globalAlpha&&(this._noteOverlay.globalAlpha=1);let[t,i]=this._service.viewport.toModelCoord(e.x,e.y);this._updateOverlayPosition(t,i)}onContainerMouseOut(e){e.raw.relatedTarget&&(0,st.Xn)(e.raw.relatedTarget,mM)||this._hideOverlay()}onContainerPointerDown(){(0,A.lQ)()}onContainerTripleClick(){(0,A.lQ)()}onPressShiftKey(e){this._draggingNoteOverlay&&this._resize(e)}onPressSpaceBar(e){(0,A.lQ)()}}class I1 extends mL{constructor(){super(...arguments),this._lastPoint=null,this.tool={type:"pan"}}afterModeSwitch(){(0,A.lQ)()}beforeModeSwitch(){(0,A.lQ)()}onContainerClick(){(0,A.lQ)()}onContainerContextMenu(){(0,A.lQ)()}onContainerDblClick(){(0,A.lQ)()}onContainerDragEnd(){this._lastPoint=null,this._edgeless.tools.setEdgelessTool({type:"pan",panning:!1})}onContainerDragMove(e){if(!this._lastPoint)return;let{viewport:t}=this._service,{zoom:i}=t,[s,o]=this._lastPoint,r=s-e.x,a=o-e.y;this._lastPoint=[e.x,e.y],t.applyDeltaCenter(r/i,a/i)}onContainerDragStart(e){this._lastPoint=[e.x,e.y],this._edgeless.tools.setEdgelessTool({type:"pan",panning:!0})}onContainerMouseMove(){(0,A.lQ)()}onContainerMouseOut(){(0,A.lQ)()}onContainerPointerDown(){(0,A.lQ)()}onContainerTripleClick(){(0,A.lQ)()}onPressShiftKey(e){(0,A.lQ)()}onPressSpaceBar(e){(0,A.lQ)()}}class I0 extends mL{constructor(){super(...arguments),this.tool={type:"template"}}afterModeSwitch(){(0,A.lQ)()}beforeModeSwitch(){(0,A.lQ)()}onContainerClick(){(0,A.lQ)()}onContainerContextMenu(){(0,A.lQ)()}onContainerDblClick(){(0,A.lQ)()}onContainerDragEnd(){(0,A.lQ)()}onContainerDragMove(){(0,A.lQ)()}onContainerDragStart(){(0,A.lQ)()}onContainerMouseMove(){(0,A.lQ)()}onContainerMouseOut(){(0,A.lQ)()}onContainerPointerDown(){(0,A.lQ)()}onContainerTripleClick(){(0,A.lQ)()}onPressShiftKey(e){(0,A.lQ)()}onPressSpaceBar(e){(0,A.lQ)()}}class I2 extends mL{constructor(){super(...arguments),this.tool={type:"text"}}afterModeSwitch(){(0,A.lQ)()}beforeModeSwitch(){(0,A.lQ)()}onContainerClick(e){if(this._edgeless.doc.awarenessStore.getFlag("enable_edgeless_text")){let[t,i]=this._service.viewport.toModelCoord(e.x,e.y);this._edgeless.host.spec.getService("affine:edgeless-text").initEdgelessTextBlock({edgeless:this._edgeless,x:t,y:i}),this._service.tool.setEdgelessTool({type:"default"})}else mA(this._edgeless,e);this._service.telemetryService?.track("CanvasElementAdded",{control:"canvas:draw",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:"text"})}onContainerContextMenu(){(0,A.lQ)()}onContainerDblClick(){(0,A.lQ)()}onContainerDragEnd(){(0,A.lQ)()}onContainerDragMove(){(0,A.lQ)()}onContainerDragStart(){(0,A.lQ)()}onContainerMouseMove(){(0,A.lQ)()}onContainerMouseOut(){(0,A.lQ)()}onContainerPointerDown(){(0,A.lQ)()}onContainerTripleClick(){(0,A.lQ)()}onPressShiftKey(e){(0,A.lQ)()}onPressSpaceBar(e){(0,A.lQ)()}}let I5={[O.IO.Rect]:0,[O.IO.Ellipse]:1,[O.IO.Diamond]:2,[O.IO.Triangle]:3,roundedRect:4},I7=Object.keys(I5);class I3 extends vd{constructor(e){super(e),this.rootComponent=e,this.rootComponent.bindHotKey({v:()=>{this._setEdgelessTool(e,{type:"default"})},t:()=>{this._setEdgelessTool(e,{type:"text"})},c:()=>{let t=S.B1.Curve;e.service.editPropsStore.recordLastProps("connector",{mode:t}),this._setEdgelessTool(e,{type:"connector",mode:t})},l:()=>{if(!e.doc.awarenessStore.getFlag("enable_lasso_tool"))return;let t=e.tools.controllers.lasso,i={type:"lasso",mode:q.yN.Polygonal};t instanceof IK&&(i.mode=t.tool.mode),this._setEdgelessTool(e,i)},"Shift-l":()=>{if(!e.doc.awarenessStore.getFlag("enable_lasso_tool"))return;let t=e.edgelessTool,i={type:"lasso",mode:"lasso"===t.type&&t.mode===q.yN.FreeHand?q.yN.Polygonal:q.yN.FreeHand};this._setEdgelessTool(e,i)},h:()=>{this._setEdgelessTool(e,{type:"pan",panning:!1})},n:()=>{this._setEdgelessTool(e,{type:"affine:note",childFlavour:mC,childType:mk,tip:mS})},p:()=>{this._setEdgelessTool(e,{type:"brush"})},e:()=>{this._setEdgelessTool(e,{type:"eraser"})},k:()=>{if(this.rootComponent.service.locked)return;let{selection:t}=e.service;1===t.selectedElements.length&&t.firstElement instanceof iE.y&&(0,iS.o)(t.firstElement,["affine:note"])&&e.slots.toggleNoteSlicer.emit()},f:()=>{if(!this.rootComponent.service.locked){if(0===this.rootComponent.service.selection.selectedElements.length||this.rootComponent.service.selection.editing)this.rootComponent.service.selection.editing||this._setEdgelessTool(e,{type:"frame"});else{let t=e.service.frame.createFrameOnSelected();if(!t)return;e.service.telemetryService?.track("CanvasElementAdded",{control:"shortcut",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:"frame"}),e.surface.fitToViewport(m.z.deserialize(t.xywh))}}},"-":()=>{if(this.rootComponent.service.locked)return;let{selectedElements:t}=e.service.selection;!e.service.selection.editing&&1===t.length&&gT(t[0])&&e.slots.toggleNoteSlicer.emit()},"@":()=>{let t=this.rootComponent.std;if(t.selection.getGroup("note").length>0||t.selection.find("text")||t.selection.find("surface")?.editing)return;let{insertedLinkType:i}=t.command.exec("insertLinkByQuickSearch");i?.then(t=>{t&&(e.service.telemetryService?.track("CanvasElementAdded",{control:"shortcut",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:t.flavour.split(":")[1]}),t.isNewDoc&&e.service.telemetryService?.track("DocCreated",{control:"shortcut",page:"whiteboard editor",segment:"whiteboard",type:t.flavour.split(":")[1]}))}).catch(console.error)},"Shift-s":()=>{if(this.rootComponent.service.locked||this.rootComponent.service.selection.editing||!(e.tools.currentController instanceof E8))return;let t=e.service.editPropsStore.getLastProps("shape"),i=I7[(I5[t.radius>0&&t.shapeType===O.IO.Rect?"roundedRect":t.shapeType]+1)%I7.length];this._setEdgelessTool(e,{type:"shape",shapeType:"roundedRect"===i?O.IO.Rect:i}),function(e,t){let i="roundedRect"===e?{shapeType:O.IO.Rect,radius:.1}:{shapeType:e,radius:0};t.service.editPropsStore.recordLastProps("shape",i)}(i,e),e.tools.currentController.createOverlay()},"Mod-g":t=>{this.rootComponent.service.locked||!(this.rootComponent.service.selection.selectedElements.length>1)||this.rootComponent.service.selection.editing||(t.get("keyboardState").event.preventDefault(),e.service.createGroupFromSelected())},"Shift-Mod-g":t=>{if(this.rootComponent.service.locked)return;let{selection:i}=this.rootComponent.service;1===i.selectedElements.length&&i.firstElement instanceof M.$&&(t.get("keyboardState").event.preventDefault(),e.service.ungroup(i.firstElement))},"Mod-a":e=>{if(this.rootComponent.service.locked||this.rootComponent.service.selection.editing)return;e.get("defaultState").event.preventDefault();let{service:t}=this.rootComponent;this.rootComponent.service.selection.set({elements:[...t.blocks.filter(e=>null===e.group).map(e=>e.id),...t.elements.filter(e=>null===e.group).map(e=>e.id)],editing:!1})},"Mod-1":e=>{e.get("defaultState").event.preventDefault(),this.rootComponent.service.setZoomByAction("fit")},"Mod--":e=>{e.get("defaultState").event.preventDefault(),this.rootComponent.service.setZoomByAction("out")},"Mod-0":e=>{e.get("defaultState").event.preventDefault(),this.rootComponent.service.setZoomByAction("reset")},"Mod-=":e=>{e.get("defaultState").event.preventDefault(),this.rootComponent.service.setZoomByAction("in")},Backspace:()=>{this._delete()},Delete:()=>{this._delete()},"Control-d":()=>{sn.vL&&this._delete()},Escape:()=>{let{currentController:t}=this.rootComponent.tools;t instanceof IK&&t.isSelecting&&t.abort(),t instanceof IN&&t.abort(),this.rootComponent.service.selection.empty||e.selection.clear()},ArrowUp:()=>{this._move("ArrowUp")},ArrowDown:()=>{this._move("ArrowDown")},ArrowLeft:()=>{this._move("ArrowLeft")},ArrowRight:()=>{this._move("ArrowRight")},"Shift-ArrowUp":()=>{this._move("ArrowUp",!0)},"Shift-ArrowDown":()=>{this._move("ArrowDown",!0)},"Shift-ArrowLeft":()=>{this._move("ArrowLeft",!0)},"Shift-ArrowRight":()=>{this._move("ArrowRight",!0)},Enter:()=>{let{service:t}=e,i=t.selection,s=i.selectedElements;if(1===s.length){let t=s[0],o=t.id;if(t instanceof S.lw){i.set({elements:[o],editing:!0}),requestAnimationFrame(()=>{mH(t,e)});return}if(t instanceof gC.Q){i.set({elements:[o],editing:!0});let t=e.host.view.getBlock(o);t instanceof mz&&t.tryFocusEnd();return}}if(!mh(s))return;let o=s[0].group,r=o.getNode(s[0].id),a=o.getParentNode(r.id)??r,n=o.addNode(a.id),l=t.getElementById(n);requestAnimationFrame(()=>{if(mT(l,e),mu(t.viewport,l,[20,20])){let{elementBound:e}=l;t.viewport.smoothTranslate(e.x+e.w/2,e.y+e.h/2)}})},Tab:()=>{let{service:t}=e,i=t.selection.selectedElements;if(!mh(i))return;let s=i[0].group,o=s.getNode(i[0].id),r=s.addNode(o.id),a=t.getElementById(r);requestAnimationFrame(()=>{if(mT(a,e),mu(t.viewport,a,[20,20])){let{elementBound:e}=a;t.viewport.smoothTranslate(e.x+e.w/2,e.y+e.h/2)}})}},{global:!0}),this._bindShiftKey(),this._bindToggleHand()}_bindShiftKey(){this.rootComponent.handleEvent("keyDown",e=>{let t=e.get("defaultState").event;t instanceof KeyboardEvent&&this._shift(t)},{global:!0}),this.rootComponent.handleEvent("keyUp",e=>{let t=e.get("defaultState").event;t instanceof KeyboardEvent&&this._shift(t)},{global:!0})}_bindToggleHand(){this.rootComponent.handleEvent("keyDown",e=>{let t=e.get("keyboardState").raw;"Space"!==t.code||t.repeat||this._space(t)},{global:!0}),this.rootComponent.handleEvent("keyUp",e=>{let t=e.get("keyboardState").raw;"Space"!==t.code||t.repeat||this._space(t)},{global:!0})}_delete(){let e=this.rootComponent;if(!e.service.locked){if(e.service.selection.editing)return;my(e.surface,e.service.selection.selectedElements),e.service.selection.clear(),e.service.selection.set(e.service.selection.surfaceSelections)}}_move(e,t=!1){let i=this.rootComponent;if(i.service.locked||i.service.selection.editing)return;let{selectedElements:s}=i.service.selection,o=t?10:1,r=s.filter(e=>e.group instanceof I.AR);if(r.length>0){let t=r[0],s=t.group,o=s.getLayoutDir(t.id),a=null;switch(e){case"ArrowUp":case"ArrowDown":a=s.getSiblingNode(t.id,"ArrowDown"===e?"next":"prev",o===gS.p5.RIGHT?"right":o===gS.p5.LEFT?"left":void 0)?.element??null;break;case"ArrowLeft":a=o===gS.p5.RIGHT?s.getParentNode(t.id)?.element??null:s.getChildNodes(t.id,"left")[0]?.element??null;break;case"ArrowRight":a=o===gS.p5.RIGHT||o===gS.p5.BALANCE?s.getChildNodes(t.id,"right")[0]?.element??null:s.getParentNode(t.id)?.element??null}if(a&&(i.service.selection.set({elements:[a.id],editing:!1}),mu(i.service.viewport,a,[90,20]))){let[e,t]=mp(i.service.viewport,a,[100,20]);i.service.viewport.smoothTranslate(i.service.viewport.centerX-e,i.service.viewport.centerY+t)}return}s.forEach(t=>{let i=m.z.deserialize(t.xywh).clone();switch(e){case"ArrowUp":i.y-=o;break;case"ArrowLeft":i.x-=o;break;case"ArrowRight":i.x+=o;break;case"ArrowDown":i.y+=o}gF(t)&&t instanceof S.lw&&t.moveTo(i),t.xywh=i.serialize()})}_setEdgelessTool(e,t,i=!1){(i||!e.service.selection.editing)&&e.tools.setEdgelessTool(t)}_shift(e){let t=this.rootComponent;e.repeat||("shift"===e.key.toLowerCase()&&e.shiftKey?t.slots.pressShiftKeyUpdated.emit(!0):t.slots.pressShiftKeyUpdated.emit(!1))}_space(e){let t=this.rootComponent,i=t.service.selection,s=t.edgelessTool,o=s.type,r="keydown"===e.type;if(r?t.tools.spaceBar=!0:t.tools.spaceBar=!1,t.service.tool.dragging)return;let a=e=>{"Space"===e.code&&(this._setEdgelessTool(t,s),document.removeEventListener("keyup",a,!1))};if(r){if("pan"===o||"default"===o&&i.editing)return;this._setEdgelessTool(t,{type:"pan",panning:!1}),t.dispatcher.disposables.addFromEvent(document,"keyup",a)}}}var I4=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},I6=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let I8=(()=>{let e,t,i,s,o,r,a,n,l,c=[(0,L.EM)("affine-edgeless-root")],d=[],h=P.p_,u=[],p=[],v=[],y=[],b=[],w=[],x=[],_=[],k=[],S=[],M=[],E=[],I=[],B=[];return class extends h{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.P)(".edgeless-background")],o=[(0,L.wk)()],r=[(0,L.P)("gfx-viewport")],a=[(0,L.P)(".edgeless-mount-point")],n=[(0,L.P)("edgeless-selected-rect")],l=[(0,L.P)("affine-surface")],I4(this,null,i,{kind:"accessor",name:"_isResizing",static:!1,private:!1,access:{has:e=>"_isResizing"in e,get:e=>e._isResizing,set:(e,t)=>{e._isResizing=t}},metadata:f},u,p),I4(this,null,s,{kind:"accessor",name:"backgroundElm",static:!1,private:!1,access:{has:e=>"backgroundElm"in e,get:e=>e.backgroundElm,set:(e,t)=>{e.backgroundElm=t}},metadata:f},v,y),I4(this,null,o,{kind:"accessor",name:"edgelessTool",static:!1,private:!1,access:{has:e=>"edgelessTool"in e,get:e=>e.edgelessTool,set:(e,t)=>{e.edgelessTool=t}},metadata:f},b,w),I4(this,null,r,{kind:"accessor",name:"gfxViewportElm",static:!1,private:!1,access:{has:e=>"gfxViewportElm"in e,get:e=>e.gfxViewportElm,set:(e,t)=>{e.gfxViewportElm=t}},metadata:f},x,_),I4(this,null,a,{kind:"accessor",name:"mountElm",static:!1,private:!1,access:{has:e=>"mountElm"in e,get:e=>e.mountElm,set:(e,t)=>{e.mountElm=t}},metadata:f},k,S),I4(this,null,n,{kind:"accessor",name:"selectedRect",static:!1,private:!1,access:{has:e=>"selectedRect"in e,get:e=>e.selectedRect,set:(e,t)=>{e.selectedRect=t}},metadata:f},M,E),I4(this,null,l,{kind:"accessor",name:"surface",static:!1,private:!1,access:{has:e=>"surface"in e,get:e=>e.surface,set:(e,t)=>{e.surface=t}},metadata:f},I,B),I4(null,e={value:t},c,{kind:"class",name:t.name,metadata:f},null,d),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    affine-edgeless-root {
      -webkit-user-select: none;
      user-select: none;
      display: block;
      height: 100%;
      touch-action: none;
    }

    .widgets-container {
      position: absolute;
      left: 0;
      top: 0;
      contain: size layout;
      z-index: 1;
      height: 100%;
    }

    .edgeless-background {
      height: 100%;
      background-color: var(--affine-background-primary-color);
      background-image: radial-gradient(
        var(--affine-edgeless-grid-color) 1px,
        var(--affine-background-primary-color) 1px
      );
    }

    @media print {
      .selected {
        background-color: transparent !important;
      }
    }
  `}_handleToolbarFlag(){this.components.toolbar||(()=>{let e=new IA(this);this.append(e),this.components.toolbar=e})()}_initFontLoader(){let e=this.service?.fontLoader;(0,V.Z1)(e),e.ready.then(()=>{this.surface.refresh()}).catch(console.error)}_initLayerUpdateEffect(){let e=(0,st.GR)(()=>{Array.from(this.gfxViewportElm.children).forEach(e=>{e.updateZIndex?.()})});this._disposables.add(this.service.layer.slots.layerUpdated.on(()=>e()))}_initPanEvent(){this.disposables.add(this.dispatcher.add("pan",e=>{let{viewport:t}=this.service;if(t.locked)return;let[i,s]=e.get("multiPointerState").pointers,o=.5*(i.delta.x+s.delta.x)/t.zoom/t.scale,r=.5*(i.delta.y+s.delta.y)/t.zoom/t.scale;t.applyDeltaCenter(-o,-r)}))}_initPinchEvent(){this.disposables.add(this.dispatcher.add("pinch",e=>{let{viewport:t}=this.service;if(t.locked)return;let[i,s]=e.get("multiPointerState").pointers,o=new g.b(.5*(i.x+s.x),.5*(i.y+s.y)),r=iv.l.dist([i.x-i.delta.x,i.y-i.delta.y],[s.x-s.delta.x,s.y-s.delta.y]),a=iv.l.dist([i.x,i.y],[s.x,s.y])/r*t.zoom,[n,l]=t.toModelCoord(o.x,o.y);return t.setZoom(a,new g.b(n,l)),!1}))}_initPixelRatioChangeEffect(){let e;let t=()=>{e&&(this.service.viewport.onResize(),e.removeEventListener("change",t)),(e=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`)).addEventListener("change",t)};t(),this._disposables.add(()=>{e?.removeEventListener("change",t)})}_initRemoteCursor(){let e=null,t=t=>{e&&cancelAnimationFrame(e),e=(0,st.Ak)(()=>{if(!this.service?.viewport)return;let i=this.service.viewport.toModelCoord(t.x,t.y);this.service.selection.setCursor({x:i[0],y:i[1]}),e=null},this)};this.handleEvent("pointerMove",e=>{t(e.get("pointerState"))})}_initResizeEffect(){let e=new ResizeObserver(e=>{if(!this.service||!this.service.selection||!this.service.viewport){console.error("Service not ready");return}this.service.selection.set(this.service.selection.surfaceSelections),this.service.viewport.onResize()});e.observe(this.viewportElement),this._resizeObserver=e}_initSlotEffects(){let{disposables:e,slots:t}=this;this.disposables.add(this.service.themeObserver.mode$.subscribe(()=>this.surface.refresh())),e.add(this.service.selection),e.add(t.edgelessToolUpdated.on(e=>{this.edgelessTool=e})),e.add(t.cursorUpdated.on((0,A.nF)(e=>{this.style.cursor=e},144)));let i=!0;e.add(t.copyAsPng.on(({blocks:e,shapes:t})=>{i&&(i=!1,this.clipboardController.copyAsPng(e,t).then(()=>l8(this.host,"Copied to clipboard")).catch(()=>l8(this.host,"Failed to copy as PNG")).finally(()=>{i=!0}))}))}_initTools(){[mD,Iz,IU,I2,E8,IF,IJ,IG,I1,IW,IN,IK,I0,IX].forEach(e=>{this.service.registerTool(e)}),this.service.tool.mount(this)}_initViewport(){let{service:e}=this;e.viewport.setContainer(this),(()=>{let t=e.editPropsStore.getStorage("viewport")??e.getFitToScreenData();if("xywh"in t){let i=m.z.deserialize(t.xywh);e.viewport.setViewportByBound(i,t.padding)}else{let{zoom:i,centerX:s,centerY:o}=t;e.viewport.setViewport(i,[s,o])}})(),this._disposables.add(()=>{e.editPropsStore.setStorage("viewport",{centerX:e.viewport.centerX,centerY:e.viewport.centerY,zoom:e.viewport.zoom})})}_initWheelEvent(){this._disposables.add(this.dispatcher.add("wheel",e=>{let t=e.get("defaultState").event;t.preventDefault();let{viewport:i,locked:s}=this.service;if(!s){if((0,st.BQ)(t)){let e=this.getBoundingClientRect(),[s,o]=this.service.viewport.toModelCoord(t.clientX-e.x,t.clientY-e.y),r=function(e,t=1){let i=Math.sign(e),s=Math.abs(e),o=100*C.fv;return s>o&&(e=o*i),t-e/100+-(Math.log10(Math.max(1,t))*i)*Math.min(1,s/20)}(t.deltaY,i.zoom);i.setZoom(r,new g.b(s,o)),t.stopPropagation()}else{let e=sn.H8&&t.shiftKey,s=e?t.deltaY/i.zoom:t.deltaX/i.zoom,o=e?0:t.deltaY/i.zoom;i.applyDeltaCenter(s,o),i.viewportMoved.emit([s,o]),t.stopPropagation()}}}))}async addAttachments(e,t){if(!e.length)return[];let i=this.host.spec.getService("affine:attachment").maxFileSize;if(e.some(e=>e.size>i))return l8(this.host,`You can only upload files less than ${(0,iy.bn)(i,!0,0)}`),[];let{x:s,y:o}=this.service.viewport.center;t&&([s,o]=this.service.viewport.toModelCoord(...t));let r=e.map((e,t)=>{let i=new g.b(s+32*t,o+32*t),r=iv.l.toVec(i),a=m.z.fromCenter(r,fA.Cd.cubeThick,fA.Hn.cubeThick);return{blockId:this.service.addBlock("affine:attachment",{name:e.name,size:e.size,type:e.type,style:"cubeThick",xywh:a.serialize()},this.surface.model),file:e}}).map(async({blockId:e,file:t})=>{let i;try{_Y.add(e),i=await this.doc.blobSync.set(t)}catch(e){console.error(e),e instanceof Error&&l8(this.host,`Failed to upload attachment! ${e.message||e.toString()}`)}finally{_Y.delete(e),this.doc.withoutTransact(()=>{this.service.updateElement(e,{sourceId:i})})}return e}),a=await Promise.all(r);return this.service.selection.set({elements:a,editing:!1}),a}async addImages(e,t,i){let s=[...e].filter(e=>e.type.startsWith("image/"));if(!s.length)return[];let o=this.host.spec.getService("affine:image").maxFileSize;if(s.some(e=>e.size>o))return l8(this.host,`You can only upload files less than ${(0,iy.bn)(o,!0,0)}`),[];let{x:r,y:a}=this.service.viewport.center;t&&([r,a]=this.service.viewport.toModelCoord(...t));let n=[];s.map((e,t)=>{let s=new g.b(r+32*t,a+32*t),o=kx(iv.l.toVec(s),i),l=this.service.addBlock("affine:image",{size:e.size,xywh:o.serialize()},this.surface.model);n.push({point:s,blockId:l})});let l=s.map(async(e,t)=>{let{point:s,blockId:o}=n[t],r=await this.doc.blobSync.set(e),a=await kb(e),l=kx(iv.l.toVec(s),i,a.width,a.height);this.doc.withoutTransact(()=>{this.service.updateElement(o,{sourceId:r,...a,xywh:l.serialize()})})});await Promise.all(l);let c=n.map(e=>e.blockId);return this.service.selection.set({elements:c,editing:!1}),c}addNewNote(e,t,i){this.doc.captureSync();let{left:s,top:o}=this.service.viewport;t.x-=s,t.y-=o;let r=this.addNoteWithPoint(t,i),a=this.doc.addBlocks(e.map(({flavour:e,...t})=>((0,V.Z1)(e),{flavour:e,blockProps:t})),r);return{noteId:r,ids:a}}addNoteWithPoint(e,t={}){let{width:i=448,height:s=72,offsetX:o=30,offsetY:r=40,parentId:a=this.doc.root?.id,noteIndex:n,scale:l=1}=t,[c,d]=this.service.viewport.toModelCoord(e.x,e.y),h=this.service.addBlock("affine:note",{xywh:(0,f.P)(c-o*l,d-r*l,i,s),displayMode:st.ko.EdgelessOnly},a,n);return this.service.telemetryService?.track("CanvasElementAdded",{control:"canvas:draw",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:"note"}),h}connectedCallback(){super.connectedCallback(),this.clipboardController.hostConnected(),this.keyboardManager=new I3(this),this.handleEvent("selectionChange",()=>{let e=this.host.selection.value.find(e=>e.is("surface"));if(e&&gF(this.service.getElementById(e.elements[0])))return!0}),this.mouseRoot=this.parentElement,this._initTools(),this._disposables.add(this.slots.elementResizeStart.on(()=>{this._isResizing=!0})),this._disposables.add(this.slots.elementResizeEnd.on(()=>{this._isResizing=!1}))}disconnectedCallback(){super.disconnectedCallback(),this.clipboardController.hostDisconnected(),this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null),this.keyboardManager=null,this.components.toolbar?.remove(),this.components.toolbar=null}firstUpdated(){this._initSlotEffects(),this._initResizeEffect(),this._initPixelRatioChangeEffect(),this._initFontLoader(),this._initRemoteCursor(),this._initLayerUpdateEffect(),this._initViewport(),this._initWheelEvent(),this._initPanEvent(),this._initPinchEvent(),this.doc.readonly&&this.tools.setEdgelessTool({type:"pan",panning:!0}),this.disableComponents||((0,st.Ak)(()=>{this._handleToolbarFlag(),this.requestUpdate()},this),this._disposables.add(this.service.viewport.viewportUpdated.on(()=>{this._refreshLayerViewport()})),this._refreshLayerViewport())}getElementsBound(){let{service:e}=this;return gI([...e.elements,...e.blocks])}renderBlock(){let e=(0,D.u)(Object.entries(this.widgets),([e])=>e,([e,t])=>t);return(0,H.qy)`
      <div class="edgeless-background edgeless-container">
        <gfx-viewport
          .maxConcurrentRenders=${6}
          .viewport=${this.service.viewport}
          .getModelsInViewport=${()=>{let e=this.service.layer.blocksGrid.search(this.service.viewport.viewportBounds,void 0,!0);return this.service.layer.framesGrid.search(this.service.viewport.viewportBounds,void 0,!0).forEach(t=>e.add(t)),e}}
          .host=${this.host}
        >
          ${this.renderChildren(this.model)}${this.renderChildren(this.surfaceBlockModel)}
        </gfx-viewport>
      </div>

      <!--
        Used to mount component before widgets
        Eg., canvas text editor
      -->
      <div class="edgeless-mount-point"></div>

      <!-- need to be converted to widget -->
      <edgeless-dragging-area-rect
        .edgeless=${this}
      ></edgeless-dragging-area-rect>

      ${this._isResizing?H.s6:(0,H.qy)`<note-slicer .edgeless=${this}></note-slicer>`}

      <edgeless-selected-rect .edgeless=${this}></edgeless-selected-rect>
      <edgeless-navigator-black-background
        .edgeless=${this}
      ></edgeless-navigator-black-background>
      <!-- end -->

      <div class="widgets-container">${e}</div>
    `}setSelection(e,t=!0,i,s){let o=this.service.blocks.filter(e=>"affine:note"===e.flavour).find(t=>t.id===e);(0,V.Z1)(o),requestAnimationFrame(()=>{this.service.selection.set({elements:[o.id],editing:!1}),this.updateComplete.then(()=>{i?st.Km(this.host,i)?.catch(console.error):s&&(0,st.kW)(s.x,s.y)}).catch(console.error)})}get dispatcher(){return this.service?.uiEventDispatcher}get slots(){return this.service.slots}get surfaceBlockModel(){return this.model.children.find(e=>"affine:surface"===e.flavour)}get tools(){return this.service.tool}get viewport(){let{scrollLeft:e,scrollTop:t,scrollWidth:i,scrollHeight:s,clientWidth:o,clientHeight:r}=this.viewportElement,{top:a,left:n}=this.viewportElement.getBoundingClientRect();return{top:a,left:n,scrollLeft:e,scrollTop:t,scrollWidth:i,scrollHeight:s,clientWidth:o,clientHeight:r}}get viewportElement(){return this._viewportElement||(this._viewportElement=this.host.closest(".affine-edgeless-viewport"),(0,V.Z1)(this._viewportElement)),this._viewportElement}#aH;get _isResizing(){return this.#aH}set _isResizing(e){this.#aH=e}#nz;get backgroundElm(){return this.#nz}set backgroundElm(e){this.#nz=e}#a1;get edgelessTool(){return this.#a1}set edgelessTool(e){this.#a1=e}#nF;get gfxViewportElm(){return this.#nF}set gfxViewportElm(e){this.#nF=e}#nN;get mountElm(){return this.#nN}set mountElm(e){this.#nN=e}#ax;get selectedRect(){return this.#ax}set selectedRect(e){this.#ax=e}#nq;get surface(){return this.#nq}set surface(e){this.#nq=e}constructor(){super(...arguments),this._refreshLayerViewport=(0,st.GR)(()=>{let{zoom:e,translateX:t,translateY:i}=this.service.viewport,{gap:s}=gU(e,!0);this.backgroundElm&&(this.backgroundElm.style.setProperty("background-position",`${t}px ${i}px`),this.backgroundElm.style.setProperty("background-size",`${s}px ${s}px`))},this),this._resizeObserver=null,this._viewportElement=null,this.clipboardController=new IV(this),this.components={toolbar:null},this.disableComponents=!1,this.keyboardManager=null,this.#aH=I6(this,u,!1),this.#nz=(I6(this,p),I6(this,v,null)),this.#a1=(I6(this,y),I6(this,b,{type:localStorage.defaultTool??"default"})),this.#nF=(I6(this,w),I6(this,x,void 0)),this.#nN=(I6(this,_),I6(this,k,null)),this.#ax=(I6(this,S),I6(this,M,void 0)),this.#nq=(I6(this,E),I6(this,I,void 0)),I6(this,B)}static{I6(t,d)}},t})(),I9=(0,H.AH)`
  .menu-container {
    user-select: none;
    z-index: var(--affine-z-index-popover);
    isolation: isolate;
  }

  .pie-menu-container > .overlay {
    top: 0;
    left: 0;
    height: 100vh;
    width: 100vw;
    position: fixed;
    z-index: var(--affine-z-index-popover);
  }

  .pie-menu {
    position: fixed;
    top: 0;
    left: 0;
    box-sizing: border-box;
    z-index: calc(
      var(--affine-z-index-popover) + 10
    ); /* This is important or else will hover will not work  */
  }
`,Be=(0,H.AH)`
  .pie-node {
    position: absolute;
    background: var(--affine-background-overlay-panel-color);
    user-select: none;
    box-shadow: var(--affine-shadow-2);
    border: 2px solid var(--affine-border-color);
    border-radius: 50%;
    display: flex;
    font-size: 0.8rem;
    align-items: center;
    justify-content: center;
    text-align: center;
    transition: all 250ms cubic-bezier(0.775, 1.325, 0.535, 1);
  }

  @keyframes my-anim {
    0% {
      transform: translate(0, 0);
      opacity: 0;
    }
    40% {
      opacity: 0;
    }
    100% {
      opacity: 100;
    }
  }
`;function Bt(e){let t=e.tools.currentController;t instanceof E8&&t.createOverlay()}function Bi(e){return({rootComponent:t})=>{if(t instanceof I8){let i=t.service.editPropsStore.getLastProps("shape"),s="fill"==e?i.fillColor:i.strokeColor;return im.Q.getColorValue(s)}return""}}function Bs({rootComponent:e}){if(e instanceof I8){let t=e.service.editPropsStore.getLastProps("connector").stroke;return im.Q.getColorValue(t)}return""}function Bo(e){return({rootComponent:t})=>{t.service.tool.setEdgelessTool(e)}}function Br(e,t){return[Math.cos(e)*t[0],Math.sin(e)*t[1]]}function Ba(e){return"children"in e}function Bn(e){return"root"===e.type}function Bl(e){return"submenu"===e.type}function Bc(e){return"command"===e.type}function Bd(e){return"color"===e.type}function Bh(e){return"action"in e&&"function"==typeof e.action}function Bu(e,t,i){return e>t&&e<=i||e-360>t&&e-360<=i||e+360>t&&e+360<=i}function Bp(e,t,i){for(;t<e;)t+=360;for(;i<t;)i+=360;for(;t>=360;)e-=360,t-=360,i-=360;return[e,t,i]}function Bf(e,t,i,s){return[e=t-(t-e)*s,i=t+(i-t)*s]}var Bg=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Bm=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let Bv=(()=>{let e,t,i,s,o,r,a,n,l,c,d,h=[(0,L.EM)("affine-pie-node")],u=[],p=(0,P.Tm)(H.WF),f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[];return class extends p{static{t=this}static{let O="function"==typeof Symbol&&Symbol.metadata?Object.create(p[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({attribute:!1})],c=[(0,L.MZ)({attribute:!1})],d=[(0,L.MZ)({attribute:!1})],Bg(this,null,i,{kind:"accessor",name:"_isHovering",static:!1,private:!1,access:{has:e=>"_isHovering"in e,get:e=>e._isHovering,set:(e,t)=>{e._isHovering=t}},metadata:O},f,g),Bg(this,null,s,{kind:"accessor",name:"angle",static:!1,private:!1,access:{has:e=>"angle"in e,get:e=>e.angle,set:(e,t)=>{e.angle=t}},metadata:O},m,v),Bg(this,null,o,{kind:"accessor",name:"containerNode",static:!1,private:!1,access:{has:e=>"containerNode"in e,get:e=>e.containerNode,set:(e,t)=>{e.containerNode=t}},metadata:O},y,b),Bg(this,null,r,{kind:"accessor",name:"endAngle",static:!1,private:!1,access:{has:e=>"endAngle"in e,get:e=>e.endAngle,set:(e,t)=>{e.endAngle=t}},metadata:O},w,x),Bg(this,null,a,{kind:"accessor",name:"index",static:!1,private:!1,access:{has:e=>"index"in e,get:e=>e.index,set:(e,t)=>{e.index=t}},metadata:O},_,C),Bg(this,null,n,{kind:"accessor",name:"menu",static:!1,private:!1,access:{has:e=>"menu"in e,get:e=>e.menu,set:(e,t)=>{e.menu=t}},metadata:O},k,S),Bg(this,null,l,{kind:"accessor",name:"model",static:!1,private:!1,access:{has:e=>"model"in e,get:e=>e.model,set:(e,t)=>{e.model=t}},metadata:O},M,E),Bg(this,null,c,{kind:"accessor",name:"position",static:!1,private:!1,access:{has:e=>"position"in e,get:e=>e.position,set:(e,t)=>{e.position=t}},metadata:O},I,B),Bg(this,null,d,{kind:"accessor",name:"startAngle",static:!1,private:!1,access:{has:e=>"startAngle"in e,get:e=>e.startAngle,set:(e,t)=>{e.startAngle=t}},metadata:O},$,T),Bg(null,e={value:t},h,{kind:"class",name:t.name,metadata:O},null,u),t=e.value,O&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:O})}static{this.styles=Be}_renderCenterNode(){let e=this.isActive();return(0,H.qy)`
      <pie-node-center
        .node=${this}
        .hoveredNode=${this.menu.hoveredNode}
        .isActive=${e}
        .onMouseEnter=${this._handleGoBack}
        .rotatorAngle="${this._rotatorAngle}"
      >
        <slot name="children-slot"></slot>
      </pie-node-center>
    `}_renderChildNode(){let e=this.menu.isChildOfActiveNode(this);return(0,H.qy)`<pie-node-child
      .node="${this}"
      .visible="${e}"
      .hovering="${this._isHovering}"
      .onClick="${this._handleChildNodeClick}"
    >
    </pie-node-child>`}_setupEvents(){this._disposables.add(this.menu.slots.pointerAngleUpdated.on(this._onPointerAngleUpdated)),this._disposables.add(this.menu.slots.requestNodeUpdate.on(()=>this.requestUpdate()))}connectedCallback(){super.connectedCallback(),this._setupEvents()}isActive(){return this.menu.isActiveNode(this)}isCenterNode(){return Ba(this.model)&&this.menu.selectionChain.includes(this)}render(){return this.isCenterNode()?this._renderCenterNode():this._renderChildNode()}select(){let e=this.model;if(Bn(e))return;let t={rootComponent:this.menu.rootComponent,menu:this.menu,widgetComponent:this.menu.widgetComponent,node:this};Bh(e)?e.action(t):Bd(e)&&e.onChange(e.color,t),this.requestUpdate()}get icon(){let e=this.model.icon;if("function"==typeof e){let{menu:t}=this,{rootComponent:i,widgetComponent:s}=t;return e({rootComponent:i,menu:t,widgetComponent:s,node:this})}return e}#nU;get _isHovering(){return this.#nU}set _isHovering(e){this.#nU=e}#nW;get angle(){return this.#nW}set angle(e){this.#nW=e}#nG;get containerNode(){return this.#nG}set containerNode(e){this.#nG=e}#nY;get endAngle(){return this.#nY}set endAngle(e){this.#nY=e}#i;get index(){return this.#i}set index(e){this.#i=e}#nK;get menu(){return this.#nK}set menu(e){this.#nK=e}#i7;get model(){return this.#i7}set model(e){this.#i7=e}#av;get position(){return this.#av}set position(e){this.#av=e}#nX;get startAngle(){return this.#nX}set startAngle(e){this.#nX=e}constructor(){super(...arguments),this._handleChildNodeClick=()=>{this.select(),Bc(this.model)&&this.menu.close()},this._handleGoBack=()=>{this.menu.activeNode!==this&&this.menu.popSelectionChainTo(this)},this._onPointerAngleUpdated=e=>{if(this._rotatorAngle=e,this.menu.activeNode.requestUpdate(),!Bn(this.model)&&this.menu.isChildOfActiveNode(this)){if(null===e){this._isHovering=!1,this.menu.setHovered(null);return}Bu(e,this.startAngle,this.endAngle)?this.menu.hoveredNode!==this&&(this._isHovering=!0,this.menu.setHovered(this)):this._isHovering=!1}},this._rotatorAngle=null,this.#nU=Bm(this,f,!1),this.#nW=(Bm(this,g),Bm(this,m,void 0)),this.#nG=(Bm(this,v),Bm(this,y,null)),this.#nY=(Bm(this,b),Bm(this,w,void 0)),this.#i=(Bm(this,x),Bm(this,_,void 0)),this.#nK=(Bm(this,C),Bm(this,k,void 0)),this.#i7=(Bm(this,S),Bm(this,M,void 0)),this.#av=(Bm(this,E),Bm(this,I,void 0)),this.#nX=(Bm(this,B),Bm(this,$,void 0)),Bm(this,T)}static{Bm(t,u)}},t})();var By=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Bb=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let Bw=(0,H.AH)`
  .pie-parent-node-container {
    position: absolute;
    list-style-type: none;
  }

  .pie-node.center {
    width: 6rem;
    height: 6rem;
    padding: 0.4rem;
  }

  .pie-node.center[active='true'] .node-content > svg,
  .pie-node.center[active='true'] .node-content > .color-unit,
  .pie-node.center[active='true'] .node-content > .color-unit > svg {
    width: 2rem !important;
    height: 2rem !important;
  }

  .pie-node.center[active='false'] {
    width: 3rem;
    height: 3rem;
    opacity: 0.6;
  }
`,Bx=(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("pie-node-center")],l=[],c=H.WF,d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[];return class extends c{static{t=this}static{let w="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],By(this,null,i,{kind:"accessor",name:"hoveredNode",static:!1,private:!1,access:{has:e=>"hoveredNode"in e,get:e=>e.hoveredNode,set:(e,t)=>{e.hoveredNode=t}},metadata:w},d,h),By(this,null,s,{kind:"accessor",name:"isActive",static:!1,private:!1,access:{has:e=>"isActive"in e,get:e=>e.isActive,set:(e,t)=>{e.isActive=t}},metadata:w},u,p),By(this,null,o,{kind:"accessor",name:"node",static:!1,private:!1,access:{has:e=>"node"in e,get:e=>e.node,set:(e,t)=>{e.node=t}},metadata:w},f,g),By(this,null,r,{kind:"accessor",name:"onMouseEnter",static:!1,private:!1,access:{has:e=>"onMouseEnter"in e,get:e=>e.onMouseEnter,set:(e,t)=>{e.onMouseEnter=t}},metadata:w},m,v),By(this,null,a,{kind:"accessor",name:"rotatorAngle",static:!1,private:!1,access:{has:e=>"rotatorAngle"in e,get:e=>e.rotatorAngle,set:(e,t)=>{e.rotatorAngle=t}},metadata:w},y,b),By(null,e={value:t},n,{kind:"class",name:t.name,metadata:w},null,l),t=e.value,w&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w})}static{this.styles=[Bv.styles,Bw]}render(){let[e,t]=this.node.position,i={transform:`translate(${e}px, ${t}px) translate(-50%, -50%)`};return(0,H.qy)`
      <div style="${(0,Z.W)(i)}" class="pie-parent-node-container">
        <div
          style="${(0,Z.W)({transform:"translate(-50%, -50%)"})}"
          active="${this.isActive.toString()}"
          @mouseenter="${this.onMouseEnter}"
          class="pie-node center"
        >
          <pie-node-content
            .node="${this.node}"
            .hoveredNode="${this.hoveredNode}"
            .isActive="${this.isActive}"
          ></pie-node-content>

          <pie-center-rotator
            .angle=${this.rotatorAngle}
            .isActive=${this.isActive}
          ></pie-center-rotator>
        </div>
        <slot></slot>
      </div>
    `}#nQ=Bb(this,d,void 0);get hoveredNode(){return this.#nQ}set hoveredNode(e){this.#nQ=e}#nJ=(Bb(this,h),Bb(this,u,void 0));get isActive(){return this.#nJ}set isActive(e){this.#nJ=e}#n1=(Bb(this,p),Bb(this,f,void 0));get node(){return this.#n1}set node(e){this.#n1=e}#n0=(Bb(this,g),Bb(this,m,void 0));get onMouseEnter(){return this.#n0}set onMouseEnter(e){this.#n0=e}#n2=(Bb(this,v),Bb(this,y,null));get rotatorAngle(){return this.#n2}set rotatorAngle(e){this.#n2=e}constructor(){super(...arguments),Bb(this,b)}static{Bb(t,l)}},t})();var B_=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},BC=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let Bk=(0,H.AH)`
  .pie-node.child {
    width: 3rem;
    height: 3rem;
    padding: 0.6rem;
    animation: my-anim 250ms cubic-bezier(0.775, 1.325, 0.535, 1);
  }

  .pie-node.child.node-color {
    width: 0.7rem;
    height: 0.7rem;
  }

  .pie-node.child:not(.node-color)::after {
    content: attr(index);
    color: var(--affine-text-secondary-color);
    position: absolute;
    font-size: 8px;
    bottom: 10%;
    right: 30%;
  }

  .pie-node.child[hovering='true'] {
    border-color: var(--affine-primary-color);
    background-color: var(--affine-hover-color-filled);
    scale: 1.06;
  }

  .pie-node.child.node-submenu::before {
    content: '';
    position: absolute;
    top: 50%;
    right: 10%;
    transform: translateY(-50%);
    width: 5px;
    height: 5px;
    background-color: var(--affine-primary-color);
    border-radius: 50%;
  }
`,BS=(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("pie-node-child")],n=[],l=H.WF,c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];return class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],B_(this,null,i,{kind:"accessor",name:"hovering",static:!1,private:!1,access:{has:e=>"hovering"in e,get:e=>e.hovering,set:(e,t)=>{e.hovering=t}},metadata:v},c,d),B_(this,null,s,{kind:"accessor",name:"node",static:!1,private:!1,access:{has:e=>"node"in e,get:e=>e.node,set:(e,t)=>{e.node=t}},metadata:v},h,u),B_(this,null,o,{kind:"accessor",name:"onClick",static:!1,private:!1,access:{has:e=>"onClick"in e,get:e=>e.onClick,set:(e,t)=>{e.onClick=t}},metadata:v},p,f),B_(this,null,r,{kind:"accessor",name:"visible",static:!1,private:!1,access:{has:e=>"visible"in e,get:e=>e.visible,set:(e,t)=>{e.visible=t}},metadata:v},g,m),B_(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=[Bv.styles,Bk]}render(){let{model:e,position:t}=this.node,[i,s]=t,o={top:"50%",left:"50%",transform:`translate(${i}px, ${s}px) translate(-50%, -50%)`,visibility:this.visible?"visible":"hidden"};return(0,H.qy)`<li
      style="${(0,Z.W)(o)}"
      hovering="${this.hovering.toString()}"
      @click="${this.onClick}"
      index="${this.node.index}"
      class=${`pie-node child node-${e.type}`}
    >
      <pie-node-content
        .node=${this.node}
        .isActive=${!1}
        .hoveredNode=${null}
      >
      </pie-node-content>
    </li>`}#n5=BC(this,c,void 0);get hovering(){return this.#n5}set hovering(e){this.#n5=e}#n1=(BC(this,d),BC(this,h,void 0));get node(){return this.#n1}set node(e){this.#n1=e}#eE=(BC(this,u),BC(this,p,void 0));get onClick(){return this.#eE}set onClick(e){this.#eE=e}#nd=(BC(this,f),BC(this,g,void 0));get visible(){return this.#nd}set visible(e){this.#nd=e}constructor(){super(...arguments),BC(this,m)}static{BC(t,n)}},t})();var BM=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},BE=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let BI=(0,H.AH)`
  .node-content > svg {
    width: 24px;
    height: 24px;
  }

  .node-content.center[active='true'] > svg,
  .node-content.center[active='true'] > .color-unit,
  .node-content.center[active='true'] > .color-unit > svg {
    width: 2rem !important;
    height: 2rem !important;
  }
`,BB=(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("pie-node-content")],n=[],l=H.WF,c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];return class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.P)(".node-content")],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],BM(this,null,i,{kind:"accessor",name:"_nodeContentElement",static:!1,private:!1,access:{has:e=>"_nodeContentElement"in e,get:e=>e._nodeContentElement,set:(e,t)=>{e._nodeContentElement=t}},metadata:v},c,d),BM(this,null,s,{kind:"accessor",name:"hoveredNode",static:!1,private:!1,access:{has:e=>"hoveredNode"in e,get:e=>e.hoveredNode,set:(e,t)=>{e.hoveredNode=t}},metadata:v},h,u),BM(this,null,o,{kind:"accessor",name:"isActive",static:!1,private:!1,access:{has:e=>"isActive"in e,get:e=>e.isActive,set:(e,t)=>{e.isActive=t}},metadata:v},p,f),BM(this,null,r,{kind:"accessor",name:"node",static:!1,private:!1,access:{has:e=>"node"in e,get:e=>e.node,set:(e,t)=>{e.node=t}},metadata:v},g,m),BM(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=BI}_renderCenterNodeContent(){if(Bl(this.node.model)&&!this.isActive)return this._renderChildNodeContent();let{menu:e,model:t}=this.node,i=e.isActiveNode(this.node),s=this.hoveredNode;if(this.isActive&&Bl(t)&&"color-picker"===t.role){if(!s)return this.node.icon;(0,V.U2)(s.model.type,"color","IPieSubMenuNode.role with color-picker should have children of type color");let{color:e,hollowCircle:t}=s.model;return g9(e,{hollowCircle:t})}let{label:o}=t,r=this.node.icon??o;return i&&s?s.model.label:r}_renderChildNodeContent(){return this.node.icon}render(){let e=this.node.isCenterNode()?this._renderCenterNodeContent():this._renderChildNodeContent();return(0,H.qy)`
      <div
        active="${this.isActive.toString()}"
        class="node-content ${this.node.isCenterNode()?"center":"child"}"
      >
        ${e}
      </div>
    `}updated(e){super.updated(e),e.has("hoveredNode")&&this._nodeContentElement&&this.isActive&&this._nodeContentElement.animate([{opacity:0},{opacity:1}],{duration:250,easing:"cubic-bezier(0.775, 1.325, 0.535, 1)",fill:"forwards"})}#n7=BE(this,c,void 0);get _nodeContentElement(){return this.#n7}set _nodeContentElement(e){this.#n7=e}#nQ=(BE(this,d),BE(this,h,void 0));get hoveredNode(){return this.#nQ}set hoveredNode(e){this.#nQ=e}#nJ=(BE(this,u),BE(this,p,void 0));get isActive(){return this.#nJ}set isActive(e){this.#nJ=e}#n1=(BE(this,f),BE(this,g,void 0));get node(){return this.#n1}set node(e){this.#n1=e}constructor(){super(...arguments),BE(this,m)}static{BE(t,n)}},t})();var B$=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},BT=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let BO=(0,H.AH)`
  .rotator {
    position: absolute;
    background: var(--affine-background-overlay-panel-color);
    box-shadow: var(--affine-shadow-2);
    border: 2px solid var(--affine-primary-color);
    border-radius: 50%;
    width: 7px;
    height: 7px;
    top: 50%;
    left: 50%;
  }
`,BP=(()=>{let e,t,i,s,o=[(0,L.EM)("pie-center-rotator")],r=[],a=H.WF,n=[],l=[],c=[],d=[];return class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],B$(this,null,i,{kind:"accessor",name:"angle",static:!1,private:!1,access:{has:e=>"angle"in e,get:e=>e.angle,set:(e,t)=>{e.angle=t}},metadata:h},n,l),B$(this,null,s,{kind:"accessor",name:"isActive",static:!1,private:!1,access:{has:e=>"isActive"in e,get:e=>e.isActive,set:(e,t)=>{e.isActive=t}},metadata:h},c,d),B$(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=BO}render(){if(!this.isActive||null===this.angle)return H.s6;let[e,t]=Br((0,iH.DF)(this.angle),[45,45]),i={transform:`translate(${e}px, ${t}px) translate(-50%, -50%)`};return(0,H.qy)`<span style="${(0,Z.W)(i)}" class="rotator"></span>`}#nW=BT(this,n,null);get angle(){return this.#nW}set angle(e){this.#nW=e}#nJ=(BT(this,l),BT(this,c,void 0));get isActive(){return this.#nJ}set isActive(e){this.#nJ=e}constructor(){super(...arguments),BT(this,d)}static{BT(t,r)}},t})();class BA{static{this.registeredSchemas={}}static{this.schemas=new Set}static{this.settings={PIE_RADIUS:150,SELECT_ON_RELEASE_TIMEOUT:150,ACTIVATE_THRESHOLD_MIN:60,SUBMENU_OPEN_TIMEOUT:200,EXPANDABLE_ACTION_NODE_TIMEOUT:300}}static{this.slots={open:new v.DX}}static _getSchema(e){let t=this.registeredSchemas[e];return(0,V.Z1)(t),t}static _register(e){let{id:t}=e;(0,V.QV)(this.registeredSchemas[t],`Menu with id '${t}' already exists. Please provide a unique id`),this.registeredSchemas[t]=e}static _setupTriggers(e){Object.values(this.registeredSchemas).forEach(t=>{let{trigger:i}=t;e.handleEvent("keyDown",s=>{let o=s.get("keyboardState");i({keyEvent:o.raw,rootComponent:e})&&!o.raw.repeat&&this.open(t.id)},{global:!0})})}static add(e){return this.schemas.add(e)}static dispose(){this.registeredSchemas={}}static open(e){this.slots.open.emit(this._getSchema(e))}static remove(e){return this.schemas.delete(e)}static setup({rootComponent:e}){this.schemas.forEach(e=>this._register(e)),this._setupTriggers(e)}}let BH=new class{constructor(e){this._schema=null,this._stack=[],this._schema={...e,root:{type:"root",children:[],label:e.label,icon:e.icon,disabled:!1}},this._stack.push(this._schema.root)}_computeAngles(e){if(!Ba(e)||!e.children||0===e.children.length)return;let t=void 0==e.angle?void 0:(e.angle+180)%360,i=function(e,t){let i=[];if(0==e.length)return i;let s=[];if(e.forEach((e,t)=>{e.angle&&e.angle>=0&&s.push({angle:e.angle,index:t})}),void 0!=t)for(let e=0;e<s.length;e++)1e-4>Math.abs(s[e].angle-t)&&(s[e].angle+=.1);for(let e=0;e<s.length;e++)s[e].angle=s[e].angle%360;for(let e=0;e<s.length-1;)s[e].angle>s[e+1].angle?s.splice(e+1,1):++e;if(0==s.length){let o=0;if(void 0!=t){let i=360/(e.length+1),s=360;for(let o=0;o<e.length;o++)s=Math.min(s,(t+(o+1)*i)%360);o=s}s.push({angle:o,index:0}),i[0]=o}for(let o=0;o<s.length;o++){let r=s[o].index,a=s[o].angle,n=s[(o+1)%s.length].index,l=s[(o+1)%s.length].angle;i[r]=a,l<=a&&(l+=360);let c=(n-r-1+e.length)%e.length,d=!1;void 0!=t&&(t<a&&(t+=360),(d=t>a&&t<l)&&(c+=1));let h=(l-a)/(c+1),u=(r+1)%e.length,p=1,f=d;for(;u!=n;){let s=a+h*p;f&&s+h/2-(t??0)>0&&(p+=1,s=a+h*p,f=!1),i[u]=s%360,u=(u+1)%e.length,p+=1}}return i}(e.children,t),s=function(e,t){if(0===e.length&&void 0===t)return[];if(1===e.length&&void 0===t)return[{start:0,end:360}];if(1===e.length&&void 0!==t){let i=t,s=e[0],o=t+360;return[i,s,o]=Bp(i,s,o),[i,o]=Bf(i,s,o,.5),[{start:i,end:o}]}let i=[];for(let a=0;a<e.length;a++){var s,o,r;let n=e[(a+e.length-1)%e.length],l=e[a],c=e[(a+1)%e.length];[n,l,c]=Bp(n,l,c),void 0!==t&&([n,c]=(s=n,o=l,r=c,Bu(t,s,o)&&(s=t),Bu(t,o,r)&&(r=t),[s,r]),[n,l,c]=Bp(n,l,c)),[n,c]=Bf(n,l,c,.5),i.push({start:n,end:c})}return i}(i,t);for(let t=0;t<e.children.length;++t){let o=e.children[t];o.angle=i[t],o.startAngle=s[t].start,o.endAngle=s[t].end,this._computeAngles(o)}}_currentNode(){let e=this._stack[this._stack.length-1];return(0,V.Z1)(e,"No node active"),e}beginSubmenu(e,t){let i=this._currentNode(),s={openOnHover:!0,...e,type:"submenu",role:t?"default":"command",action:t,children:[]};return void 0!==s.action&&(s.timeoutOverride=BA.settings.EXPANDABLE_ACTION_NODE_TIMEOUT),Ba(i)&&i.children.push(s),this._stack.push(s),this}build(){let e=this._schema;return(0,V.Z1)(e),this._computeAngles(e.root),this._schema=null,this._stack=[],e}colorPicker(e){let t=e.hollow??!1,i={type:"submenu",icon:i=>g9(e.active(i),{hollowCircle:t}),label:e.label,role:"color-picker",openOnHover:e.openOnHover??!0,children:e.colors.map(({color:i})=>({icon:()=>g9(i,{hollowCircle:t}),type:"color",hollowCircle:t,label:i,color:i,onChange:e.onChange}))},s=this._currentNode();Ba(s)&&s.children.push(i)}command(e){let t=this._currentNode(),i={...e,type:"command"};return Ba(t)&&t.children.push(i),this}endSubmenu(){if(1===this._stack.length)throw Error("Cant end submenu already on the root node");return this._stack.pop(),this}expandableCommand(e){let{icon:t,label:i}=e;this.beginSubmenu({icon:t,label:i},e.action),e.submenus(this),this.endSubmenu()}reset(e){this._stack=[],this._schema={...e,root:{type:"root",children:[],label:e.label}},this._stack.push(this._schema.root)}}({id:"affine:pie:edgeless:tools",label:"Tools",icon:tJ,trigger:({keyEvent:e,rootComponent:t})=>{if((0,lt.QI)(e))return!1;let i=t.service.selection.editing;return"q"===e.key&&!i}});BH.expandableCommand({label:"Pen",icon:tm,action:Bo({type:"brush"}),submenus:e=>{e.colorPicker({label:"Pen Color",active:Bs,onChange:(e,{rootComponent:t})=>{t.service.editPropsStore.recordLastProps("brush",{color:e})},colors:g1.map(e=>({color:e}))})}}),BH.command({label:"Eraser",icon:ty,action:Bo({type:"eraser"})}),BH.command({label:"Frame",icon:ta,action:Bo({type:"frame"})}),BH.command({label:"Select",icon:eh,action:Bo({type:"default"})}),BH.command({label:"Note",icon:te,action:Bo({type:"affine:note",childFlavour:mC,childType:mk,tip:mS})}),BH.command({label:"Reset Zoom",icon:eF,action:({rootComponent:e})=>{e.service.zoomToFit()}}),BH.command({label:"Present",icon:({rootComponent:e})=>{let{type:t}=e.edgelessTool;return"frameNavigator"===t?(0,H.qy)`
        <span
          style="${(0,Z.W)({color:"#eb4335",fontWeight:"bold"})}"
          >Stop</span
        >
      `:em},action:({rootComponent:e})=>{let{type:t}=e.edgelessTool;if("frameNavigator"===t){e.tools.setEdgelessTool({type:"default"}),document.fullscreenElement&&document.exitFullscreen().catch(console.error);return}e.tools.setEdgelessTool({type:"frameNavigator",mode:"fit"})}}),BH.beginSubmenu({label:"Connector",icon:({rootComponent:e})=>{let t=e.edgelessTool;if("connector"===t.type)switch(t.mode){case S.B1.Orthogonal:return e6;case S.B1.Curve:return e3;case S.B1.Straight:return e4}return tU}}),BH.command({label:"Curved",icon:e3,action:Bo({type:"connector",mode:S.B1.Curve})}),BH.command({label:"Elbowed",icon:e4,action:Bo({type:"connector",mode:S.B1.Orthogonal})}),BH.command({label:"Straight",icon:e6,action:Bo({type:"connector",mode:S.B1.Straight})}),BH.colorPicker({label:"Line Color",active:Bs,onChange:(e,{rootComponent:t})=>{t.service.editPropsStore.recordLastProps("connector",{stroke:e})},colors:g1.map(e=>({color:e}))}),BH.endSubmenu(),BH.beginSubmenu({label:"Shapes",icon:tw}),[{type:O.IO.Rect,label:"Rect",icon:e=>e===C.lH.General?eT:eL},{type:O.IO.Ellipse,label:"Ellipse",icon:e=>e===C.lH.General?eO:eD},{type:O.IO.Triangle,label:"Triangle",icon:e=>e===C.lH.General?eA:ej},{type:O.IO.Diamond,label:"Diamond",icon:e=>e===C.lH.General?eP:eZ}].forEach(e=>{BH.command({label:e.label,icon:({rootComponent:t})=>{let i=t.service.editPropsStore.getLastProps("shape");return e.icon(i.shapeStyle)},action:({rootComponent:t})=>{t.service.tool.setEdgelessTool({type:"shape",shapeType:e.type}),t.service.editPropsStore.recordLastProps("shape",{shapeType:e.type}),Bt(t)}})}),BH.command({label:"Toggle Style",icon:({rootComponent:e})=>{let{shapeStyle:t}=e.service.editPropsStore.getLastProps("shape");return t===C.lH.General?tA:tP},action:({rootComponent:e})=>{let{shapeStyle:t}=e.service.editPropsStore.getLastProps("shape"),i=t===C.lH.General?C.lH.Scribbled:C.lH.General;e.service.editPropsStore.recordLastProps("shape",{shapeStyle:i}),Bt(e)}}),BH.colorPicker({label:"Fill",active:Bi("fill"),onChange:(e,{rootComponent:t})=>{t.service.editPropsStore.recordLastProps("shape",{fillColor:e}),Bt(t)},colors:O.d.map(e=>({color:e}))}),BH.colorPicker({label:"Stroke",hollow:!0,active:Bi("stroke"),onChange:(e,{rootComponent:t})=>{t.service.editPropsStore.recordLastProps("shape",{strokeColor:e}),Bt(t)},colors:O.S5.map(e=>({color:e,name:"Color"}))}),BH.endSubmenu();let BL=BH.build();var BD=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},BZ=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let Bj=(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("affine-pie-menu")],n=[],l=(0,P.Tm)(H.WF),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];return class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],BD(this,null,i,{kind:"accessor",name:"position",static:!1,private:!1,access:{has:e=>"position"in e,get:e=>e.position,set:(e,t)=>{e.position=t}},metadata:v},c,d),BD(this,null,s,{kind:"accessor",name:"rootComponent",static:!1,private:!1,access:{has:e=>"rootComponent"in e,get:e=>e.rootComponent,set:(e,t)=>{e.rootComponent=t}},metadata:v},h,u),BD(this,null,o,{kind:"accessor",name:"schema",static:!1,private:!1,access:{has:e=>"schema"in e,get:e=>e.schema,set:(e,t)=>{e.schema=t}},metadata:v},p,f),BD(this,null,r,{kind:"accessor",name:"widgetComponent",static:!1,private:!1,access:{has:e=>"widgetComponent"in e,get:e=>e.widgetComponent,set:(e,t)=>{e.widgetComponent=t}},metadata:v},g,m),BD(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=I9}_createNodeTree(e){let t=new Bv,{angle:i,startAngle:s,endAngle:o,label:r}=e;if(t.id=r,t.model=e,t.angle=i??0,t.startAngle=s??0,t.endAngle=o??0,t.menu=this,Bn(e))t.position=[0,0];else{t.slot="children-slot";let{PIE_RADIUS:i}=BA.settings,s="color"===e.type?.6*i:i;t.position=Br((0,iH.DF)(t.angle),[s,s])}return Ba(e)&&e.children.forEach((e,i)=>{let s=this._createNodeTree(e);s.containerNode=t,s.index=i+1,s.setAttribute("index",s.index.toString()),t.append(s)}),t}_setupEvents(){this._disposables.addFromEvent(this.widgetComponent,"pointermove",this._handlePointerMove),this._disposables.addFromEvent(document,"keydown",this._handleKeyDown)}close(){this.abortController.abort()}connectedCallback(){super.connectedCallback(),this._setupEvents();let e=this._createNodeTree(this.schema.root);this.selectionChain.push(e)}getActiveNodeRelPos(){let e=[...this.position];for(let t of this.selectionChain)e[0]+=t.position[0],e[1]+=t.position[1];return e}getActiveNodeToMouseLenSq(e){let[t,i]=e,[s,o]=this.getActiveNodeRelPos();return iv.l.len2([t-s,i-o])}getNodeRelPos(e){let t=[...this.position],i=e;for(;null!==i;)t[0]+=i.position[0],t[1]+=i.position[1],i=i.containerNode;return t}isActiveNode(e){return this.activeNode===e}isChildOfActiveNode(e){return e.containerNode===this.activeNode}openSubmenu(e){(0,V.U2)(e.model.type,"submenu","Need node of type submenu"),Bh(e.model)&&e.select(),this.selectionChain.push(e),this.setHovered(null),this.slots.requestNodeUpdate.emit()}popSelectionChainTo(e){for((0,V.U2)(Ba(e.model),!0,"Required a root node or a submenu node");this.selectionChain.length>1&&this.activeNode!==e;)this.selectionChain.pop();this.requestUpdate(),this.slots.requestNodeUpdate.emit()}render(){let[e,t]=this.position,i={transform:`translate(${e}px, ${t}px) translate(-50%, -50%)`};return(0,H.qy)` <div class="pie-menu-container">
      <div class="overlay" @click="${()=>this.abortController.abort()}"></div>

      <div style="${(0,Z.W)(i)}" class="pie-menu">
        ${this.rootNode??H.s6}
      </div>
    </div>`}selectHovered(){let{hoveredNode:e}=this;e&&e.select()}setHovered(e){if(clearTimeout(this._openSubmenuTimeout),this._hoveredNode=e,e&&Bl(e.model)){let{openOnHover:t,timeoutOverride:i}=e.model,{SUBMENU_OPEN_TIMEOUT:s}=BA.settings;(void 0===t||t)&&(this._openSubmenuTimeout=setTimeout(()=>{this.openSubmenu(e)},i??s))}}get activeNode(){let e=this.selectionChain[this.selectionChain.length-1];return(0,V.Z1)(e,"Required atLeast 1 node active"),e}get hoveredNode(){return this._hoveredNode}get rootNode(){let e=this.selectionChain[0];return(0,V.Z1)(e,"No root node"),e}#av;get position(){return this.#av}set position(e){this.#av=e}#n3;get rootComponent(){return this.#n3}set rootComponent(e){this.#n3=e}#n4;get schema(){return this.#n4}set schema(e){this.#n4=e}#n6;get widgetComponent(){return this.#n6}set widgetComponent(e){this.#n6=e}constructor(){super(...arguments),this._handleKeyDown=e=>{let{key:t}=e;if("Escape"===t)return this.abortController.abort();if("Backspace"===e.code){if(this.selectionChain.length<=1)return;let{containerNode:e}=this.activeNode;e&&this.popSelectionChainTo(e)}t.match(/\d+/)&&this.selectChildWithIndex(parseInt(t))},this._handlePointerMove=e=>{let{clientX:t,clientY:i}=e,{ACTIVATE_THRESHOLD_MIN:s}=BA.settings;if(this.getActiveNodeToMouseLenSq([t,i])>s**2){let[e,s]=this.getActiveNodeRelPos(),o=2*Math.PI,r=(0,iH.ct)((Math.atan2(i-s,t-e)+o)%o);this.slots.pointerAngleUpdated.emit(r)}else this.slots.pointerAngleUpdated.emit(null)},this._hoveredNode=null,this.selectChildWithIndex=e=>{let t=this.activeNode;if(!t||isNaN(e))return;let i=t.querySelector(`& > affine-pie-node[index='${e}']`);i instanceof Bv&&!Bd(i.model)&&(Bl(i.model)?this.openSubmenu(i):i.select(),Bc(i.model)&&this.close())},this.abortController=new AbortController,this.selectionChain=[],this.slots={pointerAngleUpdated:new i_.D,requestNodeUpdate:new i_.D},this.#av=BZ(this,c,void 0),this.#n3=(BZ(this,d),BZ(this,h,void 0)),this.#n4=(BZ(this,u),BZ(this,p,void 0)),this.#n6=(BZ(this,f),BZ(this,g,void 0)),BZ(this,m)}static{BZ(t,n)}},t})();var BV=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},BR=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(0,A.lQ)(BB),(0,A.lQ)(Bx),(0,A.lQ)(BP),(0,A.lQ)(BS);let Bz="affine-pie-menu-widget";(()=>{let e,t,i=[(0,L.EM)(Bz)],s=[],o=P.W,r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;BV(this,null,[(0,L.wk)()],{kind:"accessor",name:"currentMenu",static:!1,private:!1,access:{has:e=>"currentMenu"in e,get:e=>e.currentMenu,set:(e,t)=>{e.currentMenu=t}},metadata:n},r,a),BV(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),BR(t,s)}_attachMenu(e){if(this.currentMenu&&this.currentMenu.id===e.id)return this.currentMenu.close();let[t,i]=this.mouse,s=this._createMenu(e,{x:t,y:i,widgetComponent:this});this.currentMenu=s,this.selectOnTrigRelease.timeout=setTimeout(()=>{this.selectOnTrigRelease.allow=!0},BA.settings.SELECT_ON_RELEASE_TIMEOUT)}_createMenu(e,{x:t,y:i,widgetComponent:s}){let o=new Bj;return o.id=e.id,o.schema=e,o.position=[t,i],o.rootComponent=s.rootComponent,o.widgetComponent=s,o.abortController.signal.addEventListener("abort",this._onMenuClose.bind(this)),o}_initPie(){BA.setup({rootComponent:this.rootComponent}),this._disposables.add(BA.slots.open.on(this._attachMenu.bind(this)))}_onMenuClose(){this.currentMenu=null,this.selectOnTrigRelease.allow=!1}connectedCallback(){super.connectedCallback(),this.isEnabled&&(this.handleEvent("keyUp",this._handleKeyUp,{global:!0}),this.handleEvent("pointerMove",this._handleCursorPos,{global:!0}),this.handleEvent("wheel",e=>{let t=e.get("defaultState");t.event instanceof WheelEvent&&t.event.stopPropagation()},{global:!0}),this._initPie())}disconnectedCallback(){super.disconnectedCallback(),BA.dispose()}render(){return this.currentMenu??H.s6}get isEnabled(){return this.doc.awarenessStore.getFlag("enable_pie_menu")}get isOpen(){return!!this.currentMenu}get rootComponent(){let e=this.block;if(e instanceof I8)return e;throw Error("AffinePieMenuWidget is only supported in edgeless")}#n8;get currentMenu(){return this.#n8}set currentMenu(e){this.#n8=e}constructor(){super(...arguments),this._handleCursorPos=e=>{let{x:t,y:i}=e.get("pointerState").point;this.mouse=[t,i]},this._handleKeyUp=e=>{if(!this.currentMenu)return;let t=e.get("keyboardState"),{trigger:i}=this.currentMenu.schema;i({keyEvent:t.raw,rootComponent:this.rootComponent})&&(clearTimeout(this.selectOnTrigRelease.timeout),this.selectOnTrigRelease.allow&&(this.currentMenu.selectHovered(),this.currentMenu.close()))},this.mouse=[innerWidth/2,innerHeight/2],this.selectOnTrigRelease={allow:!1},this.#n8=BR(this,r,null),BR(this,a)}})})(),BA.add(BL);var BF=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},BN=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let Bq=(()=>{let e,t,i,s,o,r,a,n,l,c=[(0,L.EM)("embed-card-create-modal")],d=[],h=(0,P.Tm)(P.ao),u=[],p=[],f=[],g=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[];return class extends h{static{t=this}static{let m="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.P)("input")],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({attribute:!1})],BF(this,null,i,{kind:"accessor",name:"_linkInputValue",static:!1,private:!1,access:{has:e=>"_linkInputValue"in e,get:e=>e._linkInputValue,set:(e,t)=>{e._linkInputValue=t}},metadata:m},u,p),BF(this,null,s,{kind:"accessor",name:"createOptions",static:!1,private:!1,access:{has:e=>"createOptions"in e,get:e=>e.createOptions,set:(e,t)=>{e.createOptions=t}},metadata:m},f,g),BF(this,null,o,{kind:"accessor",name:"descriptionText",static:!1,private:!1,access:{has:e=>"descriptionText"in e,get:e=>e.descriptionText,set:(e,t)=>{e.descriptionText=t}},metadata:m},v,y),BF(this,null,r,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:m},b,w),BF(this,null,a,{kind:"accessor",name:"input",static:!1,private:!1,access:{has:e=>"input"in e,get:e=>e.input,set:(e,t)=>{e.input=t}},metadata:m},x,_),BF(this,null,n,{kind:"accessor",name:"onConfirm",static:!1,private:!1,access:{has:e=>"onConfirm"in e,get:e=>e.onConfirm,set:(e,t)=>{e.onConfirm=t}},metadata:m},C,k),BF(this,null,l,{kind:"accessor",name:"titleText",static:!1,private:!1,access:{has:e=>"titleText"in e,get:e=>e.titleText,set:(e,t)=>{e.titleText=t}},metadata:m},S,M),BF(null,e={value:t},c,{kind:"class",name:t.name,metadata:m},null,d),t=e.value,m&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m})}static{this.styles=yr}_handleInput(e){let t=e.target;this._linkInputValue=t.value}connectedCallback(){super.connectedCallback(),this.updateComplete.then(()=>{requestAnimationFrame(()=>{this.input.focus()})}).catch(console.error),this.disposables.addFromEvent(this,"keydown",this._onDocumentKeydown)}render(){return(0,H.qy)`<div class="embed-card-modal">
      <div class="embed-card-modal-mask" @click=${this._onCancel}></div>
      <div class="embed-card-modal-wrapper">
        <div class="embed-card-modal-row">
          <div class="embed-card-modal-title">${this.titleText}</div>
        </div>

        <div class="embed-card-modal-row">
          <div class="embed-card-modal-description">
            ${this.descriptionText}
          </div>
        </div>

        <div class="embed-card-modal-row">
          <input
            class="embed-card-modal-input link"
            id="card-description"
            type="text"
            placeholder="Input in https://..."
            value=${this._linkInputValue}
            @input=${this._handleInput}
          />
        </div>

        <div class="embed-card-modal-row">
          <button
            class=${(0,oJ.H)({"embed-card-modal-button":!0,save:!0})}
            ?disabled=${!nR(this._linkInputValue)}
            @click=${this._onConfirm}
          >
            Confirm
          </button>
        </div>
      </div>
    </div>`}#n9;get _linkInputValue(){return this.#n9}set _linkInputValue(e){this.#n9=e}#le;get createOptions(){return this.#le}set createOptions(e){this.#le=e}#lt;get descriptionText(){return this.#lt}set descriptionText(e){this.#lt=e}#n;get host(){return this.#n}set host(e){this.#n=e}#eO;get input(){return this.#eO}set input(e){this.#eO=e}#li;get onConfirm(){return this.#li}set onConfirm(e){this.#li=e}#ls;get titleText(){return this.#ls}set titleText(e){this.#ls=e}constructor(){super(...arguments),this._onCancel=()=>{this.remove()},this._onConfirm=()=>{let e=this.input.value;if(!nR(e)){l8(this.host,"Invalid link");return}let t=this.host.spec.getService("affine:page").getEmbedBlockOptions(e),{mode:i}=this.createOptions;if("page"===i){let{parentModel:i,index:s}=this.createOptions,o="affine:bookmark";t&&(o=t.flavour),this.host.doc.addBlock(o,{url:e},i,s)}else if("edgeless"===i){let i="affine:bookmark",s="vertical";t&&(i=t.flavour,s=t.styles[0]);let o=(0,sc.$n)(this.host);(0,V.Z1)(o);let r=o.surface,a=iv.l.toVec(r.renderer.viewport.center);o.service.addBlock(i,{url:e,xywh:m.z.fromCenter(a,fA.Cd[s],fA.Hn[s]).serialize(),style:s},r.model),o.tools.setEdgelessTool({type:"default"})}this.onConfirm(),this.remove()},this._onDocumentKeydown=e=>{e.stopPropagation(),"Enter"!==e.key||e.isComposing||this._onConfirm(),"Escape"===e.key&&this.remove()},this.#n9=BN(this,u,""),this.#le=(BN(this,p),BN(this,f,void 0)),this.#lt=(BN(this,g),BN(this,v,void 0)),this.#n=(BN(this,y),BN(this,b,void 0)),this.#eO=(BN(this,w),BN(this,x,void 0)),this.#li=(BN(this,_),BN(this,C,void 0)),this.#ls=(BN(this,k),BN(this,S,void 0)),BN(this,M)}static{BN(t,d)}},t})();async function BU(e,t,i,s){e.selection.clear();let o=new Bq;return o.host=e,o.titleText=t,o.descriptionText=i,o.createOptions=s,document.body.append(o),new Promise(e=>{o.onConfirm=()=>e()})}async function BW(e,t,i){let s=await (0,sc.KW)(e,t.id);(0,V.Z1)(s,"RichText is not ready yet."),await s.updateComplete;let o=s.inlineEditor;(0,V.Z1)(o,"Inline editor is not ready yet."),o.slots.renderComplete.once(()=>{i&&i(s)})}async function BG(e,t,i){let s=t.doc;(0,V.Z1)(s.root);let o=e.view.viewFromPath("block",[s.root.id]);if(!o)return;await o.updateComplete;let r=e.view.viewFromPath("block",(0,sc.UL)(t));r&&i(r)}let BY=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_1013" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_1013)">
<rect x="8.5" y="28.5" width="169" height="67" rx="3.5" fill="white" stroke="#E3E2E4"/>
<mask id="mask1_16460_1013" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="8" y="28" width="170" height="68">
<rect x="8" y="28" width="170" height="68" rx="4" fill="white"/>
</mask>
<g mask="url(#mask1_16460_1013)">
<g filter="url(#filter0_d_16460_1013)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M149.686 42.516C149.796 41.7313 149.251 41.0057 148.47 40.8954L130.084 38.2995C128.913 38.1341 127.829 38.9542 127.665 40.1313L122.298 78.494C122.133 79.671 122.95 80.7593 124.121 80.9248L157.357 85.6174C158.529 85.7828 159.612 84.9627 159.777 83.7856L163.057 60.3418C163.166 59.5571 162.622 58.8315 161.841 58.7212L151.941 57.3234C149.598 56.9926 147.965 54.816 148.294 52.4619L149.686 42.516ZM133.567 59.8003C133.649 59.2118 134.191 58.8017 134.776 58.8844L152.455 61.3805C153.041 61.4632 153.449 62.0074 153.367 62.5959C153.284 63.1844 152.743 63.5945 152.157 63.5118L134.478 61.0157C133.892 60.933 133.484 60.3888 133.567 59.8003ZM133.932 64.923C133.346 64.8403 132.804 65.2504 132.722 65.8389C132.64 66.4274 133.048 66.9716 133.634 67.0543L151.312 69.5504C151.898 69.6331 152.44 69.223 152.522 68.6345C152.604 68.046 152.196 67.5018 151.61 67.4191L133.932 64.923Z" fill="white"/>
<path d="M153.295 43.1135C152.819 42.4792 151.818 42.7394 151.708 43.5259L150.416 52.7614C150.251 53.9385 151.067 55.0268 152.239 55.1922L161.432 56.4901C162.215 56.6007 162.74 55.7051 162.264 55.0708L153.295 43.1135Z" fill="white"/>
</g>
<g clip-path="url(#clip0_16460_1013)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M20.1088 36.804L17.0887 39.8241C16.1371 40.7509 16.1371 42.2492 17.0886 43.1759C18.0457 44.108 19.6014 44.108 20.5584 43.1759L23.5034 40.3144C23.6519 40.1701 23.8893 40.1735 24.0337 40.322C24.178 40.4706 24.1746 40.708 24.026 40.8523L21.0817 43.7132C21.0817 43.7133 21.0818 43.7131 21.0817 43.7132C19.8334 44.9288 17.8136 44.9289 16.5653 43.7132C15.3122 42.4926 15.3116 40.5099 16.5635 39.2886L19.5838 36.2683C20.4645 35.4105 21.8884 35.4106 22.7691 36.2683C23.6548 37.1309 23.6554 38.5332 22.771 39.3965L19.7507 42.4169C19.2376 42.9167 18.4095 42.9166 17.8964 42.4168C17.3777 41.9116 17.3777 41.0884 17.8964 40.5832L20.9956 37.5647C21.1439 37.4202 21.3813 37.4233 21.5259 37.5717C21.6704 37.7201 21.6672 37.9575 21.5189 38.102L18.4197 41.1205C18.2033 41.3312 18.2033 41.6688 18.4197 41.8796C18.6411 42.0952 19.0038 42.0957 19.2259 41.881L22.2458 38.861C22.8298 38.2923 22.8298 37.3744 22.2459 36.8056C21.6569 36.232 20.6984 36.2315 20.1088 36.804Z" fill="#77757D"/>
</g>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" font-weight="600" letter-spacing="0em"><tspan x="30" y="43.6364">Rickroll.mp3</tspan></text>
</g>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="10" y="18.6364">Attach a file.</tspan></text>
</g>
<defs>
<filter id="filter0_d_16460_1013" x="118.277" y="34.2783" width="48.7936" height="55.3602" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset/>
<feGaussianBlur stdDeviation="2"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0.258824 0 0 0 0 0.254902 0 0 0 0 0.286275 0 0 0 0.18 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_16460_1013"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_16460_1013" result="shape"/>
</filter>
<clipPath id="clip0_16460_1013">
<rect width="12" height="12" fill="white" transform="translate(14 34)"/>
</clipPath>
</defs>
</svg>
`,BK=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_971" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_971)">
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="43.6364">Any user may have a different perspective on what data they </tspan><tspan x="8" y="55.6364">either have, choose to share, or accept.&#10;</tspan><tspan x="8" y="71.6364">For example, one user&#x2019;s edits to a document might be on </tspan><tspan x="8" y="83.6364">their laptop on an airplane; when the plane lands and the </tspan><tspan x="8" y="95.6364">computer reconnects, those changes are distributed to </tspan><tspan x="8" y="107.636">other users.&#10;</tspan><tspan x="8" y="123.636">Other users might choose to accept all, some, or none of </tspan><tspan x="8" y="135.636">those changes to their version of the document.</tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" font-weight="bold" letter-spacing="0px"><tspan x="8" y="15.6364">In a decentralized system, we can have a kaleidoscopic </tspan><tspan x="8" y="27.6364">complexity to our data.&#10;</tspan></text>
</g>
</svg>
`,BX=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_934" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_934)">
<circle cx="14" cy="26" r="1.5" fill="#1C81D9"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="22" y="29.6364">Here&#39;s an example of a bulleted list.</tspan></text>
<circle cx="14" cy="42" r="1.5" fill="#1C81D9"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="22" y="45.6364">You can list your plans such as this</tspan></text>
</g>
</svg>
`,BQ=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_915" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_915)">
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="var(--affine-font-code-family)" font-size="11" letter-spacing="0em"><tspan x="47.5742" y="17.46"> </tspan><tspan x="126.723" y="17.46">: </tspan><tspan x="166.297" y="17.46"> {&#10;</tspan><tspan x="8" y="32.46">    </tspan><tspan x="100.34" y="32.46"> helloTo </tspan><tspan x="166.297" y="32.46"> &#34;World&#34;&#10;</tspan><tspan x="8" y="47.46">    </tspan><tspan x="54.1699" y="47.46"> body: </tspan><tspan x="126.723" y="47.46"> </tspan><tspan x="159.701" y="47.46"> {&#10;</tspan><tspan x="8" y="62.46">        </tspan><tspan x="87.1484" y="62.46">(</tspan><tspan x="219.062" y="62.46">)&#10;</tspan><tspan x="8" y="77.46">}&#10;</tspan><tspan x="8" y="92.46">}</tspan></text>
<text fill="#0782A0" xml:space="preserve" style="white-space: pre" font-family="var(--affine-font-code-family)" font-size="11" letter-spacing="0em"><tspan x="8" y="17.46">struct</tspan><tspan x="73.957" y="32.46"> var</tspan><tspan x="159.701" y="32.46">=</tspan><tspan x="34.3828" y="47.46">var</tspan><tspan x="100.34" y="47.46">some</tspan><tspan x="139.914" y="62.46">\(</tspan></text>
<text fill="#842ED3" xml:space="preserve" style="white-space: pre" font-family="var(--affine-font-code-family)" font-size="11" letter-spacing="0em"><tspan x="54.1699" y="17.46">ContentView</tspan></text>
<text fill="#C62222" xml:space="preserve" style="white-space: pre" font-family="var(--affine-font-code-family)" font-size="11" letter-spacing="0em"><tspan x="139.914" y="17.46">View</tspan><tspan x="34.3828" y="32.46">@State</tspan><tspan x="133.318" y="47.46">View</tspan></text>
<text fill="#2159D3" xml:space="preserve" style="white-space: pre" font-family="var(--affine-font-code-family)" font-size="11" letter-spacing="0em"><tspan x="60.7656" y="62.46">Text</tspan></text>
<text fill="#D34F0B" xml:space="preserve" style="white-space: pre" font-family="var(--affine-font-code-family)" font-size="11" letter-spacing="0em"><tspan x="93.7441" y="62.46">&#34;Hello </tspan><tspan x="153.105" y="62.46">helloTo)!&#34;</tspan></text>
</g>
</svg>
`,BJ=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_1240" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_1240)">
<path d="M4 7C4 5.89543 4.89543 5 6 5H172V32H6C4.89543 32 4 31.1046 4 30V7Z" fill="#F4F4F5"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="15.6364">In a decentralized system, we can have a kaleidoscopic </tspan><tspan x="8" y="27.6364">complexity to our data.&#10;</tspan><tspan x="8" y="43.6364">Any user may have a different perspective on what data they </tspan><tspan x="8" y="55.6364">either have, choose to share, or accept.&#10;</tspan><tspan x="8" y="71.6364">For example, one user&#x2019;s edits to a document might be on </tspan><tspan x="8" y="83.6364">their laptop on an airplane; when the plane lands and the </tspan><tspan x="8" y="95.6364">computer reconnects, those changes are distributed to </tspan><tspan x="8" y="107.636">other users.&#10;</tspan><tspan x="8" y="123.636">Other users might choose to accept all, some, or none of </tspan><tspan x="8" y="135.636">those changes to their version of the document.</tspan></text>
</g>
</svg>
`,B1=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_1246" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_1246)">
<path d="M4 7C4 5.89543 4.89543 5 6 5H172V32H6C4.89543 32 4 31.1046 4 30V7Z" fill="#FDECEB"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="43.6364">Any user may have a different perspective on what data they </tspan><tspan x="8" y="55.6364">either have, choose to share, or accept.&#10;</tspan><tspan x="8" y="71.6364">For example, one user&#x2019;s edits to a document might be on </tspan><tspan x="8" y="83.6364">their laptop on an airplane; when the plane lands and the </tspan><tspan x="8" y="95.6364">computer reconnects, those changes are distributed to </tspan><tspan x="8" y="107.636">other users.&#10;</tspan><tspan x="8" y="123.636">Other users might choose to accept all, some, or none of </tspan><tspan x="8" y="135.636">those changes to their version of the document.</tspan></text>
<text fill="#EB4335" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="15.6364">In a decentralized system, we can have a kaleidoscopic </tspan><tspan x="8" y="27.6364">complexity to our data.&#10;</tspan></text>
</g>
</svg>
`,B0=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_928" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_928)">
<text fill="black" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="16.6364">In a decentralized system, we can have a </tspan><tspan x="8" y="30.6364">kaleidoscopic complexity to our data.&#10;</tspan><tspan x="8" y="54.6364">Any user may have a different perspective </tspan><tspan x="8" y="68.6364">on what data they either have, choose to </tspan><tspan x="8" y="82.6364">share, or accept.&#10;</tspan><tspan x="8" y="106.636">For example, one user&#x2019;s edits to a </tspan><tspan x="8" y="120.636">document might be on their laptop on an </tspan><tspan x="8" y="134.636">airplane; when the plane lands and the </tspan><tspan x="8" y="148.636">computer reconnects, those changes are </tspan><tspan x="8" y="162.636">distributed to other users.&#10;</tspan><tspan x="8" y="186.636">Other users might choose to accept all, </tspan><tspan x="8" y="200.636">some, or none of those changes to their </tspan><tspan x="8" y="214.636">version of the document.</tspan></text>
<line x1="8.25" y1="40.75" x2="169.75" y2="40.75" stroke="#E3E2E4" stroke-width="0.5" stroke-linecap="round"/>
</g>
</svg>
`,B2=(0,H.qy)`<svg width="170" height="106" viewBox="0 0 170 106" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="106" rx="2" fill="white"/>
<mask id="mask0_16460_1252" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="106">
<rect width="170" height="106" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_1252)">
<rect x="100.5" y="42.6565" width="141" height="51" stroke="#1E96EB" stroke-width="3" stroke-dasharray="5 5"/>
<circle cx="101.5" cy="43.5" r="6" fill="white" stroke="#1E96EB" stroke-width="3"/>
<rect x="105" y="8" width="59" height="26" rx="10" fill="black" fill-opacity="0.1"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="12" letter-spacing="0em"><tspan x="117" y="25.3636">Group</tspan></text>
<mask id="mask1_16460_1252" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="98" height="106">
<path d="M0 1.5C0 0.947717 0.447715 0.5 1 0.5H96.2527C96.8927 0.5 97.368 1.09278 97.2288 1.71742L74.1743 105.217C74.0725 105.675 73.6667 106 73.1982 106H0.999999C0.447715 106 0 105.552 0 105V1.5Z" fill="#F4F4F5"/>
</mask>
<g mask="url(#mask1_16460_1252)">
<path d="M0 1.5C0 0.947717 0.447715 0.5 1 0.5H96.2527C96.8927 0.5 97.368 1.09278 97.2288 1.71742L74.1743 105.217C74.0725 105.675 73.6667 106 73.1982 106H0.999999C0.447715 106 0 105.552 0 105V1.5Z" fill="#F4F4F5"/>
<rect x="23" y="41.6565" width="142" height="52" rx="9" stroke="black" stroke-opacity="0.5" stroke-width="2"/>
<path d="M23 12.4244C23 10.0964 24.8829 8.20923 27.2056 8.20923H71.7846C74.1073 8.20923 75.9902 10.0964 75.9902 12.4244V29.2849C75.9902 31.6128 74.1073 33.5 71.7846 33.5H27.2056C24.8829 33.5 23 31.6128 23 29.2849V12.4244Z" fill="black" fill-opacity="0.8"/>
<path d="M64.0353 25.2043C63.415 25.2043 62.8798 25.0674 62.4299 24.7935C61.9828 24.5169 61.6377 24.1313 61.3946 23.6367C61.1543 23.1393 61.0341 22.5608 61.0341 21.9014C61.0341 21.2419 61.1543 20.6606 61.3946 20.1577C61.6377 19.6519 61.9759 19.2579 62.409 18.9756C62.8449 18.6906 63.3535 18.5481 63.9347 18.5481C64.27 18.5481 64.6012 18.604 64.9281 18.7158C65.2551 18.8275 65.5527 19.0092 65.8209 19.2607C66.0892 19.5094 66.303 19.8391 66.4622 20.2499C66.6215 20.6606 66.7012 21.1664 66.7012 21.7672V22.1864H61.7383V21.3313H65.6952C65.6952 20.968 65.6225 20.6439 65.4772 20.3589C65.3347 20.0738 65.1307 19.8489 64.8652 19.684C64.6026 19.5191 64.2924 19.4367 63.9347 19.4367C63.5407 19.4367 63.1998 19.5345 62.912 19.7301C62.6269 19.9229 62.4076 20.1744 62.2539 20.4846C62.1002 20.7948 62.0234 21.1273 62.0234 21.4822V22.0523C62.0234 22.5385 62.1072 22.9506 62.2748 23.2888C62.4453 23.6241 62.6814 23.8798 62.9832 24.0558C63.285 24.2291 63.6357 24.3157 64.0353 24.3157C64.2952 24.3157 64.5299 24.2794 64.7395 24.2067C64.9519 24.1313 65.1349 24.0195 65.2886 23.8714C65.4423 23.7205 65.561 23.5333 65.6449 23.3097L66.6006 23.578C66.5 23.9021 66.3309 24.1872 66.0934 24.4331C65.8558 24.6762 65.5624 24.8662 65.2131 25.0031C64.8638 25.1373 64.4712 25.2043 64.0353 25.2043Z" fill="white"/>
<path d="M51.0779 25.0702V18.6319H52.0336V19.6379H52.1174C52.2515 19.2942 52.4681 19.0273 52.7671 18.8373C53.0661 18.6445 53.4252 18.5481 53.8443 18.5481C54.2691 18.5481 54.6226 18.6445 54.9048 18.8373C55.1898 19.0273 55.412 19.2942 55.5713 19.6379H55.6383C55.8032 19.3054 56.0505 19.0413 56.3802 18.8457C56.71 18.6473 57.1054 18.5481 57.5665 18.5481C58.1421 18.5481 58.613 18.7283 58.979 19.0888C59.3451 19.4465 59.5281 20.004 59.5281 20.7612V25.0702H58.5389V20.7612C58.5389 20.2862 58.409 19.9467 58.1491 19.7427C57.8892 19.5387 57.5832 19.4367 57.2311 19.4367C56.7784 19.4367 56.4278 19.5736 56.179 19.8475C55.9303 20.1185 55.806 20.4622 55.806 20.8786V25.0702H54.8V20.6606C54.8 20.2946 54.6813 19.9998 54.4437 19.7762C54.2062 19.5499 53.9002 19.4367 53.5258 19.4367C53.2687 19.4367 53.0284 19.5052 52.8048 19.6421C52.5841 19.779 52.4052 19.969 52.2683 20.2121C52.1342 20.4525 52.0671 20.7305 52.0671 21.0463V25.0702H51.0779Z" fill="white"/>
<path d="M46.3224 25.2211C45.9144 25.2211 45.5442 25.1442 45.2116 24.9905C44.8791 24.8341 44.615 24.6091 44.4194 24.3157C44.2238 24.0195 44.126 23.6618 44.126 23.2427C44.126 22.8738 44.1987 22.5748 44.344 22.3457C44.4893 22.1137 44.6835 21.9321 44.9266 21.8008C45.1697 21.6694 45.438 21.5716 45.7314 21.5073C46.0276 21.4403 46.3252 21.3872 46.6242 21.3481C47.0154 21.2978 47.3326 21.26 47.5757 21.2349C47.8216 21.207 48.0004 21.1608 48.1122 21.0966C48.2268 21.0323 48.284 20.9205 48.284 20.7612V20.7277C48.284 20.3141 48.1709 19.9928 47.9445 19.7637C47.721 19.5345 47.3815 19.4199 46.926 19.4199C46.4537 19.4199 46.0835 19.5233 45.8152 19.7301C45.547 19.9369 45.3583 20.1577 45.2493 20.3924L44.3104 20.0571C44.4781 19.6658 44.7017 19.3613 44.9811 19.1433C45.2633 18.9225 45.5707 18.7689 45.9032 18.6822C46.2386 18.5928 46.5683 18.5481 46.8924 18.5481C47.0992 18.5481 47.3368 18.5732 47.605 18.6235C47.8761 18.671 48.1373 18.7702 48.3888 18.9211C48.6431 19.072 48.8541 19.2998 49.0218 19.6044C49.1894 19.909 49.2733 20.3169 49.2733 20.8283V25.0702H48.284V24.1983H48.2337C48.1667 24.3381 48.0549 24.4876 47.8984 24.6468C47.7419 24.8061 47.5338 24.9416 47.2739 25.0534C47.014 25.1652 46.6968 25.2211 46.3224 25.2211ZM46.4733 24.3325C46.8645 24.3325 47.1942 24.2556 47.4625 24.1019C47.7336 23.9482 47.9375 23.7498 48.0745 23.5067C48.2142 23.2636 48.284 23.0079 48.284 22.7397V21.8343C48.2421 21.8846 48.1499 21.9307 48.0074 21.9726C47.8677 22.0117 47.7056 22.0467 47.5212 22.0774C47.3395 22.1053 47.1621 22.1305 46.9889 22.1528C46.8184 22.1724 46.6801 22.1892 46.5739 22.2031C46.3168 22.2367 46.0765 22.2912 45.8529 22.3666C45.6322 22.4393 45.4533 22.5497 45.3164 22.6978C45.1823 22.8431 45.1152 23.0415 45.1152 23.293C45.1152 23.6367 45.2424 23.8965 45.4967 24.0726C45.7537 24.2458 46.0793 24.3325 46.4733 24.3325Z" fill="white"/>
<path d="M40.0364 25.0704V18.6321H40.9921V19.6045H41.0592C41.1765 19.286 41.3889 19.0275 41.6963 18.8291C42.0037 18.6307 42.3502 18.5315 42.7358 18.5315C42.8084 18.5315 42.8993 18.5329 43.0082 18.5357C43.1172 18.5385 43.1997 18.5427 43.2556 18.5483V19.5542C43.222 19.5459 43.1452 19.5333 43.025 19.5165C42.9077 19.497 42.7833 19.4872 42.652 19.4872C42.339 19.4872 42.0596 19.5528 41.8136 19.6842C41.5705 19.8127 41.3777 19.9916 41.2352 20.2207C41.0955 20.447 41.0256 20.7055 41.0256 20.9961V25.0704H40.0364Z" fill="white"/>
<path d="M33.3126 25.0704V16.4861H38.4598V17.4082H34.3521V20.3088H38.0742V21.2309H34.3521V25.0704H33.3126Z" fill="white"/>
</g>
</g>
</svg>
`,B5=(0,H.qy)`<svg width="170" height="106" viewBox="0 0 170 106" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect width="170" height="106" rx="2" fill="white"/>
<mask id="mask0_16460_1083" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="106">
<rect width="170" height="106" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_1083)">
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="10" y="18.6364">Embed a Figma document.</tspan></text>
<rect x="8.5" y="28.5" width="169" height="121" rx="3.5" fill="white" stroke="#E3E2E4"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="9" font-weight="500" letter-spacing="0em"><tspan x="18" y="44.7727">AFFiNE Design System - Jul 2077</tspan></text>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="9" letter-spacing="0em"><tspan x="18" y="57.7727">Edited just now</tspan></text>
<rect x="16" y="66" width="154" height="58" rx="2" fill="url(#pattern0_16460_1083)"/>
</g>
<defs>
<pattern id="pattern0_16460_1083" patternContentUnits="objectBoundingBox" width="1" height="1">
<use xlink:href="#image0_16460_1083" transform="scale(0.00324675 0.00862069)"/>
</pattern>
<image id="image0_16460_1083" width="308" height="116" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATQAAAB0CAYAAAALrs5HAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABDPSURBVHgB7Z11kBxFG8Z7Q3C7w53gDgnu7u7uUIUWEKBwl0IKCFC4BSgKLSDBCw3uJLhDcM8drsl99+tL3/fuu7138Nft9T2/qq3czs7MzvR0P/1abyqhnZaWlgFtbW1D2/8c2P5qCkII0XsYVqlUBjc3N4+ujBezkUFCJoTovbS2i9qgfu1iNiRIzIQQvZsmvMzKmDFj2oIQQvR+WvsFIYQogyYJmhCiGCRoQohikKAJIYpBgiaEKAYJmhCiGCRoQohikKAJIYpBgiaEKAYJmhCiGCRoQohikKAJIYpBgiaEKAYJmhCiGCRoQohikKAJIYpBgiaEKAYJmhCiGCRoQohikKAJIYpBgiaEKAYJmhCiGCRoQohikKAJIYpBgiaEKAYJmhCiGCRoQohikKAJIYpBgiaEKAYJmhCiGCRoQohikKAJIYpBgiaEKAYJmhCiGCRoQohikKAJIYpBgiaEKAYJmhCiGCRoQohi6B9EEbz99tvhwQcfDNNPP33YZJNNwpRTThmE6GtI0AyvvfZa+PPPP7OfTTjhhGGyySYLs88+e5h00klDI3HvvfeG8847r/M94nbqqaeGRue7774Lb7zxRhg9enT466+/Qv/+/cMcc8wRFlhggfivEP8VCdp4/vjjj3DooYeGtra2LvebYoopwsCBA8Nee+3VMIPuzjvvrHr/zTffhEaGieOaa64J7733XnYC6devX1hxxRXDQQcdFKaddtrQkyC0vCyTTz55qFQqQTQeErTxYCV0J2bwyy+/hKeeeiqMGjUq7LnnnmGzzTYLPc1UU01V9X611VYLjcqNN94YbrjhhrqWMIwbNy62Mc9k6NChUeB6irPPPju8+OKLVdsuuuiiaKmLxkNJgfF8/fXX/2l/hO3SSy8Njz76aOhpDj/88LD88stHq+bAAw8MO+20U2hEbr/99nD11Vd3KWaWzz//PApaT8I18KzTC0t+1llnDaIxkYU2nvfff79m23TTTRfjZlgMuHF///131ee8v/7668Maa6zRoy7ILLPMEk4//fTQyLS2tkY307PEEktEF562xCr79NNPqz5/9dVXQ08xduzY8PHHH1dto0/0pMUoukaCNh7fceG0004L8803X/wbd/S5556LLshPP/3Uuc9nn30WY0IMTMsPP/wQhg0bFl555ZXwxRdfxDjMxBNPHBZddNGw7rrrhlVWWaXm+37//ff4HU888UR45513okXwzz//xCTEbLPNFlZdddUonjauhKB6K/HYY4/tvG54/vnnw/Dhw+M5sY4GDBgQ9t5777D44ovHf62rPeecc4aTTz45fPjhhzWJBfZFfG6++ebwzDPPRJEnWYJ1uNtuu4WZZ5451AO3DevGwnFWiLfeeuuwzTbbRCFJ/Pbbb/H+uE/LPvvsE1ZYYYXO96+//no499xzq/aZeuqp4zaSDQjl3XffHd59991oddEOCBP7LLLIImG99dYLSy65ZOexRx55ZLTaaX9LS0tL2H333aOwnXHGGfH+4ddffw1PPvlkePzxx2Pb8X6CCSaIrinPbf3114/flfjggw9i/7LsvPPOsU24V85FP+N7Ntpoo9guTJrJaiWZQv+YZpppwhZbbBG23HLLICRonfhAOoNgrrnm6nxPZ2IAbbvttuGqq66q2pfOaQWNgcM+dDgLgwgh4LX55ptH9zBZdnw/Hfytt96quTbE8McffwxvvvlmTACcddZZUeCA/RFVS4qpIQyXXXZZPMaKFsJ2yimnhGOOOabGIkpCSMDenxcOPvjgGNtKIFIPPfRQHGDElpqamkKOnKXFfXFdqQ0Y8GRrraCxDWHx18LAttxzzz01+yAEPMdbbrklXHvttTXBfUAwv/rqq/Dwww+HTTfdNN4fkxGTVG5/niHfQ1lMErOPPvooHH/88dmwBW3Niz7Bvc0wwwxxe+6eaEsSIZ988knVfV5++eXx+yaZZJIwZMiQKJaJL7/8Mlx88cVRPBshntvTyHYOHa6j71zMjAwGTy4Y/P3333f+zex5wQUX1IiZB+uNWRgYwAyInJh5GAh06gQd2oKLnAYNg/iOO+7IJjuY/S+55JKa7en+rGglsPJy2wFRYNDWI3cNWK+I+pVXXhktUwYqFiyTQ3phTS600EI1xyLwiTFjxoSXX3656nOs2NVXXz26sVdccUVWnDx33XVXvCbKSbrbP2W4EbPBgwd3G4OlfawFiRXn4VqtmFnuv//+cOGFF1aJmeW2226LoZG+jiy0dr799tsqqwCohcrBTOhJFsazzz4bM3iWeeedN6yzzjrx/HQ6XJYEQXLcEdwl38GxwHbZZZfoUtx0001xoCWY8RnElA/gzloIWHM9DAxcQw9uIedGPL11BnPPPXf811tAwDXgNnN+7z5CvcEIiy22WHjggQdqticLhmvlvAsuuGB0PcnUWsuNlxUx+zd1eLZdgcQIRcYnnnhizXfi2uFm0nYkKXD1E1iayy67bHwuZLJteAFWWmml2Af4l7gg57eTFxPKVlttFWaaaaZoNVITmEB0scRnnHHGrADiljc3N8fz+Xgt1jkw0XKvvr9yDNYmZUV9GQla6BhUnnrxIGZvD0F5wBKwYO1gTdHJgc6Ku5hgdgdcVg8xkbXXXjv+TQzNZtYY6GzzYgYIKDCY/IxNzIwYIK7SCy+8EI4++uia4+eZZ56610SsZt99940DhwwvKxMsXSVGiFE9/fTT0d2uB1ZcKgpGPPfbb7/OImba2IpYElSOIW5lSdYZn/mJgs923HHHKMyAEOBi2vtHVBEqYoZW0Gg34ovpPpmgvIWMpY0gAnFSxDlZe1wPEwmChkvv2X///aMYMpkQp/NWLfFGYmyPPfZYTfwNd7TRCr57Agla6HAHPEkYPC+99FLNNsSGmd1bPHR8Bn7CWxEIA+RcW9wLrL35558/Wk2DBg2KLpiNUeUGBQOf2TsnHBQOp7jP0ksvHa/PDhqEFyFHLLAALSQLcA+BGB3i6AUtubo5+C6ECrcO94mscld1f1hdtOt2220X3xPPtNZOsqp4Hj6hs/HGG3cG4BEuG9hHvIg1MdkgXLi0JAMWXnjhKkHmGG9xckzah899QTNtSxghhRJyMMnw8kJIuyNmgAXNs7DuJdeImAFuOX3G3hcimfMe+hoStJCPZ+AyeBAK3EMLnYiB4Ts3IHA5ty7BrAokGxAvL3iICrElXkAnJ9u16667xvc5IcbCwPLzLg0DprtiUEQLON5bdwx8i7WW6u2Tg8A7a01pF+JxDH4yj36AAzGlJGgpCZJIkwHBfAtiSxslSAzceuutVfvgznGPyUIGXOLDDjuss424Ht8GyR0HBNknkjjvfffdF7oihQl8jM5a4Nybj5XZBBUxW599VaFvBxK00BFDs0w00URxxvMQy/IxFdwLTP1cHVt3M2ZyVfmuk046KZx//vnZ8pEEHf26666LnZfyjdx34lLllj75Ds+g8hZSGjTeOgNiTpZcvCxXcIolRXmDhTbDikJAiZUxUSDovjTDuvf++4lfYW2NGDGiajvWl3W9cBuZOHAPbazMw0RF5pewAVZYzuW295cLPVAG0l09InG9XPzMLqPLtW2abCB3vP28L9PnBY00vA+AIzQE4y24QIiJhzIO8EFcXJ3uZmsLbgSlHgga1gFBYCxH3EovoiQfEDQ/qAgII1w5ofPV+WQsPbYUxOPXrfr4He5WLu7ItRM7szDoEbQEwu/r+MAKCEka62YhujwTa6kgFn6VBOemRg6rDZeVZ414YSF6yxyLjcmNCaar+GT6fs+ZZ54ZllpqqdAdubAFLm8i9/xs++fEVov5O+jzgka5Rq7EIokXrhXxsZxbusEGG8RYEuBKWBA4XMI0yLGaKJOwVhG1aAx4XxhLMJwsGuBSeQsHi4Nr9pYYQoyQ5mJyCCMDAZcUV46kgSe5VDkLwbrgiIi3Eoif5WrQclYq8T1qq1ZeeeXoRuN6ssbTY8UBwSSpkkQclwxBs+DKphghAn7OOedUCTkW6B577NFZr0UW2bu6ybrLPW9b0OzXzwLtZq8Za89OlvQFni0utsfGH33b0obWY6gXahAStOxsyACrV2+VoGKeavUELpGN5xB/oUgTlwpXkayindXpwLgJWFvegmEQEPvBrfIxIkDs6NQ+zpLEMzdb425xvQx4b03aawI/YHDBbQyL6/PxPmrFcu4WIsBgtOJL2xDX8rEtC9bWWmutVbWNot8kaJzD1v9hUXurj+JYuw9tTZvRTlihXsw4fxIqe1yCNbNYwYQeiJvSLjYWRoErViDCS8mHF0UyoOCz6r6I2/dJ2s+KqT+eCc57FH2VPi9oOdeiKxi0CApLY1I5BlCWQC2VHbjEeChs9WDNHXLIIbGTEk/ivRUnZvpc0StQCrDccstlM2nJbcE9Iytma9cSiBnC5QWBrCADHevLFxmn2rZELmmQ4oEejsMSwlr6t9AeZFR9HLOrpVW4lHZpESKx4YYbVsXluOZc8gYQKgQrkSuBYGJK5SLcL5MVqyQs9X6sgPINSkloXx8qQMxsX/KfI+7J0kVA/edY1lpf2kGfbwWb6eoOSiiOO+64+LIdEHD1qF3KJRMsxLhIACBKgLhQX8Ss3hV0aAYt6zTBljAkrNuBdWhn/QRW4RFHHFGzHbHA4shl97w7k1sSZdeOenDNEaiU1e0KxJjyDtzR3LXnYMCnmj0LIpLbnjsv9YE2RlZvGRFtk0TtgAMOCGuuuWboCoSSe6d+D3KTgXU3mWS8hWzbnxirP17W2f/p8xYaA7He+kNmPVwQOjwuVXeBVwYjy3jIvOEqJpcGi4Pjsewo0fCuGSUDLFMitkTRJC4dgwb3EEsA8eOngWyQnEGMVWixZRO4iFxLcq3IJBIHw1Xm/LaYFJIQ//zzzzXnTfVPdl+/jy1pyEFRLhYN1fK42FihuMFMBJyPWOQyyyxTd4UG2MC5hTKW3KCm3SkeJrbGMyEWittP+/MZ58PixUr2zwRBZR0sqzmYPGg/vsMmL1hfyXpYwgMkgNiP58Y9MXFR64cbnIp4gYnJt12a3BLe1bbiznX64+0i/b5Opf0Bd/+rhqLXQBKDdaIW4nsMrgRukf+5IayNRv3FBlwsBBw3G+vWgnWDcPf1JT+iA9WhFQZZPV/PxaDfYYcdorU5cuTI8Mgjj1R9jrvprYJGATEjM0l2OLd+dPvtt5eYiU4kaIWBeBFzsRk2aqv4BZAcKUFhA+qNBPVy9QpicfX0kznCotRIgRx11FF1s44WYoMnnHBClTvaSBDnY+2nh9giC8z52R4hLIqhFQrpfRIM/GQPAXjeE5Amm0qCggA9wehG/t+LKIEhiUDdFSUTZJbJNJMgUWZP5JCgCSGKQS6nEKIYJGhCiGKQoAkhikGCJoQoBgmaEKIYJGhCiGKQoAkhikGCJoQoBgmaEKIYJGhCiGKQoAkhikGCJoQoBgmaEKIYJGhCiGKQoAkhikGCJoQoBgmaEKIYJGhCiGKQoAkhikGCJoQoBgmaEKIYJGhCiGKQoAkhikGCJoQoBgmaEKIYJGhCiGKQoAkhikGCJoQoBgmaEKIYJGhCiGKQoAkhikGCJoQoBgmaEKIYJGhCiGKQoAkhikGCJoQoBgmaEKIYJGhCiGKQoAkhikGCJoQoBgmaEKIYJGhCiGKQoAkhigFBaw1CCFEACNqoIIQQvZ/hlZaWlgFtbW0j2980BSGE6J20ViqVQf2am5tH80f7hmFBCCF6F4TMRqBhaNn/ALlwN3AovtEaAAAAAElFTkSuQmCC"/>
</defs>
</svg>
`,B7=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_1028" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_1028)">
<rect x="6.5" y="28.5" width="169" height="67" rx="3.5" fill="white" stroke="#E3E2E4"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="9" letter-spacing="0em"><tspan x="18" y="46.7727">toeverything/</tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="9" font-weight="bold" letter-spacing="0em"><tspan x="75.041" y="46.7727">AFFiNE</tspan></text>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="7" letter-spacing="0em"><tspan x="18" y="57.5455">Write, Draw and Plan All at Once.</tspan></text>
<rect x="146" y="38" width="24" height="24" fill="url(#pattern0_16460_1028)"/>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="10" y="18.6364">Link to a GitHub repository.</tspan></text>
</g>
<defs>
<pattern id="pattern0_16460_1028" patternContentUnits="objectBoundingBox" width="1" height="1">
<use xlink:href="#image0_16460_1028" transform="scale(0.0208333)"/>
</pattern>
<image id="image0_16460_1028" width="48" height="48" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAgNSURBVHgB7VldbBzVFf7unZmd/ct61xjHxEkU4jhRbYeQxAlp2tBC+4Cg/1LpHy8VqipVVaU+9K3vfe5zJaSqrdq0Qg1UoQoEKlBjKMQtYBKbn/zbBsf2Ouv17s7uzJ3bc+54nYBc8M8saaQcabOzk5k75zvnO985dyw0GW5hk7jF7TaAm223AazEWqkTLQHADgdBsPTb9/2WgYgfADmq4WNuvkrHMJ9i2YsOWmAtAhDgwmQNIR+HwNiVKh2HaIXFDICcFAJ1ZePVkRloqRAKjZGxWVR9gVZYzAC0Icr5yQr+9UYFQUi50AJvjfl470oZrbBYAXCdhuTw0JsfoLRg48J4BdMzFbw/F+DU6SmEYWCStPhPLGYjRtM6gBdIDJ0uQ8kkhkdLyCUtNCwHw2drKFZCtGcbkDoBLUKIGOIXbwZouaefH0dxJgdt2Xhp+BqGRkoU8BSulhw89fwk6ZNvBEkgQBwWK4DJGYWn/1mkVQVspXHxisK/x6pIEHU0FfOzLxcxMcneK7raQhy2LgCh+TSgUEXD1/jTM1dQKgtytkFOajQ8D1XuAUQXdrdaTeDo8XF4LKlU4EZjORNcPGtsE+sCIMh5QZIZKhfH/vE+hl6vUfBFpP/cDeoe/HqdjgiUtkhWBV45M4+jz0wRCCo/TY8PGVozK586AAVFzv7thXH84fgU6jrSeiGi74+OD4oyEYgcjp2Yxx+fHUMtrJtipoUok2tzZX0UouI8evIDPPH3OTBJpP7wcgxEyuY5DYsAylDAtzz89USVKDeFaoP/h6m0tkYnPn5LyUuraHGOLlNVsHqQxk9U8eRz4zj1nwCBjBwzkddMmNBQolKu0bEHJ9cJh2kvdLQWUQ9hBglae3d/HY8+vA27tibNGpLWjuLAMiuicUoroiYrvlwlAG5MHBwaCRhKSCvPzZPSvDCB46/M0MSZgVb6hsXogbJh6CB0Bk6CHK3V4DkuuVWjxZJYijQXsGTQQEp4+PJn8/jWQ9tQyFAmEQE1TOQPAYCwsFyWlgXAp8xpVpJQYbasce5yCS9Thx15dwHX5vImGoJnHVKTJuclj9EyNJKZoPNffTiLnJPF756aIFBtpuhvlJuQC54pRg5aJAZpp4E9A8Dn9nZSRrK4I2/DlrR+6NAz5NJzbrRlOzFfyPN8qdzAeRoHRi+W8M54A+cuaZS9LJQVwA4jFZEfUg9FD6PIYwFfOuDiO/dvQ9JRmJpdwIlTNUPDxTI3QBiwFSy6QdSs+Qpvvk014s1h4lIDvdvS2Lo5jXwuhGsLiJVm4IZURNngpNK9vvIxRmBOUod98dVrKE1X4Nc8KEWkITo4dgbZDhuPfbMb375/E/2OJDKoA8dOX8bvnyyiOF0y0hpSZoW0kHDS2JCz8MAXuvHFwTb0390GV3J+OeJRNsPo17JlvoJZiMSSFlmoK7x7oYQ3Rucx+lYZtp9A2tXwKLUqYGcEkokEOZ3G6DtzuLqvgI2FDD24hko9gbOvF6FI8x3XNXSIasCC66YhEzTBvldCwaZgEdgdPVlsSArSNSpqipylRNS4l0HwPzPA28BiuYqLVys0DhD/X7uG8kKa+qZNFHKpoCskixxgZ2ldCYqsZqcVejYF+OVPeimDPn71xHmcvUyOk9NEafPh+tJoqhJpHTlIzRwu3duVBQ7fm0P/LgebujbgjpxLVHSJritUoaUiNuuHRiYrVY3hM7N48bVpjLxNsz42mCLki1h9WPRsViHBcw/XhcKePgsdKRcnTzMJA7peGndZTYXp2KHZvVFekKRo9G6X+PzBDtzXl0Fb2jEqxMIquVvLVWZgOWM9JrLgzKUKfvOXc9QLQjMaMxNDETYXRFNpAt8zD7WcFN3LsqiXmpY2A0akQD1dHh772k7s39UGy2JwCtc9/vgGtyoAHNXQTJYW5omrLw1N4c/PTWK6noUTNGBRhK+PBFQ3pSIC6hP59o5FIaA80QzEIDm6jljA976+BQ8eaEMhTYwXjrnvulp+cndeXQZgGBVNj0RkgoNhKr5f/3YU5fmNNBcp0xuiR2vMXZ0ys9KdnXeR80Qi8swKudd6yCTn8bPHB7B3Z4o6shUNdaaoVjfdrOpqTr82VSiMQzx57usp4BeP34PshlnTsaMldTR6YHGsWKJMJIVpt4Kf/mgPBnfl4ZjdGY0P1trm6VUBWFJj0WSnpmhKDNzt4uc/7ENKVnlko3pQ0TU8v1ihOcezEQcg5Xr48Q96cXBHJlJGKRbXkljLbLmuaVQvvrmylMTe7Ql8/xubCdAC9Q3b9A7XzSCVyi5CZSlXeOSBAg7tcY2+x2Hr3A/YphaEpJmFCvvBAwVsvdM3VGb3cnmJVJofoYzD3XkPjxzZSFpPxSrjeTOxvj1xM4rmy6E3EAKPfmUHFSXRhjS+7zNpHN5fiIgWNvDdh7bTWwkijnYRl60PgGguERWFFAkMDuTRszVhSHNodwFH7i2A971buoAj+9tN4Zus6f+DTf1HjXmesBQO7U/SOO1jb28e/T15OlfCfYMFWHZommGcFu+rRVIai/R8cKATWzZpdLU7yGds9HSncHh3pxkfRHNnFdOr0pjfjUaC2N2ewsF7kkZ0uUz29aWwpTOJlYwGq7VYAQij98KoUP/OTjO1cS3s7uuAJW+Ft9Nm1oga0+aNWQOA5fOujiRa4/6qh7lPMLOPFubLD+hFC8k9N7lAKPPKRVrxw4gXwNIGJcJi1HVx84IW5SBmAJ++3f478c222wButv0X5BSXyMVazj4AAAAASUVORK5CYII="/>
</defs>
</svg>
`,B3=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_873" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_873)">
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="28" font-weight="bold" letter-spacing="-0.24px"><tspan x="8" y="34.1818">Heading 1</tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="51.6364">In a decentralized system, we can have a kaleidoscopic </tspan><tspan x="8" y="63.6364">complexity to our data.&#10;</tspan><tspan x="8" y="79.6364">Any user may have a different perspective on what data they </tspan><tspan x="8" y="91.6364">either have, choose to share, or accept.&#10;</tspan><tspan x="8" y="107.636">For example, one user&#x2019;s edits to a document might be on </tspan><tspan x="8" y="119.636">their laptop on an airplane; when the plane lands and the </tspan><tspan x="8" y="131.636">computer reconnects, those changes are distributed to </tspan><tspan x="8" y="143.636">other users.&#10;</tspan><tspan x="8" y="159.636">Other users might choose to accept all, some, or none of </tspan><tspan x="8" y="171.636">those changes to their version of the document.</tspan></text>
</g>
</svg>
`,B4=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_880" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_880)">
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="26" font-weight="600" letter-spacing="-0.24px"><tspan x="8" y="33.4545">Heading 2</tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="51.6364">In a decentralized system, we can have a kaleidoscopic </tspan><tspan x="8" y="63.6364">complexity to our data.&#10;</tspan><tspan x="8" y="79.6364">Any user may have a different perspective on what data they </tspan><tspan x="8" y="91.6364">either have, choose to share, or accept.&#10;</tspan><tspan x="8" y="107.636">For example, one user&#x2019;s edits to a document might be on </tspan><tspan x="8" y="119.636">their laptop on an airplane; when the plane lands and the </tspan><tspan x="8" y="131.636">computer reconnects, those changes are distributed to </tspan><tspan x="8" y="143.636">other users.&#10;</tspan><tspan x="8" y="159.636">Other users might choose to accept all, some, or none of </tspan><tspan x="8" y="171.636">those changes to their version of the document.</tspan></text>
</g>
</svg>
`,B6=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_887" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_887)">
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="24" font-weight="600" letter-spacing="-0.24px"><tspan x="8" y="30.7273">Heading 3</tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="47.6364">In a decentralized system, we can have a kaleidoscopic </tspan><tspan x="8" y="59.6364">complexity to our data.&#10;</tspan><tspan x="8" y="75.6364">Any user may have a different perspective on what data they </tspan><tspan x="8" y="87.6364">either have, choose to share, or accept.&#10;</tspan><tspan x="8" y="103.636">For example, one user&#x2019;s edits to a document might be on </tspan><tspan x="8" y="115.636">their laptop on an airplane; when the plane lands and the </tspan><tspan x="8" y="127.636">computer reconnects, those changes are distributed to </tspan><tspan x="8" y="139.636">other users.&#10;</tspan><tspan x="8" y="155.636">Other users might choose to accept all, some, or none of </tspan><tspan x="8" y="167.636">those changes to their version of the document.</tspan></text>
</g>
</svg>
`,B8=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_894" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_894)">
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="22" font-weight="600" letter-spacing="0.24px"><tspan x="8" y="29">Heading 4</tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="45.6364">In a decentralized system, we can have a kaleidoscopic </tspan><tspan x="8" y="57.6364">complexity to our data.&#10;</tspan><tspan x="8" y="73.6364">Any user may have a different perspective on what data they </tspan><tspan x="8" y="85.6364">either have, choose to share, or accept.&#10;</tspan><tspan x="8" y="101.636">For example, one user&#x2019;s edits to a document might be on </tspan><tspan x="8" y="113.636">their laptop on an airplane; when the plane lands and the </tspan><tspan x="8" y="125.636">computer reconnects, those changes are distributed to </tspan><tspan x="8" y="137.636">other users.&#10;</tspan><tspan x="8" y="153.636">Other users might choose to accept all, some, or none of </tspan><tspan x="8" y="165.636">those changes to their version of the document.</tspan></text>
</g>
</svg>
`,B9=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_901" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_901)">
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="20" font-weight="600" letter-spacing="0.24px"><tspan x="8" y="27.2727">Heading 5</tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="43.6364">In a decentralized system, we can have a kaleidoscopic </tspan><tspan x="8" y="55.6364">complexity to our data.&#10;</tspan><tspan x="8" y="71.6364">Any user may have a different perspective on what data they </tspan><tspan x="8" y="83.6364">either have, choose to share, or accept.&#10;</tspan><tspan x="8" y="99.6364">For example, one user&#x2019;s edits to a document might be on </tspan><tspan x="8" y="111.636">their laptop on an airplane; when the plane lands and the </tspan><tspan x="8" y="123.636">computer reconnects, those changes are distributed to </tspan><tspan x="8" y="135.636">other users.&#10;</tspan><tspan x="8" y="151.636">Other users might choose to accept all, some, or none of </tspan><tspan x="8" y="163.636">those changes to their version of the document.</tspan></text>
</g>
</svg>
`,$e=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_908" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_908)">
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="18" font-weight="600" letter-spacing="0.24px"><tspan x="8" y="25.5455">Heading 6</tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="41.6364">In a decentralized system, we can have a kaleidoscopic </tspan><tspan x="8" y="53.6364">complexity to our data.&#10;</tspan><tspan x="8" y="69.6364">Any user may have a different perspective on what data they </tspan><tspan x="8" y="81.6364">either have, choose to share, or accept.&#10;</tspan><tspan x="8" y="97.6364">For example, one user&#x2019;s edits to a document might be on </tspan><tspan x="8" y="109.636">their laptop on an airplane; when the plane lands and the </tspan><tspan x="8" y="121.636">computer reconnects, those changes are distributed to </tspan><tspan x="8" y="133.636">other users.&#10;</tspan><tspan x="8" y="149.636">Other users might choose to accept all, some, or none of </tspan><tspan x="8" y="161.636">those changes to their version of the document.</tspan></text>
</g>
</svg>
`,$t=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_976" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_976)">
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="43.6364">Any user may have a different perspective on what data they </tspan><tspan x="8" y="55.6364">either have, choose to share, or accept.&#10;</tspan><tspan x="8" y="71.6364">For example, one user&#x2019;s edits to a document might be on </tspan><tspan x="8" y="83.6364">their laptop on an airplane; when the plane lands and the </tspan><tspan x="8" y="95.6364">computer reconnects, those changes are distributed to </tspan><tspan x="8" y="107.636">other users.&#10;</tspan><tspan x="8" y="123.636">Other users might choose to accept all, some, or none of </tspan><tspan x="8" y="135.636">those changes to their version of the document.</tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" font-style="italic" letter-spacing="0px"><tspan x="8" y="15.6364">In a decentralized system, we can have a kaleidoscopic </tspan><tspan x="8" y="27.6364">complexity to our data.&#10;</tspan></text>
</g>
</svg>
`,$i=(0,H.qy)`<svg width="170" height="106" viewBox="0 0 170 106" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="106" rx="2" fill="white"/>
<mask id="mask0_16460_1185" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="106">
<rect width="170" height="106" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_1185)">
<rect x="8.5" y="26.5" width="169" height="84" rx="3.5" fill="white" stroke="#E3E2E4"/>
<mask id="mask1_16460_1185" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="9" y="27" width="168" height="83">
<rect x="9" y="27" width="168" height="83" rx="4" fill="white"/>
</mask>
<g mask="url(#mask1_16460_1185)">
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="9" font-weight="500" letter-spacing="0em"><tspan x="18" y="42.7727">Untitled Kanban</tspan></text>
<text fill="black" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="18" y="55.8182">Ungroups</tspan></text>
<rect x="84" y="50" width="31" height="8" rx="1" fill="#F3F0FF"/>
<text fill="black" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="86" y="55.8182">In Progress</tspan></text>
<rect x="150" y="50" width="17" height="8" rx="1" fill="#DFF4E8"/>
<text fill="black" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="152" y="55.8182">Done</tspan></text>
<rect x="16.25" y="60.25" width="59.5" height="53.5" rx="1.75" fill="white" stroke="#E3E2E4" stroke-width="0.5"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="21" y="68.8182">Task 5</tspan></text>
<rect x="20" y="88" width="8" height="8" rx="1" fill="#EEEEEE"/>
<g clip-path="url(#clip0_16460_1185)">
<g clip-path="url(#clip1_16460_1185)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M21.8125 90C21.8125 89.8964 21.8964 89.8125 22 89.8125H26C26.1036 89.8125 26.1875 89.8964 26.1875 90V90.6667C26.1875 90.7702 26.1036 90.8542 26 90.8542C25.8964 90.8542 25.8125 90.7702 25.8125 90.6667V90.1875H24.1875V93.8125H25C25.1036 93.8125 25.1875 93.8964 25.1875 94C25.1875 94.1036 25.1036 94.1875 25 94.1875H23C22.8964 94.1875 22.8125 94.1036 22.8125 94C22.8125 93.8964 22.8964 93.8125 23 93.8125H23.8125V90.1875H22.1875V90.6667C22.1875 90.7702 22.1036 90.8542 22 90.8542C21.8964 90.8542 21.8125 90.7702 21.8125 90.6667V90Z" fill="#77757D"/>
</g>
</g>
<rect x="82.25" y="60.25" width="59.5" height="53.5" rx="1.75" fill="white" stroke="#E3E2E4" stroke-width="0.5"/>
<rect x="148.25" y="60.25" width="59.5" height="53.5" rx="1.75" fill="white" stroke="#E3E2E4" stroke-width="0.5"/>
<line x1="16" y1="99.75" x2="76" y2="99.75" stroke="#E3E2E4" stroke-width="0.5"/>
<line x1="82" y1="99.75" x2="142" y2="99.75" stroke="#E3E2E4" stroke-width="0.5"/>
<line x1="148" y1="99.75" x2="208" y2="99.75" stroke="#E3E2E4" stroke-width="0.5"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="87" y="68.8182">Task 1</tspan></text>
<rect x="86" y="88" width="8" height="8" rx="1" fill="#EEEEEE"/>
<g clip-path="url(#clip2_16460_1185)">
<g clip-path="url(#clip3_16460_1185)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M87.8125 90C87.8125 89.8964 87.8964 89.8125 88 89.8125H92C92.1036 89.8125 92.1875 89.8964 92.1875 90V90.6667C92.1875 90.7702 92.1036 90.8542 92 90.8542C91.8964 90.8542 91.8125 90.7702 91.8125 90.6667V90.1875H90.1875V93.8125H91C91.1036 93.8125 91.1875 93.8964 91.1875 94C91.1875 94.1036 91.1036 94.1875 91 94.1875H89C88.8964 94.1875 88.8125 94.1036 88.8125 94C88.8125 93.8964 88.8964 93.8125 89 93.8125H89.8125V90.1875H88.1875V90.6667C88.1875 90.7702 88.1036 90.8542 88 90.8542C87.8964 90.8542 87.8125 90.7702 87.8125 90.6667V90Z" fill="#77757D"/>
</g>
</g>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="153" y="68.8182">Task 4</tspan></text>
<rect x="152" y="88" width="8" height="8" rx="1" fill="#EEEEEE"/>
<g clip-path="url(#clip4_16460_1185)">
<g clip-path="url(#clip5_16460_1185)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M153.812 90C153.812 89.8964 153.896 89.8125 154 89.8125H158C158.104 89.8125 158.188 89.8964 158.188 90V90.6667C158.188 90.7702 158.104 90.8542 158 90.8542C157.896 90.8542 157.812 90.7702 157.812 90.6667V90.1875H156.188V93.8125H157C157.104 93.8125 157.188 93.8964 157.188 94C157.188 94.1036 157.104 94.1875 157 94.1875H155C154.896 94.1875 154.812 94.1036 154.812 94C154.812 93.8964 154.896 93.8125 155 93.8125H155.812V90.1875H154.188V90.6667C154.188 90.7702 154.104 90.8542 154 90.8542C153.896 90.8542 153.812 90.7702 153.812 90.6667V90Z" fill="#77757D"/>
</g>
</g>
<rect x="43" y="50" width="8" height="8" rx="1" fill="#F5F5F5"/>
<text fill="black" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="45.5" y="55.8182">1</tspan></text>
<rect x="117" y="50" width="8" height="8" rx="1" fill="#F5F5F5"/>
<text fill="black" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="119.5" y="55.8182">1</tspan></text>
<rect x="169" y="50" width="8" height="8" rx="1" fill="#F5F5F5"/>
<rect x="86" y="103" width="31" height="8" rx="1" fill="#F3F0FF"/>
<text fill="black" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="88" y="108.818">In Progress</tspan></text>
<rect x="152" y="103" width="17" height="8" rx="1" fill="#DFF4E8"/>
<text fill="black" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="154" y="108.818">Done</tspan></text>
</g>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="16.6364">Visualize data in a dashboard.</tspan></text>
</g>
<defs>
<clipPath id="clip0_16460_1185">
<rect width="6" height="6" fill="white" transform="translate(21 89)"/>
</clipPath>
<clipPath id="clip1_16460_1185">
<rect width="6" height="6" fill="white" transform="translate(21 89)"/>
</clipPath>
<clipPath id="clip2_16460_1185">
<rect width="6" height="6" fill="white" transform="translate(87 89)"/>
</clipPath>
<clipPath id="clip3_16460_1185">
<rect width="6" height="6" fill="white" transform="translate(87 89)"/>
</clipPath>
<clipPath id="clip4_16460_1185">
<rect width="6" height="6" fill="white" transform="translate(153 89)"/>
</clipPath>
<clipPath id="clip5_16460_1185">
<rect width="6" height="6" fill="white" transform="translate(153 89)"/>
</clipPath>
</defs>
</svg>
`,$s=(0,H.qy)`<svg width="170" height="106" viewBox="0 0 170 106" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect width="170" height="106" rx="2" fill="white"/>
<mask id="mask0_16460_1097" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="106">
<rect width="170" height="106" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_1097)">
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="10" y="18.6364">Insert a Linear issue.</tspan></text>
<rect x="8.5" y="28.5" width="169" height="84" rx="3.5" fill="white" stroke="#E3E2E4"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="9" font-weight="500" letter-spacing="0em"><tspan x="18" y="44.7727">Change theme following phone case color</tspan></text>
<g clip-path="url(#clip0_16460_1097)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M20.5474 50.5324C20.6694 50.6545 20.6694 50.8523 20.5474 50.9744L19.7835 51.7383C19.6614 51.8603 19.4636 51.8603 19.3415 51.7383C19.2195 51.6162 19.2195 51.4184 19.3415 51.2963L20.1054 50.5324C20.2275 50.4104 20.4253 50.4104 20.5474 50.5324ZM25.4526 50.5324C25.5747 50.4104 25.7725 50.4104 25.8946 50.5324L26.6585 51.2963C26.7805 51.4184 26.7805 51.6162 26.6585 51.7383C26.5364 51.8603 26.3386 51.8603 26.2165 51.7383L25.4526 50.9744C25.3306 50.8523 25.3306 50.6545 25.4526 50.5324ZM23 51.4479C21.4851 51.4479 20.2569 52.676 20.2569 54.1909C20.2569 55.7059 21.4851 56.934 23 56.934C24.5149 56.934 25.7431 55.7059 25.7431 54.1909C25.7431 52.676 24.5149 51.4479 23 51.4479ZM19.6319 54.1909C19.6319 52.3308 21.1399 50.8229 23 50.8229C24.8601 50.8229 26.3681 52.3308 26.3681 54.1909C26.3681 56.051 24.8601 57.559 23 57.559C21.1399 57.559 19.6319 56.051 19.6319 54.1909Z" fill="#8E8D91"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M24.3321 53.316C24.4541 53.4381 24.4541 53.6359 24.3321 53.758L22.8506 55.2394C22.7286 55.3615 22.5307 55.3615 22.4087 55.2394L21.6679 54.4987C21.5459 54.3767 21.5459 54.1788 21.6679 54.0568C21.79 53.9347 21.9878 53.9347 22.1099 54.0568L22.6296 54.5765L23.8901 53.316C24.0122 53.194 24.21 53.194 24.3321 53.316Z" fill="#8E8D91"/>
</g>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="7" letter-spacing="0em"><tspan x="30" y="56.5455">Work in Progress &#xb7; </tspan></text>
<g clip-path="url(#clip1_16460_1097)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M96.6591 50.3635C96.8266 50.4054 96.9284 50.5751 96.8865 50.7425L96.4627 52.4375H98.3185L98.7802 50.5909C98.822 50.4235 98.9917 50.3217 99.1591 50.3635C99.3266 50.4054 99.4284 50.5751 99.3865 50.7425L98.9627 52.4375H100.333C100.506 52.4375 100.646 52.5774 100.646 52.75C100.646 52.9226 100.506 53.0625 100.333 53.0625H98.8065L98.3377 54.9375H99.5C99.6726 54.9375 99.8125 55.0774 99.8125 55.25C99.8125 55.4226 99.6726 55.5625 99.5 55.5625H98.1815L97.7198 57.4092C97.678 57.5766 97.5083 57.6784 97.3409 57.6365C97.1734 57.5947 97.0716 57.425 97.1135 57.2576L97.5373 55.5625H95.6815L95.2198 57.4092C95.178 57.5766 95.0083 57.6784 94.8409 57.6365C94.6734 57.5947 94.5716 57.425 94.6135 57.2576L95.0373 55.5625H93.6667C93.4941 55.5625 93.3542 55.4226 93.3542 55.25C93.3542 55.0774 93.4941 54.9375 93.6667 54.9375H95.1935L95.6623 53.0625H94.5C94.3274 53.0625 94.1875 52.9226 94.1875 52.75C94.1875 52.5774 94.3274 52.4375 94.5 52.4375H95.8185L96.2802 50.5909C96.322 50.4235 96.4917 50.3217 96.6591 50.3635ZM96.3065 53.0625L95.8377 54.9375H97.6935L98.1623 53.0625H96.3065Z" fill="#8E8D91"/>
</g>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="7" letter-spacing="0em"><tspan x="104" y="56.5455">High</tspan></text>
<rect x="16" y="65" width="12" height="12" rx="6" fill="url(#pattern0_16460_1097)"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="7" font-weight="500" letter-spacing="0em"><tspan x="32" y="71.5455">qpomelo</tspan></text>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="7" letter-spacing="0em"><tspan x="32" y="79.5455">re-assigned to </tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="7" font-weight="500" letter-spacing="0em"><tspan x="82.1006" y="79.5455">tsiheng</tspan></text>
<rect x="16" y="87" width="12" height="12" rx="6" fill="url(#pattern1_16460_1097)"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="7" font-weight="500" letter-spacing="0em"><tspan x="32" y="93.5455">tsiheng</tspan></text>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="7" letter-spacing="0em"><tspan x="32" y="101.545">re-assigned to </tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="7" font-weight="500" letter-spacing="0em"><tspan x="82.1006" y="101.545">qpomelo</tspan></text>
<path d="M22 79V85" stroke="#E3E2E4" stroke-width="0.5" stroke-linecap="round" stroke-dasharray="5 5"/>
<path d="M22 101V107" stroke="#E3E2E4" stroke-width="0.5" stroke-linecap="round" stroke-dasharray="5 5"/>
</g>
<defs>
<pattern id="pattern0_16460_1097" patternContentUnits="objectBoundingBox" width="1" height="1">
<use xlink:href="#image0_16460_1097" transform="scale(0.0416667)"/>
</pattern>
<pattern id="pattern1_16460_1097" patternContentUnits="objectBoundingBox" width="1" height="1">
<use xlink:href="#image1_16460_1097" transform="scale(0.0416667)"/>
</pattern>
<clipPath id="clip0_16460_1097">
<rect width="10" height="10" fill="white" transform="translate(18 49)"/>
</clipPath>
<clipPath id="clip1_16460_1097">
<rect width="10" height="10" fill="white" transform="translate(92 49)"/>
</clipPath>
<image id="image0_16460_1097" width="24" height="24" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAaaSURBVHgBfVVLbFzlFf7u+854ZnznmbGd2OMHxDYxOIkbkjaUCFUiVChAV3TBw111l6KsWDlWVdFdvGHTDemiUklVkhTRqmpLE6pAoJAYWa7j2COPY3vG9sQz987c99xHjweCAgSu5mo0/+j/zjnf+c53GHzP8/zZi4rH4DTH4ATDMgUOKJTf/z3cpqaOPfeL2UKhcFnq4C69/sKx0ndhMA86PHn2YoEJ/bc4hjvB8Rw4jgPbfhk0lz6FGHp49Imn8LORNKS4jAv/rZxXXXZ6ZvLbgbhvHpz69eXTDIM/cgI/LIgiBEmEGJEgRwXEeEDoGkSmdwDH8yJGJRVJvoWgQxm/Udx4lb9bdsrl0vX78dj7fzz7xrtTIcfOsKKg8AQsRyXEYzKyCRkj2Rgm+hSEggCuZWN/zEZ1bR2VhUU8vk+Af2dOAcOeO3r81NQDKzj1m3dPE2G/hcCDAlDmEn7aZePZ8QyGEyGOZFtIZJLwfQ+PxDzY1QrYgEEYBhApEd63cO3TOURHf3Ti6Jk3tfl33rz+VYAXz10sgOGJFkEGZQjuiyBqi8czeRMjB/qRymfRnZQxRsHMpgVTtxDSXY8gTMPGk88cxzvvXUP86Zdhr986mrH0t9fXl9U2RRwTmYpEREWSRfAEzAgcQobDCIE5BIaAPkEAhppstAKsV3YQshyi6RSEaBSRVBqe4+KlM2cQz+bg3r6h8JH4W20VvXju34WX9wcrvYM9cFwfO00bxS0dqUYVMmxMPJRGdqAPfDoHc3kRf7+5iYAVEeEDZKM8ehQSQqmERi6Djv5BTM9HsXP1L5AeOQYhmU9yQyd//mrerZ6U6ts40KtgdH8PDj+cgxTYQG0bwxNjxDOgV7fx4efrMEAZCwxSnTGYcgLFbRPzZR2lWgsjRhmDe7OIjv0ATSlBiQQOt//pV97QdL2gCCE21qqo3/wYEZLl/GIFo4dH2+AbDQ9zxRr8qILBvhwmJoaxrz8PTSPwDR01qRMVs4WNmoVHZROP9aUwX/dgcEQ5yXL8rrwX5foS+nsyuB1w0JY1KLkkdCfErZVNlOouDJ/axXrEtQ2/vApGlmFxEh7KRbGks2g0Ddyu+XhSiBB1Ak6PR3BhySnwIc8rPqlmRcyCK1dRq6vYuhsnxcRRLjcgKCl0xgWU/1eEy7BgurKYD1jYdgMiNT40LDi2CdcmGbMhNi0fAySGtz9ZxazYXWAZAmdYHnrnPmzUTVTp1Z0Alsfio9lbqO40oWo69mTTkO0abv7rb2QXC9SJABwVRXOMesOE2jRhGSa4OwswF+fxxGgOIsuAZXi+FJLP2CGD+PBhkJDQ8hkslbfByxLCIERIZ42mhtqOgaGRQxSoCdEy2tL0TBuW3gQXicCgROe0EBfe+wjsjf+ANxoqD04ocQxTiDWrWF+9RfpnobkuzM1V+PoOuvfkaQYlKIqCDxQLnT19GCt0o0agRpMCEE1JPsQSSTW9txufVRyI1NzNzyooPK7NsmTDV1kaLD9OQ5PtIm5ttGigW46HrY4e0ruPrc0yDE3DU/lODKEJ1zGg2mHbjHcr/jGpqjMeA9Q6LK0Gi+423BDJavEyTxTOhJwwZZNzBhQ52PWWRAJyIo7MwBBGB7rIPSQkSBk+gfmU8Y7tw/B8NBs6qtUqrngmxI44jEYdTZp0yXaR4NJYa7QusZcmD6osz1/ZtWZ+YBSxfC+0xUVShYUjcQY7tTpiMoOGqlK2ARwvBLs7HPS/RLsinc2iqtpt75I7UxDJhdNKHAcG9px//bXJEt/2og5+8pe9/k3NE5TZ1RTuuCYYzYJHMqnrDjaXi0gmMwjlOHEetocvEe+ASdlWtbuQqcE+BeTJxn948GGMD+bVjXpt+msbza6v/Iqs9dyf31/GJ+SBwnoR/bkIJKrMdRxw9E3JtwNQIXCIr616A4bpQCBfjUUEnDoyhMOPDQAi/5qYHpzZxeXvBZCT/TOt+orykyN7p8xqFEbQxIbhIEPrURYltIh7P9yVsA+XpGk3GuBoemNk7y+9cKxtlNnOjl0Ln5a+BP9aBfcenyrxPZ+2EqNYNBv/WKhj69oH8Ei+OgHu+o9AwykQ5zyBHxrOokyKufJxUQ1ZYfoPvzs7cz/eA5e+tbJQ4GT2LBuRXjFIMS5tsRg56OdzRfzzwyLdomtElRe4EP0GRg5NXBkupCdHDn576T8wwL0ntCqFlu0+zyJ4rrS2Nm7oLeWv19fI9JgSdbp08U/nr26X1ZlSaVb9Loz/A5eGBRhyu+yTAAAAAElFTkSuQmCC"/>
<image id="image1_16460_1097" width="24" height="24" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAX5SURBVHgBlVVLjBRFGP6q+jE9O8syu6KuIO4Isr7A+IjRKIl48KAxUS+eNTFe0XjyIrs3Dh6IiY+L0fhKNBgfMb4SdI0JECNhUVnBFRhmXWAXZqZnpqdf1d3l181AQMTESv6Zqq7u7/sfX/0l8B9Da10F4q2A2AJktbOm8x0XkLNZln0mpfpUiNE6/s/QOqhp7X2vdZ8cAS2kRYN5f2CeztK21mpZ63jpLR2crP0blrgUvLkVmZzSkFUhJZ/IwWsCGb1vHj2Aw/t245rra1i36U4IWYLOIganXK0608bKu3dclkDr9jak6RR0SlyTuwMbEHinF/DR1ofQaCpESmDitk149uU3CR5BqDYBJIQ9NCVKN06fw5TnwcNjWxG7U0i7XMXFR9AxfVYDAon23C5cu1Lg2nKGUVuhsX8fkpDgwuInIXSviWSpMdWZ+/K5iwh0e08NcXMK9EJnfUaSQBsGtHC4W6aZha259T7cdcfVmFxtY2wow9rJSViGB9H9HfDOAH0fyguRJNm2k/u/ql0QQbgNSb8K1YUIW3y5Dt2ZB/w/geQUSZt8R0FcsRFjjz6D68ZLGLEknnjhJe57zCgjzi1RLIXCvl+OVheX3LdyZFMf+6SGwHuKcTIdelAVAZGwDslp6GrAjyPELRfWGKNpHUNHXY0r77gfY6MG0D7JTCbMqECoMrz36Y/45PsDWL1m7ZYttVrVjLrJ45adQMqMimC6rDwuTgyqxiZV0sJXr+1E+dRhbLxlBZpnAhw5KXDQO42ft+/EvfdtwOaN49Asuk3HIq+F+T8OotE4guef3PycadvRY2KgpfwIIeVvlv+Lgmf/nl+xa2Yfhk2BpXaMtp/gtDLQYoRuL8bssWV0HrkHD99JEhJUHAt+GCKOY0xM3vCAYRtyx+bbNjhI6C1D1LFGRpMxWaIU737wLQ7XlxBy3fJTLPYUlmOBPj32QsqVCmoxiw9uWo03vt2DV7+Ygc9iC7uM7xodGI3FM9vXrLoStfFxqDhXW4aFE12M2A5EmuL9L3ZjodlHj5H16EA70QgU5+QPKU2fMvVRYV26ePXzb2CkzGuQYtX4OvhpUDV7foiXXt+JkWvWQyURxobLaCy26BVPQBzh4PElxHlkDN+XRiGA4oDzP02Y87gNy2vj/V1/QakUMguwemI9zFIFXbcLM0mTuhdFtVfe+ZgfJHDbblGPsZUjKJcM9JkmXZSFgDSdkUpq2ObZdRQr+H4f1avGcaJ5nOIw0I4WEEUVxKZ0ebZFXVA+tXXrMXnTzegFPk6cWsLs3CEMlSvIKABF0JSWk8QZozEstqsSpDOC4aFhtJaPY2HuJ9isi2Ite5mFgN0gRTQry075hyyTmDt4GPNHjhYeScskACXuebBMzplvTallNNMwGYGFJEthD40iFiWEfQ+l4QqMKMRwn5KPaEyr7CefiSqHY5rthEUsV8o8iQGkMHjcFW7csJ7gKVpn3MJ703KwypFYohCcyhgMq8RUGVhu/AZnZARt5SINE5SpMk2M6yZvul66HF7Qn1FpQo9WQJFICKPw2LZtVCoVAht8zqZHz8OcqFQpopEktCorIEs2Vo2tLA5SZkj06ZwXhW/PzMzU8y4Gev90yZb7Q69b9YMAYRCi7JRwaH6eNROsxXB+uyEMOygbFaZHkXyoIMkl1en0ILgfuz48qpIKc61MTJ9vdmEY1k3DmO512E2p/ZTdNCCJ5/kYXlFBHl2ewpgyXO54XKdMYZoXhjXieeH7Km96rJXgM0Yy7RIzxzbO9e2+7++lt3nT2JKvi27B6gbMqWU7gwvpbDsxmCpp2mCf4Z6FxcY8HEYcxynPjpruh/H2c7jnCfKhknTGtOwOS3Qvg3OKYtP7jOeDFzDn6iyLzNUtCwKbijMR4e51V7mVkvXiocby9gsxLyIo6pEkew3T+tA05CgDvr24LAlWKttUVJZ3daQqojRdckUkkKyTPRNI+fB3uw98/U+8Sy79C4fjODUh9OOOM/TY2omJ2/moqnXe03XdkLIehsEPjuPvmJ2tu5fD+Bu6WUVVx9cBeAAAAABJRU5ErkJggg=="/>
</defs>
</svg>
`,$o=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_1007" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_1007)">
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="15.6364">In a decentralized system, we can have a kaleidoscopic </tspan><tspan x="8" y="27.6364">complexity to our data.&#10;</tspan><tspan x="8" y="63.6364">Any user may have a different perspective on what data they </tspan><tspan x="8" y="75.6364">either have, choose to share, or accept.&#10;</tspan><tspan x="8" y="111.636">For example, one user&#x2019;s edits to a document might be on </tspan><tspan x="8" y="123.636">their laptop on an airplane; when the plane lands and the </tspan><tspan x="8" y="135.636">computer reconnects, those changes are distributed to </tspan><tspan x="8" y="147.636">other users.&#10;</tspan><tspan x="8" y="183.636">Other users might choose to accept all, some, or none of </tspan><tspan x="8" y="195.636">those changes to their version of the document.</tspan></text>
<text fill="#1E67AF" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="11" letter-spacing="0em"><tspan x="8" y="45.5">Learn about AFFiNE</tspan></text>
</g>
</svg>
`,$r=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_998" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_998)">
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="15.6364">In a decentralized system, we can have a kaleidoscopic </tspan><tspan x="8" y="27.6364">complexity to our data.&#10;</tspan><tspan x="8" y="63.6364">Any user may have a different perspective on what data they </tspan><tspan x="8" y="75.6364">either have, choose to share, or accept.&#10;</tspan><tspan x="8" y="111.636">For example, one user&#x2019;s edits to a document might be on </tspan><tspan x="8" y="123.636">their laptop on an airplane; when the plane lands and the </tspan><tspan x="8" y="135.636">computer reconnects, those changes are distributed to </tspan><tspan x="8" y="147.636">other users.&#10;</tspan><tspan x="8" y="183.636">Other users might choose to accept all, some, or none of </tspan><tspan x="8" y="195.636">those changes to their version of the document.</tspan></text>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.125 39C10.125 38.2406 10.7406 37.625 11.5 37.625H16.5C17.2594 37.625 17.875 38.2406 17.875 39V42C17.875 42.2071 17.7071 42.375 17.5 42.375C17.2929 42.375 17.125 42.2071 17.125 42V39C17.125 38.6548 16.8452 38.375 16.5 38.375H11.5C11.1548 38.375 10.875 38.6548 10.875 39V45C10.875 45.3452 11.1548 45.625 11.5 45.625H14C14.2071 45.625 14.375 45.7929 14.375 46C14.375 46.2071 14.2071 46.375 14 46.375H11.5C10.7406 46.375 10.125 45.7594 10.125 45V39ZM12.125 40C12.125 39.7929 12.2929 39.625 12.5 39.625H14C14.2071 39.625 14.375 39.7929 14.375 40C14.375 40.2071 14.2071 40.375 14 40.375H12.5C12.2929 40.375 12.125 40.2071 12.125 40ZM12.5 41.375C12.2929 41.375 12.125 41.5429 12.125 41.75C12.125 41.9571 12.2929 42.125 12.5 42.125H15.5C15.7071 42.125 15.875 41.9571 15.875 41.75C15.875 41.5429 15.7071 41.375 15.5 41.375H12.5ZM12.125 43.5C12.125 43.2929 12.2929 43.125 12.5 43.125H13.75C13.9571 43.125 14.125 43.2929 14.125 43.5C14.125 43.7071 13.9571 43.875 13.75 43.875H12.5C12.2929 43.875 12.125 43.7071 12.125 43.5ZM15.75 43.125C15.5429 43.125 15.375 43.2929 15.375 43.5C15.375 43.7071 15.5429 43.875 15.75 43.875H17.0947L15.2348 45.7348C15.0884 45.8813 15.0884 46.1187 15.2348 46.2652C15.3813 46.4116 15.6187 46.4116 15.7652 46.2652L17.625 44.4053V45.75C17.625 45.9571 17.7929 46.125 18 46.125C18.2071 46.125 18.375 45.9571 18.375 45.75V43.5C18.375 43.4005 18.3355 43.3052 18.2652 43.2348C18.1948 43.1645 18.0995 43.125 18 43.125H15.75Z" fill="#77757D"/>
<mask id="path-5-inside-1_16460_998" fill="white">
<path d="M24 35H98V49H24V35Z"/>
</mask>
<path d="M98 48.5H24V49.5H98V48.5Z" fill="#E3E2E4" mask="url(#path-5-inside-1_16460_998)"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="24" y="45.6364">What&#x2019;s AFFiNE?</tspan></text>
</g>
</svg>
`,$a=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_1234" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_1234)">
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="15.6364">In a decentralized system, we can have a kaleidoscopic </tspan><tspan x="8" y="27.6364">complexity to our data.&#10;</tspan></text>
<text fill="#A9A9AD" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="43.6364">Any user may have a different perspective on what data they </tspan><tspan x="8" y="55.6364">either have, choose to share, or accept.&#10;</tspan><tspan x="8" y="71.6364">For example, one user&#x2019;s edits to a document might be on </tspan><tspan x="8" y="83.6364">their laptop on an airplane; when the plane lands and the </tspan><tspan x="8" y="95.6364">computer reconnects, those changes are distributed to </tspan><tspan x="8" y="107.636">other users.&#10;</tspan><tspan x="8" y="123.636">Other users might choose to accept all, some, or none of </tspan><tspan x="8" y="135.636">those changes to their version of the document.</tspan></text>
</g>
<g clip-path="url(#clip0_16460_1234)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M25.5073 51.0032C25.2022 50.723 24.7278 50.7432 24.4476 51.0483L20.75 55.0745L20.75 43C20.75 42.5858 20.4142 42.25 20 42.25C19.5858 42.25 19.25 42.5858 19.25 43L19.25 55.0745L15.5524 51.0483C15.2722 50.7432 14.7978 50.723 14.4927 51.0032C14.1876 51.2833 14.1674 51.7578 14.4476 52.0629L19.4476 57.5073C19.5896 57.662 19.79 57.75 20 57.75C20.21 57.75 20.4104 57.662 20.5524 57.5073L25.5524 52.0629C25.8326 51.7578 25.8124 51.2833 25.5073 51.0032Z" fill="#121212"/>
</g>
<defs>
<clipPath id="clip0_16460_1234">
<rect width="24" height="24" fill="white" transform="translate(8 38)"/>
</clipPath>
</defs>
</svg>
`,$n=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_1228" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_1228)">
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="43.6364">Any user may have a different perspective on what data they </tspan><tspan x="8" y="55.6364">either have, choose to share, or accept.&#10;</tspan><tspan x="8" y="71.6364">For example, one user&#x2019;s edits to a document might be on </tspan><tspan x="8" y="83.6364">their laptop on an airplane; when the plane lands and the </tspan><tspan x="8" y="95.6364">computer reconnects, those changes are distributed to </tspan><tspan x="8" y="107.636">other users.&#10;</tspan><tspan x="8" y="123.636">Other users might choose to accept all, some, or none of </tspan><tspan x="8" y="135.636">those changes to their version of the document.</tspan></text>
<text fill="#A9A9AD" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="15.6364">In a decentralized system, we can have a kaleidoscopic </tspan><tspan x="8" y="27.6364">complexity to our data.&#10;</tspan></text>
</g>
<g clip-path="url(#clip0_16460_1228)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M25.5073 16.9968C25.2022 17.277 24.7278 17.2568 24.4476 16.9517L20.75 12.9255L20.75 25C20.75 25.4142 20.4142 25.75 20 25.75C19.5858 25.75 19.25 25.4142 19.25 25L19.25 12.9255L15.5524 16.9517C15.2722 17.2568 14.7978 17.277 14.4927 16.9968C14.1876 16.7167 14.1674 16.2422 14.4476 15.9371L19.4476 10.4927C19.5896 10.338 19.79 10.25 20 10.25C20.21 10.25 20.4104 10.338 20.5524 10.4927L25.5524 15.9371C25.8326 16.2422 25.8124 16.7167 25.5073 16.9968Z" fill="#121212"/>
</g>
<defs>
<clipPath id="clip0_16460_1228">
<rect width="24" height="24" fill="white" transform="translate(8 6)"/>
</clipPath>
</defs>
</svg>
`,$l=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_991" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_991)">
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="22" font-weight="600" letter-spacing="0px"><tspan x="8" y="27.5">Title</tspan></text>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="44.6364">Type &#39;/&#39; for commands</tspan></text>
</g>
</svg>
`,$c=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_1143" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_1143)">
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="38.0488" y="16.6364">now</tspan><tspan x="81.8574" y="16.6364"> and time.&#10;</tspan></text>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="16.6364">Insert </tspan><tspan x="57.8047" y="16.6364"> date</tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="34.6364">11:45:14 Wed 3 Aug, 2022</tspan></text>
</g>
</svg>
`,$d=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_947" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_947)">
<g clip-path="url(#clip0_16460_947)">
<text fill="#1C81D9" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="10" y="29.6364">1.</tspan></text>
</g>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="24" y="29.6364">Here&#39;s an example of a numbered list.</tspan></text>
<g clip-path="url(#clip1_16460_947)">
<text fill="#1C81D9" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="10" y="45.6364">2.</tspan></text>
</g>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="24" y="45.6364">You can list your plans such as this</tspan></text>
</g>
<defs>
<clipPath id="clip0_16460_947">
<rect width="16" height="16" fill="white" transform="translate(10 18)"/>
</clipPath>
<clipPath id="clip1_16460_947">
<rect width="16" height="16" fill="white" transform="translate(10 34)"/>
</clipPath>
</defs>
</svg>
`,$h=(0,H.qy)`<svg width="170" height="106" viewBox="0 0 170 106" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g clip-path="url(#clip0_24732_2238)">
<path d="M168 0H2C0.89543 0 0 0.89543 0 2V104C0 105.105 0.89543 106 2 106H168C169.105 106 170 105.105 170 104V2C170 0.89543 169.105 0 168 0Z" fill="white"/>
<path d="M168 0H2C0.89543 0 0 0.89543 0 2V104C0 105.105 0.89543 106 2 106H168C169.105 106 170 105.105 170 104V2C170 0.89543 169.105 0 168 0Z" fill="white"/>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0em"><tspan x="10" y="18.2727">Insert a photo.</tspan></text>
<path d="M191 28H10C8.89543 28 8 28.8954 8 30V113C8 114.105 8.89543 115 10 115H191C192.105 115 193 114.105 193 113V30C193 28.8954 192.105 28 191 28Z" fill="url(#pattern0_24732_2238)"/>
</g>
<defs>
<pattern id="pattern0_24732_2238" patternContentUnits="objectBoundingBox" width="1" height="1">
<use xlink:href="#image0_24732_2238" transform="matrix(0.00617283 0 0 0.0153756 0 -0.193986)"/>
</pattern>
<clipPath id="clip0_24732_2238">
<rect width="170" height="106" fill="white"/>
</clipPath>
<image id="image0_24732_2238" width="162" height="78" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKIAAABOCAMAAACUqj3QAAADAFBMVEWDnWNLaSgbODEfODQ5Wm8sQiw5W3MeNTgiPD9AYXkjPkI2TkMsRD0cNzU1U2drhZo8XHM/VDg+XnZdeo8vR0FhfZEgOTdYdos2VWk/YX1EZ4N0jlZEXVNab0c3V2wkPDdog5lrhFppgVlKbo5kfIxVbEIgOTs7UDVGaYc4UkVVe6BSaT5DVz1ddEsxT2FPdJZYa3Vof49pfogpQTs5SzRHa4pmgJYmPj5jek9McZNidoFXfqRMcJAzUWZAWFBNZEg9UDxdb3pqgpRAZIF0i2I6VEpthF5ngFVkfFRUa01Qdppxho1Zb1Bgd01PbIJDZH1rglIzSkl4kKNvhZKHnKtvh5xSa3pRaHQ5UmEvTF43Tkxth0sxRDFli7FYcn9YbnpleoVcclUySkJNZTv3+/dwlblbgah/lqZTeJxgdlVmfk9ifpVeeIhIXWhviFxviFVxjE9QZk4tREMpPyhJXT5qkrxtgos7XnpBWWhbdIRTcYNMan9fc35mjbdTZm9NYGtlelxObYg5Sjpeg6tSb355kllRZkVLXkT09vBkhKN3kGXt8OxVcoglQElEVkUpP0M1RzBbe5ppfWVKYVpvi6Jtg4FKZnoySlNPX0scNTBDWV1UZ1ZpgkjU3+Hf495aj9R+ocRuj69/lmvm6ueUq7qRp7VliKtMZHErRU9XaUnw+/lzmcGNorF1i55qeHhMZWE8UVR4iZGFnnJsgHVvh2N8lV7P1dRZi8OBnrVXd5RSdI9leWxUa1+qvMZjfEOWsMGOpXs3VW9gdWFbfqB5ioZab2R2la9HXzV6m7eBkprc2daJpLu5ubastrSKnJ5hgJ1cdXhjcG9bc0CVo6NFYHNRZmhJVFDEz81+kZBYcW6+xL97gHzY5ulcZF8/Skijtb6KmZCJjYuMpmvj8PLD093IyMOhsbSerKoxUnaxx9S1wsSmqaVQiNGet8eYopd3i3iVsHRwiHNrmM+IqcmVrLCftoaClHyjvtcpOTFHdbshNiKsmpw2X59XV1GHXWFZMTJyqZ0aAAAAAnRSTlP+Xwd4TW4AAB3KSURBVGjeXNZNaNNgHAbwiAeFVhSsu6Rl5sUORCL9ABd2qFiyJKMrpAx1tuDWepAGTeqQscHQHcyEHDbYqIr21Mv0oM4uPVlKGQ7xIqMqzJPSg+JpG6hnn3+6+fVsbUgd+Nvz/t+84/a107qls5DBNCYYp8SQGA5JknDqlFqtVQVZUxVVkx1ZkbRhVcPPMNdlruKy2dlZLc9cphVrrZpLn+5s7ey82nxTLm++e/fpy9u331Op8uSL1GQqNZCMLo+Onr506dLKh5dra2vrjxqNpaVGoxEM4vJoCXfBpSBuHgUHfX5/r98fXJ+fXwv2HqBwXLPZNixD13VVNZiYBjAUkgTFrTrVmsBcUxUEQZYVxlQ1XGQMd4qp0IUxMUR3NRjxS5imI8P4+dWzV5ubb79/+fbpe6o8PjkeS02euDDlCUcffoRwnYSN9fXnS0sJsNbXG4lEIRAoBPwFvz/es3///t5CMOibbyT6d4mcXa/zKNLQDUkXDUkTBEmCqlqtGQY+xY1pmorEEEnUJFVVBRM+U5ZNTRIcp9Zq/cBb1XEc2d3Z+vzq1efNNyjx7dvUx6mp0anrU6MAIqMXP35sNJ4HE8/Jlhj0+QoFXwJdBvwTAUomkwlMxOPxiWwimJh/EJw42NfXd4DLcdtcx86VrApv6Xo6dEVghhQSJCbLVVW3ectQDYE0mqClmapJMIpoltygqqYruNVWq1VryTKI7uLWz89ft1bL5XJqY+Pi6F7Q4empD42ND89XVrLZbCGTzeDi8w1iqYOJlQQyOIi3lWyG4kPmE9mF/v5+ECsl7sd2Z7tTyvGWZeltQ5BgUFX06Ji2hYZVlRqDSsUUKsw0VVUjpSkRVQiLTEaJNZMJrixjTn/+pKksb0TGN65PUd6/f798797y8q2NgY1bt259+PDh+XMsM3AUvMNGRiQbQCZQasE3P59FvZkFrpTLlXIlntvervO2bSGmjv+dqd5SYwJ4x0FdDt5VLLfmojmVCeG0hHdSK2lRYvSzNUVlMgaYunRXX6UGBlKT49OUa0dPINcGZmY2zkU84R8i8pt40pelcYz3L/gnCr6TJwd9hUB2givZJR5M3q7zNJZ8ybbFtAEGqnNqdTTL847s1J1qtSqrV0IC1hr/JoXSmsQURRUUhZwKlArTFFd2nFbL2dnZfPPmRSo1koxeoxBxfCASidy6dfs2dNeX/ghx2S3RB5I/3o8sTAR8JxFfwOfnbLuEFiuVUrMCXcnO8byVTquKzARDcLCTEMj5ehXT5ohhRgOpmKaGDa0p6FsRFEcWGJiyojHHdWgyt8qbmy8oI9Frl+/cmf5NJOP1pYdI8K90hSchDPj9u0TUiBQCca7E28CVvCptHgtex1DiEcTLvG4YPAcdfJ0q7VgspsY0U8YCu+hQDBUV3CkUPCYXXbfKZvOus/XzJ4ApAFMjI7HpOxcuXCbh+MC5yLlIBMTrD5ceBrtf3RDQI9IcEjHup3HEngmA2MQoVproLlfJgVmyOz+2USzaxGTydY6vWxZX69Rq7bbh1GqygNZUhgrTGhsaQqeKpjAAi7OLi7Pu4uzizg72NC1yil6p2PTYhQvTJ6JREGdmZs6BCONei4ldIgmJWCh0iQvxCewZ6jTu50oVMqLHHLDeVNLGoT3UXWKuXrdtrm7X9VNt3XSqioptrClKupifLc4NF7WiKBSRPIz0tbi4s4Vnd2pyEj4izhAx6hERqhE9gph46D1r/iHCGABxN/FuOKqu3a5Uck2ygoaJ5CGud7broNa3tzkL4S3etMRTklOVGYBP2Nzc3CIbulmkzCLFInSUVRBx7CFd4sAY1jmZjGKlYzEs9gyQZFyhJHbjCUH0UYsH+w/29fT09fV2wzXblWYTQCjBA5Rm0ga186PT6XD41g0y6hZOOCFstqpVbN+54bNzc/n82aF8l0gh38vF1dWdcgrEWIyIuA5cvjwdxc6OxmJRfDrgrTVa9B7hgysrpKO9QiHiAoB9PTj4enp6e3tAxEJjmZuVdrONOazQYts8Bxqe5hz6pInUERLiKYRti31bLA4PDw0N5YeHhvNdI62wR1xdxcFC5YEI48hkbPzatWPJw0kYo2gWPY5FUCIJ/w7x8MpgnXHmUQiJ7N/PlSzQeP610cRTmkR8CTu43qnbuYpl84iOw1uSmCmAqGmOzGjy8jAOgwgjjSFCQAiJSOWRERt6JHriRDR5HEkmk7ilpb4I4ujKyn0cgRm8EDrxQESHcQhB/J39INpcB/vWbhuGofNkLKFTvsLnvHItHC+yTs9p1WGS6YiSrJDwDxHGLnENwl0itUXEEQTlJc+cOU45fNgjjmFPT6HFh/fv38/AmPHilRjw9/f+ER6i16FDHN/ZrjRLaKwZNmjq+FyzSda6VTEMScfBhrRkQdNw0GlhDcsMHzLkZQ+5trZHLBMx9puI8iAEj5LEKI5hR9/C2X17efS61+UEMQsFnHeDnhFzuGfsQQ5xdJpgBCu61ZZ0STeaTVpy3ZDxt8uPH/Rdk1Ut/GROLGqIMktAEt64sWfMIyC+RDwh8U7EotE9odfg+fMQJsdnxiKRsYvL15cvLk9NTT8duXj/MYRochBCJBvo7/V4fRB2wzUr8LQNXZdNwzIsXdRDoRCAwIGHDWypUhgfoULvUH7SBQ7dOAvj/0QIu0AMYDSK2YMqSUAQD585cyZ6bebyGIRjl6PTF05cfXrk0mMkg2RpS3vGzMKfGrvE121DSl85JeksLUliWsGeVSVJrjo1JR0Kh3RDNERcxS6RiXc9IRHPgkj5QwSwSyQhcL+osLNYF6IwDuAexRJLjT6NLSYe2sot0kpfqAgeVCg1eJgpvdLUFEE1bRUl0jZpqUhRaYxlSE2EREhFrJFQqnaxEyKVIHiwJcTy/047yufeLvfp5/+d78ycYc1lTQbT4eDoz2FJlrCZh33BoF2S5u3ceYhW5AKDiN9ZTgqxw+xhsUQi6Yg1Epp8Qk/rET3E2ywBwcbDy/MWG9YjPtg8Hs+0aVOHj7ClM4yVnoBaQdWOkYRHiWhE6CCiUQRUTCa6IwtP8vrss73B4JHw3KUU4ubCypU01yCiyDnIiRyNQor7J2esW7euWmXVp6etEetCXbAI6KqHZecZvwRlIyFCnOYJTQeRCVkxYrk8HUJGpEEBEcWxFIcZQofCKZzDATauM+FJR7xgTjpiFw9t3rx5ZQG1skOkwaaR6RCn66WSddX37+MWpqyRNJwCH+BBmopNiDbEJVPH4xtLMcTrwLWBGSPGcrm88NIlEvqxW0ftTMhxCkQG0cFxJpPZbOLwB+TnnTMniBPX6EMQFnr17NWrl7MwyzCy7bEPBhlbDv2AmNFLE7du3TqqBB2mAokhPhuuJssn71+2xIb4PLZ2TdfT0BEvEyGhAcRp7vbto0ddfhoRO9cuJvQBiBZzisIGRhnmRYCT8J+QK0vnUYa9evaE0dmrsHJWbyakasdoEKeFto4bYB0V0XWbIAgWbNJYgyNmeu4IHtzOIE8S8ihdJ6FBhNHIsCV0ufx+WoNchwiVr1j0YSFyJjNCpO9EnI1VOG8nMiQijIgRb84+vQlpEAd3tu4BAyK4aYGQF2oWSEDCC5IU9A9fUxiU8cRLYwksvHCiHSL5jDaT8NEtAvqpw6zYm6M1yjQmCrQOSrToPYLdplIRsfPIO/8n9nRiD28bF42FcTB4jFgbIMBjQYQ8DTKCNFjld49fpFKeKSGeT/OhyV9TXz+U2JBQjOxDuQ285Qq3y4TiTCRUYCpSITYHvBA7FPtI3OBiz5ZcLhGbNgl7GUJ6x3EAQCj7jB2Kq3PfXVQ9AhZ+qicwfrxQAw7bDLo9fvIyj8BPLzeubwulQl+3bfuSSg0P6XoqQwUeqxIixFOFR49uJeOki5tRMFKxPvcr+tBahXkpUvR8tj2ZlEUQcY5xVXYaRAKycjr7wEidJqNBtAieER7extdGBQLwoXg84dEFffqTd48vXiz9/PX755OFOvpc3pZZUaICkoAsQUQYD+Mcmkgk8n+NhILKcZnFiG4X2ZBI7mjUzYiiO+ka48K8gMeUf4nOQQCyu28Y28Rzd2zYCQOBQC3QMtqG2ywCSOXT16svPnx8+eTXj2Zz27NnF8vHn70jYZk5ISRf0gVfHsBNLSIJCYiu9vNevlz00dQMM2+aK8tdcCVxzy3GllbkJA4J63cS0eAZxEX/GFvEO3fuBARLgHxtIo97htLHl89e1rPNZqPxo66p2oeXjcYDVVWflbaUtpUyAKLJLaGEQ2hi0yZGZAUi2qrM2GDCpDiG+XycGTfeI2fjTtGNELvWx2IgSjjRRNlq7Ahpg0SKjEjnVRgZ0YL8LLUa8bAuMS/pSLp0+8Xjt7lctlmv16vd2VxWa6iPtWxO/fD1ZVX9cPzjpTM0JZIk0RF07po1M2Z0hCiO3hRFwQyjx0Gv3SXPvupHivjXtTS2XpTnrl86N3heImMnw0IBB+hF4JEQRBgZkbKzUIgWXJtRaex5pbuPd1/fvbtbbTJnVsup9aP1nKbW1Xdarnnp+PZbAFIhjB1rQEzk83+B5kQeI3zz5rBhxeAcLy7LY1xd6/1EdIui6K5U8Lo+tvTIm2/XBtJyNJZiYSUVnuItaglRY2EEUQCOgK0I09iWI8+qT7VqtVqvNlUV8WnvmvUchLlcTmsi0g8vHsrMh/7GN6FoWPBDQuzSeTNL0dHPYR8pVSqyi1ocPTYGCeKhkyy6kWGsf/79m/ef9s1Hiu2ZcY4lIVyoQX1AJORQmmgbb2kVVmEaFYlYrc9eHr19dOOzJ09eqo+zqob0slnkiWJvuesPZRkNlvCsBkzyzUAxomJKJOijKT8XYXWJIPrZ2dTvBhDV1eXyi7EZyuVPn/bu3Zs/xHyFzYX2Iwh67ERII8ahICI9gYKkl0AmQ8L7z29cvd44+qJaV3P1bqzFbti6u+lVVbEk62/vyptEcaR3pMSEBFxDrTYpnBmfITWb4xKmYz0egYqi7KJxpgNBVxKXoag049S+K/ChrgzZzIhoMHMxmEHEOR+txr7IgHSXiGoRn5zd/fTpK7QVMNDefYBOU7P4Sr/1xuvPB6S58YMHZ8fntoXGuJjgpMuLw+c7ggNqEs9AYxUYQXR3gRmNHsOJy7Tv8OHD8FH1Q4zMOIstwI6RhMzYw+gyhJgTJtxy/O3u3U81jRFRdS1XrT6udiNAAjbe7/t0OTHpoDcsQojCtBCQZXfKRFe+SXbsMUk3WCCKICaR3hgcXaN+HLqKlyFsGT99ura0FSOMs0gJp0HEMZ+QPVqjXKtBiAKQEau7dxNRy2ma1t39uNmo55CkmlObjXdz1u45ubbIYZYh3EG1CW1NALqGWm2KxyVZXOd3yyCKsXszMDdebz8unMD+JIftw/YtXrx4NYgoGK8F55GR9pyVRopwwYgrIJBE/MOWvcYkFYZxAG/VWvdizWqtlVsummOTzGqZNWzrQ63VUrLLMmtl1IhvWXZBAl3trIuxmJYNkQXYCq2+eKDGWKOIQqImwRSVHESh4Qd1Wau2/s85gLX1l8tRv/z2PO/l8PIKQAgvp4Egvu/ydQ30DAz4+nzhga5jxzqaAUSu9nR2hkudrOGrclUA/TtUV9aAJQez5UIAx8W4yMGNjEKhqPlQk19cXJiz+pRc5/Z4aMxVGhmG0RltLfClAqrH5jWVUqvp4H09MpuGIF8+EDnkpFdHEdxrCQQACoUCIr583dUe7nwx/GmgYyjUgfKBR8/oYGlbzjwP+5XdDuGhnFMNENJ8Dkyt3ktrZL70ycUaFeaESnwGN2c6t7uykm8pXithwm+wKemhTBHN5or7IMJIWY7BBxzRFmaIr06fPnJph0gIoiBF7PN1dOjvXX3w4MGxdHAdjclOMQ91llrWUHVh7x7Z6py6BtpWds6YH6irwxLTuhdrtLimmJsZpTojOkohJGSZKFMp54hWq9l8+H6aiKOm9bDxOHpdyBFfXT55WXSzgIgCIX44or6ZFmqsiPrmjjdEjIZKFzH+cna8imVZS8yRBLCBdj71kiXqnXVl4m6cJqlUKuhIWKjjeVV86f61pVLp8Xi9EJpM4noYU0gAJyM8EVyuituuCIU3b6J+AhgLhKJvdz9+fBFuf9/X9zsY7Hvf1wNgoqRswQK3p8pgYA3sxgvmhOwcjcOd6qKiPLtdnnWq5oO4RqEAsZCIh7KM0BGPkvb9SzR6POizFcL42/v1fxPJiPqhhmuWgyhAowFDFUEUCSC88fHus2B/fxDP2d8Pan4HO3rHW477tXLvuJI1GEaqKkedSWf+XhqI6iKtC9Ngz5aLHx6JixUw1uTjALFsEWM0YsShkS02T2UlWHhAxf0gtRaLxe312mxSEOORSHE91ZEnwggk3+zdcE56hVmSISKiK7fD4fBBTT+As79/p4vxyhEDu8rTMlrFAtgy7kAJseIEps7fpbb7IczOoa9Tii8qyHgYO905v8UITKXXidjcmdbir0i5xcIwFqPN6TRZqc8OhyPeWF+fIcLI587C3WtABArtxadUvONx48rt2+Hh4e+aYF+wXxN87/OFpaMGtNdSzgI4onRLrfGxwkNlgblTG7DT+eXnyw5VYIERE7EJxouHz2UxFlTM6PEmk0mn0+sx8r5yo5vi8RhBhDCZNFGImHjCE5EJIhpNq+MkoQARYipTJIIbSLizp7+/L/w+GBzUP9C/tbFfYRxhDRCO2hKxwbH8Vtp6K+gECYdcCtrdDos/iEHEfDm0wA8hTQZT0gGhyeQ1WtDa2lpLudtjs9lMthKd2+aFLAIfGh0BMfG4fubMtBDPlJOWRxAnIkEdNZrgsL7Z97m9a/DJ51gsmjAq2a8wopAjLS3JwVj8RaFqX3UdBh+fpkdipBj3CMUgtpZlMUwtUv7QmwTCaQLRUoscx/gzuml2SHEeYXZGIDRbpTKZ1RyJRBwXQaQy0mdTEvJrDi3hIArTNRRCKNH0v/dxi2Aslhh/WK5kAURYduShzRnrDb3NLxZX7AzsXbr51i1O2KSoqKjgvqnY2xposPsJyBndTtSQIzLHU2F0XqfJDJbUjNKZpMCWlOAXULfsp/mSKt8EEUv5X0R6uyKS3Hod69UnxkdbHtL8/fHDQMCqUYt7vFcfG3yNY9aK1sC5wxzwQ2trK7dD006IoWnXEjDlsVBXKUbXRiQ31+VyMV6n2SojIgagWVbShjsiGK1WaVbgOhEJOGcKes0TgZw9CTSEF9KyfWVrfZOq+uyvH9RcEH+hw8o8v9cRi94LxV+vrmtVNany33U/etR9MUcu9zMUvxZxuY4fTwPJdNxC/6En6XLpRau1OSF0y6RjjkRESie3e+DFtJZm12GLwRkEhHOARMjKE9NGIUVSIJm1sr5x/xcQ+Unyi83dzmyR6qO9UX1Xu0pR3dQeHgq97C48tUVnSQUwnsbz0nFRCJ9LOXEiF5dumy4bJztSZyIhnUfHeW0oIRpdsu5c9fX1aDDJKMTjNhmMRZEoYywo0Iie3Xpc/3guqviDHcEac2KtetmpRC98g13djw887m8fGAq96WjP0TGE+78tNxUIc7UnKNp0/H673a7NljnHk21bICwtkXLC7KxrO/djvlAV+RCQjGsm3RRdOU1GTlgg+RzKVzSWXcs7UatUGpkFWavREv2DB/qx7t27GxsPNA0MdL7p7Pm8hfmrchlZ2kcoSuaSs5HQbs8rKip6qtXZvDruuLGtRErGtgVP1erAdZ44GcDJ6WADpL1ZmCZKPkaeFIoVhThG9TodMb0+GqXJHSkNTN1H35K0D/180zPs63zL1NKwy+h4GpFItT0d4Ph3rZ/BAY9frrU/LSpaAaPdTkei2XvaXsuIaN1zTa1Wo4wrqb0kzIR2F4mmABFy+9+NF0/w9R1mRq8eNtyLoX6R0obnc59PWwzii+aejs5hX3zQ6nJN2FIwPrwtLy9vQ95E7HSog9mbLX9atIKLGuGIEL6VSkvkajU+jVdfT1cRtoxx0mkQbx4skIAokkiCNfFYL2wIbsCaQ5G3qsXPv1CeNza+br73c2g4Pmabp9ZihuKBZHhpG/HSeVr0lCKn42MsgbpstHPt2rUr8AQxK3sPFhwYZW3n1KuWLLnQ0Dg93egpfxEFuIPAQ0LCAk3/wD3OF70a1YdCXTXV+/bv54WbmuK9zc0/hz6OuRkXdBOBLpV/eMifPu0ntGkojgO4SKvOqZOG2q7IKCi1glSKc6JsEuZx0OKfyipB1MsOnYcpWF1BSBBEqHGia50yL152sHVDGKzgIVgPBVspc+3U+e/gKhP04kH04vf3krxnq/jtGjp2+fB9ee8tTXqps8KLFwk/UbAK+j1qMLgXCSKQ+2NEHCrl3KoPyby8TkQ2vMK4CmcgatwhI92apulvPnzBtdXkbCO/kL886O2Khxix7+yTB/fvz/76Ujn2FGcgkwmanSYcQo0Vrr2QEpi3IMZ6JFCCe9EYkk70uDuG8Afq1+PzRZFQwFp1IOREzBEZb13WtG68FUXR3izXV8anp0MXjzsMIx7f5O38bFzClvOcrv8WpacEFHNi/35LRkTIenEgHYUa671ZSHtuoywIexIRH8shvNWEW+oYeoilPJfrSJOwM+qiGhmyhajJV+/o8phMpyWMPzZMH74xNRXaZBjG5/imwcFM5uHkUv35p9nX9cbwHHwIr446oxCxwMsjnxkwI6oHX5K5pYQfxCgJDwGUkiQpNvTwWCzsTngi0Wgb4upbx4xMKIgY310jI1dlRcOgK4pT+TExsTFwPR7vMxDHscsnzj1cWpot18tfPjWOzkGHkM0KaqNlBNldsMsLivjo7YuokVRE8rtT0eghAFlw4S3lho5sH42kUgyYdLk2T63bspqNsiDSbJb1kRG9W8G0GWPEnxMb164Hsa8vdPbU+/yeH9XJydefGm+ely9Ic2LaUn20zDHhzRe05onyfC0hk5pGWSxteMMUTY26ezyRTIYKdCVdIG6OrxM6YBlR1vGlK+4POeGD0Ok8/5NanIqH4tkbd6er787U8iB++Pi6MT48Z/t6GY+FrrCwcWyzfOxUO9ScKE8npY0nk0KFGQCJR3E5sjA2t9gt3xk5fU8notMJoU3MXsT13EJ1vLg4j2vW+ofi68bAcAH7F3hcRywYC3OFgmr7OK+zEz8swsV1LjNtbXjmrY3p1rBsdlzE6tg8XWSZStRlDDSALD/3bNg3ffnAQHGxMt9oNMors0v5r/XyADrk5UHHg8+2z6S1huNodIURnZntCaED6RqcWtdE3CVf1XVMam1MA9GMdnADHoTEbbPieH5xYeZVfWm5PlvqL6BA0R7CpwSCIweaHhuHCBhodsBiOIdDCFlQZADGiQneokxLzQ5trHvMJiq6cvDMu1vTh5+9q1XPjT9amWw0vg+ne/dvs4VBPqxNQ4skzbBBTCbtwnC0XCJsXKHiMbAOo8Quh8M7FaDVmxNJZk5np52rys5bC9VqFSV+qDSWV+pvywPpgjXEvdtUqz+BE+MLHb1YuI2H10U4vCyhQTajyzC6rAyuxz7D10VNOc+ICoSC2P7oVTU/XqTTcX65XK9XTqVV81+UAiaHahZILtuWtBt0ASiqaukOJiv8A/Vm4CXi9Xpxp3U99mlGpO5M4nnEJupa+1a0+NgkzjdWlmfCaZUSVAsJv6TCx5cQ5kvaIRZVRW862+zTzdESAfo7m7zY07L7bKKTYArSRNTbdx6s3XpWe5enFOcrA2FPOp3GHqF6/B1SJPWn0Dr7IOPhRDYX/oXjnOZ4zSMzrsfaAyKEjIilRhCxnMvt7ZqmKT9qtUcLMyX8pxuWcHMetlF3zD8cSSERH9u1rKz5dywVXgLXpOtDrA/0Y2cQiV8PAAmi5eIlwjumYZ7r374VH3/8iHGu0FOxYdy/xXYfkWK5/ktX2BfwKWtXaFVxGo58QIVO+LgRutaAGMreaCXiYAq7NTLewZd4b99WihfwSCyCpzCkyCiEII5eGna7JRAtYRIvcf6LSQGhcHUJmIhtCyE4mp95sutAJBnRRIkkJGK7rN/T9VpxcaZUKuVyuVgP7gp4OvAhjKcg+vvdaeytfBWBisfY3AQUabaF/h+0iHkd4EQWU4hlCGmXqUcQ8yXKTC7Wfwlfing6Yrj5HUap209mzM1VCHHGsRiOf0wI64QToQfmkXhz+O/mn7LnAr8Byxgcn8HVQT0AAAAASUVORK5CYII="/>
</defs>
</svg>
`,$u=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_920" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_920)">
<rect x="12" y="14" width="2" height="33" rx="1" fill="#C2C1C5"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="24" y="26.6364">In a decentralized system, we can have a </tspan><tspan x="24" y="40.6364">kaleidoscopic complexity to our data.&#10;…</tspan></text>
</g>
</svg>
`,$p=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_986" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_986)">
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="43.6364">Any user may have a different perspective on what data they </tspan><tspan x="8" y="55.6364">either have, choose to share, or accept.&#10;</tspan><tspan x="8" y="71.6364">For example, one user&#x2019;s edits to a document might be on </tspan><tspan x="8" y="83.6364">their laptop on an airplane; when the plane lands and the </tspan><tspan x="8" y="95.6364">computer reconnects, those changes are distributed to </tspan><tspan x="8" y="107.636">other users.&#10;</tspan><tspan x="8" y="123.636">Other users might choose to accept all, some, or none of </tspan><tspan x="8" y="135.636">those changes to their version of the document.</tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px" text-decoration="line-through"><tspan x="8" y="15.6364">In a decentralized system, we can have a kaleidoscopic </tspan><tspan x="8" y="27.6364">complexity to our data.&#10;</tspan></text>
</g>
</svg>
`,$f=(0,H.qy)`<svg width="170" height="106" viewBox="0 0 170 106" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="106" rx="2" fill="white"/>
<mask id="mask0_16460_1148" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="106">
<rect width="170" height="106" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_1148)">
<rect x="7.5" y="26.5" width="169" height="84" rx="3.5" fill="white" stroke="#E3E2E4"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="9" font-weight="500" letter-spacing="0em"><tspan x="17" y="42.7727">Untitled Table</tspan></text>
<line x1="17" y1="50.75" x2="176" y2="50.75" stroke="#E3E2E4" stroke-width="0.5"/>
<line x1="65.25" y1="51" x2="65.25" y2="110" stroke="#E3E2E4" stroke-width="0.5"/>
<line x1="17" y1="63.75" x2="176" y2="63.75" stroke="#E3E2E4" stroke-width="0.5"/>
<line x1="17" y1="76.75" x2="176" y2="76.75" stroke="#E3E2E4" stroke-width="0.5"/>
<line x1="17" y1="89.75" x2="176" y2="89.75" stroke="#E3E2E4" stroke-width="0.5"/>
<line x1="17" y1="102.75" x2="176" y2="102.75" stroke="#E3E2E4" stroke-width="0.5"/>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="25" y="58.8182">Title</tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="28" y="71.8182">Task 1</tspan></text>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="78" y="58.8182">Status</tspan></text>
<rect x="69" y="66" width="16" height="8" rx="1" fill="#FFE1E1"/>
<text fill="black" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="71" y="71.8182">Todo</tspan></text>
<rect x="69" y="79" width="31" height="8" rx="1" fill="#F3F0FF"/>
<text fill="black" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="71" y="84.8182">In Progress</tspan></text>
<rect x="69" y="93" width="17" height="8" rx="1" fill="#DFF4E8"/>
<text fill="black" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="71" y="98.8182">Done</tspan></text>
<g clip-path="url(#clip0_16460_1148)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.7102 55.3125C17.6067 55.3125 17.5227 55.3964 17.5227 55.5V56C17.5227 56.1036 17.6067 56.1875 17.7102 56.1875C17.8138 56.1875 17.8977 56.1036 17.8977 56V55.6875H18.75V58.3125H18.2557C18.1521 58.3125 18.0682 58.3964 18.0682 58.5C18.0682 58.6036 18.1521 58.6875 18.2557 58.6875H18.9375H19.6193C19.7228 58.6875 19.8068 58.6036 19.8068 58.5C19.8068 58.3964 19.7228 58.3125 19.6193 58.3125H19.125V55.6875H19.9773V56C19.9773 56.1036 20.0612 56.1875 20.1648 56.1875C20.2683 56.1875 20.3523 56.1036 20.3523 56V55.5C20.3523 55.3964 20.2683 55.3125 20.1648 55.3125H18.9375H17.7102ZM20.9011 55.3125C20.7976 55.3125 20.7136 55.3964 20.7136 55.5C20.7136 55.6036 20.7976 55.6875 20.9011 55.6875H22.2647C22.3683 55.6875 22.4522 55.6036 22.4522 55.5C22.4522 55.3964 22.3683 55.3125 22.2647 55.3125H20.9011ZM20.7136 57C20.7136 56.8964 20.7976 56.8125 20.9011 56.8125H22.2647C22.3683 56.8125 22.4522 56.8964 22.4522 57C22.4522 57.1036 22.3683 57.1875 22.2647 57.1875H20.9011C20.7976 57.1875 20.7136 57.1036 20.7136 57ZM20.9011 58.3125C20.7976 58.3125 20.7136 58.3964 20.7136 58.5C20.7136 58.6036 20.7976 58.6875 20.9011 58.6875H22.2647C22.3683 58.6875 22.4522 58.6036 22.4522 58.5C22.4522 58.3964 22.3683 58.3125 22.2647 58.3125H20.9011Z" fill="#8E8D91"/>
</g>
<rect x="17" y="66" width="8" height="8" rx="1" fill="#EEEEEE"/>
<g clip-path="url(#clip1_16460_1148)">
<g clip-path="url(#clip2_16460_1148)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M18.8125 68C18.8125 67.8964 18.8964 67.8125 19 67.8125H23C23.1036 67.8125 23.1875 67.8964 23.1875 68V68.6667C23.1875 68.7702 23.1036 68.8542 23 68.8542C22.8964 68.8542 22.8125 68.7702 22.8125 68.6667V68.1875H21.1875V71.8125H22C22.1036 71.8125 22.1875 71.8964 22.1875 72C22.1875 72.1036 22.1036 72.1875 22 72.1875H20C19.8964 72.1875 19.8125 72.1036 19.8125 72C19.8125 71.8964 19.8964 71.8125 20 71.8125H20.8125V68.1875H19.1875V68.6667C19.1875 68.7702 19.1036 68.8542 19 68.8542C18.8964 68.8542 18.8125 68.7702 18.8125 68.6667V68Z" fill="#77757D"/>
</g>
</g>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="28" y="84.8182">Task 2</tspan></text>
<rect x="17" y="79" width="8" height="8" rx="1" fill="#EEEEEE"/>
<g clip-path="url(#clip3_16460_1148)">
<g clip-path="url(#clip4_16460_1148)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M18.8125 81C18.8125 80.8964 18.8964 80.8125 19 80.8125H23C23.1036 80.8125 23.1875 80.8964 23.1875 81V81.6667C23.1875 81.7702 23.1036 81.8542 23 81.8542C22.8964 81.8542 22.8125 81.7702 22.8125 81.6667V81.1875H21.1875V84.8125H22C22.1036 84.8125 22.1875 84.8964 22.1875 85C22.1875 85.1036 22.1036 85.1875 22 85.1875H20C19.8964 85.1875 19.8125 85.1036 19.8125 85C19.8125 84.8964 19.8964 84.8125 20 84.8125H20.8125V81.1875H19.1875V81.6667C19.1875 81.7702 19.1036 81.8542 19 81.8542C18.8964 81.8542 18.8125 81.7702 18.8125 81.6667V81Z" fill="#77757D"/>
</g>
</g>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="5" letter-spacing="0em"><tspan x="28" y="98.8182">Task 3</tspan></text>
<rect x="17" y="93" width="8" height="8" rx="1" fill="#EEEEEE"/>
<g clip-path="url(#clip5_16460_1148)">
<g clip-path="url(#clip6_16460_1148)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M18.8125 95C18.8125 94.8964 18.8964 94.8125 19 94.8125H23C23.1036 94.8125 23.1875 94.8964 23.1875 95V95.6667C23.1875 95.7702 23.1036 95.8542 23 95.8542C22.8964 95.8542 22.8125 95.7702 22.8125 95.6667V95.1875H21.1875V98.8125H22C22.1036 98.8125 22.1875 98.8964 22.1875 99C22.1875 99.1036 22.1036 99.1875 22 99.1875H20C19.8964 99.1875 19.8125 99.1036 19.8125 99C19.8125 98.8964 19.8964 98.8125 20 98.8125H20.8125V95.1875H19.1875V95.6667C19.1875 95.7702 19.1036 95.8542 19 95.8542C18.8964 95.8542 18.8125 95.7702 18.8125 95.6667V95Z" fill="#77757D"/>
</g>
</g>
<g clip-path="url(#clip7_16460_1148)">
<g clip-path="url(#clip8_16460_1148)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M71 54.6875C71.1036 54.6875 71.1875 54.7714 71.1875 54.875V55.0625H72.8125V54.875C72.8125 54.7714 72.8964 54.6875 73 54.6875C73.1036 54.6875 73.1875 54.7714 73.1875 54.875V55.0625H73.75C74.1297 55.0625 74.4375 55.3703 74.4375 55.75V56.375V57C74.4375 57.1036 74.3536 57.1875 74.25 57.1875C74.1464 57.1875 74.0625 57.1036 74.0625 57V56.5625H69.9375V58.75C69.9375 58.9226 70.0774 59.0625 70.25 59.0625H72C72.1036 59.0625 72.1875 59.1464 72.1875 59.25C72.1875 59.3536 72.1036 59.4375 72 59.4375H70.25C69.8703 59.4375 69.5625 59.1297 69.5625 58.75V56.375V55.75C69.5625 55.3703 69.8703 55.0625 70.25 55.0625H70.8125V54.875C70.8125 54.7714 70.8964 54.6875 71 54.6875ZM72.8125 55.4375V55.625C72.8125 55.7286 72.8964 55.8125 73 55.8125C73.1036 55.8125 73.1875 55.7286 73.1875 55.625V55.4375H73.75C73.9226 55.4375 74.0625 55.5774 74.0625 55.75V56.1875H69.9375V55.75C69.9375 55.5774 70.0774 55.4375 70.25 55.4375H70.8125V55.625C70.8125 55.7286 70.8964 55.8125 71 55.8125C71.1036 55.8125 71.1875 55.7286 71.1875 55.625V55.4375H72.8125ZM72.8586 57.8981C72.9975 57.7326 73.2059 57.6276 73.4386 57.6276C73.7911 57.6276 74.0877 57.8687 74.1718 58.1952C74.1976 58.2955 74.2998 58.3559 74.4001 58.33C74.5004 58.3042 74.5607 58.202 74.5349 58.1017C74.4093 57.6135 73.9663 57.2526 73.4386 57.2526C73.0495 57.2526 72.7065 57.4489 72.5029 57.7474L72.354 57.6842C72.2983 57.6606 72.239 57.7093 72.2513 57.7686L72.3723 58.3507C72.383 58.402 72.4416 58.4269 72.4859 58.3989L72.9884 58.081C73.0395 58.0487 73.0333 57.9722 72.9776 57.9486L72.8586 57.8981ZM73.3836 59.2519C73.6163 59.2519 73.8246 59.1469 73.9636 58.9814L73.8446 58.9309C73.7889 58.9073 73.7827 58.8308 73.8338 58.7985L74.3363 58.4806C74.3806 58.4526 74.4392 58.4775 74.4499 58.5287L74.5709 59.1109C74.5832 59.1702 74.5239 59.2189 74.4682 59.1952L74.3193 59.1321C74.1156 59.4306 73.7727 59.6269 73.3836 59.6269C72.9868 59.6269 72.6378 59.4226 72.436 59.1143C72.3693 59.0125 72.3185 58.8991 72.2873 58.7778C72.2615 58.6775 72.3218 58.5752 72.4221 58.5494C72.5224 58.5236 72.6246 58.584 72.6504 58.6843C72.6712 58.7651 72.7051 58.8407 72.7497 58.9089C72.8852 59.1158 73.1186 59.2519 73.3836 59.2519Z" fill="#8E8D91"/>
</g>
</g>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="16.6364">Display items in a table format.</tspan></text>
</g>
<defs>
<clipPath id="clip0_16460_1148">
<rect width="6" height="6" fill="white" transform="translate(17 54)"/>
</clipPath>
<clipPath id="clip1_16460_1148">
<rect width="6" height="6" fill="white" transform="translate(18 67)"/>
</clipPath>
<clipPath id="clip2_16460_1148">
<rect width="6" height="6" fill="white" transform="translate(18 67)"/>
</clipPath>
<clipPath id="clip3_16460_1148">
<rect width="6" height="6" fill="white" transform="translate(18 80)"/>
</clipPath>
<clipPath id="clip4_16460_1148">
<rect width="6" height="6" fill="white" transform="translate(18 80)"/>
</clipPath>
<clipPath id="clip5_16460_1148">
<rect width="6" height="6" fill="white" transform="translate(18 94)"/>
</clipPath>
<clipPath id="clip6_16460_1148">
<rect width="6" height="6" fill="white" transform="translate(18 94)"/>
</clipPath>
<clipPath id="clip7_16460_1148">
<rect width="6" height="6" fill="white" transform="translate(69 54)"/>
</clipPath>
<clipPath id="clip8_16460_1148">
<rect width="6" height="6" fill="white" transform="translate(69 54)"/>
</clipPath>
</defs>
</svg>
`,$g=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_868" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_868)">
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="15.6364">In a decentralized system, we can have a kaleidoscopic </tspan><tspan x="8" y="27.6364">complexity to our data.&#10;</tspan><tspan x="8" y="43.6364">Any user may have a different perspective on what data they </tspan><tspan x="8" y="55.6364">either have, choose to share, or accept.&#10;</tspan><tspan x="8" y="71.6364">For example, one user&#x2019;s edits to a document might be on </tspan><tspan x="8" y="83.6364">their laptop on an airplane; when the plane lands and the </tspan><tspan x="8" y="95.6364">computer reconnects, those changes are distributed to </tspan><tspan x="8" y="107.636">other users.&#10;</tspan><tspan x="8" y="123.636">Other users might choose to accept all, some, or none of </tspan><tspan x="8" y="135.636">those changes to their version of the document.</tspan></text>
</g>
</svg>
`,$m=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_960" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_960)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M13.6667 19C12.7462 19 12 19.7462 12 20.6667V27.3333C12 28.2538 12.7462 29 13.6667 29H20.3333C21.2538 29 22 28.2538 22 27.3333V20.6667C22 19.7462 21.2538 19 20.3333 19H13.6667ZM12.9091 20.6667C12.9091 20.2483 13.2483 19.9091 13.6667 19.9091H20.3333C20.7517 19.9091 21.0909 20.2483 21.0909 20.6667V27.3333C21.0909 27.7517 20.7517 28.0909 20.3333 28.0909H13.6667C13.2483 28.0909 12.9091 27.7517 12.9091 27.3333V20.6667Z" fill="#77757D"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="28" y="27.6364">Here is an example of todo list.</tspan></text>
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 40.6667C12 39.7462 12.7462 39 13.6667 39H20.3333C21.2538 39 22 39.7462 22 40.6667V47.3333C22 48.2538 21.2538 49 20.3333 49H13.6667C12.7462 49 12 48.2538 12 47.3333V40.6667ZM19.7457 42.5032C19.9232 42.3257 19.9232 42.0379 19.7457 41.8604C19.5681 41.6829 19.2803 41.6829 19.1028 41.8604L16.0909 44.8723L15.2002 43.9816C15.0227 43.8041 14.7349 43.8041 14.5574 43.9816C14.3799 44.1591 14.3799 44.4469 14.5574 44.6244L15.7695 45.8366C15.947 46.0141 16.2348 46.0141 16.4123 45.8366L19.7457 42.5032Z" fill="#1E96EB"/>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="28" y="47.6364">Make a list for building preview.</tspan></text>
</g>
</svg>
`,$v=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_1128" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_1128)">
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="95.5098" y="16.6364">.&#10;</tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="34.6364">Wed 3 Aug, 2022</tspan></text>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="16.6364">Insert today&#x2019;s date</tspan></text>
</g>
</svg>
`,$y=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_1133" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_1133)">
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="38.0488" y="16.6364">tomorrow&#x2019;s</tspan><tspan x="114.211" y="16.6364">.&#10;</tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="34.6364">Wed 3 Aug, 2022</tspan></text>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="16.6364">Insert </tspan><tspan x="90.1582" y="16.6364"> date</tspan></text>
</g>
</svg>
`,$b=(0,H.qy)`<svg width="170" height="106" viewBox="0 0 170 106" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g clip-path="url(#clip0_24732_2246)">
<path d="M168 0H2C0.89543 0 0 0.89543 0 2V104C0 105.105 0.89543 106 2 106H168C169.105 106 170 105.105 170 104V2C170 0.89543 169.105 0 168 0Z" fill="white"/>
<mask id="mask0_24732_2246" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="106">
<path d="M168 0H2C0.89543 0 0 0.89543 0 2V104C0 105.105 0.89543 106 2 106H168C169.105 106 170 105.105 170 104V2C170 0.89543 169.105 0 168 0Z" fill="white"/>
</mask>
<g mask="url(#mask0_24732_2246)">
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0em"><tspan x="10" y="18.2727">Embed a X post (tweet).</tspan></text>
<path d="M174 28.5H12C10.067 28.5 8.5 30.067 8.5 32V209C8.5 210.933 10.067 212.5 12 212.5H174C175.933 212.5 177.5 210.933 177.5 209V32C177.5 30.067 175.933 28.5 174 28.5Z" fill="white" stroke="#E3E2E4"/>
<path d="M168.244 71H17.7557C16.7861 71 16 71.2054 16 71.4588V105.541C16 105.795 16.7861 106 17.7557 106H168.244C169.214 106 170 105.795 170 105.541V71.4588C170 71.2054 169.214 71 168.244 71Z" fill="url(#pattern0_24732_2246)" stroke="#E3E2E4" stroke-width="0.5"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="9" letter-spacing="0em"><tspan x="16" y="62.5454">To Shape, Not to Adapt.</tspan></text>
<path d="M32 42C32 37.5817 28.4183 34 24 34C19.5817 34 16 37.5817 16 42C16 46.4183 19.5817 50 24 50C28.4183 50 32 46.4183 32 42Z" fill="url(#pattern1_24732_2246)" stroke="#E3E2E4" stroke-width="0.5"/>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="9" letter-spacing="0em"><tspan x="38" y="45.0454">AFFiNE</tspan></text>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="9" letter-spacing="0em"><tspan x="72" y="45.0454">@AFFiNEOfficial</tspan></text>
</g>
</g>
<defs>
<pattern id="pattern0_24732_2246" patternContentUnits="objectBoundingBox" width="1" height="1">
<use xlink:href="#image0_24732_2246" transform="scale(0.00324675 0.0142857)"/>
</pattern>
<pattern id="pattern1_24732_2246" patternContentUnits="objectBoundingBox" width="1" height="1">
<use xlink:href="#image1_24732_2246" transform="scale(0.0208333)"/>
</pattern>
<clipPath id="clip0_24732_2246">
<rect width="170" height="106" fill="white"/>
</clipPath>
<image id="image0_24732_2246" width="308" height="70" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATQAAABGCAMAAAB1wpjTAAAC/VBMVEXu7u7s6+zj4uTm5ebj4uTj4uXn5+ff3+cAAADn5ufm5uf4+Pfj4uTt7e0BAQEeluv39/YTExPx8fEYGBjl5eSKLen29vb19fUnJycEBATS0tK+vr7m5uZBQUAdHR0tLS0ODg46Ojmvr67Q0M+rq6oQEBDi4uGampohISELCwrp6enV1dTOzs7JyMrFxcTZ2djIyMfBwcK8u71ZWVgGBgbr6+u0tLV6eno2NjYrKysaGhrt7evg4N/e3t7b29vLysu6urlMTEsVFRXo6Oe5ubuwsLCSkpF8fHzAv8GtrbCVlZWEhIQkJCPz8/Ld3dzX19fMzM2oqKkICAiu1/Pu7u3r6+qysrIzMzMvLy/Dw8W2trddXV1EREM9PT3v7+/GxsaxsbSsrK2fn59sbGxUVFT09PSn1PPw8O85ou3W1tbU1NO3t7eioqFzc3NPT05ISEjy9ffAwL+8vLumpqZ2dnZoaGhlZWRJSUmlpad5eXhwcHBfX18xMTHy7PfF4fTB3/RSre7GxcfDw8K3t7mPj4+Li4qIiIhSUlFGRkb18vfV6PXKysmYmJdiYmFXV1Zbse6dU+0om+upqax+fn7q3/Xz8/OBw/CTQewhl+va2tqkpKONjY2KioqGhoaBgYBGqe6DK+bFxcaioaTbwPnZvPjVtffn8Pa6l/aiYO+PPeuILOign6LEsPns5Pjd7PbDmfW7ivOzcvKYY++XNe6YSOyKNep9MOSbm57byvvj2frq2PnPufnCq/jkwvfTqfTh0vO/f/OwgfKjP/Kra/Bltu+SUO2PMOuqfOqPN+qLSed8KON1KOCYl5vDuPvPrPfBefXAjPSlffOWzPLbyfKvXfKGxfG2fvGkc/GmUPBuuu8tne2dSO22jeyWWeiFPuWcnJze0/y/o/fKn/XMjvWebPLUvfHIrO4+pO2fZ+icYuiENuadnaDl0fmyofjS5/XN5fWqkvW02vSf0PLNsu/Anu01oewpm+zJavgunu28l+ykcOiryd2CoLVwjKFceo8YK9G+AAAAC3RSTlP78O/4v68gIADy8sgKh8wAAA6nSURBVHja7NC5AcAgDATBA/PZiJj+O3UDCiBTsFPCaPSSDedqG+r5SVo4ld7cVD/tiWNbT5Elzq7slGVr4oqMtGuLNNI8pEVAGmku0iIgjTQXaRGQRpqLtAh+9ur3J4k4DuD4H/BpXw+OwR3IcQccApLoBIFTlMNpmyDmL3ABsgSzH4hJiANcNZfB0mit2Sp/9KyH/RX9BW0+qCc+7FmttlpbP9YXNWVFWw98gJvvB/f57u4e3F77bHeKdopWs1O0eqge0Ag4YdUBmjWX21iWwgnqeNE+7LyE2lks6/CPDCkvw2X7xuDEdLxoo+9+ZC7a8WFyJR/sxFO2NTtEVGASkVYF1E6+zI1ITBO5AJyUjhft0uWfxtQVfDjLmQrdeHpCxvkKWhfFqtYHMkNyqNWiyZcXJGEl/F/yF/d+9/I6AEhbVLiYmwCYVMXg7+od7TsltODDrhFRZ/FcYUoWwEm1SQMhSjoGoUaNLva8e9hpSj0FqKwnIVPgi0EK0G3fQ7JCJSUBe13/9OrB717tvACiS+Rw6qJDKVdG26FGdY72TW27MQhEXmIb0U4DEWbP9akGdcHVtCcwv0RvXzAQYFb1XXNXr1yapLoJhSdKZxXj7UpYjReDYMkUF5SQ3QZccjGIr0Mlz/6evb/ccNiTz5eAaJbYIikxwpAFdwvSQI3qHO1WnM3IoLHkVfNbZjCrR561R5pSoZyamyrxyO8cnklnoyFnMTkDh63wCRkA0cGz6QDtm4+whfOeOZ7ly+MUaQbodCJxEGAAre0v2seGqr7sVNAkF1db26ZcZP8JRVtjxGZQabhtf9GKp8vD0a658AaPbjgElIin50tk2ZEVqGdSOEieGBnoxFNaQPkALYrkytVYlC4nC6agC10FeGajBfy8iIL7aKOHa3b5XcPDxxU04QoA9M6OLFbQFFc2FrI5rXk6Nrtm2crGmwx1j6bT+JeJfiYzzxljsMmEezgU9iiHBLTaxdFT1vH7bDwms/bzURkchH8SPQrA3UWLbpok73TKRLqsI/QoGUItoJjz+r2TYGe8Z6rRsNnzS2+q0cYG6CWMpugRmYmQcWLTfNGriU8YWaOjt97RpKJpauY+Pzye5fXr7exKN4fSgyBlkJJQ01qpjDK2TgP0OlklAftdI51uwHVGUb4ZoVQvbNg4C0COPl9CKtDxxSVmGi7QIlGNhs1GR59Xo9nP2SqbZnewZa3Hx4Tm9TZyYWo4TlJ99Y4GDj7TrKbaiH4ho4sKHb0cGoIjtBjJJwo4hk5Pw34Z1mHGQ5a3CcttiO4DN2XSY0MXar6PrsE5dGPCT0CY1sMh2pPbX/fMnhygkWfNvYEkxd7BaJPppE4OSpHp19s0FwbllhS5VfdoQb+4qylfhVWXOOCKWDo5ZK1CS5OSyByuVGpbh70UnE0rBXDHee+adA2F7LCCUviTmkboM4+Q1uCnGidcEPBqxo/Q3n56ffsj3rOGAzTTYiIhukzlAEYDYkzXMezTCD69LToG0DUrcdQ9msEpJASfDGZKVDsz6/4DzUIywZa9GgnYq4shlXLCU+CFJjuE0SYAfg/AuoSMiiRK7uI7IQ3k0QAcoX15c/MWNjtEo40UpVn09Sgw2nTrQsQZCpEkRlMDgMEhydU92i/u7O8nqTCMA/gf8NTbgXOEQxzoICAHosIpJaFkOHAj0CQwl6iLNFaIZKau0tacYs0oN2zlz9rAfm2VztqqLTNr1lW21lyrruqi2tq6at3GG6zIrTaaF9j34px3L7AzPjx7X55zhNVqntTCBwiQm9mhlb+hVfD1a9QKBwBj9dZCIpWkpKwrUsN6vD6otTtXA0jZQtDmsSIJ1KHDNVwRSOwW8wkK3Dk/17TXj19cOP8LTamqrPTrGAKj5WzlNY2c6g4uKzSwkqhmCwGQzSGpmEhBy3PWN5aPKGUqcXGArmYKh1UYbohHn5aYpa34Rkddfkf8KHFuGvWQATYMOWaa3UZAtXInrxiYtl5dAg1jfV2Fk7IR4MTRDH1q+3Z9w9r6ZYO240McTUyjPbjvLNqJ6ldDCtpuWmlQDQZIWiYzF7SsFBvwf1qQ02oRF/auhXj8aBvEtQvMJDlWRPfA2dMoWARgE7HdfCjk0J6U3fNPaOsRzYBLYU9FI/T7czIW7caOGwCaodBBIwA0KEIbNdBQEWIAhKdCFKG3RALFvsGKTW2to7s0RCPvSAnEPRWRHsV+HwHxFEawdm1xaKyFgiE5gG5TFwCUjVk1AD6rCCMIvrxOQXu9dzHaBhmbd3hPO5eK5squ92YsGhzAPaVPzycAcxjx2afHcy58JJhCFwEEVT7oJgC2KXf7IB4HE59MhkmcjIwAgC8EAOrHSyUufMxFYXy69OLM8Z/BDXtZsKks2VzIa6pdil67of3Ioa3eZkkrAGhUQRs1Kh3OXLR0ctS+loA0QrSpxYk7Q8d+5Qb+QZrX1ybf4hb3Eca+3RXFgxtyTe5mHa6+otxyUytd+V+gNbQeYiCdKMgIH/4t2nZP2X+BRvStdaSFHBj758W8ueNIw6Krn+zsFCw/tHQj6GLgX0PZcuG3dN5/Pz//fjo6cHLZoGkod2J9pxw+RkP87dtu0RYtBbjRscjs2+zU1NSr+ZmZ99P373UuAzQq3Btw48Ge+j5/9fCiyzO/Ckq7rVfiaYpoYalzb352Livr1s3o+MybVy8nZ6YHMh7NQiKzDi8oa1C2ipdHQUqwZFlylLuVzK+qYnlBPyxtBPdn587133p0592z2JW5ubmpNwsPMh0trDaLhl1/QqPRusRgnyS/XeX3NwbzC0ywpOmcnn30LBaL3pt4Hn2UhfP0rTCz0QppXoCVUIvQNiisVgUFG1o2o9GWH0gRUQF+VkrUyVApaFv2UQqrqg7XyQqLzVaJP+XY0mj1dgkh3Qw8fzk+vnDzc3Ri/Hps8lwc7eLHgcxGU/FO6OysWPgb2sa8NRxXFZbvNuQju8GC+4k1KNn6NIrslNVgPVoltUu6QLglr4PjCsI6qLV5aI72dPPTXtImJ+9evnr1ypX+5+PPYhNP42ifHmQ0muC0s0cTdpbqU9HKg7y2U6c8zjZ5N4kOda/GU04ek9w4eCJtKapqGumRoV6HqUndPtITZE8bK+xcqS1CG9JuKz+/XOi8M4Er7Fz/m5ux/qxrmV5p2zlyO/hJgykVrcQ7nCMgdEjqdtCoziHAtYeqIBGiA20sRR3lfH6fWioPOSUmvlF3okYhU7YYhYzFLCuBtHIyNntrInr3YRbO7YUoRnsiyGi0kLqdAman2s9PQSP0jMPU3IOUJT83gmy0E5IpQNmlqBVXqYHc2MRaAaBWu30X27FeLtfu4r5LLovEeuDRZtEtF9YuBwfahN07109Y9erOoK49TWX5HN28vGokS0WQy7TCKlkLSx/kQNPjE4ZqmerD5+DOZw4OPmGVGidpsKiQiqRgBBBIBAnHk1gPHLjxaPeOBwchgXbuwe71K08+G9SB1mTFJygnJ6fJp6Eshgg06Vhhxyq3MGigwUoyA4gWZZMgfXc+d2ighQs7QAONT8McDNpsSawHrhx+sBNUpoEAsDrY+PDu3cuDOtAAyg2SdfcGAnnNJF5EoJlrRkvZaokgB5p4OV8ppF6s4osRggeakrFgC6j7buBarCBhpwYCMqkkNm1vbFxzfcX06ZuObhU9cXjP8vV7jr6cMpgDzTSCr8dGBghyFaJ5EIFWqjkPSN6HBBq0A1CkIDhZC9hRbXPSDOOGB5qZW5CiLbdYlqyFioWwGzAIMvOStboudZFQDyy9ffDDyhMr9uxec3Hr9OU7dq+5/up452AONICUBDWkwIxCK2EDS3igtQhGtOSUWEgCA82RLzYZrETITdMptjpaUVhwXggi0KSlZFUd57bFaqbYFAtLJPe0hSuULDuScYSEQNu3+cnbJ5senl2+Zs+mlQcfTtiy9d7PQd33LDOJ1gIz4sIlWzTggWZTKmylEe5lAgy0whoTVXXIYMgs2SBNTckYdRFuRKAZhugZCwo7KUQri6mpKzrJCTuV+C+7OeMmKSntxPSLb/ec/XDy4NknW5ZfBDZtT34e1IFm4DAT1h13AMhP2sHU1gHSXvDPTio21CqSTgX2jcJUoF32OGWHwOJsZVNQL8tBH6w93po7XSo7sLjIT5xbTMbAbJZKk5pYwbv6dSSMfu6fsGrl0U2bTm67fnbNmuVHga20u5cHdaDh9kqckACUKe6LEBUCimIAcZiogLiQL5glRlI77enLbae2bTt9+t6mi9ePbgUG2q/aoRloANETdO5/dvzFydOnT297tVUUGGb3voiNBhrhZN05Zeflp8+O3713Cgi2HV87+EduBwkQq52y//LTL3fufF4rMBpoJOXU2rVrO4fExMpQB4DmzRjFcRiMwgeQA4NZYrDcGbaILRwJ4mYdq4gMUorYhnhALmbkaojLrdQa7QkMKQLb2K0P4EvkJrnEpgoD0+5AvurB/1cfvPJ9gzSvXSHUoTYKkgQVC8sGn4nsrzufNFktAU0AaN0vMzNrB0AOPuGky2RrA+fy+LO3j8Yl98MJvFQrcIwc8OD5pXVN1HBdQ6iZLPGiGOSbRU+boIH8vSBC5jJgzO9asubEivwOkhGy7tdVbmSssfwoIOGSr7mpfY6I2K7ghFHL1lICEBaI6RqLkDGFXMMDWRhOOEsdn0HcxWK35cIlkt3jsB4IooehI5enl/ZS/uXq1BcdI3McR2cs9W6I40pfR+0LpedTRvpYib52r2V6uI5KTTw0R90loxiFcFTE+lkJfyRzRjRMQzSW+d7k8GoDfz/HvVCK/ul7S/SZLjXr3boxb9N+utyy2oJuqW5EzPvGbaYbHpVhjXGeXdqH34a0ot7BTZGvSBUgvXEVPv9uB0Ro0FG3WU8xzzAJyesPm8m04NQrzsh6hVQSDtAi6LjwvWZiAsHa82JCTV4XsufLDcNJgYoc1zUiITODwO49xPSYlbjiNat+Gk4ylwlB5HumqArjwcD0f0v7B+yXXTonq4IXAAAAAElFTkSuQmCC"/>
<image id="image1_24732_2246" width="48" height="48" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAA9lBMVEUAAAD///////////////////////////////////////////////////////////8BAQH9/f0UFBQGBgawsLD7+/vf39+RkZEwMDAYGBgJCQlsbGwtLS0kJCQPDw/29vaMjIx+fn5eXl5AQEAhISEMDAzu7u7j4+Ofn59jY2NYWFhJSUk0NDQqKiofHx/r6+vb29u9vb24uLitra2FhYV4eHhwcHBOTk5FRUU7OzsbGxsRERGBgYF5eXlnZ2fy8vLR0dHCwsKqqqqlpaWTk5OOjo6IiIh0dHTo6OjW1tbLy8vIyMizs7Ojo6OWlpZTU1NDQ0N2dnYEsD/KAAAAD3RSTlMAgO8gYN8Qz7+Qn1CvX7Cz4vbnAAAC20lEQVRIx41V53riMBAkgAFDch4hbNzovfde0nu993+Zk00IUkzOmR98YM/szFrLOuBBJCyfSkFFUaSYHA4FfBA5iSkCooLGSw8qXsR/lIh0cvh6cpQeinLkYUd/4RTSEZMzvvxDGTB63IVgwhNH4XEPhglnIcTy8vsUhQ3MC+VHRUK4RRbIqKqOEhEun3H9ik+zDtTdz5GgCB46lwS+mgFuiOOj58RDPN4AuQVDmihPFHfkWBshRUDNgF12FMTC6kERQkVcQVw02AKb2gdTqD0DRUW0OGIwAHCl5LaOIg8MvBZhseMZgG6dkAJTnHfR8nYRFQJdw0XrUs1TpFPfH23seyJW04nUAprawEC6hWVVIETERCyIgxvtsgTjtl/GtIKCYBEOyPxPrYIKpQD0+8YcmYKNJLKPPEMOCH/JBgy7baL1ul2YyDJdB0CRt/gjjMUjkF8VKahu2zbFHk8cRQrwHdjoDPFmAtn1eLxe4QMu2ip3EpyAvAEXU1yaFCv2aHqG9RfFMgCa5qpygtoSRbVNc+aSZseKku9uMDm3wJCscoLgl8EUpqahTWgDzWRN687NyUsHRiEDbA59H5rWTEzIKxqEWvp7SW9XKpYFTKukn0FFOzR9ut9CTXSrpIk1ocX77DWAUgelZ6LU1mXgnXzNhvwpSAFs5JYYEdoaoEEBal+rF3cLCgfDT4W8H41cGTNVeQb6hOq5LIDVnTZugyFjjdip5/ajEdkZ1N0ieSQJoZkJgHmhRIHsLN0nhAyB251FKLCbjVoZDSZrYk40N0OywsjjgVvXvbHsuXtgvwLSgJVKjQwsWF0XnelV6oAtkCduIrbjnZPIwxc3u0SfFtVi0gczJ1Kc0XcWxBfq3sC18Ie4j6O/40v8MvaDuIyd4/ZHwvNC8W1AVPjzRST+20cwfOS1K/3Mj3L9/iJWkI8jmsSP0iMiS5SEoyI95qV7NXJMcipLp3LYy/4HwhGNw7uiTMQAAAAASUVORK5CYII="/>
</defs>
</svg>
`,$w=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_981" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_981)">
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="43.6364">Any user may have a different perspective on what data they </tspan><tspan x="8" y="55.6364">either have, choose to share, or accept.&#10;</tspan><tspan x="8" y="71.6364">For example, one user&#x2019;s edits to a document might be on </tspan><tspan x="8" y="83.6364">their laptop on an airplane; when the plane lands and the </tspan><tspan x="8" y="95.6364">computer reconnects, those changes are distributed to </tspan><tspan x="8" y="107.636">other users.&#10;</tspan><tspan x="8" y="123.636">Other users might choose to accept all, some, or none of </tspan><tspan x="8" y="135.636">those changes to their version of the document.</tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px" text-decoration="underline"><tspan x="8" y="15.6364">In a decentralized system, we can have a kaleidoscopic </tspan><tspan x="8" y="27.6364">complexity to our data.&#10;</tspan></text>
</g>
</svg>
`,$x=(0,H.qy)`<svg width="170" height="68" viewBox="0 0 170 68" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="170" height="68" rx="2" fill="white"/>
<mask id="mask0_16460_1138" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="170" height="68">
<rect width="170" height="68" rx="2" fill="white"/>
</mask>
<g mask="url(#mask0_16460_1138)">
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="38.0488" y="16.6364">yesterday&#x2019;s</tspan><tspan x="115.334" y="16.6364">.&#10;</tspan></text>
<text fill="#121212" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="34.6364">Wed 3 Aug, 2022</tspan></text>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0px"><tspan x="8" y="16.6364">Insert </tspan><tspan x="91.2812" y="16.6364"> date</tspan></text>
</g>
</svg>
`,$_={Text:{figure:$g,caption:"Text"},"Heading 1":{figure:B3,caption:"Heading #1"},"Heading 2":{figure:B4,caption:"Heading #2"},"Heading 3":{figure:B6,caption:"Heading #3"},"Heading 4":{figure:B8,caption:"Heading #4"},"Heading 5":{figure:B9,caption:"Heading #5"},"Heading 6":{figure:$e,caption:"Heading #6"},"Code Block":{figure:BQ,caption:"Code Block"},Quote:{figure:$u,caption:"Quote"},Divider:{figure:B0,caption:"Divider"},"Bulleted List":{figure:BX,caption:"Bulleted List"},"Numbered List":{figure:$d,caption:"Numbered List"},"To-do List":{figure:$m,caption:"To-do List"},Bold:{figure:BK,caption:"Bold Text"},Italic:{figure:$t,caption:"Italic"},Underline:{figure:$w,caption:"Underline"},Strikethrough:{figure:$p,caption:"Strikethrough"},"New Doc":{figure:$l,caption:"New Doc"},"Linked Doc":{figure:$r,caption:"Link Doc"},Link:{figure:$o,caption:"Link"},Attachment:{figure:BY,caption:"Attachment"},Github:{figure:B7,caption:"GitHub Repo"},YouTube:{figure:(0,H.qy)`<svg width="170" height="106" viewBox="0 0 170 106" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g clip-path="url(#clip0_1_2)">
<path d="M168 0H2C0.89543 0 0 0.89543 0 2V104C0 105.105 0.89543 106 2 106H168C169.105 106 170 105.105 170 104V2C170 0.89543 169.105 0 168 0Z" fill="white"/>
<path d="M168 0H2C0.89543 0 0 0.89543 0 2V104C0 105.105 0.89543 106 2 106H168C169.105 106 170 105.105 170 104V2C170 0.89543 169.105 0 168 0Z" fill="white"/>
<text fill="#8E8D91" xml:space="preserve" style="white-space: pre" font-family="Inter" font-size="10" letter-spacing="0em"><tspan x="10" y="18.2728">Embed a YouTube video.</tspan></text>
<path d="M172.561 28H10C8.89543 28 8 28.8954 8 30V120C8 121.105 8.89543 122 10 122H172.561C173.666 122 174.561 121.105 174.561 120V30C174.561 28.8954 173.666 28 172.561 28Z" fill="url(#pattern0_1_2)"/>
<path d="M172.561 28H10C8.89543 28 8 28.8954 8 30V120C8 121.105 8.89543 122 10 122H172.561C173.666 122 174.561 121.105 174.561 120V30C174.561 28.8954 173.666 28 172.561 28Z" fill="black" fill-opacity="0.2"/>
<path d="M104.691 68.8597C104.538 68.2666 104.24 67.7259 103.828 67.2914C103.415 66.8569 102.901 66.5438 102.337 66.3833C100.273 65.7911 91.9673 65.7911 91.9673 65.7911C91.9673 65.7911 83.6609 65.8091 81.5972 66.4012C81.0334 66.5618 80.5195 66.8749 80.1066 67.3094C79.6936 67.7439 79.3961 68.2846 79.2436 68.8777C78.6193 72.7357 78.3772 78.6144 79.2607 82.3181C79.4133 82.9112 79.7108 83.4519 80.1237 83.8863C80.5367 84.3208 81.0506 84.6339 81.6143 84.7944C83.6781 85.3866 91.9842 85.3866 91.9842 85.3866C91.9842 85.3866 100.29 85.3866 102.354 84.7944C102.918 84.6339 103.432 84.3208 103.845 83.8864C104.257 83.4519 104.555 82.9112 104.708 82.3181C105.366 78.4546 105.569 72.5795 104.691 68.8597Z" fill="#FF0000"/>
<path d="M89.1812 79.7879L96.1796 75.5889L89.1812 71.3899V79.7879Z" fill="white"/>
</g>
<defs>
<pattern id="pattern0_1_2" patternContentUnits="objectBoundingBox" width="1" height="1">
<use xlink:href="#image0_1_2" transform="matrix(0.0061891 0 0 0.0128205 -0.00131663 0)"/>
</pattern>
<clipPath id="clip0_1_2">
<rect width="170" height="106" fill="white"/>
</clipPath>
<image id="image0_1_2" width="162" height="78" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKIAAABOCAMAAACUqj3QAAADAFBMVEUdICISFRkRFxwVGR0NEBQPExgLDBEbHyUfIicYGx8YHSMTGyE0OT0kJimmpTscJCoTERWiozGgpqcqMjkjKC5xjpYpLDG1saunpUg2NDROUVRGRkScmJU9R0srLCkhHyBFSlBjaWpLTkqZnp4vMTFFJyJrcG9oi5ZAaSt6kJRXVlMgKzU8QURxdXZfgY9iY2GQlZVZT0qkWy8pIiSNmJ11bmEMO1pAT1g2Wi54fHxKYGxCPjw1JCOhNCKprKujoJuCk5p9goNoaDo2ZSyuMyKOkotRWV5Mci85LCxWJB2mpqKVh3uufXYuO0VXYWg3dF9tZF4QOzZ/jC1WMCybnSY+YTaUNSAyRlGrpCgzOSOIMyOJiISLfXY7XHE6VGRaXV0XPFVyLSIeFhd4cWwZSmU0TF0/NTdthi27uLCtpJGwhH1hW1YrUy5oNi4nMR8qGhiuqaNOZ3UbLz9pQz5LVCN9MCOFi45yg4tmaVF/eXN/XlgmNkKLjTlNSDg+Xy0VHymukYcnV3YhOUxiKyMaIxy5pZtfcHlRVDyzPSZTc4RFWGKmbV8VQl8zQEh6QTUVJjKXQiCnmI5ZaXCMQi5WWiUdKiNpdnupdmwsUmoHO2FxS0ZUREQrXS5OcniqpVeCTkhXYUWUSz4KMDlFLS6ymI0PS2yrpWgmS2EgSDFndipjVUxJZjgxPjNMNTKlazAuRCVmfYackIOen3eFbmclQ1eWnj5gaSc/RySjRydHIBpEa3+pYlV0d1BZc0F1eyw3HBifkGkzSz5bPDaNkm9hfW4WRTaXZjAhOC5HTS09OihSe4+aeW5FdFtmfFl9ej4eUjR7kYM1Ynx+fV5HY1SemFOSkkmhh1B6VDOuo3uCiHZtg3WoWklFbEStTTyPl3yFbiyReiuRVCM3aomanoeJg2aboF2TX09ifDl/YzNmUS+ljH2hf3SFh1KgcEU5W0WnezAQMkuniymqlyiwUSiRlF1wVlWQe1GkkDxPQCGRkyNXalV8imNUYS6VbGGur0kyYlh8V54eAAAAAXRSTlNZUlExNgAAKfRJREFUaN5dmgdcU1kWxk2eTDphTAwkIZWQgZAQICCEIkVBirAII0jvbZAuvQkoCApIFUEFREEQVJoooiJWdLD3OmMb+7i7llnL7J6X4LbPFxOd35g/37nn3HPue3Pm0JadXHa6q6zMV0Gl2t444Dd1/qpH+/Wr/KrPpp5XJDaxUouJCvYHU0tv7kE3N56GBgaDQQgEBIvFkkhwaWC01MI2NWnMTXE7c+bI0L1D9pMFPqsIRAqiMfe/RIruIX0Hmgsv9A2Lbdr7ZckSg5W7Llw4uf3klgtvL3An/2b2txW/n1qx4u+/r/ib2V/hmsPpP43HUZctW3Y61lfBkJCN+q6+nnz/9MOH1tjYZ3tOnTLb6NuVMcWsGJlxJWA1sBgtDVSY2a/WwGqgv2vMvrB0m2qp09CmBwVHxgh4nAboGyMKRopuSYcPaki1MMiavauAcsvJ7Re2nFx24bS3zh5gQzHNNFfs2QPXHAqDXl3NIVMI1NPLFLGT18gfPjw12/Yhry22Lay83NKI7fs+oyLv6TD/uAjBYJqKqVQul+sK6uoa8E1SKyIz0A9kZ2fXYJpf3RFX4DNG4HIJ2H8jqonAxehw7Nzv1H+DvqshSWsCipbsttpyYdnJCydFT/4KfMCmeeDjir+aaX40m4OjUnF4PN2zmkxmuLatf+307Pc9v5u10uTOQbq6unrNlnl9fde/dn/ouRiAIIhbmZtKBw8e1EdfqGxt9f+Y1fM/2EalOeenEW7/WJGB1d5kHAHzH8y5xdHRPUbfEGffQLBciE0B4KXVhQvLmiw0zX5focI0W7HC7KOm2RwiDoGlhQPRaXQGp93s2dSD31/7esvZHEeaVMISNL83tTmvmeNyy4ZAwroxcjo6Dh/+rRfk9KURtL9x1aozq86MrQKNjY1VNx1jEpINllglr1mTvLfIoGgvl4dgZymLN0RHl2oA3Cy2ylr4gEW4NjymaOwLUO4SXf0rygbRPvBXzd/3rPgdEEkkBITFEog4HLWY1uXL43GJUUFByizrMKG3S7NkgCm52hZqXIiQsGXTjeq1iGYLlSblW7IkkrDq6tLS9OqKTzk5xzyTvxw7vGTJ3btFe632NiGE5DEVJo5IAjuLN2yI3kBSG6g1d1bov6RR6JFIsJnmBgBl8sQKs7/CSgTMPWjCfJxDwBFVhBhIVSz4SU37JDpGZsiloihdmRgvV1qT8USb61Ivjwr4Wcq6GjFEfEBFh1zC8r4fYqJ31uS28yNxVai1dci++Pj4rT1N+0/fvXv3DYUR27/SYHk/QUsLSd5rVWS19zQdh7q4Yfu3GH9LOBKRgFjUBVvwuAoFkTfdz/we+IBtxV8PoIuyGxBRF7FokqKQxPR97P5/NocFeUtlWY7i4MEhcVRQiOlTT/nWDoSEuHVVsMIkNmQ6LB+RteHChYalTJtYsqelV33aJb34+LOAyL17jG5z49czryNcd72haKm1Bjj3qhDDsWh4QVoY8AVEImKYg4Nsi2AKgUcgKGIVr8BGYAMb0UV5cw6RSEQRMbMFD2eZ3V/9z62f7HfYuzs6pK7dcfNlKyu7NaM07RaKeHAgh02aFTttvoM7S5p7y9RbXBoacumScXy88c6mXhH3j1MHDiQ5Xb/TTjmG0/qPMIAIqlUvQXAFvhULiFiM92Aw26LOg4vwAAdTqAk2ogmjcvP6HJxKwIiBiyDyd2xm+udUXdFdqy3j893dTVKd86mOLp7sia0qRN8cNhFHoeBIOBxnfJ7hz2RnJV8apXQsHT9bOe4eb1zCZk5tPHDAbqPtQGdnzWlA/C8Vb94AkOEaqIvAhxZTyGaCFtcj0bs9z7tOQsEQgYV3DWxUJ8z1Fb/vAUQi/DXggbC4K1569f1GHKG/o3aqgyBLe6G9vYDoKfCqjhl/3EEkIkd9ndhEfFeblE6mWY67P8rhOMv5Yr7skX9I5fhD7XjnmCngs/OziyBX6Ud0HaP9v4toqEmqOIMlaOhgmWmZ5gab3mtPlHjUxWJIOKKWd/drs9m6o/k3tOgQARKL2oggZL6JfVjHsVI5me+eKjZ9r2ti4lzLiUlL51jkGncQiKQU3xwyrAwiMVTGpl26+EgsD5LW810s9Zp7Lj18uDB+YZprIBD6+bmGbLWm4Y9REZRNQ2suXHM1ALEnOrqFNpsnWCzsibCF8iw8LIRPW00H1671YGIQIia2bse9v4KTYONHTXARJSSgiBoIhSOzFzCdWKH+HKqXnrmjTO+sOas4faQ0hu9Z0iwhEJGUMicpEf4PWlWOBTWmPOiWhQ2d4yLwv9Xc8hBdi3rWbW5+Bw74lflv3bqVgyPAmlizpqkpuQl0mlAcDbXb0tQXAxEGQLSQgIkark/XbxqO8m6/t27dvTwbBDIiOGGTGYR4BSSNzkd0LRIIBJQQS+F4pSpLeybE/uFe+TjLLHuHH5pzIVs9i0st83vOThDBxcz9QiAkeYZODPZ/kiQ+TnjFEgr4zc4xJQ8fOsTHZ8W0HczcmNTItd4KuuzUe+1yEw6HJ5JQEWp3RsdkRBy0vfLm2Ok1s0aSCISMzoaGvODcvJpD69f/lJCIaHxnmrBa1UGs+GimowmIBNhe4IXFc6ohi2NGJpodresta4v9Pf1H0oJsONXpxfkx6TEPPwcQSbyI/VIcyN/aQrui7Mbk2vhX8ii+TGC54dKlswvj47OrYw+62WXa0lDCejxWgznBg9WFikREtrdkRBxVHPsL6OefVZwY2A4JTBub9zU1Ne25w32xQjKBh5vLG7y5Z4/m7691tpn9vm0ODwonUYXY72+xbZuzzOtyeX15qFc13royZLwy25SW/rY2fcRIeu6+EwEQG8ngIt3aJSr+cURmXnz8K7Gc5VX1tqTk0tkfHPSs85kHUwL9AvU9t24tlxIUPGQ/j0ScRSS4lh2lvPnL/+jnK8dOEzEYhUfdcJ+pjYiERXe5775L3PY3M52PZh+3XT+UMAdMVCMiHI7FhMzRRZqT1hM+Un8Fb12yoT7bQU4TvK01GqnN5z/+gCNEZvaxwUROmsvl+ISkzFbt+MtK3ftBJuUtLT0llx6OWxoZ6Ue6bQwMTKJUlbMRKMW9yUixmtHW7Sj3zc//Rfcz8PVTMCQi17emps+UiaiaC8ja776jTOrcea25Z33Cjjs/zQET0UBjsRRPr0ShY32V5WWBV2m49RV8c2WJyTzzKFxp6fZi/1pR1cNbXEJkxHMhA0+tquQX5iS66k8lxF+WaWvLXEY2RLeURPdUcgDxaAramkUoYqyhUHB9plWIPH23o/Q3QPUN7+6b/iYE0lwL/S+RsTaEb30uQkDrZmLC0nvdL+6sXrvpECCC0Caa5imryLG2DhWKGHyvnjQOdd94iYnePAGR7/+WxKmlvb98sRBFlIhwZOtKTwKe6Z3IPR7/OEhbO4pGi97ZcqlFT4+Gq9V3Axv9Nm4MtPUMGSH3jY0hOJyt20He6X/+l3mnm9BeGEPAu7odjJyrRdACODUh5DkG3iGp72xKWL/ew7sLio4qWTBUTxd5x6eYmBYvWUzpyAZrslF2SYmzQzaN2FX9trawuCv0UvMEjwAu0oicS2eNeArvHasTLeIvO2prp4rTo3duiM7WzqITjY6WpRxFEX/9tdAolLU6URHpVnaQe+wbHiQJEavq0Kl0Lhiope4a/9OFYwERZJPw01Nvm8g1yWMoIoLGmsFRdrxihe5L85LX95REu1DI2SEtjmI6TprvmzRQQWV/zbt0m4EikomscUDEC3fs6JNoX5bpuWunhuzcGR2aqq0kkowiy1IiI/xQxoIv+MTVq9t4tseuAJ6aDqPu5TBEumhAX80HhP+RBoLhqf7MS2TyxvYf8fGJm3URi/eUhX22UDo7hgbJ60dCejhE2pW7HTO32M66QXxFRh+j1vr660E2qey9kIyzfFhJpyhcE/sUNtoWShN77Xj7tAULrqRqNyOkdAIsrYNAeODXX66Jo15YCI9d+fmfb2BCwmqo+CAdcHRX37KDkU0rz8D49R1c3zQXAj1XjTg3YD/g9S6xWjQH+MBFopFAftmJERP+1kum2xwe0mNZcXji1auCUQtlqpyeXjHgpvD3f3VxglTWKhTiXcbHcRRf32aOwjXBQmxvn5rKbhnZcEJbux5DSse6HQUbVYhDglzWG+Gx07Xb377lsD0pBAy0wkRGbFKSWwrlWE1O3BkEKjcRq2ZSu4idS1DZqrW/12DXIoNFF7bMIhp5ieVySmlI9ohSyfCKCQ2p8jcaKc+qexREllJL/W+URehfeSX0siguey6U4FnjIQRKDSDaKgYt5GigTUM37NyqvbBKg1RK0j+YooXaCIisME66J3tkQ/iIf0XHglIigceInarxVSiOdTTEPWvwCYDNBUrhNx/ngsWAqP7TXoOV21caLDq5C/pFAiCSvVgCPkcWGlIfFuSsjGlpqbJUdUAgqqilIqlYgZd//dBhSSt7zhbipWkhyECDr0yqSHllITBxT00w7Vmwc2vqvGpALP7jYEpkZODGX08VvCrdvGBBONkih8JjTzuNbOBQ2tqTuNyBuw8ajjQ889n4jItBpRp0URfhHZpr5Bviru1bDBYtO4m6CHluKWaJhWSv8pBQL05Y/YbokCufy71YfD5LHiX5Uv0gU1+/q7pyPOowJ+lGhYRCtrYWJQX6Cvg2sU45/FR391SLkgXRW1PdyRqk9OIUt5TIuQc37jl1beJt+ILNm/MTvZkUmwCnRDabGcAYWBLX8Clu44Nfa+IeZPIwZ9ZAR6EeWVVdJFhKAlNViBdQF5ctUwUaoaZlscSc2rfWzZYsF7FLT6X1zP1scz1zc/NU+4qcHCcFHk+58fTrS4sJoZOThEKzTLtv4TsgqBqpjZ1yZQfp2QcBYoi7CR1cpEa6paRoRQaanbqWGB4OjG+Z3jmm3OmKPgqXufznBqe4Z62/Pdj4IPBwXCOitX+/FlDNLkUAxEKyqxGTDbaoAr1MvbvQKrOgMU0vzwp1EYQJrEcqQ2eyss3d9XRTtXPrK4/f0LfF2xbOzFy+xWInsll4Bick5tZQnzCtJMTXryFzIMhd99KC6FB3RzyKiAHESC23U79c4wPhgs0L0nEUZLrRtI/NFB2Ou3Ej7sjGw0dQGw+fQbScnJJV/fd36AWIEGeiugo1LVm0bKUBRFuFSLRMM+GIWUabd5YKOHw+x2Wf/4m05mw991Rt3fIrVz7XuNrqdz39EJVWHkaW2EjxdH5lToJ2gvfWS/VTh7Tr2tkm9lsX7Oxxd0RQROzBo0dTtI7+UvCuegFItRyFTEqbaZuNzUzckYbf4n5t/e3XwAeBTv1I5PmKXgwUo9mpEEUkIAALiGsgyLsMINpoM0bCp6WZ8GUuQllVi7W4mqU0LOcos6qqquqV5VW/FcycuOHbVZbheGLm1QcLJhtchHzp6167Niq7RCa8mUqWsLNS9y2I7tETYDRI+bXI0YPgYsovVz1KF4CLoHA2vtFJweOOnboRF9fwPO4B2OgHNnIB8fFVGw1oydUjoQoRo446pghSxcBg5TLV7FK9tdyBJbOm8S17ZNUyAWdfWseQubngyt3DPqOj71w8Tcn8KFlYYvBjsdLGRhpGp7CtpzYlJCYmCJTChJuvPExRxH+OmLBg6ecbkY662aZo2X6cDA4HRIj1CIeC3V/gc37C55eNv8U9Axs3go0NR57DJFWgczWKp0aEsg4dLreNiwFHAdMK1uEigy0qREpaSJaDi7Ke7BI6EsQnSy2VMTP3H+k5mD9KSEgwzP5USKfRWCy5jG1x9YOpDVNCxbOsWQ0eTObXpCCWdrz247CFemkL/tljIlUhElPc9G21/rj+wiJ8s8pDqQiLha3iQUOczwGnuCN+kDBgY+BEBxGjGNW8GuQyi4gBQrr30q9kRJUwVgaACPkCiDhypb+5g5eynMwv9arKco5qH7acyD5uYv7DvHnz9AzLX3Vm1Ifm06jUMLHEWs5m8HF4duhWdkRmZlmbs/DxcYswPW1ny3/+3HObBojpRsWRbvopWs8nX5h6hoeXloZz2rgI0uuDWujzK7oS0YRximu4UUHSctXRHMrKEmloaanPJUSJ75cOe5MJQKyqOlAYL8zB43Ch1pbzTFxkYrLMq1nJD8ttjxJ2f3503NzBfN488+yZp3nllSEhMxM2ODI77TZbZIPHSb3mG2+9ImKInaUcQZa7u3ZQrGXJzitUFSJUHUiXZ4DIJjMoeBGcTuKxgAgW+vxi5xQH5QaN9rNALqIVC4gmJmIE5lWYWgmM4dXDpsNLh7koYjJsLxcWASKOSE3zd5zn6HI7h5xuWW8pzs1rEHQ8Grr45JH5/IXzzMtffTXZNz5e8tv5zgzqMeFxiRDOeISWNIGhOZkuc5bK9PTmuad61Fjv3BlKUruo4Xs0MvLB5LmMiJqa1tYMG+FtIbYREME+n42ohX0qG59TEK1CHZ1BE3MTNiDCRCg699NPP3nnbbIQgo2qwrhLhYijhvrb6wGiQGokC/L3V37Nq5p5l3D/0RPdH6B6n/jgvK8yLaQl7vyBTO9bxyU5kjA6kciR0RgCMo4fRBOb6OmBi4FeG3aGYwGxthiLDByMTCl4kZhfS6fiFUyX27flgIguxsM+pzZCpGugPDbMHMZhVIjmJuZZFNgGScxzSwHxhWni8E+myFxV1VmGIuLx1NAw+yxH1m1BmItJvTJX3J7o//n+k4T7VyezHeZlfw7KMtwXUlLvc35dpmPziQ6hRMLA44rpHCMYYugCmkBvoba29mCgfMPOt6q9FiNitx2MtP34QgoVB1J6QwzrhJiwyifO58iBnDiINCRMR1yv37MKODWr0NFxNgcJEAzBBjxE5dG2aWkiRYV4cvsWFSK9ylFPr5x1wjs3yFpmWZXbmdix74fjQwlPrimN9W7f0jUxzx4fP+HzbF1g7qOhy0wJWwSIOBpNnFbuyaDJFkJOx+sGyqN3psOpntP5VwUFjb6Rf1z3yIcTHCC0ll5RIf7mA4nym8+BGqg5qI2d/YCYo7NNhWgiIbBfgoeodgQPDwcn8uZiFqG79KKVgMiwLtfTk8ln3uuKrWO8BN6dLj+fddB7ZP9k9KuhyeeghfHuoSH7PgNiZm59zrUJCZsGzlM5ZJalcaVRumM8CBC9o3d6TsCR7VhAcjJzIPL55PBbtORsSLt9+8SJMESF+Kxmt88Dv09xzwI//dZRSMBiInMnBx0dZXKWlEw+txQQ1YzebZuGKXMRcBAW4xZAFIUKmh2VtzragqViS3/+cJ5ltoPDD8bmQ6MfBo8fdzZJGHrU0jLj83RxkuD+o0cwxZLxFCpVShZaGhsb1VZpqxETWzZ4mkZElGVmZkbYDkTeeOEdvnnz5ugTKomwAfv3JvMIkZH6f9gqFDzYxHkK14GpwooKsqV1VdrWrWleKkQ15aD3pjwmgbBy5cqTu7ZsmUPB94dWlcs4t4SeGcJQL4FLnkBgAuVmobn5k4K8Vx66C++Pjg6FHj7SaWcbNvPueG4Yi0yh06meNBt/Y2NacW3WQoC0D+wr2UCumNbXdyvLDDxamPJgNQv6sNATt2/DxcJiG51GFrylHCko+Ai6evXj95qamjpwbROOnz1rXOnVHBwMiEtBP63+aXVuMJQNJHkNBgtHp+Cip79jdppAWWraGqyb5SIc9rJ3h5LtME/vXUHGjX32evMvjo4eHyF3+ikktz87KyV8qHZ0KpnG8DxrTCORLOct1AbE95fCRc/hdH7/qgDblGnbDy+gh7CWfToBYZYQsKTGNzt3bhD94/vvgU1HR0cTPsDHbTe72eNA6KLMzQ1+CXzqYC89Z0PEzMUkr+rdv2oseQ4FEE1002JivDv127hklmleUOo8aFL1DOc9Kcho3+du/sP846OjVZ6dmXjTE59nZsKkZAadDueL9PyzlUYkUm22O4ypDRkh/kIYio/CWNnYyJ2+7mHZU3/rtpDBEOGhMCOr7u7cGR7wI3ChgN8Qu7ddlW41LufnengEozaqITct7cOhR49z9xoYLOntnYOn+PvrmjjG1Gc0xPZN0+oliXWp2vCd9oYOTwpMW43dzR0cTN79OGF5z5ciuT10/5ZcGkahi+hSCDe5Fs67iv1RxJo/Go/4HDmjDysxBcN+PHlzdRRk8m2lLErSj8WqEd9Og4UABpDbUDfBxW3XOGf3uUR5eAwOeoCNKm1aOozDoIiYIoNl0NTOoVAsY5xN6q37OttdTSvoLlHeuqnx8dpr7bMujvrYJBrrGTroCgt9CrwP2DJMm7f+fEJCljPDgsRiKVnEgP0NzidlgJjhG6mFST7iZBvhFum9uvvPP7uzsqv4QmZhbPKbby6mnwEoHRAsQR24NAHxVbWxo7zOA6S2cdOmpUtfioAQENdAP7sLLTqUK9a6WS2C1kNPY/t6FdWmFs5ylrP22rXO10adWF7G5g66QXLRqtFNETxmhvj48VtysnOqNoglZHKZNkwuV99Xd6F2q19gphvvyC9HpiMTd+zYtu3Pmzt0s+uFIlfR3rsQNWwjIG7vszDtmHjc3d0NeCovu7dd5mS98E6oG0RdDH65CbT0pQ2MXOCh1t5Fy7ZbGewCxE/1utbWbZ33OmMtPkwzXYfFZBw7Ye1a+yfnJXzZPgcHc2eWaELnqb5iKkl24i8zOeQgPT1ddz3L491DHrly3R0bayDSrYsX2wWm7G941siu27HjZsKOm3/+eb/SugqPL7rbhMVgGw/v3Fl7XtMJT4H1wfJ+PHTzJoB2d1skvlidO5gwWFcHjOdmCcFBVFYrt580KFo2B9//SZwVKs64d6eTa3qtV6LotODg2bru9o5V1aXpMkGWA+jRk9dlttyMLlnOk88dZOWwK54uoqF2PDmurX0nL1XbxDfT7ahbyv4HN6a9gfDm6her//zzUeWl8ZjTS5b0YyGjD2/YYHTkeyd03CSht8nIrCiPm90JwR6rV7+wqEuoq6vzgEhDmNswKmHROIOJVtvnwKykrJe13Vu/vtO179oRISPiTlSY+PNExxv/KheWPEhucXxocvJpkr6tTY2rWPLzJwu2LFchKYNjEd6ZjvNPum92Bqc6SjFrxr4MHA1o3P+HKRjYneuhRtwa0g/39QBx1eHwcJrP9xNE7KxIqJ/SxKjg1atXe0ShiIPBuS8hmRE0yOhrr2ow2LUMEP2VVVENhw7d63SVeBR0iPQXr7tzaP3rPXvaW1tbnx64c+jr01ZfW303UV+Gq0CQ8zlHKAtWOHb6BUbo8wh4HvdMIQ+pLbV+NzpamBmhH9DI3tH9501xsCrQ45Whe5csWU7AQrpsCIeyeJ6IQH6DoPWCW3sMEZXCEFq8HLYAwkGP3OBN7wmYbypaiU6Ay07PwdNjvJTvD91bB4je1wqchNwyu3UguyQ6BVcWCK21vj5eoe/GTWzNcBVfFp8QtMnzeFm5gKiAht2bSaCXtrS0lANiRaBdZvJ+8tCf4GLuze5uXePxynxA3N2EJa56g5ZFQMQCI1BigRJhm5hkycI4ZCabKQmGnM7NHU5yO2jLQwAQ4nzyZBHEGW0jYix1h++Biw2ufefeHalILKbadnUxaotxOIWvLdxsBpXpM73BVFfvd7eam03D3qc46k35BZZRcJ75+aFwhpyfXw7lPSfTLiK5V+SccNNeN0oPtK+8nAqIS04jKOLbP75HXURUPgImIrFfiI4eICULzpFCQy050MhNJbVnRsKPkGwFMyrEuQhF9A+aunPv3qanrhaD73zOyKl46GTwOHxXRJevLXpThkCksKKG22uSutomnR2VElZ7ilhbnjQlzafG9PiHtPQYpZdU3n8yernMLoI3FiBHv9erfl92uXVVFQlF7Fe5mN74veYEcdZEhEAKm7cQENWq080yPnv27Dgj9s6d9cNJRzHYJquTy7YsWrTstAEg+lfnxt47tO7eU6b3O0BM7IrQVygU+nDu3/U8wrdL37ZYP2l4OK+9PSPJ5oOzo6M3uzVFoK1b3bJzMw1FDKWWlgDi0NB9Xzu/zJTGZIaL0iRI5sJiWacxGCjiGyx21d1oo/M62yYIKKFqIf43of2OHTucs89W0SmU9kOH1meUwSMTK6HlVh2OASLNM2qg886dQ52uFnXvCr5IBuz8AgP97NYttut6vs6uc13g9vSphnYUMYP59H6WYxAzKSVMe6HYvyWGFhPjz6HHlIRYK+3dU3Wn4Nba0VWrAgKSCRTnefOML43UpqsQEY1Vu8PJVzV1LhMQ4ANCouC/CVcDYl0wm4qjMAYAMS9CEXAGqd1lsGjXMisrNWJ7u2otQn0p2G8aC1XYzm7x4nWLfZ+vW9y5riF9+3ZaZkM7LEZR3qRjllgUAYjz9MgUWzcFnW4UMuKJJxLxIIotrNoAaHd8kk132Dtc6il+W2uFIhIAsdQGdmVARICQiBP/B9DdfjWqKAa6umIZnXAPK8OX6bS/KXnRFliOKGJ/dVRN+7179zq7zh1/dG0/KxbggHHdusURN9atO7DObqr2dCwtqT0P8iXjtVLpSM48KtFeOM+RG2jnZ5tfUlIqFX7q2F1RUVEolUpr4OgO05icu0P3YQs1f7MKcS8Gs2p3eiH0DZeJqicxqOJ5s4Tus4QvWl2ZooCxsTOrnt1Zv6k1s0/+pTdgDezRqg2wn3PLIgOti7Eej44DomfGAfBxMdA9SPr1wIG/nzr17MYUHZ+U9/79wMCdYKWMGXiQr609z51lm+k6UlJS4slZs3LX8uVFqGZeLl68WH9M9GKHcQuVGbO5tgjqIhGLWXU4vQIaMUAkEKlAqDZxIQDWqSxkch/84x//+BFeBevhpmXNy+C9S+LGkCY4NUFdvBIUlfH0zvqvrl+vDl3rFeIp0zd+BUKzZ7kmAniayNSGQqTW0mk1ee8z6J2Twc2xfgdZ2trw0AGNGgqELdVkZKUVaLfV8uW7n9yxi0gJkOy4f4lh22apQtyFUSE6fa9ykYTzbAbChf8J8gtvEREJQNvdH38EyAfA2Hpn8PQig7hVhL1WgEgRfXIOyqtZd+ip6/DQ0KsvQgoeIH9dt+eyvba54b4cqZejMu1SC5UWmxf1npvxOlhsaufGRxHN0+goYk81Y83K3UVWRSutlhcdfjLZ0D7Nze2+RXOtUSPebYLT4bHfjFDExziESIZRYiHIHQQWeiQyiAgGu+rHb/oICTPc8LLfasvK3i9Na7aj49UnXb3cqTyoi3mvnMh0ORuHp0m5zyfczef/MH9+9vz5Do5p1jHUrtip3Lyu2DsezX12B/nwFdrztroYhVwKiWHg1qy0AgetAPNwt87Xc1dzHm+rsK2paXMBRIPlCBaDIp5HEfEE6OUWqhhTExLqdnhI6AgWvQ/TC3DqUOtcP7T+3NQAd+WWZVt6ewMQQGQI4TDiSuyAr6sNM4xFp4fRcWSxmH1f13C+g6Hhvn1wGOFP65/GD9DeR7VRWh979YGL5g6GDtl/EZDzY2LysYQ1AAiB7thtdfiJ5tUXTopYGy67sLCfbUQqWpKMYFBERgH0248pBLqUw4FDdCFLwpZHmTJxwA932pp8VA4C5o86OutfnisjYE8bnNy1aEkvjFdUhmeWe/NIvhHDRi6WUuktziwcw/Lhw3EQDI9pArHARf5bQS+Oazsgn8IzJwTCLhyxiU5p4vHWwC8ezMMQaEBcLr0LiN//+IciKcJNH+o/AiNc0XKCCrE3YFTtIm0+yPAiSClh4hCMagYgBPzj33Hedn39y1Z9DNK06AIUbwOYXWAE9Eq1d7b2z48S0OmeHEGIjILnO8rEAi8vL4FY6egocFFmZ89Q9P26FLFMKucyXzG9qvHBL7M69RxuIa/cjUZauLsIEL8vSIKqCoW/r7CAhxT1q56wGTtyZnRUU/MdHqHvMzQERkOgdMGjAwAwIjhYipAt6LX++vr155J4GoQ1WyDSi3atRBHJlu56zs6FEgGNYRTq1OGVxsLROXKZY5BSJvZy8fIic7Kys5tFlNhYAr8NR76VeBR+dN+/g9at+/u6v/tisWuK7qKIGRW7d1+FxGwMRBEHMgCRYIVT+RRwxEkTBIi4+vmAiEJeFDOxQAgi4PYDHghMXA+EeWUw7mBhMV5YhPaLEOnqoIsmt4Ty/HxaTEnBmcsh5QxGeSUI1mF29nwHExa53tCwn+pJUbSxGFQh7fkfthiM/gFABMwD8Dl59+7dUHAaCg/vvgZTaIE+IGaaZhT+mLxmF6KKZXLFeRUiBc7+wcHZWAuR2Wes8AXgnybKeB1FrLGF+1gYQFy2ZSUgUuDJQOVF+xkZmV5dGlMycwQY+dSQhw/PGmYJwsTOcKCsy6exXMg0Gl5iw2fjGHxKwHPfSIytn8pGPx4A7F6+e/ndnCTmYdRFHU2nzMV2+nlThd8H4JoAEcStKJhFJJB/ABvR18WLcrwGVvWQFaUA8GCDvH793Ln16y0gzoC4aws0O1aACDbSxM73ZyR4XHp4T8ila2fO14fSYx4CI0yZfBmcnugFAR/NE9dPMSLzbcj11Z7k6Sn9yMhMsHFdJiy1puWgu062BMHMVfSrCrrsArvyWgtHp6k4rMpFSuEoeg5xlYsQaPtQPvS6eNtG3TvimNe3aUKqAODLl5tetvoiGhoI9vQiOBkrOq1CPCbQvX+LgccXl4aHlHw+P10QwioHxGxdOUUUpGturmfPMqLlGyXvx4vIzLYwF1pQQh932tcWKQNGfSxMvEVFEGcnHkF469q1awXXRhsjMtvaawZGcyR4daDxhZqovdcAkVL+AzCq81pOgHyBOOs3rJ8EB1HCHQnevq5YcJGwZtEWOLyDPRp0LMz+fhi842rDQ0K26pwxzXE6c+mhSaq9PTwIOqira6KrpNHycV8CKGPFZKaLi9OmhDvnpXhXfd5RvwMpsOSbilAXawio6GR4tuhaV+bA+7zCa4OfWMAIVhEAERivihAC3usHldCMUXIhBlgc3cY18NC5c5tALzxMhVEUdLohIFvg5hCKSAUXXexvidCbprjiEeuS468Ke89QOPvW2pvowsSMyl6XnG8U8IV4Bp9uxOewJsxO/XJqKIeL59qmQI3VwAQYAGJHEpYSVl8JB13G+544RdhFxLY9DsqVknEoIgKIEGkUEcdXAf4AhA5ZbBUiY1+9aw3as65falEYvDYRh46AOMxKaLrhNIJKhY6RrxsGvRoOVJzfUu60P4DO4cDzkya68HJGEd1hCOjgcgNq05mWnsqcU2ZDr1+//nUVHq+AWQgQoXIvd+oi8M2NjdEG3/jJ6IBfpi/DRiiR5+YyER6Cq1Dlw2gAIEqN1S4aAqQ3AfzCkQ3nlzOZbRkZSWVtHt4ebAStUzjs3kWQL4AI6pcGkfEqQmoxiXrmC53TbKjrMm4CbGio69YmpPKphWfwY8XpDH54s7Pg1B7tIbNfTl2/zITIQg8QgFbuGwq8IyCqdFzTKSKjL9HbwiLKYtibQiDgnQAQDsRQRMgXldCccRSBi1RLWJgC5uO1a+ssBl/AsQrcFdTC4LDJqkep54z0tIRyaFV0HCoYvyk4LoNc7mC/ts6lMgsi7FxX9yJYLuczcprGKBBmz6qLzt6/7Cl4bTaZ8PrU+X6eKwEQIc67nxPIeiazhDrdgwN2MGDARmjLg06bJzoPgPBrGhCpad9cBEZTRAPBi+cDsLAQJjhfX1/TYVMMKiLsL+hh95yekRH//Px8Kl4tQIQBQuCwYy0who4be+VIONU0xpkvltXcaaN8MlnqeNFZPjRptuf668lTvzxiK1yxasT9A0jYQrWLFzV1uk0EgYtnZRcYYctTVW6dbRU4qlTighJCC4WGOgqHxYqyUWIZc8qVIWLG5nmoEQl42AJPwnjlf4zmme5Pp1JpRiDVb/lGfENAXJvAehtuJOHQ6HRhVMeRgGqjdDKDIVM6K2eGhswmU8FDs+NkfVsMGuii5U4KLMsdEK0tm68ConN20r8RF/uVJY/CSZ2Ozk1vSZgNk2OMpouhCjEIbhDaqBCz2a4RsYXMdjUiVB3RmiI4Ad2PrkUjTxr8Fr5zM6oFoLe07Lq1KGNYOlDRGVFgaU5vfz6NTPW67ews+FBw6tTrd6dOJZxrsC3jgovJu4t2VxCwDBNA9ERWwcHc1SDDRD81oF1nZ6dvIQQZjhS3WTDxFBtG5Q/zAdEBlQkbQSSQ3sAopw/4xmZ8/eYilgvDJI/ABER6Og0OMqmlwKdihKu23GStSnIjMpXsAR+iRNzeMQqdr3TWlR2fNLs+aXbq/KnJ188VSTgUEZbiNBwlhaEuFhYAzYes+c1ldqDOTF9YjryM63BUN5nDxHNFTDbRGkV0UCuRgBNDzIGxmcqYis37mvfYFDxExTW18Lh581+A1rDILNhlaAAAAABJRU5ErkJggg=="/>
</defs>
</svg>
`,caption:"YouTube Video"},Image:{figure:$h,caption:"Photo"},"X (Twitter)":{figure:$b,caption:"Tweet"},Figma:{figure:B5,caption:"Figma"},Linear:{figure:$s,caption:"Linear"},Today:{figure:$v,caption:"Today"},Tomorrow:{figure:$y,caption:"Tomorrow"},Yesterday:{figure:$x,caption:"Yesterday"},Now:{figure:$c,caption:"Now"},"Table View":{figure:$f,caption:"Table View"},"Kanban View":{figure:$i,caption:"Kanban View"},"Move Up":{figure:$n,caption:"Move Up"},"Move Down":{figure:$a,caption:"Move Down"},Copy:{figure:BJ,caption:"Copy / Duplicate"},Delete:{figure:B1,caption:"Delete"},"Group & Frame":{figure:B2,caption:"Edgeless"}};function $C(e){return"groupName"in e}function $k(e){return!$C(e)}function $S(e){return"action"in e}function $M(e){return"subMenu"in e}function $E(e){return($C(e)?e.groupName:e.name).split(" ").join("-").toLocaleLowerCase()}function $I(e,t,i,s){if(!t.text){console.error("Can't insert text! Text not found");return}let o=(0,sc.h9)(e,t);if(!o){console.error("Can't insert text! Inline editor not found");return}let r=o.getInlineRange(),a=r?r.index:t.text.length;t.text.insert(i,a,s),o.setInlineRange({index:a+i.length,length:0})}function $B(e){let t=e.getFullYear(),i=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getDate().toString().padStart(2,"0");return`${t}-${i}-${s}`}function $$(e){let t=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0");return`${t}-${i} ${s}:${o}`}function $T(e){return(0,st.a6)(e.doc,e,"affine:database")}function $O(e){return(0,st.a6)(e.doc,e,"affine:edgeless-text")}function $P(e){let t=e.doc.getParent(e);for(;t&&"affine:note"!==t.flavour;)t=(e=t).doc.getParent(t);if(!t)return;let i=t.children.indexOf(e);return e.doc.addBlock("affine:database",{},t,i+1)}function $A(e){e.text?.length||e.doc.deleteBlock(e)}function $H(e){let{name:t,description:i,icon:s,flavour:o,type:r}=e;return{name:t,description:i,icon:s,tooltip:$_[t],showWhen:({model:e})=>e.doc.schema.flavourSchemaMap.has(o),action:({rootComponent:e})=>{e.host.std.command.chain().updateBlockType({flavour:o,props:{type:r}}).inline((e,t)=>!!e.updatedBlocks&&t()).run()}}}let $L={triggerKeys:["/","、"],ignoreBlockTypes:["affine:code"],maxHeight:344,tooltipTimeout:800,items:[{groupName:"Basic"},...wW.filter(e=>e.type&&["h1","h2","h3","text"].includes(e.type)).map($H),{name:"Other Headings",icon:ap,subMenu:[{groupName:"Headings"},...wW.filter(e=>e.type&&["h4","h5","h6"].includes(e.type)).map($H)]},...wW.filter(e=>"affine:code"===e.flavour).map(e=>({...$H(e),showWhen:({model:t})=>t.doc.schema.flavourSchemaMap.has(e.flavour)&&!$T(t),action:({rootComponent:t})=>{let{flavour:i,type:s}=e;t.host.std.command.chain().updateBlockType({flavour:i,props:{type:s}}).inline((e,s)=>{let o=e.updatedBlocks;if(!o)return!1;if("affine:code"===i){if(1!==o.length)return console.error("Failed to reset selection! New model length isn't 1"),!1;let e=o[0];BW(t.host,e,e=>{let t=e.inlineEditor;t&&t.focusEnd()}).catch(console.error)}return s()}).run()}})),...wW.filter(e=>e.type&&["divider","quote"].includes(e.type)).map(e=>({...$H(e),showWhen:({model:t})=>t.doc.schema.flavourSchemaMap.has(e.flavour)&&!$T(t)&&!$O(t)})),{groupName:"List"},...wW.filter(e=>"affine:list"===e.flavour).map($H),{groupName:"Style"},...yA.filter(e=>!["Code","Link"].includes(e.name)).map(({name:e,icon:t,id:i})=>({name:e,icon:t,tooltip:$_[e],action:({rootComponent:e,model:t})=>{if(!t.text)return;let s=t.text.length;if(!s){let s=(0,st.h9)(e.host,t);if(!s)return;s.setMarks({[i]:!0}),fL(s);return}t.text.format(0,s,{[i]:!0})}})),{groupName:"Page"},{name:"New Doc",description:"Start a new document.",icon:ne,tooltip:$_["New Doc"],action:({rootComponent:e,model:t})=>{let i=(0,st.Ux)(e.doc.collection);$I(e.host,t," ",{reference:{type:"LinkedPage",pageId:i.id}})}},{name:"Linked Doc",description:"Link to another document.",icon:nL,tooltip:$_["Linked Doc"],alias:["dual link"],showWhen:({rootComponent:e})=>{let t=e.widgetComponents["affine-linked-doc-widget"];return!!t&&("showLinkedDocPopover"in t||(console.warn('You may not have correctly implemented the linkedDoc widget! "showLinkedDoc(model)" method not found on widget'),!1))},action:({model:e,rootComponent:t})=>{if($I(t.host,e,"@"),!e.doc.root)return;let i=t.widgetComponents["affine-linked-doc-widget"];i&&setTimeout(()=>{let s=(0,st.h9)(t.host,e);s&&i.showLinkedDocPopover(s,"@")})}},{groupName:"Content & Media"},{name:"Image",description:"Insert an image.",icon:eE,tooltip:$_.Image,showWhen:({model:e})=>e.doc.schema.flavourSchemaMap.has("affine:image")&&!$T(e),action:async({rootComponent:e,model:t})=>{if(!e.doc.getParent(t))return;let i=await (0,st.UE)();if(!i.length)return;let s=e.host.spec.getService("affine:image").maxFileSize;kB(e.host,i,s,t),$A(t)}},{name:"Link",description:"Add a bookmark for reference.",icon:aH,tooltip:$_.Link,showWhen:({model:e})=>e.doc.schema.flavourSchemaMap.has("affine:bookmark")&&!$T(e),action:async({rootComponent:e,model:t})=>{let i=e.doc.getParent(t);if(!i)return;let s=i.children.indexOf(t)+1;await BU(e.host,"Links","The added link will be displayed as a card view.",{mode:"page",parentModel:i,index:s}),$A(t)}},{name:"Attachment",description:"Attach a file to document.",icon:rx,tooltip:$_.Attachment,alias:["file"],showWhen:({model:e})=>e.doc.schema.flavourSchemaMap.has("affine:attachment")&&!$T(e),action:async({rootComponent:e,model:t})=>{let i=await (0,st.p6)();if(!i)return;let s=e.host.spec.getService("affine:attachment");if(!s)return;let o=s.maxFileSize;await _0(e.host,[i],o,t),$A(t)}},{name:"YouTube",description:"Embed a YouTube video.",icon:wc,tooltip:$_.YouTube,showWhen:({model:e})=>e.doc.schema.flavourSchemaMap.has("affine:embed-youtube")&&!$T(e),action:async({rootComponent:e,model:t})=>{let i=e.doc.getParent(t);if(!i)return;let s=i.children.indexOf(t)+1;await BU(e.host,"YouTube","The added YouTube video link will be displayed as an embed view.",{mode:"page",parentModel:i,index:s}),$A(t)}},{name:"GitHub",description:"Link to a GitHub repository.",icon:br,tooltip:$_.Github,showWhen:({model:e})=>e.doc.schema.flavourSchemaMap.has("affine:embed-github")&&!$T(e),action:async({rootComponent:e,model:t})=>{let i=e.doc.getParent(t);if(!i)return;let s=i.children.indexOf(t)+1;await BU(e.host,"GitHub","The added GitHub issue or pull request link will be displayed as a card view.",{mode:"page",parentModel:i,index:s}),$A(t)}},{name:"Figma",description:"Embed a Figma document.",icon:y9,tooltip:$_.Figma,showWhen:({model:e})=>e.doc.schema.flavourSchemaMap.has("affine:embed-figma")&&!$T(e),action:async({rootComponent:e,model:t})=>{let i=e.doc.getParent(t);if(!i)return;let s=i.children.indexOf(t)+1;await BU(e.host,"Figma","The added Figma link will be displayed as an embed view.",{mode:"page",parentModel:i,index:s}),$A(t)}},{name:"Loom",icon:b5,showWhen:({model:e})=>e.doc.schema.flavourSchemaMap.has("affine:embed-loom")&&!$T(e),action:async({rootComponent:e,model:t})=>{let i=e.doc.getParent(t);if(!i)return;let s=i.children.indexOf(t)+1;await BU(e.host,"Loom","The added Loom video link will be displayed as an embed view.",{mode:"page",parentModel:i,index:s}),$A(t)}},({model:e,rootComponent:t})=>{let{doc:i}=t,s=m2(i),o=i.getParent(e);if(!(o instanceof Mw.N)||!s)return[];let r=[...i.getBlocksByFlavour("affine:frame").map(e=>e.model).map(t=>({name:"Frame: "+t.title,icon:ta,showWhen:()=>!$T(e),action:()=>{let s=o.children.indexOf(e),r={flavour:"affine:surface-ref",reference:t.id,refFlavour:"affine:frame"};i.addSiblingBlocks(e,[r],0===s?"before":"after"),(0,st.op)(e,["affine:paragraph"])&&0===e.text.length&&i.deleteBlock(e)}})),...Array.from(s.elements.getValue()?.values()??[]).filter(e=>e.get("type")===E.J9.GROUP).map(i=>({name:"Group: "+i.get("title"),icon:sJ,action:()=>{let{doc:s}=t,o=s.getParent(e).children.indexOf(e),r={flavour:"affine:surface-ref",reference:i.get("id"),refFlavour:"group"};s.addSiblingBlocks(e,[r],0===o?"before":"after"),(0,st.op)(e,["affine:paragraph"])&&0===e.text.length&&s.deleteBlock(e)}}))];return 0!==r.length?[{groupName:"Document Group & Frame"},...r]:[]},{groupName:"Date"},()=>{let e=new Date,t=new Date,i=new Date;return i.setDate(i.getDate()-1),t.setDate(t.getDate()+1),[{name:"Today",icon:aV,tooltip:$_.Today,description:$B(e),action:({rootComponent:t,model:i})=>{$I(t.host,i,$B(e))}},{name:"Tomorrow",icon:aR,tooltip:$_.Tomorrow,description:$B(t),action:({rootComponent:e,model:t})=>{let i=new Date;i.setDate(i.getDate()+1),$I(e.host,t,$B(i))}},{name:"Yesterday",icon:az,tooltip:$_.Yesterday,description:$B(i),action:({rootComponent:e,model:t})=>{let i=new Date;i.setDate(i.getDate()-1),$I(e.host,t,$B(i))}},{name:"Now",icon:aF,tooltip:$_.Now,description:$$(e),action:({rootComponent:t,model:i})=>{$I(t.host,i,$$(e))}}]},{groupName:"Database"},{name:"Table View",description:"Display items in a table format.",alias:["database"],icon:aC,tooltip:$_["Table View"],showWhen:({model:e})=>e.doc.schema.flavourSchemaMap.has("affine:database")&&!$T(e)&&!$O(e),action:({rootComponent:e,model:t})=>{let i=$P(t);i&&(e.std.spec.getService("affine:database").initDatabaseBlock(e.doc,t,i,u1.tableViewConfig,!1),$A(t))}},{name:"Todo",alias:["todo view"],icon:aC,tooltip:$_.Todo,showWhen:({model:e})=>e.doc.schema.flavourSchemaMap.has("affine:database")&&!$T(e)&&!$O(e)&&!!e.doc.awarenessStore.getFlag("enable_block_query"),action:({model:e,rootComponent:t})=>{let i=t.doc.getParent(e);if(!i)return;let s=i.children.indexOf(e),o=t.doc.addBlock("affine:data-view",{},t.doc.getParent(e),s+1),r=t.doc.getBlock(o);Promise.resolve().then(()=>{(0,st.X7)(t.host,r.model.id).dataSource.viewDataAdd("table")}),$A(e)}},{name:"Kanban View",description:"Visualize data in a dashboard.",alias:["database"],icon:aS,tooltip:$_["Kanban View"],showWhen:({model:e})=>e.doc.schema.flavourSchemaMap.has("affine:database")&&!$T(e)&&!$O(e),action:({model:e,rootComponent:t})=>{let i=$P(e);i&&(t.std.spec.getService("affine:database").initDatabaseBlock(t.doc,e,i,u1.kanbanViewConfig,!1),$A(e))}},{groupName:"Actions"},{name:"Move Up",description:"Shift this line up.",icon:nv,tooltip:$_["Move Up"],action:({rootComponent:e,model:t})=>{let i=e.doc,s=i.getPrev(t);if(!s)return;let o=i.getParent(s);o&&i.moveBlocks([t],o,s,!0)}},{name:"Move Down",description:"Shift this line down.",icon:ny,tooltip:$_["Move Down"],action:({rootComponent:e,model:t})=>{let i=e.doc,s=i.getNext(t);if(!s)return;let o=i.getParent(s);o&&i.moveBlocks([t],o,s,!1)}},{name:"Copy",description:"Copy this line to clipboard.",icon:aD,tooltip:$_.Copy,action:({rootComponent:e,model:t})=>{let i=v.Ji.fromModels(e.std.doc,[t]);e.std.clipboard.copy(i).then(()=>{l8(e.host,"Copied to clipboard")}).catch(e=>{console.error(e)})}},{name:"Duplicate",description:"Create a duplicate of this line.",icon:aL,tooltip:$_.Copy,action:({rootComponent:e,model:t})=>{if(!t.text||!(t.text instanceof v.EY)){console.error("Can't duplicate a block without text");return}let i=e.doc.getParent(t);if(!i){console.error("Failed to duplicate block! Parent not found: "+t.id+"|"+t.flavour);return}let s=i.children.indexOf(t);e.doc.addBlock(t.flavour,{type:t.type,text:e.doc.Text.fromDelta(t.text.toDelta()),checked:t.checked},e.doc.getParent(t),s)}},{name:"Delete",description:"Remove this line permanently.",alias:["remove"],icon:aj,tooltip:$_.Delete,action:({rootComponent:e,model:t})=>{e.doc.deleteBlock(t)}}]},$D=(0,H.AH)`
  .overlay-mask {
    pointer-events: auto;
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: var(--affine-z-index-popover);
  }

  .slash-menu {
    position: fixed;
    left: 0;
    top: 0;
    box-sizing: border-box;
    padding: 8px 4px 8px 8px;
    width: 258px;
    overflow-y: auto;
    font-family: ${(0,H.iz)(oY.$7.fontSansFamily)};

    background: var(--affine-background-overlay-panel-color);
    box-shadow: var(--affine-shadow-2);
    border-radius: 8px;
    z-index: var(--affine-z-index-popover);
    user-select: none;
    /* transition: max-height 0.2s ease-in-out; */
  }

  ${cl(".slash-menu")}

  .slash-menu-group-name {
    box-sizing: border-box;
    padding: 2px 8px;

    font-size: var(--affine-font-xs);
    font-weight: 500;
    line-height: var(--affine-line-height);
    text-align: left;
    color: var(
      --light-textColor-textSecondaryColor,
      var(--textColor-textSecondaryColor, #8e8d91)
    );
  }

  .slash-menu-item {
    padding: 2px 8px 2px 8px;
    justify-content: flex-start;
    gap: 10px;
  }

  .slash-menu-item-icon {
    box-sizing: border-box;
    width: 28px;
    height: 28px;
    padding: 4px;
    border: 1px solid var(--affine-border-color, #e3e2e4);
    border-radius: 4px;
    color: var(--affine-icon-color);
    background: var(--affine-background-overlay-panel-color);

    display: flex;
    justify-content: center;
    align-items: center;
  }

  .slash-menu-item-icon svg {
    display: block;
  }

  .slash-menu-item.ask-ai {
    color: var(--affine-brand-color);
  }
  .slash-menu-item.github .github-icon {
    color: var(--affine-black);
  }
`,$Z=(0,H.AH)`
  .affine-tooltip {
    display: flex;
    padding: 4px 4px 2px 4px;
    flex-direction: column;
    align-items: flex-start;
    gap: 3px;
  }

  .tooltip-figure svg {
    display: block;
  }

  .tooltip-caption {
    padding-left: 4px;
    color: var(
      --light-textColor-textSecondaryColor,
      var(--textColor-textSecondaryColor, #8e8d91)
    );
    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    line-height: var(--affine-line-height);
  }
`;var $j=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},$V=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let $R=(()=>{let e,t,i,s,o,r,a,n,l=[(0,L.EM)("affine-slash-menu")],c=[],d=(0,P.Tm)(H.WF),h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[];return class extends d{static{t=this}static{let C="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.P)("inner-slash-menu")],n=[(0,L.MZ)({attribute:!1})],$j(this,null,i,{kind:"accessor",name:"_filteredItems",static:!1,private:!1,access:{has:e=>"_filteredItems"in e,get:e=>e._filteredItems,set:(e,t)=>{e._filteredItems=t}},metadata:C},h,u),$j(this,null,s,{kind:"accessor",name:"_position",static:!1,private:!1,access:{has:e=>"_position"in e,get:e=>e._position,set:(e,t)=>{e._position=t}},metadata:C},p,f),$j(this,null,o,{kind:"accessor",name:"config",static:!1,private:!1,access:{has:e=>"config"in e,get:e=>e.config,set:(e,t)=>{e.config=t}},metadata:C},g,m),$j(this,null,r,{kind:"accessor",name:"context",static:!1,private:!1,access:{has:e=>"context"in e,get:e=>e.context,set:(e,t)=>{e.context=t}},metadata:C},v,y),$j(this,null,a,{kind:"accessor",name:"slashMenuElement",static:!1,private:!1,access:{has:e=>"slashMenuElement"in e,get:e=>e.slashMenuElement,set:(e,t)=>{e.slashMenuElement=t}},metadata:C},b,w),$j(this,null,n,{kind:"accessor",name:"triggerKey",static:!1,private:!1,access:{has:e=>"triggerKey"in e,get:e=>e.triggerKey,set:(e,t)=>{e.triggerKey=t}},metadata:C},x,_),$j(null,e={value:t},l,{kind:"class",name:t.name,metadata:C},null,c),t=e.value,C&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})}static{this.styles=$D}constructor(e,t=new AbortController){super(),this.inlineEditor=e,this.abortController=t,this._handleClickItem=e=>{cn(this.host,this.context.model,this.triggerKey+(this._query||"")),e.action(this.context)?.catch(console.error),this.abortController.abort()},this._initItemPathMap=()=>{let e=(t,i)=>{this._itemPathMap.set(t,[...i]),$M(t)&&t.subMenu.forEach((t,s)=>e(t,[...i,s]))};this.config.items.forEach((t,i)=>e(t,[i]))},this._itemPathMap=new Map,this._queryState="off",this._startRange=this.inlineEditor.getInlineRange(),this._updateFilteredItems=()=>{let e=this._query;if(null===e){this.abortController.abort();return}this._filteredItems=[];let t=e.toLowerCase();if(""===t||t.endsWith(" ")){this._queryState=""===t?"off":"no_result";return}let i=0,s=this.config.items.filter($k);for(;0!==s.length&&(this._filteredItems=this._filteredItems.filter(e=>!$M(e)),this._filteredItems=this._filteredItems.concat(s.filter(({name:e,alias:i=[]})=>[e,...i].some(e=>yg(e,t)))),0===this._filteredItems.length||!(i>=1));)s=s.map(e=>$M(e)?e.subMenu.filter($k):[]).flat(),i++;this._filteredItems=this._filteredItems.sort((e,i)=>-(ym(e.name,t)-ym(i.name,t))),this._queryState=0===this._filteredItems.length?"no_result":"on"},this.updatePosition=e=>{this._position=e},this.#lo=$V(this,h,[]),this.#aa=($V(this,u),$V(this,p,null)),this.#t$=($V(this,f),$V(this,g,void 0)),this.#lr=($V(this,m),$V(this,v,void 0)),this.#la=($V(this,y),$V(this,b,void 0)),this.#ln=($V(this,w),$V(this,x,void 0)),$V(this,_),this.inlineEditor=e,this.abortController=t}get _query(){return cr(this.inlineEditor,this._startRange)}connectedCallback(){super.connectedCallback(),this._innerSlashMenuContext={...this.context,onClickItem:this._handleClickItem,tooltipTimeout:this.config.tooltipTimeout},this._initItemPathMap(),this._disposables.addFromEvent(this,"mousedown",e=>{e.preventDefault()});let e=this.inlineEditor;if(!e||!e.eventSource){console.error("inlineEditor or eventSource is not found");return}ca({target:e.eventSource,signal:this.abortController.signal,inlineEditor:this.inlineEditor,interceptor:(e,t)=>{let{key:i,isComposing:s,code:o}=e;if(i!==this.triggerKey&&("Process"!==i||s||"Slash"!==o)){if("Backspace"!==i&&"no_result"===this._queryState){this.abortController.abort();return}"ArrowRight"!==i&&"ArrowLeft"!==i&&"Escape"!==i&&t()}},onInput:()=>this._updateFilteredItems(),onPaste:()=>{setTimeout(()=>this._updateFilteredItems(),20)},onDelete:()=>{let e=this.inlineEditor.getInlineRange();this._startRange&&e&&(e.index<this._startRange.index&&this.abortController.abort(),this._updateFilteredItems())},onAbort:()=>this.abortController.abort()})}render(){let e=this._position?{transform:`translate(${this._position.x}, ${this._position.y})`,maxHeight:`${Math.min(this._position.height,this.config.maxHeight)}px`}:{visibility:"hidden"};return(0,H.qy)`${"no_result"!==this._queryState?(0,H.qy)` <div
            class="overlay-mask"
            @click="${()=>this.abortController.abort()}"
          ></div>`:H.s6}
      <inner-slash-menu
        .context=${this._innerSlashMenuContext}
        .menu=${"off"===this._queryState?this.config.items:this._filteredItems}
        .onClickItem=${this._handleClickItem}
        .mainMenuStyle=${e}
        .abortController=${this.abortController}
      >
      </inner-slash-menu>`}get host(){return this.context.rootComponent.host}#lo;get _filteredItems(){return this.#lo}set _filteredItems(e){this.#lo=e}#aa;get _position(){return this.#aa}set _position(e){this.#aa=e}#t$;get config(){return this.#t$}set config(e){this.#t$=e}#lr;get context(){return this.#lr}set context(e){this.#lr=e}#la;get slashMenuElement(){return this.#la}set slashMenuElement(e){this.#la=e}#ln;get triggerKey(){return this.#ln}set triggerKey(e){this.#ln=e}static{$V(t,c)}},t})();(()=>{let e,t,i,s,o,r,a,n,l=[(0,L.EM)("inner-slash-menu")],c=[],d=(0,P.Tm)(H.WF),h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[];(class extends d{static{t=this}static{let C="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],$j(this,null,i,{kind:"accessor",name:"_activeItem",static:!1,private:!1,access:{has:e=>"_activeItem"in e,get:e=>e._activeItem,set:(e,t)=>{e._activeItem=t}},metadata:C},h,u),$j(this,null,s,{kind:"accessor",name:"abortController",static:!1,private:!1,access:{has:e=>"abortController"in e,get:e=>e.abortController,set:(e,t)=>{e.abortController=t}},metadata:C},p,f),$j(this,null,o,{kind:"accessor",name:"context",static:!1,private:!1,access:{has:e=>"context"in e,get:e=>e.context,set:(e,t)=>{e.context=t}},metadata:C},g,m),$j(this,null,r,{kind:"accessor",name:"depth",static:!1,private:!1,access:{has:e=>"depth"in e,get:e=>e.depth,set:(e,t)=>{e.depth=t}},metadata:C},v,y),$j(this,null,a,{kind:"accessor",name:"mainMenuStyle",static:!1,private:!1,access:{has:e=>"mainMenuStyle"in e,get:e=>e.mainMenuStyle,set:(e,t)=>{e.mainMenuStyle=t}},metadata:C},b,w),$j(this,null,n,{kind:"accessor",name:"menu",static:!1,private:!1,access:{has:e=>"menu"in e,get:e=>e.menu,set:(e,t)=>{e.menu=t}},metadata:C},x,_),$j(null,e={value:t},l,{kind:"class",name:t.name,metadata:C},null,c),t=e.value,C&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})}static{this.styles=$D}_scrollToItem(e){let t=this.shadowRoot;if(!t)return;let i=$C(e)?e.groupName:e.name,s=t.querySelector(`icon-button[text="${i}"]`);s&&s.scrollIntoView({block:"nearest"})}connectedCallback(){super.connectedCallback(),this.abortController?.signal?.addEventListener("abort",()=>{this._subMenuAbortController?.abort()}),this.addEventListener("wheel",e=>{this._currentSubMenu&&e.preventDefault()});let e=(0,st.h9)(this.context.rootComponent.host,this.context.model);if(!e||!e.eventSource){console.error("inlineEditor or eventSource is not found");return}e.eventSource.addEventListener("keydown",e=>{if(this._currentSubMenu||e.isComposing)return;let{key:t,ctrlKey:i,metaKey:s,altKey:o,shiftKey:r}=e,a=(i||s)&&!o&&!r,n=r&&!(0,st.QI)(e),l=!(i||s||o||r),c=0;if(("ArrowUp"===t&&l||"Tab"===t&&n||"P"===t&&a||"p"===t&&a)&&(c=-1),("ArrowDown"===t&&l||"Tab"===t&&l||"n"===t&&a||"N"===t&&a)&&(c=1),0!==c){let t=this.menu.indexOf(this._activeItem);do t=(t+c+this.menu.length)%this.menu.length;while($C(this.menu[t]))this._activeItem=this.menu[t],this._scrollToItem(this._activeItem),e.preventDefault(),e.stopPropagation()}"ArrowRight"===t&&l&&($M(this._activeItem)&&this._openSubMenu(this._activeItem),e.preventDefault(),e.stopPropagation()),("ArrowLeft"===t||"Escape"===t)&&l&&(this.abortController.abort(),e.preventDefault(),e.stopPropagation()),"Enter"===t&&l&&($M(this._activeItem)?this._openSubMenu(this._activeItem):$S(this._activeItem)&&this.context.onClickItem(this._activeItem),e.preventDefault(),e.stopPropagation())},{capture:!0,signal:this.abortController.signal})}disconnectedCallback(){this.abortController.abort()}render(){if(0===this.menu.length)return H.s6;let e=(0,Z.W)(this.mainMenuStyle??{position:"relative"});return(0,H.qy)`<div
      class="slash-menu"
      style=${e}
      data-testid=${`sub-menu-${this.depth}`}
    >
      ${this.menu.map(this._renderItem)}
    </div>`}willUpdate(e){if(e.has("menu")&&0!==this.menu.length){let e=function(e){let t=e.find(e=>!$C(e));return(0,V.j)(t),t??null}(this.menu);(0,V.Z1)(e),this._activeItem=e,this._subMenuAbortController?.abort()}}#ll;get _activeItem(){return this.#ll}set _activeItem(e){this.#ll=e}#eS;get abortController(){return this.#eS}set abortController(e){this.#eS=e}#lr;get context(){return this.#lr}set context(e){this.#lr=e}#is;get depth(){return this.#is}set depth(e){this.#is=e}#lc;get mainMenuStyle(){return this.#lc}set mainMenuStyle(e){this.#lc=e}#nK;get menu(){return this.#nK}set menu(e){this.#nK=e}constructor(){super(...arguments),this._closeSubMenu=()=>{this._subMenuAbortController?.abort(),this._subMenuAbortController=null,this._currentSubMenu=null},this._currentSubMenu=null,this._openSubMenu=e=>{if(e===this._currentSubMenu)return;let t=this.shadowRoot?.querySelector(`.${$E(e)}`);if(!t)return;this._closeSubMenu(),this._currentSubMenu=e,this._subMenuAbortController=new AbortController,this._subMenuAbortController.signal.addEventListener("abort",()=>{this._closeSubMenu()});let i=ri({shadowDom:!1,template:(0,H.qy)`<inner-slash-menu
        .context=${this.context}
        .menu=${e.subMenu}
        .depth=${this.depth+1}
        .abortController=${this._subMenuAbortController}
      >
        ${e.subMenu.map(this._renderItem)}
      </inner-slash-menu>`,computePosition:{referenceElement:t,autoUpdate:!0,middleware:[(0,oG.cY)(12),(0,oG.RK)({allowedPlacements:["right-start","right-end"]})]},abortController:this._subMenuAbortController});i.style.zIndex=`calc(var(--affine-z-index-popover) + ${this.depth})`,i.focus()},this._renderActionItem=e=>{let{name:t,icon:i,description:s,tooltip:o,customTemplate:r}=e,a=e===this._activeItem;return(0,H.qy)`<icon-button
      class="slash-menu-item ${$E(e)}"
      width="100%"
      height="44px"
      text=${r??t}
      subText=${(0,lI.J)(s)}
      data-testid="${t}"
      hover=${a}
      @mousemove=${()=>{this._activeItem=e,this._closeSubMenu()}}
      @click=${()=>this.context.onClickItem(e)}
    >
      ${i&&(0,H.qy)`<div class="slash-menu-item-icon">${i}</div>`}
      ${o&&(0,H.qy)`<affine-tooltip
        tip-position="right"
        .offset=${22}
        .tooltipStyle=${$Z}
        .hoverOptions=${{enterDelay:this.context.tooltipTimeout,allowMultiple:!1}}
      >
        <div class="tooltip-figure">${o.figure}</div>
        <div class="tooltip-caption">${o.caption}</div>
      </affine-tooltip>`}
    </icon-button>`},this._renderGroupItem=e=>(0,H.qy)`<div class="slash-menu-group-name">${e.groupName}</div>`,this._renderItem=e=>$C(e)?this._renderGroupItem(e):$S(e)?this._renderActionItem(e):$M(e)?this._renderSubMenuItem(e):(console.error("Unknown item type for slash menu"),console.error(e),H.s6),this._renderSubMenuItem=e=>{let{name:t,icon:i,description:s}=e,o=e===this._activeItem;return(0,H.qy)`<icon-button
      class="slash-menu-item ${$E(e)}"
      width="100%"
      height="44px"
      text=${t}
      subText=${(0,lI.J)(s)}
      data-testid="${t}"
      hover=${o}
      @mousemove=${()=>{this._activeItem=e,this._openSubMenu(e)}}
      @touchstart=${()=>{$M(e)&&(this._currentSubMenu===e?this._closeSubMenu():this._openSubMenu(e))}}
    >
      ${i&&(0,H.qy)`<div class="slash-menu-item-icon">${i}</div>`}
      <div slot="suffix" style="transform: rotate(-90deg);">
        ${a7}
      </div>
    </icon-button>`},this._subMenuAbortController=null,this.#ll=$V(this,h,void 0),this.#eS=($V(this,u),$V(this,p,void 0)),this.#lr=($V(this,f),$V(this,g,void 0)),this.#is=($V(this,m),$V(this,v,0)),this.#lc=($V(this,y),$V(this,b,null)),this.#nK=($V(this,w),$V(this,x,void 0)),$V(this,_)}static{$V(t,c)}})})();var $z=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},$F=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let $N=new AbortController,$q=(0,A.sg)(({context:e,range:t,container:i=document.body,abortController:s=new AbortController,config:o,triggerKey:r})=>{$N=s;let a=new ix.K;s.signal.addEventListener("abort",()=>a.dispose());let n=(0,st.h9)(e.rootComponent.host,e.model);if(!n)return;let l=new $R(n,s);a.add(()=>l.remove()),l.context=e,l.config=o,l.triggerKey=r;let c=(0,A.nF)(()=>{let e=l.slashMenuElement;(0,V.Z1)(e,"You should render the slash menu node even if no position");let i=SH(e,t);l.updatePosition(i)},10);return a.addFromEvent(window,"resize",c),i.append(l),setTimeout(c),l},100),$U="affine-slash-menu-widget",$W=(()=>{let e,t,i=[(0,L.EM)($U)],s=[],o=P.W;var r=class extends o{static{t=this}constructor(){super(...arguments),this._onBeforeInput=e=>{let t=e.get("defaultState").event.data;if(!t||!this.config.triggerKeys.includes(t))return;let i=this.host.selection.find("text");if(!i)return;let s=this.host.doc.getBlock(i.blockId);(0,V.Z1)(s);let{model:o}=s;if((0,st.op)(o,this.config.ignoreBlockTypes))return;let r=(0,st.h9)(this.host,o);r&&r.slots.inlineRangeApply.once(()=>{let e=this.block;if(!mG(e)){console.error("SlashMenuWidget should be used in RootBlock");return}let i={...this.config,items:function e(t,i){return t.map(e=>"function"==typeof e?e(i):e).flat().filter(e=>!e.showWhen||e.showWhen(i)).map(t=>$M(t)?{...t,subMenu:e(t.subMenu,i)}:{...t})}(this.config.items,{model:o,rootComponent:e})};requestAnimationFrame(()=>{let s=(0,st.oV)();s&&($N.abort(),$q({context:{model:o,rootComponent:e},range:s,triggerKey:t,config:i}))})})},this.config=r.DEFAULT_CONFIG}static{let a="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;$z(null,e={value:t},i,{kind:"class",name:t.name,metadata:a},null,s),r=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})}static{this.DEFAULT_CONFIG=$L}connectedCallback(){if(super.connectedCallback(),this.config.triggerKeys.some(e=>0===e.length)){console.error("Trigger key of slash menu should not be empty string");return}this.handleEvent("beforeInput",this._onBeforeInput)}static{$F(t,s)}};return r=t})(),$G=async(e,t)=>{let{edgelessElement:i,surfaceRefBlock:s}=t,o=e.spec.getService("affine:page").exportManager,r=m.z.deserialize(i.xywh),a=g$(i);return o.edgelessToCanvas(t.surfaceRenderer,r,e=>(0,sc.Au)(e,s.host.view),void 0,a?[i]:void 0,a?void 0:[i],{zoom:t.surfaceRenderer.viewport.zoom}).then(e=>((0,V.Z1)(e),new Promise((t,i)=>{e.toBlob(e=>e?t(e):i(null),"image/png")})))},$Y=async e=>{window.apis?.clipboard?.copyAsImageFromString?await window.apis.clipboard?.copyAsImageFromString(e):await navigator.clipboard.write([new ClipboardItem({[e.type]:e})])};var $K=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},$X=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("affine-surface-ref-toolbar")],s=[],o=P.W;(class extends o{static{t=this}constructor(){super(...arguments),this._hoverController=new lE(this,({abortController:e})=>{let t=this.block,i=this.host.selection,s=i.find("text");if(s&&(s.to||s.from.length))return null;let o=i.filter("block");return o.length>1||1===o.length&&o[0].blockId!==t.blockId?null:{template:function(e){let{block:t,model:i,abortController:s}=e,o=i.doc.readonly,r=!!t.referenceModel,a=[];r&&(a.push({name:"Open in edgeless",icon:tg,handler:()=>t.viewInEdgeless(),disabled:o}),lF(t)&&a.push({name:"Open in center peek",icon:aK,handler:()=>lN(t)}));let n=[r?[{type:"copy",name:"Copy",icon:aL,handler:()=>{if(!t.referenceModel||!t.doc.root)return;let e=t.previewEditor,i=e?.view.getBlock(t.doc.root.id),s=i?.surface?.renderer;$G(t.host,{surfaceRefBlock:t,surfaceRenderer:s,edgelessElement:t.referenceModel}).then(e=>$Y(e)).then(()=>{l8(t.host,"Copied image to clipboard")}).catch(e=>{console.error(e)})}},{type:"download",name:"Download",icon:a0,handler:()=>{if(!t.referenceModel||!t.doc.root)return;let e=t.referenceModel,i=t.previewEditor,s=i?.view.getBlock(t.doc.root.id),o=s?.surface?.renderer;$G(t.host,{surfaceRefBlock:t,surfaceRenderer:o,edgelessElement:e}).then(t=>{let i="title"in e?e.title?.toString()??"Edgeless Content":"Edgeless Content";(0,_q.WN)(t,i)}).catch(e=>{console.error(e)})}}]:[],[{type:"delete",name:"Delete",icon:aj,disabled:o,handler:()=>{i.doc.deleteBlock(i),s.abort()}}]],l=[a.length?(0,H.qy)`
          <editor-menu-button
            .contentPadding=${"8px"}
            .button=${(0,H.qy)`
              <editor-icon-button
                aria-label="Open doc"
                .justify=${"space-between"}
                .labelHeight=${"20px"}
              >
                ${aY}${tO}
              </editor-icon-button>
            `}
          >
            <div data-size="large" data-orientation="vertical">
              ${(0,D.u)(a,e=>e.name,({name:e,icon:t,handler:i,disabled:s})=>(0,H.qy)`
                  <editor-menu-action
                    aria-label=${e}
                    ?disabled=${s}
                    @click=${i}
                  >
                    ${t}<span class="label">${e}</span>
                  </editor-menu-action>
                `)}
            </div>
          </editor-menu-button>
        `:H.s6,o?H.s6:(0,H.qy)`
          <editor-icon-button
            aria-label="Caption"
            @click=${()=>{s.abort(),t.captionElement.show()}}
          >
            ${a1}
          </editor-icon-button>
        `,(0,H.qy)`
      <editor-menu-button
        .contentPadding=${"8px"}
        .button=${(0,H.qy)`
          <editor-icon-button aria-label="More" .tooltip=${"More"}>
            ${eU}
          </editor-icon-button>
        `}
      >
        <div data-size="large" data-orientation="vertical">
          ${wE(n)}
        </div>
      </editor-menu-button>
    `];return(0,H.qy)`
    <editor-toolbar class="surface-ref-toolbar-container">
      ${(0,v6.f)(l.filter(e=>e!==H.s6),wk)}
    </editor-toolbar>
  `}({block:this.block,model:this.block.model,abortController:e}),computePosition:{referenceElement:this.block,placement:"top-start",middleware:[(0,oG.cY)({mainAxis:12,crossAxis:10}),(0,oG.BN)({crossAxis:!0,padding:{top:fA.Et+12,bottom:12,right:12}})],autoUpdate:!0}}})}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;$K(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),$X(t,s)}connectedCallback(){super.connectedCallback(),this._hoverController.setReference(this.block)}})})();var $Q=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},$J=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("affine-edgeless-root-preview")],n=[],l=P.p_,c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.P)(".edgeless-background")],s=[(0,L.wk)()],o=[(0,L.P)(".edgeless-layer")],r=[(0,L.P)("affine-surface")],$Q(this,null,i,{kind:"accessor",name:"background",static:!1,private:!1,access:{has:e=>"background"in e,get:e=>e.background,set:(e,t)=>{e.background=t}},metadata:v},c,d),$Q(this,null,s,{kind:"accessor",name:"editorViewportSelector",static:!1,private:!1,access:{has:e=>"editorViewportSelector"in e,get:e=>e.editorViewportSelector,set:(e,t)=>{e.editorViewportSelector=t}},metadata:v},h,u),$Q(this,null,o,{kind:"accessor",name:"layer",static:!1,private:!1,access:{has:e=>"layer"in e,get:e=>e.layer,set:(e,t)=>{e.layer=t}},metadata:v},p,f),$Q(this,null,r,{kind:"accessor",name:"surface",static:!1,private:!1,access:{has:e=>"surface"in e,get:e=>e.surface,set:(e,t)=>{e.surface=t}},metadata:v},g,m),$Q(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    affine-edgeless-root {
      -webkit-user-select: none;
      user-select: none;
      display: block;
      height: 100%;
    }

    .widgets-container {
      position: absolute;
      left: 0;
      top: 0;
      contain: size layout;
      z-index: 1;
      height: 100%;
    }

    .edgeless-background {
      height: 100%;
      background-color: var(--affine-background-primary-color);
      background-image: radial-gradient(
        var(--affine-edgeless-grid-color) 1px,
        var(--affine-background-primary-color) 1px
      );
    }

    .edgeless-layer {
      position: absolute;
      top: 0;
      left: 0;
      contain: size layout style;
    }

    @media print {
      .selected {
        background-color: transparent !important;
      }
    }
  `}_getLayerViewport(e=!1){let{translateX:t,translateY:i,zoom:s}=this.service.viewport;return e?`scale(${1/s}) translate(${-t}px, ${-i}px)`:`translate(${t}px, ${i}px) scale(${s})`}_initFontLoader(){let e=this.service?.fontLoader;(0,V.Z1)(e),e.ready.then(()=>{this.surface.refresh()}).catch(console.error)}_initPixelRatioChangeEffect(){let e;let t=()=>{e&&(this.service.viewport.onResize(),e.removeEventListener("change",t)),(e=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`)).addEventListener("change",t)};t(),this._disposables.add(()=>{e?.removeEventListener("change",t)})}_initResizeEffect(){if(!this._viewportElement)return;let e=new ResizeObserver(e=>{if(!this.service||!this.service.selection||!this.service.viewport){console.error("Service not ready");return}this.service.selection.set(this.service.selection.surfaceSelections),this.service.viewport.onResize()});e.observe(this.viewportElement),this._resizeObserver?.disconnect(),this._resizeObserver=e}_initSlotEffects(){let{disposables:e}=this;this.disposables.add(this.service.themeObserver.mode$.subscribe(()=>this.surface.refresh())),e.add(this.service.selection)}_initViewport(){this.service.viewport.setContainer(this)}connectedCallback(){super.connectedCallback(),this.handleEvent("selectionChange",()=>{let e=this.host.selection.value.find(e=>e.is("surface"));if(e&&gF(this.service.getElementById(e.elements[0])))return!0})}disconnectedCallback(){super.disconnectedCallback(),this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}firstUpdated(){this._initSlotEffects(),this._initResizeEffect(),this._initPixelRatioChangeEffect(),this._initFontLoader(),this._initViewport(),this._disposables.add(this.service.viewport.viewportUpdated.on(()=>{this._refreshLayerViewport()})),this._refreshLayerViewport()}getElementsBound(){let{service:e}=this;return gI([...e.elements,...e.blocks])}renderBlock(){return(0,H.qy)`
      <div class="edgeless-background edgeless-container">
        <div class="edgeless-layer">
          ${this.renderChildren(this.model)}${this.renderChildren(this.surfaceBlockModel)}
        </div>
      </div>
    `}willUpdate(e){e.has("editorViewportSelector")&&this._initResizeEffect()}get dispatcher(){return this.service?.uiEventDispatcher}get surfaceBlockModel(){return this.model.children.find(e=>"affine:surface"===e.flavour)}get viewportElement(){return this._viewportElement||(this._viewportElement=this.host.closest(this.editorViewportSelector),(0,V.Z1)(this._viewportElement)),this._viewportElement}#rW;get background(){return this.#rW}set background(e){this.#rW=e}#ld;get editorViewportSelector(){return this.#ld}set editorViewportSelector(e){this.#ld=e}#lh;get layer(){return this.#lh}set layer(e){this.#lh=e}#nq;get surface(){return this.#nq}set surface(e){this.#nq=e}constructor(){super(...arguments),this._refreshLayerViewport=(0,st.GR)(()=>{let{zoom:e,translateX:t,translateY:i}=this.service.viewport,{gap:s}=gU(e,!0);this.background.style.setProperty("background-position",`${t}px ${i}px`),this.background.style.setProperty("background-size",`${s}px ${s}px`),this.layer.style.setProperty("transform",this._getLayerViewport()),this.layer.dataset.scale=e.toString()},this),this._resizeObserver=null,this._viewportElement=null,this.#rW=$J(this,c,void 0),this.#ld=($J(this,d),$J(this,h,".affine-edgeless-viewport")),this.#lh=($J(this,u),$J(this,p,void 0)),this.#nq=($J(this,f),$J(this,g,void 0)),$J(this,m)}static{$J(t,n)}})})();class $1{constructor(e){this._activeGroup=null,this._cursorSelection=null,this._lastSurfaceSelections=[],this._remoteCursorSelectionMap=new Map,this._remoteSelectedSet=new Set,this._remoteSurfaceSelectionsMap=new Map,this._selectedSet=new Set,this._surfaceSelections=[],this.disposable=new ix.K,this.slots={updated:new i_.D,remoteUpdated:new i_.D,cursorUpdated:new i_.D,remoteCursorUpdated:new i_.D},this.service=e,this.surfaceModel=e.surface,this.mount()}clear(){this.stdSelectionManager.clear(),this.set({elements:[],editing:!1})}clearLast(){this._lastSurfaceSelections=[]}dispose(){this.disposable.dispose()}equals(e){let t=0,i=!1;return e.every(e=>{let s=e.elements.every(e=>this._selectedSet.has(e));return s&&(t+=e.elements.length),e.editing&&(i=!0),s})&&t===this._selectedSet.size&&i===this.editing}has(e){return this._selectedSet.has(e)}hasRemote(e){return this._remoteSelectedSet.has(e)}isEmpty(e){return e.every(e=>0===e.elements.length)}isInSelectedRect(e,t){let i=this.selectedElements;if(!i.length)return!1;let s=gI(i),[o,r]=this.service.viewport.toModelCoord(e,t);return!!(s&&s.isPointInBound([o,r]))}mount(){this.disposable.add(this.stdSelectionManager.slots.changed.on(e=>{let{cursor:t=[],surface:i=[]}=(0,ik.$z)(e,e=>e.is("surface")?"surface":e.is("cursor")?"cursor":"none");(0,V.j)(t),(0,V.j)(i),t[0]&&!this.cursorSelection?.equals(t[0])&&(this._cursorSelection=t[0],this.slots.cursorUpdated.emit(t[0])),0===i.length&&this.empty||this.equals(i)||(this._lastSurfaceSelections=this.surfaceSelections,this._surfaceSelections=i,this._selectedSet=new Set,i.forEach(e=>e.elements.forEach(e=>{this._selectedSet.add(e)})),this.slots.updated.emit(this.surfaceSelections))})),this.disposable.add(this.stdSelectionManager.slots.remoteChanged.on(e=>{let t=new Map,i=new Map,s=new Set;e.forEach((e,o)=>{let r=!1,a=!1;e.forEach(e=>{if(e.is("text")&&(r=!0),e.is("block")&&(a=!0),e.is("surface")){let i=t.get(o)??[];i.push(e),t.set(o,i),e.elements.forEach(e=>s.add(e))}e.is("cursor")&&i.set(o,e)}),(a||r)&&t.delete(o),r&&i.delete(o)}),this._remoteCursorSelectionMap=i,this._remoteSurfaceSelectionsMap=t,this._remoteSelectedSet=s,this.slots.remoteUpdated.emit(),this.slots.remoteCursorUpdated.emit()}))}set(e){if(Array.isArray(e)){this.stdSelectionManager.setGroup("gfx",this.cursorSelection?[...e,this.cursorSelection]:e);return}let{blocks:t=[],elements:i=[]}=(0,ik.$z)(e.elements,e=>this.service.doc.getBlockById(e)?"blocks":"elements"),s=[];i.length>0&&s.push(this.stdSelectionManager.create("surface",this.surfaceModel.id,i,e.editing,e.inoperable)),t.length>0&&(s=s.concat(t.map(t=>this.stdSelectionManager.create("surface",t,[t],e.editing,e.inoperable)))),this.stdSelectionManager.setGroup("gfx",this.cursorSelection?s.concat([this.cursorSelection]):s),s.length>0&&this.stdSelectionManager.setGroup("note",[]),1===e.elements.length&&(this.firstElement instanceof M.$||this.firstElement instanceof I.AR)?this._activeGroup=this.firstElement:(this.selectedElements.some(e=>e.group!==this._activeGroup)||0===this.selectedElements.length)&&(this._activeGroup=null)}setCursor(e){let t=this.stdSelectionManager.create("cursor",e.x,e.y);this.stdSelectionManager.setGroup("gfx",[...this.surfaceSelections,t])}get activeGroup(){return this._activeGroup}get cursorSelection(){return this._cursorSelection}get editing(){return this.surfaceSelections.some(e=>e.editing)}get empty(){return this.surfaceSelections.every(e=>0===e.elements.length)}get firstElement(){return this.selectedElements[0]}get inoperable(){return this.surfaceSelections.some(e=>e.inoperable)}get lastSurfaceSelections(){return this._lastSurfaceSelections}get remoteCursorSelectionMap(){return this._remoteCursorSelectionMap}get remoteSelectedSet(){return this._remoteSelectedSet}get remoteSurfaceSelectionsMap(){return this._remoteSurfaceSelectionsMap}get selectedBound(){return gI(this.selectedElements)}get selectedElements(){let e=[];return this.selectedIds.forEach(t=>{let i=this.service.getElementById(t);i&&e.push(i)}),e}get selectedIds(){return[...this._selectedSet]}get selectedSet(){return this._selectedSet}get stdSelectionManager(){return this.service.std.selection}get surfaceSelections(){return this._surfaceSelections}}let $0=["affine:surface","affine:surface-ref"],$2=["affine:surface","affine:page"],$5=["template","sticker"];class $7{static{this.middlewares=[]}constructor({model:e,type:t,middlewares:i}){this._template=null,this.slots={beforeInsert:new i_.D},this.job=new v._O({collection:e.doc.collection,middlewares:[]}),this.model=e,this.type=$5.includes(t)?t:"template",i.forEach(e=>e(this)),$7.middlewares.forEach(e=>e(this))}static create(e){return new $7(e)}_getMergeBlockId(e){switch(e.flavour){case"affine:page":return this.model.doc.root.id;case"affine:surface":return this.model.id}}_getTemplateBound(){let e=[];return this.walk(t=>{if(t.props.xywh&&e.push(m.z.deserialize(t.props.xywh)),"affine:surface"===t.flavour){let i=["connector","group"];Object.entries(t.props.elements).forEach(([t,s])=>{let o=s.type;s.xywh&&!i.includes(o)&&e.push(m.z.deserialize(s.xywh)),"connector"===o&&["target","source"].forEach(t=>{let i=s[t];if((0,V.j)(i),i.id||!i.position)return;let o=i.position;o&&e.push(new m.z(o[0],o[1],0,0))})})}}),(0,iY.ql)(e)}_insertToDoc(e){let t=this.model.doc,i=new Map,s=[],o=(e,o=!0)=>{let{flavour:r,json:a,modelData:n,parent:l,index:c}=e,d=$2.includes(r);if(d&&i.set(a.id,this._getMergeBlockId(a)),o&&$0.includes(r)){s.push(e);return}if(d){this._mergeProps(a,this.model.doc.getBlockById(this._getMergeBlockId(a)));return}(0,V.Z1)(n),t.addBlock(n.flavour,{...n.props,id:n.id},l?i.get(l)??l:void 0,c)};e.forEach(e=>o(e)),s.forEach(e=>o(e,!1))}async _jsonToModelData(e){let t=this.job,i=[],s=[],o=async(e,r,a,n=!0)=>{if(n&&$0.includes(e.flavour)){i.push({snapshot:e,parent:r,index:a});return}this.slots.beforeInsert.emit({type:"block",data:{blockJson:e,parent:r,index:a}});let l=$2.includes(e.flavour)?null:await t.snapshotToModelData(e)??null;if(s.push({flavour:e.flavour,json:e,modelData:l,parent:r,index:a}),e.children){let t=0;for(let i of e.children)await o(i,e.id,t),++t}};for(let t of(await o(e),i))await o(t.snapshot,t.parent,t.index,!1);return s}_mergeProps(e,t){switch(e.flavour){case"affine:page":break;case"affine:surface":this._mergeSurfaceElements(e.props.elements,t.elements.getValue())}}_mergeSurfaceElements(e,t){let i=this.model.doc.collection.schema.flavourSchemaMap.get("affine:surface"),s=i?.transformer?.();this.model.doc.transact(()=>{let i=[];Object.entries(e).forEach(([e,o])=>{["connector","group"].includes(o.type)?i.push([e,o]):t.set(e,s.elementFromJSON(o))}),i.forEach(([e,i])=>{t.set(e,s.elementFromJSON(i))})})}async insertTemplate(e){v.gE.parse(e),(0,V.j)(e),this._template=e;let t=this._getTemplateBound();this.slots.beforeInsert.emit({type:"template",template:e,bound:t});let i=await this._jsonToModelData(e.blocks);return this._insertToDoc(i),t}walk(e){if(!this._template)throw Error("Template not loaded, please call insertTemplate first");let t=(i,s)=>{e(i,s),i.children&&i.children.forEach(e=>t(e,s))};t(this._template.blocks,this._template)}}class $3{constructor(e){this._add=(e,t)=>{this._disposables.add(this.dispatcher.add(e,t))},this._controllers={},this._disposables=new ix.K,this._dragging=!1,this._edgelessTool=this._getToolFromLocalStorage(),this._lastMousePos={x:0,y:0},this._mounted=!1,this._onContainerClick=e=>this.currentController.onContainerClick(e),this._onContainerContextMenu=e=>{this.selection.editing||e.event.preventDefault()},this._onContainerDblClick=e=>this.currentController.onContainerDblClick(e),this._onContainerDragEnd=e=>{if((!this.doc.readonly||"pan"===this.edgelessTool.type)&&(2!==e.button||"pan"===this.edgelessTool.type||"copilot"===this.edgelessTool.type))return this.currentController.onContainerDragEnd(e)},this._onContainerDragMove=e=>{if((!this.doc.readonly||"pan"===this.edgelessTool.type)&&(2!==e.button||"pan"===this.edgelessTool.type||"copilot"===this.edgelessTool.type))return this.currentController.onContainerDragMove(e)},this._onContainerDragStart=e=>{if((!this.doc.readonly||"pan"===this.edgelessTool.type)&&(2!==e.button||"pan"===this.edgelessTool.type||"copilot"===this.edgelessTool.type))return this.currentController.onContainerDragStart(e)},this._onContainerPointerDown=e=>{let t=e.raw,i=sn.vL?t.metaKey:t.ctrlKey;if(!this.selection.editing&&((0,st.q5)(t)||(0,st.f9)(t)||i)){let s=(0,st.f9)(t),o=s||i?{type:"copilot"}:{type:"pan",panning:!0},r=this._edgelessTool,a=t=>(0,st.q5)(e.raw)&&!(0,st.q5)(t)||s&&!(0,st.f9)(t)||i,n=e=>{"copilot"!==o.type&&a(e)&&(this.setEdgelessTool(r,void 0,!s&&!i),document.removeEventListener("pointerup",n,!1),document.removeEventListener("pointerover",n,!1))};this.dispatcher.disposables.addFromEvent(document,"pointerup",n),this.setEdgelessTool(o);return}if(!this.doc.readonly)return this.currentController.onContainerPointerDown(e)},this._onContainerPointerMove=e=>(this._updateLastMousePos(e),this._controllers[this.edgelessTool.type].onContainerMouseMove(e)),this._onContainerPointerOut=e=>this._controllers[this.edgelessTool.type].onContainerMouseOut(e),this._onContainerPointerUp=e=>{},this._onContainerTripleClick=e=>this.currentController.onContainerTripleClick(e),this._shiftKey=!1,this._spaceBar=!1,this.setEdgelessTool=(e,t={elements:[],editing:!1},i=!0)=>{let{type:s}=e;if(this.doc.readonly&&"pan"!==s&&"frameNavigator"!==s||this.edgelessTool===e||this.currentController instanceof IN&&this.currentController.processing)return;let o=this.edgelessTool.type;if(this._controllers[o].beforeModeSwitch(e),this._controllers[s].beforeModeSwitch(e),!(!Array.isArray(t)&&t.editing)){let e="default"===s,r="lasso"===s,a="lasso"===o,n="copilot"===s,l="copilot"===o,c="default"===o,d=Array.isArray(t)?this.selection.isEmpty(t):0===t.elements.length,h=!!this.selection.lastSurfaceSelections,u=!(this.selection.lastSurfaceSelections&&this.selection.lastSurfaceSelections[0]&&1===this.selection.lastSurfaceSelections[0].elements.length&&this._isDocOnlyNote(this.selection.lastSurfaceSelections[0].elements[0]));e&&c||r&&c||e&&a||r&&a||n&&c||n&&l?t||(t=this.selection.surfaceSelections):(e&&!a||r)&&(e&&!l||n)&&d&&h&&u&&i&&(t=this.selection.lastSurfaceSelections)}this.selection.set(t),this.edgelessTool=e,this.container.slots.edgelessToolUpdated.emit(e),this._controllers[o].afterModeSwitch(e),this._controllers[e.type].afterModeSwitch(e)},this._service=e}static create(e,t){let i=new $3(e);return t.forEach(e=>{i.register(e)}),i}_getToolFromLocalStorage(){return"pan"===localStorage.defaultTool?{type:"pan",panning:!1}:{type:"default"}}_initMouseAndWheelEvents(){this._add("dragStart",e=>{this._dragging=!0;let t=e.get("pointerState");this._onContainerDragStart(t)}),this._add("dragMove",e=>{let t=e.get("pointerState");this._onContainerDragMove(t)}),this._add("dragEnd",e=>{this._dragging=!1;let t=e.get("pointerState");this._onContainerDragEnd(t)}),this._add("click",e=>{let t=e.get("pointerState");this._onContainerClick(t)}),this._add("doubleClick",e=>{let t=e.get("pointerState");this._onContainerDblClick(t)}),this._add("tripleClick",e=>{let t=e.get("pointerState");this._onContainerTripleClick(t)}),this._add("pointerMove",e=>{let t=e.get("pointerState");this._onContainerPointerMove(t)}),this._add("pointerDown",e=>{let t=e.get("pointerState");this._onContainerPointerDown(t)}),this._add("pointerUp",e=>{let t=e.get("pointerState");this._onContainerPointerUp(t)}),this._add("pointerOut",e=>{let t=e.get("pointerState");this._onContainerPointerOut(t)}),this._add("contextMenu",e=>{let t=e.get("defaultState");this._onContainerContextMenu(t)})}_isDocOnlyNote(e){let t=this.service.doc.getBlockById(e);return!!t&&gT(t)&&t.displayMode===st.ko.DocOnly}_updateLastMousePos(e){this._lastMousePos={x:e.x,y:e.y}}clear(){}dispose(){this._disposables.dispose()}getHoverState(){if(!this.currentController.enableHover)return null;let{x:e,y:t}=this._lastMousePos,[i,s]=this.service.viewport.toModelCoord(e,t),o=this.service.pickElement(i,s);return!o||this.selection?.editing?null:{rect:this.service.viewport.toViewBound(gI([o])),content:o}}mount(e){this._container=e,this._mounted=!0,Object.values(this._controllers).forEach(t=>{t.mount(e)}),this._initMouseAndWheelEvents()}register(e){let t=new e(this.service);this._controllers[t.tool.type]=t,this._mounted&&t.mount(this.container)}switchToDefaultMode(e){this.setEdgelessTool({type:"default"},e)}get container(){return this._container}get controllers(){return this._controllers}get currentController(){return this._controllers[this.edgelessTool.type]}get dispatcher(){return this.container.dispatcher}get doc(){return this.service.doc}get dragging(){return this._dragging}get draggingArea(){if(!this.currentController.draggingArea)return null;let{start:e,end:t}=this.currentController.draggingArea,i=Math.min(e.x,t.x),s=Math.min(e.y,t.y);return new DOMRect(i,s,Math.max(e.x,t.x)-i,Math.max(e.y,t.y)-s)}get edgelessTool(){return this._edgelessTool}set edgelessTool(e){this._edgelessTool=e,this._controllers[this._edgelessTool.type].tool=this._edgelessTool}get lastMousePos(){return this._lastMousePos}get selection(){return this.service.selection}get service(){return this._service}set shiftKey(e){this._shiftKey=e,this.currentController.onPressShiftKey(e)}get shiftKey(){return this._shiftKey}set spaceBar(e){this._spaceBar=e,this.currentController.onPressSpaceBar(e)}get spaceBar(){return this._spaceBar}}class $4 extends _.h{constructor(e){super(),this._rootService=e,this._alignableBounds=[],this._distributedAlignLines=[],this._intraGraphicAlignLines=[],this.cleanupAlignables=()=>{this._alignableBounds=[],this._intraGraphicAlignLines=[],this._distributedAlignLines=[],this._surface.renderer?.removeOverlay(this)}}_alignDistributeHorizontally(e,t,i,s){let o=[];this._alignableBounds.forEach(e=>{e.isHorizontalCross(t)&&o.push(e)});let r=1/0,a=1/0;for(let n=0;n<o.length;n++)for(let l=n+1;l<o.length;l++){let c=o[n],d=o[l];if(!c.isHorizontalCross(d)||c.isIntersectWithBound(d))continue;if(d.maxX<c.minX){let e=d;d=c,c=e}let h=0,u=()=>{if((r=Math.abs(t.center[0]-h))<=i&&r<a){a=r,e.dx=h-t.center[0];let i=[c.minY,c.maxY,d.minY,d.maxY].sort((e,t)=>e-t),o=(i[1]+i[2])/2,n=2/s.zoom,l=[h-t.w/2-n,h+t.w/2+n,d.minX,d.maxX,c.minX,c.maxX].sort((e,t)=>e-t);this._distributedAlignLines[0]=[new g.b(l[1],o),new g.b(l[2],o)],this._distributedAlignLines[1]=[new g.b(l[3],o),new g.b(l[4],o)]}};c.horizontalDistance(d)>t.w&&(h=(c.maxX+d.minX)/2,u()),h=c.minX-(d.minX-c.maxX)-t.w/2,u(),h=d.minX-c.maxX+d.maxX+t.w/2,u()}}_alignDistributeVertically(e,t,i,s){let o=[];this._alignableBounds.forEach(e=>{e.isVerticalCross(t)&&o.push(e)});let r=1/0,a=1/0;for(let n=0;n<o.length;n++)for(let l=n+1;l<o.length;l++){let c=o[n],d=o[l];if(!c.isVerticalCross(d)||c.isIntersectWithBound(d))continue;if(d.maxY<c.minX){let e=c;c=d,d=e}let h=0,u=()=>{if((r=Math.abs(t.center[1]-h))<=i&&r<a){a=r,e.dy=h-t.center[1];let i=[c.minX,c.maxX,d.minX,d.maxX].sort((e,t)=>e-t),o=(i[1]+i[2])/2,n=2/s.zoom,l=[h-t.h/2-n,h+t.h/2+n,d.minY,d.maxY,c.minY,c.maxY].sort((e,t)=>e-t);this._distributedAlignLines[3]=[new g.b(o,l[1]),new g.b(o,l[2])],this._distributedAlignLines[4]=[new g.b(o,l[3]),new g.b(o,l[4])]}};c.verticalDistance(d)>t.h&&(h=(c.maxY+d.minY)/2,u()),h=c.minY-(d.minY-c.maxY)-t.h/2,u(),h=d.minY-c.maxY+d.maxY+t.h/2,u()}}_calculateClosestDistances(e,t){let i=t.center[0]-e.center[0],s=t.center[1]-e.center[1],o=t.minX-e.center[0],r=t.maxX-e.center[0],a=t.minY-e.center[1],n=t.maxY-e.center[1],l=t.minX-e.minX,c=t.maxX-e.minX,d=t.minX-e.maxX,h=t.maxX-e.maxX,u=t.minY-e.minY,p=t.maxY-e.minY,f=t.minY-e.maxY,g=t.maxY-e.maxY,m=[i,o,r,l,c,d,h],v=[s,a,n,u,p,f,g],y=m.map(Math.abs),b=v.map(Math.abs),w=Math.min(...y),x=Math.min(...b),_=y.indexOf(w),C=b.indexOf(x);return{absXDistance:w,absYDistance:x,xDistance:m[_],yDistance:v[C],indexX:_,indexY:C}}_draw(){this._surface.refresh()}_getBoundsWithRotationByAlignable(e){let t=g$(e)?0:e.rotate,[i,s,o,r]=(0,f.W)(e.xywh);return m.z.from((0,iH.e0)({x:i,y:s,w:o,h:r,rotate:t}))}get _surface(){let e=this._rootService.doc.getBlockByFlavour("affine:surface")[0];return this._rootService.std.view.getBlock(e.id)}_updateXAlignPoint(e,t,i,s){let o=s.indexX;e.dx=s.xDistance;let r=[i.center[0],i.minX,i.maxX,t.minX+e.dx,t.minX+e.dx,t.maxX+e.dx,t.maxX+e.dx][o];this._intraGraphicAlignLines[0]=[new g.b(r,t.center[1]),new g.b(r,i.center[1])]}_updateYAlignPoint(e,t,i,s){let o=s.indexY;e.dy=s.yDistance;let r=[i.center[1],i.minY,i.maxY,t.minY+e.dy,t.minY+e.dy,t.maxY+e.dy,t.maxY+e.dy][o];this._intraGraphicAlignLines[1]=[new g.b(t.center[0],r),new g.b(i.center[0],r)]}align(e){let t={dx:0,dy:0},{viewport:i}=this._rootService;for(let i of(this._intraGraphicAlignLines=[],this._distributedAlignLines=[],this._alignableBounds)){let s=this._calculateClosestDistances(e,i);s.absXDistance<5&&this._updateXAlignPoint(t,e,i,s),s.absYDistance<5&&this._updateYAlignPoint(t,e,i,s)}return 0===t.dx&&this._alignDistributeHorizontally(t,e,5,i),0===t.dy&&this._alignDistributeVertically(t,e,5,i),this._draw(),t}render(e){if(0===this._intraGraphicAlignLines.length&&0===this._distributedAlignLines.length)return;let{viewport:t}=this._rootService,i=1/t.zoom,s=5/t.zoom;e.strokeStyle="#1672F3",e.lineWidth=i,e.beginPath(),this._intraGraphicAlignLines.forEach(t=>{let i="";if(t[0].x===t[1].x){let e=t[0].x,o=Math.min(t[0].y,t[1].y),r=Math.max(t[0].y,t[1].y);i=`M${e},${o-s}L${e},${r}`}else{let e=t[0].y,o=Math.min(t[0].x,t[1].x),r=Math.max(t[0].x,t[1].x);i=`M${o-s},${e}L${r+s},${e}`}e.stroke(new Path2D(i))}),this._distributedAlignLines.forEach(i=>{let o=10/t.zoom,r="";if(i[0].x===i[1].x){let e=i[0].x,t=Math.min(i[0].y,i[1].y)+s,a=Math.max(i[0].y,i[1].y)-s;r=`M${e},${t}L${e},${a}
        M${e-o},${t}L${e+o},${t}
        M${e-o},${a}L${e+o},${a} `}else{let e=i[0].y,t=Math.min(i[0].x,i[1].x)+s,a=Math.max(i[0].x,i[1].x)-s;r=`M${t},${e}L${a},${e}
        M${t},${e-o}L${t},${e+o}
        M${a},${e-o}L${a},${e+o}`}e.stroke(new Path2D(r))})}setupAlignables(e){if(0===e.length)return new m.z;let t=e.filter(gq).reduce((e,t)=>{let i=this._rootService.getConnectors(t);return i.length>0&&(e=e.concat(i)),e},[]),{viewport:i}=this._rootService,s=m.z.from(i.viewportBounds);this._surface.renderer.addOverlay(this);let o=this._rootService.elements,r=[...e,...t];return this._alignableBounds=[],[...this._rootService.blocks,...o].forEach(e=>{let t=this._getBoundsWithRotationByAlignable(e);s.isOverlapWithBound(t)&&!r.includes(e)&&this._alignableBounds.push(t)}),e.reduce((e,t)=>{let i=this._getBoundsWithRotationByAlignable(t);return e.unite(i)},m.z.deserialize(e[0].xywh))}}class $6 extends xX{constructor(e){super(e),this.TemplateJob=$7,this.slots={edgelessToolUpdated:new v.DX,pressShiftKeyUpdated:new v.DX,cursorUpdated:new v.DX,copyAsPng:new v.DX,readonlyUpdated:new v.DX,draggingAreaUpdated:new v.DX,navigatorSettingUpdated:new v.DX,navigatorFrameChanged:new v.DX,fullScreenToggled:new v.DX,elementResizeStart:new v.DX,elementResizeEnd:new v.DX,toggleNoteSlicer:new v.DX,docLinkClicked:new v.DX,tagClicked:new v.DX,toolbarLocked:new v.DX};let t=m2(this.doc);if(!t)throw new u.Ss(p.O.NoSurfaceModelError,"This doc is missing surface block in edgeless.");this._surface=t,this._layer=ij.create(this.doc,this._surface),this._frame=new xf(this),this._snap=new $4(this),this._viewport=new iw,this._selection=new $1(this),this._tool=$3.create(this,[])}_initReadonlyListener(){let e=this.doc,t=e.readonly;this.disposables.add(e.awarenessStore.slots.update.on(()=>{t!==e.readonly&&(t=e.readonly,this.slots.readonlyUpdated.emit(t))}))}_initSlotEffects(){let{disposables:e,slots:t}=this;e.add(t.edgelessToolUpdated.on(e=>{t.cursorUpdated.emit(function(e){switch(e.type){case"default":default:return"default";case"pan":return e.panning?"grabbing":"grab";case"brush":case"eraser":case"shape":case"connector":case"frame":case"lasso":return"crosshair";case"text":return"text"}}(e))})),e.add(t.pressShiftKeyUpdated.on(e=>{this.tool.shiftKey=e}))}addBlock(e,t,i,s){return t.index=this.generateIndex(e),this.editPropsStore.applyLastProps(e,t),this.doc.addBlock(e,t,i,s)}addElement(e,t){return void 0===t.index&&(t.index=this.generateIndex(e)),t.type=e,this.editPropsStore.applyLastProps(e,t),this._surface.addElement(t)}createGroup(e){let t=this.elements.filter(e=>"group"===e.type);return this.addElement("group",{children:e.reduce((e,t)=>(e["string"==typeof t?t:t.id]=!0,e),{}),title:`Group ${t.length+1}`})}createGroupFromSelected(){let{selection:e}=this;if(0===e.selectedElements.length||!e.selectedElements.every(t=>t.group===e.firstElement.group&&!(t.group instanceof I.AR)))return;let t=e.firstElement.group;null!==t&&e.selectedElements.forEach(e=>{t.removeChild(e.id)});let i=this.createGroup(e.selectedElements);return null!==t&&t.addChild(i),e.set({editing:!1,elements:[i]}),i}createTemplateJob(e){let t=[];if("template"===e){let e=(0,iY.ql)(this.blocks.map(e=>m.z.deserialize(e.xywh)).concat(this.elements));e&&(e.x+=e.w+20/this.viewport.zoom,t.push(If(e)));let i=this.layer.createIndexGenerator(!0);t.push(Im(e=>i(e)))}return"sticker"===e&&t.push(Ig(this.viewport.center,()=>this.layer.generateIndex("affine:image"))),t.push(Ip),$7.create({model:this.surface,type:e,middlewares:t})}generateIndex(e){return this._layer.generateIndex(e)}getConnectors(e){let t="string"==typeof e?e:e.id;return this.surface.getConnectors(t)}getElementById(e){return this._surface.getElementById(e)??this.doc.getBlockById(e)}getElementsByType(e){return this.surface.getElementsByType(e)}getFitToScreenData(e=[0,0,0,0],t){let i=[];if(t&&t.length)i=t;else{this.blocks.forEach(e=>{i.push(m.z.deserialize(e.xywh))});let e=(0,iY.ql)(this.elements);e&&i.push(e)}let[s,o,r,a]=e,{viewport:n}=this,{centerX:l,centerY:c,zoom:d}=n;if(i.length){let{width:e,height:t}=n,h=(0,iY.ql)(i);h?(d=Math.min((e-100-(o+a))/h.w,(t-100-(s+r))/h.h),d=(0,iy.qE)(d,.1,1),l=h.x+(h.w+o/d)/2-a/d/2,c=h.y+(h.h+r/d)/2-s/d/2):d=1}else d=1;return{zoom:d,centerX:l,centerY:c}}mounted(){super.mounted(),this._initSlotEffects(),this._initReadonlyListener()}pickElement(e,t,i={all:!1,expand:10}){i.expand??=10,i.zoom=this._viewport.zoom;let s={x:e-i.expand/2,y:t-i.expand/2,w:i.expand,h:i.expand},o=this._layer.frames.filter(s=>s.includesPoint(e,t,i)||s.externalBound?.isPointInBound([e,t]));if(0!==o.length&&!i.all)return(0,ik.HV)(o)??null;{let r=this._layer.canvasGrid.search(s).filter(s=>s.includesPoint(e,t,i,this.host)||s.externalBound?.isPointInBound([e,t])).concat(this._layer.blocksGrid.search(s).filter(s=>s.includesPoint(e,t,i,this.host)||s.externalBound?.isPointInBound([e,t])));return r.sort(this._layer.compare),r=r.concat(o),i.all?r:(0,ik.HV)(r)??null}}pickElementInGroup(e,t,i){let s=this._selection,o=this.pickElement(e,t,{...i,all:!0}),r=(0,ik.HV)(o)??null,{activeGroup:a}=s,n=r;if(a&&r&&a.hasDescendant(r.id)){let e=o.length-1;for(;r===a||r instanceof k.$b&&r.hasDescendant(a);)r=o[--e]}else if(r){let e=o.length-1;for(;null!==r.group;){if(--e<0){r=null;break}r=o[e]}}return r??n}pickElementsByBound(e,t="all"){e=new m.z(e.x,e.y,e.w,e.h);let i=()=>this._layer.canvasGrid.search(e).filter(t=>t.intersectsBound(e)),s=()=>this._layer.blocksGrid.search(e).filter(t=>t.intersectsBound(e)),o=()=>this._layer.framesGrid.search(e).filter(t=>t.intersectsBound(e));switch(t){case"canvas":return i();case"blocks":return s().concat(o());case"frame":return o();case"all":{let e=i().concat(s());return e.sort(this._layer.compare),e.concat(o())}}}registerTool(e){return this.tool.register(e)}removeElement(e){e="string"==typeof e?e:e.id;let t=this.getElementById(e);if(t instanceof iE.y){this.doc.deleteBlock(t);return}if(this._surface.hasElementById(e)){this._surface.removeElement(e);return}}reorderElement(e,t){let i=this._layer.getReorderedIndex(e,t);e instanceof iE.y?this.doc.transact(()=>{e.index=i}):e.index=i}setZoomByAction(e){if(!this.locked)switch(e){case"fit":this.zoomToFit();break;case"reset":this.viewport.smoothZoom(1);break;case"in":case"out":this.setZoomByStep(.25*("in"===e?1:-1))}}setZoomByStep(e){this.viewport.smoothZoom((0,iy.qE)(this.zoom+e,.1,6))}ungroup(e){let{selection:t}=this,i=e.childElements,s=e.group;e instanceof I.AR||(null!==s&&s.removeChild(e.id),i.forEach(t=>{e.removeChild(t.id)}),i.forEach(e=>{let t=e.type||e.flavour;e.index=this.generateIndex(t)}),null!==s&&i.forEach(e=>{s.addChild(e.id)}),t.set({editing:!1,elements:i.map(e=>e.id)}))}unmounted(){super.unmounted(),this._layer?.dispose(),this._selection?.dispose(),this.viewport?.dispose(),this.tool?.dispose(),this._frame?.dispose(),this.selectionManager.set([]),this.disposables.dispose()}updateElement(e,t){let i=this._surface.getElementById(e);if(i){this.editPropsStore.recordLastProps(i.type,t),this._surface.updateElement(e,t);return}let s=this.doc.getBlockById(e);s&&(this.editPropsStore.recordLastProps(s.flavour,t),this.doc.updateBlock(s,t))}zoomToFit(){let{centerX:e,centerY:t,zoom:i}=this.getFitToScreenData();this.viewport.setViewport(i,[e,t],!0)}get blocks(){return this.frames.concat(this._layer.blocks)}get edgelessElements(){return[...this._layer.canvasElements,...this._layer.blocks,...this._layer.frames].sort(iA)}get elements(){return this._layer.canvasElements}get frame(){return this._frame}get frames(){return this._layer.frames}get host(){return this.std.host}get layer(){return this._layer}get locked(){return this.viewport.locked}set locked(e){this.viewport.locked=e}get selection(){return this._selection}get snap(){return this._snap}get surface(){return this._surface}get tool(){return this._tool}get viewport(){return this._viewport}get zoom(){return this.viewport.zoom}}let $8={schema:id.x,service:$6,view:{component:(0,ic.eu)`affine-edgeless-root`,widgets:{[SG]:(0,ic.eu)`${(0,ic.Bk)(SG)}`,[SA]:(0,ic.eu)`${(0,ic.Bk)(SA)}`,[Bz]:(0,ic.eu)`${(0,ic.Bk)(Bz)}`,[$U]:(0,ic.eu)`${(0,ic.Bk)($U)}`,[Sz]:(0,ic.eu)`${(0,ic.Bk)(Sz)}`,[vN]:(0,ic.eu)`${(0,ic.Bk)(vN)}`,[wO]:(0,ic.eu)`${(0,ic.Bk)(wO)}`,[xd]:(0,ic.eu)`${(0,ic.Bk)(xd)}`,[mJ]:(0,ic.eu)`${(0,ic.Bk)(mJ)}`,[vJ]:(0,ic.eu)`${(0,ic.Bk)(vJ)}`,[v4]:(0,ic.eu)`${(0,ic.Bk)(v4)}`,[S_]:(0,ic.eu)`${(0,ic.Bk)(S_)}`,[x0]:(0,ic.eu)`${(0,ic.Bk)(x0)}`,[vK]:(0,ic.eu)`${(0,ic.Bk)(vK)}`}}},$9={schema:id.x,service:$6,view:{component:(0,ic.eu)`affine-edgeless-root-preview`},setup(e){e.viewConnected.on(({service:e})=>{e.locked=!0})}};var Te=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Tt=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("affine-surface-void")],s=[],o=P.p_;(class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;Te(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),Tt(t,s)}render(){return H.s6}})})();let Ti=(e,t)=>{let{oldId:i,newId:s}=e;(0,V.Z1)(i,"The old block ID is required!"),(0,V.Z1)(s,"The new block ID is required!");let o=e.std.spec.getService("affine:surface");(0,V.Z1)(o);let r=o.surface;for(let{id:e,source:t,target:o}of r.getConnectors(i)){if(t.id===i){r.updateElement(e,{source:{...t,id:s}});continue}o.id===i&&r.updateElement(e,{target:{...o,id:s}})}t()};class Ts extends P.ps{mounted(){if(super.mounted(),this.std.command.add("reassociateConnectors",Ti),this.surface=this.doc.getBlockByFlavour("affine:surface")[0],this.surface)this.layer=ij.create(this.doc,this.surface);else{let e=this.doc.slots.blockUpdated.on(t=>{if("affine:surface"===t.flavour){e.dispose();let i=this.doc.getBlockById(t.id);i&&(this.surface=i,this.layer=ij.create(this.doc,i))}})}}unmounted(){this.layer?.dispose()}}let To={schema:ih.Y,view:{component:(0,ic.eu)`affine-surface-void`},service:Ts},Tr={schema:ih.Y,view:{component:(0,ic.eu)`affine-surface`},service:Ts};var Ta=i(14512);class Tn{constructor(e,t,i,s={enableStackingCanvas:!1}){this.id=e,this.doc=t,this.std=i,this._disposables=new ix.K,this._surfaceModel=null,this.slots={surfaceRendererInit:new i_.D,surfaceRendererRefresh:new i_.D,surfaceModelChanged:new i_.D,mounted:new i_.D,unmounted:new i_.D};let o=new iw,r=new _.A({viewport:o,layerManager:this.surfaceService.layer,enableStackingCanvas:s.enableStackingCanvas,provider:{generateColorProperty:(e,t)=>im.Q.generateColorProperty(e,t),getColorScheme:()=>im.Q.mode,getColorValue:(e,t,i)=>im.Q.getColorValue(e,t,i),getPropertyValue:e=>im.Q.getPropertyValue(e)}});this._surfaceRenderer=r,this._viewport=o}_initSurfaceModel(){let e=()=>{let e=m2(this.doc);this._surfaceModel=e,e&&this.slots.surfaceModelChanged.emit(e)};e(),this._surfaceModel||this._disposables.add(this.doc.slots.blockUpdated.on(({type:t})=>{"add"===t&&!this._surfaceModel&&m2(this.doc)&&e()}))}_initSurfaceRenderer(){this.slots.surfaceRendererInit.emit()}getModel(e){return this.doc.getBlockById(e)??this._surfaceModel?.getElementById(e)??null}mount(){this._disposables.disposed&&(this._disposables=new ix.K),this._initSurfaceModel(),this._initSurfaceRenderer(),this.slots.mounted.emit()}unmount(){this._disposables.dispose(),this.slots.unmounted.emit()}get surfaceModel(){return this._surfaceModel}get surfaceRenderer(){return this._surfaceRenderer}get surfaceService(){return this.std.spec.getService("affine:surface")}get viewport(){return this._viewport}}class Tl extends P.ps{constructor(){super(...arguments),this._rendererMap=new Map}getRenderer(e,t=this.doc,i=!1){if(this._rendererMap.has(e))return this._rendererMap.get(e);let s=new Tn(e,t,this.std,{enableStackingCanvas:i});return this._rendererMap.set(e,s),s}removeRenderer(e){let t=this._rendererMap.get(e);t&&(t.unmount(),this._rendererMap.delete(e))}}let Tc={schema:Ta.H,service:Tl,view:{component:(0,ic.eu)`affine-surface-ref`,widgets:{surfaceToolbar:(0,ic.eu)`affine-surface-ref-toolbar`}}},Td={schema:Ta.H,service:Tl,view:{component:(0,ic.eu)`affine-edgeless-surface-ref`}};class Th extends P.ps{constructor(){super(...arguments),this._dragHandleOption={flavour:_N.OH.model.flavour,edgeless:!0,onDragStart:({state:e,startDragging:t,anchorBlockPath:i,editorHost:s})=>{if(!i)return!1;let o=s.std.view.getBlock(i);if(!o||!(0,iS.o)(o.model,[_N.OH.model.flavour]))return!1;let r=vI(e.raw.target),a=!!r?.closest(vN),n=o.contains(r),l=o.isInSurface;if(!l&&(a||n))return s.selection.setGroup("note",[s.selection.create("block",{blockId:o.blockId})]),t([o],e),!0;if(l&&a){let i=s.std.spec.getService("affine:page"),r=i?.viewport.zoom??1,a=document.createElement("div"),n=m.z.deserialize(o.model.xywh),l=new g.b(n.x*r,n.y*r);return(0,H.XX)(o.host.renderModel(o.model),a),t([o],e,a,l),!0}return!1},onDragEnd:e=>{let{state:t,draggingElements:i,editorHost:s}=e;if(1!==i.length||!(0,iS.o)(i[0].model,[_N.OH.model.flavour]))return!1;let o=i[0],r=o.isInSurface,a=vI(t.raw.target),n=a?.classList.contains("edgeless-container");if(r){let t=o.model.style;return vR({blockComponent:o,style:"cubeThick"===t?"horizontalThin":t,...e})}if(n){let t=o.model.style??"cubeThick";return o.model.embed&&(t="cubeThick",s.doc.updateBlock(o.model,{style:t,embed:!1})),vV({blockComponent:o,cssSelector:".affine-attachment-container",width:fA.Cd[t],height:fA.Hn[t],...e})}return!1}},this._fileDropOptions={flavour:this.flavour,onDrop:async({files:e,targetModel:t,place:i,point:s})=>{if(!e.length)return!1;let o=e.filter(e=>!e.type.startsWith("image/"));if(t&&!(0,iS.o)(t,["affine:surface"]))await _0(this.host,o,this.maxFileSize,t,i);else if((0,sc.Ar)(this.host)){let e=this.rootComponent;if(!(e instanceof I8))return!1;s=e.service.viewport.toViewCoordFromClientCoord(s),await e.addAttachments(o,s),e.service.telemetryService?.track("CanvasElementAdded",{control:"canvas:drop",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:"attachment"})}return this.slots.onFilesDropped.emit(o),!0}},this.maxFileSize=1e7,this.slots={onFilesDropped:new v.DX}}mounted(){super.mounted(),this.fileDropManager=new lg(this,this._fileDropOptions),this.disposables.add(vq.registerOption(this._dragHandleOption))}get rootComponent(){let e=this.doc.root;return e?this.std.view.viewFromPath("block",[e.id]):null}}let Tu={schema:_N.OH,view:{component:(0,ic.eu)`affine-attachment`},service:Th};class Tp extends P.ps{constructor(){super(...arguments),this._dragHandleOption={flavour:wI.DD.model.flavour,edgeless:!0,onDragStart:({state:e,startDragging:t,anchorBlockPath:i,editorHost:s})=>{if(!i)return!1;let o=s.std.view.getBlock(i);if(!o||!(0,iS.o)(o.model,[wI.DD.model.flavour]))return!1;let r=vI(e.raw.target),a=!!r?.closest(vN),n=o.contains(r),l=o.isInSurface;if(!l&&(a||n))return s.selection.setGroup("note",[s.selection.create("block",{blockId:o.blockId})]),t([o],e),!0;if(l&&a){let i=s.std.spec.getService("affine:page"),r=i?.viewport.zoom??1,a=document.createElement("div"),n=m.z.deserialize(o.model.xywh),l=new g.b(n.x*r,n.y*r);return(0,H.XX)(o.host.renderModel(o.model),a),t([o],e,a,l),!0}return!1},onDragEnd:e=>{let{state:t,draggingElements:i}=e;if(1!==i.length||!(0,iS.o)(i[0].model,[wI.DD.model.flavour]))return!1;let s=i[0],o=s.isInSurface,r=vI(t.raw.target),a=r?.classList.contains("edgeless-container");if(o){let t=s.model.style;return vR({blockComponent:s,style:"vertical"===t||"cube"===t?"horizontal":t,...e})}if(a){let t=s.model.style;return vV({blockComponent:s,cssSelector:"bookmark-card",width:fA.Cd[t],height:fA.Hn[t],...e})}return!1}},this.queryUrlData=(e,t)=>Tp.linkPreviewer.query(e,t)}static{this.linkPreviewer=new bw.y}static{this.setLinkPreviewEndpoint=Tp.linkPreviewer.setEndpoint}mounted(){super.mounted(),this.disposables.add(vq.registerOption(this._dragHandleOption))}}let Tf={schema:wI.DD,view:{component:(0,ic.eu)`affine-bookmark`},service:Tp},Tg={schema:i(65828).c,view:{component:(0,ic.eu)`affine-code`,widgets:{codeToolbar:(0,ic.eu)`affine-code-toolbar-widget`,codeLangList:(0,ic.eu)`affine-code-language-list-widget`}}};var Tm=i(87196);class Tv{constructor(){this._markdownMatches=[],this._specs=[],this.embedChecker=e=>{for(let t of this._specs)if(t.embed&&t.match(e))return!0;return!1},this.getRenderer=()=>{let e=(0,si.zA)();return(t,i)=>{for(let e of this._specs.toReversed())if(e.match(t))return e.renderer(t,i);return e(t,i)}},this.getSchema=()=>{let e=si.oe;return this._specs.reduce((e,t)=>{let i=lY.z.object({[t.name]:t.schema});return e.merge(i)},e)},this.markdownShortcutHandler=(e,t)=>{let{inlineEditor:i,prefixText:s,inlineRange:o}=e;for(let e of this._markdownMatches)if(s.match(e.pattern))return e.action({inlineEditor:i,prefixText:s,inlineRange:o,pattern:e.pattern,undoManager:t});return si.gT}}registerMarkdownMatches(e){this._markdownMatches=e}registerSpecs(e){Array.isArray(e)&&(this._specs=e)}get markdownMatches(){return this._markdownMatches}get specs(){return this._specs}}var Ty=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Tb=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};function Tw(e,t){let i="";e.underline&&(i+="underline"),e.strike&&(i+=" line-through");let s={};return e.code&&(s={"font-family":"var(--affine-font-code-family)",background:"var(--affine-background-code-block)",border:"1px solid var(--affine-border-color)","border-radius":"4px",color:"var(--affine-text-primary-color)","font-variant-ligatures":"none","line-height":"auto"}),(0,Z.W)({"font-weight":e.bold?"bolder":"inherit","font-style":e.italic?"italic":"normal","background-color":e.background?e.background:void 0,color:e.color?e.color:void 0,"text-decoration":i.length>0?i:"none",...s,...t})}(()=>{let e,t,i=[(0,L.EM)("affine-text")],s=[],o=P.ao,r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;Ty(this,null,[(0,L.MZ)({type:Object})],{kind:"accessor",name:"delta",static:!1,private:!1,access:{has:e=>"delta"in e,get:e=>e.delta,set:(e,t)=>{e.delta=t}},metadata:n},r,a),Ty(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),Tb(t,s)}render(){let e=this.delta.attributes?Tw(this.delta.attributes):(0,Z.W)({});return this.delta.attributes?.code?(0,H.qy)`<code style=${e}
        ><v-text .str=${this.delta.insert}></v-text
      ></code>`:(0,H.qy)`<span style=${e}
      ><v-text .str=${this.delta.insert}></v-text
    ></span>`}#W=Tb(this,r,{insert:si.pe});get delta(){return this.#W}set delta(e){this.#W=e}constructor(){super(...arguments),Tb(this,a)}})})();let Tx=(0,H.AH)`
  .affine-link-edit-popover {
    ${yo};
    display: grid;
    grid-template-columns: auto auto;
    grid-template-rows: repeat(2, 1fr);
    grid-template-areas:
      'text-area .'
      'link-area btn';
    justify-items: center;
    align-items: center;
    width: 320px;
    gap: 8px 12px;
    padding: 12px;
    box-sizing: content-box;
  }

  .affine-link-edit-popover label {
    box-sizing: border-box;
    color: var(--affine-icon-color);
    ${yi};
    font-weight: 400;
  }

  .affine-link-edit-popover input {
    color: inherit;
    padding: 0;
    border: none;
    background: transparent;
    color: var(--affine-text-primary-color);
    ${yi};
  }
  .affine-link-edit-popover input::placeholder {
    color: var(--affine-placeholder-color);
  }
  input:focus {
    outline: none;
  }
  .affine-link-edit-popover input:focus ~ label,
  .affine-link-edit-popover input:active ~ label {
    color: var(--affine-primary-color);
  }

  .affine-edit-area {
    width: 280px;
    padding: 4px 10px;
    display: grid;
    gap: 8px;
    grid-template-columns: 26px auto;
    grid-template-rows: repeat(1, 1fr);
    grid-template-areas: 'label input';
    user-select: none;
    box-sizing: border-box;

    border: 1px solid var(--affine-border-color);
    box-sizing: border-box;

    outline: none;
    border-radius: 4px;
    background: transparent;
  }
  .affine-edit-area:focus-within {
    border-color: var(--affine-blue-700);
    box-shadow: var(--affine-active-shadow);
  }

  .affine-edit-area.text {
    grid-area: text-area;
  }

  .affine-edit-area.link {
    grid-area: link-area;
  }

  .affine-edit-label {
    grid-area: label;
  }

  .affine-edit-input {
    grid-area: input;
  }

  .affine-confirm-button {
    grid-area: btn;
    user-select: none;
  }
`,T_=(0,H.AH)`
  :host {
    box-sizing: border-box;
  }

  .mock-selection {
    position: absolute;
    background-color: rgba(35, 131, 226, 0.28);
  }

  .affine-link-popover-container {
    z-index: var(--affine-z-index-popover);
    animation: affine-popover-fade-in 0.2s ease;
    position: absolute;
  }

  @keyframes affine-popover-fade-in {
    from {
      opacity: 0;
      transform: translateY(-3px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .affine-link-popover-overlay-mask {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: var(--affine-z-index-popover);
  }

  .affine-link-preview {
    display: flex;
    justify-content: flex-start;
    min-width: 60px;
    max-width: 140px;
    padding: var(--1, 0px);
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
    user-select: none;
    cursor: pointer;

    color: var(--affine-link-color);
    font-feature-settings:
      'clig' off,
      'liga' off;
    font-family: var(--affine-font-family);
    font-size: var(--affine-font-sm);
    font-style: normal;
    font-weight: 400;
    text-decoration: none;
    text-wrap: nowrap;
  }

  .affine-link-preview > span {
    display: inline-block;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;

    text-overflow: ellipsis;
    overflow: hidden;
    opacity: var(--add, 1);
  }

  .affine-link-popover.create {
    ${yo};
    gap: 12px;
    padding: 12px;

    color: var(--affine-text-primary-color);
  }

  .affine-link-popover-input {
    min-width: 280px;
    height: 30px;
    box-sizing: border-box;
    padding: 4px 10px;
    background: var(--affine-white-10);
    border-radius: 4px;
    border-width: 1px;
    border-style: solid;
    border-color: var(--affine-border-color);
    color: var(--affine-text-primary-color);
    ${yi};
  }
  .affine-link-popover-input::placeholder {
    color: var(--affine-placeholder-color);
  }
  .affine-link-popover-input:focus {
    border-color: var(--affine-blue-700);
    box-shadow: var(--affine-active-shadow);
  }

  ${Tx}
`;var TC=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Tk=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let TS=(()=>{let e,t,i,s,o,r,a,n,l,c,d,h=[(0,L.EM)("link-popup")],u=[],p=(0,P.Tm)(H.WF),f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[];return class extends p{static{t=this}static{let O="function"==typeof Symbol&&Symbol.metadata?Object.create(p[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.P)(".affine-confirm-button")],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.P)("#link-input")],a=[(0,L.P)(".mock-selection-container")],n=[(0,L.P)(".affine-link-popover-container")],l=[(0,L.MZ)({attribute:!1})],c=[(0,L.P)("#text-input")],d=[(0,L.MZ)()],TC(this,null,i,{kind:"accessor",name:"abortController",static:!1,private:!1,access:{has:e=>"abortController"in e,get:e=>e.abortController,set:(e,t)=>{e.abortController=t}},metadata:O},f,g),TC(this,null,s,{kind:"accessor",name:"confirmButton",static:!1,private:!1,access:{has:e=>"confirmButton"in e,get:e=>e.confirmButton,set:(e,t)=>{e.confirmButton=t}},metadata:O},m,v),TC(this,null,o,{kind:"accessor",name:"inlineEditor",static:!1,private:!1,access:{has:e=>"inlineEditor"in e,get:e=>e.inlineEditor,set:(e,t)=>{e.inlineEditor=t}},metadata:O},y,b),TC(this,null,r,{kind:"accessor",name:"linkInput",static:!1,private:!1,access:{has:e=>"linkInput"in e,get:e=>e.linkInput,set:(e,t)=>{e.linkInput=t}},metadata:O},w,x),TC(this,null,a,{kind:"accessor",name:"mockSelectionContainer",static:!1,private:!1,access:{has:e=>"mockSelectionContainer"in e,get:e=>e.mockSelectionContainer,set:(e,t)=>{e.mockSelectionContainer=t}},metadata:O},_,C),TC(this,null,n,{kind:"accessor",name:"popupContainer",static:!1,private:!1,access:{has:e=>"popupContainer"in e,get:e=>e.popupContainer,set:(e,t)=>{e.popupContainer=t}},metadata:O},k,S),TC(this,null,l,{kind:"accessor",name:"targetInlineRange",static:!1,private:!1,access:{has:e=>"targetInlineRange"in e,get:e=>e.targetInlineRange,set:(e,t)=>{e.targetInlineRange=t}},metadata:O},M,E),TC(this,null,c,{kind:"accessor",name:"textInput",static:!1,private:!1,access:{has:e=>"textInput"in e,get:e=>e.textInput,set:(e,t)=>{e.textInput=t}},metadata:O},I,B),TC(this,null,d,{kind:"accessor",name:"type",static:!1,private:!1,access:{has:e=>"type"in e,get:e=>e.type,set:(e,t)=>{e.type=t}},metadata:O},$,T),TC(null,e={value:t},h,{kind:"class",name:t.name,metadata:O},null,u),t=e.value,O&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:O})}static{this.styles=T_}get _canConvertToEmbedView(){return this._embedOptions?.viewType==="embed"}_confirmBtnTemplate(){return(0,H.qy)`
      <editor-icon-button
        class="affine-confirm-button"
        .iconSize=${"24px"}
        .disabled=${!0}
        @click=${this._onConfirm}
      >
        ${aG}
      </editor-icon-button>
    `}_convertToCardView(){if(!this.inlineEditor.isValidInlineRange(this.targetInlineRange))return;let e="affine:bookmark";this._embedOptions&&"card"===this._embedOptions.viewType&&(e=this._embedOptions.flavour);let t=this.block;if(!t)return;let i=this.currentLink,s=this.currentText,o=t.doc,r=o.getParent(t.model);(0,V.Z1)(r);let a=r.children.indexOf(t.model);o.addBlock(e,{url:i,title:s===i?"":s},r,a+1),this.inlineEditor.yTextLength===this.targetInlineRange.length?o.deleteBlock(t.model):this.inlineEditor.formatText(this.targetInlineRange,{link:null}),this.abortController.abort()}_convertToEmbedView(){if(!this._embedOptions||"embed"!==this._embedOptions.viewType)return;let{flavour:e}=this._embedOptions,t=this.currentLink,i=this.block;if(!i)return;let s=i.doc,o=s.getParent(i.model);(0,V.Z1)(o);let r=o.children.indexOf(i.model);s.addBlock(e,{url:t},o,r+1),this.inlineEditor.yTextLength===this.targetInlineRange.length?s.deleteBlock(i.model):this.inlineEditor.formatText(this.targetInlineRange,{link:null}),this.abortController.abort()}_copyUrl(){navigator.clipboard.writeText(this.currentLink).catch(console.error),this.host&&(l8(this.host,"Copied link to clipboard"),this.abortController.abort())}get _isBookmarkAllowed(){let e=this.block;if(!e)return!1;let t=e.doc.schema,i=e.doc.getParent(e.model);if(!i)return!1;let s=t.flavourSchemaMap.get("affine:bookmark");if(!s)return!1;let o=t.flavourSchemaMap.get(i.flavour);if(!o)return!1;try{t.validateSchema(s,o)}catch{return!1}return!0}_moreActions(){return wE([[{name:"Open",icon:aY,handler:this._openLink},{name:"Copy",icon:aL,handler:this._copyUrl},{name:"Remove link",icon:aJ,handler:this._removeLink}],[{type:"delete",name:"Delete",icon:aj,handler:this._delete}]])}_onConfirm(){if(!this.inlineEditor.isValidInlineRange(this.targetInlineRange)||!this.linkInput)return;let e=this.linkInput.value;if(!e||!nR(e))return;let t=nV(e);if("create"===this.type){this.inlineEditor.formatText(this.targetInlineRange,{link:t,reference:null}),this.inlineEditor.setInlineRange(this.targetInlineRange);let e=this.host?.selection.find("text");if(!e)return;this.std?.range.syncTextSelectionToRange(e)}else if("edit"===this.type){let e=this.textInput?.value??t;this.inlineEditor.insertText(this.targetInlineRange,e,{link:t,reference:null}),this.inlineEditor.setInlineRange({index:this.targetInlineRange.index,length:e.length});let i=this.host?.selection.find("text");if(!i)return;this.std?.range.syncTextSelectionToRange(i)}this.abortController.abort()}_onKeydown(e){e.stopPropagation(),"Enter"!==e.key||e.isComposing||(e.preventDefault(),this._onConfirm())}get _rootService(){return this.std?.spec.getService("affine:page")}_updateConfirmBtn(){(0,V.Z1)(this.confirmButton);let e=this.linkInput?.value.trim();this.confirmButton.disabled=!(e&&nR(e)),this.confirmButton.requestUpdate()}_viewMenuButton(){if(!this._isBookmarkAllowed)return H.s6;let e=[];return e.push({type:"inline",name:"Inline view"}),e.push({type:"card",name:"Card view",handler:()=>this._convertToCardView()}),this._canConvertToEmbedView&&e.push({type:"embed",name:"Embed view",handler:()=>this._convertToEmbedView()}),(0,H.qy)`
      <editor-menu-button
        .contentPadding=${"8px"}
        .button=${(0,H.qy)`
          <editor-icon-button
            aria-label="Switch view"
            .justify=${"space-between"}
            .labelHeight=${"20px"}
            .iconContainerWidth=${"110px"}
          >
            <div class="label">Inline view</div>
            ${tO}
          </editor-icon-button>
        `}
      >
        <div data-size="small" data-orientation="vertical">
          ${(0,D.u)(e,e=>e.type,({type:e,name:t,handler:i})=>(0,H.qy)`
              <editor-menu-action
                data-testid=${`link-to-${e}`}
                ?data-selected=${"inline"===e}
                @click=${i}
              >
                ${t}
              </editor-menu-action>
            `)}
        </div>
      </editor-menu-button>
    `}connectedCallback(){super.connectedCallback(),0!==this.targetInlineRange.length&&("edit"===this.type||"create"===this.type)&&(this._bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden",this.disposables.add({dispose:()=>{document.body.style.overflow=this._bodyOverflowStyle}}))}firstUpdated(){this.linkInput&&(this._disposables.addFromEvent(this.linkInput,"copy",e=>{e.stopPropagation()}),this._disposables.addFromEvent(this.linkInput,"cut",e=>{e.stopPropagation()}),this._disposables.addFromEvent(this.linkInput,"paste",e=>{e.stopPropagation()}))}render(){return(0,H.qy)`
      <div class="overlay-root">
        ${"view"===this.type?H.s6:(0,H.qy)`
              <div
                class="affine-link-popover-overlay-mask"
                @click=${()=>{this.abortController.abort(),this.host?.selection.clear()}}
              ></div>
            `}
        <div class="affine-link-popover-container" @keydown=${this._onKeydown}>
          ${(0,we.S)(this.type,[["create",this._createTemplate],["edit",this._editTemplate],["view",this._viewTemplate]])}
        </div>
        <div class="mock-selection-container"></div>
      </div>
    `}updated(){(0,V.Z1)(this.popupContainer);let e=this.inlineEditor.toDomRange(this.targetInlineRange);(0,V.Z1)(e),"view"!==this.type&&Object.values(e.getClientRects()).forEach(e=>{let t=document.createElement("div");t.classList.add("mock-selection"),t.style.left=`${e.left}px`,t.style.top=`${e.top}px`,t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,(0,V.Z1)(this.mockSelectionContainer),this.mockSelectionContainer.append(t)}),(0,oG.rD)({getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects()},this.popupContainer,{middleware:[(0,oG.cY)(10),(0,oG.mG)(),(0,oG.BN)({padding:6})]}).then(({x:e,y:t})=>{let i=this.popupContainer;i&&(i.style.left=`${e}px`,i.style.top=`${t}px`)}).catch(console.error)}get block(){return this.inlineEditor.rootElement.closest(`[${fA.u_}]`)||null}get currentLink(){let e=this.inlineEditor.getFormat(this.targetInlineRange).link;return(0,V.Z1)(e),e}get currentText(){return this.inlineEditor.yTextString.slice(this.targetInlineRange.index,this.targetInlineRange.index+this.targetInlineRange.length)}get host(){return this.block?.host}get std(){return this.block?.std}#eS;get abortController(){return this.#eS}set abortController(e){this.#eS=e}#lu;get confirmButton(){return this.#lu}set confirmButton(e){this.#lu=e}#lp;get inlineEditor(){return this.#lp}set inlineEditor(e){this.#lp=e}#lf;get linkInput(){return this.#lf}set linkInput(e){this.#lf=e}#lg;get mockSelectionContainer(){return this.#lg}set mockSelectionContainer(e){this.#lg=e}#lm;get popupContainer(){return this.#lm}set popupContainer(e){this.#lm=e}#lv;get targetInlineRange(){return this.#lv}set targetInlineRange(e){this.#lv=e}#ly;get textInput(){return this.#ly}set textInput(e){this.#ly=e}#ie;get type(){return this.#ie}set type(e){this.#ie=e}constructor(){super(...arguments),this._bodyOverflowStyle="",this._createTemplate=()=>(this.updateComplete.then(()=>{this.linkInput?.focus(),this._updateConfirmBtn()}).catch(console.error),(0,H.qy)`
      <div class="affine-link-popover create">
        <input
          id="link-input"
          class="affine-link-popover-input"
          type="text"
          spellcheck="false"
          placeholder="Paste or type a link"
          @input=${this._updateConfirmBtn}
        />
        ${this._confirmBtnTemplate()}
      </div>
    `),this._delete=()=>{this.inlineEditor.isValidInlineRange(this.targetInlineRange)&&this.inlineEditor.deleteText(this.targetInlineRange),this.abortController.abort()},this._edit=()=>{this.type="edit"},this._editTemplate=()=>(this.updateComplete.then(()=>{(0,V.Z1)(this.textInput),this.textInput.value=this.currentText,(0,V.Z1)(this.linkInput),this.linkInput.value=this.currentLink,this.textInput.select(),this._updateConfirmBtn()}).catch(console.error),(0,H.qy)`
      <div class="affine-link-edit-popover">
        <div class="affine-edit-area text">
          <input
            class="affine-edit-input"
            id="text-input"
            type="text"
            placeholder="Enter text"
            @input=${this._updateConfirmBtn}
          />
          <label class="affine-edit-label" for="text-input">Text</label>
        </div>
        <div class="affine-edit-area link">
          <input
            id="link-input"
            class="affine-edit-input"
            type="text"
            spellcheck="false"
            placeholder="Paste or type a link"
            @input=${this._updateConfirmBtn}
          />
          <label class="affine-edit-label" for="link-input">Link</label>
        </div>
        ${this._confirmBtnTemplate()}
      </div>
    `),this._embedOptions=null,this._openLink=()=>{let e=this.currentLink;e.match(/^[a-zA-Z]+:\/\//)||(e="https://"+e),window.open(e,"_blank"),this.abortController.abort()},this._removeLink=()=>{this.inlineEditor.isValidInlineRange(this.targetInlineRange)&&this.inlineEditor.formatText(this.targetInlineRange,{link:null}),this.abortController.abort()},this._viewTemplate=()=>{if(!this._rootService)return H.s6;this._embedOptions=this._rootService.getEmbedBlockOptions(this.currentLink);let e=[(0,H.qy)`
        <a
          class="affine-link-preview"
          href=${this.currentLink}
          rel="noopener noreferrer"
          target="_blank"
        >
          <span>${nN(this.currentLink)}</span>
        </a>

        <editor-icon-button
          aria-label="Copy"
          data-testid="copy-link"
          .tooltip=${"Click to copy link"}
          @click=${this._copyUrl}
        >
          ${aL}
        </editor-icon-button>

        <editor-icon-button
          aria-label="Edit"
          data-testid="edit"
          .tooltip=${"Edit"}
          @click=${this._edit}
        >
          ${aQ}
        </editor-icon-button>
      `,this._viewMenuButton(),(0,H.qy)`
        <editor-menu-button
          .contentPadding=${"8px"}
          .button=${(0,H.qy)`
            <editor-icon-button aria-label="More" .tooltip=${"More"}>
              ${eU}
            </editor-icon-button>
          `}
        >
          <div data-size="large" data-orientation="vertical">
            ${this._moreActions()}
          </div>
        </editor-menu-button>
      `];return(0,H.qy)`
      <editor-toolbar class="affine-link-popover view">
        ${(0,v6.f)(e.filter(e=>e!==H.s6),wk)}
      </editor-toolbar>
    `},this.#eS=Tk(this,f,void 0),this.#lu=(Tk(this,g),Tk(this,m,null)),this.#lp=(Tk(this,v),Tk(this,y,void 0)),this.#lf=(Tk(this,b),Tk(this,w,null)),this.#lg=(Tk(this,x),Tk(this,_,void 0)),this.#lm=(Tk(this,C),Tk(this,k,void 0)),this.#lv=(Tk(this,S),Tk(this,M,void 0)),this.#ly=(Tk(this,E),Tk(this,I,null)),this.#ie=(Tk(this,B),Tk(this,$,"create")),Tk(this,T)}static{Tk(t,u)}},t})();function TM(e,t,i,s){let o=new TS;return o.inlineEditor=e,o.type=t,o.targetInlineRange=i,o.abortController=s,document.body.append(o),o}var TE=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},TI=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("affine-link")],s=[],o=P.ao,r=[],a=[];(class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;TE(this,null,[(0,L.MZ)({type:Object})],{kind:"accessor",name:"delta",static:!1,private:!1,access:{has:e=>"delta"in e,get:e=>e.delta,set:(e,t)=>{e.delta=t}},metadata:n},r,a),TE(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    affine-link a:hover [data-v-text='true'] {
      text-decoration: underline;
    }
  `}_onMouseUp(){let e=this.querySelector("a");(0,V.Z1)(e),e.isContentEditable&&(e.contentEditable="false",setTimeout(()=>{e.removeAttribute("contenteditable")},0))}render(){let e={color:"var(--affine-link-color)",fill:"var(--affine-link-color)","text-decoration":"none",cursor:"pointer"};if(this.delta.attributes&&this.delta.attributes?.code){let t=Tw(this.delta.attributes);return(0,H.qy)`<code style=${t}
        ><a
      ${(0,lB.K)(this._whenHover.setReference)}
      href=${this.link}
      style=${(0,Z.W)(e)}
      rel="noopener noreferrer"
      target="_blank"
      @mouseup=${this._onMouseUp}
      ><v-text .str=${this.delta.insert}></v-text
    ></a></v-text></code>`}let t=this.delta.attributes?Tw(this.delta.attributes,e):(0,Z.W)({});return(0,H.qy)`<a
      ${(0,lB.K)(this._whenHover.setReference)}
      href=${this.link}
      rel="noopener noreferrer"
      target="_blank"
      style=${t}
      @mouseup=${this._onMouseUp}
      ><v-text .str=${this.delta.insert}></v-text
    ></a>`}get block(){let e=this.inlineEditor.rootElement.closest(`[${fA.u_}]`);return(0,V.Z1)(e),e}get inlineEditor(){let e=this.closest(`[${si.jN}]`);return(0,V.Z1)(e),e.inlineEditor}get link(){return this.delta.attributes?.link||""}get selfInlineRange(){let e=this.inlineEditor.getInlineRangeFromElement(this);return(0,V.Z1)(e),e}get std(){let e=this.block.std;return(0,V.Z1)(e),e}#W;get delta(){return this.#W}set delta(e){this.#W=e}constructor(){super(...arguments),this._whenHover=new lE(this,({abortController:e})=>{if(this.block.doc.readonly)return null;let t=this.std.selection,i=t.find("text");return i&&(i.to||i.from.length)||t.filter("block").length?null:{template:TM(this.inlineEditor,"view",this.selfInlineRange,e)}},{enterDelay:500}),this.#W=TI(this,r,{insert:si.pe}),TI(this,a)}static{TI(t,s)}})})();let TB=(0,H.AH)`
  :host {
    box-sizing: border-box;
  }

  .affine-reference-popover-container {
    z-index: var(--affine-z-index-popover);
    animation: affine-popover-fade-in 0.2s ease;
    position: absolute;
  }

  @keyframes affine-popover-fade-in {
    from {
      opacity: 0;
      transform: translateY(-3px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
`;var T$=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},TT=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let TO=(()=>{let e,t,i,s,o,r,a,n,l=[(0,L.EM)("reference-popup")],c=[],d=(0,P.Tm)(H.WF),h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[];return class extends d{static{t=this}static{let C="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.P)(".affine-reference-popover-container")],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],T$(this,null,i,{kind:"accessor",name:"abortController",static:!1,private:!1,access:{has:e=>"abortController"in e,get:e=>e.abortController,set:(e,t)=>{e.abortController=t}},metadata:C},h,u),T$(this,null,s,{kind:"accessor",name:"docTitle",static:!1,private:!1,access:{has:e=>"docTitle"in e,get:e=>e.docTitle,set:(e,t)=>{e.docTitle=t}},metadata:C},p,f),T$(this,null,o,{kind:"accessor",name:"inlineEditor",static:!1,private:!1,access:{has:e=>"inlineEditor"in e,get:e=>e.inlineEditor,set:(e,t)=>{e.inlineEditor=t}},metadata:C},g,m),T$(this,null,r,{kind:"accessor",name:"popupContainer",static:!1,private:!1,access:{has:e=>"popupContainer"in e,get:e=>e.popupContainer,set:(e,t)=>{e.popupContainer=t}},metadata:C},v,y),T$(this,null,a,{kind:"accessor",name:"target",static:!1,private:!1,access:{has:e=>"target"in e,get:e=>e.target,set:(e,t)=>{e.target=t}},metadata:C},b,w),T$(this,null,n,{kind:"accessor",name:"targetInlineRange",static:!1,private:!1,access:{has:e=>"targetInlineRange"in e,get:e=>e.targetInlineRange,set:(e,t)=>{e.targetInlineRange=t}},metadata:C},x,_),T$(null,e={value:t},l,{kind:"class",name:t.name,metadata:C},null,c),t=e.value,C&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})}static{this.styles=TB}_convertToCardView(){let e=this.block,t=e.host.doc,i=t.getParent(e.model);(0,V.Z1)(i);let s=i.children.indexOf(e.model),o=this.referenceDocId;t.addBlock("affine:embed-linked-doc",{pageId:o},i,s+1),this.inlineEditor.yTextLength===this.targetInlineRange.length?t.deleteBlock(e.model):this.inlineEditor.insertText(this.targetInlineRange,this.docTitle),this.abortController.abort()}_convertToEmbedView(){let e=this.block,t=e.host.doc,i=t.getParent(e.model);(0,V.Z1)(i);let s=i.children.indexOf(e.model),o=this.referenceDocId;t.addBlock("affine:embed-synced-doc",{pageId:o},i,s+1),this.inlineEditor.yTextLength===this.targetInlineRange.length?t.deleteBlock(e.model):this.inlineEditor.insertText(this.targetInlineRange,this.docTitle),this.abortController.abort()}_delete(){this.inlineEditor.isValidInlineRange(this.targetInlineRange)&&this.inlineEditor.deleteText(this.targetInlineRange),this.abortController.abort()}get _embedViewButtonDisabled(){return!!(this.block.doc.readonly||(0,iS.a)(this.block.doc,this.block.model,"affine:edgeless-text"))||!!this.block.closest("affine-embed-synced-doc-block")||this.referenceDocId===this.doc.id}_moreActions(){return wE([[{type:"delete",name:"Delete",icon:aj,disabled:this.doc.readonly,handler:()=>this._delete()}]])}get _openButtonDisabled(){return this.referenceDocId===this.doc.id}_openDoc(){let e=this.referenceDocId,t=this.block;if(e===t.doc.id)return;let i=this.std.view.viewFromPath("block",[t.doc.root?.id??""]);(0,V.Z1)(i),i.slots.docLinkClicked.emit({docId:e})}_openMenuButton(){let e=[{name:"Open this doc",icon:aX,handler:()=>this._openDoc(),disabled:this._openButtonDisabled}];return(lF(this.target)&&e.push({name:"Open in center peek",icon:aK,handler:()=>lN(this.target)}),0===e.length)?H.s6:(0,H.qy)`
      <editor-menu-button
        .contentPadding=${"8px"}
        .button=${(0,H.qy)`
          <editor-icon-button
            aria-label="Open doc"
            .justify=${"space-between"}
            .labelHeight=${"20px"}
          >
            ${aY}${tO}
          </editor-icon-button>
        `}
      >
        <div data-size="large" data-orientation="vertical">
          ${(0,D.u)(e,e=>e.name,({name:e,icon:t,handler:i,disabled:s})=>(0,H.qy)`
              <editor-menu-action
                aria-label=${e}
                ?disabled=${s}
                @click=${i}
              >
                ${t}<span class="label">${e}</span>
              </editor-menu-action>
            `)}
        </div>
      </editor-menu-button>
    `}_viewMenuButton(){let e=this.doc.awarenessStore.getFlag("enable_synced_doc_block"),t=[];return t.push({type:"inline",name:"Inline view"}),t.push({type:"card",name:"Card view",handler:()=>this._convertToCardView()}),e&&t.push({type:"embed",name:"Embed view",handler:()=>this._convertToEmbedView(),disabled:this._embedViewButtonDisabled}),(0,H.qy)`
      <editor-menu-button
        .contentPadding=${"8px"}
        .button=${(0,H.qy)`
          <editor-icon-button
            aria-label="Switch view"
            .justify=${"space-between"}
            .labelHeight=${"20px"}
            .iconContainerWidth=${"110px"}
          >
            <span class="label">Inline view</span>
            ${tO}
          </editor-icon-button>
        `}
      >
        <div data-size="small" data-orientation="vertical">
          ${(0,D.u)(t,e=>e.type,({type:e,name:t,handler:i,disabled:s})=>(0,H.qy)`
              <editor-menu-action
                aria-label=${t}
                data-testid=${`link-to-${e}`}
                ?data-selected=${"inline"===e}
                ?disabled=${s}
                @click=${i}
              >
                ${t}
              </editor-menu-action>
            `)}
        </div>
      </editor-menu-button>
    `}connectedCallback(){if(super.connectedCallback(),0===this.targetInlineRange.length)return;let e=this.block.host.doc.getParent(this.block.model);(0,V.Z1)(e),this.disposables.add((0,sh.QZ)(()=>{e.children.includes(this.block.model)||this.abortController.abort()}))}render(){let e=[this._openMenuButton(),this._viewMenuButton(),(0,H.qy)`
        <editor-menu-button
          .contentPadding=${"8px"}
          .button=${(0,H.qy)`
            <editor-icon-button aria-label="More" .tooltip=${"More"}>
              ${eU}
            </editor-icon-button>
          `}
        >
          <div data-size="large" data-orientation="vertical">
            ${this._moreActions()}
          </div>
        </editor-menu-button>
      `];return(0,H.qy)`
      <div class="overlay-root">
        <div class="affine-reference-popover-container">
          <editor-toolbar class="affine-reference-popover view">
            ${(0,v6.f)(e.filter(e=>e!==H.s6),wk)}
          </editor-toolbar>
        </div>
      </div>
    `}updated(){(0,V.Z1)(this.popupContainer);let e=this.inlineEditor.toDomRange(this.targetInlineRange);(0,V.Z1)(e),(0,oG.rD)({getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects()},this.popupContainer,{middleware:[(0,oG.cY)(10),(0,oG.mG)(),(0,oG.BN)({padding:6})]}).then(({x:e,y:t})=>{let i=this.popupContainer;i&&(i.style.left=`${e}px`,i.style.top=`${t}px`)}).catch(console.error)}get block(){let e=this.inlineEditor.rootElement.closest(`[${fA.u_}]`);return(0,V.Z1)(e),e}get doc(){let e=this.block.doc;return(0,V.Z1)(e),e}get referenceDocId(){let e=this.inlineEditor.getFormat(this.targetInlineRange).reference?.pageId;return(0,V.Z1)(e),e}get std(){let e=this.block.std;return(0,V.Z1)(e),e}#eS=TT(this,h,void 0);get abortController(){return this.#eS}set abortController(e){this.#eS=e}#lb=(TT(this,u),TT(this,p,void 0));get docTitle(){return this.#lb}set docTitle(e){this.#lb=e}#lp=(TT(this,f),TT(this,g,void 0));get inlineEditor(){return this.#lp}set inlineEditor(e){this.#lp=e}#lm=(TT(this,m),TT(this,v,void 0));get popupContainer(){return this.#lm}set popupContainer(e){this.#lm=e}#lw=(TT(this,y),TT(this,b,void 0));get target(){return this.#lw}set target(e){this.#lw=e}#lv=(TT(this,w),TT(this,x,void 0));get targetInlineRange(){return this.#lv}set targetInlineRange(e){this.#lv=e}constructor(){super(...arguments),TT(this,_)}static{TT(t,c)}},t})();var TP=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},TA=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let TH=(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("affine-reference"),lq({action:!1})],n=[],l=(0,P.Tm)(P.ao),c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];return class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({type:Object})],o=[(0,L.wk)()],r=[(0,L.MZ)({type:Boolean})],TP(this,null,i,{kind:"accessor",name:"config",static:!1,private:!1,access:{has:e=>"config"in e,get:e=>e.config,set:(e,t)=>{e.config=t}},metadata:v},c,d),TP(this,null,s,{kind:"accessor",name:"delta",static:!1,private:!1,access:{has:e=>"delta"in e,get:e=>e.delta,set:(e,t)=>{e.delta=t}},metadata:v},h,u),TP(this,null,o,{kind:"accessor",name:"refMeta",static:!1,private:!1,access:{has:e=>"refMeta"in e,get:e=>e.refMeta,set:(e,t)=>{e.refMeta=t}},metadata:v},p,f),TP(this,null,r,{kind:"accessor",name:"selected",static:!1,private:!1,access:{has:e=>"selected"in e,get:e=>e.selected,set:(e,t)=>{e.selected=t}},metadata:v},g,m),TP(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    .affine-reference {
      white-space: normal;
      word-break: break-word;
      color: var(--affine-text-primary-color);
      fill: var(--affine-icon-color);
      border-radius: 4px;
      text-decoration: none;
      cursor: pointer;
      user-select: none;
      padding: 1px 2px 1px 0;
    }
    .affine-reference:hover {
      background: var(--affine-hover-color);
    }

    .affine-reference[data-selected='true'] {
      background: var(--affine-hover-color);
    }

    .affine-reference-title {
      margin-left: 4px;
      border-bottom: 0.5px solid var(--affine-divider-color);
      transition: border 0.2s ease-out;
    }
    .affine-reference-title:hover {
      border-bottom: 0.5px solid var(--affine-icon-color);
    }
  `}_onClick(){if(!this.config.interactable)return;let e=this.refMeta,t=(0,sc.dz)(this);if(!e){console.warn("The doc is deleted",this._refAttribute.pageId);return}if(e.id===t.doc.id)return;let i=e.id,s=t.doc.root;(0,V.Z1)(s);let o=(0,sc.mD)(this);(0,V.Z1)(o),o.slots.docLinkClicked.emit({docId:i})}connectedCallback(){super.connectedCallback(),(0,V.Z1)(this.config,"`reference-node` need `ReferenceNodeConfig`.")," "!==this.delta.insert&&console.error(`Reference node must be initialized with ' ', but got '${this.delta.insert}'`);let e=this.doc;this._disposables.add(e.collection.slots.docUpdated.on(()=>this._updateRefMeta(e))),this.updateComplete.then(()=>{this.disposables.add(this.inlineEditor.slots.textChange.on(()=>this._updateRefMeta(e)))}).catch(console.error)}render(){let e=this.refMeta,t=!e,i=this.delta.attributes;(0,V.Z1)(i,"Failed to get attributes!");let s=i.reference?.type;(0,V.Z1)(s,"Unable to get reference type!");let o=this.customTitle?this.customTitle(this):t?"Deleted doc":e.title.length>0?e.title:yp,r=this.customIcon?this.customIcon(this):"LinkedPage"===s?a8:a3,a=Tw(i,t?{color:"var(--affine-text-disable-color)",textDecoration:"line-through",fill:"var(--affine-text-disable-color)"}:{}),n=this.customContent?this.customContent(this):(0,H.qy)`${r}<span data-title=${o} class="affine-reference-title"
            >${o}</span
          >`;return(0,H.qy)`<span
      ${this.config.interactable?(0,lB.K)(this._whenHover.setReference):""}
      data-selected=${this.selected}
      class="affine-reference"
      style=${a}
      @click=${this._onClick}
      >${n}<v-text .str=${si.GZ}></v-text
    ></span>`}willUpdate(e){super.willUpdate(e);let t=this.doc;this._updateRefMeta(t)}get block(){let e=this.inlineEditor.rootElement.closest(`[${fA.u_}]`);return(0,V.Z1)(e),e}get customContent(){return this.config.customContent}get customIcon(){return this.config.customIcon}get customTitle(){return this.config.customTitle}get doc(){let e=this.config.doc;return(0,V.Z1)(e,"`reference-node` need `Doc`."),e}get inlineEditor(){let e=this.closest(`[${si.jN}]`);return(0,V.Z1)(e),e.inlineEditor}get selfInlineRange(){let e=this.inlineEditor.getInlineRangeFromElement(this);return(0,V.Z1)(e),e}get std(){let e=this.block.std;return(0,V.Z1)(e),e}#t$;get config(){return this.#t$}set config(e){this.#t$=e}#W;get delta(){return this.#W}set delta(e){this.#W=e}#lx;get refMeta(){return this.#lx}set refMeta(e){this.#lx=e}#l_;get selected(){return this.#l_}set selected(e){this.#l_=e}constructor(){super(...arguments),this._refAttribute={type:"LinkedPage",pageId:"0"},this._updateRefMeta=e=>{let t=this.delta.attributes?.reference;(0,V.Z1)(t,"Failed to get reference attribute!"),this._refAttribute=t;let i=e.collection.meta.docMetas.find(e=>e.id===t.pageId);this.refMeta=i?{...i}:void 0},this._whenHover=new lE(this,({abortController:e})=>{if(this.doc.readonly||this.closest(".prevent-reference-popup"))return null;let t=this.std.selection,i=t.find("text");return i&&(i.to||i.from.length)||t.filter("block").length?null:{template:function(e,t,i,s,o){let r=new TO;return r.target=e,r.inlineEditor=t,r.targetInlineRange=i,r.docTitle=s,r.abortController=o,document.body.append(r),r}(this,this.inlineEditor,this.selfInlineRange,this.refMeta?.title??yp,e)}},{enterDelay:500}),this.#t$=TA(this,c,void 0),this.#W=(TA(this,d),TA(this,h,{insert:si.pe,attributes:{}})),this.#lx=(TA(this,u),TA(this,p,void 0)),this.#l_=(TA(this,f),TA(this,g,!1)),TA(this,m)}static{TA(t,n)}},t})(),TL=[{name:"bold",schema:lY.z.literal(!0).optional().nullable().catch(void 0),match:e=>!!e.attributes?.bold,renderer:e=>(0,H.qy)`<affine-text .delta=${e}></affine-text>`},{name:"italic",schema:lY.z.literal(!0).optional().nullable().catch(void 0),match:e=>!!e.attributes?.italic,renderer:e=>(0,H.qy)`<affine-text .delta=${e}></affine-text>`},{name:"underline",schema:lY.z.literal(!0).optional().nullable().catch(void 0),match:e=>!!e.attributes?.underline,renderer:e=>(0,H.qy)`<affine-text .delta=${e}></affine-text>`},{name:"strike",schema:lY.z.literal(!0).optional().nullable().catch(void 0),match:e=>!!e.attributes?.strike,renderer:e=>(0,H.qy)`<affine-text .delta=${e}></affine-text>`},{name:"code",schema:lY.z.literal(!0).optional().nullable().catch(void 0),match:e=>!!e.attributes?.code,renderer:e=>(0,H.qy)`<affine-text .delta=${e}></affine-text>`},{name:"background",schema:lY.z.string().optional().nullable().catch(void 0),match:e=>!!e.attributes?.background,renderer:e=>(0,H.qy)`<affine-text .delta=${e}></affine-text>`},{name:"color",schema:lY.z.string().optional().nullable().catch(void 0),match:e=>!!e.attributes?.color,renderer:e=>(0,H.qy)`<affine-text .delta=${e}></affine-text>`}];function TD(e){return[...TL,{name:"reference",schema:lY.z.object({type:lY.z.enum(["Subpage","LinkedPage"]),pageId:lY.z.string()}).optional().nullable().catch(void 0),match:e=>!!e.attributes?.reference,renderer:(t,i)=>(0,H.qy)`<affine-reference
          .delta=${t}
          .selected=${i}
          .config=${e}
        ></affine-reference>`,embed:!0},{name:"link",schema:lY.z.string().optional().nullable().catch(void 0),match:e=>!!e.attributes?.link,renderer:e=>(0,H.qy)`<affine-link .delta=${e}></affine-link>`}]}let TZ=[{name:"bolditalic",pattern:/(?:\*\*\*)([^\s\*](?:[^*]*?[^\s\*])?)(?:\*\*\*)$/g,action:({inlineEditor:e,prefixText:t,inlineRange:i,pattern:s,undoManager:o})=>{let r=s.exec(t);if(!r)return si.gT;let a=r[0],n=i.index-a.length;return e.insertText({index:n+a.length,length:0}," "),e.setInlineRange({index:n+a.length+1,length:0}),o.stopCapturing(),e.formatText({index:n,length:a.length},{bold:!0,italic:!0}),e.deleteText({index:n+a.length,length:1}),e.deleteText({index:n+a.length-3,length:3}),e.deleteText({index:n,length:3}),e.setInlineRange({index:n+a.length-6,length:0}),si.rM}},{name:"bold",pattern:/(?:\*\*)([^\s\*](?:[^*]*?[^\s\*])?)(?:\*\*)$/g,action:({inlineEditor:e,prefixText:t,inlineRange:i,pattern:s,undoManager:o})=>{let r=s.exec(t);if(!r)return si.gT;let a=r[0],n=i.index-a.length;return e.insertText({index:n+a.length,length:0}," "),e.setInlineRange({index:n+a.length+1,length:0}),o.stopCapturing(),e.formatText({index:n,length:a.length},{bold:!0}),e.deleteText({index:n+a.length,length:1}),e.deleteText({index:n+a.length-2,length:2}),e.deleteText({index:n,length:2}),e.setInlineRange({index:n+a.length-4,length:0}),si.rM}},{name:"italic",pattern:/(?:\*)([^\s\*](?:[^*]*?[^\s\*])?)(?:\*)$/g,action:({inlineEditor:e,prefixText:t,inlineRange:i,pattern:s,undoManager:o})=>{let r=s.exec(t);if(!r)return si.gT;let a=r[0],n=i.index-a.length;return e.insertText({index:n+a.length,length:0}," "),e.setInlineRange({index:n+a.length+1,length:0}),o.stopCapturing(),e.formatText({index:n,length:a.length},{italic:!0}),e.deleteText({index:n+a.length,length:1}),e.deleteText({index:n+a.length-1,length:1}),e.deleteText({index:n,length:1}),e.setInlineRange({index:n+a.length-2,length:0}),si.rM}},{name:"strikethrough",pattern:/(?:~~)([^\s~](?:[^~]*?[^\s~])?)(?:~~)$/g,action:({inlineEditor:e,prefixText:t,inlineRange:i,pattern:s,undoManager:o})=>{let r=s.exec(t);if(!r)return si.gT;let a=r[0],n=i.index-a.length;return e.insertText({index:n+a.length,length:0}," "),e.setInlineRange({index:n+a.length+1,length:0}),o.stopCapturing(),e.formatText({index:n,length:a.length},{strike:!0}),e.deleteText({index:n+a.length,length:1}),e.deleteText({index:n+a.length-2,length:2}),e.deleteText({index:n,length:2}),e.setInlineRange({index:n+a.length-4,length:0}),si.rM}},{name:"underthrough",pattern:/(?:~)([^\s~](?:[^~]*?[^\s~])?)(?:~)$/g,action:({inlineEditor:e,prefixText:t,inlineRange:i,pattern:s,undoManager:o})=>{let r=s.exec(t);if(!r)return si.gT;let a=r[0],n=i.index-a.length;return e.insertText({index:n+a.length,length:0}," "),e.setInlineRange({index:n+a.length+1,length:0}),o.stopCapturing(),e.formatText({index:n,length:a.length},{underline:!0}),e.deleteText({index:n+a.length,length:1}),e.deleteText({index:i.index-1,length:1}),e.deleteText({index:n,length:1}),e.setInlineRange({index:n+a.length-2,length:0}),si.rM}},{name:"code",pattern:/(?:`)([^\s`](?:[^`]*?[^\s`])?)(?:`)$/g,action:({inlineEditor:e,prefixText:t,inlineRange:i,pattern:s,undoManager:o})=>{let r=s.exec(t);if(!r)return si.gT;let a=r[0],n=i.index-a.length;return t.match(/^([* \n]+)$/g)?si.gT:(e.insertText({index:n+a.length,length:0}," "),e.setInlineRange({index:n+a.length+1,length:0}),o.stopCapturing(),e.formatText({index:n,length:a.length},{code:!0}),e.deleteText({index:n+a.length,length:1}),e.deleteText({index:n+a.length-1,length:1}),e.deleteText({index:n,length:1}),e.setInlineRange({index:n+a.length-2,length:0}),si.rM)}},{name:"link",pattern:/(?:\[(.+?)\])(?:\((.+?)\))$/g,action:({inlineEditor:e,prefixText:t,inlineRange:i,pattern:s,undoManager:o})=>{let r=t.search(s),a=t.match(s)?.[0],n=t.match(/(?:\[(.*?)\])/g)?.[0],l=t.match(/(?:\((.*?)\))/g)?.[0];if(-1===r||!a||!n||!l)return si.gT;let c=i.index-a.length;return e.insertText({index:i.index,length:0}," "),e.setInlineRange({index:i.index+1,length:0}),o.stopCapturing(),e.formatText({index:c,length:n.length},{link:l.slice(1,l.length-1)}),e.deleteText({index:i.index+a.length,length:1}),e.deleteText({index:i.index-l.length-1,length:l.length+1}),e.deleteText({index:c,length:1}),e.setInlineRange({index:c+n.length-1,length:0}),si.rM}}];class Tj{constructor(){this._Doc=null,this._customContent=null,this._customIcon=null,this._customTitle=null,this._interactable=!0}setCustomContent(e){this._customContent=e}setCustomIcon(e){this._customIcon=e}setCustomTitle(e){this._customTitle=e}setDoc(e){this._Doc=e}setInteractable(e){this._interactable=e}get customContent(){return this._customContent}get customIcon(){return this._customIcon}get customTitle(){return this._customTitle}get doc(){return this._Doc}get interactable(){return this._interactable}}class TV extends P.ps{constructor(){super(...arguments),this.inlineManager=new Tv,this.referenceNodeConfig=new Tj}mounted(){super.mounted(),this.selectionManager.register(c7),this.referenceNodeConfig.setDoc(this.doc);let e=TD(this.referenceNodeConfig);this.inlineManager.registerSpecs(e),this.inlineManager.registerMarkdownMatches(TZ)}}let TR={schema:Tm.S,service:TV,view:{component:(0,ic.eu)`affine-data-view`}};var Tz=i(94108);class TF extends P.ps{constructor(){super(...arguments),this.databaseViewInitEmpty=w6,this.inlineManager=new Tv,this.referenceNodeConfig=new Tj,this.viewPresets=u1}initDatabaseBlock(e,t,i,s,o=!0){let r=e.getBlockById(i);if((0,V.Z1)(r),w9(r,s),o){let i=e.getParent(t);(0,V.Z1)(i),e.addBlock("affine:paragraph",{},i.id)}r.applyColumnUpdate()}mounted(){super.mounted(),this.selectionManager.register(c7),this.referenceNodeConfig.setDoc(this.doc);let e=TD(this.referenceNodeConfig);this.inlineManager.registerSpecs(e),this.inlineManager.registerMarkdownMatches(TZ)}}let TN={schema:Tz.A,service:TF,view:{component:(0,ic.eu)`affine-database`}},Tq={schema:i(82192).C,view:{component:(0,ic.eu)`affine-divider`}};var TU=i(45170),TW=i(77824);class TG extends P.ps{mounted(){super.mounted(),this.std.spec.slots.afterApply.once(()=>{this.std.spec.getService("affine:page").registerEmbedBlockOptions({flavour:this.flavour,urlRegex:TW.TE,styles:TW.eE,viewType:"embed"})})}}let TY={schema:TU.S,view:{component:(0,ic.eu)`affine-embed-figma-block`},service:TG};var TK=i(23746);class TX extends P.ps{constructor(){super(...arguments),this.queryApiData=(e,t)=>bf(e,t),this.queryUrlData=(e,t)=>bp(e,TX.linkPreviewer,t)}static{this.linkPreviewer=new bw.y}static{this.setLinkPreviewEndpoint=TX.linkPreviewer.setEndpoint}mounted(){super.mounted(),this.std.spec.slots.afterApply.once(()=>{this.std.spec.getService("affine:page").registerEmbedBlockOptions({flavour:this.flavour,urlRegex:bs.EO,styles:bs.js,viewType:"card"})})}}let TQ={schema:TK.f,view:{component:(0,ic.eu)`affine-embed-github-block`},service:TX};var TJ=i(22042);class T1 extends P.ps{}let T0={schema:TJ.D,view:{component:(0,ic.eu)`affine-embed-html-block`},service:T1};var T2=i(61082);class T5 extends P.ps{constructor(){super(...arguments),this.queryUrlData=(e,t)=>b7(e,t)}static{this.linkPreviewer=new bw.y}static{this.setLinkPreviewEndpoint=T5.linkPreviewer.setEndpoint}mounted(){super.mounted(),this.std.spec.slots.afterApply.once(()=>{this.std.spec.getService("affine:page").registerEmbedBlockOptions({flavour:this.flavour,urlRegex:b0.kn,styles:b0.lE,viewType:"embed"})})}}let T7={schema:T2.L,view:{component:(0,ic.eu)`affine-embed-loom-block`},service:T5};var T3=i(29838);class T4 extends P.ps{}let T6={schema:T3.O,view:{component:(0,ic.eu)`affine-embed-synced-doc-block`},service:T4};var T8=i(58542);class T9 extends P.ps{constructor(){super(...arguments),this.queryUrlData=(e,t)=>wd(e,T9.linkPreviewer,t)}static{this.linkPreviewer=new bw.y}static{this.setLinkPreviewEndpoint=T9.linkPreviewer.setEndpoint}mounted(){super.mounted(),this.std.spec.slots.afterApply.once(()=>{this.std.spec.getService("affine:page").registerEmbedBlockOptions({flavour:this.flavour,urlRegex:wn.iB,styles:wn.R_,viewType:"embed"})})}}let Oe={schema:T8.X,view:{component:(0,ic.eu)`affine-embed-youtube-block`},service:T9};var Ot=i(14558);let Oi=lY.Ay.object({blockId:lY.Ay.string()});class Os extends P.qZ{static{this.group="note"}static{this.type="image"}static fromJSON(e){return Oi.parse(e),new Os({blockId:e.blockId})}equals(e){return e instanceof Os&&this.blockId===e.blockId}toJSON(){return{type:this.type,blockId:this.blockId}}}class Oo extends P.ps{constructor(){super(...arguments),this._dragHandleOption={flavour:Ot.e.model.flavour,edgeless:!0,onDragStart:({state:e,startDragging:t,anchorBlockPath:i,editorHost:s})=>{let o=vI(e.raw.target);if(o?.classList.contains("resize")||!i)return!1;let r=s.std.view.getBlock(i);if(!r||!(0,iS.o)(r.model,[Ot.e.model.flavour]))return!1;let a=!!o?.closest(vN),n=r.contains(o),l=r.isInSurface;if(!l&&(a||n))return s.std.selection.setGroup("note",[s.std.selection.create("block",{blockId:r.blockId})]),t([r],e),!0;if(l&&a){let i=s.std.spec.getService("affine:page"),o=i.viewport.zoom||1,a=r.getBoundingClientRect().width,n=m.z.deserialize(r.model.xywh),l=i.viewport.zoom||1,c=new g.b(n.x*l,n.y*l),d=document.createElement("div");return d.style.borderRadius="4px",d.style.overflow="hidden",d.style.width=`${a/o}px`,(0,H.XX)(r.host.renderModel(r.model),d),t([r],e,d,c),!0}return!1},onDragEnd:e=>{let{state:t,draggingElements:i}=e;if(1!==i.length||!(0,iS.o)(i[0].model,[Ot.e.model.flavour]))return!1;let s=i[0],o=s.isInSurface,r=vI(t.raw.target),a=r?.classList.contains("edgeless-container");return o?vR({blockComponent:s,...e}):!!a&&vV({blockComponent:s,cssSelector:".drag-target",...e})}},this._fileDropOptions={flavour:this.flavour,onDrop:async({files:e,targetModel:t,place:i,point:s})=>{let o=e.filter(e=>e.type.startsWith("image/"));if(!o.length)return!1;if(t&&!(0,iS.o)(t,["affine:surface"]))kB(this.host,o,this.maxFileSize,t,i);else if((0,sc.Ar)(this.host)){let e=this.rootComponent;if(!(e instanceof I8))return!1;s=e.service.viewport.toViewCoordFromClientCoord(s),await e.addImages(o,s),e.service.telemetryService?.track("CanvasElementAdded",{control:"canvas:drop",page:"whiteboard editor",module:"toolbar",segment:"toolbar",type:"image"})}return!0}},this.maxFileSize=1e7}static{this.setImageProxyURL=gr}mounted(){super.mounted(),this.selectionManager.register(Os),this.fileDropManager=new lg(this,this._fileDropOptions),this.disposables.add(vq.registerOption(this._dragHandleOption))}get rootComponent(){let e=this.doc.root;return e?this.std.view.viewFromPath("block",[e.id]):null}}let Or={schema:Ot.e,service:Oo,view:{component:(0,ic.eu)`affine-image`,widgets:{imageToolbar:(0,ic.eu)`affine-image-toolbar-widget`}}};var Oa=i(47982);function On(e,t){let i="string"==typeof t?e.getBlock(t).model:t,s=e.getParent(i);if(!s)return[];let o=s.children.indexOf(i);if(-1===o)return[];let r=s.children.findIndex((e,t)=>t>o&&(!(0,iS.o)(e,["affine:list"])||"numbered"!==e.type)),a=s.children.slice(o+1,-1===r?void 0:r);return a.every(e=>(0,iS.o)(e,["affine:list"])&&"numbered"===e.type)?a:[]}function Ol(e,t,i=!0){let s="string"==typeof t?e.getBlock(t).model:t;if(!(0,iS.o)(s,["affine:list"])||"numbered"!==s.type$.value)return;let o=()=>{let t=e.getPrev(s);t&&(0,iS.o)(t,["affine:list"])&&"numbered"===t.type?(t.order||(t.order=1),s.order=t.order+1):s.order=1;let i=s.order+1;On(e,s).forEach(e=>{e.order=i,i++})};i?e.transact(o):o()}let Oc=(e,t)=>{let{std:i,id:s,order:o,stopCapturing:r=!0}=e,a=i.host,n=a.doc;r&&a.doc.captureSync();let l=n.getBlock(s).model;if(!l.text)return;let c=n.getParent(l);if(!c)return;let d=c.children.indexOf(l),h=n.getPrev(l),u=o;h&&(0,iS.o)(h,["affine:list"])&&"numbered"===h.type&&n.transact(()=>{h.order||(h.order=1),u=h.order+1});let p=n.addBlock("affine:list",{type:"numbered",text:l.text.clone(),order:u},c,d),f=n.getBlock(p).model;n.deleteBlock(l,{deleteChildren:!1,bringChildrenTo:f});let g=On(n,f),m=u+1;g.forEach(e=>{n.transact(()=>{e.order=m}),m+=1}),t({list:f})},Od=(e,t)=>{let{blockId:i,inlineIndex:s,std:o}=e,r=o.host,a=r.doc,n=a.getBlock(i).model;if(!(0,iS.o)(n,["affine:list"])){console.error(`block ${i} is not a list block`);return}let l=a.getPrev(n);if(!l)return;let c=a.getNext(n);a.captureSync(),a.moveBlocks([n],l),Ol(a,n),c&&Ol(a,c),r.updateComplete.then(()=>{r.selection.setGroup("note",[r.selection.create("text",{from:{blockId:i,index:s,length:0},to:null})])}).catch(console.error),t()},Oh=(e,t)=>{let{blockId:i,inlineIndex:s,std:o}=e,r=o.host,a=r.doc,n=a.getBlock(i).model;if(!(0,iS.o)(n,["affine:list"])){console.error(`block ${i} is not a list block`);return}let l=a.getParent(n);if(!l){console.error(`block ${i} has no parent`);return}let c=l.children.indexOf(n);if(-1===c){console.error(`block ${i} is not a child of its parent`);return}if(a.captureSync(),0===n.text.length){if("hub"===l.role){let e=a.addBlock("affine:paragraph",{},l,c),i=a.getBlock(e);if(!i)return;a.deleteBlock(n,{bringChildrenTo:i.model});let s=On(a,i.model),o=1;s.forEach(e=>{a.transact(()=>{e.order=o}),o+=1}),r.updateComplete.then(()=>{r.command.exec("focusBlockStart",{focusBlock:r.view.getBlock(e)})}).catch(console.error),t();return}"content"===l.role&&(r.command.exec("unindentList",{blockId:i,inlineIndex:0}),t());return}let d=null;if(n.children.length>0&&!n.collapsed){let e=n.text.split(s);if(d=a.addBlock("affine:list",{type:n.type,text:e,order:"numbered"===n.type?1:null},n,0),"numbered"===n.type){let e=On(a,d),t=2;e.forEach(e=>{a.transact(()=>{e.order=t}),t+=1})}}else{let e=n.text.split(s);d=a.addBlock("affine:list",{type:n.type,text:e,order:null},l,c+1),Ol(a,d)}if(d){r.updateComplete.then(()=>{r.command.exec("focusBlockStart",{focusBlock:r.view.getBlock(d)})}).catch(console.error),t();return}},Ou=(e,t)=>{let{blockId:i,inlineIndex:s,std:o}=e,r=o.host,a=r.doc,n=a.getBlock(i).model;if(!(0,iS.o)(n,["affine:list"])){console.error(`block ${i} is not a list block`);return}let l=a.getParent(n);if(!l){console.error(`block ${i} has no parent`);return}if("content"!==l.role)return;let c=a.getParent(l);if(!c){console.error(`block ${i} has no grand parent`);return}if(-1===l.children.indexOf(n)){console.error(`block ${i} is not a child of its parent`);return}a.captureSync();let d=a.getNexts(n);a.moveBlocks(d,n);let h=d.at(0);h&&Ol(a,h),a.moveBlocks([n],c,l,!1),Ol(a,n),r.updateComplete.then(()=>{r.selection.setGroup("note",[r.selection.create("text",{from:{blockId:i,index:s,length:0},to:null})])}).catch(console.error),t()},Op=(0,H.AH)`
  .affine-list-block__prefix {
    display: flex;
    color: var(--affine-blue-700);
    font-size: var(--affine-font-sm);
    user-select: none;
    position: relative;
  }

  .affine-list-block__numbered {
    min-width: 22px;
    height: 24px;
    margin-left: 2px;
  }

  .affine-list-block__todo-prefix {
    display: flex;
    align-items: center;
    cursor: pointer;
    width: 24px;
    height: 24px;
    color: var(--affine-icon-color);
  }

  .affine-list-block__todo-prefix.readonly {
    cursor: default;
  }

  .affine-list-block__todo-prefix > svg {
    width: 20px;
    height: 20px;
  }
`,Of=(0,H.AH)`
  .toggle-icon {
    display: flex;
    align-items: center;
    height: 16px;
    margin: 4px 0;
    position: absolute;
    left: 0;
    transform: translateX(-100%);
    border-radius: 4px;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.2s ease-in-out;
  }
  .toggle-icon:hover {
    background: var(--affine-hover-color);
  }
  .affine-list-rich-text-wrapper:hover .toggle-icon {
    opacity: 1;
  }
  .toggle-icon__collapsed {
    opacity: 1;
  }

  .with-drag-handle .affine-list-rich-text-wrapper .toggle-icon {
    opacity: 1;
  }
  .with-drag-handle .affine-block-children-container .toggle-icon {
    opacity: 0;
  }

  .affine-list__collapsed {
    display: none;
  }
`,Og=(0,H.AH)`
  affine-list {
    display: block;
    font-size: var(--affine-font-base);
  }

  .affine-list-block-container {
    box-sizing: border-box;
    border-radius: 4px;
    position: relative;
  }
  .affine-list-block-container .affine-list-block-container {
    margin-top: 0;
  }
  .affine-list-rich-text-wrapper {
    position: relative;
    display: flex;
  }
  .affine-list-rich-text-wrapper rich-text {
    flex: 1;
  }

  .affine-list--checked {
    color: var(--affine-text-secondary-color);
  }

  ${Op}
  ${Of}
`,Om=e=>{let t=0,i=e.doc.getParent(e);for(;i?.flavour===e.flavour;)t++,i=e.doc.getParent(i);return t};function Ov(e,t,i){let s=Om(e);switch(e.type){case"bulleted":return(0,H.qy)`<div
        contenteditable="false"
        class="affine-list-block__prefix"
        @click=${i}
      >
        ${oz[s%oz.length]}
      </div>`;case"numbered":return(0,H.qy)`<div
        contenteditable="false"
        class="affine-list-block__prefix affine-list-block__numbered"
        @click=${i}
      >
        ${e.order?function(e,t){let i=function(e,t){let i=[()=>t,()=>(function(e){let t="";for(;e>=0;)t=String.fromCharCode(e%26+97)+t,e=Math.floor(e/26)-1;return t})(t-1),()=>(function(e){let t={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},i="";for(let s in t)for(;e>=t[s];)i+=s,e-=t[s];return i})(t)];return i[e%i.length]()}(t,e);return`${i}.`}(e.order,s):"1."}
      </div>`;case"todo":return(0,H.qy)`<div
        contenteditable="false"
        class=${`affine-list-block__prefix affine-list-block__todo-prefix ${e.doc.readonly?"readonly":""}`}
        @click=${i}
      >
        ${e.checked?oj():oV()}
      </div>`;case"toggle":return(0,H.qy)`<div
        contenteditable="false"
        class="affine-list-block__prefix"
        @click=${i}
      >
        ${t?oZ:oD}
      </div>`;default:return console.error("Unknown list type",e.type,e),null}}class Oy extends P.ps{constructor(){super(...arguments),this.inlineManager=new Tv,this.referenceNodeConfig=new Tj,this.styles={icon:Ov,prefix:Op,toggle:Of}}mounted(){super.mounted(),this.std.command.add("convertToNumberedList",Oc),this.std.command.add("splitList",Oh),this.std.command.add("unindentList",Ou),this.std.command.add("indentList",Od),this.referenceNodeConfig.setDoc(this.doc);let e=TD(this.referenceNodeConfig);this.inlineManager.registerSpecs(e),this.inlineManager.registerMarkdownMatches(TZ),this.disposables.add(vq.registerOption({flavour:Oa.z.model.flavour,onDragEnd:({draggingElements:e,editorHost:t})=>(e.forEach(e=>{let i=e.model,s=e.doc;if((0,iS.o)(i,["affine:list"])&&"numbered"===i.type){let o=e.doc.getNext(i);t.updateComplete.then(()=>{Ol(s,i),o&&Ol(s,o)}).catch(console.error)}}),!1)}))}}let Ob={schema:Oa.z,view:{component:(0,ic.eu)`affine-list`},service:Oy},Ow=(e,t)=>{let{focusBlock:i,std:s}=e;if(!i||!i.model.text)return;let{selection:o}=s;return o.setGroup("note",[o.create("text",{from:{blockId:i.blockId,index:i.model.text.length,length:0},to:null})]),t()},Ox=(e,t)=>{let{focusBlock:i,std:s}=e;if(!i||!i.model.text)return;let{selection:o}=s;return o.setGroup("note",[o.create("text",{from:{blockId:i.blockId,index:0,length:0},to:null})]),t()},O_=(e,t)=>{let{std:i,flavour:s,props:o}=e,r=i.host,a=i.doc,n=(()=>{let{selectedBlocks:t}=e;if(null==t){let[e,s]=i.command.chain().tryAll(e=>[e.getTextSelection(),e.getBlockSelections()]).getSelectedBlocks({types:["text","block"]}).run();e&&(t=s.selectedBlocks)}return t})();if(!n||0===n.length)return!1;let l=n.map(e=>e.model);n.every(e=>e.doc===a)||console.error("Not all models have the same doc instance, the result for update text type may not be correct",n);let c=(e,t)=>{if("affine:code"!==s)return;let i=function(e){if(0===e.length)return null;let t=e[0].doc,i=t.getParent(e[0]);if(!i)return null;let s=i.children.indexOf(e[0]),o=e.map(e=>e.text instanceof v.EY?e.text.toString():null).filter(Boolean).join("\n");return e.map(e=>t.deleteBlock(e)),t.addBlock("affine:code",{text:new v.EY(o)},i,s)}(l);if(!i)return;let o=a.getBlockById(i);if(o)return(0,st.xw)(r,o,{index:o.text?.length??0,length:0}).catch(console.error),t({updatedBlocks:[o]})},d=(e,t)=>{if("affine:divider"!==s)return!1;let i=l.at(-1);if(!i)return t({updatedBlocks:[]});let o=a.getParent(i);if(!o)return t({updatedBlocks:[]});let n=o.children.indexOf(i),c=a.getNext(i),d=c?.id,h=a.addBlock("affine:divider",{},o,n+1);c||(d=a.addBlock("affine:paragraph",{},o)),st.Km(r,d)?.catch(console.error);let u=a.getBlockById(h);return t(u?{updatedBlocks:[u]}:{updatedBlocks:[]})},h=(e,t)=>{let{updatedBlocks:i}=e;if(!i||0===i.length)return!1;let s=i[0],o=i[i.length-1],a=i.map(e=>BW(r,e)),n=r.selection,l=n.find("text");if(!l)return!1;let c=n.create("text",{from:{blockId:s.id,index:l.from.index,length:l.from.length},to:l.to?{blockId:o.id,index:l.to.index,length:l.to.length}:null});return Promise.all(a).then(()=>{n.setGroup("note",[c])}).catch(console.error),t()},u=(e,t)=>{let{updatedBlocks:i}=e;if(!i||0===i.length)return!1;let s=r.selection;return 0!==s.filter("block").length&&(requestAnimationFrame(()=>{let e=i.map(e=>s.create("block",{blockId:e.id}));s.setGroup("note",e)}),t())},[p,f]=i.command.chain().inline((e,t)=>(a.captureSync(),t())).try(e=>[e.inline(c),e.inline(d),e.inline((e,t)=>{let i=[];return l.forEach(e=>{if(!(0,st.op)(e,["affine:paragraph","affine:list","affine:code"]))return;if(e.flavour===s){a.updateBlock(e,o??{}),i.push(e);return}let t=_U(e,s,o),r=a.getBlockById(t);r&&i.push(r)}),t({updatedBlocks:i})})]).try(e=>[e.inline((e,t)=>!!["affine:code","affine:divider"].includes(s)&&t()),e.inline(h),e.inline(u),e.inline((e,t)=>t())]).run();return!!p&&t({updatedBlocks:f.updatedBlocks})},OC=(e,t)=>{let{focusBlock:i,std:s}=e;if(!i)return;let{selection:o}=s;return o.setGroup("note",[o.create("block",{blockId:i.blockId})]),t()},Ok=(e,t)=>{let{focusBlock:i,anchorBlock:s,tail:o}=e;if(!i||!s)return;let r=e.std.selection;if(s.blockId===i.blockId){let e=i.blockId;return r.setGroup("note",[r.create("block",{blockId:e})]),t()}let a=[...r.value];a.every(e=>e.blockId!==i.blockId)&&(o?a.push(r.create("block",{blockId:i.blockId})):a.unshift(r.create("block",{blockId:i.blockId})));let n=!1,l=a.filter(e=>e.blockId===s.blockId||e.blockId===i.blockId?(n=!n,!0):n);return r.setGroup("note",l),t()},OS=wP("bold"),OM=wP("italic"),OE=wP("underline"),OI=wP("strike"),OB=wP("code"),O$=(e,t)=>{let i=document.getSelection();if(!i||0===i.rangeCount)return!1;let s=i.getRangeAt(0);if(s.collapsed)return!1;let o=s.startContainer.parentElement?.closest(`[${si.jN}]`);if(!o)return!1;let r=o.inlineEditor,a=r.getInlineRange();if(!a||0===a.length)return!1;if(r.getFormat(a).link)return r.formatText(a,{link:null}),t();let n=new AbortController,l=TM(r,"create",a,n);return n.signal.addEventListener("abort",()=>l.remove()),t()},OT=(e,t)=>{let[i,s]=wD(e.std.command.chain()).run();return!!i&&t({textStyle:s.textStyle})},OO=(e,t)=>{let i=e.key,[s]=wD(e.std.command.chain()).inline((e,t)=>{let{textStyle:s}=e;return!!s&&i in s&&t()}).run();return!!s&&t()},OP=e=>{e.command.add("toggleBold",OS).add("toggleItalic",OM).add("toggleUnderline",OE).add("toggleStrike",OI).add("toggleCode",OB).add("toggleLink",O$).add("getTextStyle",OT).add("isTextStyleActive",OO)};class OA extends P.ps{constructor(){super(...arguments),this._dragHandleOption={flavour:Mw.h.model.flavour,edgeless:!0,onDragStart:({state:e,startDragging:t,anchorBlockPath:i,editorHost:s})=>{if(!i)return!1;let o=vI(e.raw.target);if(!o?.closest(vN))return!1;let r=s.std.view.getBlock(i);if(!r||!(0,iS.o)(r.model,[Mw.h.model.flavour]))return!1;let a=s.std.spec.getService("affine:page"),n=a?.viewport.zoom??1,l=document.createElement("div"),c=m.z.deserialize(r.model.xywh),d=new g.b(c.x*n,c.y*n);return(0,H.XX)(r.host.renderModel(r.model),l),t([r],e,l,d),!0},onDragEnd:({draggingElements:e,dropBlockId:t,dropType:i,state:s,editorHost:o})=>{if(1!==e.length||!(0,iS.o)(e[0].model,[Mw.h.model.flavour]))return!1;if("in"===i)return!0;let r=e[0].model,a=o.doc.getBlockById(t),n=o.doc.getParent(t);if(!a||!n)return!0;if(s.raw.altKey){let e=vj(r.children),t=n.children.indexOf(a)+("after"===i?1:0);o.doc.addBlocks(e,n,t)}else o.doc.moveBlocks(r.children,n,a,"before"===i),o.doc.deleteBlock(r),o.selection.setGroup("gfx",[]);return!0}}}mounted(){super.mounted(),this.std.command.add("selectBlocksBetween",Ok).add("selectBlock",OC).add("focusBlockStart",Ox).add("focusBlockEnd",Ow).add("updateBlockType",O_),OP(this.std),this.disposables.add(vq.registerOption(this._dragHandleOption))}}let OH={schema:Mw.h,service:OA,view:{component:(0,ic.eu)`affine-note`}},OL={schema:Mw.h,service:OA,view:{component:(0,ic.eu)`affine-edgeless-note`}};var OD=i(98452);class OZ extends P.ps{constructor(){super(...arguments),this.inlineManager=new Tv,this.placeholderGenerator=e=>"text"===e.type?"Type '/' for commands":({h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",quote:""})[e.type],this.referenceNodeConfig=new Tj}mounted(){super.mounted(),this.referenceNodeConfig.setDoc(this.doc);let e=TD(this.referenceNodeConfig);this.inlineManager.registerSpecs(e),this.inlineManager.registerMarkdownMatches(TZ)}}let Oj={schema:OD.x,view:{component:(0,ic.eu)`affine-paragraph`},service:OZ},OV=[Ob,OH,TN,TR,Tq,Tg,Or,Oj,Tf,Tu,TY,TQ,Oe,T7,T0,T6,b1],OR=[Ob,OL,TN,TR,Tq,Tg,Or,Oj,Tf,Tu,TY,TQ,Oe,T7,T0,T6,b1],Oz=[$8,...OR,Tr,Td,mq,mN],OF=[$9,...OR,Tr,Td,mq,mN],ON={schema:id.x,service:xQ,view:{component:(0,ic.eu)`affine-page-root`,widgets:{[SG]:(0,ic.eu)`${(0,ic.Bk)(SG)}`,[SA]:(0,ic.eu)`${(0,ic.Bk)(SA)}`,[$U]:(0,ic.eu)`${(0,ic.Bk)($U)}`,[Sz]:(0,ic.eu)`${(0,ic.Bk)(Sz)}`,[vN]:(0,ic.eu)`${(0,ic.Bk)(vN)}`,[wO]:(0,ic.eu)`${(0,ic.Bk)(wO)}`,[xd]:(0,ic.eu)`${(0,ic.Bk)(xd)}`,[mJ]:(0,ic.eu)`${(0,ic.Bk)(mJ)}`,[SX]:(0,ic.eu)`${(0,ic.Bk)(SX)}`,[x0]:(0,ic.eu)`${(0,ic.Bk)(x0)}`}}},Oq=[ON,...OV,To,Tc],OU=[{schema:id.x,service:xQ,view:{component:(0,ic.eu)`affine-preview-root`}},...OV,To,Tc];(0,A.lQ)(bi),(0,A.lQ)(bb);var OW=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},OG=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("embed-html-fullscreen-toolbar")],n=[],l=H.WF,c=[],d=[],h=[],u=[],p=[],f=[],g=[],m=[];(class extends l{static{t=this}static{let v="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.P)(".fullscreen-toolbar-container")],o=[(0,L.wk)()],r=[(0,L.MZ)({attribute:!1})],OW(this,null,i,{kind:"accessor",name:"_copied",static:!1,private:!1,access:{has:e=>"_copied"in e,get:e=>e._copied,set:(e,t)=>{e._copied=t}},metadata:v},c,d),OW(this,null,s,{kind:"accessor",name:"_fullScreenToolbarContainer",static:!1,private:!1,access:{has:e=>"_fullScreenToolbarContainer"in e,get:e=>e._fullScreenToolbarContainer,set:(e,t)=>{e._fullScreenToolbarContainer=t}},metadata:v},h,u),OW(this,null,o,{kind:"accessor",name:"_popperVisible",static:!1,private:!1,access:{has:e=>"_popperVisible"in e,get:e=>e._popperVisible,set:(e,t)=>{e._popperVisible=t}},metadata:v},p,f),OW(this,null,r,{kind:"accessor",name:"embedHtml",static:!1,private:!1,access:{has:e=>"embedHtml"in e,get:e=>e.embedHtml,set:(e,t)=>{e.embedHtml=t}},metadata:v},g,m),OW(null,e={value:t},a,{kind:"class",name:t.name,metadata:v},null,n),t=e.value,v&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}static{this.styles=(0,H.AH)`
    :host {
      box-sizing: border-box;
      position: absolute;
      z-index: 1;
      left: 50%;
      transform: translateX(-50%);
      bottom: 0;
      -webkit-user-select: none;
      user-select: none;
    }

    .toolbar-toggle-control {
      padding-bottom: 20px;
    }

    .toolbar-toggle-control[data-auto-hide='true'] {
      transition: 0.27s ease;
      padding-top: 100px;
      transform: translateY(100px);
    }

    .toolbar-toggle-control[data-auto-hide='true']:hover {
      padding-top: 0;
      transform: translateY(0);
    }

    .fullscreen-toolbar-container {
      background: var(--affine-background-overlay-panel-color);
      box-shadow: var(--affine-menu-shadow);
      border: 1px solid var(--affine-border-color);
      border-radius: 40px;

      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;

      padding: 0 20px;

      height: 64px;
    }

    .short-v-divider {
      display: inline-block;
      background-color: var(--affine-border-color);
      width: 1px;
      height: 36px;
    }
  `}get autoHideToolbar(){return this.embedHtml.rootService?.editPropsStore.getStorage("autoHideEmbedHTMLFullScreenToolbar")??!1}set autoHideToolbar(e){this.embedHtml.rootService?.editPropsStore.setStorage("autoHideEmbedHTMLFullScreenToolbar",e)}render(){let e=!this._popperVisible&&this.autoHideToolbar;return(0,H.qy)`<div
      data-auto-hide=${e}
      class="toolbar-toggle-control"
    >
      <div class="fullscreen-toolbar-container">
        <icon-button @click=${this.embedHtml.close}
          >${nf}</icon-button
        >
        <icon-button @click=${this._popSettings} hover=${this._popperVisible}
          >${tY}</icon-button
        >

        <div class="short-v-divider"></div>

        <icon-button class="copy-button" @click=${this.copyCode}
          >${this._copied?rw:aL}
        </icon-button>
      </div>
    </div> `}#lC;get _copied(){return this.#lC}set _copied(e){this.#lC=e}#lk;get _fullScreenToolbarContainer(){return this.#lk}set _fullScreenToolbarContainer(e){this.#lk=e}#lS;get _popperVisible(){return this.#lS}set _popperVisible(e){this.#lS=e}#lM;get embedHtml(){return this.#lM}set embedHtml(e){this.#lM=e}constructor(){super(...arguments),this._popSettings=()=>{this._popperVisible=!0,lD(this._fullScreenToolbarContainer,{options:{items:[{type:"custom",render:()=>(0,H.qy)`<div class="settings-header">
                <span>Settings</span>
              </div>`},{type:"group",name:"thing",children:()=>[{type:"toggle-switch",name:"Hide toolbar",on:this.autoHideToolbar,onChange:e=>{this.autoHideToolbar=e}}]}],onClose:()=>{this._popperVisible=!1}},placement:"top-end",middleware:[(0,oG.UU)(),(0,oG.cY)({mainAxis:4,crossAxis:-40})],container:this.embedHtml.iframeWrapper})},this.copyCode=()=>{this._copied||this.embedHtml.std.clipboard.writeToClipboard(e=>(e["text/plain"]=this.embedHtml.model.html??"",e)).then(()=>{this._copied=!0,setTimeout(()=>this._copied=!1,1500)}).catch(console.error)},this.#lC=OG(this,c,!1),this.#lk=(OG(this,d),OG(this,h,void 0)),this.#lS=(OG(this,u),OG(this,p,!1)),this.#lM=(OG(this,f),OG(this,g,void 0)),OG(this,m)}static{OG(t,n)}})})();var OY=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},OK=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let OX=(()=>{let e,t,i,s,o,r=[(0,L.EM)("affine-embed-html-block")],a=[],n=y6,l=[],c=[],d=[],h=[],u=[],p=[];return class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.P)(".embed-html-block-iframe-wrapper")],OY(this,null,i,{kind:"accessor",name:"_isSelected",static:!1,private:!1,access:{has:e=>"_isSelected"in e,get:e=>e._isSelected,set:(e,t)=>{e._isSelected=t}},metadata:f},l,c),OY(this,null,s,{kind:"accessor",name:"_showOverlay",static:!1,private:!1,access:{has:e=>"_showOverlay"in e,get:e=>e._showOverlay,set:(e,t)=>{e._showOverlay=t}},metadata:f},d,h),OY(this,null,o,{kind:"accessor",name:"iframeWrapper",static:!1,private:!1,access:{has:e=>"iframeWrapper"in e,get:e=>e.iframeWrapper,set:(e,t)=>{e.iframeWrapper=t}},metadata:f},u,p),OY(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=My}_handleClick(e){e.stopPropagation(),this.isInSurface||this._selectBlock()}_handleDoubleClick(e){e.stopPropagation(),this.open()}_selectBlock(){let e=this.host.selection,t=e.create("block",{blockId:this.blockId});e.setGroup("note",[t])}connectedCallback(){super.connectedCallback(),this.disposables.add(this.std.selection.slots.changed.on(()=>{this._isSelected=!!this.selected?.is("block")||!!this.selected?.is("surface"),this._showOverlay=this._isResizing||this._isDragging||!this._isSelected})),this.handleEvent("dragStart",()=>{this._isDragging=!0,this._showOverlay=this._isResizing||this._isDragging||!this._isSelected}),this.handleEvent("dragEnd",()=>{this._isDragging=!1,this._showOverlay=this._isResizing||this._isDragging||!this._isSelected}),this.isInSurface&&(this.disposables.add(this.model.propsUpdated.on(()=>{this.requestUpdate()})),this.rootService?.slots.elementResizeStart.on(()=>{this._isResizing=!0,this._showOverlay=!0}),this.rootService?.slots.elementResizeEnd.on(()=>{this._isResizing=!1,this._showOverlay=this._isResizing||this._isDragging||!this._isSelected}))}renderBlock(){let{style:e,xywh:t}=this.model;this._cardStyle=e;let i=m.z.deserialize(t);this._width=this.isInSurface?i.w:fA.Cd[e],this._height=this.isInSurface?i.h:fA.Hn[e];let s=`
      <style>
        body {
          margin: 0;
        }
      </style>
      ${this.model.html}
    `;return this.renderEmbed(()=>this.model.html?(0,H.qy)`
        <div
          class=${(0,oJ.H)({"affine-embed-html-block":!0,selected:this._isSelected})}
          style=${(0,Z.W)({width:this.isInSurface?`${this._width}px`:"100%",height:`${this._height}px`})}
          @click=${this._handleClick}
          @dblclick=${this._handleDoubleClick}
        >
          <div class="affine-embed-html">
            <div class="affine-embed-html-iframe-container">
              <div class="embed-html-block-iframe-wrapper" allowfullscreen>
                <iframe
                  class="embed-html-block-iframe"
                  sandbox="allow-scripts"
                  scrolling="no"
                  .srcdoc=${s}
                ></iframe>
                <embed-html-fullscreen-toolbar
                  .embedHtml=${this}
                ></embed-html-fullscreen-toolbar>
              </div>

              <div
                class=${(0,oJ.H)({"affine-embed-html-iframe-overlay":!0,hide:!this._showOverlay})}
              ></div>
            </div>
          </div>

          <div class="affine-embed-html-title">
            <div class="affine-embed-html-title-icon">${Mb}</div>

            <div class="affine-embed-html-title-text">${"Basic HTML Page Structure"}</div>
          </div>
        </div>
      `:(0,H.qy)` <div class="affine-html-empty">Empty</div>`)}#so;get _isSelected(){return this.#so}set _isSelected(e){this.#so=e}#sd;get _showOverlay(){return this.#sd}set _showOverlay(e){this.#sd=e}#lE;get iframeWrapper(){return this.#lE}set iframeWrapper(e){this.#lE=e}constructor(){super(...arguments),this._cardStyle="html",this._isDragging=!1,this._isResizing=!1,this.close=()=>{document.exitFullscreen().catch(console.error)},this.open=()=>{this.iframeWrapper?.requestFullscreen().catch(console.error)},this.refreshData=()=>{},this.#so=OK(this,l,!1),this.#sd=(OK(this,c),OK(this,d,!0)),this.#lE=(OK(this,h),OK(this,u,void 0)),OK(this,p)}static{OK(t,a)}},t})();i(58280),(0,A.lQ)(OX),(0,A.lQ)(b9),(0,A.lQ)(wg),m0.getInstance().addSpec("page",Oq),m0.getInstance().addSpec("edgeless",Oz),m0.getInstance().addSpec("page:preview",OU),m0.getInstance().addSpec("edgeless:preview",OF);var OQ=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},OJ=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,L.EM)("surface-ref-generic-block-portal")],a=[],n=(0,P.Tm)(P.ao),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],OQ(this,null,i,{kind:"accessor",name:"index",static:!1,private:!1,access:{has:e=>"index"in e,get:e=>e.index,set:(e,t)=>{e.index=t}},metadata:f},l,c),OQ(this,null,s,{kind:"accessor",name:"model",static:!1,private:!1,access:{has:e=>"model"in e,get:e=>e.model,set:(e,t)=>{e.model=t}},metadata:f},d,h),OQ(this,null,o,{kind:"accessor",name:"renderModel",static:!1,private:!1,access:{has:e=>"renderModel"in e,get:e=>e.renderModel,set:(e,t)=>{e.renderModel=t}},metadata:f},u,p),OQ(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    surface-ref-generic-block-portal {
      position: relative;
    }
  `}firstUpdated(){this.disposables.add(this.model.propsUpdated.on(()=>this.requestUpdate()))}render(){let{model:e,index:t}=this,i=m.z.deserialize(e.xywh),s={position:"absolute",zIndex:`${t}`,width:`${i.w}px`,height:`${i.h}px`,transform:`translate(${i.x}px, ${i.y}px)`};return(0,ic.qy)`
      <div
        style=${(0,Z.W)(s)}
        data-portal-reference-block-id="${e.id}"
      >
        ${this.renderModel(e)}
      </div>
    `}#i=OJ(this,l,void 0);get index(){return this.#i}set index(e){this.#i=e}#i7=(OJ(this,c),OJ(this,d,void 0));get model(){return this.#i7}set model(e){this.#i7=e}#lI=(OJ(this,h),OJ(this,u,void 0));get renderModel(){return this.#lI}set renderModel(e){this.#lI=e}constructor(){super(...arguments),OJ(this,p)}static{OJ(t,a)}})})();var O1=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},O0=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("surface-ref-note-portal")],n=[],l=(0,P.Tm)(P.ao),c=[],d=[],h=[],u=[],p=[],g=[],m=[],y=[];(class extends l{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],O1(this,null,i,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:f},c,d),O1(this,null,s,{kind:"accessor",name:"index",static:!1,private:!1,access:{has:e=>"index"in e,get:e=>e.index,set:(e,t)=>{e.index=t}},metadata:f},h,u),O1(this,null,o,{kind:"accessor",name:"model",static:!1,private:!1,access:{has:e=>"model"in e,get:e=>e.model,set:(e,t)=>{e.model=t}},metadata:f},p,g),O1(this,null,r,{kind:"accessor",name:"renderer",static:!1,private:!1,access:{has:e=>"renderer"in e,get:e=>e.renderer,set:(e,t)=>{e.renderer=t}},metadata:f},m,y),O1(null,e={value:t},a,{kind:"class",name:t.name,metadata:f},null,n),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    surface-ref-note-portal {
      position: relative;
    }
  `}connectedCallback(){super.connectedCallback();let e=new Set,t=this.model;for(;t;)this.ancestors.add(t.id),t=this.model.doc.getParent(t.id);let i={mode:"include",match:Array.from(e).map(e=>({id:e,viewType:v.lv.Display}))};this.query=i;let s=this.model.doc;this._disposables.add(()=>{s.blockCollection.clearQuery(i,!0)})}firstUpdated(){this.disposables.add(this.model.propsUpdated.on(()=>this.requestUpdate()))}render(){let{model:e,index:t}=this,{displayMode:i,edgeless:s,doc:o}=e;if(i&&i===q.ko.DocOnly)return H.s6;let r=`${fv.KI}`;o.awarenessStore.getFlag("enable_color_picker")?r=this.renderer.getColorValue(e.background,r):"string"==typeof e.background&&(r=e.background);let[a,n,l,c]=(0,f.W)(e.xywh),d={zIndex:`${t}`,width:l+"px",height:s.collapse&&s.collapsedHeight?s.collapsedHeight+"px":void 0,transform:`translate(${a}px, ${n}px)`,padding:`${fA.ei}px`,border:`${fA.m9}px none var(--affine-black-10)`,background:r.startsWith("--")?`var(${r})`:r,boxShadow:"var(--affine-note-shadow-sticker)",position:"absolute",borderRadius:"0px",boxSizing:"border-box",pointerEvents:"none",overflow:"hidden",transformOrigin:"0 0",userSelect:"none"};return(0,ic.qy)`
      <div
        class="surface-ref-note-portal"
        style=${(0,Z.W)(d)}
        data-model-height="${c}"
        data-portal-reference-block-id="${e.id}"
      >
        ${this.renderPreview()}
      </div>
    `}renderPreview(){if(!this.query)return console.error("Query is not set before rendering note preview"),H.s6;let e=this.model.doc.blockCollection.getDoc({query:this.query,readonly:!0}),t=m0.getInstance().getSpec("page:preview");return this.host.renderSpecPortal(e,t.value.slice())}updated(){setTimeout(()=>{let e=Array.from(this.querySelectorAll("[contenteditable]")),t=Array.from(this.querySelectorAll("[data-block-id]"));e.forEach(e=>{"true"===e.contentEditable&&(e.contentEditable="false")}),t.forEach(e=>{e.setAttribute(P.vz.rangeQueryExcludeAttr,"true")})},500)}#n;get host(){return this.#n}set host(e){this.#n=e}#i;get index(){return this.#i}set index(e){this.#i=e}#i7;get model(){return this.#i7}set model(e){this.#i7=e}#lB;get renderer(){return this.#lB}set renderer(e){this.#lB=e}constructor(){super(...arguments),this.ancestors=new Set,this.query=null,this.#n=O0(this,c,void 0),this.#i=(O0(this,d),O0(this,h,void 0)),this.#i7=(O0(this,u),O0(this,p,void 0)),this.#lB=(O0(this,g),O0(this,m,void 0)),O0(this,y)}static{O0(t,n)}})})();var O2=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},O5=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let O7={"affine:note":"surface-ref-note-portal"},O3=e=>O7[e.flavour]??"surface-ref-generic-block-portal",O4=(()=>{let e,t,i,s,o,r,a,n,l,c=[(0,L.EM)("surface-ref-portal")],d=[],h=(0,P.Tm)(P.ao),u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[];return class extends h{static{t=this}static{let M="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,L.P)(".stacking-canvas")],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.P)(".surface-blocks-portal")],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({attribute:!1})],O2(this,null,i,{kind:"accessor",name:"canvasSlot",static:!1,private:!1,access:{has:e=>"canvasSlot"in e,get:e=>e.canvasSlot,set:(e,t)=>{e.canvasSlot=t}},metadata:M},u,p),O2(this,null,s,{kind:"accessor",name:"doc",static:!1,private:!1,access:{has:e=>"doc"in e,get:e=>e.doc,set:(e,t)=>{e.doc=t}},metadata:M},f,g),O2(this,null,o,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:M},m,v),O2(this,null,r,{kind:"accessor",name:"portal",static:!1,private:!1,access:{has:e=>"portal"in e,get:e=>e.portal,set:(e,t)=>{e.portal=t}},metadata:M},y,b),O2(this,null,a,{kind:"accessor",name:"refModel",static:!1,private:!1,access:{has:e=>"refModel"in e,get:e=>e.refModel,set:(e,t)=>{e.refModel=t}},metadata:M},w,x),O2(this,null,n,{kind:"accessor",name:"renderModel",static:!1,private:!1,access:{has:e=>"renderModel"in e,get:e=>e.renderModel,set:(e,t)=>{e.renderModel=t}},metadata:M},_,C),O2(this,null,l,{kind:"accessor",name:"renderer",static:!1,private:!1,access:{has:e=>"renderer"in e,get:e=>e.renderer,set:(e,t)=>{e.renderer=t}},metadata:M},k,S),O2(null,e={value:t},c,{kind:"class",name:t.name,metadata:M},null,d),t=e.value,M&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:M})}static{this.styles=(0,H.AH)`
    .surface-blocks-portal {
      pointer-events: none;
      position: absolute;
      left: 0;
      top: 0;
      transform-origin: 0 0;
    }
    .stacking-canvas {
      position: absolute;
      left: 0;
      top: 0;
    }

    .stacking-canvas > canvas {
      transform: var(--stacking-canvas-transform);
      transform-origin: 0 0;
      position: absolute;
      left: 0;
      top: 0;
    }
  `}_getBlocksInGroup(e){return Array.from(e.childIds).map(e=>this.doc.getBlockById(e)).filter(e=>e)}render(){return(0,H.qy)`<div class="surface-blocks-portal">
      <div class="stacking-canvas"></div>
      ${this._renderGfxBlocks()}
    </div>`}setStackingCanvas(e){this.canvasSlot&&this.canvasSlot.replaceChildren(...e)}get surfaceService(){return this.host.std.spec.getService("affine:surface")}#l$;get canvasSlot(){return this.#l$}set canvasSlot(e){this.#l$=e}#d;get doc(){return this.#d}set doc(e){this.#d=e}#n;get host(){return this.#n}set host(e){this.#n=e}#lT;get portal(){return this.#lT}set portal(e){this.#lT=e}#lO;get refModel(){return this.#lO}set refModel(e){this.#lO=e}#lI;get renderModel(){return this.#lI}set renderModel(e){this.#lI=e}#lB;get renderer(){return this.#lB}set renderer(e){this.#lB=e}constructor(){super(...arguments),this._getBlocksInFrame=e=>{let t=e.elementBound;return this.surfaceService?.layer.blocksGrid.search(t)??[]},this._renderGfxBlocks=()=>{let e=this.refModel,t="flavour"in e?this._getBlocksInFrame(e):this._getBlocksInGroup(e),i=this.surfaceService?.layer.layers.filter(e=>"block"===e.type)??[],s=0,o=0;return(0,D.u)(t,e=>e.id,(e,t)=>{let r=(0,ic.eu)`${(0,ic.Bk)(O3(e))}`,a=i[s];if(!i[s].set.has(e)){for(;!a.set.has(e);)a=i[++s];o=0}let n=a.zIndex+o++;return(0,ic.qy)`<${r}
          .index=${t}
          .model=${e}
          .doc=${this.doc}
          .host=${this.host}
          .renderer=${this.renderer}
          .renderModel=${this.renderModel}
          style=${(0,Z.W)({"z-index":n})}
        ></${r}>`})},this.setViewport=e=>{this.requestUpdate(),this.updateComplete.then(()=>{this.portal?.style.setProperty("transform",`translate(${e.translateX}px, ${e.translateY}px) scale(${e.zoom})`),this.portal?.style.setProperty("transform-origin","0 0"),this.canvasSlot?.style.setProperty("--stacking-canvas-transform",`scale(${1/e.zoom}) translate(${-e.translateX}px, ${-e.translateY}px)`)}).catch(console.error)},this.#l$=O5(this,u,void 0),this.#d=(O5(this,p),O5(this,f,void 0)),this.#n=(O5(this,g),O5(this,m,void 0)),this.#lT=(O5(this,v),O5(this,y,void 0)),this.#lO=(O5(this,b),O5(this,w,void 0)),this.#lI=(O5(this,x),O5(this,_,void 0)),this.#lB=(O5(this,C),O5(this,k,void 0)),O5(this,S)}static{O5(t,d)}},t})();var O6=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},O8=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let O9=(0,H.AH)`
  .frame-preview-container {
    display: block;
    width: 100%;
    height: 100%;
    box-sizing: border-box;
    position: relative;
  }

  .frame-preview-surface-container {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    overflow: hidden;
  }

  .frame-preview-surface-viewport {
    max-width: 100%;
    box-sizing: border-box;
    margin: 0 auto;
    position: relative;
    overflow: hidden;
    pointer-events: none;
    user-select: none;
  }

  .frame-preview-surface-canvas-container {
    height: 100%;
    width: 100%;
    position: relative;
  }
`,Pe=(()=>{let e,t,i,s,o,r,a,n,l,c,d,h,u=[(0,L.EM)("frame-preview")],p=[],g=(0,P.Tm)(P.ao),y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[],O=[],D=[],j=[],V=[],R=[],z=[];return class extends g{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(g[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.P)(".frame-preview-surface-container surface-ref-portal")],o=[(0,L.P)(".frame-preview-surface-canvas-container")],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.wk)()],l=[(0,L.MZ)({attribute:!1})],c=[(0,L.MZ)({attribute:!1})],d=[(0,L.MZ)({attribute:!1})],h=[(0,L.MZ)({attribute:!1})],O6(this,null,i,{kind:"accessor",name:"_surfaceModel",static:!1,private:!1,access:{has:e=>"_surfaceModel"in e,get:e=>e._surfaceModel,set:(e,t)=>{e._surfaceModel=t}},metadata:f},y,b),O6(this,null,s,{kind:"accessor",name:"blocksPortal",static:!1,private:!1,access:{has:e=>"blocksPortal"in e,get:e=>e.blocksPortal,set:(e,t)=>{e.blocksPortal=t}},metadata:f},w,x),O6(this,null,o,{kind:"accessor",name:"container",static:!1,private:!1,access:{has:e=>"container"in e,get:e=>e.container,set:(e,t)=>{e.container=t}},metadata:f},_,C),O6(this,null,r,{kind:"accessor",name:"doc",static:!1,private:!1,access:{has:e=>"doc"in e,get:e=>e.doc,set:(e,t)=>{e.doc=t}},metadata:f},k,S),O6(this,null,a,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:f},M,E),O6(this,null,n,{kind:"accessor",name:"fillScreen",static:!1,private:!1,access:{has:e=>"fillScreen"in e,get:e=>e.fillScreen,set:(e,t)=>{e.fillScreen=t}},metadata:f},I,B),O6(this,null,l,{kind:"accessor",name:"frame",static:!1,private:!1,access:{has:e=>"frame"in e,get:e=>e.frame,set:(e,t)=>{e.frame=t}},metadata:f},$,T),O6(this,null,c,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:f},O,D),O6(this,null,d,{kind:"accessor",name:"surfaceHeight",static:!1,private:!1,access:{has:e=>"surfaceHeight"in e,get:e=>e.surfaceHeight,set:(e,t)=>{e.surfaceHeight=t}},metadata:f},j,V),O6(this,null,h,{kind:"accessor",name:"surfaceWidth",static:!1,private:!1,access:{has:e=>"surfaceWidth"in e,get:e=>e.surfaceWidth,set:(e,t)=>{e.surfaceWidth=t}},metadata:f},R,z),O6(null,e={value:t},u,{kind:"class",name:t.name,metadata:f},null,p),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=O9}_attachRenderer(){!this._surfaceRefRenderer?.surfaceRenderer.canvas.isConnected&&this.container&&this.blocksPortal&&(this.surfaceRenderer.viewport.setContainer(this.container),this.surfaceRenderer.attach(this.container),this.blocksPortal.isUpdatePending?this.blocksPortal.updateComplete.then(()=>{this.blocksPortal.setStackingCanvas(this._surfaceRefRenderer.surfaceRenderer.stackingCanvas)}).catch(console.error):this.blocksPortal.setStackingCanvas(this._surfaceRefRenderer.surfaceRenderer.stackingCanvas))}_cleanupSurfaceRefRenderer(){let e=this._surfaceRefService;e&&e.removeRenderer(this._surfaceRefRendererId)}_refreshViewport(){if(!this.frame||!this._surfaceService)return;let e=this.frame;this.updateComplete.then(()=>{this.surfaceRenderer.viewport.onResize(),this.surfaceRenderer.viewport.setViewportByBound(m.z.fromXYWH((0,f.W)(e.xywh))),this.blocksPortal?.setViewport(this.surfaceRenderer.viewport)}).catch(console.error)}_renderSurfaceContent(e){let{width:t,height:i}=this._getViewportWH(e),s=this.surfaceRenderer.generateColorProperty(e.background,"--affine-platte-transparent");return(0,H.qy)`<div
      class="frame-preview-surface-container"
      style=${(0,Z.W)({width:`${this.surfaceWidth}px`,height:`${this.surfaceHeight}px`})}
    >
      <div
        style=${(0,Z.W)({backgroundColor:s,borderRadius:"4px"})}
      >
        <div
          class="frame-preview-surface-viewport"
          style=${(0,Z.W)({width:`${t}px`,height:`${i}px`,aspectRatio:`${t} / ${i}`})}
        >
          <surface-ref-portal
            .doc=${this.doc}
            .host=${this.host}
            .refModel=${e}
            .renderModel=${this._renderModel}
          ></surface-ref-portal>
          <div class="frame-preview-surface-canvas-container">
            <!-- attach canvas here -->
          </div>
        </div>
      </div>
    </div>`}_setDocDisposables(e){this._clearDocDisposables(),this._docDisposables=new ix.K,this._docDisposables.add(e.slots.blockUpdated.on(t=>{let{type:i}=t;if("update"===i)return;let s=e.getBlockById(t.id);if(!s||!g$(s)||!s.xywh)return;let o=m.z.deserialize(this.frame.xywh),r=m.z.deserialize(s.xywh);o.containsPoint([r.x,r.y])&&this._refreshViewport()}))}_setEdgelessDisposables(e){this._clearEdgelessDisposables(),e&&(this._edgelessDisposables=new ix.K,this._edgelessDisposables.add(e.slots.navigatorSettingUpdated.on(({fillScreen:e})=>{void 0!==e&&(this.fillScreen=e,this._refreshViewport())})),this._edgelessDisposables.add(e.service.surface.elementAdded.on(({id:e})=>{this._overlapWithFrame(e)&&this._refreshViewport()})),this._edgelessDisposables.add(e.service.surface.elementUpdated.on(this._debounceHandleElementUpdated)),this._edgelessDisposables.add(e.service.surface.elementRemoved.on(()=>this._refreshViewport())))}_setFrameDisposables(e){this._clearFrameDisposables(),this._frameDisposables=new ix.K,this._frameDisposables.add(e.propsUpdated.on(()=>{this.requestUpdate(),this._refreshViewport()}))}_setupSurfaceRefRenderer(){let e=this._surfaceRefService;if(!e)return;let t=e.getRenderer(this._surfaceRefRendererId,this.doc,!0);this._surfaceRefRenderer=t,this._disposables.add(t.slots.surfaceModelChanged.on(e=>{this._surfaceModel=e})),this._disposables.add(t.slots.surfaceRendererRefresh.on(()=>{this.requestUpdate()})),this._disposables.add(this._surfaceRefRenderer.surfaceService.layer.slots.layerUpdated.on(()=>{this.blocksPortal.setStackingCanvas(this._surfaceRefRenderer.surfaceRenderer.stackingCanvas)})),t.mount()}get _surfaceRefService(){return this.host.spec.getService("affine:surface-ref")}get _surfaceService(){return this.host?.std.spec.getService("affine:surface")}_tryLoadFillScreen(){this.edgeless&&(this.fillScreen=this.edgeless.service.editPropsStore.getStorage("presentFillScreen")??!1)}connectedCallback(){super.connectedCallback(),this._tryLoadFillScreen(),this._setupSurfaceRefRenderer(),this._setDocDisposables(this.doc),this._setEdgelessDisposables(this.edgeless)}disconnectedCallback(){super.disconnectedCallback(),this._cleanupSurfaceRefRenderer(),this._clearEdgelessDisposables(),this._clearDocDisposables(),this._clearFrameDisposables()}firstUpdated(){this._refreshViewport(),this._setFrameDisposables(this.frame)}render(){let{_surfaceModel:e,frame:t,host:i,_surfaceService:s}=this,o=!e||!t||!t.xywh||!i||!s;return(0,H.qy)`<div class="frame-preview-container">
      ${o?H.s6:this._renderSurfaceContent(t)}
    </div>`}updated(e){e.has("edgeless")&&(this.edgeless?this._setEdgelessDisposables(this.edgeless):this._clearEdgelessDisposables(),setTimeout(()=>{this._refreshViewport()})),e.has("doc")&&this.doc&&this._setDocDisposables(this.doc),this._attachRenderer()}get surfaceRenderer(){return this._surfaceRefRenderer.surfaceRenderer}#lP;get _surfaceModel(){return this.#lP}set _surfaceModel(e){this.#lP=e}#lA;get blocksPortal(){return this.#lA}set blocksPortal(e){this.#lA=e}#r;get container(){return this.#r}set container(e){this.#r=e}#d;get doc(){return this.#d}set doc(e){this.#d=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#lH;get fillScreen(){return this.#lH}set fillScreen(e){this.#lH=e}#af;get frame(){return this.#af}set frame(e){this.#af=e}#n;get host(){return this.#n}set host(e){this.#n=e}#lL;get surfaceHeight(){return this.#lL}set surfaceHeight(e){this.#lL=e}#lD;get surfaceWidth(){return this.#lD}set surfaceWidth(e){this.#lD=e}constructor(){super(...arguments),this._clearDocDisposables=()=>{this._docDisposables?.dispose(),this._docDisposables=null},this._clearEdgelessDisposables=()=>{this._edgelessDisposables?.dispose(),this._edgelessDisposables=null},this._clearFrameDisposables=()=>{this._frameDisposables?.dispose(),this._frameDisposables=null},this._debounceHandleElementUpdated=(0,A.sg)(e=>{let{id:t,oldValues:i,props:s}=e;if(s.xywh){if(this._overlapWithFrame(t))this._refreshViewport();else if(i.xywh){let e=m.z.deserialize(i.xywh),t=m.z.deserialize(this.frame.xywh);e.isOverlapWithBound(t)&&this._refreshViewport()}}},1e3/30),this._docDisposables=null,this._edgelessDisposables=null,this._frameDisposables=null,this._getViewportWH=e=>{let[,,t,i]=(0,f.W)(e.xywh),s=1;return s=this.fillScreen?Math.max(this.surfaceWidth/t,this.surfaceHeight/i):Math.min(this.surfaceWidth/t,this.surfaceHeight/i),{width:t*s,height:i*s}},this._overlapWithFrame=e=>{let t=this.edgeless?.service.getElementById(e);if(!t||!t.xywh)return!1;let i=m.z.deserialize(this.frame.xywh),s=m.z.deserialize(t.xywh);return i.isOverlapWithBound(s)},this._renderModel=e=>{let t={mode:"include",match:[{id:e.id,viewType:v.lv.Display}]};this._disposables.add(()=>{i.blockCollection.clearQuery(t)});let i=e.doc.blockCollection.getDoc({query:t}),s=m0.getInstance().getSpec("page:preview");return this.host.renderSpecPortal(i,s.value)},this._surfaceRefRendererId=(0,v.Ak)(),this.#lP=O8(this,y,null),this.#lA=(O8(this,b),O8(this,w,void 0)),this.#r=(O8(this,x),O8(this,_,void 0)),this.#d=(O8(this,C),O8(this,k,void 0)),this.#iE=(O8(this,S),O8(this,M,null)),this.#lH=(O8(this,E),O8(this,I,!1)),this.#af=(O8(this,B),O8(this,$,void 0)),this.#n=(O8(this,T),O8(this,O,void 0)),this.#lL=(O8(this,D),O8(this,j,166)),this.#lD=(O8(this,V),O8(this,R,280)),O8(this,z)}static{O8(t,p)}},t})();var Pt=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Pi=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("affine-preview-root")],s=[],o=P.p_;(class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;Pt(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    affine-preview-root {
      display: block;
    }
  `}renderBlock(){return(0,H.qy)`<div class="affine-preview-root">
      ${this.host.renderChildren(this.model)}
    </div>`}static{Pi(t,s)}})})();var Ps=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Po=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l=[(0,L.EM)("affine-database-title")],c=[],d=(0,P.Tm)(P.ao),h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[];(class extends d{static{t=this}static{let C="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.P)("rich-text")],n=[(0,L.MZ)({attribute:!1})],Ps(this,null,i,{kind:"accessor",name:"isActive",static:!1,private:!1,access:{has:e=>"isActive"in e,get:e=>e.isActive,set:(e,t)=>{e.isActive=t}},metadata:C},h,u),Ps(this,null,s,{kind:"accessor",name:"isComposing",static:!1,private:!1,access:{has:e=>"isComposing"in e,get:e=>e.isComposing,set:(e,t)=>{e.isComposing=t}},metadata:C},p,f),Ps(this,null,o,{kind:"accessor",name:"onPressEnterKey",static:!1,private:!1,access:{has:e=>"onPressEnterKey"in e,get:e=>e.onPressEnterKey,set:(e,t)=>{e.onPressEnterKey=t}},metadata:C},g,m),Ps(this,null,r,{kind:"accessor",name:"readonly",static:!1,private:!1,access:{has:e=>"readonly"in e,get:e=>e.readonly,set:(e,t)=>{e.readonly=t}},metadata:C},v,y),Ps(this,null,a,{kind:"accessor",name:"richText",static:!1,private:!1,access:{has:e=>"richText"in e,get:e=>e.richText,set:(e,t)=>{e.richText=t}},metadata:C},b,w),Ps(this,null,n,{kind:"accessor",name:"titleText",static:!1,private:!1,access:{has:e=>"titleText"in e,get:e=>e.titleText,set:(e,t)=>{e.titleText=t}},metadata:C},x,_),Ps(null,e={value:t},l,{kind:"class",name:t.name,metadata:C},null,c),t=e.value,C&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})}static{this.styles=(0,H.AH)`
    .affine-database-title {
      position: relative;
      flex: 1;
    }

    .database-title {
      font-size: 20px;
      font-weight: 600;
      line-height: 28px;
      color: var(--affine-text-primary-color);
      font-family: inherit;
      /* overflow-x: scroll; */
      overflow: hidden;
      cursor: text;
    }

    .database-title [data-v-text='true'] {
      display: block;
      word-break: break-all !important;
    }

    .database-title.ellipsis [data-v-text='true'] {
      white-space: nowrap !important;
      text-overflow: ellipsis;
      overflow: hidden;
    }

    .affine-database-title [data-title-empty='true']::before {
      content: 'Untitled';
      position: absolute;
      pointer-events: none;
      color: var(--affine-text-primary-color);
    }

    .affine-database-title [data-title-focus='true']::before {
      color: var(--affine-placeholder-color);
    }
  `}firstUpdated(){this.titleText.yText.observe(()=>{this.requestUpdate()}),this.updateComplete.then(()=>{this.disposables.add(this.inlineEditor.slots.keydown.on(this._onKeyDown)),this.disposables.add(this.inlineEditor.slots.inputting.on(()=>{this.isComposing=this.inlineEditor.isComposing}));let e=null;this.disposables.add(this.inlineEditor.slots.inlineRangeUpdate.on(([t])=>{t?e||(this.isActive=!0):e&&(this.isActive=!1),e=t}))}).catch(console.error)}async getUpdateComplete(){let e=await super.getUpdateComplete();return await this.richText?.updateComplete,e}render(){let e=(!this.titleText||!this.titleText.length)&&!this.isComposing,t=(0,oJ.H)({"database-title":!0,ellipsis:!this.isActive});return(0,H.qy)`<div class="affine-database-title">
      <rich-text
        .yText=${this.titleText.yText}
        .inlineEventSource=${this.topContenteditableElement}
        .undoManager=${this.database?.doc.history}
        .enableFormat=${!1}
        .readonly=${this.readonly}
        .verticalScrollContainerGetter=${()=>this.topContenteditableElement?.host?(0,sc.dV)(this.topContenteditableElement.host):null}
        class="${t}"
        data-title-empty="${e}"
        data-title-focus="${this.isActive}"
        data-block-is-database-title="true"
        title="${this.titleText.toString()}"
      ></rich-text>
      <div class="database-title" style="float:left;height: 0;">Untitled</div>
    </div>`}get database(){return this.closest("affine-database")}get inlineEditor(){return(0,V.Z1)(this.richText.inlineEditor),this.richText.inlineEditor}get topContenteditableElement(){return this.database?.topContenteditableElement}#nJ;get isActive(){return this.#nJ}set isActive(e){this.#nJ=e}#lZ;get isComposing(){return this.#lZ}set isComposing(e){this.#lZ=e}#lj;get onPressEnterKey(){return this.#lj}set onPressEnterKey(e){this.#lj=e}#e5;get readonly(){return this.#e5}set readonly(e){this.#e5=e}#iI;get richText(){return this.#iI}set richText(e){this.#iI=e}#ls;get titleText(){return this.#ls}set titleText(e){this.#ls=e}constructor(){super(...arguments),this._onKeyDown=e=>{if("Enter"===e.key&&!e.isComposing){e.preventDefault(),this.onPressEnterKey?.();return}},this.#nJ=Po(this,h,!1),this.#lZ=(Po(this,u),Po(this,p,!1)),this.#lj=(Po(this,f),Po(this,g,void 0)),this.#e5=(Po(this,m),Po(this,v,void 0)),this.#iI=(Po(this,y),Po(this,b,void 0)),this.#ls=(Po(this,w),Po(this,x,void 0)),Po(this,_)}static{Po(t,c)}})})();let Pr=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.29999 7.5C4.85227 7.5 5.29999 7.05228 5.29999 6.5C5.29999 5.94772 4.85227 5.5 4.29999 5.5C3.7477 5.5 3.29999 5.94772 3.29999 6.5C3.29999 7.05228 3.7477 7.5 4.29999 7.5ZM8.33335 5.75073C7.91914 5.75071 7.58334 6.08648 7.58331 6.50069C7.58329 6.9149 7.91906 7.25071 8.33327 7.25073L20.2499 7.2514C20.6641 7.25142 20.9999 6.91565 21 6.50144C21 6.08722 20.6642 5.75142 20.25 5.7514L8.33335 5.75073ZM8.33336 11.2508C7.91914 11.2508 7.58334 11.5865 7.58331 12.0007C7.58329 12.415 7.91905 12.7508 8.33327 12.7508L20.25 12.7515C20.6642 12.7515 21 12.4158 21 12.0015C21 11.5873 20.6643 11.2515 20.2501 11.2515L8.33336 11.2508ZM8.33336 16.7508C7.91914 16.7508 7.58334 17.0865 7.58331 17.5007C7.58329 17.915 7.91905 18.2508 8.33327 18.2508L20.25 18.2515C20.6642 18.2515 21 17.9158 21 17.5016C21 17.0873 20.6643 16.7515 20.25 16.7515L8.33336 16.7508ZM5.29999 12C5.29999 12.5523 4.85227 13 4.29999 13C3.7477 13 3.29999 12.5523 3.29999 12C3.29999 11.4477 3.7477 11 4.29999 11C4.85227 11 5.29999 11.4477 5.29999 12ZM4.29999 18.5C4.85227 18.5 5.29999 18.0523 5.29999 17.5C5.29999 16.9477 4.85227 16.5 4.29999 16.5C3.7477 16.5 3.29999 16.9477 3.29999 17.5C3.29999 18.0523 3.7477 18.5 4.29999 18.5Z"
    fill="currentColor"
  />
</svg> `,Pa=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.1287 5.76205C4.18101 5.74447 4.22813 5.71723 4.27846 5.68228L4.53386 5.50534V7.63997C4.53386 7.82761 4.59717 7.9904 4.71548 8.10631C4.83355 8.222 4.99776 8.28258 5.18421 8.28258C5.37066 8.28258 5.53488 8.222 5.65295 8.10631C5.77126 7.9904 5.83457 7.82761 5.83457 7.63997V4.93384C5.83457 4.72505 5.76932 4.54353 5.6384 4.41417C5.50756 4.2849 5.32242 4.21887 5.10409 4.21887C4.88258 4.21887 4.6705 4.24086 4.42948 4.40154L3.75168 4.85427C3.57975 4.97094 3.5 5.12628 3.5 5.31379C3.5 5.58698 3.70304 5.7858 3.96426 5.7858C4.02312 5.7858 4.07561 5.7799 4.1287 5.76205ZM9.40567 5.6015C8.98147 5.60148 8.63757 5.94534 8.63755 6.36953C8.63752 6.79373 8.98138 7.13762 9.40557 7.13765L19.7319 7.13827C20.1561 7.1383 20.5 6.79444 20.5 6.37024C20.5 5.94605 20.1562 5.60215 19.732 5.60213L9.40567 5.6015ZM9.40567 11.234C8.98147 11.234 8.63757 11.5779 8.63755 12.0021C8.63752 12.4263 8.98138 12.7702 9.40557 12.7702L19.7319 12.7708C20.1561 12.7708 20.5 12.427 20.5 12.0028C20.5 11.5786 20.1562 11.2347 19.732 11.2347L9.40567 11.234ZM9.40567 16.8666C8.98147 16.8666 8.63757 17.2104 8.63755 17.6346C8.63752 18.0588 8.98138 18.4027 9.40557 18.4027L19.7319 18.4033C20.1561 18.4034 20.5 18.0595 20.5 17.6353C20.5 17.2111 20.1562 16.8672 19.732 16.8672L9.40567 16.8666ZM6.62426 11.114C6.63609 11.048 6.6419 10.9782 6.6419 10.9031C6.6419 10.2259 6.06294 9.7684 5.15573 9.7684C4.5044 9.7684 3.97971 10.045 3.78328 10.4895C3.77042 10.5192 3.76022 10.5492 3.75251 10.5798C3.76022 10.5492 3.77044 10.5191 3.78331 10.4894C3.97974 10.0449 4.50442 9.7683 5.15575 9.7683C6.06297 9.7683 6.64193 10.2258 6.64193 10.903C6.64193 10.9782 6.6361 11.048 6.62426 11.114ZM5.12474 12.7537L5.12471 12.7537V12.7744H6.30848C6.58246 12.7744 6.73753 12.9372 6.73753 13.1879C6.73753 13.2197 6.73493 13.2502 6.72981 13.2792C6.73495 13.2502 6.73756 13.2196 6.73756 13.1878C6.73756 12.9371 6.58248 12.7743 6.30851 12.7743H5.12474V12.7537ZM3.73998 12.9913C3.77464 12.8518 3.86616 12.7304 4.02368 12.5985L5.04978 11.7197C5.38832 11.4292 5.53086 11.2672 5.57304 11.0983C5.5309 11.2672 5.38836 11.4293 5.04976 11.7198L4.02365 12.5986C3.86617 12.7305 3.77466 12.8519 3.73998 12.9913ZM4.50342 11.1816C4.59839 11.1252 4.67754 11.0396 4.75422 10.9274C4.81979 10.8327 4.87897 10.7719 4.93846 10.7343C4.99601 10.6979 5.05933 10.6797 5.14025 10.6797C5.25266 10.6797 5.33878 10.7139 5.39544 10.7645C5.45119 10.8143 5.48498 10.8855 5.48498 10.9753C5.48498 11.1448 5.40603 11.2791 4.9831 11.642L3.95747 12.5204C3.73832 12.704 3.62145 12.8851 3.62145 13.1283C3.62145 13.2841 3.66578 13.4314 3.77329 13.5397C3.88112 13.6484 4.03847 13.7037 4.23562 13.7037H6.30851C6.46671 13.7037 6.60202 13.6548 6.69803 13.5592C6.79392 13.4637 6.83997 13.3323 6.83997 13.1878C6.83997 13.0412 6.79418 12.9093 6.6977 12.8141C6.60129 12.719 6.46582 12.6718 6.30851 12.6718H5.37617L5.87155 12.2443C6.15942 11.9949 6.3783 11.7967 6.52349 11.5947C6.67287 11.3868 6.74434 11.1753 6.74434 10.903C6.74434 10.5321 6.58449 10.2187 6.30157 10.0006C6.02097 9.78425 5.62548 9.66589 5.15575 9.66589C4.48013 9.66589 3.90785 9.95417 3.68934 10.4487C3.64978 10.54 3.63179 10.6341 3.63179 10.7324C3.63179 10.8869 3.68238 11.0223 3.78385 11.1187C3.8847 11.2145 4.02467 11.2613 4.18393 11.2613C4.30216 11.2613 4.40667 11.2391 4.50342 11.1816ZM3.67138 16.0785C3.82347 15.664 4.34013 15.2247 5.22801 15.2247C5.68517 15.2247 6.09277 15.3214 6.38781 15.5143C6.68486 15.7085 6.86644 15.9999 6.86644 16.3799C6.86644 16.8627 6.55828 17.1838 6.17395 17.3212C6.40817 17.3704 6.60427 17.4641 6.75036 17.5998C6.93436 17.7707 7.035 18.0045 7.035 18.2873C7.035 18.6915 6.86059 19.0236 6.54548 19.2529C6.23205 19.4811 5.78277 19.6055 5.23363 19.6055C4.27385 19.6055 3.73928 19.1473 3.59258 18.7372C3.56511 18.6608 3.55307 18.5763 3.55307 18.5092C3.55307 18.3499 3.60652 18.216 3.70785 18.1223C3.80872 18.0289 3.95152 17.9805 4.12117 17.9805C4.23774 17.9805 4.33814 17.9997 4.42613 18.0439C4.51436 18.0882 4.58653 18.1558 4.64935 18.247C4.72378 18.3559 4.79404 18.4374 4.8851 18.4925C4.97546 18.5471 5.09131 18.5788 5.26173 18.5788C5.53989 18.5788 5.7218 18.414 5.7218 18.2002C5.7218 18.0706 5.67315 17.9761 5.58111 17.9118C5.48617 17.8455 5.33953 17.8076 5.13812 17.8076H5.11003C4.96167 17.8076 4.84264 17.7662 4.76061 17.6859C4.67849 17.6054 4.64024 17.4925 4.64024 17.3631C4.64024 17.2388 4.6788 17.1269 4.76042 17.0461C4.84209 16.9653 4.96094 16.9214 5.11003 16.9214H5.13812C5.3156 16.9214 5.449 16.8827 5.53665 16.8186C5.62237 16.7559 5.66843 16.6661 5.66843 16.5512C5.66843 16.4399 5.62767 16.3529 5.5564 16.293C5.48412 16.2322 5.37547 16.1951 5.23363 16.1951C5.1199 16.1951 5.02579 16.2182 4.94752 16.2628C4.86935 16.3074 4.80383 16.3753 4.74999 16.4698C4.68013 16.5935 4.60457 16.683 4.50858 16.7408C4.41232 16.7988 4.30106 16.8216 4.16612 16.8216C3.99313 16.8216 3.85731 16.7706 3.76471 16.6781C3.67224 16.5856 3.62892 16.4576 3.62892 16.3153C3.62892 16.2303 3.64147 16.1623 3.67138 16.0785Z"
    fill="currentColor"
  />
</svg> `,Pn=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M6 3.25C4.48122 3.25 3.25 4.48122 3.25 6V18C3.25 19.5188 4.48122 20.75 6 20.75H18C19.5188 20.75 20.75 19.5188 20.75 18V6C20.75 4.48122 19.5188 3.25 18 3.25H6ZM4.75 6C4.75 5.30964 5.30964 4.75 6 4.75H18C18.6904 4.75 19.25 5.30964 19.25 6V18C19.25 18.6904 18.6904 19.25 18 19.25H6C5.30964 19.25 4.75 18.6904 4.75 18V6ZM16.5303 9.53033C16.8232 9.23744 16.8232 8.76256 16.5303 8.46967C16.2374 8.17678 15.7626 8.17678 15.4697 8.46967L10.5 13.4393L9.03033 11.9697C8.73744 11.6768 8.26256 11.6768 7.96967 11.9697C7.67678 12.2626 7.67678 12.7374 7.96967 13.0303L9.96967 15.0303C10.2626 15.3232 10.7374 15.3232 11.0303 15.0303L16.5303 9.53033Z"
    fill="currentColor"
  />
</svg> `,Pl=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M6 3.25C4.48122 3.25 3.25 4.48122 3.25 6V18C3.25 19.5188 4.48122 20.75 6 20.75H18C19.5188 20.75 20.75 19.5188 20.75 18V6C20.75 4.48122 19.5188 3.25 18 3.25H6ZM4.75 6C4.75 5.30964 5.30964 4.75 6 4.75H18C18.6904 4.75 19.25 5.30964 19.25 6V18C19.25 18.6904 18.6904 19.25 18 19.25H6C5.30964 19.25 4.75 18.6904 4.75 18V6ZM16.5303 9.53033C16.8232 9.23744 16.8232 8.76256 16.5303 8.46967C16.2374 8.17678 15.7626 8.17678 15.4697 8.46967L10.5 13.4393L9.03033 11.9697C8.73744 11.6768 8.26256 11.6768 7.96967 11.9697C7.67678 12.2626 7.67678 12.7374 7.96967 13.0303L9.96967 15.0303C10.2626 15.3232 10.7374 15.3232 11.0303 15.0303L16.5303 9.53033Z"
    fill="currentColor"
  />
</svg> `,Pc=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M3.25 4C3.25 3.58579 3.58579 3.25 4 3.25H20C20.4142 3.25 20.75 3.58579 20.75 4V6.66667C20.75 7.08088 20.4142 7.41667 20 7.41667C19.5858 7.41667 19.25 7.08088 19.25 6.66667V4.75H12.75V19.25H16C16.4142 19.25 16.75 19.5858 16.75 20C16.75 20.4142 16.4142 20.75 16 20.75H8C7.58579 20.75 7.25 20.4142 7.25 20C7.25 19.5858 7.58579 19.25 8 19.25H11.25V4.75H4.75V6.66667C4.75 7.08088 4.41421 7.41667 4 7.41667C3.58579 7.41667 3.25 7.08088 3.25 6.66667V4Z"
    fill="currentColor"
  />
</svg> `,Pd=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5 10.9655V11.0953V15.0608C5 15.6262 5.45838 16.0846 6.02382 16.0846H10.119C10.6845 16.0846 11.1429 15.6262 11.1429 15.0608V10.9655C11.1429 10.4001 10.6845 9.9417 10.119 9.9417H6.70422C7.17415 8.66255 8.40313 7.75 9.84524 7.75V6.25C7.24961 6.25 5.13069 8.29105 5.00582 10.8557C5.00197 10.8918 5 10.9284 5 10.9655ZM13 10.9655V11.0953V15.0608C13 15.6262 13.4584 16.0846 14.0238 16.0846H18.119C18.6845 16.0846 19.1429 15.6262 19.1429 15.0608V10.9655C19.1429 10.4001 18.6845 9.9417 18.119 9.9417H14.7042C15.1741 8.66255 16.4031 7.75 17.8452 7.75V6.25C15.2496 6.25 13.1307 8.29105 13.0058 10.8557C13.002 10.8918 13 10.9284 13 10.9655Z"
    fill="currentColor"
  />
</svg> `,Ph=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M17.9256 6.5784V17.4764C17.9256 18.078 18.2564 18.4389 18.7878 18.4389C19.3292 18.4389 19.65 18.088 19.65 17.4764V5.72621C19.65 5.04445 19.1988 4.57324 18.5572 4.57324C18.1662 4.57324 17.8153 4.72363 17.1836 5.19484L15.1584 6.69871C14.7574 6.98946 14.5669 7.26016 14.5669 7.55091C14.5669 7.93189 14.8677 8.24269 15.2386 8.24269C15.4592 8.24269 15.6697 8.16248 15.9605 7.95194L17.8453 6.5784H17.9256ZM4.41998 4.90259C4.84523 4.90259 5.18996 5.24732 5.18996 5.67257V11.0239H11.3584V5.67257C11.3584 5.24732 11.7031 4.90259 12.1284 4.90259C12.5536 4.90259 12.8983 5.24732 12.8983 5.67257V11.7939V17.9153C12.8983 18.3405 12.5536 18.6853 12.1284 18.6853C11.7031 18.6853 11.3584 18.3405 11.3584 17.9153V12.5639H5.18996V17.9153C5.18996 18.3405 4.84523 18.6853 4.41998 18.6853C3.99473 18.6853 3.64999 18.3405 3.64999 17.9153V5.67257C3.64999 5.24732 3.99473 4.90259 4.41998 4.90259Z"
    fill="currentColor"
  />
</svg> `,Pu=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M14.1588 15.9996C13.5966 16.6381 13.4346 16.9049 13.4346 17.2479C13.4346 17.8006 13.873 18.1342 14.5686 18.1342H20.8578C21.3819 18.1342 21.6869 17.8578 21.6869 17.4099C21.6869 16.9525 21.3629 16.6762 20.8578 16.6762H15.5691V16.5618L19.0949 12.531C20.8102 10.5775 21.2962 9.67223 21.2962 8.43344C21.2962 6.33702 19.6476 4.85046 17.3035 4.85046C14.7878 4.85046 13.2154 6.54666 13.2154 8.16662C13.2154 8.6812 13.5204 9.03378 13.9873 9.03378C14.378 9.03378 14.6448 8.77649 14.7782 8.27144C15.0641 7.03265 15.9694 6.2989 17.1986 6.2989C18.6471 6.2989 19.6095 7.19464 19.6095 8.53826C19.6095 9.434 19.1998 10.2345 18.123 11.4637L14.1588 15.9996ZM3.41871 5.36361C3.82289 5.36361 4.15055 5.69127 4.15055 6.09545V11.1818H10.0134V6.09545C10.0134 5.69127 10.341 5.36361 10.7452 5.36361C11.1494 5.36361 11.4771 5.69127 11.4771 6.09545V11.9136V17.7317C11.4771 18.1359 11.1494 18.4636 10.7452 18.4636C10.341 18.4636 10.0134 18.1359 10.0134 17.7317V12.6454H4.15055V17.7317C4.15055 18.1359 3.82289 18.4636 3.41871 18.4636C3.01452 18.4636 2.68687 18.1359 2.68687 17.7317V6.09545C2.68687 5.69127 3.01452 5.36361 3.41871 5.36361Z"
    fill="currentColor"
  />
</svg> `,Pp=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.04957 5.85587C4.04957 5.44177 3.71388 5.10608 3.29979 5.10608C2.88569 5.10608 2.55 5.44177 2.55 5.85587V17.7775C2.55 18.1916 2.88569 18.5273 3.29979 18.5273C3.71388 18.5273 4.04957 18.1916 4.04957 17.7775V12.5665H10.0562V17.7775C10.0562 18.1916 10.3919 18.5273 10.806 18.5273C11.2201 18.5273 11.5558 18.1916 11.5558 17.7775V11.8167V5.85587C11.5558 5.44177 11.2201 5.10608 10.806 5.10608C10.3919 5.10608 10.0562 5.44177 10.0562 5.85587V11.0669H4.04957V5.85587ZM13.5289 15.0901C13.1108 15.0901 12.8162 15.3942 12.8162 15.8218C12.8162 17.2759 14.6124 18.7585 17.0643 18.7585C19.7063 18.7585 21.55 17.1999 21.55 14.976C21.55 13.3414 20.324 11.9349 18.7179 11.7543V11.6592C20.0389 11.4312 21.1128 10.0626 21.1128 8.62759C21.1128 6.65084 19.4212 5.2348 17.0453 5.2348C14.7074 5.2348 13.1203 6.66034 13.1203 8.1334C13.1203 8.60859 13.4054 8.92221 13.8426 8.92221C14.2132 8.92221 14.4508 8.72263 14.6409 8.19993C15.021 7.22106 15.8763 6.66034 17.0073 6.66034C18.4613 6.66034 19.4402 7.53468 19.4402 8.83667C19.4402 10.1387 18.4328 11.0795 17.0453 11.0795H15.9239C15.4677 11.0795 15.1636 11.3741 15.1636 11.7923C15.1636 12.201 15.4867 12.5146 15.9239 12.5146H17.1118C18.7654 12.5146 19.8774 13.4934 19.8774 14.9475C19.8774 16.4016 18.7939 17.3329 17.0928 17.3329C15.8003 17.3329 14.8119 16.7627 14.3177 15.7458C14.0707 15.2611 13.8616 15.0901 13.5289 15.0901Z"
    fill="currentColor"
  />
</svg> `,Pf=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M18.7933 15.7548V17.6864C18.7933 18.2383 19.0787 18.5523 19.583 18.5523C20.0968 18.5523 20.3823 18.2383 20.3823 17.6864V15.7548H21.3719C21.9143 15.7548 22.2188 15.4884 22.2188 15.0317C22.2188 14.5654 21.9047 14.299 21.3719 14.299H20.3823V6.69626C20.3823 5.81134 19.897 5.31654 19.0311 5.31654C18.3746 5.31654 17.9369 5.602 17.3755 6.42983C15.2155 9.66503 14.3591 11.0352 12.9984 13.4426C12.6654 14.0516 12.5512 14.3846 12.5512 14.7367C12.5512 15.3647 13.046 15.7548 13.7882 15.7548H18.7933ZM18.7933 14.299H14.1498V14.2038C15.3963 12.0439 17.09 9.32248 18.7076 6.93414H18.7933V14.299ZM2.94953 5.70536C3.35312 5.70536 3.6803 6.03254 3.6803 6.43613V11.515H9.53462V6.43613C9.53462 6.03254 9.86179 5.70536 10.2654 5.70536C10.669 5.70536 10.9962 6.03254 10.9962 6.43613V12.2458V18.0555C10.9962 18.459 10.669 18.7862 10.2654 18.7862C9.86179 18.7862 9.53462 18.459 9.53462 18.0555V12.9766H3.6803V18.0555C3.6803 18.459 3.35312 18.7862 2.94953 18.7862C2.54593 18.7862 2.21875 18.459 2.21875 18.0555V6.43613C2.21875 6.03254 2.54593 5.70536 2.94953 5.70536Z"
    fill="currentColor"
  />
</svg> `,Pg=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M13.6153 15.0526C13.2062 15.0526 12.9366 15.3687 12.9366 15.8335C12.9366 17.135 14.4705 18.6316 16.9246 18.6316C19.5182 18.6316 21.3682 16.8096 21.3682 14.2439C21.3682 11.8362 19.7042 10.1443 17.343 10.1443C16.2739 10.1443 15.1863 10.5905 14.768 11.2134H14.675L15.0283 7.0766H20.0388C20.5873 7.0766 20.8941 6.8256 20.8941 6.37939C20.8941 5.92388 20.578 5.6543 20.0388 5.6543H14.8237C14.0243 5.6543 13.6246 5.97966 13.5688 6.66757L13.1598 11.8734C13.1133 12.5892 13.3829 13.0075 13.9127 13.0075C14.2102 13.0075 14.3961 12.8959 15.0747 12.2638C15.6139 11.7804 16.2553 11.5387 16.9804 11.5387C18.5886 11.5387 19.7321 12.6914 19.7321 14.3275C19.7321 16.038 18.5515 17.2279 16.8596 17.2279C15.7441 17.2279 14.8888 16.6887 14.3775 15.6941C14.1358 15.22 13.9313 15.0526 13.6153 15.0526ZM3.08209 5.90389C3.47639 5.90389 3.79603 6.22353 3.79603 6.61783V11.5797H9.51545V6.61783C9.51545 6.22353 9.83509 5.90389 10.2294 5.90389C10.6237 5.90389 10.9433 6.22353 10.9433 6.61783V12.2936V17.9695C10.9433 18.3638 10.6237 18.6834 10.2294 18.6834C9.83509 18.6834 9.51545 18.3638 9.51545 17.9695V13.0076H3.79603V17.9695C3.79603 18.3638 3.47639 18.6834 3.08209 18.6834C2.6878 18.6834 2.36816 18.3638 2.36816 17.9695V6.61783C2.36816 6.22353 2.6878 5.90389 3.08209 5.90389Z"
    fill="currentColor"
  />
</svg> `,Pm=(0,H.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M17.6502 5.51672C14.5518 5.51672 12.8253 8.00853 12.8253 12.4975C12.8253 14.4294 13.1426 15.8759 13.7865 16.9025C14.5518 18.1064 15.8117 18.7597 17.3889 18.7597C19.9834 18.7597 21.7379 17.0145 21.7379 14.448C21.7379 12.0122 20.0767 10.3043 17.7062 10.3043C16.2503 10.3043 14.9158 11.107 14.4865 12.2455H14.4118C14.4398 8.75514 15.5411 6.92595 17.6222 6.92595C18.4528 6.92595 19.1528 7.22459 19.8247 7.8872C20.1607 8.21385 20.3567 8.3165 20.618 8.3165C21.0193 8.3165 21.3086 8.01786 21.3086 7.61656C21.3086 7.18726 20.9353 6.67397 20.3193 6.27266C19.6101 5.78737 18.6488 5.51672 17.6502 5.51672ZM17.4542 17.3598C15.8024 17.3598 14.6451 16.1746 14.6451 14.504C14.6451 12.8521 15.7744 11.6949 17.3889 11.6949C19.0501 11.6949 20.1327 12.8148 20.1327 14.5134C20.1327 16.2306 19.0594 17.3598 17.4542 17.3598ZM3.45463 5.99129C3.85047 5.99129 4.17137 6.31218 4.17137 6.70803V11.6894H9.91326V6.70803C9.91326 6.31218 10.2342 5.99129 10.63 5.99129C11.0259 5.99129 11.3467 6.31218 11.3467 6.70803V12.4061V18.1043C11.3467 18.5001 11.0259 18.821 10.63 18.821C10.2342 18.821 9.91326 18.5001 9.91326 18.1043V13.1229H4.17137V18.1043C4.17137 18.5001 3.85047 18.821 3.45463 18.821C3.05878 18.821 2.73788 18.5001 2.73788 18.1043V6.70803C2.73788 6.31218 3.05878 5.99129 3.45463 5.99129Z"
    fill="currentColor"
  />
</svg> `,Pv=e=>"affine:paragraph"===e.flavour?({text:Pc,quote:Pd,h1:Ph,h2:Pu,h3:Pp,h4:Pf,h5:Pg,h6:Pm})[e.type]:"affine:list"===e.flavour?({bulleted:Pr,numbered:Pa,todo:Pn,toggle:Pl})[e.type??"bulleted"]??(0,H.qy)``:(0,H.qy)``;class Py{constructor(e){this.dataSource=e,this._currentViewId$=(0,sh.vP)(void 0),this.currentView$=(0,sh.EW)(()=>this.viewGet(this.currentViewId$.value)),this.currentViewId$=(0,sh.EW)(()=>this._currentViewId$.value??this.views$.value[0]),this.readonly$=(0,sh.EW)(()=>this.dataSource.readonly$.value),this.views$=(0,sh.EW)(()=>this.dataSource.viewDataList$.value.map(e=>e.id))}moveTo(e,t){this.dataSource.viewDataMoveTo(e,t)}setCurrentView(e){this._currentViewId$.value=e}viewAdd(e){let t=this.dataSource.viewDataAdd(e);return this.setCurrentView(t),t}viewDataGet(e){return this.dataSource.viewDataGet(e)}viewDelete(e){this.dataSource.viewDataDelete(e),this.setCurrentView(this.views$.value[0])}viewDuplicate(e){let t=this.dataSource.viewDataDuplicate(e);this.setCurrentView(t)}viewGet(e){return new(this.dataSource.viewMetaGetById(e)).model.dataViewManager(this,e)}}var Pb=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Pw=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let Px=(()=>{let e,t,i,s,o,r=[(0,L.EM)("database-datasource-block-renderer")],a=[],n=(0,P.Tm)(P.ao),l=[],c=[],d=[],h=[],u=[],p=[];return class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],Pb(this,null,i,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:f},l,c),Pb(this,null,s,{kind:"accessor",name:"rowId",static:!1,private:!1,access:{has:e=>"rowId"in e,get:e=>e.rowId,set:(e,t)=>{e.rowId=t}},metadata:f},d,h),Pb(this,null,o,{kind:"accessor",name:"view",static:!1,private:!1,access:{has:e=>"view"in e,get:e=>e.view,set:(e,t)=>{e.view=t}},metadata:f},u,p),Pb(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    database-datasource-block-renderer {
      padding-top: 36px;
      padding-bottom: 16px;
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-bottom: 12px;
      border-bottom: 1px solid var(--affine-border-color);
      font-size: var(--affine-font-base);
      line-height: var(--affine-line-height);
    }

    database-datasource-block-renderer .tips-placeholder {
      display: none;
    }

    database-datasource-block-renderer rich-text {
      font-size: 15px;
      line-height: 24px;
    }

    database-datasource-block-renderer.empty rich-text::before {
      content: 'Untitled';
      position: absolute;
      color: var(--affine-text-disable-color);
      font-size: 15px;
      line-height: 24px;
      user-select: none;
      pointer-events: none;
    }

    .database-block-detail-header-icon {
      width: 20px;
      height: 20px;
      padding: 2px;
      border-radius: 4px;
      background-color: var(--affine-background-secondary-color);
    }

    .database-block-detail-header-icon svg {
      width: 16px;
      height: 16px;
    }
  `}connectedCallback(){if(super.connectedCallback(),this.model&&this.model.text){let e=()=>{this.model?.text?.length==0?this.classList.add("empty"):this.classList.remove("empty")};this.model.text.yText.observe(e),this.disposables.add(()=>{this.model?.text?.yText.unobserve(e)})}this._disposables.addFromEvent(this,"keydown",e=>{if("Enter"===e.key&&!e.shiftKey&&!e.isComposing||"Backspace"===e.key&&!e.shiftKey&&!e.metaKey&&this.model?.text?.length===0){e.stopPropagation(),e.preventDefault();return}},!0)}render(){let e=this.model;if(e)return(0,H.qy)`
      ${this.renderIcon()}
      <rich-text
        .yText=${e.text}
        .attributesSchema=${this.attributesSchema}
        .attributeRenderer=${this.attributeRenderer}
        .embedChecker=${this.inlineManager.embedChecker}
        .markdownShortcutHandler=${this.inlineManager.markdownShortcutHandler}
        class="inline-editor"
      ></rich-text>
    `}renderIcon(){let e=this.view.header$.value.iconColumn;if(e)return(0,H.qy)` <div class="database-block-detail-header-icon">
      ${this.view.cellGetValue(this.rowId,e)}
    </div>`}get attributeRenderer(){return this.inlineManager.getRenderer()}get attributesSchema(){return this.inlineManager.getSchema()}get inlineManager(){return this.service.inlineManager}get model(){return this.host?.doc.getBlock(this.rowId)?.model}get service(){return this.host.std.spec.getService("affine:database")}#n=Pw(this,l,void 0);get host(){return this.#n}set host(e){this.#n=e}#tb=(Pw(this,c),Pw(this,d,void 0));get rowId(){return this.#tb}set rowId(e){this.#tb=e}#tw=(Pw(this,h),Pw(this,u,void 0));get view(){return this.#tw}set view(e){this.#tw=e}constructor(){super(...arguments),Pw(this,p)}static{Pw(t,a)}},t})();var P_=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},PC=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let Pk=(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("database-datasource-note-renderer")],l=[],c=(0,P.Tm)(P.ao),d=[],h=[],u=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[];return class extends c{static{t=this}static{let w="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.P)("editor-host")],a=[(0,L.MZ)({attribute:!1})],P_(this,null,i,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:w},d,h),P_(this,null,s,{kind:"accessor",name:"model",static:!1,private:!1,access:{has:e=>"model"in e,get:e=>e.model,set:(e,t)=>{e.model=t}},metadata:w},u,p),P_(this,null,o,{kind:"accessor",name:"rowId",static:!1,private:!1,access:{has:e=>"rowId"in e,get:e=>e.rowId,set:(e,t)=>{e.rowId=t}},metadata:w},f,g),P_(this,null,r,{kind:"accessor",name:"subHost",static:!1,private:!1,access:{has:e=>"subHost"in e,get:e=>e.subHost,set:(e,t)=>{e.subHost=t}},metadata:w},m,v),P_(this,null,a,{kind:"accessor",name:"view",static:!1,private:!1,access:{has:e=>"view"in e,get:e=>e.view,set:(e,t)=>{e.view=t}},metadata:w},y,b),P_(null,e={value:t},n,{kind:"class",name:t.name,metadata:w},null,l),t=e.value,w&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w})}static{this.styles=(0,H.AH)`
    database-datasource-note-renderer {
      width: 100%;
      --affine-editor-side-padding: 0;
      flex: 1;
    }
  `}addNote(){let e=this.host?.std.collection;if(!e)return;this.databaseBlock.notes||(this.databaseBlock.notes={});let t=(0,st.Ux)(e);t&&(this.databaseBlock.notes[this.rowId]=t.id,this.requestUpdate(),requestAnimationFrame(()=>{let e=t.root?.children.find(e=>"affine:note"===e.flavour)?.children.find(e=>st.op(e,["affine:paragraph","affine:list","affine:code"]));this.subHost&&e&&st.Km(this.subHost,e.id)?.catch(console.error)}))}connectedCallback(){super.connectedCallback(),this.databaseBlock.propsUpdated.on(({key:e})=>{"notes"===e&&this.requestUpdate()})}render(){return this.model.doc.awarenessStore.getFlag("enable_database_attachment_note")?(0,H.qy)`
      <div
        style="height: 1px;max-width: var(--affine-editor-width);background-color: var(--affine-border-color);margin: auto;margin-bottom: 16px"
      ></div>
      ${this.renderNote()}
    `:null}renderNote(){let e=this.host,t=e?.std;if(!t||!e)return;let i=this.databaseBlock.notes?.[this.rowId];if(!i)return(0,H.qy)` <div>
        <div
          @click="${this.addNote}"
          style="max-width: var(--affine-editor-width);margin: auto;cursor: pointer;color: var(--affine-text-disable-color)"
        >
          Click to add note
        </div>
      </div>`;let s=t.collection.getDoc(i);if(s)return(0,H.qy)`${e.renderSpecPortal(s,e.specs)} `}get databaseBlock(){return this.model}#n=PC(this,d,void 0);get host(){return this.#n}set host(e){this.#n=e}#i7=(PC(this,h),PC(this,u,void 0));get model(){return this.#i7}set model(e){this.#i7=e}#tb=(PC(this,p),PC(this,f,void 0));get rowId(){return this.#tb}set rowId(e){this.#tb=e}#lV=(PC(this,g),PC(this,m,void 0));get subHost(){return this.#lV}set subHost(e){this.#lV=e}#tw=(PC(this,v),PC(this,y,void 0));get view(){return this.#tw}set view(e){this.#tw=e}constructor(){super(...arguments),PC(this,b)}static{PC(t,l)}},t})(),PS=[u1.tableViewConfig,u1.kanbanViewConfig],PM=Object.fromEntries(PS.map(e=>[e.type,e]));class PE extends cQ{constructor(e,t){super(),this.host=e,this._batch=0,this.featureFlags$=(0,sh.EW)(()=>({enable_number_formatting:this.doc.awarenessStore.getFlag("enable_database_number_formatting")??!1,enable_database_statistics:this.doc.awarenessStore.getFlag("enable_database_statistics")??!1})),this.properties$=(0,sh.EW)(()=>this._model.columns$.value.map(e=>e.id)),this.readonly$=(0,sh.EW)(()=>this._model.doc.awarenessStore.isReadonly(this._model.doc.blockCollection)),this.rows$=(0,sh.EW)(()=>this._model.children.map(e=>e.id)),this.viewDataList$=(0,sh.EW)(()=>this._model.views$.value),this.viewManager=new Py(this),this.viewMetas=PS,this._model=e.doc.collection.getDoc(t.pageId)?.getBlockById(t.blockId),this.setContext(sd,e)}_runCapture(){this._batch||(this._batch=requestAnimationFrame(()=>{this.doc.captureSync(),this._batch=0}))}getModelById(e){return this._model.children[this._model.childMap.value.get(e)??-1]}newColumnName(){let e=1;for(;this._model.columns$.value.some(t=>t.name===`Column ${e}`);)e++;return`Column ${e}`}cellChangeValue(e,t,i){this._runCapture();let s=this.propertyGetType(t),o=this.getPropertyMeta(s).model.ops.valueUpdate,r=i;if(o&&(r=o(this.cellGetValue(e,t),this.propertyGetData(t),i)),"title"===s&&r instanceof v.EY){this._model.doc.transact(()=>{this._model.text?.clear(),this._model.text?.join(r)});return}this._model.columns$.value.some(e=>e.id===t)&&(this._model.updateCell(e,{columnId:t,value:r}),this._model.applyCellsUpdate())}cellGetValue(e,t){if("type"===t){let t=this.getModelById(e);if(!t)return;return Pv(t)}if("title"===this.propertyGetType(t)){let t=this.getModelById(e);return t?.text}return this._model.getCell(e,t)?.value}getPropertyMeta(e){return w3[e]}propertyAdd(e,t){return this.doc.captureSync(),this._model.addColumn(e,w3[t??cX.multiSelectColumnConfig.type].model.create(this.newColumnName()))}propertyChangeData(e,t){this._runCapture(),this._model.updateColumn(e,()=>({data:t})),this._model.applyColumnUpdate()}propertyChangeName(e,t){this.doc.captureSync(),this._model.updateColumn(e,()=>({name:t})),this._model.applyColumnUpdate()}propertyChangeType(e,t){let i=this.propertyGetType(e),s=this.propertyGetData(e),o=this.rows$.value,r=o.map(t=>this.cellGetValue(t,e)),a=w3[i].model?.convertCell(t,s,r)??{column:w3[t].model.defaultData(),cells:r.map(()=>void 0)};this.doc.captureSync(),this._model.updateColumn(e,()=>({type:t,data:a.column}));let n={};r.forEach((e,t)=>{(null!=e||null!=a.cells[t])&&(n[o[t]]=a.cells[t])}),this._model.updateCells(e,n),this._model.applyColumnUpdate()}propertyDelete(e){this.doc.captureSync();let t=this._model.findColumnIndex(e);t<0||this.doc.transact(()=>{this._model.columns=this._model.columns.filter((e,i)=>i!==t)})}propertyDuplicate(e){this.doc.captureSync();let t=this._model.getColumn(e);(0,V.Z1)(t);let{id:i,...s}=t,o=new Set(this._model.columns$.value.map(e=>e.name)),r=1;for(;o.has(`${s.name}(${r})`);)r++;let a={...s,name:`${s.name}(${r})`},n=this._model.addColumn({before:!1,id:e},a);return this._model.copyCellsByColumn(i,n),this._model.applyColumnUpdate(),n}propertyGetData(e){return this._model.columns$.value.find(t=>t.id===e)?.data??{}}propertyGetDefaultWidth(e){return"title"===this.propertyGetType(e)?260:super.propertyGetDefaultWidth(e)}propertyGetName(e){return"type"===e?"Block Type":this._model.columns$.value.find(t=>t.id===e)?.name??""}propertyGetReadonly(e){return"type"===e}propertyGetType(e){return"type"===e?"image":this._model.columns$.value.find(t=>t.id===e)?.type??""}rowAdd(e){this.doc.captureSync();let t="number"==typeof e?e:(0,dV.q)(e,this._model.children);return this.doc.addBlock("affine:paragraph",{},this._model.id,t)}rowDelete(e){this.doc.captureSync(),this.doc.updateBlock(this._model,{children:this._model.children.filter(t=>!e.includes(t.id))}),this._model.deleteRows(e)}rowMove(e,t){let i=this.doc.getBlockById(e);if(i){let s=(0,dV.q)(t,this._model.children),o=this._model.children[s];if(o?.id===e)return;this.doc.moveBlocks([i],this._model,o)}}viewDataAdd(e){return this._model.doc.captureSync(),xe(this._model,PM[e]).id}viewDataDelete(e){this._model.doc.captureSync(),this._model.deleteView(e)}viewDataDuplicate(e){return this._model.duplicateView(e)}viewDataGet(e){return this.viewDataList$.value.find(t=>t.id===e)}viewDataMoveTo(e,t){this._model.moveViewTo(e,t)}viewDataUpdate(e,t){this._model.updateView(e,t)}viewMetaGet(e){return PM[e]}viewMetaGetById(e){let t=this.viewDataGet(e);return this.viewMetaGet(t.mode)}get addPropertyConfigList(){return w7.map(e=>e.model)}get detailSlots(){return{...super.detailSlots,header:s8(sy(Px),e=>({...e,host:this.host})),note:s8(sy(Pk),e=>({...e,model:this._model,host:this.host}))}}get doc(){return this._model.doc}}var PI=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},PB=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("affine-database")],s=[],o=lc;(class extends o{static{t=this}constructor(){super(...arguments),this._bindHotkey=e=>({dispose:this.host.event.bindHotkey(e,{path:this.topContenteditableElement?.path??this.path})}),this._clickDatabaseOps=e=>{lD(e.currentTarget,{options:{input:{initValue:this.model.title.toString(),placeholder:"Untitled",onComplete:e=>{this.model.title.replace(0,this.model.title.length,e)}},items:[{type:"action",icon:aL,name:"Copy",select:()=>{let e=v.Ji.fromModels(this.doc,[this.model]);this.std.clipboard.copySlice(e).then(()=>{l8(this.host,"Copied to clipboard")}).catch(console.error)}},{type:"group",name:"",children:()=>[{type:"action",icon:aj,class:"delete-item",name:"Delete Database",select:()=>{this.model.children.slice().forEach(e=>{this.doc.deleteBlock(e)}),this.doc.deleteBlock(this.model)}}]}]}})},this._handleEvent=(e,t)=>({dispose:this.host.event.add(e,t,{path:this.path})}),this.dataView=new dj,this.renderTitle=e=>(0,H.qy)` <affine-database-title
      style="overflow: hidden"
      .titleText="${this.model.title}"
      .readonly="${this.doc.readonly}"
      .onPressEnterKey="${()=>e.addRow?.("start")}"
    ></affine-database-title>`,this.getRootService=()=>this.std.spec.getService("affine:page"),this.headerWidget=sw(e=>(0,H.qy)`
        <div style="margin-bottom: 16px;display:flex;flex-direction: column">
          <div style="display:flex;gap:8px;padding: 0 6px;margin-bottom: 8px;">
            ${this.renderTitle(e.viewMethods)} ${this.renderDatabaseOps()}
          </div>
          <div
            style="display:flex;align-items:center;justify-content: space-between;gap: 12px"
          >
            <div style="flex:1">
              ${sv(fm.viewBar,e)}
            </div>
            ${sv(this.toolsWidget,e)}
          </div>
          ${sv(fm.filterBar,e)}
        </div>
      `),this.indicator=new lf,this.onDrag=(e,t)=>{let i=vL(e);return i&&i.rect?(document.body.append(this.indicator),this.indicator.rect=st.rw.fromLWTH(i.rect.left,i.rect.width,i.rect.top,i.rect.height),()=>{this.indicator.remove();let e=this.doc.getBlock(t).model,s=this.doc.getBlock(i.dropBlockId).model,o=this.doc.getParent(i.dropBlockId),r="in"===i.dropType;r&&(o=s),e&&s&&o&&(r?this.doc.moveBlocks([e],o):this.doc.moveBlocks([e],o,s,"before"===i.dropType))}):(this.indicator.remove(),()=>{})},this.setSelection=e=>{this.selection.setGroup("note",e?[new c7({blockId:this.blockId,viewSelection:e})]:[])},this.toolsWidget=fm.createTools({table:[fm.tools.filter,fm.tools.expand,fm.tools.search,fm.tools.viewOptions,fm.tools.tableAddRow],kanban:[fm.tools.filter,fm.tools.expand,fm.tools.search,fm.tools.viewOptions]}),this.viewSelection$=(0,sh.EW)(()=>{let e=this.selection.value.find(e=>e.blockId===this.blockId&&e instanceof c7);return e?.viewSelection})}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;PI(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    ${(0,H.iz)(c4("affine-database"))}
    affine-database {
      display: block;
      border-radius: 8px;
      background-color: var(--affine-background-primary-color);
      padding: 8px;
      margin: 8px -8px -8px;
    }

    .database-block-selected {
      background-color: var(--affine-hover-color);
      border-radius: 4px;
    }

    .database-ops {
      margin-top: 4px;
      padding: 2px;
      border-radius: 4px;
      display: flex;
      cursor: pointer;
    }

    .database-ops svg {
      width: 16px;
      height: 16px;
      color: var(--affine-icon-color);
    }

    .database-ops:hover {
      background-color: var(--affine-hover-color);
    }
  `}renderDatabaseOps(){return this.doc.readonly?H.s6:(0,H.qy)` <div class="database-ops" @click="${this._clickDatabaseOps}">
      ${eq}
    </div>`}connectedCallback(){super.connectedCallback(),this.setAttribute(P.vz.rangeSyncExcludeAttr,"true");let e=!1;this.disposables.add(vq.registerOption({flavour:Tz.A.model.flavour,onDragMove:t=>{let i=vI(t.raw.target),s=this.view;return s&&i instanceof HTMLElement&&this.contains(i)?e=s.showIndicator?.(t.raw)??!1:e&&(s?.hideIndicator?.(),e=!1),!1},onDragEnd:({state:t,draggingElements:i})=>{let s=t.raw.target,o=this.view;if(e&&o&&o.moveTo&&s instanceof HTMLElement&&this.parentElement?.contains(s)){let e=i.map(e=>e.model);return this.doc.moveBlocks(e,this.model),e.forEach(e=>{o.moveTo?.(e.id,t.raw)}),o.hideIndicator?.(),!1}return e&&(o?.hideIndicator?.(),e=!1),!1}}))}renderBlock(){let e=this.getRootService().peekViewService;return(0,H.qy)`
      <div
        contenteditable="false"
        style="position: relative;background-color: var(--affine-background-primary-color);border-radius: 4px"
      >
        ${this.dataView.render({bindHotkey:this._bindHotkey,handleEvent:this._handleEvent,selection$:this.viewSelection$,setSelection:this.setSelection,dataSource:this.dataSource,headerWidget:this.headerWidget,onDrag:this.onDrag,std:this.std,detailPanelConfig:{openDetailPanel:e?(t,i)=>e.peek(t,i):void 0,target:()=>this.innerModalWidget.target}})}
      </div>
    `}get dataSource(){return this._dataSource||(this._dataSource=new PE(this.host,{pageId:this.host.doc.id,blockId:this.model.id})),this._dataSource}get innerModalWidget(){return this.rootComponent.widgetComponents[SA]}get topContenteditableElement(){return this.rootComponent instanceof I8?this.closest(fv.Tk):this.rootComponent}get view(){return this.dataView.expose}static{PB(t,s)}})})();let P$=(0,H.AH)`
  .affine-divider-block-container {
    position: relative;
    width: 100%;
    height: 1px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 18px 8px;
    margin-top: var(--affine-paragraph-space);
  }
  .affine-divider-block-container hr {
    border: none;
    border-top: 1px solid var(--affine-divider-color);
    width: 100%;
  }
`;var PT=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},PO=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let PP=(()=>{let e,t,i=[(0,L.EM)("affine-divider")],s=[],o=lc;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;PT(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=P$}connectedCallback(){super.connectedCallback(),this.contentEditable="false",this.handleEvent("click",()=>{this.host.selection.setGroup("note",[this.host.selection.create("block",{blockId:this.blockId})])})}renderBlock(){let e=(0,H.qy)`<div
      class="affine-block-children-container"
      style="padding-left: ${fA.s6}px"
    >
      ${this.renderChildren(this.model)}
    </div>`;return(0,H.qy)`
      <div class="affine-divider-block-container">
        <hr />

        ${e}
      </div>
    `}static{PO(t,s)}},t})();var PA=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},PH=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l,c,d,h,u=[(0,L.EM)("edgeless-frame-title")],p=[],f=(0,P.Tm)(P.ao),g=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[],O=[],A=[],D=[],j=[];(class extends f{static{t=this}static{let m="function"==typeof Symbol&&Symbol.metadata?Object.create(f[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.P)(".affine-frame-title")],r=[(0,L.wk)()],a=[(0,L.wk)()],n=[(0,L.wk)()],l=[(0,L.wk)()],c=[(0,L.MZ)({attribute:!1})],d=[(0,L.MZ)({attribute:!1})],h=[(0,L.MZ)({attribute:!1})],PA(this,null,i,{kind:"accessor",name:"_editing",static:!1,private:!1,access:{has:e=>"_editing"in e,get:e=>e._editing,set:(e,t)=>{e._editing=t}},metadata:m},g,v),PA(this,null,s,{kind:"accessor",name:"_frameTitle",static:!1,private:!1,access:{has:e=>"_frameTitle"in e,get:e=>e._frameTitle,set:(e,t)=>{e._frameTitle=t}},metadata:m},y,b),PA(this,null,o,{kind:"accessor",name:"_frameTitleEl",static:!1,private:!1,access:{has:e=>"_frameTitleEl"in e,get:e=>e._frameTitleEl,set:(e,t)=>{e._frameTitleEl=t}},metadata:m},w,x),PA(this,null,r,{kind:"accessor",name:"_isNavigator",static:!1,private:!1,access:{has:e=>"_isNavigator"in e,get:e=>e._isNavigator,set:(e,t)=>{e._isNavigator=t}},metadata:m},_,C),PA(this,null,a,{kind:"accessor",name:"_nestedFrame",static:!1,private:!1,access:{has:e=>"_nestedFrame"in e,get:e=>e._nestedFrame,set:(e,t)=>{e._nestedFrame=t}},metadata:m},k,S),PA(this,null,n,{kind:"accessor",name:"_xywh",static:!1,private:!1,access:{has:e=>"_xywh"in e,get:e=>e._xywh,set:(e,t)=>{e._xywh=t}},metadata:m},M,E),PA(this,null,l,{kind:"accessor",name:"_zoom",static:!1,private:!1,access:{has:e=>"_zoom"in e,get:e=>e._zoom,set:(e,t)=>{e._zoom=t}},metadata:m},I,B),PA(this,null,c,{kind:"accessor",name:"doc",static:!1,private:!1,access:{has:e=>"doc"in e,get:e=>e.doc,set:(e,t)=>{e.doc=t}},metadata:m},$,T),PA(this,null,d,{kind:"accessor",name:"model",static:!1,private:!1,access:{has:e=>"model"in e,get:e=>e.model,set:(e,t)=>{e.model=t}},metadata:m},O,A),PA(this,null,h,{kind:"accessor",name:"service",static:!1,private:!1,access:{has:e=>"service"in e,get:e=>e.service,set:(e,t)=>{e.service=t}},metadata:m},D,j),PA(null,e={value:t},u,{kind:"class",name:t.name,metadata:m},null,p),t=e.value,m&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m})}static{this.styles=(0,H.AH)`
    edgeless-frame-title {
      position: relative;
    }

    .affine-frame-title {
      position: absolute;
      z-index: 1;
      left: 0px;
      top: 0px;
      border-radius: 4px;
      width: fit-content;
      padding: 8px 10px;
      font-size: 14px;
      cursor: default;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      transform-origin: left bottom;
      line-height: normal;
    }
  `}_isInsideFrame(){return this.service.layer.framesGrid.has(this.model.elementBound,!0,!0,new Set([this.model]))}_updateFrameTitleSize(){let{_nestedFrame:e,_zoom:t}=this,{elementBound:i}=this.model,s=this._cachedWidth/t,o=this._cachedHeight/t;s&&o&&(this.model.externalXYWH=`[${i.x+(e?4/t:0)},${i.y+(e?4/t:-(o+4/t))},${s},${o}]`)}connectedCallback(){super.connectedCallback();let{_disposables:e,doc:t,service:i}=this;this._nestedFrame=this._isInsideFrame(),e.add(t.slots.blockUpdated.on(e=>{("update"===e.type&&"xywh"===e.props.key&&t.getBlock(e.id)?.model instanceof iM.K||"add"===e.type&&"affine:frame"===e.flavour)&&(this._nestedFrame=this._isInsideFrame())})),e.add(this.model.propsUpdated.on(()=>{this._xywh=this.model.xywh,this.requestUpdate()})),e.add(i.selection.slots.updated.on(()=>{this._editing=i.selection.selectedIds[0]===this.model.id&&i.selection.editing})),e.add(i.slots.edgelessToolUpdated.on(e=>{this._isNavigator="frameNavigator"===e.type})),e.add(i.viewport.viewportUpdated.on(({zoom:e})=>{this._zoom=e})),this._zoom=i.viewport.zoom;let s=()=>{this._frameTitle=this.model.title.toString()};e.add(()=>{this.model.title.yText.unobserve(s)}),this.model.title.yText.observe(s),this._frameTitle=this.model.title.toString(),this._xywh=this.model.xywh}render(){let e=this.model,t=m.z.deserialize(e.xywh),{_isNavigator:i,_editing:s,_zoom:o}=this,r=this._nestedFrame,a=r?t.w*o-4/o:t.w*o,n=32/o>=t.h&&r,l=[`translate(0%, ${r?0:-100}%)`,`scale(${1/o})`,`translate(${r?4:0}px, ${r?4:-4}px)`];return(0,H.qy)`
      ${!this._frameTitle||i||s?H.s6:(0,H.qy)`
            <div
              style=${(0,Z.W)({display:n?"none":"initial",transform:l.join(" "),maxWidth:a+"px",transformOrigin:r?"top left":"bottom left",background:r?"var(--affine-white)":"var(--affine-text-primary-color)",color:r?"var(--affine-text-secondary-color)":"var(--affine-white)",border:r?"1px solid var(--affine-border-color)":"none"})}
              class="affine-frame-title"
            >
              ${this._frameTitle}
            </div>
          `}
    `}updated(e){if(!this.service.viewport.viewportBounds.contains(this.model.elementBound)&&!this.service.viewport.viewportBounds.isIntersectWithBound(this.model.elementBound)||!this._frameTitleEl)return;let t=!1;(0===this._cachedWidth||0===this._cachedHeight||e.has("_frameTitle")||e.has("_nestedFrame")||e.has("_xywh"))&&(this._cachedWidth=this._frameTitleEl.clientWidth,this._cachedHeight=this._frameTitleEl.clientHeight,t=!0),(t||e.has("zoom"))&&this._updateFrameTitleSize()}#iO;get _editing(){return this.#iO}set _editing(e){this.#iO=e}#lR;get _frameTitle(){return this.#lR}set _frameTitle(e){this.#lR=e}#lz;get _frameTitleEl(){return this.#lz}set _frameTitleEl(e){this.#lz=e}#lF;get _isNavigator(){return this.#lF}set _isNavigator(e){this.#lF=e}#lN;get _nestedFrame(){return this.#lN}set _nestedFrame(e){this.#lN=e}#lq;get _xywh(){return this.#lq}set _xywh(e){this.#lq=e}#lU;get _zoom(){return this.#lU}set _zoom(e){this.#lU=e}#d;get doc(){return this.#d}set doc(e){this.#d=e}#i7;get model(){return this.#i7}set model(e){this.#i7=e}#lW;get service(){return this.#lW}set service(e){this.#lW=e}constructor(){super(...arguments),this._cachedHeight=0,this._cachedWidth=0,this.#iO=PH(this,g,!1),this.#lR=(PH(this,v),PH(this,y,"")),this.#lz=(PH(this,b),PH(this,w,void 0)),this.#lF=(PH(this,x),PH(this,_,!1)),this.#lN=(PH(this,C),PH(this,k,!1)),this.#lq=(PH(this,S),PH(this,M,null)),this.#lU=(PH(this,E),PH(this,I,void 0)),this.#d=(PH(this,B),PH(this,$,void 0)),this.#i7=(PH(this,T),PH(this,O,void 0)),this.#lW=(PH(this,A),PH(this,D,void 0)),PH(this,j)}static{PH(t,p)}})})(),(()=>{let e,t,i,s,o=[(0,L.EM)("affine-frame")],r=[],a=P.Yx,n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],PA(this,null,i,{kind:"accessor",name:"_isNavigator",static:!1,private:!1,access:{has:e=>"_isNavigator"in e,get:e=>e._isNavigator,set:(e,t)=>{e._isNavigator=t}},metadata:h},n,l),PA(this,null,s,{kind:"accessor",name:"showBorder",static:!1,private:!1,access:{has:e=>"showBorder"in e,get:e=>e.showBorder,set:(e,t)=>{e.showBorder=t}},metadata:h},c,d),PA(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),PH(t,r)}connectedCallback(){super.connectedCallback(),this._disposables.add(this.doc.slots.blockUpdated.on(({type:e,id:t})=>{t===this.model.id&&"update"===e&&this.requestUpdate()}))}firstUpdated(){this.rootService.slots.edgelessToolUpdated.on(e=>{this._isNavigator="frameNavigator"===e.type})}renderGfxBlock(){let{model:e,_isNavigator:t,showBorder:i,doc:s,rootService:o}=this,r=im.Q.generateColorProperty(e.background,"--affine-platte-transparent"),a=o.layer.getZIndex(e);return(0,H.qy)`
      <edgeless-frame-title
        .service=${o}
        .doc=${s}
        .model=${e}
        style=${(0,Z.W)({zIndex:2147483647- -a})}
      ></edgeless-frame-title>
      <div
        class="affine-frame-container"
        style=${(0,Z.W)({zIndex:`${a}`,backgroundColor:r,height:"100%",width:"100%",borderRadius:"8px",border:t||!i?"none":"2px solid var(--affine-black-30)"})}
      ></div>
    `}toZIndex(){return"auto"}#lF;get _isNavigator(){return this.#lF}set _isNavigator(e){this.#lF=e}#lG;get showBorder(){return this.#lG}set showBorder(e){this.#lG=e}constructor(){super(...arguments),this.rootServiceFlavour="affine:page",this.#lF=PH(this,n,!1),this.#lG=(PH(this,l),PH(this,c,!0)),PH(this,d)}})})();var PL=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},PD=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o=[(0,L.EM)("affine-edgeless-image")],r=[],a=(0,P.Tm)(P.ao),n=[],l=[],c=[],d=[];(class extends a{static{t=this}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.P)(".resizable-img")],s=[(0,L.MZ)({attribute:!1})],PL(this,null,i,{kind:"accessor",name:"resizeImg",static:!1,private:!1,access:{has:e=>"resizeImg"in e,get:e=>e.resizeImg,set:(e,t)=>{e.resizeImg=t}},metadata:h},n,l),PL(this,null,s,{kind:"accessor",name:"url",static:!1,private:!1,access:{has:e=>"url"in e,get:e=>e.url,set:(e,t)=>{e.url=t}},metadata:h},c,d),PL(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=(0,H.AH)`
    affine-edgeless-image .resizable-img,
    affine-edgeless-image .resizable-img img {
      width: 100%;
      height: 100%;
    }
  `}_handleError(e){this.dispatchEvent(new CustomEvent("error",{detail:e}))}render(){return(0,H.qy)`<div class="resizable-img">
      <img
        class="drag-target"
        src=${this.url??""}
        draggable="false"
        @error=${this._handleError}
      />
    </div>`}#lY=PD(this,n,null);get resizeImg(){return this.#lY}set resizeImg(e){this.#lY=e}#lK=(PD(this,l),PD(this,c,void 0));get url(){return this.#lK}set url(e){this.#lK=e}constructor(){super(...arguments),PD(this,d)}static{PD(t,r)}})})();class PZ{constructor(){this._activeComponent=null,this._dragMoveTarget="right",this._imageCenterX=0,this._imageContainer=null,this._zoom=1}onEnd(){(0,V.Z1)(this._activeComponent),(0,V.Z1)(this._imageContainer);let e=(0,sc.dz)(this._activeComponent);e.page.captureSync();let{width:t,height:i}=this._imageContainer.getBoundingClientRect();e.page.updateBlock(e,{width:t/this._zoom,height:i/this._zoom})}onMove(e){(0,V.Z1)(this._activeComponent);let t=this._activeComponent,i=this._imageContainer;(0,V.Z1)(i);let s=t.querySelector("img");(0,V.Z1)(s);let o=0;(o="right"===this._dragMoveTarget?(e.raw.pageX-this._imageCenterX)*2:(this._imageCenterX-e.raw.pageX)*2)<50&&(o=50),o>t.getBoundingClientRect().width&&(o=t.getBoundingClientRect().width);let r=o*(s.naturalHeight/s.naturalWidth),a=i.getBoundingClientRect();(a.width!==o||a.height!==r)&&requestAnimationFrame(()=>{i.style.width=(o/this._zoom).toFixed(2)+"px"})}onStart(e){let t=e.raw.target;this._activeComponent=(0,sc.N8)(t);let i=this._activeComponent.closest("affine-edgeless-root, affine-page-root");i&&"edgeless"===i.service.docModeService.getMode()?this._zoom=i.service.viewport.zoom:this._zoom=1,this._imageContainer=t.closest(".resizable-img"),(0,V.Z1)(this._imageContainer);let s=this._imageContainer.getBoundingClientRect();this._imageCenterX=s.left+s.width/2,t.className.includes("right")?this._dragMoveTarget="right":this._dragMoveTarget="left"}}let Pj=(0,H.qy)`<style>
  .affine-page-selected-embed-rects-container {
    position: absolute;
    border: 2px solid var(--affine-primary-color);
    left: 0;
    top: 0;
    width: 100%;
    height: calc(100% + 1px);
    user-select: none;
    pointer-events: none;
    box-sizing: border-box;
    line-height: 0;
  }

  .affine-page-selected-embed-rects-container .resize {
    position: absolute;
    padding: 5px;
    pointer-events: auto;
    z-index: 1;
  }

  .affine-page-selected-embed-rects-container .resize-inner {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: white;
    border: 2px solid var(--affine-primary-color);
    pointer-events: none;
  }

  .affine-page-selected-embed-rects-container .resize.top-left {
    left: 0;
    top: 0;
    transform: translate(-50%, -50%);
    cursor: nwse-resize; /*resizer cursor*/
  }
  .affine-page-selected-embed-rects-container .resize.top-right {
    right: 0;
    top: 0;
    transform: translate(50%, -50%);
    cursor: nesw-resize;
  }
  .affine-page-selected-embed-rects-container .resize.bottom-left {
    left: 0;
    bottom: 0;
    transform: translate(-50%, 50%);
    cursor: nesw-resize;
  }
  .affine-page-selected-embed-rects-container .resize.bottom-right {
    right: 0;
    bottom: 0;
    transform: translate(50%, 50%);
    cursor: nwse-resize;
  }
</style>`;var PV=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},PR=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r=[(0,L.EM)("affine-page-image")],a=[],n=(0,P.Tm)(P.ao),l=[],c=[],d=[],h=[],u=[],p=[];(class extends n{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.P)(".resizable-img")],PV(this,null,i,{kind:"accessor",name:"_isSelected",static:!1,private:!1,access:{has:e=>"_isSelected"in e,get:e=>e._isSelected,set:(e,t)=>{e._isSelected=t}},metadata:f},l,c),PV(this,null,s,{kind:"accessor",name:"block",static:!1,private:!1,access:{has:e=>"block"in e,get:e=>e.block,set:(e,t)=>{e.block=t}},metadata:f},d,h),PV(this,null,o,{kind:"accessor",name:"resizeImg",static:!1,private:!1,access:{has:e=>"resizeImg"in e,get:e=>e.resizeImg,set:(e,t)=>{e.resizeImg=t}},metadata:f},u,p),PV(null,e={value:t},r,{kind:"class",name:t.name,metadata:f},null,a),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    affine-page-image {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 8px;
      line-height: 0;
      cursor: pointer;
    }

    affine-page-image .resizable-img {
      position: relative;
      max-width: 100%;
    }

    affine-page-image .resizable-img img {
      width: 100%;
      height: 100%;
    }
  `}_bindKeyMap(){let e=this._host.selection,t=t=>{let i=this._doc.getParent(this._model);if(!i)return;let s=i.children.indexOf(this._model),o=this._doc.addBlock("affine:paragraph",{},i,s+1);t.get("defaultState").event.preventDefault(),e.update(t=>t.filter(e=>!e.is("image")).concat(e.create("text",{from:{blockId:o,index:0,length:0},to:null})))};this.block.bindHotKey({Escape:()=>(e.update(t=>t.map(t=>t.is("image")&&t.blockId===this.block.blockId?e.create("block",{blockId:this.block.blockId}):t)),!0),Delete:e=>{if(!this._host.doc.readonly&&this._isSelected)return t(e),this._doc.deleteBlock(this._model),!0},Backspace:e=>{if(!this._host.doc.readonly&&this._isSelected)return t(e),this._doc.deleteBlock(this._model),!0},Enter:e=>{if(!this._host.doc.readonly&&this._isSelected)return t(e),!0},ArrowDown:e=>{let t=this._host.std;return!!t.selection.find("image")&&(e.get("keyboardState").raw.preventDefault(),t.command.chain().getNextBlock({path:this.block.blockId}).inline((e,t)=>{let{nextBlock:i}=e;if(i)return t({focusBlock:i})}).focusBlockStart().run(),!0)},ArrowUp:e=>{let t=this._host.std;return!!t.selection.find("image")&&(e.get("keyboardState").raw.preventDefault(),t.command.chain().getPrevBlock({path:this.block.blockId}).inline((e,t)=>{let{prevBlock:i}=e;if(i)return t({focusBlock:i})}).focusBlockEnd().run(),!0)}})}get _doc(){return this.block.doc}_handleError(){this.block.error=!0}_handleSelection(){let e=this._host.selection;this._disposables.add(e.slots.changed.on(e=>{this._isSelected=e.some(e=>e.blockId===this.block.blockId&&e.is("image"))})),this._disposables.add(this._model.propsUpdated.on(()=>{this.requestUpdate()})),this._disposables.addFromEvent(this.resizeImg,"click",t=>{if(!t.shiftKey)return t.stopPropagation(),e.update(t=>t.filter(e=>!["block","image","text"].includes(e.type)).concat(e.create("image",{blockId:this.block.blockId}))),!0}),this.block.handleEvent("click",()=>{this._isSelected&&e.update(e=>e.filter(e=>!(e.is("image")&&e.blockId===this.block.blockId)))},{global:!0})}get _host(){return this.block.host}get _model(){return this.block.model}_normalizeImageSize(){if(this._isDragging&&this.resizeImg)return{width:this.resizeImg.style.width};let{width:e,height:t}=this._model;return e&&t?{width:`${e}px`}:{width:"unset",height:"unset"}}_observeDrag(){let e=new PZ;this._disposables.add(this._host.event.add("dragStart",t=>{let i=t.get("pointerState"),s=i.event.target;return!!(s&&s instanceof HTMLElement&&this.contains(s)&&s.classList.contains("resize"))&&(this._isDragging=!0,e.onStart(i),!0)})),this._disposables.add(this._host.event.add("dragMove",t=>{let i=t.get("pointerState");return!!this._isDragging&&(e.onMove(i),!0)})),this._disposables.add(this._host.event.add("dragEnd",()=>!!this._isDragging&&(this._isDragging=!1,e.onEnd(),!0)))}connectedCallback(){super.connectedCallback(),this._bindKeyMap(),this._observeDrag()}firstUpdated(e){super.firstUpdated(e),this._handleSelection(),this.addEventListener("click",()=>{document.activeElement&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()})}render(){let e=this._normalizeImageSize(),t=this._isSelected?this._doc.readonly?(0,H.qy)`${Pj}
      <div
        class="affine-page-selected-embed-rects-container resizable resizes"
      ></div> `:(0,H.qy)`
    ${Pj}
    <div class="affine-page-selected-embed-rects-container resizable resizes">
      <div class="resize top-left">
        <div class="resize-inner"></div>
      </div>
      <div class="resize top-right">
        <div class="resize-inner"></div>
      </div>
      <div class="resize bottom-left">
        <div class="resize-inner"></div>
      </div>
      <div class="resize bottom-right">
        <div class="resize-inner"></div>
      </div>
    </div>
  `:null;return(0,H.qy)`
      <div class="resizable-img" style=${(0,Z.W)(e)}>
        <img
          class="drag-target"
          src=${this.block.blobUrl??""}
          draggable="false"
          @error=${this._handleError}
        />

        ${t}
      </div>
    `}#so;get _isSelected(){return this.#so}set _isSelected(e){this.#so=e}#e$;get block(){return this.#e$}set block(e){this.#e$=e}#lY;get resizeImg(){return this.#lY}set resizeImg(e){this.#lY=e}constructor(){super(...arguments),this._isDragging=!1,this.#so=PR(this,l,!1),this.#e$=(PR(this,c),PR(this,d,void 0)),this.#lY=(PR(this,h),PR(this,u,void 0)),PR(this,p)}static{PR(t,a)}})})();var Pz=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},PF=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l,c,d,h,u=[(0,L.EM)("affine-image"),lq()],p=[],f=lc,g=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[],O=[],P=[],A=[],D=[];(class extends f{static{t=this}constructor(){super(...arguments),this._isInSurface=!1,this.convertToCardView=()=>{k$(this).catch(console.error)},this.copy=()=>{kI(this).catch(console.error)},this.download=()=>{kM(this).catch(console.error)},this.refreshData=()=>{this.retryCount=0,kS(this).then(()=>{let{width:e,height:t}=this.model;!this.isInSurface||e||t||this.resetImageSize()}).catch(console.error)},this.resetImageSize=()=>{kE(this).catch(console.error)},this.#lX=PF(this,g,null),this.#lQ=(PF(this,v),PF(this,y,null)),this.#lJ=(PF(this,b),PF(this,w,null)),this.#l1=(PF(this,x),PF(this,_,void 0)),this.#l0=(PF(this,C),PF(this,k,void 0)),this.#l2=(PF(this,S),PF(this,M,!1)),this.#sa=(PF(this,E),PF(this,I,!1)),this.#l5=(PF(this,B),PF(this,$,void 0)),this.#sn=(PF(this,T),PF(this,O,!1)),this.#l7=(PF(this,P),PF(this,A,0)),this.#eZ=(PF(this,D),!0)}static{let m="function"==typeof Symbol&&Symbol.metadata?Object.create(f[Symbol.metadata]??null):void 0;i=[(0,L.P)("affine-edgeless-image")],s=[(0,L.P)("affine-image-block-card")],o=[(0,L.P)("affine-page-image")],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],l=[(0,L.MZ)({attribute:!1})],c=[(0,L.wk)()],d=[(0,L.MZ)({attribute:!1})],h=[(0,L.MZ)({attribute:!1})],Pz(this,null,i,{kind:"accessor",name:"_edgelessImage",static:!1,private:!1,access:{has:e=>"_edgelessImage"in e,get:e=>e._edgelessImage,set:(e,t)=>{e._edgelessImage=t}},metadata:m},g,v),Pz(this,null,s,{kind:"accessor",name:"_imageCard",static:!1,private:!1,access:{has:e=>"_imageCard"in e,get:e=>e._imageCard,set:(e,t)=>{e._imageCard=t}},metadata:m},y,b),Pz(this,null,o,{kind:"accessor",name:"_pageImage",static:!1,private:!1,access:{has:e=>"_pageImage"in e,get:e=>e._pageImage,set:(e,t)=>{e._pageImage=t}},metadata:m},w,x),Pz(this,null,r,{kind:"accessor",name:"blob",static:!1,private:!1,access:{has:e=>"blob"in e,get:e=>e.blob,set:(e,t)=>{e.blob=t}},metadata:m},_,C),Pz(this,null,a,{kind:"accessor",name:"blobUrl",static:!1,private:!1,access:{has:e=>"blobUrl"in e,get:e=>e.blobUrl,set:(e,t)=>{e.blobUrl=t}},metadata:m},k,S),Pz(this,null,n,{kind:"accessor",name:"downloading",static:!1,private:!1,access:{has:e=>"downloading"in e,get:e=>e.downloading,set:(e,t)=>{e.downloading=t}},metadata:m},M,E),Pz(this,null,l,{kind:"accessor",name:"error",static:!1,private:!1,access:{has:e=>"error"in e,get:e=>e.error,set:(e,t)=>{e.error=t}},metadata:m},I,B),Pz(this,null,c,{kind:"accessor",name:"lastSourceId",static:!1,private:!1,access:{has:e=>"lastSourceId"in e,get:e=>e.lastSourceId,set:(e,t)=>{e.lastSourceId=t}},metadata:m},$,T),Pz(this,null,d,{kind:"accessor",name:"loading",static:!1,private:!1,access:{has:e=>"loading"in e,get:e=>e.loading,set:(e,t)=>{e.loading=t}},metadata:m},O,P),Pz(this,null,h,{kind:"accessor",name:"retryCount",static:!1,private:!1,access:{has:e=>"retryCount"in e,get:e=>e.retryCount,set:(e,t)=>{e.retryCount=t}},metadata:m},A,D),Pz(null,e={value:t},u,{kind:"class",name:t.name,metadata:m},null,p),t=e.value,m&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m}),PF(t,p)}_handleClick(e){e.shiftKey||(e.stopPropagation(),this.isInSurface||this._selectBlock())}get _imageElement(){return this.isInSurface?this._edgelessImage:this._pageImage}_selectBlock(){let e=this.host.selection,t=e.create("block",{blockId:this.blockId});e.setGroup("note",[t])}connectedCallback(){super.connectedCallback(),this.refreshData(),this.contentEditable="false";let e=this.host.doc.getParent(this.model);this._isInSurface=e?.flavour==="affine:surface",this.blockContainerStyles=this._isInSurface?void 0:{margin:"18px 0"},this.model.propsUpdated.on(({key:e})=>{"sourceId"===e&&this.refreshData()}),this._isInSurface&&(this.style.position="absolute",this.style.transformOrigin="center")}disconnectedCallback(){this.blobUrl&&URL.revokeObjectURL(this.blobUrl),super.disconnectedCallback()}renderBlock(){let e=(0,Z.W)({position:"relative",width:"100%"});if(this.isInSurface){let{xywh:e,rotate:t}=this.model,i=m.z.deserialize(e);this.style.left=`${i.x}px`,this.style.top=`${i.y}px`,this.style.width=`${i.w}px`,this.style.height=`${i.h}px`,this.style.transform=`rotate(${t}deg)`,this.style.zIndex=`${this.toZIndex()}`}return(0,H.qy)`
      <div
        class="affine-image-container"
        style=${e}
        @click=${this._handleClick}
      >
        ${this.loading||this.error?(0,H.qy)`<affine-image-block-card
              .block=${this}
            ></affine-image-block-card>`:this.isInSurface?(0,H.qy)`<affine-edgeless-image
                .url=${this.blobUrl}
                @error=${e=>{this.error=!0}}
              ></affine-edgeless-image>`:(0,H.qy)`<affine-page-image .block=${this}></affine-page-image>`}
      </div>

      ${this.isInSurface?H.s6:Object.values(this.widgets)}
    `}toZIndex(){return this.rootService?.layer.getZIndex(this.model)??1}updateZIndex(){this.style.zIndex=`${this.toZIndex()}`}updated(){this._imageCard?.requestUpdate()}get imageCard(){return this._imageCard}get isInSurface(){return this._isInSurface}get resizeImg(){return this._imageElement?.resizeImg}get rootService(){let e=this.std.spec.getService("affine:page");return"surface"in e?e:null}#lX;get _edgelessImage(){return this.#lX}set _edgelessImage(e){this.#lX=e}#lQ;get _imageCard(){return this.#lQ}set _imageCard(e){this.#lQ=e}#lJ;get _pageImage(){return this.#lJ}set _pageImage(e){this.#lJ=e}#l1;get blob(){return this.#l1}set blob(e){this.#l1=e}#l0;get blobUrl(){return this.#l0}set blobUrl(e){this.#l0=e}#l2;get downloading(){return this.#l2}set downloading(e){this.#l2=e}#sa;get error(){return this.#sa}set error(e){this.#sa=e}#l5;get lastSourceId(){return this.#l5}set lastSourceId(e){this.#l5=e}#sn;get loading(){return this.#sn}set loading(e){this.#sn=e}#l7;get retryCount(){return this.#l7}set retryCount(e){this.#l7=e}#eZ;get useCaptionEditor(){return this.#eZ}set useCaptionEditor(e){this.#eZ=e}})})();var PN=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Pq=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let PU=(()=>{let e,t,i,s,o=[(0,L.EM)("affine-list")],r=[],a=lc,n=[],l=[],c=[],d=[];return class extends a{static{t=this}constructor(){super(...arguments),this._inlineRangeProvider=null,this._onClickIcon=e=>{if(e.stopPropagation(),"toggle"===this.model.type){this._toggleChildren();return}if("todo"===this.model.type){if(this.doc.readonly)return;this.doc.captureSync();let e={checked:!this.model.checked};if(this.doc.updateBlock(this.model,e),this.model.checked){let e=this.querySelector(".affine-list-block__todo-prefix");(0,V.Z1)(e),oR(e).catch(console.error)}return}this._select()},this.#l3=Pq(this,n,!1),this.#eo=(Pq(this,l),Pq(this,c,null)),this.#eL=(Pq(this,d),{margin:"10px 0"})}static{let h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.P)("rich-text")],PN(this,null,i,{kind:"accessor",name:"_isCollapsedWhenReadOnly",static:!1,private:!1,access:{has:e=>"_isCollapsedWhenReadOnly"in e,get:e=>e._isCollapsedWhenReadOnly,set:(e,t)=>{e._isCollapsedWhenReadOnly=t}},metadata:h},n,l),PN(this,null,s,{kind:"accessor",name:"_richTextElement",static:!1,private:!1,access:{has:e=>"_richTextElement"in e,get:e=>e._richTextElement,set:(e,t)=>{e._richTextElement=t}},metadata:h},c,d),PN(null,e={value:t},o,{kind:"class",name:t.name,metadata:h},null,r),t=e.value,h&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})}static{this.styles=Og}_select(){let e=this.host.selection;e.update(t=>t.filter(e=>!e.is("text")&&!e.is("block")).concat(e.create("block",{blockId:this.blockId})))}_toggleChildren(){if(this.doc.readonly){this._isCollapsedWhenReadOnly=!this._isCollapsedWhenReadOnly;return}let e=!this.model.collapsed;this._isCollapsedWhenReadOnly=e,this.doc.captureSync(),this.doc.updateBlock(this.model,{collapsed:e})}_toggleTemplate(e){if(0===this.model.children.length)return H.s6;let t=(0,H.qy)`<div
      contenteditable="false"
      class="toggle-icon"
      @click=${this._toggleChildren}
    >
      ${oZ}
    </div>`,i=(0,H.qy)`<div
      contenteditable="false"
      class="toggle-icon toggle-icon__collapsed"
      @click=${this._toggleChildren}
    >
      ${oD}
    </div>`;return e?i:t}connectedCallback(){super.connectedCallback(),yY(this),this._inlineRangeProvider=(0,P.U4)(this),this.disposables.add((0,sh.QZ)(()=>{let e=this.model.type$.value,t=this.model.order$.value;"numbered"!==e||Number.isInteger(t)||Ol(this.doc,this.model,!1),"numbered"!==e&&null!==t&&(this.model.order=null)}))}async getUpdateComplete(){let e=await super.getUpdateComplete();return await this._richTextElement?.updateComplete,e}renderBlock(){let{model:e,_onClickIcon:t}=this,i=this.doc.readonly?this._isCollapsedWhenReadOnly:!!e.collapsed,s=Ov(e,!i,t),o="todo"===this.model.type&&this.model.checked?"affine-list--checked":"",r=(0,H.qy)`<div
      class="affine-block-children-container ${i?"affine-list__collapsed":""}"
      style="padding-left: ${fA.s6}px;"
    >
      ${this.renderChildren(this.model)}
    </div>`;return(0,H.qy)`
      <div class=${"affine-list-block-container"}>
        <div class=${`affine-list-rich-text-wrapper ${o}`}>
          ${this._toggleTemplate(i)} ${s}
          <rich-text
            .yText=${this.model.text.yText}
            .inlineEventSource=${this.topContenteditableElement??H.s6}
            .undoManager=${this.doc.history}
            .attributeRenderer=${this.attributeRenderer}
            .attributesSchema=${this.attributesSchema}
            .markdownShortcutHandler=${this.markdownShortcutHandler}
            .embedChecker=${this.embedChecker}
            .readonly=${this.doc.readonly}
            .inlineRangeProvider=${this._inlineRangeProvider}
            .enableClipboard=${!1}
            .enableUndoRedo=${!1}
            .verticalScrollContainerGetter=${()=>(0,sc.dV)(this.host)}
          ></rich-text>
        </div>

        ${r}
      </div>
    `}get attributeRenderer(){return this.inlineManager.getRenderer()}get attributesSchema(){return this.inlineManager.getSchema()}get embedChecker(){return this.inlineManager.embedChecker}get inlineManager(){let e=this.service?.inlineManager;return(0,V.Z1)(e),e}get markdownShortcutHandler(){return this.inlineManager.markdownShortcutHandler}get topContenteditableElement(){return this.rootComponent instanceof I8?this.closest(fv.Tk):this.rootComponent}#l3;get _isCollapsedWhenReadOnly(){return this.#l3}set _isCollapsedWhenReadOnly(e){this.#l3=e}#eo;get _richTextElement(){return this.#eo}set _richTextElement(e){this.#eo=e}#eL;get blockContainerStyles(){return this.#eL}set blockContainerStyles(e){this.#eL=e}static{Pq(t,r)}},t})(),PW=e=>e.host.selection;function PG(e,t){return PW(e).filter("block").at(t?-1:0)??null}function PY(e){return PW(e).find("text")}let PK=(e,t)=>e.host.view.getBlock(t),PX=[{name:"Move Up",hotkey:["Mod-Alt-ArrowUp","Mod-Shift-ArrowUp"],action:e=>{let t=e.doc,i=PY(e);if(i){let s=PK(e,i.from.blockId)?.model;if(!s)return;let o=t.getPrev(s);if(!o)return;let r=e.doc.getParent(o);if(!r)return;return e.doc.moveBlocks([s],r,o,!0),e.updateComplete.then(()=>{e.std.range.syncTextSelectionToRange(i)}).catch(console.error),!0}let s=PG(e,!0);if(s){let i=PK(e,s.blockId)?.model;if(!i)return;let o=t.getPrev(i);if(!o)return;let r=t.getParent(o);if(!r)return;return t.moveBlocks([i],r,o,!1),!0}}},{name:"Move Down",hotkey:["Mod-Alt-ArrowDown","Mod-Shift-ArrowDown"],action:e=>{let t=e.doc,i=PY(e);if(i){let s=PK(e,i.from.blockId)?.model;if(!s)return;let o=t.getNext(s);if(!o)return;let r=t.getParent(o);if(!r)return;return t.moveBlocks([s],r,o,!1),e.updateComplete.then(()=>{e.std.range.syncTextSelectionToRange(i)}).catch(console.error),!0}let s=PG(e,!0);if(s){let i=PK(e,s.blockId)?.model;if(!i)return;let o=t.getNext(i);if(!o)return;let r=t.getParent(o);if(!r)return;return t.moveBlocks([i],r,o,!1),!0}}}],PQ=[{id:"copy",name:"Copy",disabledToolTip:void 0,icon:aL,hotkey:void 0,showWhen:()=>!0,enabledWhen:()=>!0,action:e=>{e.std.command.chain().getSelectedModels().with({onCopy:()=>{l8(e,"Copied to clipboard")}}).draftSelectedModels().copySelectedModels().run()}},{id:"convert-to-database",name:"Group as Database",disabledToolTip:"Contains Block types that cannot be converted to Database",icon:aC,showWhen:e=>{let[t,i]=e.std.command.chain().getSelectedModels({types:["block","text"]}).run(),{selectedModels:s}=i;if(!s||0===s.length)return!1;let o=s[0];return(0,V.Z1)(o),!(0,iS.o)(o,["affine:database"])},enabledWhen:e=>{let[t,i]=e.std.command.chain().getSelectedModels({types:["block","text"]}).run(),{selectedModels:s}=i;return!!s&&0!==s.length&&s.every(e=>xo.includes(e.flavour))},action:e=>{rt({template:(0,H.qy)`<database-convert-view
          .host=${e}
        ></database-convert-view>`})}},{id:"convert-to-linked-doc",name:"Create Linked Doc",icon:nL,hotkey:"Mod-Shift-l",showWhen:e=>{let[t,i]=e.std.command.chain().getSelectedModels({types:["block"]}).run(),{selectedModels:s}=i;return!!s&&s.length>0},enabledWhen:e=>{let[t,i]=e.std.command.chain().getSelectedModels({types:["block"]}).run(),{selectedModels:s}=i;return!!s&&s.length>0},action:e=>{let[t,i]=e.std.command.chain().getSelectedModels({types:["block"],mode:"highest"}).run(),{selectedModels:s}=i;if((0,V.Z1)(s),!s.length)return;e.selection.clear();let o=e.doc;m4(e,m6(s)).then(t=>{if(null===t)return;let i=vc(o,s,t);e.spec.getService("affine:embed-linked-doc").slots.linkedDocCreated.emit({docId:i.id}),m8(e,o)})}}],PJ=(e,t)=>t.contains(e)&&e!==t;class P1{constructor(e){this._anchorSel=null,this._bindMoveBlockHotKey=()=>{PX.forEach(e=>{e.hotkey.forEach(t=>{this.host.bindHotKey({[t]:t=>(t.get("defaultState").event.preventDefault(),e.action(this.host))})})})},this._bindQuickActionHotKey=()=>{PQ.forEach(e=>{e.hotkey&&this.host.bindHotKey({[e.hotkey]:t=>{e.showWhen(this.host.host)&&(t.get("defaultState").event.preventDefault(),e.action(this.host.host))}})})},this._bindTextConversionHotKey=()=>{wW.forEach(e=>{e.hotkey&&e.hotkey.forEach(t=>{this.host.bindHotKey({[t]:t=>{t.get("defaultState").event.preventDefault();let[i]=this._std.command.chain().updateBlockType({flavour:e.flavour,props:{type:e.type}}).inline((t,i)=>{let s=t.updatedBlocks,o=t.std.host;if((0,V.Z1)(s),(0,V.Z1)(o),"affine:code"!==e.flavour)return;let[r]=s;BG(o,r,()=>{let e=this._std.view.viewFromPath("block",(0,st.UL)(r));(0,V.Z1)(e),this._std.selection.setGroup("note",[this._std.selection.create("text",{from:{blockId:e.blockId,index:0,length:r.text?.length??0},to:null})])}).catch(console.error),i()}).run();return i}})})})},this._focusBlock=null,this._onArrowDown=e=>{let t=e.get("defaultState").event,[i]=this._std.command.chain().inline((e,t)=>(this._reset(),t())).try(e=>[e.getTextSelection().inline((e,t)=>{let i=e.currentTextSelection;return(0,V.Z1)(i),t({currentSelectionPath:i.blockId})}).getNextBlock().inline((e,t)=>{let{nextBlock:i}=e;if(i)return(0,st.op)(i.model,["affine:paragraph","affine:list","affine:code"])||this._std.command.chain().with({focusBlock:i}).selectBlock().run(),t({})}),e.getBlockSelections().inline((e,t)=>{let i=e.currentBlockSelections;(0,V.Z1)(i);let s=i.at(-1);if(s)return t({currentSelectionPath:s.blockId})}).getNextBlock().inline((e,i)=>{let{nextBlock:s}=e;return((0,V.Z1)(s),t.preventDefault(),(0,st.op)(s.model,["affine:paragraph","affine:list","affine:code"]))?this._std.command.chain().focusBlockStart({focusBlock:s}).run():this._std.command.chain().with({focusBlock:s}).selectBlock().run(),i()})]).run();return i},this._onArrowUp=e=>{let t=e.get("defaultState").event,[i]=this._std.command.chain().inline((e,t)=>(this._reset(),t())).try(e=>[e.getTextSelection().inline((e,t)=>{let i=e.currentTextSelection;return(0,V.Z1)(i),t({currentSelectionPath:i.blockId})}).getPrevBlock().inline((e,t)=>{let{prevBlock:i}=e;if(i)return(0,st.op)(i.model,["affine:paragraph","affine:list","affine:code"])||this._std.command.chain().with({focusBlock:i}).selectBlock().run(),t({})}),e.getBlockSelections().inline((e,t)=>{let i=e.currentBlockSelections;(0,V.Z1)(i);let s=i.at(-1);if(s)return t({currentSelectionPath:s.blockId})}).getPrevBlock().inline((e,i)=>{let{prevBlock:s}=e;return((0,V.Z1)(s),(0,st.op)(s.model,["affine:paragraph","affine:list","affine:code"]))?(t.preventDefault(),this._std.command.chain().focusBlockEnd({focusBlock:s}).run()):this._std.command.chain().with({focusBlock:s}).selectBlock().run(),i()})]).run();return i},this._onBlockShiftDown=e=>e.getBlockSelections().inline((e,t)=>{let i=e.currentBlockSelections;if((0,V.Z1)(i),this._anchorSel||(this._anchorSel=i.at(-1)??null),!this._anchorSel)return;let s=e.std.view.getBlock(this._anchorSel.blockId);if(s)return t({anchorBlock:s,currentSelectionPath:this._focusBlock?.blockId??s?.blockId})}).getNextBlock({}).inline((e,t)=>{if((0,V.Z1)(e.nextBlock),this._focusBlock=e.nextBlock,PJ(this._focusBlock,this.host))return t({focusBlock:this._focusBlock})}).selectBlocksBetween({tail:!0}),this._onBlockShiftUp=e=>e.getBlockSelections().inline((e,t)=>{let i=e.currentBlockSelections;if((0,V.Z1)(i),this._anchorSel||(this._anchorSel=i.at(0)??null),!this._anchorSel)return;let s=e.std.view.getBlock(this._anchorSel.blockId);if(s)return t({anchorBlock:s,currentSelectionPath:this._focusBlock?.blockId??s?.blockId})}).getPrevBlock({}).inline((e,t)=>{if((0,V.Z1)(e.prevBlock),this._focusBlock=e.prevBlock,PJ(this._focusBlock,this.host))return t({focusBlock:this._focusBlock})}).selectBlocksBetween({tail:!1}),this._onEnter=e=>{let t=e.get("defaultState").event,[i]=this._std.command.chain().getBlockSelections().inline((e,i)=>{let s=e.currentBlockSelections?.at(-1);if(!s)return;let{view:o,doc:r,selection:a}=e.std,n=o.getBlock(s.blockId);if(!n)return;let{model:l}=n,c=r.getParent(l);if(!c)return;let d=c.children.indexOf(l)??void 0,h=r.addBlock("affine:paragraph",{},c,d+1),u=a.create("text",{from:{blockId:h,index:0,length:0},to:null});return t.preventDefault(),a.setGroup("note",[u]),i()}).run();return i},this._onEsc=()=>{let[e]=this._std.command.chain().getBlockSelections().inline((e,t)=>{if(e.currentBlockSelections?.at(-1))return e.std.selection.update(e=>e.filter(e=>!e.is("block"))),t()}).run();return e},this._onSelectAll=e=>{e.get("defaultState").event.preventDefault();let t=this._std.selection;if(!t.find("block"))return;let i=this.host.model.children.map(e=>t.create("block",{blockId:e.id}));t.update(e=>e.filter(e=>!e.is("block")).concat(i))},this._onShiftArrowDown=()=>{let[e]=this._std.command.chain().try(e=>[this._onBlockShiftDown(e)]).run();return e},this._onShiftArrowUp=()=>{let[e]=this._std.command.chain().try(e=>[this._onBlockShiftUp(e)]).run();return e},this._reset=()=>{this._anchorSel=null,this._focusBlock=null},this.bind=()=>{this.host.handleEvent("keyDown",e=>{"Shift"!==e.get("keyboardState").raw.key&&this._reset()}),this.host.bindHotKey({ArrowDown:this._onArrowDown,ArrowUp:this._onArrowUp,"Shift-ArrowDown":this._onShiftArrowDown,"Shift-ArrowUp":this._onShiftArrowUp,Escape:this._onEsc,Enter:this._onEnter,"Mod-a":this._onSelectAll}),this._bindQuickActionHotKey(),this._bindTextConversionHotKey(),this._bindMoveBlockHotKey()},(this.host=e).addController(this)}get _std(){return this.host.std}hostConnected(){this._reset()}hostDisconnected(){this._reset()}}var P0=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},P2=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let P5=(()=>{let e,t,i=[(0,L.EM)("affine-note")],s=[],o=P.p_;return class extends o{static{t=this}constructor(){super(...arguments),this.keymapController=new P1(this)}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;P0(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    .affine-note-block-container {
      display: flow-root;
    }
    .affine-note-block-container.selected {
      background-color: var(--affine-hover-color);
    }
  `}connectedCallback(){super.connectedCallback(),this.keymapController.bind()}renderBlock(){return(0,H.qy)`
      <div class="affine-note-block-container">
        <div class="affine-block-children-container">
          ${this.renderChildren(this.model)}
        </div>
      </div>
    `}static{P2(t,s)}},t})();var P7=i(54702),P3=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},P4=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n=[(0,L.EM)("edgeless-note-mask")],l=[],c=(0,P.Tm)(P.ao),d=[],h=[],u=[],p=[],f=[],g=[],v=[],y=[],b=[],w=[];(class extends c{static{t=this}static{let m="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,L.MZ)({attribute:!1})],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],P3(this,null,i,{kind:"accessor",name:"display",static:!1,private:!1,access:{has:e=>"display"in e,get:e=>e.display,set:(e,t)=>{e.display=t}},metadata:m},d,h),P3(this,null,s,{kind:"accessor",name:"editing",static:!1,private:!1,access:{has:e=>"editing"in e,get:e=>e.editing,set:(e,t)=>{e.editing=t}},metadata:m},u,p),P3(this,null,o,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:m},f,g),P3(this,null,r,{kind:"accessor",name:"model",static:!1,private:!1,access:{has:e=>"model"in e,get:e=>e.model,set:(e,t)=>{e.model=t}},metadata:m},v,y),P3(this,null,a,{kind:"accessor",name:"zoom",static:!1,private:!1,access:{has:e=>"zoom"in e,get:e=>e.zoom,set:(e,t)=>{e.zoom=t}},metadata:m},b,w),P3(null,e={value:t},n,{kind:"class",name:t.name,metadata:m},null,l),t=e.value,m&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m}),P4(t,l)}firstUpdated(){let e=this.renderRoot.querySelector(".affine-note-mask"),t=new ResizeObserver(e=>{for(let t of e)if(!this.model.edgeless.collapse){let e=m.z.deserialize(this.model.xywh),i=this.model.edgeless.scale??1,s=t.contentRect.height*i;if(!s||(0,P7.f3)(e.h,s))return;e.h=s,this.model.stash("xywh"),this.model.xywh=e.serialize()}});t.observe(e),this._disposables.add(()=>{this.model.doc.getBlockById(this.model.id)&&this.model.pop("xywh"),t.disconnect()})}render(){let e=this.editing?P6:0;return(0,H.qy)`
      <div
        class="affine-note-mask"
        style=${(0,Z.W)({position:"absolute",top:`${-e}px`,left:`${-e}px`,bottom:`${-e}px`,right:`${-e}px`,zIndex:"1",pointerEvents:this.display?"auto":"none",borderRadius:`${this.model.edgeless.style.borderRadius*this.zoom}px`})}
      ></div>
    `}#e=P4(this,d,void 0);get display(){return this.#e}set display(e){this.#e=e}#tv=(P4(this,h),P4(this,u,void 0));get editing(){return this.#tv}set editing(e){this.#tv=e}#n=(P4(this,p),P4(this,f,void 0));get host(){return this.#n}set host(e){this.#n=e}#i7=(P4(this,g),P4(this,v,void 0));get model(){return this.#i7}set model(e){this.#i7=e}#l4=(P4(this,y),P4(this,b,void 0));get zoom(){return this.#l4}set zoom(e){this.#l4=e}constructor(){super(...arguments),P4(this,w)}})})();let P6=20;(()=>{let e,t,i,s,o,r,a,n,l=[(0,L.EM)("affine-edgeless-note")],c=[],d=(0,P.$K)(P5),h=[],u=[],p=[],f=[],v=[],y=[],b=[],w=[],x=[],_=[],k=[],S=[];(class extends d{static{t=this}static{let g="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.wk)()],r=[(0,L.wk)()],a=[(0,L.wk)()],n=[(0,L.P)(".edgeless-note-page-content .affine-note-block-container")],P3(this,null,i,{kind:"accessor",name:"_editing",static:!1,private:!1,access:{has:e=>"_editing"in e,get:e=>e._editing,set:(e,t)=>{e._editing=t}},metadata:g},h,u),P3(this,null,s,{kind:"accessor",name:"_isHover",static:!1,private:!1,access:{has:e=>"_isHover"in e,get:e=>e._isHover,set:(e,t)=>{e._isHover=t}},metadata:g},p,f),P3(this,null,o,{kind:"accessor",name:"_isResizing",static:!1,private:!1,access:{has:e=>"_isResizing"in e,get:e=>e._isResizing,set:(e,t)=>{e._isResizing=t}},metadata:g},v,y),P3(this,null,r,{kind:"accessor",name:"_isSelected",static:!1,private:!1,access:{has:e=>"_isSelected"in e,get:e=>e._isSelected,set:(e,t)=>{e._isSelected=t}},metadata:g},b,w),P3(this,null,a,{kind:"accessor",name:"_noteFullHeight",static:!1,private:!1,access:{has:e=>"_noteFullHeight"in e,get:e=>e._noteFullHeight,set:(e,t)=>{e._noteFullHeight=t}},metadata:g},x,_),P3(this,null,n,{kind:"accessor",name:"_notePageContent",static:!1,private:!1,access:{has:e=>"_notePageContent"in e,get:e=>e._notePageContent,set:(e,t)=>{e._notePageContent=t}},metadata:g},k,S),P3(null,e={value:t},l,{kind:"class",name:t.name,metadata:g},null,c),t=e.value,g&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:g})}static{this.styles=(0,H.AH)`
    .edgeless-note-collapse-button {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      z-index: 2;
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0.2;
      transition: opacity 0.3s;
    }
    .edgeless-note-collapse-button:hover {
      opacity: 1;
    }
    .edgeless-note-collapse-button.flip {
      transform: translateX(-50%) rotate(180deg);
    }
    .edgeless-note-collapse-button.hide {
      display: none;
    }

    .edgeless-note-container:has(.affine-embed-synced-doc-container.editing)
      > .note-background {
      left: ${-P6}px !important;
      top: ${-P6}px !important;
      width: calc(100% + ${2*P6}px) !important;
      height: calc(100% + ${2*P6}px) !important;
    }

    .edgeless-note-container:has(.affine-embed-synced-doc-container.editing)
      > edgeless-note-mask {
      display: none;
    }
  `}_collapsedContent(){if(!this._isShowCollapsedContent)return H.s6;let{xywh:e,edgeless:t}=this.model,{borderSize:i}=t.style,s=this._editing?P6:0,o=this._editing?i:0,r=m.z.deserialize(e),a=t.scale??1,n=r.w/a+2*s+o,l=r.h/a,c=this._notePageContent?.getBoundingClientRect();if(!c)return H.s6;let d=this.rootService.viewport.zoom;return(this._noteFullHeight=c.height/a/d+2*fA.ei,l>=this._noteFullHeight)?H.s6:(0,H.qy)`
      <div
        style=${(0,Z.W)({width:`${n}px`,height:`${this._noteFullHeight-l}px`,position:"absolute",left:`${-(s+o/2)}px`,top:`${l+s+o/2}px`,background:"var(--affine-white)",opacity:.5,pointerEvents:"none",borderLeft:"2px var(--affine-blue) solid",borderBottom:"2px var(--affine-blue) solid",borderRight:"2px var(--affine-blue) solid",borderRadius:"0 0 8px 8px"})}
      ></div>
    `}_handleClickAtBackground(e){if(e.stopPropagation(),!this._editing)return;let t=this.getBoundingClientRect(),i=16*this._zoom,s=2*this._zoom,o=(0,P7.qE)(e.x,t.left+s,t.right-s),r=(0,P7.qE)(e.y,t.top+i,t.bottom-i);(0,li.kW)(o,r),this.doc.readonly||this._tryAddParagraph(o,r)}_hovered(){this.selection.value.some(e=>"surface"===e.type&&e.blockId===this.model.id)&&(this._isHover=!0)}get _isShowCollapsedContent(){return this.model.edgeless.collapse&&(this._isResizing||this._isHover)}_leaved(){this._isHover&&(this._isHover=!1)}_setCollapse(e){e.stopImmediatePropagation();let{collapse:t,collapsedHeight:i}=this.model.edgeless;if(t)this.model.doc.updateBlock(this.model,()=>{this.model.edgeless.collapse=!1});else if(i){let{xywh:e,edgeless:t}=this.model,s=m.z.deserialize(e);s.h=i*(t.scale??1),this.model.doc.updateBlock(this.model,()=>{this.model.edgeless.collapse=!0,this.model.xywh=s.serialize()})}this.selection.clear()}_tryAddParagraph(e,t){let i=(0,sc.hF)(new g.b(e,t));if(!i)return;let s=i.getBoundingClientRect(),o=t-s.top<s.height/2?"before":"after",r=i.model,a=this.model.children.indexOf(r),n=this.model.children,l=n[(0,P7.qE)(a+("before"===o?-1:1),0,n.length)];if((!r.text||!(0,iS.o)(r,["affine:paragraph","affine:list"]))&&(!l||!l.text||!(0,iS.o)(l,["affine:paragraph","affine:list"]))){let[e]=this.doc.addSiblingBlocks(r,[{flavour:"affine:paragraph"}],o);this.updateComplete.then(()=>{this.std.selection.setGroup("note",[this.std.selection.create("text",{from:{blockId:e,index:0,length:0},to:null})])}).catch(console.error)}}get _zoom(){return this.rootService.viewport.zoom}connectedCallback(){super.connectedCallback();let e=this.rootService.selection;this._editing=e.has(this.model.id)&&e.editing,this._disposables.add(e.slots.updated.on(()=>{e.has(this.model.id)&&e.editing?this._editing=!0:this._editing=!1}))}firstUpdated(){let{_disposables:e}=this,t=this.rootService.selection;e.add(this.rootService.slots.elementResizeStart.on(()=>{t.selectedElements.includes(this.model)&&(this._isResizing=!0)})),e.add(this.rootService.slots.elementResizeEnd.on(()=>{this._isResizing=!1}));let i=new MutationObserver(()=>{let e=this._notePageContent?.getBoundingClientRect();if(!e)return;let t=this.rootService.viewport.zoom,i=this.model.edgeless.scale??1;this._noteFullHeight=e.height/i/t+2*fA.ei});this._notePageContent&&(i.observe(this,{childList:!0,subtree:!0}),e.add(()=>i.disconnect()))}getRenderingRect(){let{xywh:e,edgeless:t}=this.model,{collapse:i,scale:s=1}=t,o=m.z.deserialize(e),r=o.w/s,a=o.h/s;return{x:o.x,y:o.y,w:r,h:i?a:"inherit",zIndex:this.toZIndex()}}renderGfxBlock(){let{model:e}=this,{displayMode:t}=e;if(t&&t===q.ko.DocOnly)return H.s6;let{xywh:i,edgeless:s}=e,{borderRadius:o,borderSize:r,borderStyle:a,shadowType:n}=s.style,{collapse:l,collapsedHeight:c,scale:d=1}=s,h=m.z.deserialize(i),u=h.w/d,p=h.h/d,f={height:"100%",padding:`${fA.ei}px`,boxSizing:"border-box",borderRadius:o+"px",pointerEvents:"all",transformOrigin:"0 0",transform:`scale(${d})`,fontWeight:"400",lineHeight:"var(--affine-line-height)"},g=this._editing?P6:0,v=im.Q.generateColorProperty(e.background,fv.KI),y={position:"absolute",left:`${-g}px`,top:`${-g}px`,width:`${u+2*g}px`,height:`calc(100% + ${2*g}px)`,borderRadius:o+"px",transition:this._editing?"left 0.3s, top 0.3s, width 0.3s, height 0.3s":"none",backgroundColor:v,border:`${r}px ${a===C.u1.Dash?"dashed":a} var(--affine-black-10)`,boxShadow:this._editing?"var(--affine-active-shadow)":n?`var(${n})`:"none"},b=null!=l&&null!=c&&c!==this._noteFullHeight,w=l?this._noteFullHeight<p:!!c&&c<p;return(0,H.qy)`
      <div
        class="edgeless-note-container"
        style=${(0,Z.W)(f)}
        data-model-height="${h.h}"
        @mouseleave=${this._leaved}
        @mousemove=${this._hovered}
        data-scale="${d}"
      >
        <div
          class="note-background"
          style=${(0,Z.W)(y)}
          @pointerdown=${lt.dG}
          @click=${this._handleClickAtBackground}
        ></div>

        <div
          class="edgeless-note-page-content"
          style=${(0,Z.W)({width:"100%",height:"100%","overflow-y":this._isShowCollapsedContent?"initial":"clip"})}
        >
          ${this.renderPageContent()}
        </div>

        ${b?(0,H.qy)`<div
              class="${(0,oJ.H)({"edgeless-note-collapse-button":!0,flip:w,hide:this._isSelected})}"
              style=${(0,Z.W)({bottom:this._editing?`${-g}px`:"0"})}
              @mousedown=${lt.dG}
              @mouseup=${lt.dG}
              @click=${this._setCollapse}
            >
              ${tK}
            </div>`:H.s6}
        ${this._collapsedContent()}

        <edgeless-note-mask
          .model=${this.model}
          .display=${!this._editing}
          .host=${this.host}
          .zoom=${this.rootService?.viewport.zoom??1}
          .editing=${this._editing}
        ></edgeless-note-mask>
      </div>
    `}toZIndex(){return this.rootService?.layer.getZIndex(this.model).toString()??"0"}get rootService(){return super.rootService}#iO;get _editing(){return this.#iO}set _editing(e){this.#iO=e}#ay;get _isHover(){return this.#ay}set _isHover(e){this.#ay=e}#aH;get _isResizing(){return this.#aH}set _isResizing(e){this.#aH=e}#so;get _isSelected(){return this.#so}set _isSelected(e){this.#so=e}#l6;get _noteFullHeight(){return this.#l6}set _noteFullHeight(e){this.#l6=e}#l8;get _notePageContent(){return this.#l8}set _notePageContent(e){this.#l8=e}constructor(){super(...arguments),this.rootServiceFlavour="affine:page",this.#iO=P4(this,h,!1),this.#ay=(P4(this,u),P4(this,p,!1)),this.#aH=(P4(this,f),P4(this,v,!1)),this.#so=(P4(this,y),P4(this,b,!1)),this.#l6=(P4(this,w),P4(this,x,0)),this.#l8=(P4(this,_),P4(this,k,null)),P4(this,S)}static{P4(t,c)}})})();let P8=(0,H.AH)`
  affine-paragraph {
    box-sizing: border-box;
    display: block;
    font-size: var(--affine-font-base);
  }

  .affine-paragraph-block-container {
    position: relative;
    border-radius: 4px;
  }
  .affine-paragraph-rich-text-wrapper {
    position: relative;
  }

  affine-paragraph code {
    font-size: calc(var(--affine-font-base) - 3px);
    padding: 0px 4px 2px;
  }

  .h1 {
    font-size: var(--affine-font-h-1);
    font-weight: 700;
    letter-spacing: -0.02em;
    line-height: calc(1em + 8px);
    margin-top: 18px;
    margin-bottom: 10px;
  }

  .h1 code {
    font-size: calc(var(--affine-font-base) + 10px);
    padding: 0px 4px;
  }

  .h2 {
    font-size: var(--affine-font-h-2);
    font-weight: 600;
    letter-spacing: -0.02em;
    line-height: calc(1em + 10px);
    margin-top: 14px;
    margin-bottom: 10px;
  }

  .h2 code {
    font-size: calc(var(--affine-font-base) + 8px);
    padding: 0px 4px;
  }

  .h3 {
    font-size: var(--affine-font-h-3);
    font-weight: 600;
    letter-spacing: -0.02em;
    line-height: calc(1em + 8px);
    margin-top: 12px;
    margin-bottom: 10px;
  }

  .h3 code {
    font-size: calc(var(--affine-font-base) + 6px);
    padding: 0px 4px;
  }

  .h4 {
    font-size: var(--affine-font-h-4);
    font-weight: 600;
    letter-spacing: -0.015em;
    line-height: calc(1em + 8px);
    margin-top: 12px;
    margin-bottom: 10px;
  }
  .h4 code {
    font-size: calc(var(--affine-font-base) + 4px);
    padding: 0px 4px;
  }

  .h5 {
    font-size: var(--affine-font-h-5);
    font-weight: 600;
    letter-spacing: -0.015em;
    line-height: calc(1em + 8px);
    margin-top: 12px;
    margin-bottom: 10px;
  }
  .h5 code {
    font-size: calc(var(--affine-font-base) + 2px);
    padding: 0px 4px;
  }

  .h6 {
    font-size: var(--affine-font-h-6);
    font-weight: 600;
    letter-spacing: -0.015em;
    line-height: calc(1em + 8px);
    margin-top: 12px;
    margin-bottom: 10px;
  }

  .h6 code {
    font-size: var(--affine-font-base);
    padding: 0px 4px 2px;
  }

  .quote {
    line-height: 26px;
    padding-left: 17px;
    margin-top: var(--affine-paragraph-space);
    padding-top: 10px;
    padding-bottom: 10px;
    position: relative;
  }
  .quote::after {
    content: '';
    width: 2px;
    height: calc(100% - 20px);
    margin-top: 10px;
    margin-bottom: 10px;
    position: absolute;
    left: 0;
    top: 0;
    background: var(--affine-quote-color);
    border-radius: 18px;
  }

  .affine-paragraph-placeholder {
    position: absolute;
    display: none;
    left: 0;
    bottom: 0;
    pointer-events: none;
    color: var(--affine-black-30);
    fill: var(--affine-black-30);
  }
  .affine-paragraph-placeholder.visible {
    display: block;
  }
  @media print {
    .affine-paragraph-placeholder.visible {
      display: none;
    }
  }
`;var P9=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Ae=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let At=(()=>{let e,t,i=[(0,L.EM)("affine-paragraph")],s=[],o=lc,r=[],a=[];return class extends o{static{t=this}constructor(){super(...arguments),this._composing=(0,sh.vP)(!1),this._displayPlaceholder=(0,sh.vP)(!1),this._inlineRangeProvider=null,this._isInDatabase=()=>{let e=this.parentElement;for(;e&&e!==document.body;){if("affine-database"===e.tagName.toLowerCase())return!0;e=e.parentElement}return!1},this.#eo=Ae(this,r,null),this.#eL=(Ae(this,a),{margin:"10px 0"})}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;P9(this,null,[(0,L.P)("rich-text")],{kind:"accessor",name:"_richTextElement",static:!1,private:!1,access:{has:e=>"_richTextElement"in e,get:e=>e._richTextElement,set:(e,t)=>{e._richTextElement=t}},metadata:n},r,a),P9(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=P8}connectedCallback(){super.connectedCallback(),yY(this),this.handleEvent("compositionStart",()=>{this._composing.value=!0},{flavour:!0}),this.handleEvent("compositionEnd",()=>{this._composing.value=!1},{flavour:!0}),this._inlineRangeProvider=(0,P.U4)(this),this.disposables.add((0,sh.QZ)(()=>{if(this._composing.value||this.doc.readonly){this._displayPlaceholder.value=!1;return}let e=this.host.selection.find("text"),t=e?.isCollapsed()??!1;if(!this.selected||!t){this._displayPlaceholder.value=!1;return}this.updateComplete.then(()=>{if((this.inlineEditor?.yTextLength??0)>0||this._isInDatabase()){this._displayPlaceholder.value=!1;return}this._displayPlaceholder.value=!0}).catch(console.error)}))}async getUpdateComplete(){let e=await super.getUpdateComplete();return await this._richTextElement?.updateComplete,e}renderBlock(){let{type$:e}=this.model,t=(0,H.qy)`<div
      class="affine-block-children-container"
      style="padding-left: ${fA.s6}px"
    >
      ${this.renderChildren(this.model)}
    </div>`;return(0,H.qy)`
      <div class="affine-paragraph-block-container">
        <div class="affine-paragraph-rich-text-wrapper ${e.value}">
          <rich-text
            .yText=${this.model.text.yText}
            .inlineEventSource=${this.topContenteditableElement??H.s6}
            .undoManager=${this.doc.history}
            .attributesSchema=${this.attributesSchema}
            .attributeRenderer=${this.attributeRenderer}
            .markdownShortcutHandler=${this.markdownShortcutHandler}
            .embedChecker=${this.embedChecker}
            .readonly=${this.doc.readonly}
            .inlineRangeProvider=${this._inlineRangeProvider}
            .enableClipboard=${!1}
            .enableUndoRedo=${!1}
            .verticalScrollContainerGetter=${()=>(0,sc.dV)(this.host)}
          ></rich-text>
          ${this.inEdgelessText?H.s6:(0,H.qy)`
                <div
                  contenteditable="false"
                  class="affine-paragraph-placeholder ${this._displayPlaceholder.value?"visible":""}"
                >
                  ${this.service.placeholderGenerator(this.model)}
                </div>
              `}
        </div>

        ${t}
      </div>
    `}get attributeRenderer(){return this.inlineManager.getRenderer()}get attributesSchema(){return this.inlineManager.getSchema()}get embedChecker(){return this.inlineManager.embedChecker}get inEdgelessText(){return this.topContenteditableElement instanceof mz}get inlineEditor(){return this._richTextElement?.inlineEditor}get inlineManager(){let e=this.service?.inlineManager;return(0,V.Z1)(e),e}get markdownShortcutHandler(){return this.inlineManager.markdownShortcutHandler}get topContenteditableElement(){return this.rootComponent instanceof I8?this.closest(fv.Tk):this.rootComponent}#eo;get _richTextElement(){return this.#eo}set _richTextElement(e){this.#eo=e}#eL;get blockContainerStyles(){return this.#eL}set blockContainerStyles(e){this.#eL=e}static{Ae(t,s)}},t})();var Ai=i(1126),As=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Ao=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(0,A.lQ)(O4);let Ar={"affine:frame":ta,DEFAULT_NOTE_HEIGHT:tg},Aa={"affine:frame":"Frame",group:"Group",DEFAULT:"Content"},An={group:"This content was ungrouped or deleted on edgeless mode",DEFAULT:"This content was deleted on edgeless mode"};(()=>{let e,t,i,s,o,r,a=[(0,L.EM)("affine-surface-ref"),lq()],n=[],l=P.p_,c=[],d=[],h=[],u=[],p=[],g=[],v=[],y=[];(class extends l{static{t=this}static{let f="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.wk)()],o=[(0,L.P)("affine-surface-ref > block-caption-editor")],r=[(0,L.P)("editor-host")],As(this,null,i,{kind:"accessor",name:"_focused",static:!1,private:!1,access:{has:e=>"_focused"in e,get:e=>e._focused,set:(e,t)=>{e._focused=t}},metadata:f},c,d),As(this,null,s,{kind:"accessor",name:"_surfaceModel",static:!1,private:!1,access:{has:e=>"_surfaceModel"in e,get:e=>e._surfaceModel,set:(e,t)=>{e._surfaceModel=t}},metadata:f},h,u),As(this,null,o,{kind:"accessor",name:"captionElement",static:!1,private:!1,access:{has:e=>"captionElement"in e,get:e=>e.captionElement,set:(e,t)=>{e.captionElement=t}},metadata:f},p,g),As(this,null,r,{kind:"accessor",name:"previewEditor",static:!1,private:!1,access:{has:e=>"previewEditor"in e,get:e=>e.previewEditor,set:(e,t)=>{e.previewEditor=t}},metadata:f},v,y),As(null,e={value:t},a,{kind:"class",name:t.name,metadata:f},null,n),t=e.value,f&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static{this.styles=(0,H.AH)`
    .affine-surface-ref {
      position: relative;
      user-select: none;
      margin: 10px 0;
    }

    .ref-placeholder {
      padding: 26px 0px 0px;
    }

    .placeholder-image {
      margin: 0 auto;
      text-align: center;
    }

    .placeholder-text {
      margin: 12px auto 0;
      text-align: center;
      font-size: 28px;
      font-weight: 600;
      line-height: 36px;
      font-family: var(--affine-font-family);
    }

    .placeholder-action {
      margin: 32px auto 0;
      text-align: center;
    }

    .delete-button {
      width: 204px;
      padding: 4px 18px;

      display: inline-flex;
      justify-content: center;
      align-items: center;
      gap: 4px;

      border-radius: 8px;
      border: 1px solid var(--affine-border-color);

      font-family: var(--affine-font-family);
      font-size: 12px;
      font-weight: 500;
      line-height: 20px;

      background-color: transparent;
      cursor: pointer;
    }

    .delete-button > .icon > svg {
      color: var(--affine-icon-color);
      width: 16px;
      height: 16px;
      display: block;
    }

    .placeholder-reason {
      margin: 72px auto 0;
      padding: 10px;

      text-align: center;
      font-size: 12px;
      font-family: var(--affine-font-family);
      line-height: 20px;

      color: var(--affine-warning-color);
      background-color: var(--affine-background-error-color);
    }

    .ref-content {
      position: relative;
      padding: 20px;
      background-color: var(--affine-background-primary-color);
      background: radial-gradient(
        var(--affine-edgeless-grid-color) 1px,
        var(--affine-background-primary-color) 1px
      );
    }

    .ref-viewport {
      max-width: 100%;
      margin: 0 auto;
      position: relative;
      overflow: hidden;
      pointer-events: none;
      user-select: none;
    }

    .ref-viewport.frame {
      border-radius: 2px;
      border: 1px solid var(--affine-black-30);
    }

    .surface-ref-mask {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
    }

    .surface-ref-mask:hover {
      background-color: rgba(211, 211, 211, 0.1);
    }

    .surface-ref-mask:hover .ref-label {
      display: block;
    }

    .ref-label {
      display: none;
      user-select: none;
    }

    .ref-label {
      position: absolute;
      left: 0;
      bottom: 0;

      width: 100%;
      padding: 8px 16px;
      border: 1px solid var(--affine-border-color);
      gap: 14px;

      background: var(--affine-background-primary-color);

      font-size: 12px;

      user-select: none;
    }

    .ref-label .title {
      display: inline-block;
      font-weight: 600;
      font-family: var(--affine-font-family);
      line-height: 20px;

      color: var(--affine-text-secondary-color);
    }

    .ref-label .title > svg {
      color: var(--affine-icon-secondary);
      display: inline-block;
      vertical-align: baseline;
      width: 20px;
      height: 20px;
      vertical-align: bottom;
    }

    .ref-label .suffix {
      display: inline-block;
      font-weight: 400;
      color: var(--affine-text-disable-color);
      line-height: 20px;
    }
  `}_deleteThis(){this.doc.deleteBlock(this.model)}_focusBlock(){this.selection.update(()=>[this.selection.create("block",{blockId:this.blockId})])}_initHotkey(){let e=this.host.selection,t=()=>{if(!this.doc.getParent(this.model))return;let[t]=this.doc.addSiblingBlocks(this.model,[{flavour:"affine:paragraph"}]),i=this.doc.getBlockById(t);(0,V.Z1)(i,"Failed to add paragraph block."),(0,lt.Ak)(()=>{e.update(t=>t.filter(e=>!e.is("block")).concat(e.create("text",{from:{blockId:i.id,index:0,length:0},to:null})))},this)};this.bindHotKey({Enter:()=>{if(this._focused)return t(),!0}})}_initReferencedModel(){let e=this.doc.getBlocksByFlavour("affine:surface")[0]?.model??null;this._surfaceModel=e;let t=()=>{if(!this.model.reference)return[null,this.doc.id];if(this.doc.getBlock(this.model.reference))return[this.doc.getBlock(this.model.reference).model,this.doc.id];if(this._surfaceModel?.getElementById(this.model.reference))return[this._surfaceModel.getElementById(this.model.reference),this.doc.id];let e=[...this.std.collection.docs.values()].map(e=>e.getDoc()).find(e=>e.getBlock(this.model.reference)||e.getBlocksByFlavour("affine:surface")[0].model.getElementById(this.model.reference));return(e&&(this._surfaceModel=e.getBlocksByFlavour("affine:surface")[0].model),e&&e.getBlock(this.model.reference))?[e.getBlock(this.model.reference).model,e.id]:e&&e.getBlocksByFlavour("affine:surface")[0]?[e.getBlocksByFlavour("affine:surface")[0].model.getElementById(this.model.reference),e.id]:[null,this.doc.id]},i=()=>{let[e,i]=t();this._referencedModel=e&&e.xywh?e:null,this._previewDoc=this.doc.collection.getDoc(i,{readonly:!0}),this._referenceXYWH=this._referencedModel?.xywh??null};i(),this._disposables.add(this.model.propsUpdated.on(e=>{"reference"===e.key&&this.model.reference!==this._referencedModel?.id&&i()})),e&&this._referencedModel instanceof k.nz&&this._disposables.add(e.elementRemoved.on(({id:e})=>{this.model.reference===e&&i()})),this._referencedModel instanceof Ai.ug&&this._disposables.add(this.doc.slots.blockUpdated.on(({type:e,id:t})=>{"delete"===e&&t===this.model.reference&&i()}))}_initSelection(){let e=this.host.selection;this._disposables.add(e.slots.changed.on(e=>{this._focused=e.some(e=>e.blockId===this.blockId&&e.is("block"))}))}_initSpec(){this._previewSpec.setup("affine:page",({viewConnected:e})=>{e.once(({component:e})=>{e.editorViewportSelector="ref-viewport",e.service.viewport.sizeUpdated.once(()=>{this._refreshViewport()})})}),this._previewSpec.setup("affine:frame",({viewConnected:e})=>{e.once(({component:e})=>{e.showBorder=!1})})}_refreshViewport(){if(!this._referenceXYWH)return;let e=this.previewEditor;e&&e.spec.getService("affine:page").viewport.setViewportByBound(m.z.deserialize(this._referenceXYWH))}_renderMask(e,t){let i="title"in e?e.title:"";return(0,H.qy)`
      <div class="surface-ref-mask">
        <div class="ref-label">
          <div class="title">
            ${Ar[t??"DEFAULT"]??Ar.DEFAULT}
            <span>${i}</span>
          </div>
          <div class="suffix">from edgeless mode</div>
        </div>
      </div>
    `}_renderRefContent(e){let[,,t,i]=(0,f.W)(e.xywh),s="flavour"in e?e.flavour:e.type,o=this._previewSpec.value;return(0,H.qy)`<div class="ref-content">
      <div
        class="ref-viewport ${"affine:frame"===s?"frame":""}"
        style=${(0,Z.W)({width:`${t}px`,aspectRatio:`${t} / ${i}`})}
      >
        ${this.host.renderSpecPortal(this._previewDoc,o)}
      </div>
      ${this._renderMask(e,s)}
    </div>`}_renderRefPlaceholder(e){return(0,H.qy)`<div class="ref-placeholder">
      <div class="placeholder-image">${m5}</div>
      <div class="placeholder-text">
        No Such
        ${Aa[e.refFlavour??"DEFAULT"]??Aa.DEFAULT}
      </div>
      <div class="placeholder-action">
        <button class="delete-button" type="button" @click=${this._deleteThis}>
          <span class="icon">${tT}</span
          ><span>Delete this block</span>
        </button>
      </div>
      <div class="placeholder-reason">
        ${An[e.refFlavour??"DEFAULT"]??An.DEFAULT}
      </div>
    </div>`}get _shouldRender(){return this.isConnected&&!this.parentBlock.closest("affine-surface-ref")}connectedCallback(){if(super.connectedCallback(),yY(this),this.contentEditable="false",!this._shouldRender)return;let e=this.service;(0,V.Z1)(e,"Surface ref block must run with its service."),this._initHotkey(),this._initSpec(),this._initReferencedModel(),this._initSelection()}render(){if(!this._shouldRender)return H.s6;let{_surfaceModel:e,_referencedModel:t,model:i}=this,s=e&&t&&t.xywh?this._renderRefContent(t):this._renderRefPlaceholder(i);return(0,H.qy)`
      <div
        class="affine-surface-ref"
        @click=${this._focusBlock}
        style=${(0,Z.W)({outline:this._focused?"2px solid var(--affine-primary-color)":void 0})}
      >
        ${s}
      </div>

      <block-caption-editor .block=${this}></block-caption-editor>

      ${Object.values(this.widgets)}
    `}viewInEdgeless(){if(!this._referenceXYWH)return;let e={xywh:this._referenceXYWH,padding:[60,20,20,20]},t=this.std.spec.getService("affine:page");t.editPropsStore.setStorage("viewport",e),t.docModeService.setMode("edgeless")}willUpdate(e){e.has("_referencedModel")&&this._refreshViewport()}get referenceModel(){return this._referencedModel}#l9;get _focused(){return this.#l9}set _focused(e){this.#l9=e}#lP;get _surfaceModel(){return this.#lP}set _surfaceModel(e){this.#lP=e}#ce;get captionElement(){return this.#ce}set captionElement(e){this.#ce=e}#ct;get previewEditor(){return this.#ct}set previewEditor(e){this.#ct=e}constructor(){super(...arguments),this._previewDoc=null,this._previewSpec=m0.getInstance().getSpec("edgeless:preview"),this._referenceXYWH=null,this._referencedModel=null,this.#l9=Ao(this,c,!1),this.#lP=(Ao(this,d),Ao(this,h,null)),this.#ce=(Ao(this,u),Ao(this,p,void 0)),this.#ct=(Ao(this,g),Ao(this,v,void 0)),Ao(this,y)}static{Ao(t,n)}})})();var Al=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Ac=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("affine-edgeless-surface-ref")],s=[],o=P.p_;(class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;Al(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),Ac(t,s)}render(){return H.s6}})})();let Ad=(0,H.AH)`
  .affine-attachment-rename-container {
    ${yo};
    position: relative;
    display: flex;
    align-items: center;
    width: 320px;
    gap: 12px;
    padding: 12px;
    z-index: var(--affine-z-index-popover);
  }

  .affine-attachment-rename-input-wrapper {
    display: flex;
    min-width: 280px;
    height: 30px;
    box-sizing: border-box;
    padding: 4px 10px;
    background: var(--affine-white-10);
    border-radius: 4px;
    border: 1px solid var(--affine-border-color);
  }

  .affine-attachment-rename-input-wrapper:focus-within {
    border-color: var(--affine-blue-700);
    box-shadow: var(--affine-active-shadow);
  }

  .affine-attachment-rename-input-wrapper input {
    flex: 1;
    border: none;
    outline: none;
    background: transparent;
    color: var(--affine-text-primary-color);
    ${yi};
  }

  .affine-attachment-rename-input-wrapper input::placeholder {
    color: var(--affine-placeholder-color);
  }

  .affine-attachment-rename-extension {
    font-size: var(--affine-font-xs);
    color: var(--affine-text-secondary-color);
  }

  .affine-attachment-rename-overlay-mask {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: var(--affine-z-index-popover);
  }
`;(0,H.AH)`
  .affine-attachment-options-more {
    box-sizing: border-box;
    padding-bottom: 4px;
  }

  .affine-attachment-options-more-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    color: var(--affine-text-primary-color);

    border-radius: 8px;
    padding: 8px;
    background: var(--affine-background-overlay-panel-color);
    box-shadow: var(--affine-shadow-2);
  }

  .affine-attachment-options-more-container > icon-button {
    display: flex;
    align-items: center;
    padding: 8px;
    gap: 8px;
  }
  .affine-attachment-options-more-container > icon-button[hidden] {
    display: none;
  }

  .affine-attachment-options-more-container > icon-button:hover.danger {
    background: var(--affine-background-error-color);
    color: var(--affine-error-color);
  }
  .affine-attachment-options-more-container > icon-button:hover.danger > svg {
    color: var(--affine-error-color);
  }
`;let Ah=(0,H.AH)`
  :host {
    z-index: 1;
  }
`,Au=({editorHost:e,model:t,abortController:i})=>{let s=(0,lB._)();setTimeout(()=>s.value?.focus());let o=t.name,r=o.slice(0,o.lastIndexOf(".")),a=o.slice(o.lastIndexOf(".")),n=a.includes(".")&&a.length<=7&&o.length>a.length,l=n?r:o,c=n?a:"",d=()=>{let s=l+c;if(!s){l8(e,"File name cannot be empty");return}t.doc.updateBlock(t,{name:s}),i.abort()};return(0,H.qy)`
    <style>
      ${Ad}
    </style>
    <div
      class="affine-attachment-rename-overlay-mask"
      @click="${()=>i.abort()}"
    ></div>
    <div class="affine-attachment-rename-container">
      <div class="affine-attachment-rename-input-wrapper">
        <input
          ${(0,lB.K)(s)}
          type="text"
          .value=${l}
          @input=${e=>{l=e.target.value}}
          @keydown=${e=>{if(e.stopPropagation(),"Escape"===e.key&&!e.isComposing){i.abort();return}if("Enter"===e.key&&!e.isComposing){d();return}}}
        />
        <span class="affine-attachment-rename-extension">${c}</span>
      </div>
      <editor-icon-button
        class="affine-confirm-button"
        .iconSize=${"24px"}
        @click=${d}
      >
        ${aG}
      </editor-icon-button>
    </div>
  `},Ap=(0,H.AH)`
  .affine-attachment-card {
    margin: 0 auto;
    box-sizing: border-box;
    display: flex;
    gap: 12px;

    width: 100%;
    height: ${fA.Hn.horizontalThin}px;

    padding: 12px;
    border-radius: 8px;
    border: 1px solid var(--affine-background-tertiary-color);

    opacity: var(--add, 1);
    background: var(--affine-background-primary-color);
    user-select: none;
  }

  .affine-attachment-content {
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
    flex: 1 0 0;

    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
  }

  .affine-attachment-content-title {
    display: flex;
    flex-direction: row;
    gap: 8px;
    align-items: center;

    align-self: stretch;
    padding: var(--1, 0px);
    border-radius: var(--1, 0px);
    opacity: var(--add, 1);
  }

  .affine-attachment-content-title-icon {
    display: flex;
    width: 16px;
    height: 16px;
    align-items: center;
    justify-content: center;
  }

  .affine-attachment-content-title-icon svg {
    width: 16px;
    height: 16px;
    fill: var(--affine-background-primary-color);
  }

  .affine-attachment-content-title-text {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;

    word-break: break-all;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--affine-text-primary-color);

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-sm);
    font-style: normal;
    font-weight: 600;
    line-height: 22px;
  }

  .affine-attachment-content-info {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
    flex: 1 0 0;

    word-break: break-all;
    overflow: hidden;
    color: var(--affine-text-secondary-color);
    text-overflow: ellipsis;

    font-family: var(--affine-font-family);
    font-size: var(--affine-font-xs);
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }

  .affine-attachment-banner {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .affine-attachment-banner svg {
    width: 40px;
    height: 40px;
  }

  .affine-attachment-card.loading {
    background: var(--affine-background-secondary-color);

    .affine-attachment-content-title-text {
      color: var(--affine-placeholder-color);
    }
  }

  .affine-attachment-card.error,
  .affine-attachment-card.unsynced {
    background: var(--affine-background-secondary-color);
  }

  .affine-attachment-card.cubeThick {
    width: ${fA.Cd.cubeThick}px;
    height: ${fA.Hn.cubeThick}px;

    flex-direction: column-reverse;

    .affine-attachment-content {
      width: 100%;
      flex-direction: column;
      align-items: flex-start;
      justify-content: space-between;
    }

    .affine-attachment-banner {
      justify-content: flex-start;
    }
  }

  .affine-attachment-embed-container {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .affine-attachment-iframe-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .affine-attachment-iframe-overlay.hide {
    display: none;
  }
`;var Af=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Ag=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,s,o,r,a,n,l=[(0,L.EM)("affine-attachment")],c=[],d=lc,h=[],u=[],p=[],f=[],g=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[];(class extends d{static{t=this}constructor(){super(...arguments),this._isDragging=!1,this._isInSurface=!1,this._isResizing=!1,this._isSelected=!1,this._whenHover=new lE(this,({abortController:e})=>{let t=this.host.selection,i=t.find("text");if(i&&(i.to||i.from.length))return null;let s=t.filter("block");return s.length>1||1===s.length&&s[0].blockId!==this.blockId?null:{template:function({anchor:e,model:t,showCaption:i,copy:s,download:o,refresh:r,abortController:a}){let n=!_G(t,e.service.maxFileSize),l=t.doc.readonly,c=t.embed?"embed":"card",d=[{type:"card",name:"Card view",disabled:l||!t.embed,handler:()=>{t.doc.updateBlock(t,{embed:!1}),a.abort()}},{type:"embed",name:"Embed view",disabled:l||n,handler:()=>{(function(e,t=10485760){let i=_W.find(i=>i.check(e,t));if(!i||!i.action){e.doc.updateBlock(e,{embed:!0});return}i.action(e)?.catch(console.error)})(t,e.service.maxFileSize),a.abort()}}],h=wE([[{type:"copy",name:"Copy",icon:aL,disabled:l,handler:s},{type:"duplicate",name:"Duplicate",icon:aZ,disabled:l,handler:()=>{let e={flavour:"affine:attachment",...function(e){let t={};for(let i in _N.z_)t[i]=e[i];return t}(t)};t.doc.addSiblingBlocks(t,[e])}},{type:"reload",name:"Reload",icon:aU,disabled:l,handler:r},{type:"download",name:"Download",icon:a0,disabled:l,handler:o}],[{type:"delete",name:"Delete",icon:aj,disabled:l,handler:()=>{t.doc.deleteBlock(t),a.abort()}}]]),u=[l?H.s6:(0,H.qy)`
          <editor-icon-button
            aria-label="Rename"
            .tooltip=${"Rename"}
            @click=${()=>{a.abort();let i=new AbortController;ri({template:Au({editorHost:e.host,model:t,abortController:i}),computePosition:{referenceElement:e,placement:"top-start",middleware:[(0,oG.UU)(),(0,oG.cY)(4)]},abortController:i})}}
          >
            ${aQ}
          </editor-icon-button>
        `,(0,H.qy)`
      <editor-menu-button
        .contentPadding=${"8px"}
        .button=${(0,H.qy)`
          <editor-icon-button
            aria-label="Switch view"
            .justify=${"space-between"}
            .labelHeight=${"20px"}
            .iconContainerWidth=${"110px"}
          >
            <div class="label">
              <span style="text-transform: capitalize">${c}</span>
              view
            </div>
            ${tO}
          </editor-icon-button>
        `}
      >
        <div data-size="small" data-orientation="vertical">
          ${(0,D.u)(d,e=>e.type,({type:e,name:t,handler:i})=>(0,H.qy)`
              <editor-menu-action
                data-testid=${`link-to-${e}`}
                ?data-selected=${e===c}
                @click=${i}
              >
                ${t}
              </editor-menu-action>
            `)}
        </div>
      </editor-menu-button>
    `,l?H.s6:(0,H.qy)`
          <editor-icon-button
            aria-label="Download"
            .tooltip=${"Download"}
            @click=${o}
          >
            ${a0}
          </editor-icon-button>
        `,l?H.s6:(0,H.qy)`
          <editor-icon-button
            aria-label="Caption"
            .tooltip=${"Caption"}
            @click=${i}
          >
            ${a1}
          </editor-icon-button>
        `,(0,H.qy)`
      <editor-menu-button
        .contentPadding=${"8px"}
        .button=${(0,H.qy)`
          <editor-icon-button aria-label="More" .tooltip=${"More"}>
            ${eU}
          </editor-icon-button>
        `}
      >
        <div data-size="large" data-orientation="vertical">${h}</div>
      </editor-menu-button>
    `];return(0,H.qy)`
    <style>
      ${Ah}
    </style>
    <editor-toolbar class="affine-attachment-toolbar">
      ${(0,v6.f)(u.filter(e=>e!==H.s6),wk)}
    </editor-toolbar>
  `}({anchor:this,model:this.model,showCaption:()=>this.captionEditor?.show(),copy:this.copy,download:this.download,refresh:this.refreshData,abortController:e}),computePosition:{referenceElement:this,placement:"top-start",middleware:[(0,oG.UU)(),(0,oG.cY)(4)],autoUpdate:!0}}}),this.copy=()=>{let e=v.Ji.fromModels(this.doc,[this.model]);this.std.clipboard.copySlice(e).catch(console.error),l8(this.host,"Copied to clipboard")},this.download=()=>{_J(this)},this.open=()=>{this.blobUrl&&window.open(this.blobUrl,"_blank")},this.refreshData=()=>{_Q(this).catch(console.error)},this.#sd=Ag(this,h,!0),this.#ci=(Ag(this,u),Ag(this,p,!1)),this.#l0=(Ag(this,f),Ag(this,g,void 0)),this.#l2=(Ag(this,y),Ag(this,b,!1)),this.#sa=(Ag(this,w),Ag(this,x,!1)),this.#sn=(Ag(this,_),Ag(this,C,!1)),this.#eZ=(Ag(this,k),!0)}static{let m="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,L.wk)()],s=[(0,L.MZ)({attribute:!1})],o=[(0,L.MZ)({attribute:!1})],r=[(0,L.MZ)({attribute:!1})],a=[(0,L.MZ)({attribute:!1})],n=[(0,L.MZ)({attribute:!1})],Af(this,null,i,{kind:"accessor",name:"_showOverlay",static:!1,private:!1,access:{has:e=>"_showOverlay"in e,get:e=>e._showOverlay,set:(e,t)=>{e._showOverlay=t}},metadata:m},h,u),Af(this,null,s,{kind:"accessor",name:"allowEmbed",static:!1,private:!1,access:{has:e=>"allowEmbed"in e,get:e=>e.allowEmbed,set:(e,t)=>{e.allowEmbed=t}},metadata:m},p,f),Af(this,null,o,{kind:"accessor",name:"blobUrl",static:!1,private:!1,access:{has:e=>"blobUrl"in e,get:e=>e.blobUrl,set:(e,t)=>{e.blobUrl=t}},metadata:m},g,y),Af(this,null,r,{kind:"accessor",name:"downloading",static:!1,private:!1,access:{has:e=>"downloading"in e,get:e=>e.downloading,set:(e,t)=>{e.downloading=t}},metadata:m},b,w),Af(this,null,a,{kind:"accessor",name:"error",static:!1,private:!1,access:{has:e=>"error"in e,get:e=>e.error,set:(e,t)=>{e.error=t}},metadata:m},x,_),Af(this,null,n,{kind:"accessor",name:"loading",static:!1,private:!1,access:{has:e=>"loading"in e,get:e=>e.loading,set:(e,t)=>{e.loading=t}},metadata:m},C,k),Af(null,e={value:t},l,{kind:"class",name:t.name,metadata:m},null,c),t=e.value,m&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m})}static{this.styles=Ap}get _embedView(){if(!this.isInSurface&&this.model.embed&&this.blobUrl)return function(e,t,i=10485760){let s=_W.find(t=>t.check(e,i));return s&&s.template?s.template(e,t):(console.error("No embed view template found!",e,_W),null)}(this.model,this.blobUrl,this.service.maxFileSize)}_handleClick(e){e.stopPropagation(),this.isInSurface||this._selectBlock()}_handleDoubleClick(e){e.stopPropagation(),this.allowEmbed?this.open():this.download()}_selectBlock(){let e=this.host.selection,t=e.create("block",{blockId:this.blockId});e.setGroup("note",[t])}connectedCallback(){super.connectedCallback(),yY(this),this.refreshData(),this.contentEditable="false";let e=this.host.doc.getParent(this.model);this._isInSurface=e?.flavour==="affine:surface",this.model.style||this.doc.withoutTransact(()=>{this.doc.updateBlock(this.model,{style:_N.Fl[1]})}),this.model.propsUpdated.on(({key:e})=>{"sourceId"===e&&(this.blobUrl&&(URL.revokeObjectURL(this.blobUrl),this.blobUrl=void 0),this.refreshData())}),this.disposables.add(im.Q.subscribe(()=>this.requestUpdate())),this.disposables.add(this.std.selection.slots.changed.on(()=>{this._isSelected=!!this.selected?.is("block")||!!this.selected?.is("surface"),this._showOverlay=this._isResizing||this._isDragging||!this._isSelected})),this.handleEvent("dragStart",()=>{this._isDragging=!0,this._showOverlay=this._isResizing||this._isDragging||!this._isSelected}),this.handleEvent("dragEnd",()=>{this._isDragging=!1,this._showOverlay=this._isResizing||this._isDragging||!this._isSelected}),this.isInSurface&&(this.rootService&&(this._disposables.add(this.rootService?.slots.elementResizeStart.on(()=>{this._isResizing=!0,this._showOverlay=!0})),this._disposables.add(this.rootService.slots.elementResizeEnd.on(()=>{this._isResizing=!1,this._showOverlay=this._isResizing||this._isDragging||!this._isSelected}))),this.style.position="absolute")}disconnectedCallback(){this.blobUrl&&URL.revokeObjectURL(this.blobUrl),super.disconnectedCallback()}renderBlock(){let{name:e,size:t,style:i}=this.model,s=i??_N.Fl[1],{LoadingIcon:o}=nF(),r=this.loading?o:na,a=this.loading?"Loading...":e,n=this.error?"File loading failed.":(0,iy.bn)(t),l=function(e){switch(e){case"img":return rC;case"jpg":return rk;case"jpeg":return rS;case"png":return rM;case"webp":return rE;case"tiff":return rI;case"gif":return rB;case"svg":return r$;case"eps":return rT;case"pdf":return rO;case"doc":return rP;case"docx":return rA;case"txt":return rH;case"csv":return rL;case"xls":return rD;case"xlsx":return rZ;case"ppt":return rj;case"pptx":return rV;case"fig":return rR;case"ai":return rz;case"psd":return rF;case"indd":return rN;case"aep":return rq;case"mp3":return rU;case"wav":return rW;case"mp4":return rG;case"mpeg":return rY;case"avi":return rK;case"mkv":return rX;case"html":return rQ;case"css":return rJ;case"rss":return r1;case"sql":return r0;case"js":return r2;case"json":return r5;case"java":return r7;case"xml":return r3;case"exe":return r4;case"dmg":return r6;case"zip":return r8;case"rar":return r9;default:return r_}}(e.split(".").pop()??""),c=(0,Z.W)({position:"relative",width:"100%",margin:"18px 0px"});if(this.isInSurface){let e=fA.Cd[s],t=fA.Hn[s],i=m.z.deserialize((this.rootService?.getElementById(this.model.id)??this.model).xywh),o=i.w/e,r=i.h/t;c=(0,Z.W)({width:`${e}px`,height:`${t}px`,transform:`scale(${o}, ${r})`,transformOrigin:"0 0"}),this.style.width=`${i.w}px`,this.style.height=`${i.h}px`,this.style.left=`${i.x}px`,this.style.top=`${i.y}px`,this.style.zIndex=`${this.toZIndex()}`}let d=this._embedView;return(0,H.qy)`
      <div
        ${this.isInSurface?H.s6:(0,lB.K)(this._whenHover.setReference)}
        class="affine-attachment-container"
        style=${c}
      >
        ${d?(0,H.qy)`<div
              class="affine-attachment-embed-container"
              @click=${this._handleClick}
              @dblclick=${this._handleDoubleClick}
            >
              ${d}

              <div
                class=${(0,oJ.H)({"affine-attachment-iframe-overlay":!0,hide:!this._showOverlay})}
              ></div>
            </div>`:(0,H.qy)`<div
              class=${(0,oJ.H)({"affine-attachment-card":!0,[s]:!0,loading:this.loading,error:this.error,unsynced:!1})}
              @click=${this._handleClick}
              @dblclick=${this._handleDoubleClick}
            >
              <div class="affine-attachment-content">
                <div class="affine-attachment-content-title">
                  <div class="affine-attachment-content-title-icon">
                    ${r}
                  </div>

                  <div class="affine-attachment-content-title-text">
                    ${a}
                  </div>
                </div>

                <div class="affine-attachment-content-info">${n}</div>
              </div>

              <div class="affine-attachment-banner">${l}</div>
            </div>`}
      </div>
    `}toZIndex(){return this.rootService?.layer.getZIndex(this.model)??1}updateZIndex(){this.style.zIndex=`${this.toZIndex()}`}get isInSurface(){return this._isInSurface}get rootService(){let e=this.host.spec.getService("affine:page");return e.surface?e:null}#sd;get _showOverlay(){return this.#sd}set _showOverlay(e){this.#sd=e}#ci;get allowEmbed(){return this.#ci}set allowEmbed(e){this.#ci=e}#l0;get blobUrl(){return this.#l0}set blobUrl(e){this.#l0=e}#l2;get downloading(){return this.#l2}set downloading(e){this.#l2=e}#sa;get error(){return this.#sa}set error(e){this.#sa=e}#sn;get loading(){return this.#sn}set loading(e){this.#sn=e}#eZ;get useCaptionEditor(){return this.#eZ}set useCaptionEditor(e){this.#eZ=e}static{Ag(t,c)}})})();class Am{constructor(e){this._disposables=new ix.K,this._init=()=>{this._clipboard.registerAdapter("text/plain",ge,90),this._clipboard.registerAdapter("text/html",f3,80);let e=gx(this._std);this._clipboard.use(e),this._disposables.add({dispose:()=>{this._clipboard.unregisterAdapter("text/plain"),this._clipboard.unregisterAdapter("text/html"),this._clipboard.unuse(e)}})},this.onPagePaste=e=>{let t=e.get("clipboardState").raw;return t.preventDefault(),this._std.doc.captureSync(),this._std.command.chain().try(e=>[e.getTextSelection().inline((e,t)=>{let i=e.currentTextSelection;(0,V.Z1)(i),t({currentSelectionPath:(i.to??i.from).blockId})}),e.getBlockSelections().inline((e,t)=>{let i=e.currentBlockSelections;(0,V.Z1)(i);let s=i.at(-1);s&&t({currentSelectionPath:s.blockId})})]).getBlockIndex().inline((e,i)=>((0,V.Z1)(e.parentBlock),this._clipboard.paste(t,this._std.doc,e.parentBlock.model.id,e.blockIndex?e.blockIndex+1:void 0).catch(console.error),i())).run(),!0},this.host=e}get _std(){return this.host.std}hostConnected(){this._disposables.disposed&&(this._disposables=new ix.K),this._clipboard=new P.B0(this._std),this.host.handleEvent("paste",this.onPagePaste),this._init()}hostDisconnected(){this._disposables.dispose()}}let Av=(0,H.AH)`
  affine-code {
    position: relative;
  }

  .affine-code-block-container {
    font-size: var(--affine-font-sm);
    line-height: var(--affine-line-height);
    position: relative;
    padding: 32px 24px;
    margin-bottom: 4px;
    background: var(--affine-background-code-block);
    border-radius: 10px;
    box-sizing: border-box;
  }

  .affine-code-block-container .inline-editor {
    font-family: var(--affine-font-code-family);
    font-variant-ligatures: none;
  }

  .affine-code-block-container v-line {
    position: relative;
    display: inline-grid !important;
    grid-template-columns: auto minmax(0, 1fr);
  }

  .affine-code-block-container div:has(> v-line) {
    display: grid;
  }

  .affine-code-block-container .line-number {
    position: sticky;
    padding: 0 10px;
    left: -0.5px;
    z-index: 1;
    background: var(--affine-background-code-block);
    font-size: var(--affine-font-sm);
    line-height: var(--affine-line-height);
    color: var(--affine-text-secondary);
    box-sizing: border-box;
    user-select: none;
  }
`,Ay=e=>t=>(0,H.qy)`<affine-code-line
    .delta=${t}
    .highlightOptionsGetter=${e}
  ></affine-code-line>`;var Ab=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Aw=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let Ax=(()=>{let e,t,i=[(0,L.EM)("affine-code")],s=[],o=lc,r=[],a=[];return class extends o{static{t=this}constructor(){super(...arguments),this._highlighter=null,this._inlineRangeProvider=null,this._previousLanguage=ss.XR,this.attributesSchema=lY.z.object({}),this.clipboardController=new Am(this),this.getAttributeRenderer=()=>Ay(()=>({lang:fU(this.model.language.toLowerCase())?.id??"plaintext",highlighter:this._highlighter})),this.highlightOptionsGetter=null,this.#eo=Aw(this,r,null),this.#eL=(Aw(this,a),{margin:"24px 0"}),this.#eZ=!0}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;Ab(this,null,[(0,L.P)("rich-text")],{kind:"accessor",name:"_richTextElement",static:!1,private:!1,access:{has:e=>"_richTextElement"in e,get:e=>e._richTextElement,set:(e,t)=>{e._richTextElement=t}},metadata:n},r,a),Ab(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=Av}async _startHighlight(e){if(this._highlighter){let t=this._highlighter.getLoadedLanguages();fq(e.id)||t.includes(e.id)||this._highlighter.loadLanguage(e.id).then(()=>{let e=this.querySelector("rich-text"),t=e?.inlineEditor;t&&t.requestUpdate()}).catch(console.error);return}this._highlighter=await fY({themes:[ss.dA,ss.n0],langs:[e.id]});let t=this.querySelector("rich-text"),i=t?.inlineEditor;if(!i)return;i.requestUpdate();let s=i.getInlineRange();s&&i.setInlineRange(s)}connectedCallback(){super.connectedCallback(),this.clipboardController.hostConnected(),this.setHighlightOptionsGetter(()=>({lang:this._previousLanguage.id,highlighter:this._highlighter})),this.disposables.add(im.Q.subscribe(()=>{if(!this._highlighter)return;let e=this.querySelector("rich-text"),t=e?.inlineEditor;t&&setTimeout(()=>{t.requestUpdate()})})),yY(this);let e=this.host.selection,t=(e,t,i=0,s=e.length)=>{let o=[],r=i;for(;r<s;){let i=e.indexOf(t,r);if(-1===i||i>s)break;o.push(i),r=i+1}return o};this.bindHotKey({Backspace:t=>{let i=t.get("keyboardState"),s=e.find("text");if(!s){i.raw.preventDefault();return}let o=s.from;if(0===o.index&&0===o.length)return i.raw.preventDefault(),e.setGroup("note",[e.create("block",{blockId:this.blockId})]),!0},Tab:e=>{if(this.doc.readonly)return;let i=e.get("keyboardState").raw,s=this.inlineEditor;if(!s)return;let o=s.getInlineRange();if(o){i.stopPropagation(),i.preventDefault();let e=this.inlineEditor.yText.toString(),s=e.lastIndexOf("\n",o.index-1),r=t(e,"\n",o.index,o.index+o.length).map(e=>e+1).reverse();return -1!==s?r.push(s+1):r.push(0),r.forEach(e=>{this.inlineEditor&&this.inlineEditor.insertText({index:e,length:0},"  ")}),this.inlineEditor.setInlineRange({index:o.index+2,length:o.length+(r.length-1)*2}),!0}},"Shift-Tab":e=>{let i=e.get("keyboardState").raw,s=this.inlineEditor;if(!s)return;let o=s.getInlineRange();if(o){i.stopPropagation(),i.preventDefault();let e=this.inlineEditor.yText.toString(),s=e.lastIndexOf("\n",o.index-1),r=t(e,"\n",o.index,o.index+o.length).map(e=>e+1).reverse();return -1!==s?r.push(s+1):r.push(0),(r=r.filter(t=>"  "===e.slice(t,t+2))).forEach(e=>{this.inlineEditor&&this.inlineEditor.deleteText({index:e,length:2})}),r.length>0&&this.inlineEditor.setInlineRange({index:o.index-(r[r.length-1]<o.index?2:0),length:o.length-(r.length-1)*2}),!0}}}),this._inlineRangeProvider=(0,P.U4)(this)}copyCode(){let e=this.model,t=v.Ji.fromModels(e.doc,[e]);this.std.clipboard.copySlice(t).then(()=>{l8(this.host,"Copied to clipboard")}).catch(e=>{l8(this.host,"Copied failed, something went wrong"),console.error(e)})}disconnectedCallback(){super.disconnectedCallback(),this.clipboardController.hostDisconnected()}async getUpdateComplete(){let e=await super.getUpdateComplete();return await this._richTextElement?.updateComplete,e}renderBlock(){return(0,H.qy)`
      <div
        class=${(0,oJ.H)({"affine-code-block-container":!0,wrap:this.model.wrap})}
      >
        <rich-text
          .yText=${this.model.text.yText}
          .inlineEventSource=${this.topContenteditableElement??H.s6}
          .undoManager=${this.doc.history}
          .attributesSchema=${this.attributesSchema}
          .attributeRenderer=${this.getAttributeRenderer()}
          .readonly=${this.doc.readonly}
          .inlineRangeProvider=${this._inlineRangeProvider}
          .enableClipboard=${!1}
          .enableUndoRedo=${!1}
          .wrapText=${this.model.wrap}
          .verticalScrollContainerGetter=${()=>(0,sc.dV)(this.host)}
          .vLineRenderer=${e=>(0,H.qy)`
              <span contenteditable="false" class="line-number"
                >${e.index+1}</span
              >
              ${e.renderVElements()}
            `}
        >
        </rich-text>

        ${this.renderChildren(this.model)} ${Object.values(this.widgets)}
      </div>
    `}setHighlightOptionsGetter(e){this.highlightOptionsGetter=e}setLang(e){let t=e?fU(e):null,i=t?.id??ss.Kc;this.doc.updateBlock(this.model,{language:i})}setWrap(e){this.doc.updateBlock(this.model,{wrap:e})}updated(){if(this.model.language!==this._previousLanguage.id){let e=fU(this.model.language);this._previousLanguage=e??ss.XR,e?this._startHighlight(e).catch(console.error):this._highlighter=null;let t=this.querySelector("rich-text"),i=t?.inlineEditor;i&&i.requestUpdate()}}get inlineEditor(){let e=this.querySelector(`[${si.jN}]`);return e?.inlineEditor}get readonly(){return this.doc.readonly}get topContenteditableElement(){return this.rootComponent instanceof I8?this.closest(fv.Tk):this.rootComponent}#eo;get _richTextElement(){return this.#eo}set _richTextElement(e){this.#eo=e}#eL;get blockContainerStyles(){return this.#eL}set blockContainerStyles(e){this.#eL=e}#eZ;get useCaptionEditor(){return this.#eZ}set useCaptionEditor(e){this.#eZ=e}static{Aw(t,s)}},t})(),A_=oi("rich-text").modelConfig({name:"Text",type:()=>om.create(),defaultData:()=>({}),cellToString:e=>e?.toString()??"",cellFromString:e=>({value:e}),cellToJson:e=>e?.toString()??null,isEmpty:e=>null==e||0===e.length});A_.addConvert("select",(e,t)=>{let i={},s=e=>{if(i[e])return i[e];let t={id:(0,v.Ak)(),value:e,color:oC()};return i[e]=t,t};return{cells:t.map(e=>{let t=e?.toString().split(","),i=t?.[0]?.trim();if(i)return s(i).id}),column:{options:Object.values(i)}}}),A_.addConvert("multi-select",(e,t)=>{let i={},s=e=>{if(i[e])return i[e];let t={id:(0,v.Ak)(),value:e,color:oC()};return i[e]=t,t};return{cells:t.map(e=>{let t=[],i=e?.toString().split(",");return i?.forEach(e=>{(e=e.trim())&&t.push(s(e).id)}),t}),column:{options:Object.values(i)}}});var AC=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},Ak=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};function AS(e,t){let i=e.getInlineRange();if(!i)return;let s=e.rootElement;if(!s)return;let o=e.getDeltasByInlineRange(i),r={};for(let[e]of o){let t=e.attributes;t&&(r={...t})}let a=Object.fromEntries(Object.entries(t).map(([e,t])=>"boolean"==typeof t&&t===r[e]?[e,!t]:[e,t]));e.formatText(i,a,{mode:"merge"}),s.blur(),e.syncInlineRange()}let AM=(()=>{let e,t,i=[(0,L.EM)("affine-data-view-rich-text-cell")],s=[],o=sf,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;AC(this,null,[(0,L.P)("rich-text")],{kind:"accessor",name:"_richTextElement",static:!1,private:!1,access:{has:e=>"_richTextElement"in e,get:e=>e._richTextElement,set:(e,t)=>{e._richTextElement=t}},metadata:n},r,a),AC(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    affine-data-view-rich-text-cell {
      display: flex;
      align-items: center;
      width: 100%;
      user-select: none;
    }

    .affine-data-view-rich-text {
      display: flex;
      flex-direction: column;
      justify-content: center;
      width: 100%;
      height: 100%;
      outline: none;
      font-size: var(--data-view-cell-text-size);
      line-height: var(--data-view-cell-text-line-height);
      word-break: break-all;
    }

    .affine-data-view-rich-text v-line {
      display: flex !important;
      align-items: center;
      height: 100%;
      width: 100%;
    }

    .affine-data-view-rich-text v-line > div {
      flex-grow: 1;
    }
  `}connectedCallback(){super.connectedCallback(),"string"==typeof this.value&&this._initYText(this.value)}render(){return this.service?this.value?(0,ic.qy)`<rich-text
      .yText=${this.value}
      .inlineEventSource=${this.topContenteditableElement}
      .attributesSchema=${this.attributesSchema}
      .attributeRenderer=${this.attributeRenderer}
      .embedChecker=${this.inlineManager?.embedChecker}
      .markdownShortcutHandler=${this.inlineManager?.markdownShortcutHandler}
      .readonly=${!0}
      class="affine-data-view-rich-text inline-editor"
    ></rich-text>`:(0,ic.qy)`<div class="affine-data-view-rich-text"></div>`:H.s6}get attributeRenderer(){return this.inlineManager?.getRenderer()}get attributesSchema(){return this.inlineManager?.getSchema()}get inlineEditor(){(0,V.Z1)(this._richTextElement);let e=this._richTextElement.inlineEditor;return(0,V.Z1)(e),e}get inlineManager(){return this.service?.inlineManager}get service(){let e=this.closest("affine-data-view");return e?.service}get topContenteditableElement(){let e=this.closest("affine-data-view");return e?.topContenteditableElement}#eo;get _richTextElement(){return this.#eo}set _richTextElement(e){this.#eo=e}constructor(){super(...arguments),this._initYText=e=>{let t=new v.rl.Y.Text(e);this.onChange(t)},this.#eo=Ak(this,r,null),Ak(this,a)}static{Ak(t,s)}},t})(),AE=(()=>{let e,t,i=[(0,L.EM)("affine-data-view-rich-text-cell-editing")],s=[],o=sf,r=[],a=[];return class extends o{static{t=this}static{let n="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;AC(this,null,[(0,L.P)("rich-text")],{kind:"accessor",name:"_richTextElement",static:!1,private:!1,access:{has:e=>"_richTextElement"in e,get:e=>e._richTextElement,set:(e,t)=>{e._richTextElement=t}},metadata:n},r,a),AC(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}static{this.styles=(0,H.AH)`
    affine-data-view-rich-text-cell-editing {
      display: flex;
      align-items: center;
      width: 100%;
      min-width: 1px;
      cursor: text;
    }

    .affine-data-view-rich-text {
      display: flex;
      flex-direction: column;
      justify-content: center;
      width: 100%;
      height: 100%;
      outline: none;
    }

    .affine-data-view-rich-text v-line {
      display: flex !important;
      align-items: center;
      height: 100%;
      width: 100%;
    }

    .affine-data-view-rich-text v-line > div {
      flex-grow: 1;
    }
  `}connectedCallback(){super.connectedCallback(),this.value&&"string"!=typeof this.value||this._initYText(this.value),this.disposables.addFromEvent(this,"keydown",e=>{"a"===e.key&&(sn.vL?e.metaKey:e.ctrlKey)&&(e.stopPropagation(),e.preventDefault(),this.inlineEditor.selectAll())})}firstUpdated(){this._richTextElement?.updateComplete.then(()=>{this.disposables.add(this.inlineEditor.slots.keydown.on(this._handleKeyDown)),this.inlineEditor.focusEnd()}).catch(console.error)}render(){return this.service?(0,ic.qy)`<rich-text
      .yText=${this.value}
      .inlineEventSource=${this.topContenteditableElement}
      .attributesSchema=${this.attributesSchema}
      .attributeRenderer=${this.attributeRenderer}
      .embedChecker=${this.inlineManager?.embedChecker}
      .markdownShortcutHandler=${this.inlineManager?.markdownShortcutHandler}
      .verticalScrollContainerGetter=${()=>this.topContenteditableElement?.host?(0,sc.dV)(this.topContenteditableElement.host):null}
      class="affine-data-view-rich-text inline-editor"
    ></rich-text>`:H.s6}get attributeRenderer(){return this.inlineManager?.getRenderer()}get attributesSchema(){return this.inlineManager?.getSchema()}get inlineEditor(){(0,V.Z1)(this._richTextElement);let e=this._richTextElement.inlineEditor;return(0,V.Z1)(e),e}get inlineManager(){return this.service?.inlineManager}get service(){let e=this.closest("affine-data-view");return e?.service}get topContenteditableElement(){let e=this.closest("affine-data-view");return e?.topContenteditableElement}#eo;get _richTextElement(){return this.#eo}set _richTextElement(e){this.#eo=e}constructor(){super(...arguments),this._handleKeyDown=e=>{if("Escape"!==e.key){if("Tab"===e.key){e.preventDefault();return}e.stopPropagation()}if("Enter"===e.key&&!e.isComposing){e.shiftKey?this._onSoftEnter():this.selectCurrentCell(!1),e.preventDefault();return}let t=this.inlineEditor;switch(e.key){case"B":case"b":(e.metaKey||e.ctrlKey)&&(e.preventDefault(),AS(this.inlineEditor,{bold:!0}));break;case"I":case"i":(e.metaKey||e.ctrlKey)&&(e.preventDefault(),AS(this.inlineEditor,{italic:!0}));break;case"U":case"u":(e.metaKey||e.ctrlKey)&&(e.preventDefault(),AS(this.inlineEditor,{underline:!0}));break;case"S":case"s":(e.metaKey||e.ctrlKey)&&e.shiftKey&&(e.preventDefault(),AS(t,{strike:!0}));break;case"E":case"e":(e.metaKey||e.ctrlKey)&&e.shiftKey&&(e.preventDefault(),AS(t,{code:!0}))}},this._initYText=e=>{let t=new v.EY(e);this.onChange(t)},this._onSoftEnter=()=>{if(this.value&&this.inlineEditor){let e=this.inlineEditor.getInlineRange();(0,V.Z1)(e),new v.EY(this.inlineEditor.yText).replace(e.index,e.length,"\n"),this.inlineEditor.setInlineRange({index:e.index+1,length:0})}},this.#eo=Ak(this,r,null),Ak(this,a)}static{Ak(t,s)}},t})(),AI=A_.renderConfig({icon:oe("TextIcon"),cellRenderer:{view:sx(AM),edit:sx(AE)}}),AB=(e=>{let t={...e,properties:[]};return{...t,addProperty:e=>{t.properties.push(e)}}})({selector:e=>e.flavour===Oa.z.model.flavour&&"todo"===e.model.type});AB.addProperty({name:"Content",key:"todo-title",columnMeta:AI,get:e=>e.text.yText,set:(e,t)=>{},updated:(e,t)=>(e.text?.yText.observe(t),{dispose:()=>{e.text?.yText.unobserve(t)}})}),AB.addProperty({name:"Checked",key:"todo-checked",columnMeta:cX.checkboxColumnConfig,get:e=>e.checked,set:(e,t)=>{e.checked=t},updated:(e,t)=>e.propsUpdated.on(({key:e})=>{"checked"===e&&t()})}),AB.addProperty({name:"Source",key:"todo-source",columnMeta:cX.textColumnConfig,get:e=>e.doc.meta?.title??"",updated:(e,t)=>e.doc.collection.meta.docMetaUpdated.on(()=>{t()})});let A$={todo:AB},AT=[cX.dateColumnConfig,cX.numberColumnConfig,cX.progressColumnConfig,cX.selectColumnConfig,cX.multiSelectColumnConfig,cX.linkColumnConfig,cX.checkboxColumnConfig],AO=Object.fromEntries([...AT,AI].map(e=>[e.type,e]));class AP extends cQ{constructor(e,t,i){for(let s of(super(),this.host=e,this.block=t,this.columnMetaMap=new Map,this.blockMap=new Map,this.docDisposeMap=new Map,this.slots={update:new i_.D},this.meta=A$[i.type],this.meta.properties))this.columnMetaMap.set(s.columnMeta.type,s.columnMeta);for(let e of this.workspace.docs.values())for(let t of Object.values(e.getDoc().blocks.peek()))this.meta.selector(t)&&this.blockMap.set(t.id,t);this.workspace.docs.forEach(e=>{this.listenToDoc(e.getDoc())}),this.workspace.slots.docAdded.on(e=>{let t=this.workspace.getDoc(e);t&&this.listenToDoc(t)}),this.workspace.slots.docRemoved.on(e=>{this.docDisposeMap.get(e)?.()})}get blocks(){return[...this.blockMap.values()]}getProperty(e){let t=this.meta.properties.find(t=>t.key===e);return(0,V.Z1)(t,`property ${e} not found`),t}newColumnName(){let e=1;for(;this.block.columns.some(t=>t.name===`Column ${e}`);)e++;return`Column ${e}`}cellChangeValue(e,t,i){if(this.getViewColumn(t)){this.block.cells[e]={...this.block.cells[e],[t]:i};return}let s=this.blockMap.get(e);s&&this.meta.properties.find(e=>e.key===t)?.set?.(s.model,i)}cellGetValue(e,t){if(this.getViewColumn(t))return this.block.cells[e]?.[t];let i=this.blockMap.get(e);if(i)return this.getProperty(t)?.get(i.model)}getPropertyMeta(e){return this.columnMetaMap.get(e)||AO[e]}getViewColumn(e){return this.block.columns.find(t=>t.id===e)}listenToDoc(e){this.docDisposeMap.set(e.id,e.slots.blockUpdated.on(t=>{if("add"===t.type){let i=e.getBlock(t.id);i&&this.meta.selector(i)&&this.blockMap.set(t.id,i)}else"delete"===t.type&&this.blockMap.delete(t.id);this.slots.update.emit()}).dispose)}propertyAdd(e,t){let i=this.block.doc;i.captureSync();let s=w3[t??cX.multiSelectColumnConfig.type].model.create(this.newColumnName()),o=i.generateBlockId();return this.block.columns.some(e=>e.id===o)||i.transact(()=>{let t={...s,id:o};this.block.columns.splice((0,dV.q)(e,this.block.columns),0,t)}),o}propertyChangeData(e,t){let i=this.getViewColumn(e);i&&(i.data=t)}propertyChangeName(e,t){let i=this.getViewColumn(e);i&&(i.name=t)}propertyChangeType(e,t){let i=this.getViewColumn(e);if(i){let s=i.type,o=i.data,r=this.rows$.value,a=r.map(t=>this.cellGetValue(t,e)),n=w3[s].model?.convertCell(t,o,a)??{column:w3[t].model.defaultData(),cells:a.map(()=>void 0)};this.block.doc.captureSync(),i.type=t,i.data=n.column,a.forEach((t,i)=>{(null!=t||null!=n.cells[i])&&(this.block.cells[r[i]]={...this.block.cells[r[i]],[e]:n.cells[i]})})}}propertyDelete(e){let t=this.block.columns.findIndex(t=>t.id===e);t>=0&&this.block.columns.splice(t,1)}propertyDuplicate(e){throw Error("Method not implemented.")}propertyGetData(e){let t=this.getViewColumn(e);if(t)return t.data;let i=this.getProperty(e);return i.getColumnData?.(this.blocks[0].model)??i.columnMeta.model.defaultData()}propertyGetDefaultWidth(e){return"title"===this.propertyGetType(e)?260:super.propertyGetDefaultWidth(e)}propertyGetName(e){let t=this.getViewColumn(e);return t?t.name:"type"===e?"Block Type":this.getProperty(e)?.name??""}propertyGetReadonly(e){return!this.getViewColumn(e)&&("type"===e||this.getProperty(e)?.set==null)}propertyGetType(e){let t=this.getViewColumn(e);return t?t.type:"type"===e?"image":this.getProperty(e).columnMeta.type}rowAdd(e){throw Error("Method not implemented.")}rowDelete(e){throw Error("Method not implemented.")}rowMove(e,t){}get addPropertyConfigList(){return AT.map(e=>e.model)}get detailSlots(){return{...super.detailSlots,header:sy(Px)}}get properties(){return[...this.meta.properties.map(e=>e.key),...this.block.columns.map(e=>e.id)]}get rows(){return this.blocks.map(e=>e.id)}get workspace(){return this.host.doc.collection}}var AA=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},AH=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,L.EM)("affine-data-view")],s=[],o=lc;(class extends o{static{t=this}constructor(){super(...arguments),this._bindHotkey=e=>({dispose:this.host.event.bindHotkey(e,{path:this.topContenteditableElement?.path??this.path})}),this._clickDatabaseOps=e=>{lD(e.currentTarget,{options:{input:{initValue:this.model.title,placeholder:"Untitled",onComplete:e=>{this.model.title=e}},items:[{type:"action",icon:aL,name:"Copy",select:()=>{let e=v.Ji.fromModels(this.doc,[this.model]);this.std.clipboard.copySlice(e).catch(console.error)}},{type:"group",name:"",children:()=>[{type:"action",icon:aj,class:"delete-item",name:"Delete Database",select:()=>{this.model.children.slice().forEach(e=>{this.doc.deleteBlock(e)}),this.doc.deleteBlock(this.model)}}]}]}})},this._handleEvent=(e,t)=>({dispose:this.host.event.add(e,t,{path:this.path})}),this.dataView=new dj,this.getRootService=()=>this.std.spec.getService("affine:page"),this.headerWidget=sw(e=>(0,ic.qy)`
        <div style="margin-bottom: 16px;display:flex;flex-direction: column">
          <div style="display:flex;gap:8px;padding: 0 6px;margin-bottom: 8px;">
            <div>${this.model.title}</div>
            ${this.renderDatabaseOps()}
          </div>
          <div
            style="display:flex;align-items:center;justify-content: space-between;gap: 12px"
          >
            <div style="flex:1">
              ${sv(fm.viewBar,e)}
            </div>
            ${sv(this.toolsWidget,e)}
          </div>
          ${sv(fm.filterBar,e)}
        </div>
      `),this.selection$=(0,sh.EW)(()=>{let e=this.selection.value.find(e=>e.blockId===this.blockId&&e instanceof c7);return e?.viewSelection}),this.setSelection=e=>{this.selection.setGroup("note",e?[new c7({blockId:this.blockId,viewSelection:e})]:[])},this.toolsWidget=fm.createTools({table:[fm.tools.filter,fm.tools.expand,fm.tools.search,fm.tools.viewOptions,fm.tools.tableAddRow],kanban:[fm.tools.filter,fm.tools.expand,fm.tools.search,fm.tools.viewOptions]})}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;AA(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.styles=(0,H.AH)`
    ${(0,H.iz)(c4("affine-database"))}
    affine-database {
      display: block;
      border-radius: 8px;
      background-color: var(--affine-background-primary-color);
      padding: 8px;
      margin: 8px -8px -8px;
    }

    .database-block-selected {
      background-color: var(--affine-hover-color);
      border-radius: 4px;
    }

    .database-ops {
      margin-top: 4px;
      padding: 2px;
      border-radius: 4px;
      display: flex;
      cursor: pointer;
    }

    .database-ops svg {
      width: 16px;
      height: 16px;
      color: var(--affine-icon-color);
    }

    .database-ops:hover {
      background-color: var(--affine-hover-color);
    }
  `}renderDatabaseOps(){return this.doc.readonly?H.s6:(0,ic.qy)` <div class="database-ops" @click="${this._clickDatabaseOps}">
      ${eq}
    </div>`}connectedCallback(){super.connectedCallback(),this.setAttribute(P.vz.rangeSyncExcludeAttr,"true")}renderBlock(){let e=this.getRootService().peekViewService;return(0,ic.qy)`
      <div contenteditable="false" style="position: relative">
        ${this.dataView.render({bindHotkey:this._bindHotkey,handleEvent:this._handleEvent,selection$:this.selection$,setSelection:this.setSelection,dataSource:this.dataSource,headerWidget:this.headerWidget,std:this.std,detailPanelConfig:{openDetailPanel:e?(t,i)=>e.peek(t,i):void 0,target:()=>this.innerModalWidget.target}})}
      </div>
    `}get dataSource(){return this._dataSource||(this._dataSource=new AP(this.host,this.model,{type:"todo"})),this._dataSource}get innerModalWidget(){return this.rootComponent?.widgetComponents[SA]}get topContenteditableElement(){return this.rootComponent instanceof I8?this.closest("affine-note"):this.rootComponent}get view(){return this.dataView.expose}static{AH(t,s)}})})();var AL=i(62652);(0,A.lQ)(wa),i(77955);let AD={splitElements:e=>{let{notes:t,frames:i,shapes:s,images:o,edgelessTexts:r,embedSyncedDocs:a}=(0,ik.$z)(gB(e),e=>gT(e)?"notes":gP(e)?"frames":gA(e)?"images":gO(e)?"edgelessTexts":gR(e)?"embedSyncedDocs":"shapes");return{notes:t??[],shapes:s??[],frames:i??[],images:o??[],edgelessTexts:r??[],embedSyncedDocs:a??[]}},matchFlavours:st.op,mindMap:{layout:i3,createNode:(e,t,i)=>{let s=t.addElement(E.J9.SHAPE,{...i4,xywh:"[0,0,0,0]",text:new v.rl.Y.Text(e)}),o=t.getElementById(s),r=Math.max(...e.split("\n").map(e=>T(e,(0,y.Dy)(o))))+2*b.OL,a=(0,w.d)(o,new m.z(0,0,Math.max(148,Math.min(600,r)),78));if(t.updateElement(s,{xywh:a.serialize()}),i){let e=i8[i.direction];t.addElement(E.J9.CONNECTOR,{...i6,source:{id:i.parentId,position:e.from},target:{id:s,position:e.to}})}return s},changeText:(e,t,i)=>{i.updateElement(e,{text:new v.rl.Y.Text(t)});let s=i.getElementById(e),o=Math.max(...t.split("\n").map(e=>T(e,(0,y.Dy)(s))))+2*b.OL,r=(0,w.d)(s,new m.z(0,0,Math.max(148,Math.min(600,o)),78));i.updateElement(e,{xywh:r.serialize()})},drawInEdgeless:function(e,t,i){let{shapeIds:s,connectorIds:o}=i9(t,e,i);e.selection.set({elements:[...s,...o],editing:!1}),e.createGroupFromSelected()},layoutInEdgeless:function(e,t,i){se(t,e,i)}},deserializeXYWH:f.W,isCanvasElement:gF,Point:g.b},AZ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},Aj="__ $BLOCKSUITE_BLOCKS$ __";if(!0===AZ[Aj]&&console.error("@blocksuite/blocks was already imported. This breaks constructor checks and will lead to issues!"),"undefined"==typeof window)throw new u.Ss(p.O.NoneSupportedSSRError,"Seems like you are importing @blocksuite/blocks in SSR mode. Which is not supported for now.");AZ[Aj]=!0},47982:(e,t,i)=>{i.d(t,{z:()=>s});let s=(0,i(73711).A9)({flavour:"affine:list",props:e=>({type:"bulleted",text:e.Text(),checked:!1,collapsed:!1,order:null}),metadata:{version:1,role:"content",parent:["affine:note","affine:database","affine:list","affine:paragraph","affine:edgeless-text"]}})},14086:(e,t,i)=>{i.d(t,{N:()=>h,h:()=>d});var s=i(94098),o=i(73711),r=i(93574),a=i(31971),n=i(35632),l=i(38509),c=i(16019);let d=(0,o.A9)({flavour:"affine:note",props:()=>({xywh:`[0,0,${r.mh},95]`,background:n.KI,index:"a0",hidden:!1,displayMode:l.ko.DocAndEdgeless,edgeless:{style:{borderRadius:0,borderSize:4,borderStyle:c.u1.None,shadowType:n.If}}}),metadata:{version:1,role:"hub",parent:["affine:page"],children:["affine:paragraph","affine:list","affine:code","affine:divider","affine:database","affine:data-view","affine:image","affine:bookmark","affine:attachment","affine:surface-ref","affine:embed-*"]},toModel:()=>new h});class h extends(0,a.S)(o.zg){_isSelectable(){return this.displayMode!==l.ko.DocOnly}containsBound(e){return!!this._isSelectable()&&super.containsBound(e)}includesPoint(e,t){return!!this._isSelectable()&&s.z.deserialize(this.xywh).isPointInBound([e,t],0)}intersectsBound(e){return!!this._isSelectable()&&super.intersectsBound(e)}}},98452:(e,t,i)=>{i.d(t,{x:()=>s});let s=(0,i(73711).A9)({flavour:"affine:paragraph",props:e=>({type:"text",text:e.Text()}),metadata:{version:1,role:"content",parent:["affine:note","affine:database","affine:paragraph","affine:list","affine:edgeless-text"]}})},96448:(e,t,i)=>{i.d(t,{y:()=>s.ug});var s=i(1126)},7770:(e,t,i)=>{i.d(t,{x:()=>r});var s=i(73711);class o extends s.zg{constructor(){super(),this.created.once(()=>{this.doc.slots.rootAdded.on(e=>{let t=this.doc.getBlockById(e);if(t instanceof o){let e=this.doc.collection.meta.getDocMeta(t.doc.id);e&&e.title===t.title.toString()||this.doc.collection.setDocMeta(t.doc.id,{title:t.title.toString()})}})})}}let r=(0,s.A9)({flavour:"affine:page",props:e=>({title:e.Text()}),metadata:{version:2,role:"root"},toModel:()=>new o})},77955:(e,t,i)=>{i.d(t,{g:()=>S});var s=i(49077),o=i(22366),r=i(65828),a=i(87196),n=i(94108),l=i(82192),c=i(19860),d=i(45170),h=i(23746),u=i(22042),p=i(55012),f=i(61082),g=i(29838),m=i(58542),v=i(33096),y=i(14558),b=i(47982),w=i(14086),x=i(98452),_=i(7770),C=i(72674),k=i(14512);let S=[r.c,x.x,_.x,b.z,w.h,l.C,y.e,C.Y,o.DD,v.o,n.A,k.H,a.S,s.OH,m.X,d.S,h.f,u.D,p.V,g.O,f.L,c.C]},70174:(e,t,i)=>{i.d(t,{H:()=>w,d:()=>y.dN});var s=i(68192),o=i(75510),r=i(48520),a=i(31716);function n(e,t=10,i,s,o="Rear",r=Math.PI/4){let c=l(e,i,o,s),d=a.l.mul(c.tangent,-1),h="Front"===o?Math.PI:0;return{points:[a.l.add(a.l.mul(a.l.rot(d,h+r),t),c),c,a.l.add(a.l.mul(a.l.rot(d,h-r),t),c)]}}function l(e,t,i,r){let n;let l="Rear"===i?e.length-1:0,c=e[l],d=e["Rear"===i?l-1:l+1],h=c.clone();return n=t!==s.B1.Curve?"Rear"===i?a.l.tangent(c,d):a.l.tangent(d,c):"Rear"===i?(0,o.rL)(r,1):(0,o.rL)(r,0),h.tangent=n??[0,0],h}function c(e){let{seed:t,roughness:i,strokeWidth:s,strokeColor:o,fillColor:r}=e;return{seed:t,roughness:i,stroke:o,strokeWidth:s,fill:r,fillStyle:"solid"}}function d(e,t,i,s,o=!0){e.fillStyle=i,e.strokeStyle=i,e.lineWidth=s,e.lineJoin="round",e.lineCap="round",e.save(),e.beginPath();for(let i=0;i<t.length;i++)0===i?e.moveTo(t[i][0],t[i][1]):e.lineTo(t[i][0],t[i][1]);o&&(e.closePath(),e.fill()),e.stroke(),e.restore()}function h(e,t,i,a,n){let{mode:l,path:c,strokeStyle:d,frontEndpointStyle:h,rearEndpointStyle:p,strokeWidth:f}=e;if(!c.length||c.length<2)return;t.setTransform(i);let g=(0,s.yp)(e),m=0,v=0;if(g){t.save();let{deserializedXYWH:i,labelXYWH:s}=e,[o,r,a,n]=i,[l,c,d,h]=s,u=15*f;m=l-o,v=c-r;let p=new Path2D;p.rect(-u/2,-u/2,a+u,n+u),p.rect(m-3-.5,v-3-.5,d+6+1,h+6+1),t.clip(p,"evenodd")}let y=a.getColorValue(e.stroke,"#000000",!0);(function(e,t,i,s,r,a,n){let{seed:l,strokeWidth:c,roughness:d,rough:h}=e;if(h){let e={seed:l,roughness:d,stroke:n,strokeLineDash:r?[12,12]:void 0,strokeWidth:c};if(a){let t=(0,o.UV)(s);i.path(`M${t[0][0]},${t[0][1]} C${t[1][0]},${t[1][1]} ${t[2][0]},${t[2][1]} ${t[3][0]},${t[3][1]}`,e)}else i.linearPath(s,e)}else t.save(),t.strokeStyle=n,t.lineWidth=c,t.lineJoin="round",t.lineCap="round",r&&t.setLineDash([12,12]),t.beginPath(),a?s.forEach((e,i)=>{if(0===i)t.moveTo(e[0],e[1]);else{let o=s[i-1];t.bezierCurveTo(o.absOut[0],o.absOut[1],e.absIn[0],e.absIn[1],e[0],e[1])}}):s.forEach((e,i)=>{0===i?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])}),t.stroke(),t.closePath(),t.restore()})(e,t,n,c,"dash"===d,l===s.B1.Curve,y),u(e,c,t,n,"Front",h,y),u(e,c,t,n,"Rear",p,y),g&&(t.restore(),function(e,t,i,s){let{text:o,labelXYWH:a,labelStyle:{color:n,fontSize:l,fontWeight:c,fontStyle:d,fontFamily:h,textAlign:u},labelConstraints:{hasMaxWidth:p,maxWidth:f}}=e,g=(0,r.Dy)({fontStyle:d,fontWeight:c,fontSize:l,fontFamily:h}),[,,m,v]=a,y=m/2,b=v/2,w=(0,r.ZW)(o,g,m),x=(0,r.s4)(w),_=(0,r.ks)(h,l,c),C=(x.length-1)*_*.5;t.setTransform(i),t.font=g,t.textAlign=u,t.textBaseline="middle",t.fillStyle=s.getColorValue(n,"#000000",!0);let k="center"===u?0:Math.max(...x.flatMap(e=>e.map(e=>(0,r.q_)(e.insert,g))));for(let[e,i]of(p&&f>0&&(k=Math.min(k,k)),x.entries()))for(let s of i){let i=s.insert,o=(0,r.V8)(i),a=o&&!t.canvas.isConnected;a&&document.body.append(t.canvas),t.canvas.setAttribute("dir",o?"rtl":"ltr");let n=k*("center"===u?1:"right"===u?o?-.5:.5:o?.5:-.5);t.fillText(i,n+y,e*_-C+b),a&&t.canvas.remove()}}(e,t,i.translate(m,v),a))}function u(e,t,i,s,r,h,u){let p=function(e,t,i){let{seed:s,mode:r,rough:a,roughness:n,strokeWidth:l,path:c}=t;return{end:e,seed:s,mode:r,rough:a,roughness:n,strokeWidth:l,strokeColor:i,fillColor:i,fillStyle:"solid",bezierParameters:(0,o.UV)(c)}}(r,e,u);switch(h){case"Arrow":!function(e,t,i,s){let{mode:o,end:r,bezierParameters:a,rough:l,strokeColor:h,strokeWidth:u}=s,{points:p}=n(e,u/2*15,o,a,r,Math.PI/4);l?i.linearPath(p,c(s)):d(t,p,h,u,!1)}(t,i,s,p);break;case"Triangle":!function(e,t,i,s){let{mode:o,end:r,bezierParameters:a,rough:l,strokeColor:h,strokeWidth:u}=s,{points:p}=n(e,u/2*15,o,a,r,Math.PI/6);l?i.polygon([[p[0][0],p[0][1]],[p[1][0],p[1][1]],[p[2][0],p[2][1]]],c(s)):d(t,p,h,u)}(t,i,s,p);break;case"Circle":!function(e,t,i,s){let{bezierParameters:o,mode:r,end:n,fillColor:d,strokeColor:h,strokeWidth:u,rough:p}=s,f=u/2*5,g=function(e,t=5,i,s,o="Rear"){let r=l(e,i,o,s),n=a.l.mul(r.tangent,-1),c="Front"===o?Math.PI:0;return a.l.add(a.l.mul(a.l.rot(n,c),t),r)}(e,f,r,o,n),m=g[0],v=g[1];p?i.circle(m,v,f+2,c(s)):(t.fillStyle=d,t.strokeStyle=h,t.lineWidth=u,t.save(),t.beginPath(),t.ellipse(m,v,f,f,0,0,2*Math.PI),t.closePath(),t.fill(),t.stroke(),t.restore())}(t,i,s,p);break;case"Diamond":!function(e,t,i,s){let{mode:o,end:r,rough:n,bezierParameters:h,strokeColor:u,strokeWidth:p}=s,{points:f}=function(e,t=10,i="Rear"){let s=a.l.mul(e.tangent,-1),o="Front"===i?Math.PI:0;return{points:[a.l.add(a.l.mul(a.l.rot(s,o+.25*Math.PI),t),e),e,a.l.add(a.l.mul(a.l.rot(s,o-.25*Math.PI),t),e),a.l.add(a.l.mul(a.l.rot(s,o),t*Math.sqrt(2)),e)]}}(l(e,o,r,h),p/2*10,r);n?i.polygon([[f[0][0],f[0][1]],[f[1][0],f[1][1]],[f[2][0],f[2][1]],[f[3][0],f[3][1]]],c(s)):d(t,f,u,p)}(t,i,s,p)}}var p=i(94098),f=i(16019);let g=f.ay.Inter;function m(e,t,i){let{titleWidth:s,text:o,lineHeight:a,font:n,padding:l,offset:c,radius:d,titleBound:h}=function(e,t){let i=e.title.toJSON(),s=(0,r.Dy)({fontSize:16/t,fontFamily:g,fontWeight:f.IT.Regular,fontStyle:"normal"}),o=(0,r.Lu)(i,s),a=(0,r.ks)(g,16/t,"normal"),n=e.elementBound,l=[Math.min(10/t,10),Math.min(4/t,4)],c=Math.max(4/t,2),d=Math.min(4,a/2),h=o+2*l[0],u=a+2*l[1]+c;return h>n.w&&(i=(i=(0,r.zA)(i,s,n.w-10)).slice(0,i.length-1)+"..",h=n.w),{radius:d,font:s,bound:n,text:i,titleWidth:h,titleHeight:u,lineHeight:a,padding:l,offset:c,titleBound:new p.z(n.x,n.y-u,h,u)}}(e,i.viewport.zoom);e.showTitle&&(e.externalXYWH=h.serialize(),t.translate(0,-c),t.beginPath(),t.roundRect(0,-a-2*l[1],s,a+2*l[1],d),t.fillStyle="#E3E2E4",t.fill(),t.font=n,t.fillStyle="#424149",t.textAlign="left",t.textBaseline="middle",t.fillText(o,l[0],-a/2-l[1]))}var v=i(39099),y=i(49210);let b={diamond:function(e,t,i,s,o,r){let{seed:a,strokeWidth:n,filled:l,strokeStyle:c,roughness:d,rotate:h,shapeStyle:u}=e,[,,p,f]=e.deserializedXYWH,g=Math.max(n,0)/2,m=p-2*g,v=f-2*g,b=m/2,w=v/2,{fillColor:x,strokeColor:_}=r;t.setTransform(i.translateSelf(g,g).translateSelf(b,w).rotateSelf(h).translateSelf(-b,-w)),"General"===u?(0,y.S7)(t,e,s,l,x,_):o.polygon([[m/2,0],[m,v/2],[m/2,v],[0,v/2]],{seed:a,roughness:"Scribbled"===u?d:0,strokeLineDash:"dash"===c?[12,12]:void 0,stroke:"none"===c?"none":_,strokeWidth:n,fill:l?x:void 0})},rect:function(e,t,i,s,o,r){let{filled:a,radius:n,rotate:l,roughness:c,seed:d,shapeStyle:h,strokeStyle:u,strokeWidth:p}=e,[,,f,g]=e.deserializedXYWH,m=Math.max(p,0)/2,v=f-2*m,b=g-2*m,w=n<1?Math.min(v*n,b*n):n,x=v/2,_=b/2,{fillColor:C,strokeColor:k}=r;t.setTransform(i.translateSelf(m,m).translateSelf(x,_).rotateSelf(l).translateSelf(-x,-_)),"General"===h?(0,y.S7)(t,e,s,a,C,k):o.path(`
      M ${w} 0
      L ${v-w} 0
      C ${v-.4477152502*w} 0 ${v} ${.4477152502*w} ${v} ${w}
      L ${v} ${b-w}
      C ${v} ${b-.4477152502*w} ${v-.4477152502*w} ${b} ${v-w} ${b}
      L ${w} ${b}
      C ${.4477152502*w} ${b} 0 ${b-.4477152502*w} 0 ${b-w}
      L 0 ${w}
      C 0 ${.4477152502*w} ${.4477152502*w} 0 ${w} 0
      Z
      `,{seed:d,roughness:c,strokeLineDash:"dash"===u?[12,12]:void 0,stroke:"none"===u?"none":k,strokeWidth:p,fill:a?C:void 0}),t.setTransform(t.getTransform().translateSelf(x,_).rotateSelf(-l).translateSelf(-x,-_).translateSelf(-m,-m).translateSelf(x,_).rotateSelf(l).translateSelf(-x,-_))},triangle:function(e,t,i,s,o,r){let{seed:a,strokeWidth:n,filled:l,strokeStyle:c,roughness:d,rotate:h,shapeStyle:u}=e,[,,p,f]=e.deserializedXYWH,g=Math.max(n,0)/2,m=p-2*g,v=f-2*g,b=m/2,w=v/2,{fillColor:x,strokeColor:_}=r;t.setTransform(i.translateSelf(g,g).translateSelf(b,w).rotateSelf(h).translateSelf(-b,-w)),"General"===u?(0,y.S7)(t,e,s,l,x,_):o.polygon([[m/2,0],[m,v],[0,v]],{seed:a,roughness:"Scribbled"===u?d:0,strokeLineDash:"dash"===c?[12,12]:void 0,stroke:"none"===c?"none":_,strokeWidth:n,fill:l?x:void 0})},ellipse:function(e,t,i,s,o,r){let{seed:a,strokeWidth:n,filled:l,strokeStyle:c,roughness:d,rotate:h,shapeStyle:u}=e,[,,p,f]=e.deserializedXYWH,g=Math.max(n,0)/2,m=Math.max(1,p-2*g),v=Math.max(1,f-2*g),b=m/2,w=v/2,{fillColor:x,strokeColor:_}=r;t.setTransform(i.translateSelf(g,g).translateSelf(b,w).rotateSelf(h).translateSelf(-b,-w)),"General"===u?(0,y.S7)(t,e,s,l,x,_):o.ellipse(b,w,m,v,{seed:a,roughness:"Scribbled"===u?d:0,strokeLineDash:"dash"===c?[12,12]:void 0,stroke:"none"===c?"none":_,strokeWidth:n,fill:l?x:void 0,curveFitting:1})}},w={brush:function(e,t,i,s){let{rotate:o}=e,[,,r,a]=e.deserializedXYWH,n=r/2,l=a/2;t.setTransform(i.translateSelf(n,l).rotateSelf(o).translateSelf(-n,-l));let c=s.getColorValue(e.color,"#000000",!0);t.fillStyle=c,t.fill(new Path2D(e.commands))},connector:h,group:function(e,t,i,s){let{xywh:o}=e,r=s.provider.selectedElements?.()||[];if(t.setTransform(i),r.includes(e.id))m(e,t,s);else if(e.childElements.some(e=>r.includes(e.id))){let i=p.z.deserialize(o);t.setLineDash([2,2]),t.strokeStyle=s.getPropertyValue("--affine-blue"),t.lineWidth=1,t.strokeRect(0,0,i.w,i.h),m(e,t,s)}},shape:function(e,t,i,s,o){let a={color:s.getColorValue(e.color,v.qV,!0),fillColor:s.getColorValue(e.fillColor,v.SO,!0),strokeColor:s.getColorValue(e.strokeColor,v.vt,!0)};b[e.shapeType](e,t,i,s,o,a),e.textDisplay&&function(e,t,{color:i}){let{x:s,y:o,text:a,fontSize:n,fontFamily:l,fontWeight:c,textAlign:d,w:h,h:u,textVerticalAlign:g,padding:m}=e;if(!a)return;let[v,b]=m,w=(0,r.Dy)(e),{lineGap:x,lineHeight:_}=(0,r.L7)(l,n,c),C=(0,r.zS)(l,n,c),k=(0,r.s4)((0,r.ZW)(a,w,h-2*b)),S=(0,y.gc)(e.w,e.textAlign,b),M=(0,y.kf)(k,_+x,u,g,v)+C.fontBoundingBoxAscent+x/2,E=0;for(let[e,s]of(t.font=w,t.fillStyle=i,t.textAlign=d,t.textBaseline="alphabetic",k.entries()))for(let i of s){let s=i.insert,o=(0,r.V8)(s),a=o&&!t.canvas.isConnected;a&&document.body.append(t.canvas),t.canvas.dir!==(o?"rtl":"ltr")&&t.canvas.setAttribute("dir",o?"rtl":"ltr"),t.fillText(s,S+.5,e*_+M),E=Math.max(E,(0,r.Lu)(s,w)),a&&t.canvas.remove()}let I=e.textAlign===f.nO.Center?(h-E)/2:e.textAlign===f.nO.Left?S:S-E,B=M-_+v/2,$=new p.z(s+I,o+B,E,_*k.length);$.rotate=e.rotate??0,e.textBound=$}(e,t,a)},text:function(e,t,i,s){let{fontSize:o,fontWeight:a,fontStyle:n,fontFamily:l,textAlign:c,rotate:d}=e,[,,h,u]=e.deserializedXYWH,p=h/2,f=u/2;t.setTransform(i.translateSelf(p,f).rotateSelf(d).translateSelf(-p,-f));let g=(0,r.Dy)({fontStyle:n,fontWeight:a,fontSize:o,fontFamily:l}),m=(0,r.ZW)(e.text,g,h),v=(0,r.s4)(m),y=(0,r.ks)(l,o,a),b="center"===c?h/2:"right"===c?h:0,w=s.getColorValue(e.color,"#000000",!0);for(let[e,i]of(t.font=g,t.fillStyle=w,t.textAlign=c,t.textBaseline="ideographic",v.entries())){let s=0;for(let o of i){let i=o.insert,a=(0,r.V8)(i),n=a&&!t.canvas.isConnected;n&&document.body.append(t.canvas),t.canvas.setAttribute("dir",a?"rtl":"ltr");let l="center"===c?0:"right"===c?-.5:.5;t.fillText(i,b+s+l,(e+1)*y),s+=(0,r.q_)(i,g),n&&t.canvas.remove()}}},mindmap:function(e,t,i,s,o,r){let a=e.x-r.x,n=e.y-r.y;i=i.translate(-a,-n),e.traverse((a,n)=>{if(n){let l=e.getConnector(n,a);if(l){let e=l.x-r.x,a=l.y-r.y,n=t.globalAlpha,c=n!==l.opacity;c&&(t.globalAlpha=l.opacity),h(l,t,i.translate(e,a),s,o),c&&(t.globalAlpha=n)}}}),e.extraConnectors.forEach(e=>{let a=e.x-r.x,n=e.y-r.y;h(e,t,i.translate(a,n),s,o)})}}},49210:(e,t,i)=>{i.d(t,{S7:()=>o,dN:()=>n,gc:()=>r,hw:()=>l,kf:()=>a});var s=i(48520);function o(e,t,i,s,o,r){let a=Math.max(t.strokeWidth,0),n=Math.max(t.w-a,0),l=Math.max(t.h-a,0);switch(t.shapeType){case"rect":!function(e,t,i,s,o,r){let a=r<1?Math.max(Math.min(s*r,o*r),0):r;e.beginPath(),e.moveTo(0+a,0),e.lineTo(0+s-a,0),e.arcTo(t+s,i,t+s,i+a,a),e.lineTo(t+s,i+o-a),e.arcTo(t+s,i+o,t+s-a,i+o,a),e.lineTo(t+a,i+o),e.arcTo(t,i+o,t,i+o-a,a),e.lineTo(t,i+a),e.arcTo(t,i,t+a,i,a),e.closePath()}(e,0,0,n,l,t.radius??0);break;case"diamond":e.beginPath(),e.moveTo(n/2,0),e.lineTo(n,l/2),e.lineTo(n/2,l),e.lineTo(0,l/2),e.closePath();break;case"ellipse":e.beginPath(),e.ellipse(n/2,l/2,n/2,l/2,0,0,2*Math.PI),e.closePath();break;case"triangle":e.beginPath(),e.moveTo(n/2,0),e.lineTo(n,l),e.lineTo(0,l),e.closePath()}switch(e.lineWidth=t.strokeWidth,e.strokeStyle=r,e.fillStyle=s?o:"transparent",t.strokeStyle){case"none":e.strokeStyle="transparent";break;case"dash":e.setLineDash([12,12])}if(t.shadow){let{blur:s,offsetX:o,offsetY:r,color:a}=t.shadow,n=e.getTransform().a;e.shadowBlur=s*n,e.shadowOffsetX=o*n,e.shadowOffsetY=r*n,e.shadowColor=i.getPropertyValue(a)}e.stroke(),e.fill(),t.shadow&&(e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),e.fill(),e.stroke()}function r(e,t,i){return"center"===t?e/2:"right"===t?e-i:i}function a(e,t,i,s,o){return"center"===s?Math.max((i-t*e.length)/2,o):"top"===s?o:i-t*e.length-o}function n(e,t){if(!e.text)return t;let[i,o]=e.padding,r=e.text,{fontFamily:a,fontSize:n,fontStyle:l,fontWeight:c}=e,d=(0,s.ks)(a,n,c),h=(0,s.Dy)({fontStyle:l,fontWeight:c,fontSize:n,fontFamily:a}),u=[...r.toString()].map(e=>(0,s.q_)(e,h)).sort((e,t)=>e-t).pop()??(0,s.q_)("W",h);t.w<u+2*o&&(t.w=u+2*o);let p=r.toDelta().flatMap(e=>({insert:(0,s.C1)(e.insert,h,t.w-2*o),attributes:e.attributes})),f=(0,s.s4)(p);return t.h<d*f.length+2*i&&(t.h=d*f.length+2*i),t}function l(e){let t=(0,s.Dy)(e);if(!e.text)return;let[i,o]=e.padding,r=(0,s.s4)((0,s.ZW)(e.text,t,e.maxWidth||Number.MAX_SAFE_INTEGER)),{lineHeight:a,lineGap:n}=(0,s.L7)(e.fontFamily,e.fontSize,e.fontWeight),l=0,c=0;r.forEach(e=>{for(let i of e){let e=i.insert;l=Math.max(l,(0,s.Lu)(e,t)),c+=a+n}}),c=Math.max(a+n,c),l+=2*o,c+=2*i;let d=`[${e.x},${e.y},${l},${c}]`;e.xywh!==d&&(e.xywh=d)}},48520:(e,t,i)=>{i.d(t,{C1:()=>w,Dy:()=>l,I:()=>k,JO:()=>C,L7:()=>n,Lu:()=>m,V8:()=>g,ZW:()=>y,ks:()=>c,q_:()=>v,r$:()=>S,s4:()=>p,tI:()=>_,zA:()=>x,zS:()=>h});var s=i(21320),o=i(11559);let r=function(){let e=null,t=null;return()=>(t||(e=(t=document.createElement("canvas")).getContext("2d")),e)}(),a=new Map;function n(e,t,i){let o=`${(0,s.s9)(e)}-${i}`;if(a.has(o)){let{fontSize:e,lineGap:i,lineHeight:s}=a.get(o);return{lineHeight:t/e*s,lineGap:t/e*i}}let r=document.createElement("div"),n=document.createElement("span");r.append(n),n.innerText="x",r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.visibility="hidden",r.style.fontFamily=(0,s.s9)(e),r.style.fontWeight=i,r.style.fontSize=`${t}px`,r.style.pointerEvents="none",document.body.append(r);let l=n.getBoundingClientRect().height,c={lineHeight:l,lineGap:r.getBoundingClientRect().height-l};return r.remove(),a.set(o,{...c,fontSize:t}),c}function l({fontStyle:e,fontWeight:t,fontSize:i,fontFamily:o}){let r=c(o,i,t);return`${e} ${t} ${i}px/${r}px ${(0,s.s9)(o)}, sans-serif`.trim()}function c(e,t,i){let{lineHeight:s}=n(e,t,i);return s}let d=new Map;function h(e,t,i){let o=r(),a=`${(0,s.s9)(e)}-${i}`;if(d.has(a)){let{fontSize:e,metrics:i}=d.get(a);return Object.keys(Object.getPrototypeOf(i)).reduce((s,o)=>(s[o]=i[o]*(t/e),s),{})}let n=`${i} ${t}px ${(0,s.s9)(e)}`;o.font=n;let l=o.measureText("x");return o.font===n&&d.set(a,{fontSize:t,metrics:l}),l}function u(e){let t=[],i=e.insert;for(;i.length>0;){let s=i.indexOf("\n");if(-1===s){t.push({insert:i,attributes:e.attributes});break}i.slice(0,s).length>0&&t.push({insert:i.slice(0,s),attributes:e.attributes}),t.push("\n"),i=i.slice(s+1)}return t}function p(e){return 0===e.length?[[]]:Array.from(function*(e){let t=0;for(let i=0;i<e.length;i++)if("\n"===e[i]){let s=e.slice(t,i);t=i+1,yield s}else i===e.length-1&&(yield e.slice(t));"\n"===e.at(-1)&&(yield[])}(e.flatMap(u)))}let f=RegExp(`^[^A-Za-z\xc0-\xd6\xd8-\xf6\xf8-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿]*[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]`);function g(e){return f.test(e)}function m(e,t){let i=r();return t!==i.font&&(i.font=t),i.measureText(e).width}function v(e,t){let i=e.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n").split("\n"),s=0;return i.forEach(e=>{s=Math.max(s,m(e,t))}),s}function y(e,t,i){return e.toDelta().flatMap(e=>({insert:w(e.insert,t,i),attributes:e.attributes}))}let b=(()=>{let e={};return{calculate:(t,i)=>{let s=t.charCodeAt(0);if(e[i]||(e[i]=[]),!e[i][s]){let o=m(t,i);e[i][s]=o}return e[i][s]},getCache:t=>e[t]}})();function w(e,t,i){if(!Number.isFinite(i)||i<0)return e;let s=[],o=e.split("\n"),r=m(" ",t),a="",n=0,l=e=>{e.trim()&&s.push(e)},c=()=>{a="",n=0};return o.forEach(e=>{if(v(e,t)<=i){s.push(e);return}let o=function(e){let t=e.split("-");return t.length>1&&t.forEach((e,i)=>{i!==t.length-1&&(t[i]=e+="-")}),t.join(" ").split(" ")}(e);c();let d=0;for(;d<o.length;){let e=m(o[d],t);if(e===i)l(o[d]),d++;else if(e>i){for(l(a),c();o[d].length>0;){let e=String.fromCodePoint(o[d].codePointAt(0)),s=b.calculate(e,t);n+=s,o[d]=o[d].slice(e.length),n>=i?(l(a),a=e,n=s):a+=e}n+r>=i?(l(a),c()):a.endsWith("-")||(a+=" ",n+=r),d++}else for(;n<i&&d<o.length;){let e=o[d];if((n=m(a+e,t))>i){l(a),c();break}d++;let h=!e.endsWith("-");if(a+=e,h&&(a+=" "),n+r>=i){h?s.push(a.slice(0,-1)):s.push(a),c();break}}}" "===a.slice(-1)&&l(a=a.slice(0,-1))}),s.join("\n")}let x=(e,t,i)=>{let s=0,o=0;for(;o<e.length;o++){let r=e[o];if((s+=b.calculate(r,t))>i)break}return e.slice(0,o)};function _(e,t){let[i,s]=function(e,t){let i=(0,o.Bn)(e)[0],s=(0,o.Hb)([[t.x,t.y]],i,-e.rotate)[0];return[Math.floor((s[1]-i[1])/c(e.fontFamily,e.fontSize,e.fontWeight)),s[0]-i[0]]}(e,t),r=l(e),a=p(y(e.text,r,e.w)).map(e=>e.map(e=>e.insert).join("")),n=a[i],d=a.slice(0,i).join("").length-1,h=0,u=0;for(;h<s&&(d+=1,u!==n.length);)h+=b.calculate(n[u],r),u+=1;return d}function C({yText:e,fontStyle:t,fontWeight:i,fontSize:s,fontFamily:o,hasMaxWidth:r,maxWidth:a},n,d=!1){if(!e)return n;let h=c(o,s,i),u=l({fontStyle:t,fontWeight:i,fontSize:s,fontFamily:o}),f=[],g=e.toDelta(),m=e.toString(),y=[...m].map(e=>v(e,u)).sort((e,t)=>e-t).pop()??v("W",u);n.w<y&&(n.w=y);let b=n.w;if(f=p(g.flatMap(e=>({insert:w(e.insert,u,b),attributes:e.attributes}))),!d){f=p(g);let e=Math.max(...m.split("\n").map(e=>v(e,u)));n.w=e,r&&a&&a>0&&(n.w=Math.min(n.w,a))}return n.h=h*f.length,n}function k(e,t){return!!(0,s.e4)(e).find(e=>e.weight===t)}function S(e,t){return!!(0,s.e4)(e).find(e=>e.style===t)}},64369:(e,t,i)=>{i.d(t,{A:()=>u,h:()=>h});var s=i(69050),o=i(50620),r=i(66050),a=i(8834),n=i(62602),l=i(11623),c=i(11559),d=i(70174);class h{constructor(){this._renderer=null}setRenderer(e){this._renderer=e}}class u{constructor(e){this._disposables=new s.K,this._overlays=new Set,this._shouldUpdate=!1,this._stackingCanvas=[],this.stackingCanvasUpdated=new o.D;let t=document.createElement("canvas");this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.viewport=e.viewport,this.layerManager=e.layerManager,this.provider=e.provider??{},this._initViewport(),e.enableStackingCanvas=e.enableStackingCanvas??!1,e.enableStackingCanvas&&this._initStackingCanvas(e.onStackingCanvasCreated)}_canvasSizeUpdater(e=window.devicePixelRatio){let{width:t,height:i}=this.viewport,s=Math.ceil(t*e),o=Math.ceil(i*e);return{filter:({width:e,height:t})=>e!==s||t!==o,update(e){e.style.width=`${t}px`,e.style.height=`${i}px`,e.width=s,e.height=o}}}_initStackingCanvas(e){let t=this.layerManager,i=e=>{this._stackingCanvas=e;let t=this._canvasSizeUpdater();e.filter(t.filter).forEach(t.update)},s=()=>{let s=t.getCanvasLayers().slice(0,-1),o=[],r=this._stackingCanvas,a=(0,n.HV)(this.layerManager.layers),l=a?a.zIndex+a.elements.length+1:1;this.canvas.style.zIndex=l.toString();for(let t=0;t<s.length;++t){let i=s[t],a=t<r.length,n=a?r[t]:document.createElement("canvas");a||e?.(n),n.dataset.layerId=`[${i.indexes[0]}--${i.indexes[1]}]`,n.style.zIndex=i.zIndex.toString(),o.push(n)}if(this._stackingCanvas=o,i(o),r.length!==o.length){let e=o.length-r.length,t={canvases:o,removed:[],added:[]};e>0?t.added=o.slice(-e):t.removed=r.slice(e),this.stackingCanvasUpdated.emit(t)}this.refresh()};this._disposables.add(this.layerManager.slots.layerUpdated.on(()=>{s()})),s()}_initViewport(){let e=null;this._disposables.add(this.viewport.viewportUpdated.on(()=>{this._shouldUpdate=!0})),this._disposables.add(this.viewport.sizeUpdated.on(()=>{e||(e=(0,a.Ak)(()=>{e=null,this._resetSize(),this._render(),this._shouldUpdate=!1},this._container))}))}_loop(){(0,a.Ak)(()=>{this._shouldUpdate&&(this._shouldUpdate=!1,this._render()),this._loop()},this._container)}_render(){let{viewportBounds:e,zoom:t,cumulativeParentScale:i}=this.viewport,{ctx:s}=this,o=window.devicePixelRatio,r=new DOMMatrix().scaleSelf(t*o).scaleSelf(i),a=[];this.layerManager.getCanvasLayers().forEach((t,i)=>{if(!this._stackingCanvas[i]){a=a.concat(t.elements);return}let s=this._stackingCanvas[i],o=s.getContext("2d"),n=new l.Q(o.canvas);o.clearRect(0,0,s.width,s.height),o.save(),o.setTransform(r),this._renderByBound(o,r,n,e,t.elements)}),s.clearRect(0,0,this.canvas.width,this.canvas.height),s.save(),s.setTransform(r),this._renderByBound(s,r,new l.Q(s.canvas),e,a,!0)}_renderByBound(e,t,i,s,o,r=!1){if(e){for(let r of o??this.layerManager.canvasGrid.search(s)){if(e.save(),(r.display??!0)&&(0,c.HY)((0,c.e0)(r),s)){let o=d.H[r.type];if(!o){console.warn(`Cannot find renderer for ${r.type}`),e.restore();continue}e.globalAlpha=r.opacity??1;let a=r.x-s.x,n=r.y-s.y;o(r,e,t.translate(a,n),this,i,s)}e.restore()}if(r)for(let t of this._overlays)e.save(),e.translate(-s.x,-s.y),t.render(e,i),e.restore();e.restore()}}_resetSize(){let e=this._canvasSizeUpdater();e.update(this.canvas),this._stackingCanvas.forEach(e.update),this._shouldUpdate=!0}addOverlay(e){e.setRenderer(this),this._overlays.add(e),this._shouldUpdate=!0}attach(e){this._container=e,e.append(this.canvas),this._resetSize(),this._loop()}dispose(){this._disposables.dispose()}generateColorProperty(e,t){return this.provider.generateColorProperty?.(e,t)??(t.startsWith("--")?`var(${t})`:t)}getCanvasByBound(e=this.viewport.viewportBounds,t,i,s,o){i=i||document.createElement("canvas");let r=window.devicePixelRatio||1;i.width!==e.w*r&&(i.width=e.w*r),i.height!==e.h*r&&(i.height=e.h*r),i.style.width=`${e.w}px`,i.style.height=`${e.h}px`;let a=i.getContext("2d"),n=new DOMMatrix().scaleSelf(o?r*this.viewport.zoom:r),c=new l.Q(i);return s&&a.clearRect(0,0,i.width,i.height),a.setTransform(n),this._renderByBound(a,n,c,e,t),i}getColorScheme(){return this.provider.getColorScheme?.()??r.z.Light}getColorValue(e,t,i){return this.provider.getColorValue?.(e,t,i)??"transparent"}getPropertyValue(e){return this.provider.getPropertyValue?.(e)??""}refresh(){this._shouldUpdate=!0}removeOverlay(e){this._overlays.has(e)&&(e.setRenderer(null),this._overlays.delete(e),this._shouldUpdate=!0)}get stackingCanvas(){return this._stackingCanvas}}},16019:(e,t,i)=>{var s,o,r,a,n,l,c,d;i.d(t,{$F:()=>w,IT:()=>l,P1:()=>p,TA:()=>f,VF:()=>u,_9:()=>v,ay:()=>d,bn:()=>n,cT:()=>m,f1:()=>a,fv:()=>h,i:()=>y,js:()=>g,lH:()=>s,nO:()=>r,rj:()=>b,u1:()=>o,zz:()=>c});let h=.1,u=3e3,p=10,f=50,g=1.4,m=.3;!function(e){e.General="General",e.Scribbled="Scribbled"}(s||(s={})),function(e){e.Dash="dash",e.None="none",e.Solid="solid"}(o||(o={})),function(e){e.Center="center",e.Left="left",e.Right="right"}(r||(r={})),function(e){e.Bottom="bottom",e.Center="center",e.Top="top"}(a||(a={})),function(e){e[e.AUTO_WIDTH=0]="AUTO_WIDTH",e[e.AUTO_HEIGHT=1]="AUTO_HEIGHT"}(n||(n={})),function(e){e.Bold="700",e.Light="300",e.Medium="500",e.Regular="400",e.SemiBold="600"}(l||(l={})),function(e){e.Italic="italic",e.Normal="normal"}(c||(c={})),function(e){e.BebasNeue="blocksuite:surface:BebasNeue",e.Inter="blocksuite:surface:Inter",e.Kalam="blocksuite:surface:Kalam",e.Lora="blocksuite:surface:Lora",e.OrelegaOne="blocksuite:surface:OrelegaOne",e.Poppins="blocksuite:surface:Poppins",e.Satoshi="blocksuite:surface:Satoshi"}(d||(d={}));let v={[d.Inter]:"Inter",[d.Kalam]:"Kalam",[d.Satoshi]:"Satoshi",[d.Poppins]:"Poppins",[d.Lora]:"Lora",[d.BebasNeue]:"Bebas Neue",[d.OrelegaOne]:"Orelega One"},y=Object.entries(v),b=[{font:d.Inter,url:"https://cdn.affine.pro/fonts/Inter-Light-BETA.woff",weight:l.Light,style:c.Normal},{font:d.Inter,url:"https://cdn.affine.pro/fonts/Inter-Regular.woff",weight:l.Regular,style:c.Normal},{font:d.Inter,url:"https://cdn.affine.pro/fonts/Inter-SemiBold.woff",weight:l.SemiBold,style:c.Normal},{font:d.Inter,url:"https://cdn.affine.pro/fonts/Inter-LightItalic-BETA.woff",weight:l.Light,style:c.Italic},{font:d.Inter,url:"https://cdn.affine.pro/fonts/Inter-Italic.woff",weight:l.Regular,style:c.Italic},{font:d.Inter,url:"https://cdn.affine.pro/fonts/Inter-SemiBoldItalic.woff",weight:l.SemiBold,style:c.Italic},{font:d.Kalam,url:"https://cdn.affine.pro/fonts/Kalam-Light.woff",weight:l.Light,style:c.Normal},{font:d.Kalam,url:"https://cdn.affine.pro/fonts/Kalam-Regular.woff",weight:l.Regular,style:c.Normal},{font:d.Kalam,url:"https://cdn.affine.pro/fonts/Kalam-Bold.woff",weight:l.SemiBold,style:c.Normal},{font:d.Satoshi,url:"https://cdn.affine.pro/fonts/Satoshi-Light.woff",weight:l.Light,style:c.Normal},{font:d.Satoshi,url:"https://cdn.affine.pro/fonts/Satoshi-Regular.woff",weight:l.Regular,style:c.Normal},{font:d.Satoshi,url:"https://cdn.affine.pro/fonts/Satoshi-Bold.woff",weight:l.SemiBold,style:c.Normal},{font:d.Satoshi,url:"https://cdn.affine.pro/fonts/Satoshi-LightItalic.woff",weight:l.Light,style:c.Italic},{font:d.Satoshi,url:"https://cdn.affine.pro/fonts/Satoshi-Italic.woff",weight:l.Regular,style:c.Italic},{font:d.Satoshi,url:"https://cdn.affine.pro/fonts/Satoshi-BoldItalic.woff",weight:l.SemiBold,style:c.Italic},{font:d.Poppins,url:"https://cdn.affine.pro/fonts/Poppins-Light.woff",weight:l.Light,style:c.Normal},{font:d.Poppins,url:"https://cdn.affine.pro/fonts/Poppins-Regular.woff",weight:l.Regular,style:c.Normal},{font:d.Poppins,url:"https://cdn.affine.pro/fonts/Poppins-Medium.woff",weight:l.Medium,style:c.Normal},{font:d.Poppins,url:"https://cdn.affine.pro/fonts/Poppins-SemiBold.woff",weight:l.SemiBold,style:c.Normal},{font:d.Poppins,url:"https://cdn.affine.pro/fonts/Poppins-LightItalic.woff",weight:l.Light,style:c.Italic},{font:d.Poppins,url:"https://cdn.affine.pro/fonts/Poppins-Italic.woff",weight:l.Regular,style:c.Italic},{font:d.Poppins,url:"https://cdn.affine.pro/fonts/Poppins-SemiBoldItalic.woff",weight:l.SemiBold,style:c.Italic},{font:d.Lora,url:"https://cdn.affine.pro/fonts/Lora-Regular.woff",weight:l.Regular,style:c.Normal},{font:d.Lora,url:"https://cdn.affine.pro/fonts/Lora-Bold.woff",weight:l.SemiBold,style:c.Normal},{font:d.Lora,url:"https://cdn.affine.pro/fonts/Lora-Italic.woff",weight:l.Regular,style:c.Italic},{font:d.Lora,url:"https://cdn.affine.pro/fonts/Lora-BoldItalic.woff",weight:l.SemiBold,style:c.Italic},{font:d.BebasNeue,url:"https://cdn.affine.pro/fonts/BebasNeue-Light.woff",weight:l.Light,style:c.Normal},{font:d.BebasNeue,url:"https://cdn.affine.pro/fonts/BebasNeue-Regular.woff",weight:l.Regular,style:c.Normal},{font:d.OrelegaOne,url:"https://cdn.affine.pro/fonts/OrelegaOne-Regular.woff",weight:l.Regular,style:c.Normal}],w=[{font:d.Inter,url:"https://fonts.cdnfonts.com/s/19795/Inter-Light-BETA.woff",weight:l.Light,style:c.Normal},{font:d.Inter,url:"https://fonts.cdnfonts.com/s/19795/Inter-Regular.woff",weight:l.Regular,style:c.Normal},{font:d.Inter,url:"https://fonts.cdnfonts.com/s/19795/Inter-SemiBold.woff",weight:l.SemiBold,style:c.Normal},{font:d.Inter,url:"https://fonts.cdnfonts.com/s/19795/Inter-LightItalic-BETA.woff",weight:l.Light,style:c.Italic},{font:d.Inter,url:"https://fonts.cdnfonts.com/s/19795/Inter-Italic.woff",weight:l.Regular,style:c.Italic},{font:d.Inter,url:"https://fonts.cdnfonts.com/s/19795/Inter-SemiBoldItalic.woff",weight:l.SemiBold,style:c.Italic},{font:d.Kalam,url:"https://fonts.cdnfonts.com/s/13130/Kalam-Light.woff",weight:l.Light,style:c.Normal},{font:d.Kalam,url:"https://fonts.cdnfonts.com/s/13130/Kalam-Regular.woff",weight:l.Regular,style:c.Normal},{font:d.Kalam,url:"https://fonts.cdnfonts.com/s/13130/Kalam-Bold.woff",weight:l.SemiBold,style:c.Normal},{font:d.Satoshi,url:"https://fonts.cdnfonts.com/s/85546/Satoshi-Light.woff",weight:l.Light,style:c.Normal},{font:d.Satoshi,url:"https://fonts.cdnfonts.com/s/85546/Satoshi-Regular.woff",weight:l.Regular,style:c.Normal},{font:d.Satoshi,url:"https://fonts.cdnfonts.com/s/85546/Satoshi-Bold.woff",weight:l.SemiBold,style:c.Normal},{font:d.Satoshi,url:"https://fonts.cdnfonts.com/s/85546/Satoshi-LightItalic.woff",weight:l.Light,style:c.Italic},{font:d.Satoshi,url:"https://fonts.cdnfonts.com/s/85546/Satoshi-Italic.woff",weight:l.Regular,style:c.Italic},{font:d.Satoshi,url:"https://fonts.cdnfonts.com/s/85546/Satoshi-BoldItalic.woff",weight:l.SemiBold,style:c.Italic},{font:d.Poppins,url:"https://fonts.cdnfonts.com/s/16009/Poppins-Light.woff",weight:l.Light,style:c.Normal},{font:d.Poppins,url:"https://fonts.cdnfonts.com/s/16009/Poppins-Regular.woff",weight:l.Regular,style:c.Normal},{font:d.Poppins,url:"https://fonts.cdnfonts.com/s/16009/Poppins-Medium.woff",weight:l.Medium,style:c.Normal},{font:d.Poppins,url:"https://fonts.cdnfonts.com/s/16009/Poppins-SemiBold.woff",weight:l.SemiBold,style:c.Normal},{font:d.Poppins,url:"https://fonts.cdnfonts.com/s/16009/Poppins-LightItalic.woff",weight:l.Light,style:c.Italic},{font:d.Poppins,url:"https://fonts.cdnfonts.com/s/16009/Poppins-Italic.woff",weight:l.Regular,style:c.Italic},{font:d.Poppins,url:"https://fonts.cdnfonts.com/s/16009/Poppins-SemiBoldItalic.woff",weight:l.SemiBold,style:c.Italic},{font:d.Lora,url:"https://fonts.cdnfonts.com/s/29883/Lora-Regular.woff",weight:l.Regular,style:c.Normal},{font:d.Lora,url:"https://fonts.cdnfonts.com/s/29883/Lora-Bold.woff",weight:l.SemiBold,style:c.Normal},{font:d.Lora,url:"https://fonts.cdnfonts.com/s/29883/Lora-Italic.woff",weight:l.Regular,style:c.Italic},{font:d.Lora,url:"https://fonts.cdnfonts.com/s/29883/Lora-BoldItalic.woff",weight:l.SemiBold,style:c.Italic},{font:d.BebasNeue,url:"https://fonts.cdnfonts.com/s/14902/BebasNeue%20Light.woff",weight:l.Light,style:c.Normal},{font:d.BebasNeue,url:"https://fonts.cdnfonts.com/s/14902/BebasNeue-Regular.woff",weight:l.Regular,style:c.Normal},{font:d.OrelegaOne,url:"https://fonts.cdnfonts.com/s/93179/OrelegaOne-Regular.woff",weight:l.Regular,style:c.Normal}]},31999:(e,t,i)=>{i.d(t,{$b:()=>s.JU,nz:()=>s.iy});var s=i(1126)},24434:(e,t,i)=>{i.d(t,{C:()=>u});var s=i(1126),o=i(94098),r=i(31716),a=i(96458),n=i(4536),l=i(61677),c=i(11559),d=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},h=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let u=(()=>{let e,t,i,u,p,f=s.iy,g=[],m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[];return class extends f{static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(f[Symbol.metadata]??null):void 0;e=[(0,s.A1)()],t=[(0,s.wB)((e,t)=>{t._local.delete("commands")}),(0,s.CX)((e,t)=>{if(e===t.lineWidth)return{};let i=t.elementBound,s=t.points,o=(0,l.vs)(s.map(([e,t])=>({x:e,y:t})),i,e/2,(0,l.SG)(i,e-t.lineWidth),e/2);return{points:o.points.map((e,t)=>[e.x,e.y,...void 0!==s[t][2]?[s[t][2]]:[]]),xywh:o.bound.serialize()}}),(0,s.A1)()],i=[(0,s.wB)((e,t)=>{t._local.delete("commands")}),(0,s.CX)((e,t)=>{let i=t.lineWidth,s=(0,l.O3)(e);return{xywh:(0,l.SG)(s,i).serialize()}}),(0,s.C6)((e,t)=>{let i=t.lineWidth,s=(0,l.O3)(e),o=(0,l.SG)(s,i);return e.map(([e,t,i])=>[e-o.x,t-o.y,...void 0!==i?[i]:[]])}),(0,s.A1)()],u=[(0,s.A1)(0)],p=[(0,s.CX)((e,t)=>{let i=o.z.deserialize(e);if(i.w===t.w&&i.h===t.h)return{};let{lineWidth:s}=t;return{points:(0,l.vs)(t.points.map(([e,t])=>({x:e,y:t})),t,s/2,i,s/2).points.map((e,i)=>[e.x,e.y,...void 0!==t.points[i][2]?[t.points[i][2]]:[]])}}),(0,s.A1)()],d(this,null,e,{kind:"accessor",name:"color",static:!1,private:!1,access:{has:e=>"color"in e,get:e=>e.color,set:(e,t)=>{e.color=t}},metadata:r},g,m),d(this,null,t,{kind:"accessor",name:"lineWidth",static:!1,private:!1,access:{has:e=>"lineWidth"in e,get:e=>e.lineWidth,set:(e,t)=>{e.lineWidth=t}},metadata:r},v,y),d(this,null,i,{kind:"accessor",name:"points",static:!1,private:!1,access:{has:e=>"points"in e,get:e=>e.points,set:(e,t)=>{e.points=t}},metadata:r},b,w),d(this,null,u,{kind:"accessor",name:"rotate",static:!1,private:!1,access:{has:e=>"rotate"in e,get:e=>e.rotate,set:(e,t)=>{e.rotate=t}},metadata:r},x,_),d(this,null,p,{kind:"accessor",name:"xywh",static:!1,private:!1,access:{has:e=>"xywh"in e,get:e=>e.xywh,set:(e,t)=>{e.xywh=t}},metadata:r},C,k),r&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static propsToY(e){return e}containsBound(e){return(0,c.Bn)(this).some(t=>e.containsPoint(t))}getLineIntersections(e,t){let i=[this.x,this.y],s=(0,c.Bn)(this,e=>this.points.map(e=>r.l.add(e,i))),n=o.z.fromDOMRect((0,c.R$)(this));if(n.w<8&&n.h<8)return 5>r.l.distanceToLineSegment(e,t,n.center)?[]:null;if(n.intersectLine(e,t,!0)){let i=s.length;for(let o=1;o<i;o++){let i=(0,c.$B)(e,t,s[o-1],s[o]);if(i)return[new a.S(i,r.l.normalize(r.l.sub(s[o],s[o-1])))]}}return null}getNearestPoint(e){let{x:t,y:i}=this;return(0,c.BE)(this.points.map(e=>r.l.add(e,[t,i])),e)}getRelativePointLocation(e){let t=o.z.deserialize(this.xywh).getRelativePoint(e);return new a.S(t)}includesPoint(e,t,i){return(0,c.pz)(o.z.deserialize(this.xywh),this.points,this.rotate,[e,t],(i?.expand??10)/Math.min(i?.zoom??1,1))}get commands(){if(!this._local.has("commands")){var e,t;let i=(e=this.points,t=this.lineWidth,(0,n.$)(e,{size:t,thinning:.6,streamline:.5,smoothing:.5,easing:e=>Math.sin(e*Math.PI/2),simulatePressure:e[0]?.length===2})),s=(0,c.op)(i);this._local.set("commands",s)}return this._local.get("commands")}get connectable(){return!1}get type(){return"brush"}#iw=h(this,g,"#000000");get color(){return this.#iw}set color(e){this.#iw=e}#ng=(h(this,m),h(this,v,4));get lineWidth(){return this.#ng}set lineWidth(e){this.#ng=e}#cs=(h(this,y),h(this,b,[]));get points(){return this.#cs}set points(e){this.#cs=e}#co=(h(this,w),h(this,x,0));get rotate(){return this.#co}set rotate(e){this.#co=e}#cr=(h(this,_),h(this,C,"[0,0,0,0]"));get xywh(){return this.#cr}set xywh(e){this.#cr=e}constructor(){super(...arguments),h(this,k)}}})()},68192:(e,t,i)=>{i.d(t,{lw:()=>w,Re:()=>s,B1:()=>o,F7:()=>v,OM:()=>y,oG:()=>x,o:()=>b,yp:()=>_});var s,o,r,a=i(1126),n=i(31716),l=i(94098),c=i(96458),d=i(73711),h=i(16019),u=i(75510),p=i(11559);class f{static len(e){let t;let i=e.length;if(i<2)return 0;let s=0,o=0,r=e[0];for(;++s<i;)t=e[s],o+=n.l.dist(r,t),r=t;return o}static lenAtPoint(e,t){let i=e.length,s=i;for(let o=0;o<i-1;o++){let i=e[o],r=e[o+1];if(i[0]===t[0]&&i[1]===t[1])break;if((n.l.angle(i,t)+n.l.angle(r,t))%Math.PI==0){s+=n.l.dist(i,t);break}if(s+=n.l.dist(i,r),r[0]===t[0]&&r[1]===t[1])break}return s}static nearestPoint(e,t){let i=e.length,s=[0,0],o=1/0;for(let r=0;r<i-1;r++){let i=e[r],a=e[r+1],l=n.l.nearestPointOnLineSegment(i,a,t,!0),c=n.l.dist(l,t);c<o&&(o=c,s[0]=l[0],s[1]=l[1])}return s}static pointAt(e,t){let i=e.length;if(0===i)return null;if(1===i||t<=0)return e[0];if(t>=1)return e[i-1];let s=f.len(e);return f.pointAtLen(e,s*t)}static pointAtLen(e,t){let i=e.length;if(0===i)return null;if(1===i)return e[0];let s=!0;t<0&&(s=!1,t=-t);let o=0;for(let r=0,a=i-1;r<a;r++){let i=s?r:a-1-r,l=e[i],c=e[i+1],d=n.l.dist(l,c);if(t<=o+d){let e=(s?1:-1)*(t-o)/d;return n.l.lrp(l,c,e)}o+=d}return s?e[i-1]:e[0]}}var g=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},m=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};!function(e){e.Front="Front",e.Rear="Rear"}(s||(s={}));let v="None",y="Arrow";!function(e){e[e.Straight=0]="Straight",e[e.Orthogonal=1]="Orthogonal",e[e.Curve=2]="Curve"}(o||(o={}));let b=e=>({[o.Straight]:"Straight",[o.Orthogonal]:"Orthogonal",[o.Curve]:"Curve"})[e];!function(e){e.Bottom="bottom",e.Center="center",e.Top="top"}(r||(r={}));let w=(()=>{let e,t,i,s,v,y,b,w,x,_,C,k,S,M,E,I,B,$,T,O,P,A=a.iy,H=[],L=[],D=[],Z=[],j=[],V=[],R=[],z=[],F=[],N=[],q=[],U=[],W=[],G=[],Y=[],K=[],X=[],Q=[],J=[],ee=[],et=[],ei=[],es=[],eo=[],er=[],ea=[],en=[],el=[],ec=[],ed=[],eh=[],eu=[],ep=[],ef=[],eg=[],em=[],ev=[],ey=[],eb=[],ew=[],ex=[],e_=[];return class extends A{static{let o="function"==typeof Symbol&&Symbol.metadata?Object.create(A[Symbol.metadata]??null):void 0;e=[(0,a.sr)()],t=[(0,a.A1)("None")],i=[(0,a.A1)({hasMaxWidth:!0,maxWidth:280})],s=[(0,a.A1)(!0)],v=[(0,a.A1)({distance:.5,anchor:r.Center})],y=[(0,a.A1)({color:"#000000",fontFamily:h.ay.Inter,fontSize:16,fontStyle:h.zz.Normal,fontWeight:h.IT.Regular,textAlign:h.nO.Center})],b=[(0,a.A1)()],w=[(0,a.sr)()],x=[(0,a.A1)()],_=[(0,a.CX)((e,t)=>{let{x:i,y:s}=t;return{absolutePath:e.map(e=>e.clone().setVec(n.l.add(e,[i,s])))}}),(0,a.sr)()],C=[(0,a.A1)("Arrow")],k=[(0,a.sr)()],S=[(0,a.A1)()],M=[(0,a.A1)()],E=[(0,a.A1)()],I=[(0,a.A1)()],B=[(0,a.A1)()],$=[(0,a.A1)()],T=[(0,a.A1)()],O=[(0,a.A1)()],P=[(0,a.sr)()],g(this,null,e,{kind:"accessor",name:"absolutePath",static:!1,private:!1,access:{has:e=>"absolutePath"in e,get:e=>e.absolutePath,set:(e,t)=>{e.absolutePath=t}},metadata:o},H,L),g(this,null,t,{kind:"accessor",name:"frontEndpointStyle",static:!1,private:!1,access:{has:e=>"frontEndpointStyle"in e,get:e=>e.frontEndpointStyle,set:(e,t)=>{e.frontEndpointStyle=t}},metadata:o},D,Z),g(this,null,i,{kind:"accessor",name:"labelConstraints",static:!1,private:!1,access:{has:e=>"labelConstraints"in e,get:e=>e.labelConstraints,set:(e,t)=>{e.labelConstraints=t}},metadata:o},j,V),g(this,null,s,{kind:"accessor",name:"labelDisplay",static:!1,private:!1,access:{has:e=>"labelDisplay"in e,get:e=>e.labelDisplay,set:(e,t)=>{e.labelDisplay=t}},metadata:o},R,z),g(this,null,v,{kind:"accessor",name:"labelOffset",static:!1,private:!1,access:{has:e=>"labelOffset"in e,get:e=>e.labelOffset,set:(e,t)=>{e.labelOffset=t}},metadata:o},F,N),g(this,null,y,{kind:"accessor",name:"labelStyle",static:!1,private:!1,access:{has:e=>"labelStyle"in e,get:e=>e.labelStyle,set:(e,t)=>{e.labelStyle=t}},metadata:o},q,U),g(this,null,b,{kind:"accessor",name:"labelXYWH",static:!1,private:!1,access:{has:e=>"labelXYWH"in e,get:e=>e.labelXYWH,set:(e,t)=>{e.labelXYWH=t}},metadata:o},W,G),g(this,null,w,{kind:"accessor",name:"lableEditing",static:!1,private:!1,access:{has:e=>"lableEditing"in e,get:e=>e.lableEditing,set:(e,t)=>{e.lableEditing=t}},metadata:o},Y,K),g(this,null,x,{kind:"accessor",name:"mode",static:!1,private:!1,access:{has:e=>"mode"in e,get:e=>e.mode,set:(e,t)=>{e.mode=t}},metadata:o},X,Q),g(this,null,_,{kind:"accessor",name:"path",static:!1,private:!1,access:{has:e=>"path"in e,get:e=>e.path,set:(e,t)=>{e.path=t}},metadata:o},J,ee),g(this,null,C,{kind:"accessor",name:"rearEndpointStyle",static:!1,private:!1,access:{has:e=>"rearEndpointStyle"in e,get:e=>e.rearEndpointStyle,set:(e,t)=>{e.rearEndpointStyle=t}},metadata:o},et,ei),g(this,null,k,{kind:"accessor",name:"rotate",static:!1,private:!1,access:{has:e=>"rotate"in e,get:e=>e.rotate,set:(e,t)=>{e.rotate=t}},metadata:o},es,eo),g(this,null,S,{kind:"accessor",name:"rough",static:!1,private:!1,access:{has:e=>"rough"in e,get:e=>e.rough,set:(e,t)=>{e.rough=t}},metadata:o},er,ea),g(this,null,M,{kind:"accessor",name:"roughness",static:!1,private:!1,access:{has:e=>"roughness"in e,get:e=>e.roughness,set:(e,t)=>{e.roughness=t}},metadata:o},en,el),g(this,null,E,{kind:"accessor",name:"source",static:!1,private:!1,access:{has:e=>"source"in e,get:e=>e.source,set:(e,t)=>{e.source=t}},metadata:o},ec,ed),g(this,null,I,{kind:"accessor",name:"stroke",static:!1,private:!1,access:{has:e=>"stroke"in e,get:e=>e.stroke,set:(e,t)=>{e.stroke=t}},metadata:o},eh,eu),g(this,null,B,{kind:"accessor",name:"strokeStyle",static:!1,private:!1,access:{has:e=>"strokeStyle"in e,get:e=>e.strokeStyle,set:(e,t)=>{e.strokeStyle=t}},metadata:o},ep,ef),g(this,null,$,{kind:"accessor",name:"strokeWidth",static:!1,private:!1,access:{has:e=>"strokeWidth"in e,get:e=>e.strokeWidth,set:(e,t)=>{e.strokeWidth=t}},metadata:o},eg,em),g(this,null,T,{kind:"accessor",name:"target",static:!1,private:!1,access:{has:e=>"target"in e,get:e=>e.target,set:(e,t)=>{e.target=t}},metadata:o},ev,ey),g(this,null,O,{kind:"accessor",name:"text",static:!1,private:!1,access:{has:e=>"text"in e,get:e=>e.text,set:(e,t)=>{e.text=t}},metadata:o},eb,ew),g(this,null,P,{kind:"accessor",name:"xywh",static:!1,private:!1,access:{has:e=>"xywh"in e,get:e=>e.xywh,set:(e,t)=>{e.xywh=t}},metadata:o},ex,e_),o&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}static propsToY(e){return!e.text||e.text instanceof d.rl.Y.Text||(e.text=new d.rl.Y.Text(e.text)),e}containsBound(e){return this.absolutePath.some(t=>e.containsPoint(t))||this.hasLabel()&&l.z.fromXYWH(this.labelXYWH).points.some(t=>e.containsPoint(t))}getLineIntersections(e,t){let{mode:i,absolutePath:s}=this,r=null;return!(r=i===o.Curve&&s.length>1?(0,u.HY)(s,[e,t]):(0,p.Rg)(e,t,s))&&this.hasLabel()&&(r=(0,p.Rg)(e,t,l.z.fromXYWH(this.labelXYWH).points)),r}getNearestPoint(e){let{mode:t,absolutePath:i}=this;if(t===o.Straight){let t=i[0],s=i[i.length-1];return n.l.nearestPointOnLineSegment(t,s,e,!0)}if(t===o.Orthogonal){let t=i.map(e=>[e[0],e[1]]);return f.nearestPoint(t,e)}let s=(0,u.UV)(i),r=(0,u.Vr)(s,e),a=(0,u.KV)(s,r);if(a)return a;let{x:l,y:c}=this;return[l,c]}getOffsetDistanceByPoint(e,t){let{mode:i,absolutePath:s}=this,{x:r,y:a,w:l,h:c}=this;if(t&&(r=t.x,a=t.y,l=t.w,c=t.h),e[0]=n.l.clamp(e[0],r,r+l),e[1]=n.l.clamp(e[1],a,a+c),i===o.Straight){let t=s[0],i=s[s.length-1];return n.l.dist(t,e)/n.l.dist(t,i)}if(i===o.Orthogonal){let t=s.map(e=>[e[0],e[1]]),i=f.nearestPoint(t,e);return f.lenAtPoint(t,i)/f.len(t)}let d=(0,u.UV)(s);return(0,u.Vr)(d,e)}getPointByOffsetDistance(e=.5,t){let{mode:i,absolutePath:s}=this;if(i===o.Straight){let t=s[0],i=s[s.length-1];return n.l.lrp(t,i,e)}let{x:r,y:a,w:l,h:c}=this;if(t&&(r=t.x,a=t.y,l=t.w,c=t.h),i===o.Orthogonal){let t=s.map(e=>[e[0],e[1]]);return f.pointAt(t,e)||[r+l/2,a+c/2]}let d=(0,u.UV)(s);return(0,u.KV)(d,e)||[r+l/2,a+c/2]}getRelativePointLocation(e){return new c.S(l.z.deserialize(this.xywh).getRelativePoint(e))}hasLabel(){return!!(!this.lableEditing&&this.labelDisplay&&this.labelXYWH)}includesPoint(e,t,i){let s=[e,t];if(this.labelIncludesPoint(s))return!0;let{mode:r,strokeWidth:a,absolutePath:l}=this,c=r===o.Curve?(0,u.ol)((0,u.UV)(l),s):(0,p.BE)(l,s);return n.l.dist(c,s)<(i?.expand?a/2:0)+8}labelIncludesPoint(e){return this.hasLabel()&&l.z.fromXYWH(this.labelXYWH).isPointInBound(e)}moveTo(e){let t=l.z.deserialize(this.xywh),i=n.l.sub([e.x,e.y],[t.x,t.y]),{source:s,target:o}=this;if(!s.id&&s.position&&(this.source={position:n.l.add(s.position,i)}),!o.id&&o.position&&(this.target={position:n.l.add(o.position,i)}),this.hasLabel()){let[e,t,s,o]=this.labelXYWH;this.labelXYWH=[e+i[0],t+i[1],s,o]}}resize(e,t,i){this.updatingPath=!1;let s=this.resizePath(t,i);this.xywh=e.serialize(),this.path=s.map(t=>t.clone().setVec(n.l.sub(t,e.tl)));let o={};if(this.hasLabel()){let[e,t]=this.getPointByOffsetDistance(this.labelOffset.distance),[,,i,s]=this.labelXYWH;o.labelXYWH=[e-i/2,t-s/2,i,s]}return this.source.id||(o.source={...this.source,position:s[0].toVec()}),this.target.id||(o.target={...this.target,position:s[s.length-1].toVec()}),o}resizePath(e,t){return this.mode===o.Curve?e.map(e=>{let[i,s,o,r]=[e,e.tangent,e.absIn,e.absOut].map(e=>new DOMPoint(...e).matrixTransform(t)).map(e=>[e.x,e.y]),a=n.l.sub(o,i),l=n.l.sub(r,i);return new c.S(i,s,a,l)}):e.map(e=>{let{x:i,y:s}=new DOMPoint(...e).matrixTransform(t);return c.S.fromVec([i,s])})}serialize(){let e=super.serialize();return e.xywh=this.xywh,e}get connectable(){return!1}get connected(){return!!(this.source.id||this.target.id)}get elementBound(){let e=super.elementBound;return this.hasLabel()&&(e=e.unite(l.z.fromXYWH(this.labelXYWH))),e}get type(){return"connector"}#ca;get absolutePath(){return this.#ca}set absolutePath(e){this.#ca=e}#cn;get frontEndpointStyle(){return this.#cn}set frontEndpointStyle(e){this.#cn=e}#cl;get labelConstraints(){return this.#cl}set labelConstraints(e){this.#cl=e}#cc;get labelDisplay(){return this.#cc}set labelDisplay(e){this.#cc=e}#cd;get labelOffset(){return this.#cd}set labelOffset(e){this.#cd=e}#ch;get labelStyle(){return this.#ch}set labelStyle(e){this.#ch=e}#cu;get labelXYWH(){return this.#cu}set labelXYWH(e){this.#cu=e}#cp;get lableEditing(){return this.#cp}set lableEditing(e){this.#cp=e}#tc;get mode(){return this.#tc}set mode(e){this.#tc=e}#cf;get path(){return this.#cf}set path(e){this.#cf=e}#cg;get rearEndpointStyle(){return this.#cg}set rearEndpointStyle(e){this.#cg=e}#co;get rotate(){return this.#co}set rotate(e){this.#co=e}#cm;get rough(){return this.#cm}set rough(e){this.#cm=e}#cv;get roughness(){return this.#cv}set roughness(e){this.#cv=e}#cy;get source(){return this.#cy}set source(e){this.#cy=e}#nv;get stroke(){return this.#nv}set stroke(e){this.#nv=e}#oj;get strokeStyle(){return this.#oj}set strokeStyle(e){this.#oj=e}#oV;get strokeWidth(){return this.#oV}set strokeWidth(e){this.#oV=e}#lw;get target(){return this.#lw}set target(e){this.#lw=e}#tu;get text(){return this.#tu}set text(e){this.#tu=e}#cr;get xywh(){return this.#cr}set xywh(e){this.#cr=e}constructor(){super(...arguments),this.updatingPath=!1,this.#ca=m(this,H,[]),this.#cn=(m(this,L),m(this,D,void 0)),this.#cl=(m(this,Z),m(this,j,void 0)),this.#cc=(m(this,V),m(this,R,void 0)),this.#cd=(m(this,z),m(this,F,void 0)),this.#ch=(m(this,N),m(this,q,void 0)),this.#cu=(m(this,U),m(this,W,void 0)),this.#cp=(m(this,G),m(this,Y,!1)),this.#tc=(m(this,K),m(this,X,o.Orthogonal)),this.#cf=(m(this,Q),m(this,J,[])),this.#cg=(m(this,ee),m(this,et,void 0)),this.#co=(m(this,ei),m(this,es,0)),this.#cm=(m(this,eo),m(this,er,void 0)),this.#cv=(m(this,ea),m(this,en,h.js)),this.#cy=(m(this,el),m(this,ec,{position:[0,0]})),this.#nv=(m(this,ed),m(this,eh,"#000000")),this.#oj=(m(this,eu),m(this,ep,h.u1.Solid)),this.#oV=(m(this,ef),m(this,eg,4)),this.#lw=(m(this,em),m(this,ev,{position:[0,0]})),this.#tu=(m(this,ey),m(this,eb,void 0)),this.#cr=(m(this,ew),m(this,ex,"[0,0,0,0]")),m(this,e_)}}})();class x extends a.cI{constructor(){super(...arguments),this._path=[],this.absolutePath=[],this.id="",this.mode=o.Orthogonal,this.rotate=0,this.roughness=h.js,this.seed=Math.random(),this.source={position:[0,0]},this.stroke="#000000",this.strokeStyle=h.u1.Solid,this.strokeWidth=4,this.target={position:[0,0]},this.updatingPath=!1,this.xywh="[0,0,0,0]"}get path(){return this._path}set path(e){let{x:t,y:i}=this;this._path=e,this.absolutePath=e.map(e=>e.clone().setVec([e[0]+t,e[1]+i]))}get type(){return"connector"}}function _(e){return e instanceof w&&e.hasLabel()}},26739:(e,t,i)=>{i.d(t,{$:()=>d});var s=i(1126),o=i(94098),r=i(73711),a=i(62602),n=i(11559),l=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},c=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let d=(()=>{let e,t,i,d=s.JU,h=[],u=[],p=[],f=[],g=[],m=[];return class extends d{static{let o="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;e=[(0,s.lB)((e,t,i)=>{t.setChildIds(Array.from(t.children.keys()),i?.local??!1)}),(0,s.A1)()],t=[(0,s.sr)()],i=[(0,s.A1)()],l(this,null,e,{kind:"accessor",name:"children",static:!1,private:!1,access:{has:e=>"children"in e,get:e=>e.children,set:(e,t)=>{e.children=t}},metadata:o},h,u),l(this,null,t,{kind:"accessor",name:"showTitle",static:!1,private:!1,access:{has:e=>"showTitle"in e,get:e=>e.showTitle,set:(e,t)=>{e.showTitle=t}},metadata:o},p,f),l(this,null,i,{kind:"accessor",name:"title",static:!1,private:!1,access:{has:e=>"title"in e,get:e=>e.title,set:(e,t)=>{e.title=t}},metadata:o},g,m),o&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}static propsToY(e){if(!e.title||e.title instanceof r.rl.Y.Text||(e.title=new r.rl.Y.Text(e.title)),e.children&&!(e.children instanceof r.rl.Y.Map)){let t=new r.rl.Y.Map;(0,a.HP)(e.children).forEach(e=>{t.set(e,!0)}),e.children=t}return e}addChild(e){let t="string"==typeof e?e:e.id;this.children&&this.surface.doc.transact(()=>{this.children.set(t,!0)})}containsBound(e){return e.contains(o.z.deserialize(this.xywh))}getLineIntersections(e,t){let i=o.z.deserialize(this.xywh);return(0,n.Dx)(e,t,i.points)}removeChild(e){let t="string"==typeof e?e:e.id;this.children&&this.surface.doc.transact(()=>{this.children.delete(t)})}serialize(){return super.serialize()}get rotate(){return 0}set rotate(e){}get type(){return"group"}#cb=c(this,h,new r.rl.Y.Map);get children(){return this.#cb}set children(e){this.#cb=e}#cw=(c(this,u),c(this,p,!0));get showTitle(){return this.#cw}set showTitle(e){this.#cw=e}#cx=(c(this,f),c(this,g,new r.rl.Y.Text));get title(){return this.#cx}set title(e){this.#cx=e}constructor(){super(...arguments),c(this,m)}}})()},992:(e,t,i)=>{i.d(t,{$f:()=>a.$,AR:()=>n.AR,B5:()=>l.B5,IN:()=>d,J9:()=>s,lw:()=>r.lw,n6:()=>c.n}),i(31999);var s,o=i(24434),r=i(68192),a=i(26739),n=i(45598),l=i(40942),c=i(9441);let d={group:a.$,connector:r.lw,shape:l.B5,brush:o.C,text:c.n,mindmap:n.AR};!function(e){e.BRUSH="brush",e.CONNECTOR="connector",e.GROUP="group",e.MINDMAP="mindmap",e.SHAPE="shape",e.TEXT="text"}(s||(s={}))},45598:(e,t,i)=>{i.d(t,{AR:()=>y,cy:()=>f.cy});var s=i(1126),o=i(71006),r=i(43228),a=i(73711),n=i(3471),l=i(67448),c=i(62602),d=i(16019),h=i(18513),u=i(68192),p=i(84549),f=i(54074),g=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},m=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let v=l.z.object({text:l.z.string(),xywh:l.z.optional(l.z.string())}).extend({children:l.z.lazy(()=>v.array()).optional()}),y=(()=>{let e,t,i,l=s.JU,y=[],b=[],w=[],x=[],_=[],C=[];return class extends l{static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;e=[(0,s.C6)((e,t)=>{if(e instanceof a.rl.Y.Map)return t.requestBuildTree(),t.requestLayout(),e;{v.parse(e),(0,o.j)(e);let i=new a.rl.Y.Map,s=t.surface,r=s.doc,l=(e,t=null,o="a0")=>{let r=s.addElement({type:"shape",text:e.text,xywh:e.xywh?e.xywh:"[0, 0, 100, 30]"});i.set(r,{index:o,parent:t??void 0});let a="a0";e.children?.forEach(e=>{l(e,r,a),a=n.TU(a,null)})};return r.transact(()=>{l(e)}),t.requestBuildTree(),t.requestLayout(),i}}),(0,s.lB)((e,t,i)=>{t.setChildIds(Array.from(t.children.keys()),i?.local??!0),t.buildTree(),t.connectors.clear()}),(0,s.A1)()],t=[(0,s.wB)((e,t,i)=>{i&&(t.surface.doc.transact(()=>{t._tree?.children.forEach(e=>{t.children.has(e.id)&&t.children.set(e.id,{index:e.detail.index,parent:e.detail.parent})})}),t.buildTree())}),(0,s.A1)()],i=[(0,s.wB)((e,t,i)=>{i&&t.layout()}),(0,s.A1)()],g(this,null,e,{kind:"accessor",name:"children",static:!1,private:!1,access:{has:e=>"children"in e,get:e=>e.children,set:(e,t)=>{e.children=t}},metadata:r},y,b),g(this,null,t,{kind:"accessor",name:"layoutType",static:!1,private:!1,access:{has:e=>"layoutType"in e,get:e=>e.layoutType,set:(e,t)=>{e.layoutType=t}},metadata:r},w,x),g(this,null,i,{kind:"accessor",name:"style",static:!1,private:!1,access:{has:e=>"style"in e,get:e=>e.style,set:(e,t)=>{e.style=t}},metadata:r},_,C),r&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static createFromTree(e,t,i,s){let o=new a.rl.Y.Map,r=(e,t)=>{let i={...e.detail,parent:t};t||delete i.parent,o.set(e.id,i),e.children.forEach(t=>r(t,e.id))};r(e);let n=s.addElement({type:"mindmap",children:o,layoutType:i,style:t}),l=s.getElementById(n);return l.layout(),l}static propsToY(e){var t;if(e.children&&!("string"==typeof(t=e.children).text&&Array.isArray(t.children))&&!(e.children instanceof a.rl.Y.Map)){let t=new a.rl.Y.Map;(0,c.HP)(e.children).forEach(i=>{let s=(0,c.Up)(e.children[i],["index","parent","preferredDir"]);t.set(i,s)}),e.children=t}return e}_cfgBalanceLayoutDir(){if(this.layoutType!==p.p5.BALANCE)return;let e=this._tree,t=e.children.findIndex((e,t)=>e.detail.preferredDir===p.p5.LEFT||e.detail.preferredDir===p.p5.RIGHT&&e.children[t+1]?.detail.preferredDir!==p.p5.RIGHT);if(-1===t){let t=Math.ceil(e.children.length/2);e.right.push(...e.children.slice(0,t)),e.left.push(...e.children.slice(t))}else e.right.push(...e.children.slice(0,t+1)),e.left.push(...e.children.slice(t+1));e.left.reverse()}_isConnectorOutdated(e,t=!0){let{connector:i,from:s,to:o,layout:r}=e,a=`${s.element.xywh}-${o.element.xywh}-${r}-${this.style}`;return i.MINDMAP_CONNECTOR===a?{outdated:!1,cacheKey:a}:(t&&(i.MINDMAP_CONNECTOR=a),{outdated:!0,cacheKey:a})}addConnector(e,t,i,s,o=!1){let r=`#${e.id}-${t.id}`;if(o)this.extraConnectors.set(r,new u.oG);else if(this.connectors.has(r)){let s=this.connectors.get(r),{outdated:o}=this._isConnectorOutdated({connector:s,from:e,to:t,layout:i});if(!o)return s}else{let s=new u.oG;this._isConnectorOutdated({connector:s,from:e,to:t,layout:i}),this.connectors.set(r,s)}let a=o?this.extraConnectors.get(r):this.connectors.get(r);return a.id=r,a.source={id:e.id,position:i===p.p5.RIGHT?[1,.5]:[0,.5]},a.target={id:t.id,position:i===p.p5.RIGHT?[0,.5]:[1,.5]},Object.entries(s).forEach(([e,t])=>{a[e]=t}),this.pathGenerator.updatePath(a),a}addNode(e,t,i="after",s={},r){let l;if(e&&"string"!=typeof e&&(e=e.id),(0,o.j)(e),e&&!this._nodeMap.has(e))throw Error(`Parent node ${e} not found`);s.text=new a.rl.Y.Text(s.text??"New node");let h=s.type??"shape";return this.surface.doc.transact(()=>{let o=e?this._nodeMap.get(e):null;if(o){let a=this.layoutType===p.p5.BALANCE&&this._tree.id===o.id,u=(0,c.HV)(o.children)?(0,n.TU)((0,c.HV)(o.children).detail.index,null):"a0",f="number"==typeof(t=t??c.HV(o.children)?.id)?o.children[t]:t?this._nodeMap.get(t):void 0,g=f?this.getPath(f):this.getPath(o).concat([0]),m=this.styleGetter.getNodeStyle(f??o,g);if(l=this.surface.addElement({type:h,xywh:"[0,0,100,30]",textResizing:d.bn.AUTO_WIDTH,maxWidth:!1,...s,...m.node}),f){let e=o.children.findIndex(e=>e.id===t);u="after"===i?(0,n.TU)(f.detail.index,o.children[e+1]?.detail.index??null):(0,n.TU)(o.children[e-1]?.detail.index??null,f.detail.index)}else if(a&&void 0!==r){let e=r===p.p5.LEFT?this._tree.left[0]:(0,c.HV)(this._tree.right);e&&(u=(0,n.TU)(e.detail.index,null))}let v={index:u,parent:e};void 0!==r&&a&&(v.preferredDir=r),this.children.set(l,v)}else{let e=this.styleGetter.root;l=this.surface.addElement({type:h,xywh:"[0,0,113,41]",textResizing:d.bn.AUTO_WIDTH,maxWidth:400,...s,...e}),this.children.clear(),this.children.set(l,{index:"a0"})}}),this.layout(),l}addTree(e,t,i,s){if(e="string"==typeof e?e:e.id,!this._nodeMap.has(e)||!e)return null;(0,o.j)(e),(s===p.p5.BALANCE||this._nodeMap.get(e)!==this._tree)&&(s=void 0);let r=(e,t,i,s)=>{let o;return"text"in e?o=this.addNode(t,i,"before",{text:e.text},s):(this.children.set(e.id,{...e.detail,parent:t}),o=e.id),e.children?.forEach(e=>{r(e,o)}),o};if(!("text"in t))return this.surface.doc.transact(()=>{r(t,e,i,s)}),this.applyStyle(),this.layout(),this._nodeMap.get(t.id);{let o=r(t,e,i,s);return this.layout(),this._nodeMap.get(o)}}applyStyle(e=!1){this.surface.doc.transact(()=>{let t=this.styleGetter;if(!t)return;(0,f.Yt)(this._tree,t.root,e);let i=(s,o)=>{s.children.forEach((s,r)=>{let a=[...o,r],n=t.getNodeStyle(s,a);(0,f.Yt)(s,n.node,e),i(s,a)})};i(this._tree,[0])})}buildTree(){let e;let t=new Map,i=this.children;if(!i){this._nodeMap=t,this._tree=null;return}i.forEach((i,s)=>{let o=t.has(s)?t.get(s):{id:s,parent:i.parent,index:i.index,detail:i,element:this.surface.getElementById(s),children:[]};if(o.detail||(o.detail=i),t.has(s)||t.set(s,o),i.parent){if(t.has(i.parent)){let e=t.get(i.parent);e.children=e.children??[],e.children.push(o)}else t.set(i.parent,{id:i.parent,children:[o],element:this.surface.getElementById(i.parent)})}else(e=o).left=[],e.right=[]}),t.forEach(e=>{e.children.sort((e,t)=>e.detail.index===t.detail.index?0:e.detail.index>t.detail.index?1:-1)}),e&&(this._nodeMap=t,this._tree=e,this.layoutType===p.p5.BALANCE?this._cfgBalanceLayoutDir():this._tree[this.layoutType===p.p5.RIGHT?"right":"left"]=this._tree.children)}detach(e){if(e="string"==typeof e?this._nodeMap.get(e):e,(0,o.j)(e),!e)return;let t=e=>{this.children.delete(e.id),e.detail={...e.detail},e.children.forEach(e=>t(e))};return this.surface.doc.transact(()=>{t(e)}),this.layout(),delete e.detail.parent,e}getChildNodes(e,t){let i=this._nodeMap.get(e);return i?t&&e===this._tree.id?this._tree[t]:i.children:[]}getConnector(e,t){return this._nodeMap.has(e.id)&&this._nodeMap.has(t.id)?this.addConnector(e,t,this.getLayoutDir(t),this.styleGetter.getNodeStyle(t,this.getPath(t)).connector):null}getLayoutDir(e){e="string"==typeof e?this._nodeMap.get(e):e,(0,o.j)(e);let t=e,i=this._tree;for(;t;){if(void 0!==t.overriddenDir)return t.overriddenDir;let e=t.detail.parent?this._nodeMap.get(t.detail.parent)??null:null;if(e===i)return i.left.includes(t)?p.p5.LEFT:i.right.includes(t)?p.p5.RIGHT:this.layoutType;t=e}return this.layoutType}getNode(e){return this._nodeMap.get(e)??null}getParentNode(e){let t=this.children.get(e);return t?.parent?this._nodeMap.get(t.parent)??null:null}getPath(e){let t=this._nodeMap.get("string"==typeof e?e:e.id);if(!t)throw Error("Node not found");let i=[];for(;t&&t!==this._tree;){let e=this._nodeMap.get(t.detail.parent);i.unshift(e.children.indexOf(t)),t=e}return i.unshift(0),i}getSiblingNode(e,t="next",i){let s=this._nodeMap.get(e);if(!s)return null;let o=this._nodeMap.get(s.detail.parent);if(!o)return null;let r=i&&o.id===this._tree.id?this._tree[i]:o.children,a=r.indexOf(s);return -1===a?null:r["next"===t?a+1:a-1]??null}layout(e=this.tree,t=!0,i){e&&e.element&&(t&&this.applyStyle(!0),this.surface.doc.transact(()=>{let t=this.getPath(e.id);(0,p.Zp)(e,this,i??this.getLayoutDir(e.id),t)}))}moveTo(e){let{x:t,y:i}=this,s="string"==typeof e?(0,r.W)(e):e,o=s[0]-t,a=s[1]-i+s[3];this.surface.doc.transact(()=>{this.childElements.forEach(e=>{let t=(0,r.W)(e.xywh);e.xywh=`[${t[0]+o},${t[1]+a},${t[2]},${t[3]}]`})})}moveTree(e,t,i,s){if(!(t=this._nodeMap.get("string"==typeof t?t:t.id))||!this._nodeMap.has(e.id))return;(0,o.j)(t),(s===p.p5.BALANCE||t!==this._tree)&&(s=void 0);let r=t.children[i],a=t.children[i-1],l=r||a?(0,n.TU)(a?.detail.index??null,r?.detail.index??null):e.detail.index??void 0;return this.surface.doc.transact(()=>{let i=void 0!==s?{...e.detail,index:l,parent:t.id,preferredDir:s}:{...e.detail,index:l,parent:t.id};this.children.set(e.id,i)}),this.layout(),this._nodeMap.get(e.id)}onCreated(){this.requestBuildTree()}removeChild(e){if(!this._nodeMap.has(e))return;let t=this.surface,i=[],s=e=>{e.children?.forEach(e=>{s(e)}),this.children?.delete(e.id),i.push(e.id)};t.doc.transact(()=>{s(this._nodeMap.get(e))}),queueMicrotask(()=>{i.forEach(e=>t.removeElement(e))}),this.buildTree(),this.requestLayout()}requestBuildTree(){this._queueBuildTree||(this._queueBuildTree=!0,queueMicrotask(()=>{this.buildTree(),this._queueBuildTree=!1}))}requestLayout(){this._queued||(this._queued=!0,queueMicrotask(()=>{this.layout(),this._queued=!1}))}serialize(){return super.serialize()}stashTree(e){let t="string"==typeof e?this.getNode(e):e;if(!t)return;let i=new Set,s=(e,t)=>{if(e.element.stash("xywh"),e.element.opacity=.3,i.add(e.element),t){let s=`#${t.element.id}-${e.element.id}`,o=this.connectors.get(s);o&&(o.opacity=.3,i.add(o))}e.children.length&&e.children.forEach(t=>s(t,e))},o=this.getParentNode(t.element.id);return s(t,o?this.getNode(o.id):null),()=>{i.forEach(e=>{"pop"in e&&e.pop("xywh"),e.opacity=1})}}traverse(e){let t=(i,s)=>{e(i,s),i?.children.forEach(e=>{t(e,i)})};this._tree&&t(this._tree,null)}get nodeMap(){return this._nodeMap}get rotate(){return 0}set rotate(e){}get styleGetter(){return f.qj[this.style]}get tree(){return this._tree}get type(){return"mindmap"}#cb;get children(){return this.#cb}set children(e){this.#cb=e}#rF;get layoutType(){return this.#rF}set layoutType(e){this.#rF=e}#c_;get style(){return this.#c_}set style(e){this.#c_=e}constructor(){super(...arguments),this._nodeMap=new Map,this._queueBuildTree=!1,this._queued=!1,this.connectors=new Map,this.extraConnectors=new Map,this.pathGenerator=new h.IV({getElementById:e=>this.surface.getElementById(e)??this.surface.doc.getBlockById(e)}),this.#cb=m(this,y,new a.rl.Y.Map),this.#rF=(m(this,b),m(this,w,p.p5.RIGHT)),this.#c_=(m(this,x),m(this,_,f.cy.ONE)),m(this,C)}}})()},40942:(e,t,i)=>{i.d(t,{OL:()=>v,B5:()=>y,e2:()=>m});var s,o=i(1126),r=i(73711),a=i(16019),n=i(94098),l=i(96458),c=i(11559);let d={points:({x:e,y:t,w:i,h:s})=>[[e,t+s/2],[e+i/2,t],[e+i,t+s/2],[e+i/2,t+s]],draw(e,{x:t,y:i,w:s,h:o,rotate:r=0}){let a=t+s/2,n=i+o/2;e.save(),e.translate(a,n),e.rotate(r*Math.PI/180),e.translate(-a,-n),e.beginPath(),e.moveTo(t,i+o/2),e.lineTo(t+s/2,i),e.lineTo(t+s,i+o/2),e.lineTo(t+s/2,i+o),e.closePath(),e.restore()},includesPoint(e,t,i){let s=[e,t],o=(0,c.Bn)(this,d.points),r=(0,c.kO)(s,o,(i?.expand??1)/(i.zoom??1));if(!r){if(!i.ignoreTransparent||this.filled)r=(0,c.s3)([e,t],o);else{let e=this.text;if(e&&e.length)this.textBound&&(r=(0,c.s3)(s,(0,c.Bn)(this,()=>n.z.from(this.textBound).points)));else{let e=(0,c.GT)(this,a.cT),t=(0,c.Bn)(e,d.points);r=(0,c.s3)(s,t)}}}return r},containsBound:(e,t)=>(0,c.Bn)(t,d.points).some(t=>e.containsPoint(t)),getNearestPoint(e,t){let i=(0,c.Bn)(t,d.points);return(0,c.$L)(i,e)},getLineIntersections(e,t,i){let s=(0,c.Bn)(i,d.points);return(0,c.Dx)(e,t,s)},getRelativePointLocation(e,t){let i=n.z.deserialize(t.xywh),s=i.getRelativePoint(e),o=d.points(i);o.push(s);let r=(o=(0,c.Hb)(o,i.center,t.rotate)).pop(),a=(0,c.W4)(o,r);return new l.S(r,a)}};var h=i(31716);let u={points:({x:e,y:t,w:i,h:s})=>[[e,t+s/2],[e+i/2,t],[e+i,t+s/2],[e+i/2,t+s]],draw(e,{x:t,y:i,w:s,h:o,rotate:r=0}){let a=t+s/2,n=i+o/2;e.save(),e.translate(a,n),e.rotate(r*Math.PI/180),e.translate(-a,-n),e.beginPath(),e.ellipse(a,n,s/2,o/2,0,0,2*Math.PI),e.restore()},includesPoint(e,t,i){let s=[e,t],o=(i?.expand??1)/(i?.zoom??1),r=this.w/2,l=this.h/2,d=[this.x+r,this.y+l],h=this.rotate*Math.PI/180,u=(0,c.a0)(s,d,r+o,l+o,h)&&!(0,c.a0)(s,d,r-o,l-o,h);if(!u){if(!i.ignoreTransparent||this.filled)u=(0,c.a0)(s,d,r,l,h);else{let e=this.text;if(e&&e.length)this.textBound&&(u=(0,c.s3)(s,(0,c.Bn)(this,()=>n.z.from(this.textBound).points)));else{let e=r*a.cT,t=l*a.cT;u=(0,c.a0)(s,d,e,t,h)}}}return u},containsBound:(e,t)=>(0,c.Bn)(t,u.points).some(t=>e.containsPoint(t)),getNearestPoint(e,{rotate:t,xywh:i}){let{center:s,w:o,h:r}=n.z.deserialize(i),a=(0,c.DF)(t),l=o/2,d=r/2,[u,p]=h.l.rot(h.l.sub(e,s),-a),f=Math.abs(u),g=Math.abs(p),m=Math.SQRT1_2,v=Math.SQRT1_2,y=0;for(;y<3;y++){let e=l*m,t=d*v,i=(l*l-d*d)*m**3/l,s=(d*d-l*l)*v**3/d,o=e-i,r=t-s,a=f-i,n=g-s,h=Math.hypot(r,o),u=Math.hypot(n,a);m=(0,c.qE)((a*h/u+i)/l,0,1);let p=Math.hypot(v=(0,c.qE)((n*h/u+s)/d,0,1),m);m/=p,v/=p}return h.l.add(h.l.rot([l*m*Math.sign(u),d*v*Math.sign(p)],a),s)},getLineIntersections(e,t,{rotate:i,xywh:s}){let o=(0,c.DF)(i),r=n.z.deserialize(s);return(0,c.Vk)(e,t,r.center,r.w/2,r.h/2,o)},getRelativePointLocation(e,{rotate:t,xywh:i}){let s=n.z.deserialize(i),o=s.getRelativePoint(e),{x:r,y:a,w:d,h:u,center:p}=s,f=(0,c.Hb)([[r,a],[r+d/2,a],[r+d,a],[r+d,a+u/2],[r+d,a+u],[r+d/2,a+u],[r,a+u],[r,a+u/2],o],p,t),g=f.pop(),m=f.length,v=[0,.5],y=0;for(;y<m;y++){let e=f[y],t=f[(y+1)%m];if(n.z.fromPoints([e,t,p]).containsPoint(g)){v=h.l.normalize(h.l.sub(t,e));break}}return new l.S(g,v)}},p={points:({x:e,y:t,w:i,h:s})=>[[e,t+s],[e+i/2,t],[e+i,t+s]],draw(e,{x:t,y:i,w:s,h:o,rotate:r=0}){let a=t+s/2,n=i+o/2;e.save(),e.translate(a,n),e.rotate(r*Math.PI/180),e.translate(-a,-n),e.beginPath(),e.moveTo(t,i+o),e.lineTo(t+s/2,i),e.lineTo(t+s,i+o),e.closePath(),e.restore()},includesPoint(e,t,i){let s=[e,t],o=(0,c.Bn)(this,p.points),r=(0,c.kO)(s,o,(i?.expand??1)/(i?.zoom??1));if(!r){if(!i.ignoreTransparent||this.filled)r=(0,c.s3)([e,t],o);else{let i=this.text;if(i&&i.length)this.textBound&&(r=(0,c.s3)(s,(0,c.Bn)(this,()=>n.z.from(this.textBound).points)));else{let i=(0,c.GT)(this,a.cT),s=(0,c.Bn)(i,p.points);r=(0,c.s3)([e,t],s)}}}return r},containsBound:(e,t)=>(0,c.Bn)(t,p.points).some(t=>e.containsPoint(t)),getNearestPoint(e,t){let i=(0,c.Bn)(t,p.points);return(0,c.$L)(i,e)},getLineIntersections(e,t,i){let s=(0,c.Bn)(i,p.points);return(0,c.Dx)(e,t,s)},getRelativePointLocation(e,t){let i=n.z.deserialize(t.xywh),s=i.getRelativePoint(e),o=p.points(i);o.push(s);let r=(o=(0,c.Hb)(o,i.center,t.rotate)).pop(),a=(0,c.W4)(o,r);return new l.S(r,a)}};var f=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},g=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let m={rect:{points:({x:e,y:t,w:i,h:s})=>[[e,t],[e+i,t],[e+i,t+s],[e,t+s]],draw(e,{x:t,y:i,w:s,h:o,rotate:r=0}){e.save(),e.translate(t+s/2,i+o/2),e.rotate(r*Math.PI/180),e.translate(-t-s/2,-i-o/2),e.rect(t,i,s,o),e.restore()},includesPoint(e,t,i){let s=[e,t],o=(0,c.Bn)(this),r=(0,c.kO)(s,o,(i?.expand??1)/(i.zoom??1));if(!r){if(!i.ignoreTransparent||this.filled)r=(0,c.s3)([e,t],o);else{let i=this.text;if(i&&i.length)this.textBound&&(r=(0,c.s3)(s,(0,c.Bn)(this,()=>n.z.from(this.textBound).points)));else{let i=(0,c.GT)(this,a.cT),s=(0,c.Bn)(i);r=(0,c.s3)([e,t],s)}}}return r},containsBound:(e,t)=>(0,c.Bn)(t).some(t=>e.containsPoint(t)),getNearestPoint(e,t){let i=(0,c.Bn)(t);return(0,c.$L)(i,e)},getLineIntersections(e,t,i){let s=(0,c.Bn)(i);return(0,c.Dx)(e,t,s)},getRelativePointLocation(e,t){let i=n.z.deserialize(t.xywh),s=i.getRelativePoint(e),o=(0,c.Hb)([s],i.center,t.rotate??0)[0],r=(0,c.Hb)(i.points,i.center,t.rotate??0),a=(0,c.W4)(r,o);return new l.S(o,a)}},triangle:p,ellipse:u,diamond:d};!function(e){e[e.LARGE=28]="LARGE",e[e.MEDIUM=20]="MEDIUM",e[e.SMALL=12]="SMALL",e[e.XLARGE=36]="XLARGE"}(s||(s={}));let v=20,y=(()=>{let e,t,i,n,l,c,d,h,u,p,y,b,w,x,_,C,k,S,M,E,I,B,$,T,O,P=o.iy,A=[],H=[],L=[],D=[],Z=[],j=[],V=[],R=[],z=[],F=[],N=[],q=[],U=[],W=[],G=[],Y=[],K=[],X=[],Q=[],J=[],ee=[],et=[],ei=[],es=[],eo=[],er=[],ea=[],en=[],el=[],ec=[],ed=[],eh=[],eu=[],ep=[],ef=[],eg=[],em=[],ev=[],ey=[],eb=[],ew=[],ex=[],e_=[],eC=[],ek=[],eS=[],eM=[],eE=[],eI=[],eB=[];return class extends P{static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(P[Symbol.metadata]??null):void 0;e=[(0,o.A1)("#000000")],t=[(0,o.A1)()],i=[(0,o.A1)()],n=[(0,o.A1)(a.ay.Inter)],l=[(0,o.A1)(s.MEDIUM)],c=[(0,o.A1)(a.zz.Normal)],d=[(0,o.A1)(a.IT.Regular)],h=[(0,o.A1)(!1)],u=[(0,o.A1)([10,v])],p=[(0,o.A1)()],y=[(0,o.A1)(0)],b=[(0,o.A1)(a.js)],w=[(0,o.A1)()],x=[(0,o.A1)("General")],_=[(0,o.A1)()],C=[(0,o.A1)()],k=[(0,o.A1)()],S=[(0,o.A1)()],M=[(0,o.A1)()],E=[(0,o.A1)(a.nO.Center)],I=[(0,o.sr)()],B=[(0,o.A1)(a.nO.Center)],$=[(0,o.A1)(a.bn.AUTO_HEIGHT)],T=[(0,o.A1)(a.f1.Center)],O=[(0,o.A1)()],f(this,null,e,{kind:"accessor",name:"color",static:!1,private:!1,access:{has:e=>"color"in e,get:e=>e.color,set:(e,t)=>{e.color=t}},metadata:r},A,H),f(this,null,t,{kind:"accessor",name:"fillColor",static:!1,private:!1,access:{has:e=>"fillColor"in e,get:e=>e.fillColor,set:(e,t)=>{e.fillColor=t}},metadata:r},L,D),f(this,null,i,{kind:"accessor",name:"filled",static:!1,private:!1,access:{has:e=>"filled"in e,get:e=>e.filled,set:(e,t)=>{e.filled=t}},metadata:r},Z,j),f(this,null,n,{kind:"accessor",name:"fontFamily",static:!1,private:!1,access:{has:e=>"fontFamily"in e,get:e=>e.fontFamily,set:(e,t)=>{e.fontFamily=t}},metadata:r},V,R),f(this,null,l,{kind:"accessor",name:"fontSize",static:!1,private:!1,access:{has:e=>"fontSize"in e,get:e=>e.fontSize,set:(e,t)=>{e.fontSize=t}},metadata:r},z,F),f(this,null,c,{kind:"accessor",name:"fontStyle",static:!1,private:!1,access:{has:e=>"fontStyle"in e,get:e=>e.fontStyle,set:(e,t)=>{e.fontStyle=t}},metadata:r},N,q),f(this,null,d,{kind:"accessor",name:"fontWeight",static:!1,private:!1,access:{has:e=>"fontWeight"in e,get:e=>e.fontWeight,set:(e,t)=>{e.fontWeight=t}},metadata:r},U,W),f(this,null,h,{kind:"accessor",name:"maxWidth",static:!1,private:!1,access:{has:e=>"maxWidth"in e,get:e=>e.maxWidth,set:(e,t)=>{e.maxWidth=t}},metadata:r},G,Y),f(this,null,u,{kind:"accessor",name:"padding",static:!1,private:!1,access:{has:e=>"padding"in e,get:e=>e.padding,set:(e,t)=>{e.padding=t}},metadata:r},K,X),f(this,null,p,{kind:"accessor",name:"radius",static:!1,private:!1,access:{has:e=>"radius"in e,get:e=>e.radius,set:(e,t)=>{e.radius=t}},metadata:r},Q,J),f(this,null,y,{kind:"accessor",name:"rotate",static:!1,private:!1,access:{has:e=>"rotate"in e,get:e=>e.rotate,set:(e,t)=>{e.rotate=t}},metadata:r},ee,et),f(this,null,b,{kind:"accessor",name:"roughness",static:!1,private:!1,access:{has:e=>"roughness"in e,get:e=>e.roughness,set:(e,t)=>{e.roughness=t}},metadata:r},ei,es),f(this,null,w,{kind:"accessor",name:"shadow",static:!1,private:!1,access:{has:e=>"shadow"in e,get:e=>e.shadow,set:(e,t)=>{e.shadow=t}},metadata:r},eo,er),f(this,null,x,{kind:"accessor",name:"shapeStyle",static:!1,private:!1,access:{has:e=>"shapeStyle"in e,get:e=>e.shapeStyle,set:(e,t)=>{e.shapeStyle=t}},metadata:r},ea,en),f(this,null,_,{kind:"accessor",name:"shapeType",static:!1,private:!1,access:{has:e=>"shapeType"in e,get:e=>e.shapeType,set:(e,t)=>{e.shapeType=t}},metadata:r},el,ec),f(this,null,C,{kind:"accessor",name:"strokeColor",static:!1,private:!1,access:{has:e=>"strokeColor"in e,get:e=>e.strokeColor,set:(e,t)=>{e.strokeColor=t}},metadata:r},ed,eh),f(this,null,k,{kind:"accessor",name:"strokeStyle",static:!1,private:!1,access:{has:e=>"strokeStyle"in e,get:e=>e.strokeStyle,set:(e,t)=>{e.strokeStyle=t}},metadata:r},eu,ep),f(this,null,S,{kind:"accessor",name:"strokeWidth",static:!1,private:!1,access:{has:e=>"strokeWidth"in e,get:e=>e.strokeWidth,set:(e,t)=>{e.strokeWidth=t}},metadata:r},ef,eg),f(this,null,M,{kind:"accessor",name:"text",static:!1,private:!1,access:{has:e=>"text"in e,get:e=>e.text,set:(e,t)=>{e.text=t}},metadata:r},em,ev),f(this,null,E,{kind:"accessor",name:"textAlign",static:!1,private:!1,access:{has:e=>"textAlign"in e,get:e=>e.textAlign,set:(e,t)=>{e.textAlign=t}},metadata:r},ey,eb),f(this,null,I,{kind:"accessor",name:"textDisplay",static:!1,private:!1,access:{has:e=>"textDisplay"in e,get:e=>e.textDisplay,set:(e,t)=>{e.textDisplay=t}},metadata:r},ew,ex),f(this,null,B,{kind:"accessor",name:"textHorizontalAlign",static:!1,private:!1,access:{has:e=>"textHorizontalAlign"in e,get:e=>e.textHorizontalAlign,set:(e,t)=>{e.textHorizontalAlign=t}},metadata:r},e_,eC),f(this,null,$,{kind:"accessor",name:"textResizing",static:!1,private:!1,access:{has:e=>"textResizing"in e,get:e=>e.textResizing,set:(e,t)=>{e.textResizing=t}},metadata:r},ek,eS),f(this,null,T,{kind:"accessor",name:"textVerticalAlign",static:!1,private:!1,access:{has:e=>"textVerticalAlign"in e,get:e=>e.textVerticalAlign,set:(e,t)=>{e.textVerticalAlign=t}},metadata:r},eM,eE),f(this,null,O,{kind:"accessor",name:"xywh",static:!1,private:!1,access:{has:e=>"xywh"in e,get:e=>e.xywh,set:(e,t)=>{e.xywh=t}},metadata:r},eI,eB),r&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static propsToY(e){return!e.text||e.text instanceof r.rl.Y.Text||(e.text=new r.rl.Y.Text(e.text)),e}containsBound(e){return m[this.shapeType].containsBound(e,this)}getLineIntersections(e,t){return m[this.shapeType].getLineIntersections(e,t,this)}getNearestPoint(e){return m[this.shapeType].getNearestPoint(e,this)}getRelativePointLocation(e){return m[this.shapeType].getRelativePointLocation(e,this)}includesPoint(e,t,i){return m[this.shapeType].includesPoint.call(this,e,t,{...i,ignoreTransparent:i.ignoreTransparent??!0})}get type(){return"shape"}#iw;get color(){return this.#iw}set color(e){this.#iw=e}#r8;get fillColor(){return this.#r8}set fillColor(e){this.#r8=e}#cC;get filled(){return this.#cC}set filled(e){this.#cC=e}#rI;get fontFamily(){return this.#rI}set fontFamily(e){this.#rI=e}#ck;get fontSize(){return this.#ck}set fontSize(e){this.#ck=e}#rB;get fontStyle(){return this.#rB}set fontStyle(e){this.#rB=e}#r$;get fontWeight(){return this.#r$}set fontWeight(e){this.#r$=e}#cS;get maxWidth(){return this.#cS}set maxWidth(e){this.#cS=e}#em;get padding(){return this.#em}set padding(e){this.#em=e}#i6;get radius(){return this.#i6}set radius(e){this.#i6=e}#co;get rotate(){return this.#co}set rotate(e){this.#co=e}#cv;get roughness(){return this.#cv}set roughness(e){this.#cv=e}#tK;get shadow(){return this.#tK}set shadow(e){this.#tK=e}#r5;get shapeStyle(){return this.#r5}set shapeStyle(e){this.#r5=e}#r9;get shapeType(){return this.#r9}set shapeType(e){this.#r9=e}#oZ;get strokeColor(){return this.#oZ}set strokeColor(e){this.#oZ=e}#oj;get strokeStyle(){return this.#oj}set strokeStyle(e){this.#oj=e}#oV;get strokeWidth(){return this.#oV}set strokeWidth(e){this.#oV=e}#tu;get text(){return this.#tu}set text(e){this.#tu=e}#cM;get textAlign(){return this.#cM}set textAlign(e){this.#cM=e}#cE;get textDisplay(){return this.#cE}set textDisplay(e){this.#cE=e}#cI;get textHorizontalAlign(){return this.#cI}set textHorizontalAlign(e){this.#cI=e}#cB;get textResizing(){return this.#cB}set textResizing(e){this.#cB=e}#c$;get textVerticalAlign(){return this.#c$}set textVerticalAlign(e){this.#c$=e}#cr;get xywh(){return this.#cr}set xywh(e){this.#cr=e}constructor(){super(...arguments),this.textBound=null,this.#iw=g(this,A,void 0),this.#r8=(g(this,H),g(this,L,"--affine-palette-shape-yellow")),this.#cC=(g(this,D),g(this,Z,!1)),this.#rI=(g(this,j),g(this,V,void 0)),this.#ck=(g(this,R),g(this,z,void 0)),this.#rB=(g(this,F),g(this,N,void 0)),this.#r$=(g(this,q),g(this,U,void 0)),this.#cS=(g(this,W),g(this,G,!1)),this.#em=(g(this,Y),g(this,K,[10,v])),this.#i6=(g(this,X),g(this,Q,0)),this.#co=(g(this,J),g(this,ee,0)),this.#cv=(g(this,et),g(this,ei,a.js)),this.#tK=(g(this,es),g(this,eo,null)),this.#r5=(g(this,er),g(this,ea,"General")),this.#r9=(g(this,en),g(this,el,"rect")),this.#oZ=(g(this,ec),g(this,ed,"--affine-palette-line-yellow")),this.#oj=(g(this,eh),g(this,eu,a.u1.Solid)),this.#oV=(g(this,ep),g(this,ef,4)),this.#tu=(g(this,eg),g(this,em,void 0)),this.#cM=(g(this,ev),g(this,ey,void 0)),this.#cE=(g(this,eb),g(this,ew,!0)),this.#cI=(g(this,ex),g(this,e_,void 0)),this.#cB=(g(this,eC),g(this,ek,a.bn.AUTO_HEIGHT)),this.#c$=(g(this,eS),g(this,eM,void 0)),this.#cr=(g(this,eE),g(this,eI,"[0,0,100,100]")),g(this,eB)}}})()},9441:(e,t,i)=>{i.d(t,{n:()=>h});var s=i(1126),o=i(94098),r=i(73711),a=i(16019),n=i(11559),l=i(31999),c=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},d=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let h=(()=>{let e,t,i,h,u,p,f,g,m,v,y=l.nz,b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[],O=[],P=[],A=[],H=[],L=[],D=[],Z=[];return class extends y{static{let o="function"==typeof Symbol&&Symbol.metadata?Object.create(y[Symbol.metadata]??null):void 0;e=[(0,s.A1)()],t=[(0,s.A1)()],i=[(0,s.A1)()],h=[(0,s.A1)(a.zz.Normal)],u=[(0,s.A1)(a.IT.Regular)],p=[(0,s.A1)(!1)],f=[(0,s.A1)(0)],g=[(0,s.A1)()],m=[(0,s.A1)()],v=[(0,s.A1)()],c(this,null,e,{kind:"accessor",name:"color",static:!1,private:!1,access:{has:e=>"color"in e,get:e=>e.color,set:(e,t)=>{e.color=t}},metadata:o},b,w),c(this,null,t,{kind:"accessor",name:"fontFamily",static:!1,private:!1,access:{has:e=>"fontFamily"in e,get:e=>e.fontFamily,set:(e,t)=>{e.fontFamily=t}},metadata:o},x,_),c(this,null,i,{kind:"accessor",name:"fontSize",static:!1,private:!1,access:{has:e=>"fontSize"in e,get:e=>e.fontSize,set:(e,t)=>{e.fontSize=t}},metadata:o},C,k),c(this,null,h,{kind:"accessor",name:"fontStyle",static:!1,private:!1,access:{has:e=>"fontStyle"in e,get:e=>e.fontStyle,set:(e,t)=>{e.fontStyle=t}},metadata:o},S,M),c(this,null,u,{kind:"accessor",name:"fontWeight",static:!1,private:!1,access:{has:e=>"fontWeight"in e,get:e=>e.fontWeight,set:(e,t)=>{e.fontWeight=t}},metadata:o},E,I),c(this,null,p,{kind:"accessor",name:"hasMaxWidth",static:!1,private:!1,access:{has:e=>"hasMaxWidth"in e,get:e=>e.hasMaxWidth,set:(e,t)=>{e.hasMaxWidth=t}},metadata:o},B,$),c(this,null,f,{kind:"accessor",name:"rotate",static:!1,private:!1,access:{has:e=>"rotate"in e,get:e=>e.rotate,set:(e,t)=>{e.rotate=t}},metadata:o},T,O),c(this,null,g,{kind:"accessor",name:"text",static:!1,private:!1,access:{has:e=>"text"in e,get:e=>e.text,set:(e,t)=>{e.text=t}},metadata:o},P,A),c(this,null,m,{kind:"accessor",name:"textAlign",static:!1,private:!1,access:{has:e=>"textAlign"in e,get:e=>e.textAlign,set:(e,t)=>{e.textAlign=t}},metadata:o},H,L),c(this,null,v,{kind:"accessor",name:"xywh",static:!1,private:!1,access:{has:e=>"xywh"in e,get:e=>e.xywh,set:(e,t)=>{e.xywh=t}},metadata:o},D,Z),o&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}static propsToY(e){return!e.text||e.text instanceof r.rl.Y.Text||(e.text=new r.rl.Y.Text(e.text)),e}containsBound(e){return(0,n.Bn)(this).some(t=>e.containsPoint(t))}getLineIntersections(e,t){let i=(0,n.Bn)(this);return(0,n.Dx)(e,t,i)}getNearestPoint(e){return(0,n.$L)(o.z.deserialize(this.xywh).points,e)}includesPoint(e,t){let i=(0,n.Bn)(this);return(0,n.s3)([e,t],i)}get type(){return"text"}#iw=d(this,b,"#000000");get color(){return this.#iw}set color(e){this.#iw=e}#rI=(d(this,w),d(this,x,a.ay.Inter));get fontFamily(){return this.#rI}set fontFamily(e){this.#rI=e}#ck=(d(this,_),d(this,C,16));get fontSize(){return this.#ck}set fontSize(e){this.#ck=e}#rB=(d(this,k),d(this,S,a.zz.Normal));get fontStyle(){return this.#rB}set fontStyle(e){this.#rB=e}#r$=(d(this,M),d(this,E,a.IT.Regular));get fontWeight(){return this.#r$}set fontWeight(e){this.#r$=e}#cT=(d(this,I),d(this,B,!1));get hasMaxWidth(){return this.#cT}set hasMaxWidth(e){this.#cT=e}#co=(d(this,$),d(this,T,0));get rotate(){return this.#co}set rotate(e){this.#co=e}#tu=(d(this,O),d(this,P,new r.rl.Y.Text));get text(){return this.#tu}set text(e){this.#tu=e}#cM=(d(this,A),d(this,H,a.nO.Center));get textAlign(){return this.#cM}set textAlign(e){this.#cM=e}#cr=(d(this,L),d(this,D,"[0,0,16,16]"));get xywh(){return this.#cr}set xywh(e){this.#cr=e}constructor(){super(...arguments),d(this,Z)}}})()},84549:(e,t,i)=>{i.d(t,{Zp:()=>d,p5:()=>s});var s,o=i(94098);!function(e){e[e.BALANCE=2]="BALANCE",e[e.LEFT=1]="LEFT",e[e.RIGHT=0]="RIGHT"}(s||(s={}));let r=(e,t=!1,i)=>{let s=e.element.elementBound,a=[];if(i=i??e.children){let e=i.reduce((e,t)=>{let i=r(t);return a.push(i),e.w=Math.max(e.w,i.bound.w),e.h+=e.h>0?45+i.bound.h:i.bound.h,e},new o.z(0,0,0,0));s.w+=e.w+(t?200:110),s.h=Math.max(s.h,e.h)}return{root:e,bound:s,children:a}},a=(e,t,i,o=[0],r)=>{let n=1===o.length,l=e.bound.h,c=t===s.RIGHT?e.root.element.x+e.root.element.w+(n?200:110):e.root.element.x-(n?200:110),d=e.root.element.y+(e.root.element.h-l)/2;if(e.root.element.h>=l&&e.children.length){let t=e.children[0];d+=(e.root.element.h-t.root.element.h)/2}e.children.forEach((e,n)=>{let l=e.root.element,h=e.bound.h,u=`[${t===s.RIGHT?c:c-l.w},${d+(h-l.h)/2},${l.w},${l.h}]`,p=[...o,n=r?r.indexOf(e):n];l.xywh=u,a(e,t,i,p),d+=h+45})},n=(e,t,i=[0])=>{a(r(e,!0),s.RIGHT,t,i)},l=(e,t,i=[0])=>{a(r(e,!0),s.LEFT,t,i)},c=(e,t,i=[0])=>{let o=r(e,!0),n=e.left,l=e.right;{let l=r(e,!0,n),c={root:o.root,bound:l.bound,children:l.children};a(c,s.LEFT,t,i,c.children)}{let i=r(e,!0,l),n={root:o.root,bound:i.bound,children:i.children};a(n,s.RIGHT,t,[0],n.children)}},d=(e,t,i,o)=>{switch(i=i??t.layoutType){case s.RIGHT:return n(e,t,o);case s.LEFT:return l(e,t,o);case s.BALANCE:return c(e,t,o)}}},54074:(e,t,i)=>{i.d(t,{Yt:()=>f,cy:()=>s,qj:()=>p});var s,o=i(62602),r=i(49210),a=i(16019),n=i(68192);class l{}let c=new class extends l{constructor(){super(...arguments),this._colorOrders=["--affine-palette-line-purple","--affine-palette-line-magenta","--affine-palette-line-orange","--affine-palette-line-yellow","--affine-palette-line-green","#7ae2d5"],this.root={radius:8,strokeWidth:4,strokeColor:"#84CFFF",fontFamily:a.ay.Poppins,fontSize:20,fontWeight:a.IT.SemiBold,color:"--affine-black",filled:!0,fillColor:"--affine-white",padding:[11,22],shadow:{offsetX:0,offsetY:6,blur:12,color:"rgba(0, 0, 0, 0.14)"}}}_getColor(e){return this._colorOrders[e%this._colorOrders.length]}getNodeStyle(e,t){let i=this._getColor(t[1]??0);return{connector:{strokeStyle:a.u1.Solid,stroke:i,strokeWidth:3,mode:n.B1.Curve},node:{radius:8,strokeWidth:3,strokeColor:i,fontFamily:a.ay.Poppins,fontSize:16,fontWeight:a.IT.Medium,color:"--affine-black",filled:!0,fillColor:"--affine-white",padding:[6,22],shadow:{offsetX:0,offsetY:6,blur:12,color:"rgba(0, 0, 0, 0.14)"}}}}},d=new class extends l{constructor(){super(...arguments),this._colorOrders=["--affine-palette-shape-blue","#7ae2d5","--affine-palette-shape-yellow"],this.root={radius:3,strokeWidth:3,strokeColor:"--affine-black",fontFamily:a.ay.Poppins,fontSize:18,fontWeight:a.IT.SemiBold,color:"--affine-palette-shape-black",filled:!0,fillColor:"--affine-palette-shape-orange",padding:[11,22],shadow:{blur:0,offsetX:3,offsetY:3,color:"--affine-black"}}}_getColor(e){return e>=this._colorOrders.length?(0,o.HV)(this._colorOrders):this._colorOrders[e]}getNodeStyle(e,t){let i=this._getColor(t.length-2);return{connector:{strokeStyle:a.u1.Solid,stroke:"--affine-black",strokeWidth:3,mode:n.B1.Orthogonal},node:{radius:3,strokeWidth:3,strokeColor:"--affine-black",fontFamily:a.ay.Poppins,fontSize:16,fontWeight:a.IT.SemiBold,color:"--affine-palette-shape-black",filled:!0,fillColor:i,padding:[6,22],shadow:{blur:0,offsetX:3,offsetY:3,color:"--affine-black"}}}}},h=new class extends l{constructor(){super(...arguments),this._strokeColor=["--affine-palette-line-yellow","--affine-palette-line-green","--affine-palette-line-teal"],this.root={radius:10,strokeWidth:0,strokeColor:"transparent",fontFamily:a.ay.Poppins,fontSize:16,fontWeight:a.IT.Medium,color:"--affine-palette-shape-black",filled:!0,fillColor:"--affine-palette-shape-yellow",padding:[10,22],shadow:{blur:12,offsetX:0,offsetY:0,color:"rgba(66, 65, 73, 0.18)"}}}_getColor(e){return this._strokeColor[e%this._strokeColor.length]}getNodeStyle(e,t){let i=this._getColor(t.length-2);return{node:{radius:10,strokeWidth:0,strokeColor:"transparent",fontFamily:a.ay.Poppins,fontSize:16,fontWeight:a.IT.Medium,color:"--affine-palette-shape-black",filled:!0,fillColor:"--affine-palette-shape-white",padding:[6,22],shadow:{blur:12,offsetX:0,offsetY:0,color:"rgba(66, 65, 73, 0.18)"}},connector:{strokeStyle:a.u1.Solid,stroke:i,strokeWidth:2,mode:n.B1.Curve}}}},u=new class extends l{constructor(){super(...arguments),this._colors=["--affine-palette-shape-purple","--affine-palette-shape-magenta","--affine-palette-shape-orange","--affine-palette-shape-yellow","--affine-palette-shape-green","--affine-palette-shape-blue"],this.root={radius:0,strokeWidth:0,strokeColor:"transparent",fontFamily:a.ay.Kalam,fontSize:22,fontWeight:a.IT.Bold,color:"--affine-black",filled:!0,fillColor:"transparent",padding:[0,10]}}_getColor(e){return this._colors[e%this._colors.length]}getNodeStyle(e,t){let i=this._getColor(t[1]??0);return{connector:{strokeStyle:a.u1.Solid,stroke:i,strokeWidth:3,mode:n.B1.Curve},node:{...this.root,fontSize:18,padding:[1.5,10]}}}};!function(e){e[e.FOUR=4]="FOUR",e[e.ONE=1]="ONE",e[e.THREE=3]="THREE",e[e.TWO=2]="TWO"}(s||(s={}));let p={[s.ONE]:c,[s.TWO]:d,[s.THREE]:h,[s.FOUR]:u},f=(e,t,i=!1)=>{Object.entries(t).forEach(([t,i])=>{e.element[t]!==i&&(e.element[t]=i)}),i&&(0,r.hw)(e.element)}},39099:(e,t,i)=>{i.d(t,{IO:()=>s,PU:()=>l,S5:()=>c,SO:()=>n,_6:()=>o,d:()=>a,qV:()=>h,qj:()=>u,vt:()=>d});var s,o,r=i(60019);!function(e){e.Diamond="diamond",e.Ellipse="ellipse",e.Rect="rect",e.Triangle="triangle"}(s||(s={})),function(e){e[e.LARGE=28]="LARGE",e[e.MEDIUM=20]="MEDIUM",e[e.SMALL=12]="SMALL",e[e.XLARGE=36]="XLARGE"}(o||(o={}));let a=["--affine-palette-shape-yellow","--affine-palette-shape-orange","--affine-palette-shape-red","--affine-palette-shape-magenta","--affine-palette-shape-purple","--affine-palette-shape-blue","--affine-palette-shape-teal","--affine-palette-shape-green","--affine-palette-shape-black","--affine-palette-shape-grey","--affine-palette-shape-white"],n=a[0],l=(0,r.xK)(a),c=["--affine-palette-line-yellow","--affine-palette-line-orange","--affine-palette-line-red","--affine-palette-line-magenta","--affine-palette-line-purple","--affine-palette-line-blue","--affine-palette-line-teal","--affine-palette-line-green","--affine-palette-line-black","--affine-palette-line-grey","--affine-palette-line-white"],d=c[0],h=c[8],u=(0,r.xK)(c)},18513:(e,t,i)=>{i.d(t,{BP:()=>b,IV:()=>T,ML:()=>v,SP:()=>m,TG:()=>$,Zv:()=>g});var s=i(31716),o=i(94098),r=i(96458),a=i(71006),n=i(62602),l=i(64369),c=i(68192),d=i(26739),h=i(40907),u=i(61677),p=i(75510),f=i(11559);let g=[[.5,0],[1,.5],[.5,1],[0,.5]],m=[[.5,0],[.75,.5],[.5,1],[.25,.5]];function v(e,t,i=g,o=Number.POSITIVE_INFINITY){let{x:r,y:a,w:n,h:l}=t;return i.map(e=>[r+e[0]*n,a+e[1]*l]).map(e=>(0,f.Cs)(t,e)).reduce((t,r,a)=>{let n=s.l.dist(e,r);if(n<o){let e=i[a];o=n,t[0]=e[0],t[1]=e[1]}return t},[...i[0]])}function y(e,t=!1){return{...o.z.deserialize(e.xywh),rotate:t?-e.rotate:e.rotate}}function b(e,t){if(!t.find(t=>t.id===e.id))return!1;let{source:i,target:s}=e,o=t.find(e=>e.id===i?.id),r=t.find(e=>e.id===s?.id);return!i.id&&!s.id||!i.id&&!!r||!s.id&&!!o||!!o&&!!r}function w(e){let t=o.z.deserialize(e.xywh),i=[],s=e.rotate;return[[t.center[0],t.y-10],[t.center[0],t.maxY+10],[t.x-10,t.center[1]],[t.maxX+10,t.center[1]]].map(e=>(0,f.Cs)({...t,rotate:s},e)).forEach(o=>{let r=e.getLineIntersections(t.center,o);(0,a.Z1)(r);let n=(0,f.Cs)({...t,rotate:-s},r[0]);i.push({point:r[0],coord:t.toRelative(n)})}),i}function x(e,t){return function(e,t){let i=e.map(e=>({p:e,d:s.l.dist(e,t)}));return i.sort((e,t)=>e.d-t.d),i[0].p}(w(e).map(e=>e.point),t)}function _(e){return[Number(e[0].toFixed(2)),Number(e[1].toFixed(2)),e[2]??0]}function C(e,t){return e.filter(e=>!t||!t.isPointInBound(e))}function k(e,t,i=0){e.push(...t.map(e=>[...e,i]))}function S(e,t,i,s=0){let o=(0,f.$B)(t[0],t[1],i[0],i[1],!0);o&&k(e,[o],s)}function M(e,t,i,s,o){if(t.maxX<i.x){let r=(t.maxX+i.x)/2;[s.horizontalLine,o.horizontalLine,s.upperLine,s.lowerLine,o.upperLine,o.lowerLine].forEach((t,i)=>{S(e,t,[[r,0],[r,1]],0===i||1===i?6:3)})}if(t.maxY<i.y){let r=(t.maxY+i.y)/2;[s.verticalLine,o.verticalLine,s.leftLine,s.rightLine,o.leftLine,o.rightLine].forEach((t,i)=>{S(e,t,[[0,r],[1,r]],0===i||1===i?6:3)})}}function E(e,t,i,o,r,a){if((0,f.f3)(t[1],i.y,.02)||(0,f.f3)(t[1],i.maxY,.02)){let n=[i.upperLine,i.lowerLine,o.upperLine,o.lowerLine].map(e=>(0,f.$B)(t,[t[0],t[1]+1],e[0],e[1],!0));n.sort((e,t)=>e[1]-t[1]);let l=s.l.lrp(n[1],n[2],.5);k(e,[l],6),[r.leftLine,r.rightLine,a.leftLine,a.rightLine].forEach(t=>{S(e,[l,[l[0]+1,l[1]]],t,0)})}else{let n=[i.leftLine,i.rightLine,o.leftLine,o.rightLine].map(e=>(0,f.$B)(t,[t[0]+1,t[1]],e[0],e[1],!0));n.sort((e,t)=>e[0]-t[0]);let l=s.l.lrp(n[1],n[2],.5);k(e,[l],6),[r.upperLine,r.lowerLine,a.upperLine,a.lowerLine].forEach(t=>{S(e,[l,[l[0],l[1]+1]],t,0)})}}function I(e,t,i=10,o=10,r=10,n=10){let l=Array.from(t);if((0,f.f3)(e.x,l[0]))l[0]-=i;else if((0,f.f3)(e.y,l[1]))l[1]-=o;else if((0,f.f3)(e.maxX,l[0]))l[0]+=r;else if((0,f.f3)(e.maxY,l[1]))l[1]+=n;else{let r=s.l.normalize(s.l.sub(l,e.center)),n=r[0]>0?1:-1,c=r[1]>0?1:-1;if(0==(Math.abs(t.tangent[0])<Math.abs(t.tangent[1])?0:1)){if(n>0){let t=(0,f.$B)(e.rightLine[0],e.rightLine[1],l,[e.maxX+10,l[1]]);(0,a.Z1)(t),l[0]=t[0]+i}else{let t=(0,f.$B)(e.leftLine[0],e.leftLine[1],l,[e.x-10,l[1]]);(0,a.Z1)(t),l[0]=t[0]-i}}else if(c>0){let t=(0,f.$B)(e.lowerLine[0],e.lowerLine[1],l,[l[0],e.maxY+10]);(0,a.Z1)(t),l[1]=t[1]+o}else{let t=(0,f.$B)(e.upperLine[0],e.upperLine[1],l,[l[0],e.y-10]);(0,a.Z1)(t),l[1]=t[1]-o}}return l}function B(e,t,i,s){let{x:o,y:r,w:a,h:n}=t;e.save(),e.beginPath(),e.strokeStyle=i,e.lineWidth=s,e.setLineDash([2*s,2*s]),e.strokeRect(o,r,a,n),e.closePath(),e.restore()}class $ extends l.h{constructor(e){super(),this._service=e,this.highlightPoint=null,this.points=[],this.sourceBounds=null,this.targetBounds=null}_clearRect(){this.points=[],this.highlightPoint=null,this._renderer?.refresh()}_findConnectablesInViews(){let e=this._service,t=this._service.viewport.viewportBounds;return e.pickElementsByBound(t).filter(e=>e.connectable)}clear(){this.sourceBounds=null,this.targetBounds=null,this._clearRect()}render(e){let t=this._service.viewport.zoom,i=5/t,s=getComputedStyle(this._service.host).getPropertyValue("--affine-text-emphasis-color");e.globalAlpha=.6;let o=1/t;this.sourceBounds&&B(e,this.sourceBounds,s,o),this.targetBounds&&B(e,this.targetBounds,s,o),o=2/t,this.points.forEach(t=>{e.beginPath(),e.arc(t[0],t[1],i,0,f.uA),e.fillStyle="white",e.strokeStyle=s,e.lineWidth=o,e.fill(),e.stroke(),e.closePath()}),e.globalAlpha=1,this.highlightPoint&&(e.beginPath(),e.arc(this.highlightPoint[0],this.highlightPoint[1],i,0,f.uA),e.fillStyle=s,e.strokeStyle=s,e.lineWidth=o,e.fill(),e.stroke(),e.closePath())}renderConnector(e,t=[]){let i;let r=this._findConnectablesInViews(),a=this._service;this._clearRect();let n=null;for(let l=0;l<r.length;l++){let c=r[l];if(t.includes(c.id))continue;let d=o.z.deserialize(c.xywh);if(!o.z.from((0,f.e0)(y(c))).expand(10).isPointInBound(e))continue;let h=w(c),u=h.length,p=a.viewport.toViewCoord(e[0],e[1]),g=Number.POSITIVE_INFINITY,m=0;for(this.points=h.map(e=>e.point);m<u;m++){let e=h[m],t=a.viewport.toViewCoord(e.point[0],e.point[1]),o=s.l.dist(t,p);o<g&&(g=o,i=c,this.highlightPoint=e.point,n={id:c.id,position:e.coord})}if(g<8&&n)break;let v=c.getNearestPoint(e);if(8>s.l.dist(v,e)){this.highlightPoint=v;let e=(0,f.Cs)(y(c,!0),v);this._renderer?.refresh(),i=c,n={id:c.id,position:d.toRelative(e).map(e=>(0,f.qE)(e,0,1))}}if(n)break;c.includesPoint(e[0],e[1],{ignoreTransparent:!1},this._service.host)&&(i=c,n={id:c.id})}return i instanceof d.$?this.targetBounds=o.z.deserialize(i.xywh):this.targetBounds=null,n||(n={position:e}),this._renderer?.refresh(),n}}class T{constructor(e){this.options=e,this._aStarRunner=null}_computeStartEndPoint(e){let t,i;let{source:o,target:n}=e,l=this._getConnectorEndElement(e,"source"),c=this._getConnectorEndElement(e,"target");if(o.id&&!o.position&&n.id&&!n.position){(0,a.Z1)(l),(0,a.Z1)(c);let e=w(l),o=w(c),n=1/0,d=new r.S,h=new r.S;for(let t of e)for(let e of o){let i=s.l.dist(t.point,e.point);i+.1<n&&(n=i,d=t.point,h=e.point)}t=d,i=h}else t=this._getConnectionPoint(e,"source"),i=this._getConnectionPoint(e,"target");return[t,i]}_generateConnectorPath(e){let{mode:t}=e;if(t===c.B1.Straight)return this._generateStraightConnectorPath(e);if(t===c.B1.Orthogonal){let t=this._getConnectorEndElement(e,"source"),i=this._getConnectorEndElement(e,"target"),[s,a]=this._computeStartEndPoint(e),n=t?o.z.from((0,f.e0)(y(t))):null,l=i?o.z.from((0,f.e0)(y(i))):null;return this.generateOrthogonalConnectorPath({startPoint:s,endPoint:a,startBound:n,endBound:l}).map(e=>new r.S(e))}if(t===c.B1.Curve)return this._generateCurveConnectorPath(e);throw Error("unknown connector mode")}_generateCurveConnectorPath(e){let{source:t,target:i}=e;if(t.id||i.id){let r,a;if(t.position||i.position)r=this._getConnectionPoint(e,"source"),a=this._getConnectionPoint(e,"target");else{let t=this._getConnectorEndElement(e,"source"),i=this._getConnectorEndElement(e,"target"),s=o.z.deserialize(t.xywh);r=x(t,o.z.deserialize(i.xywh).center),a=x(i,s.center)}if(t.id){let e=s.l.rot(r.tangent,-Math.PI/2);r.out=s.l.mul(e,Math.max(100,Math.abs(s.l.pry(s.l.sub(a,r),e))/3))}if(i.id){let e=s.l.rot(a.tangent,-Math.PI/2);a.in=s.l.mul(e,Math.max(100,Math.abs(s.l.pry(s.l.sub(r,a),e))/3))}return[r,a]}{let t=this._getConnectionPoint(e,"target"),i=this._getConnectionPoint(e,"source");return Math.abs(t[0]-i[0])>Math.abs(t[1]-i[1])?(i.out=[s.l.mul(s.l.sub(t,i),2/3)[0],0],t.in=[s.l.mul(s.l.sub(i,t),2/3)[0],0]):(i.out=[0,s.l.mul(s.l.sub(t,i),2/3)[1]],t.in=[0,s.l.mul(s.l.sub(i,t),2/3)[1]]),[i,t]}}_generateStraightConnectorPath(e){let{source:t,target:i}=e;if(t.id&&!t.position&&i.id&&!i.position){let t=this._getConnectorEndElement(e,"source"),i=this._getConnectorEndElement(e,"target"),s=o.z.deserialize(t.xywh);return[x(t,o.z.deserialize(i.xywh).center),x(i,s.center)]}{let t=this._getConnectionPoint(e,"target"),i=this._getConnectionPoint(e,"source");return(i&&t&&[i,t])??[]}}_getConnectionPoint(e,t){let i=e[t];if(!i.id)return(0,a.Z1)(i.position),r.S.fromVec(i.position);{let o=this._getConnectorEndElement(e,t);return((0,a.Z1)(o),i.position)?function(e,t){let i=e.getRelativePointLocation(t);return(0,f.Lo)(s.l.sub(t,[0,.5]))?i.tangent=s.l.rot([0,-1],(0,f.DF)(e.rotate)):(0,f.Lo)(s.l.sub(t,[1,.5]))?i.tangent=s.l.rot([0,1],(0,f.DF)(e.rotate)):(0,f.Lo)(s.l.sub(t,[.5,0]))?i.tangent=s.l.rot([1,0],(0,f.DF)(e.rotate)):(0,f.Lo)(s.l.sub(t,[.5,1]))&&(i.tangent=s.l.rot([-1,0],(0,f.DF)(e.rotate))),i}(o,i.position):x(o,this._getConnectionPoint(e,"source"===t?"target":"source"))}}_getConnectorEndElement(e,t){let i=e[t].id;return i?this.options.getElementById(i):null}_prepareOrthogonalConnectorInfo(e){let{startBound:t,endBound:i,startPoint:o,endPoint:r}=e,[a,n]=function(e,t){let i;let o=[20,20,20,20],r=[20,20,20,20];if(!(e&&t))return[o,r];let a=(0,f.s5)(e.upperLine,t.lowerLine,0,!1);return a&&e.upperLine[0][1]>t.lowerLine[0][1]&&(i=s.l.distanceToLineSegment(e.upperLine[0],e.upperLine[1],t.lowerLine[0],!1),o[1]=Math.max(Math.min(i/2,o[1]),0)),(a=(0,f.s5)(e.rightLine,t.leftLine,1,!1))&&e.rightLine[0][0]<t.leftLine[0][0]&&(i=s.l.distanceToLineSegment(e.rightLine[0],e.rightLine[1],t.leftLine[0],!1),o[2]=Math.max(Math.min(i/2,o[2]),0)),(a=(0,f.s5)(e.lowerLine,t.upperLine,0,!1))&&e.lowerLine[0][1]<t.upperLine[0][1]&&(i=s.l.distanceToLineSegment(e.lowerLine[0],e.lowerLine[1],t.upperLine[0],!1),o[3]=Math.max(Math.min(i/2,o[3]),0)),o[0]=r[2]=0===Math.min(o[0],r[2])?20:Math.min(o[0],r[2]),o[1]=r[3]=0===Math.min(o[1],r[3])?20:Math.min(o[1],r[3]),o[2]=r[0]=0===Math.min(o[2],r[0])?20:Math.min(o[2],r[0]),o[3]=r[1]=0===Math.min(o[3],r[1])?20:Math.min(o[3],r[1]),[o,r]}(t,i),[l,c]=[t&&a?I(t,o,a[0],a[1],a[2],a[3]):o,i&&n?I(i,r,n[0],n[1],n[2],n[3]):r],d=t?t.expand(a[0],a[1],a[2],a[3]):null,h=i?i.expand(n[0],n[1],n[2],n[3]):null;return[o,r,l,c,t,i,d,h]}generateOrthogonalConnectorPath(e){let t=this._prepareOrthogonalConnectorInfo(e),[i,r,l,c]=t,[,,,,d,u,p,g]=t,m=[],v=[];if(d&&m.push(d.clone()),u&&m.push(u.clone()),p&&v.push(p.clone()),g&&v.push(g.clone()),d&&u&&d.isPointInBound(r)&&u.isPointInBound(i)||d&&p?.isPointInBound(r,0)||u&&g?.isPointInBound(i,0))return function(e,t){if((0,f.f3)(e[0],t[0],.02)||(0,f.f3)(e[1],t[1],.02))return[e,t];{let i=s.l.sub(t,e),o=[e[0],e[1]+i[1]];return[e,o,t]}}(i,r);let y=function(e,t,i,s,r,n,l,c){let d=_(e),h=_(t),u=_(i),p=_(s),g=function(e,t,i,s,r,n,l,c){let d=o.z.fromPoints([e,t]),h=l&&c&&l.unite(c),u=[i,s];if(k(u,d.getVerticesAndMidpoints()),r&&n||k(u,[d.center],3),h){var p;p=u,l&&c&&h&&(k(p,h.getVerticesAndMidpoints()),k(p,[h.center],2),[l.upperLine,l.horizontalLine,l.lowerLine,c.upperLine,c.horizontalLine,c.lowerLine].forEach(e=>{S(p,e,h.leftLine,0),S(p,e,h.rightLine,0)}),[l.leftLine,l.verticalLine,l.rightLine,c.leftLine,c.verticalLine,c.rightLine].forEach(e=>{S(p,e,h.upperLine,0),S(p,e,h.lowerLine,0)}))}r&&n&&((0,a.Z1)(l),(0,a.Z1)(c),E(u,e,r,n,l,c),E(u,t,n,r,c,l),M(u,r,n,l,c),M(u,n,r,c,l)),l&&(k(u,l.getVerticesAndMidpoints()),k(u,l.include(s).points)),c&&(k(u,c.getVerticesAndMidpoints()),k(u,c.include(i).points));let g=(u=function(e){(e=e.map(_)).sort((e,t)=>e[0]-t[0]),(0,a.j)(e);for(let t=1;t<e.length-1;t++){let i=e[t],s=e[t-1];(0,f.f3)(i[0],s[0],.02)&&(i[0]=s[0])}e.sort((e,t)=>e[1]-t[1]);for(let t=1;t<e.length-1;t++){let i=e[t],s=e[t-1];(0,f.f3)(i[1],s[1],.02)&&(i[1]=s[1])}e.sort((e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:e[1]<t[1]?-1:e[1]>t[1]?1:0);for(let t=1;t<e.length;t++){let i=e[t],s=e[t-1];if((0,f.f3)(i[0],s[0],.02)&&(0,f.f3)(i[1],s[1],.02)){i[2]<=s[2]?e.splice(t,1):e.splice(t-1,1),t--;continue}}return e}(u)).map(e=>e[0]+","+e[1]).sort();g.forEach((e,t)=>{if(0!==t&&e===g[t-1])throw Error("duplicate point")});let m=[i,s].map(e=>u.find(t=>(0,f.f3)(t[0],e[0],.02)&&(0,f.f3)(t[1],e[1],.02)));return(0,a.Z1)(m[0]),(0,a.Z1)(m[1]),{points:u,nextStartPoint:m[0],lastEndPoint:m[1]}}(d,h,u,p,r,n,l,c),m=g.points;return u=g.nextStartPoint,p=g.lastEndPoint,[C(C(m,l?.expand(-1)??null),c?.expand(-1)??null),d,h,u,p]}(i,r,l,c,d,u,p,g),b=y[0],[,w,x,I,B]=y;!function(e,t,i=null,s=null){s||(Math.abs(t[0]-e[0])>Math.abs(t[1]-e[1])?t[0]+=20*(0,f._S)(t[0]-e[0]):t[1]+=20*(0,f._S)(t[1]-e[1])),i||(Math.abs(t[0]-e[0])>Math.abs(t[1]-e[1])?e[0]-=20*(0,f._S)(t[0]-e[0]):e[1]-=20*(0,f._S)(t[1]-e[1]))}(w,x,d,u),this._aStarRunner=new h.w(b,I,B,w,x,m,v),this._aStarRunner.run();let $=this._aStarRunner.path;return u||$.pop(),d||$.shift(),function(e){if(0===e.length)return[];let t=[[e[0][0],e[0][1]]];for(let i=1;i<e.length-1;i++){let s=e[i],o=e[i-1],r=e[i+1];!((0,f.f3)(o[0],s[0],.02)&&(0,f.f3)(s[0],r[0],.02))&&((0,f.f3)(o[1],s[1],.02)&&(0,f.f3)(s[1],r[1],.02)||t.push([s[0],s[1]]))}t.push((0,n.HV)(e));for(let i=0;i<t.length-1;i++){let s=t[i],o=t[i+1];try{(0,a.U2)((0,f.f3)(s[0],o[0],.02)||(0,f.f3)(s[1],o[1],.02),!0)}catch(i){console.warn(e),console.warn(t)}}return t}($)}hasRelatedElement(e){let{source:t,target:i}=e;return(!t.id||!!this.options.getElementById(t.id))&&(!i.id||!!this.options.getElementById(i.id))}updatePath(e,t){let i=t??this._generateConnectorPath(e)??[],o=e.mode===c.B1.Curve?(0,p.IV)((0,p.UV)(i)):(0,u.O3)(i),r=i.map(e=>e.setVec(s.l.sub(e,[o.x,o.y])));if(e.updatingPath=!0,e.xywh=o.serialize(),e.path=r,(0,c.yp)(e)){let[t,i]=e.getPointByOffsetDistance(e.labelOffset.distance),[,,s,o]=e.labelXYWH;e.labelXYWH=[t-s/2,i-o/2,s,o]}e.updatingPath=!1}}},4536:(e,t,i)=>{function s(e,t,i,o=e=>e){return e*o(.5-t*(.5-i))}function o(e,t){return[e[0]+t[0],e[1]+t[1]]}function r(e,t){return[e[0]-t[0],e[1]-t[1]]}function a(e,t){return[e[0]*t,e[1]*t]}function n(e){return[e[1],-e[0]]}function l(e,t){return e[0]*t[0]+e[1]*t[1]}function c(e,t){var i;return(i=r(e,t))[0]*i[0]+i[1]*i[1]}function d(e){var t;return t=Math.hypot(e[0],e[1]),[e[0]/t,e[1]/t]}function h(e,t,i){let s=Math.sin(i),o=Math.cos(i),r=e[0]-t[0],a=e[1]-t[1];return[r*o-a*s+t[0],r*s+a*o+t[1]]}function u(e,t,i){return o(e,a(r(t,e),i))}i.d(t,{$:()=>m});let{min:p,PI:f}=Math,g=f+1e-4;function m(e,t={}){return function(e,t={}){var i,f;let m;let{size:v=16,smoothing:y=.5,thinning:b=.5,simulatePressure:w=!0,easing:x=e=>e,start:_={},end:C={},last:k=!1}=t,{cap:S=!0,easing:M=e=>e*(2-e)}=_,{cap:E=!0,easing:I=e=>--e*e*e+1}=C;if(0===e.length||v<=0)return[];let B=e[e.length-1].runningLength,$=!1===_.taper?0:!0===_.taper?Math.max(v,B):_.taper,T=!1===C.taper?0:!0===C.taper?Math.max(v,B):C.taper,O=Math.pow(v*y,2),P=[],A=[],H=e.slice(0,10).reduce((e,t)=>{let i=t.pressure;if(w){let s=p(1,t.distance/v),o=p(1,1-s);i=p(1,e+.275*s*(o-e))}return(e+i)/2},e[0].pressure),L=s(v,b,e[e.length-1].pressure,x),D=e[0].vector,Z=e[0].point,j=Z,V=Z,R=j,z=!1;for(let t=0;t<e.length;t++){let{pressure:i}=e[t],{point:d,vector:f,distance:y,runningLength:_}=e[t];if(t<e.length-1&&B-_<3)continue;if(b){if(w){let e=p(1,y/v),t=p(1,1-e);i=p(1,H+.275*e*(t-H))}L=s(v,b,i,x)}else L=v/2;void 0===m&&(m=L),L=Math.max(.01,L*Math.min(_<$?M(_/$):1,B-_<T?I((B-_)/T):1));let C=(t<e.length-1?e[t+1]:e[t]).vector,k=t<e.length-1?l(f,C):1,S=0>l(f,D)&&!z,E=null!==k&&k<0;if(S||E){let e=a(n(D),L);for(let t=1/13,i=0;i<=1;i+=t)V=h(r(d,e),d,g*i),P.push(V),R=h(o(d,e),d,-(g*i)),A.push(R);Z=V,j=R,E&&(z=!0);continue}if(z=!1,t===e.length-1){let e=a(n(f),L);P.push(r(d,e)),A.push(o(d,e));continue}let F=a(n(u(C,f,k)),L);V=r(d,F),(t<=1||c(Z,V)>O)&&(P.push(V),Z=V),R=o(d,F),(t<=1||c(j,R)>O)&&(A.push(R),j=R),H=i,D=f}let F=e[0].point.slice(0,2),N=e.length>1?e[e.length-1].point.slice(0,2):o(e[0].point,[1,1]),q=[],U=[];if(1===e.length){if(!($||T)||k){let e=(i=d(n(r(F,N))),o(F,a(i,-(m||L)))),t=[];for(let i=1/13,s=i;s<=1;s+=i)t.push(h(e,F,2*g*s));return t}}else{if($||T&&1===e.length);else if(S)for(let e=1/13,t=e;t<=1;t+=e){let e=h(A[0],F,g*t);q.push(e)}else{let e=r(P[0],A[0]),t=a(e,.5),i=a(e,.51);q.push(r(F,t),r(F,i),o(F,i),o(F,t))}let t=n([-(f=e[e.length-1].vector)[0],-f[1]]);if(T||$&&1===e.length)U.push(N);else if(E){let e=o(N,a(t,L));for(let t=1/29,i=t;i<1;i+=t)U.push(h(e,N,3*g*i))}else U.push(o(N,a(t,L)),o(N,a(t,.99*L)),r(N,a(t,.99*L)),r(N,a(t,L)))}return P.concat(U,A.reverse(),q)}(function(e,t={}){let{streamline:i=.5,size:s=16,last:a=!1}=t;if(0===e.length)return[];let n=.15+(1-i)*.85,l=Array.isArray(e[0])?e:e.map(({x:e,y:t,pressure:i=.5})=>[e,t,i]);if(2===l.length){let e=l[1];l=l.slice(0,-1);for(let t=1;t<5;t++)l.push(u(l[0],e,t/4))}1===l.length&&(l=[...l,[...o(l[0],[1,1]),...l[0].slice(2)]]);let c=[{point:[l[0][0],l[0][1]],pressure:(l[0][2]??-1)>=0?l[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],h=!1,p=0,f=c[0],g=l.length-1;for(let e=1;e<l.length;e++){var m,v;let t=a&&e===g?l[e].slice(0,2):u(f.point,l[e],n);if((m=f.point)[0]===t[0]&&m[1]===t[1])continue;let i=(v=f.point,Math.hypot(t[1]-v[1],t[0]-v[0]));if(p+=i,e<g&&!h){if(p<s)continue;h=!0}f={point:t,pressure:(l[e][2]??-1)>=0?l[e][2]:.5,vector:d(r(f.point,t)),distance:i,runningLength:p},c.push(f)}return c[0].vector=c[1]?.vector||[0,0],c}(e,t),t)}},11623:(e,t,i)=>{function s(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function o(e,t,i){return[e[0]+(t[0]-e[0])*i,e[1]+(t[1]-e[1])*i]}function r(e,t,i,a,n){let l=n||[],c=e[t],d=e[i-1],h=0,u=1;for(let r=t+1;r<i-1;++r){let t=function(e,t,i){let r=s(t,i);if(0===r)return s(e,t);let a=((e[0]-t[0])*(i[0]-t[0])+(e[1]-t[1])*(i[1]-t[1]))/r;return s(e,o(t,i,a=Math.max(0,Math.min(1,a))))}(e[r],c,d);t>h&&(h=t,u=r)}return Math.sqrt(h)>a?(r(e,t,u+1,a,l),r(e,u,i,a,l)):(l.length||l.push(c),l.push(d)),l}function a(e,t=.15,i){let n=[],l=(e.length-1)/3;for(let i=0;i<l;i++)!function e(t,i,r,a){let n=a||[];if(function(e,t){let i=e[t+0],s=e[t+1],o=e[t+2],r=e[t+3],a=3*s[0]-2*i[0]-r[0];a*=a;let n=3*s[1]-2*i[1]-r[1];n*=n;let l=3*o[0]-2*r[0]-i[0];l*=l;let c=3*o[1]-2*r[1]-i[1];return c*=c,a<l&&(a=l),n<c&&(n=c),a+n}(t,i)<r){let e=t[i+0];n.length?Math.sqrt(s(n[n.length-1],e))>1&&n.push(e):n.push(e),n.push(t[i+3])}else{let s=t[i+0],a=t[i+1],l=t[i+2],c=t[i+3],d=o(s,a,.5),h=o(a,l,.5),u=o(l,c,.5),p=o(d,h,.5),f=o(h,u,.5),g=o(p,f,.5);e([s,d,p,g],0,r,n),e([g,f,u,c],0,r,n)}return n}(e,3*i,t,n);return i&&i>0?r(n,0,n.length,i):n}function n(e){let t=0,i=0,s=0,o=0,r=[];for(let{key:a,data:n}of e)switch(a){case"M":r.push({key:"M",data:[...n]}),[t,i]=n,[s,o]=n;break;case"m":t+=n[0],i+=n[1],r.push({key:"M",data:[t,i]}),s=t,o=i;break;case"L":r.push({key:"L",data:[...n]}),[t,i]=n;break;case"l":t+=n[0],i+=n[1],r.push({key:"L",data:[t,i]});break;case"C":r.push({key:"C",data:[...n]}),t=n[4],i=n[5];break;case"c":{let e=n.map((e,s)=>s%2?e+i:e+t);r.push({key:"C",data:e}),t=e[4],i=e[5];break}case"Q":r.push({key:"Q",data:[...n]}),t=n[2],i=n[3];break;case"q":{let e=n.map((e,s)=>s%2?e+i:e+t);r.push({key:"Q",data:e}),t=e[2],i=e[3];break}case"A":r.push({key:"A",data:[...n]}),t=n[5],i=n[6];break;case"a":t+=n[5],i+=n[6],r.push({key:"A",data:[n[0],n[1],n[2],n[3],n[4],t,i]});break;case"H":r.push({key:"H",data:[...n]}),t=n[0];break;case"h":t+=n[0],r.push({key:"H",data:[t]});break;case"V":r.push({key:"V",data:[...n]}),i=n[0];break;case"v":i+=n[0],r.push({key:"V",data:[i]});break;case"S":r.push({key:"S",data:[...n]}),t=n[2],i=n[3];break;case"s":{let e=n.map((e,s)=>s%2?e+i:e+t);r.push({key:"S",data:e}),t=e[2],i=e[3];break}case"T":r.push({key:"T",data:[...n]}),t=n[0],i=n[1];break;case"t":t+=n[0],i+=n[1],r.push({key:"T",data:[t,i]});break;case"Z":case"z":r.push({key:"Z",data:[]}),t=s,i=o}return r}function l(e){let t=[],i="",s=0,o=0,r=0,a=0,n=0,l=0;for(let{key:d,data:h}of e){switch(d){case"M":t.push({key:"M",data:[...h]}),[s,o]=h,[r,a]=h;break;case"C":t.push({key:"C",data:[...h]}),s=h[4],o=h[5],n=h[2],l=h[3];break;case"L":t.push({key:"L",data:[...h]}),[s,o]=h;break;case"H":s=h[0],t.push({key:"L",data:[s,o]});break;case"V":o=h[0],t.push({key:"L",data:[s,o]});break;case"S":{let e=0,r=0;"C"===i||"S"===i?(e=s+(s-n),r=o+(o-l)):(e=s,r=o),t.push({key:"C",data:[e,r,...h]}),n=h[0],l=h[1],s=h[2],o=h[3];break}case"T":{let[e,r]=h,a=0,c=0;"Q"===i||"T"===i?(a=s+(s-n),c=o+(o-l)):(a=s,c=o);let d=s+2*(a-s)/3,u=o+2*(c-o)/3,p=e+2*(a-e)/3,f=r+2*(c-r)/3;t.push({key:"C",data:[d,u,p,f,e,r]}),n=a,l=c,s=e,o=r;break}case"Q":{let[e,i,r,a]=h,c=s+2*(e-s)/3,d=o+2*(i-o)/3,u=r+2*(e-r)/3,p=a+2*(i-a)/3;t.push({key:"C",data:[c,d,u,p,r,a]}),n=e,l=i,s=r,o=a;break}case"A":{let e=Math.abs(h[0]),i=Math.abs(h[1]),r=h[2],a=h[3],n=h[4],l=h[5],d=h[6];0===e||0===i?(t.push({key:"C",data:[s,o,l,d,l,d]}),s=l,o=d):(s!==l||o!==d)&&((function e(t,i,s,o,r,a,n,l,d,h){let u=Math.PI*n/180,p=[],f=0,g=0,m=0,v=0;if(h)[f,g,m,v]=h;else{[t,i]=c(t,i,-u),[s,o]=c(s,o,-u);let e=(t-s)/2,n=(i-o)/2,h=e*e/(r*r)+n*n/(a*a);h>1&&(r*=h=Math.sqrt(h),a*=h);let p=r*r,y=a*a,b=(l===d?-1:1)*Math.sqrt(Math.abs((p*y-p*n*n-y*e*e)/(p*n*n+y*e*e)));m=b*r*n/a+(t+s)/2,v=-(b*a)*e/r+(i+o)/2,f=Math.asin(parseFloat(((i-v)/a).toFixed(9))),g=Math.asin(parseFloat(((o-v)/a).toFixed(9))),t<m&&(f=Math.PI-f),s<m&&(g=Math.PI-g),f<0&&(f=2*Math.PI+f),g<0&&(g=2*Math.PI+g),d&&f>g&&(f-=2*Math.PI),!d&&g>f&&(g-=2*Math.PI)}let y=g-f;if(Math.abs(y)>120*Math.PI/180){let t=g,i=s,l=o;p=e(s=m+r*Math.cos(g=d&&g>f?f+120*Math.PI/180*1:f+-(120*Math.PI/180*1)),o=v+a*Math.sin(g),i,l,r,a,n,0,d,[g,t,m,v])}y=g-f;let b=Math.cos(f),w=Math.cos(g),x=Math.tan(y/4),_=4/3*r*x,C=4/3*a*x,k=[t,i],S=[t+_*Math.sin(f),i-C*b],M=[s+_*Math.sin(g),o-C*w],E=[s,o];if(S[0]=2*k[0]-S[0],S[1]=2*k[1]-S[1],h)return[S,M,E].concat(p);{p=[S,M,E].concat(p);let e=[];for(let t=0;t<p.length;t+=3){let i=c(p[t][0],p[t][1],u),s=c(p[t+1][0],p[t+1][1],u),o=c(p[t+2][0],p[t+2][1],u);e.push([i[0],i[1],s[0],s[1],o[0],o[1]])}return e}})(s,o,l,d,e,i,r,a,n).forEach(function(e){t.push({key:"C",data:e})}),s=l,o=d);break}case"Z":t.push({key:"Z",data:[]}),s=r,o=a}i=d}return t}function c(e,t,i){return[e*Math.cos(i)-t*Math.sin(i),e*Math.sin(i)+t*Math.cos(i)]}i.d(t,{Q:()=>z});let d={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function h(e){let t=[],i=function(e){let t;let i=[];for(;""!==e;){if(t=e.match(/^([ \t\r\n,]+)/)){e=e.slice(t[0].length);continue}if(t=e.match(/^([aAcChHlLmMqQsStTvVzZ])/)){i.push({type:0,text:t[0]}),e=e.slice(t[0].length);continue}if(!(t=e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)))return[];i.push({type:1,text:`${parseFloat(t[0])}`}),e=e.slice(t[0].length)}return i.push({type:2,text:""}),i}(e),s="BOD",o=0,r=i[0];for(;2!==r.type;){let a=0,n=[];if("BOD"===s){if("M"!==r.text&&"m"!==r.text)return h("M0,0"+e);o++,a=d[r.text],s=r.text}else 1===r.type?a=d[s]:(o++,a=d[r.text],s=r.text);if(o+a<i.length){for(let e=o;e<o+a;e++){let t=i[e];if(1===t.type)n[n.length]=+t.text;else throw Error("Param not a number: "+s+","+t.text)}if("number"==typeof d[s]){let e={key:s,data:n};t.push(e),o+=a,r=i[o],"M"===s&&(s="L"),"m"===s&&(s="l")}else throw Error("Bad segment: "+s)}else throw Error("Path data ended short")}return t}class u{constructor(e){this.seed=e}next(){return this.seed?(2147483648-1&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}function p(e,t,i){if(e&&e.length){let[s,o]=t,r=Math.PI/180*i,a=Math.cos(r),n=Math.sin(r);e.forEach(e=>{let[t,i]=e;e[0]=(t-s)*a-(i-o)*n+s,e[1]=(t-s)*n+(i-o)*a+o})}}function f(e){let t=e[0],i=e[1];return Math.sqrt(Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2))}function g(e,t){let i=t.hachureAngle+90,s=t.hachureGap;s<0&&(s=4*t.strokeWidth),s=Math.max(s,.1);let o=[0,0];if(i)for(let t of e)p(t,o,i);let r=function(e,t){let i=[];for(let t of e){let e=[...t];e[0].join(",")!==e[e.length-1].join(",")&&e.push([e[0][0],e[0][1]]),e.length>2&&i.push(e)}let s=[];t=Math.max(t,.1);let o=[];for(let e of i)for(let t=0;t<e.length-1;t++){let i=e[t],s=e[t+1];if(i[1]!==s[1]){let e=Math.min(i[1],s[1]);o.push({ymin:e,ymax:Math.max(i[1],s[1]),x:e===i[1]?i[0]:s[0],islope:(s[0]-i[0])/(s[1]-i[1])})}}if(o.sort((e,t)=>e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax)),!o.length)return s;let r=[],a=o[0].ymin;for(;r.length||o.length;){if(o.length){let e=-1;for(let t=0;t<o.length&&!(o[t].ymin>a);t++)e=t;o.splice(0,e+1).forEach(e=>{r.push({s:a,edge:e})})}if((r=r.filter(e=>!(e.edge.ymax<=a))).sort((e,t)=>e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x)),r.length>1)for(let e=0;e<r.length;e+=2){let t=e+1;if(t>=r.length)break;let i=r[e].edge,o=r[t].edge;s.push([[Math.round(i.x),a],[Math.round(o.x),a]])}a+=t,r.forEach(e=>{e.edge.x=e.edge.x+t*e.edge.islope})}return s}(e,s);if(i){for(let t of e)p(t,o,-i);!function(e,t,i){let s=[];e.forEach(e=>s.push(...e)),p(s,t,i)}(r,o,-i)}return r}class m{constructor(e){this.helper=e}dashedLine(e,t){let i=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,s=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,o=[];return e.forEach(e=>{let r=f(e),a=Math.floor(r/(i+s)),n=(r+s-a*(i+s))/2,l=e[0],c=e[1];l[0]>c[0]&&(l=e[1],c=e[0]);let d=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let e=0;e<a;e++){let r=e*(i+s),a=r+i,c=[l[0]+r*Math.cos(d)+n*Math.cos(d),l[1]+r*Math.sin(d)+n*Math.sin(d)],h=[l[0]+a*Math.cos(d)+n*Math.cos(d),l[1]+a*Math.sin(d)+n*Math.sin(d)];o.push(...this.helper.doubleLineOps(c[0],c[1],h[0],h[1],t))}}),o}fillPolygons(e,t){let i=g(e,t);return{type:"fillSketch",ops:this.dashedLine(i,t)}}}class v{constructor(e){this.helper=e}dotsOnLines(e,t){let i=[],s=t.hachureGap;s<0&&(s=4*t.strokeWidth),s=Math.max(s,.1);let o=t.fillWeight;o<0&&(o=t.strokeWidth/2);let r=s/4;for(let a of e){let e=f(a),n=Math.ceil(e/s)-1,l=e-n*s,c=(a[0][0]+a[1][0])/2-s/4,d=Math.min(a[0][1],a[1][1]);for(let e=0;e<n;e++){let a=c-r+2*Math.random()*r,n=d+l+e*s-r+2*Math.random()*r,h=this.helper.ellipse(a,n,o,o,t);i.push(...h.ops)}}return{type:"fillSketch",ops:i}}fillPolygons(e,t){let i=g(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(i,t)}}class y{constructor(e){this.helper=e}_fillPolygons(e,t){let i=g(e,t);return{type:"fillSketch",ops:this.renderLines(i,t)}}fillPolygons(e,t){return this._fillPolygons(e,t)}renderLines(e,t){let i=[];for(let s of e)i.push(...this.helper.doubleLineOps(s[0][0],s[0][1],s[1][0],s[1][1],t));return i}}class b extends y{fillPolygons(e,t){let i=this._fillPolygons(e,t),s=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),o=this._fillPolygons(e,s);return i.ops=i.ops.concat(o.ops),i}}class w extends y{fillPolygons(e,t){let i=t.hachureGap;i<0&&(i=4*t.strokeWidth);let s=g(e,Object.assign({},t,{hachureGap:i=Math.max(i,.1)})),o=Math.PI/180*t.hachureAngle,r=[],a=.5*i*Math.cos(o),n=.5*i*Math.sin(o);for(let[e,t]of s)f([e,t])&&r.push([[e[0]-a,e[1]+n],[...t]],[[e[0]+a,e[1]-n],[...t]]);return{type:"fillSketch",ops:this.renderLines(r,t)}}}class x{constructor(e){this.helper=e}zigzagLines(e,t,i){let s=[];return e.forEach(e=>{let o=Math.round(f(e)/(2*t)),r=e[0],a=e[1];r[0]>a[0]&&(r=e[1],a=e[0]);let n=Math.atan((a[1]-r[1])/(a[0]-r[0]));for(let e=0;e<o;e++){let o=2*e*t,a=(e+1)*2*t,l=Math.sqrt(2*Math.pow(t,2)),c=[r[0]+o*Math.cos(n),r[1]+o*Math.sin(n)],d=[r[0]+a*Math.cos(n),r[1]+a*Math.sin(n)],h=[c[0]+l*Math.cos(n+Math.PI/4),c[1]+l*Math.sin(n+Math.PI/4)];s.push(...this.helper.doubleLineOps(c[0],c[1],h[0],h[1],i),...this.helper.doubleLineOps(h[0],h[1],d[0],d[1],i))}}),s}fillPolygons(e,t){let i=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,s=t.zigzagOffset<0?i:t.zigzagOffset,o=g(e,t=Object.assign({},t,{hachureGap:i+s}));return{type:"fillSketch",ops:this.zigzagLines(o,s,t)}}}let _={},C={randOffset:function(e,t){return P(e,t)},randOffsetWithRange:function(e,t,i){return O(e,t,i)},ellipse:function(e,t,i,s,o){let r=M(i,s,o);return E(e,t,o,r).opset},doubleLineOps:function(e,t,i,s,o){return A(e,t,i,s,o,!0)}};function k(e,t,i,s,o){return{type:"path",ops:A(e,t,i,s,o)}}function S(e,t,i){let s=(e||[]).length;if(s>2){let o=[];for(let t=0;t<s-1;t++)o.push(...A(e[t][0],e[t][1],e[t+1][0],e[t+1][1],i));return t&&o.push(...A(e[s-1][0],e[s-1][1],e[0][0],e[0][1],i)),{type:"path",ops:o}}return 2===s?k(e[0][0],e[0][1],e[1][0],e[1][1],i):{type:"path",ops:[]}}function M(e,t,i){let s=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),o=2*Math.PI/Math.ceil(Math.max(i.curveStepCount,i.curveStepCount/Math.sqrt(200)*s)),r=Math.abs(e/2),a=Math.abs(t/2),n=1-i.curveFitting;return r+=P(r*n,i),a+=P(a*n,i),{increment:o,rx:r,ry:a}}function E(e,t,i,s){let[o,r]=Z(s.increment,e,t,s.rx,s.ry,1,s.increment*O(.1,O(.4,1,i),i),i),a=D(o,null,i);if(!i.disableMultiStroke&&0!==i.roughness){let[o]=Z(s.increment,e,t,s.rx,s.ry,1.5,0,i),r=D(o,null,i);a=a.concat(r)}return{estimatedPoints:r,opset:{type:"path",ops:a}}}function I(e,t,i,s,o,r,a,n,l){let c=Math.abs(i/2),d=Math.abs(s/2);c+=P(.01*c,l),d+=P(.01*d,l);let h=o,u=r;for(;h<0;)h+=2*Math.PI,u+=2*Math.PI;u-h>2*Math.PI&&(h=0,u=2*Math.PI);let p=Math.min(2*Math.PI/l.curveStepCount/2,(u-h)/2),f=j(p,e,t,c,d,h,u,1,l);if(!l.disableMultiStroke){let i=j(p,e,t,c,d,h,u,1.5,l);f.push(...i)}return a&&(n?f.push(...A(e,t,e+c*Math.cos(h),t+d*Math.sin(h),l),...A(e,t,e+c*Math.cos(u),t+d*Math.sin(u),l)):f.push({op:"lineTo",data:[e,t]},{op:"lineTo",data:[e+c*Math.cos(h),t+d*Math.sin(h)]})),{type:"path",ops:f}}function B(e,t){let i=[];for(let s of e)if(s.length){let e=t.maxRandomnessOffset||0,o=s.length;if(o>2){i.push({op:"move",data:[s[0][0]+P(e,t),s[0][1]+P(e,t)]});for(let r=1;r<o;r++)i.push({op:"lineTo",data:[s[r][0]+P(e,t),s[r][1]+P(e,t)]})}}return{type:"fillPath",ops:i}}function $(e,t){return(function(e,t){let i=e.fillStyle||"hachure";if(!_[i])switch(i){case"zigzag":_[i]||(_[i]=new w(t));break;case"cross-hatch":_[i]||(_[i]=new b(t));break;case"dots":_[i]||(_[i]=new v(t));break;case"dashed":_[i]||(_[i]=new m(t));break;case"zigzag-line":_[i]||(_[i]=new x(t));break;default:_[i="hachure"]||(_[i]=new y(t))}return _[i]})(t,C).fillPolygons(e,t)}function T(e){return e.randomizer||(e.randomizer=new u(e.seed||0)),e.randomizer.next()}function O(e,t,i,s=1){return i.roughness*s*(T(i)*(t-e)+e)}function P(e,t,i=1){return O(-e,e,t,i)}function A(e,t,i,s,o,r=!1){let a=r?o.disableMultiStrokeFill:o.disableMultiStroke,n=H(e,t,i,s,o,!0,!1);if(a)return n;let l=H(e,t,i,s,o,!0,!0);return n.concat(l)}function H(e,t,i,s,o,r,a){let n=Math.pow(e-i,2)+Math.pow(t-s,2),l=Math.sqrt(n),c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let d=o.maxRandomnessOffset||0;d*d*100>n&&(d=l/10);let h=d/2,u=.2+.2*T(o),p=o.bowing*o.maxRandomnessOffset*(s-t)/200,f=o.bowing*o.maxRandomnessOffset*(e-i)/200;p=P(p,o,c),f=P(f,o,c);let g=[],m=()=>P(h,o,c),v=()=>P(d,o,c),y=o.preserveVertices;return r&&(a?g.push({op:"move",data:[e+(y?0:m()),t+(y?0:m())]}):g.push({op:"move",data:[e+(y?0:P(d,o,c)),t+(y?0:P(d,o,c))]})),a?g.push({op:"bcurveTo",data:[p+e+(i-e)*u+m(),f+t+(s-t)*u+m(),p+e+2*(i-e)*u+m(),f+t+2*(s-t)*u+m(),i+(y?0:m()),s+(y?0:m())]}):g.push({op:"bcurveTo",data:[p+e+(i-e)*u+v(),f+t+(s-t)*u+v(),p+e+2*(i-e)*u+v(),f+t+2*(s-t)*u+v(),i+(y?0:v()),s+(y?0:v())]}),g}function L(e,t,i){let s=[];s.push([e[0][0]+P(t,i),e[0][1]+P(t,i)]),s.push([e[0][0]+P(t,i),e[0][1]+P(t,i)]);for(let o=1;o<e.length;o++)s.push([e[o][0]+P(t,i),e[o][1]+P(t,i)]),o===e.length-1&&s.push([e[o][0]+P(t,i),e[o][1]+P(t,i)]);return D(s,null,i)}function D(e,t,i){let s=e.length,o=[];if(s>3){let r=[],a=1-i.curveTightness;o.push({op:"move",data:[e[1][0],e[1][1]]});for(let t=1;t+2<s;t++){let i=e[t];r[0]=[i[0],i[1]],r[1]=[i[0]+(a*e[t+1][0]-a*e[t-1][0])/6,i[1]+(a*e[t+1][1]-a*e[t-1][1])/6],r[2]=[e[t+1][0]+(a*e[t][0]-a*e[t+2][0])/6,e[t+1][1]+(a*e[t][1]-a*e[t+2][1])/6],r[3]=[e[t+1][0],e[t+1][1]],o.push({op:"bcurveTo",data:[r[1][0],r[1][1],r[2][0],r[2][1],r[3][0],r[3][1]]})}if(t&&2===t.length){let e=i.maxRandomnessOffset;o.push({op:"lineTo",data:[t[0]+P(e,i),t[1]+P(e,i)]})}}else 3===s?(o.push({op:"move",data:[e[1][0],e[1][1]]}),o.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===s&&o.push(...A(e[0][0],e[0][1],e[1][0],e[1][1],i));return o}function Z(e,t,i,s,o,r,a,n){let l=0===n.roughness,c=[],d=[];if(l){e/=4,d.push([t+s*Math.cos(-e),i+o*Math.sin(-e)]);for(let r=0;r<=2*Math.PI;r+=e){let e=[t+s*Math.cos(r),i+o*Math.sin(r)];c.push(e),d.push(e)}d.push([t+1*s,i+0*o]),d.push([t+s*Math.cos(e),i+o*Math.sin(e)])}else{let l=P(.5,n)-Math.PI/2;d.push([P(r,n)+t+.9*s*Math.cos(l-e),P(r,n)+i+.9*o*Math.sin(l-e)]);let h=2*Math.PI+l-.01;for(let a=l;a<h;a+=e){let e=[P(r,n)+t+s*Math.cos(a),P(r,n)+i+o*Math.sin(a)];c.push(e),d.push(e)}d.push([P(r,n)+t+s*Math.cos(l+2*Math.PI+.5*a),P(r,n)+i+o*Math.sin(l+2*Math.PI+.5*a)]),d.push([P(r,n)+t+.98*s*Math.cos(l+a),P(r,n)+i+.98*o*Math.sin(l+a)]),d.push([P(r,n)+t+.9*s*Math.cos(l+.5*a),P(r,n)+i+.9*o*Math.sin(l+.5*a)])}return[d,c]}function j(e,t,i,s,o,r,a,n,l){let c=r+P(.1,l),d=[];d.push([P(n,l)+t+.9*s*Math.cos(c-e),P(n,l)+i+.9*o*Math.sin(c-e)]);for(let r=c;r<=a;r+=e)d.push([P(n,l)+t+s*Math.cos(r),P(n,l)+i+o*Math.sin(r)]);return d.push([t+s*Math.cos(a),i+o*Math.sin(a)]),d.push([t+s*Math.cos(a),i+o*Math.sin(a)]),D(d,null,l)}let V="none";class R{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(2147483648*Math.random())}_d(e,t,i){return{shape:e,sets:t||[],options:i||this.defaultOptions}}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}fillSketch(e,t){let i=t.fillWeight;return i<0&&(i=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||V,strokeWidth:i,fill:V}}arc(e,t,i,s,o,r,a=!1,n){let l=this._o(n),c=[],d=I(e,t,i,s,o,r,a,!0,l);if(a&&l.fill){if("solid"===l.fillStyle){let a={...l};a.disableMultiStroke=!0;let n=I(e,t,i,s,o,r,!0,!1,a);n.type="fillPath",c.push(n)}else c.push(function(e,t,i,s,o,r,a){let n=Math.abs(i/2),l=Math.abs(s/2);n+=P(.01*n,a),l+=P(.01*l,a);let c=o,d=r;for(;c<0;)c+=2*Math.PI,d+=2*Math.PI;d-c>2*Math.PI&&(c=0,d=2*Math.PI);let h=(d-c)/a.curveStepCount,u=[];for(let i=c;i<=d;i+=h)u.push([e+n*Math.cos(i),t+l*Math.sin(i)]);return u.push([e+n*Math.cos(d),t+l*Math.sin(d)]),u.push([e,t]),$([u],a)}(e,t,i,s,o,r,l))}return l.stroke!==V&&c.push(d),this._d("arc",c,l)}circle(e,t,i,s){let o=this.ellipse(e,t,i,i,s);return o.shape="circle",o}curve(e,t){let i=this._o(t),s=[],o=function(e,t){let i=L(e,1*(1+.2*t.roughness),t);if(!t.disableMultiStroke){let s=L(e,1.5*(1+.22*t.roughness),function(e){let t={...e};return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}(t));i=i.concat(s)}return{type:"path",ops:i}}(e,i);if(i.fill&&i.fill!==V&&e.length>=3){let t=a(function(e,t=0){let i=e.length;if(i<3)throw Error("A curve must have at least three points.");let s=[];if(3===i)s.push([...e[0]],[...e[1]],[...e[2]],[...e[2]]);else{let i=[];i.push(e[0],e[0]);for(let t=1;t<e.length;t++)i.push(e[t]),t===e.length-1&&i.push(e[t]);let o=[],r=1-t;s.push([...i[0]]);for(let e=1;e+2<i.length;e++){let t=i[e];o[0]=[t[0],t[1]],o[1]=[t[0]+(r*i[e+1][0]-r*i[e-1][0])/6,t[1]+(r*i[e+1][1]-r*i[e-1][1])/6],o[2]=[i[e+1][0]+(r*i[e][0]-r*i[e+2][0])/6,i[e+1][1]+(r*i[e][1]-r*i[e+2][1])/6],o[3]=[i[e+1][0],i[e+1][1]],s.push(o[1],o[2],o[3])}}return s}(e),10,(1+i.roughness)/2);"solid"===i.fillStyle?s.push(B([t],i)):s.push($([t],i))}return i.stroke!==V&&s.push(o),this._d("curve",s,i)}ellipse(e,t,i,s,o){let r=this._o(o),a=[],n=M(i,s,r),l=E(e,t,r,n);if(r.fill){if("solid"===r.fillStyle){let i=E(e,t,r,n).opset;i.type="fillPath",a.push(i)}else a.push($([l.estimatedPoints],r))}return r.stroke!==V&&a.push(l.opset),this._d("ellipse",a,r)}line(e,t,i,s,o){let r=this._o(o);return this._d("line",[k(e,t,i,s,r)],r)}linearPath(e,t){let i=this._o(t);return this._d("linearPath",[S(e,!1,i)],i)}opsToPath(e,t){let i="";for(let s of e.ops){let e="number"==typeof t&&t>=0?s.data.map(e=>+e.toFixed(t)):s.data;switch(s.op){case"move":i+=`M${e[0]} ${e[1]} `;break;case"bcurveTo":i+=`C${e[0]} ${e[1]}, ${e[2]} ${e[3]}, ${e[4]} ${e[5]} `;break;case"lineTo":i+=`L${e[0]} ${e[1]} `}}return i.trim()}path(e,t){let i=this._o(t),s=[];if(!e)return this._d("path",s,i);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");let o=i.fill&&"transparent"!==i.fill&&i.fill!==V,c=i.stroke!==V,d=!!(i.simplification&&i.simplification<1),u=d?4-4*i.simplification:(1+i.roughness)/2,p=function(e,t,i){let s=l(n(h(e))),o=[],c=[],d=[0,0],u=[],p=()=>{u.length>=4&&c.push(...a(u,1)),u=[]},f=()=>{p(),c.length&&(o.push(c),c=[])};for(let{key:e,data:t}of s)switch(e){case"M":f(),d=[t[0],t[1]],c.push(d);break;case"L":p(),c.push([t[0],t[1]]);break;case"C":if(!u.length){let e=c.length?c[c.length-1]:d;u.push([e[0],e[1]])}u.push([t[0],t[1]]),u.push([t[2],t[3]]),u.push([t[4],t[5]]);break;case"Z":p(),c.push([d[0],d[1]])}if(f(),!i)return o;let g=[];for(let e of o){let t=r(e,0,e.length,i);t.length&&g.push(t)}return g}(e,0,u);return o&&("solid"===i.fillStyle?s.push(B(p,i)):s.push($(p,i))),c&&(d?p.forEach(e=>{s.push(S(e,!1,i))}):s.push(function(e,t){let i=l(n(h(e))),s=[],o=[0,0],r=[0,0];for(let{key:e,data:a}of i)switch(e){case"M":{let e=1*(t.maxRandomnessOffset||0),i=t.preserveVertices;s.push({op:"move",data:a.map(s=>s+(i?0:P(e,t)))}),r=[a[0],a[1]],o=[a[0],a[1]];break}case"L":s.push(...A(r[0],r[1],a[0],a[1],t)),r=[a[0],a[1]];break;case"C":{let[e,i,o,n,l,c]=a;s.push(...function(e,t,i,s,o,r,a,n){let l=[],c=[n.maxRandomnessOffset||1,(n.maxRandomnessOffset||1)+.3],d=[0,0],h=n.disableMultiStroke?1:2,u=n.preserveVertices;for(let p=0;p<h;p++)0===p?l.push({op:"move",data:[a[0],a[1]]}):l.push({op:"move",data:[a[0]+(u?0:P(c[0],n)),a[1]+(u?0:P(c[0],n))]}),d=u?[o,r]:[o+P(c[p],n),r+P(c[p],n)],l.push({op:"bcurveTo",data:[e+P(c[p],n),t+P(c[p],n),i+P(c[p],n),s+P(c[p],n),d[0],d[1]]});return l}(e,i,o,n,l,c,r,t)),r=[l,c];break}case"Z":s.push(...A(r[0],r[1],o[0],o[1],t)),r=[o[0],o[1]]}return{type:"path",ops:s}}(e,i))),this._d("path",s,i)}polygon(e,t){let i=this._o(t),s=[],o=S(e,!0,i);return i.fill&&("solid"===i.fillStyle?s.push(B([e],i)):s.push($([e],i))),i.stroke!==V&&s.push(o),this._d("polygon",s,i)}rectangle(e,t,i,s,o){let r=this._o(o),a=[],n=S([[e,t],[e+i,t],[e+i,t+s],[e,t+s]],!0,r);if(r.fill){let o=[[e,t],[e+i,t],[e+i,t+s],[e,t+s]];"solid"===r.fillStyle?a.push(B([o],r)):a.push($([o],r))}return r.stroke!==V&&a.push(n),this._d("rectangle",a,r)}toPaths(e){let t=e.sets||[],i=e.options||this.defaultOptions,s=[];for(let e of t){let t=null;switch(e.type){case"path":t={d:this.opsToPath(e),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:V};break;case"fillPath":t={d:this.opsToPath(e),stroke:V,strokeWidth:0,fill:i.fill||V};break;case"fillSketch":t=this.fillSketch(e,i)}t&&s.push(t)}return s}}class z{constructor(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new R(t)}_drawToContext(e,t,i,s="nonzero"){for(let s of(e.beginPath(),t.ops)){let t="number"==typeof i&&i>=0?s.data.map(e=>+e.toFixed(i)):s.data;switch(s.op){case"move":e.moveTo(t[0],t[1]);break;case"bcurveTo":e.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5]);break;case"lineTo":e.lineTo(t[0],t[1])}}"fillPath"===t.type?e.fill(s):e.stroke()}fillSketch(e,t,i){let s=i.fillWeight;s<0&&(s=i.strokeWidth/2),e.save(),i.fillLineDash&&e.setLineDash(i.fillLineDash),i.fillLineDashOffset&&(e.lineDashOffset=i.fillLineDashOffset),e.strokeStyle=i.fill||"",e.lineWidth=s,this._drawToContext(e,t,i.fixedDecimalPlaceDigits),e.restore()}arc(e,t,i,s,o,r,a=!1,n){let l=this.gen.arc(e,t,i,s,o,r,a,n);return this.draw(l),l}circle(e,t,i,s){let o=this.gen.circle(e,t,i,s);return this.draw(o),o}curve(e,t){let i=this.gen.curve(e,t);return this.draw(i),i}draw(e){let t=e.sets||[],i=e.options||this.getDefaultOptions(),s=this.ctx,o=e.options.fixedDecimalPlaceDigits;for(let r of t)switch(r.type){case"path":s.save(),s.strokeStyle="none"===i.stroke?"transparent":i.stroke,s.lineWidth=i.strokeWidth,i.strokeLineDash&&s.setLineDash(i.strokeLineDash),i.strokeLineDashOffset&&(s.lineDashOffset=i.strokeLineDashOffset),this._drawToContext(s,r,o),s.restore();break;case"fillPath":{s.save(),s.fillStyle=i.fill||"";let t="curve"===e.shape||"polygon"===e.shape||"path"===e.shape?"evenodd":"nonzero";this._drawToContext(s,r,o,t),s.restore();break}case"fillSketch":this.fillSketch(s,r,i)}}ellipse(e,t,i,s,o){let r=this.gen.ellipse(e,t,i,s,o);return this.draw(r),r}getDefaultOptions(){return this.gen.defaultOptions}line(e,t,i,s,o){let r=this.gen.line(e,t,i,s,o);return this.draw(r),r}linearPath(e,t){let i=this.gen.linearPath(e,t);return this.draw(i),i}path(e,t){let i=this.gen.path(e,t);return this.draw(i),i}polygon(e,t){let i=this.gen.polygon(e,t);return this.draw(i),i}rectangle(e,t,i,s,o){let r=this.gen.rectangle(e,t,i,s,o);return this.draw(r),r}get generator(){return this.gen}}},72674:(e,t,i)=>{i.d(t,{Y:()=>g});var s=i(1126),o=i(69050),r=i(73711),a=i(992),n=i(18513);let l=e=>{let t=t=>e.hasElementById(t)||e.doc.hasBlockById(t),i=t=>e.getElementById(t)??e.doc.getBlockById(t),s=new n.IV({getElementById:i}),o=e=>{(e.source?.id&&t(e.source.id)||!e.source?.id&&e.source?.position)&&(e.target?.id&&t(e.target.id)||!e.target?.id&&e.target?.position)&&s.updatePath(e)},r=new Set,a=!1,l=e=>{r.add(e),a||(a=!0,queueMicrotask(()=>{r.forEach(o),r.clear(),a=!1}))},c=[e.elementAdded.on(({id:t})=>{let s=i(t);s&&("type"in s&&"connector"===s.type?l(s):e.getConnectors(t).forEach(l))}),e.elementUpdated.on(({id:t,props:s})=>{let o=i(t);(s.xywh||s.rotate)&&e.getConnectors(t).forEach(l),"type"in o&&"connector"===o.type&&(void 0!==s.mode||s.target||s.source||s.xywh&&!o.updatingPath)&&l(o)}),e.doc.slots.blockUpdated.on(t=>{("add"===t.type||"update"===t.type&&"xywh"===t.props.key)&&e.getConnectors(t.id).forEach(l)})];return e.getElementsByType("connector").forEach(e=>o(e)),()=>{c.forEach(e=>e.dispose())}};var c=i(31999);let d=e=>{let t=[e.elementUpdated.filter(e=>e.local).on(({id:t,props:i})=>{let s=e.getElementById(t);s instanceof c.$b&&i.childIds&&0===s.childIds.length&&e.removeElement(t)})];return()=>{t.forEach(e=>e.dispose())}},h="affine:surface:text",u="affine:surface:ymap";class p extends r.S4{_elementToJSON(e){let t={};return e.forEach((e,i)=>{t[i]=this._toJSON(e)}),t}_fromJSON(e){if(e instanceof Object){if(Reflect.has(e,h)){let t=new r.rl.Y.Text;return t.applyDelta(Reflect.get(e,"delta")),t}if(Reflect.has(e,u)){let t=new r.rl.Y.Map;return Object.entries(Reflect.get(e,"json")).forEach(([e,i])=>{t.set(e,i)}),t}}return e}_toJSON(e){return e instanceof r.rl.Y.Text?{[h]:!0,delta:e.toDelta()}:e instanceof r.rl.Y.Map?{[u]:!0,json:e.toJSON()}:e}elementFromJSON(e){let t=new r.rl.Y.Map;return Object.entries(e).forEach(([e,i])=>{t.set(e,this._fromJSON(i))}),t}async fromSnapshot(e){let t=await super.fromSnapshot(e),i=t.props.elements,s=new r.rl.Y.Map;Object.entries(i).forEach(([e,t])=>{let i=this.elementFromJSON(t);s.set(e,i)});let o=this._internal.Boxed(s);return t.props={elements:o},t}async toSnapshot(e){let t=await super.toSnapshot(e),i=e.model.elements.getValue(),s={};return i&&i.forEach((e,t)=>{s[t]=this._elementToJSON(e)}),t.props={elements:s},t}}let f={toV4:e=>{let{elements:t}=e;if(t instanceof r.J5){let e=t.getValue();if(!e)return;for(let[t,i]of e.entries()){let s=i.get("type");if("shape"===s||"text"===s){let e=i.get("isBold"),t=i.get("isItalic");i.delete("isBold"),i.delete("isItalic"),e&&i.set("bold",!0),t&&i.set("italic",!0)}if("connector"===s){let s=i.get("source"),o=i.get("target"),r=s.id,a=o.id;if(!s.position&&!r||!o.position&&!a){e.delete(t);return}}}}else for(let e of Object.keys(t)){let i=t[e],s=i.type;if("shape"===s||"text"===s){let e=i.isBold,t=i.isItalic;delete i.isBold,delete i.isItalic,e&&(i.bold=!0),t&&(i.italic=!0)}if("connector"===s){let s=i.source,o=i.target,r=s.id,a=o.id;if(!s.position&&(!r||!t[r])||!o.position&&(!a||!t[a])){delete t[e];return}}}},toV5:e=>{let{elements:t}=e;if(!(t instanceof r.J5)){let i=new r.rl.Y.Map;Object.entries(t).forEach(([e,t])=>{let s=new r.rl.Y.Map;Object.entries(t).forEach(([e,t])=>{s.set(e,t instanceof r.rl.Y.Text?t.clone():t instanceof r.EY?t.yText.clone():t)}),i.set(e,s)});let s=new r.J5(i);e.elements=s}let i=e.elements.getValue();for(let[e,t]of i)if("mindmap"===t.get("type")||"group"===t.get("type")){let s=t.get("children");s?.size===0&&i.delete(e)}}},g=(0,r.A9)({flavour:"affine:surface",props:e=>({elements:e.Boxed(new r.rl.Y.Map)}),metadata:{version:5,role:"hub",parent:["affine:page"],children:["affine:frame","affine:image","affine:bookmark","affine:attachment","affine:embed-*","affine:edgeless-text"]},onUpgrade:(e,t,i)=>{t<4&&i>=4&&f.toV4(e),t<5&&i>=5&&f.toV5(e)},transformer:()=>new p,toModel:()=>new m});class m extends s.i5{constructor(){super(...arguments),this._disposables=new o.K}_init(){this._extendElement(a.IN),super._init()}applyMiddlewares(){[l(this,this.hooks),d(this,this.hooks)].forEach(e=>this._disposables.add(e))}getConnectors(e){return this.getElementsByType("connector").filter(t=>t.source?.id===e||t.target?.id===e)}getElementsByType(e){return super.getElementsByType(e)}}},40907:(e,t,i)=>{i.d(t,{w:()=>d});var s=i(71006),o=i(11559);function r(e,t){return(0,o.f3)(e[0],t[0])&&(0,o.f3)(e[1],t[1])}class a{constructor(e,t=[],i=[],s=[]){this.points=e,this.blocks=t,this.expandedBlocks=i,this.excludedPoints=s,this._xMap=new Map,this._yMap=new Map;let o=this._xMap,r=this._yMap;this.points.forEach(e=>{let[t,i]=e;o.has(t)||o.set(t,[]),r.has(i)||r.set(i,[]),o.get(t)?.push(e),r.get(i)?.push(e)})}_canSkipBlock(e){return this.excludedPoints.some(t=>r(e,t))}_isBlock(e,t){return this.blocks.some(i=>{let s=(0,o.Dx)(e,t,i.points);return s?.length===2||i.isPointInBound(e,0)||i.isPointInBound(t,0)||[i.leftLine,i.upperLine,i.rightLine,i.lowerLine].some(i=>{var s;return s=[e,t],[i[0][1],i[1][1],s[0][1],s[1][1]].every(e=>(0,o.f3)(e,i[0][1],.02))?(0,o.s5)(i,s,0):!![i[0][0],i[1][0],s[0][0],s[1][0]].every(e=>(0,o.f3)(e,i[0][0],.02))&&(0,o.s5)(i,s,1)})})||this.expandedBlocks.some(i=>{let s=(0,o.Dx)(e,t,i.expand(-.5).points);return s?.length===2})}neighbors(e){let[t,i]=e,s=new Set,o=this._xMap.get(t),a=this._yMap.get(i);if(o){let t,i,a=1/0,n=1/0;o.forEach(s=>{if(r(s,e))return;let o=s[1]-e[1];o>0&&o<a&&(a=o,t=s),o<0&&Math.abs(o)<n&&(n=Math.abs(o),i=s)}),t&&(this._canSkipBlock(t)||!this._isBlock(e,t))&&s.add(t),i&&(this._canSkipBlock(i)||!this._isBlock(e,i))&&s.add(i)}if(a){let t,i,o=1/0,n=1/0;a.forEach(s=>{if(r(s,e))return;let a=s[0]-e[0];a>0&&a<o&&(o=a,t=s),a<0&&Math.abs(a)<n&&(n=Math.abs(a),i=s)}),t&&(this._canSkipBlock(t)||!this._isBlock(e,t))&&s.add(t),i&&(this._canSkipBlock(i)||!this._isBlock(e,i))&&s.add(i)}return Array.from(s)}}class n{constructor(e){this._compare=e,this.heap=[]}bubbleDown(){let e=0,t=this.heap.length,i=this.heap[0];for(;;){let s,o;let r=2*e+1,a=2*e+2,n=-1;if(r<t&&(s=this.heap[r],0>this._compare(s.priority,i.priority)&&(n=r)),a<t&&(s=this.heap[r],o=this.heap[a],(null===n&&0>this._compare(o.priority,i.priority)||null!==n&&0>this._compare(o.priority,s.priority))&&(n=a)),-1===n)break;this.heap[e]=this.heap[n],this.heap[n]=i,e=n}}bubbleUp(e=this.heap.length-1){let t=this.heap[e];for(;e>0;){let i=Math.floor((e-1)/2),s=this.heap[i];if(0>=this._compare(s.priority,t.priority))break;this.heap[i]=t,this.heap[e]=s,e=i}}dequeue(){let e=this.heap[0],t=this.heap.pop();return this.heap.length>0&&t&&(this.heap[0]=t,this.bubbleDown()),e?.value??null}empty(){return 0===this.heap.length}enqueue(e,t){this.heap.push({value:e,priority:t}),this.bubbleUp()}}function l(e,t){return e[2]+.01<t[2]?-1:e[2]-.01>t[2]?1:e[0]<t[0]?-1:e[0]>t[0]?1:e[1]>t[1]?-1:e[1]<t[1]?1:0}function c(e,t){return(0,o.f3)(e[0],t[0],.02)&&(0,o.f3)(e[1],t[1],.02)}class d{constructor(e,t,i,s,o,r=[],n=[]){this._sp=t,this._ep=i,this._originalSp=s,this._originalEp=o,this._cameFrom=new Map,this._complete=!1,this._costSoFar=new Map,this._current=null,this._diagonalCount=new Map,this._pointPriority=new Map,this._sp[2]=0,this._ep[2]=0,this._originalEp[2]=0,this._graph=new a([...e],r,n),this._init()}_init(){this._cameFrom.set(this._sp,{from:[this._originalSp],indexs:[-1]}),this._cameFrom.set(this._originalSp,{from:[],indexs:[]}),this._costSoFar.set(this._sp,[0]),this._diagonalCount.set(this._sp,[0]),this._pointPriority.set(this._sp,[0]),this._frontier=new n(l),this._frontier.enqueue(this._sp,[0,0,0])}_neighbors(e){let t=this._graph.neighbors(e),i=this._cameFrom.get(e);return(0,s.Z1)(i),i.from.forEach(e=>{let i=t.findIndex(t=>c(t,e));i>=0&&t.splice(i,1)}),e===this._ep&&t.push(this._originalEp),t}reset(){this._cameFrom.clear(),this._costSoFar.clear(),this._diagonalCount.clear(),this._pointPriority.clear(),this._complete=!1,this._init()}run(){for(;!this._complete;)this.step()}step(){if(this._complete)return;this._current=this._frontier.dequeue();let e=this._current;if(!e){this._complete=!0;return}e===this._ep&&c(this._ep,this._originalEp)&&(this._originalEp=this._ep);let t=this._neighbors(e);for(let r=0;r<t.length;r++){var i;let a=t[r],n=this._costSoFar.get(e),d=this._diagonalCount.get(e),u=this._pointPriority.get(e),p=this._cameFrom.get(e);(0,s.Z1)(n),(0,s.Z1)(d),(0,s.Z1)(u),(0,s.Z1)(p);let f=n.map(t=>t+(Math.abs(e[0]-a[0])+Math.abs(e[1]-a[1]))),g=d.map((t,i)=>{var s;return t+(s=p.from[i],(0,o.f3)(a[0],e[0])&&(0,o.f3)(a[0],s[0])||(0,o.f3)(a[1],e[1])&&(0,o.f3)(a[1],s[1])?0:1)});(0,s.Z1)(a[2]);let m=u.map(e=>e+a[2]),v=-1;if(1===f.length)v=0;else{let e=h(f,(e,t)=>e+.01<t,(e,t)=>(0,o.f3)(e,t,.02));if(1===e.length)v=e[0];else{let t=h(e.map(e=>g[e]),(e,t)=>e<t,(e,t)=>e===t);v=1===t.length?e[t[0]]:function(e,t,i){let s=-1/0,o=[];for(let r=0;r<e.length;r++){let a=e[r];t(a,s)?(s=a,o=[r]):i(a,s)&&o.push(r)}return o}(t.map(t=>m[e[t]]),(e,t)=>e>t,(e,t)=>e===t)[0]}}let y=!this._costSoFar.has(a),b=this._costSoFar.get(a)??[],w=this._diagonalCount.get(a)??[],x=this._pointPriority.get(a)??[],_=this._cameFrom.get(a)??{from:[],indexs:[]};b.push(f[v]),w.push(g[v]),x.push(m[v]),_.from.push(e),_.indexs.push(v);let C=g[v],k=m[v],S=f[v];this._costSoFar.set(a,b),this._diagonalCount.set(a,w),this._pointPriority.set(a,x),this._cameFrom.set(a,_);let M=[C,k,S+(i=this._ep,Math.abs(a[0]-i[0])+Math.abs(a[1]-i[1]))];if(y)this._frontier.enqueue(a,M);else{let e=this._frontier.heap.findIndex(e=>e.value===a),t=this._frontier.heap[e];t?0>l(M,t.priority)&&(t.priority=M,this._frontier.bubbleUp(e)):this._frontier.enqueue(a,M)}if(c(e,this._ep)&&c(a,this._originalEp)){this._originalEp=a,this._complete=!0;return}}}get path(){let e=[],t=this._complete?this._originalEp:this._current,i=[0];for(;t;){e.unshift(t);let o=this._cameFrom.get(t);if(!o)break;let r=i.shift();(0,s.Z1)(r),i.push(o.indexs[r]),t=o.from[r]}return e}}function h(e,t,i){let s=1/0,o=[];for(let r=0;r<e.length;r++){let a=e[r];t(a,s)?(s=a,o=[r]):i(a,s)&&o.push(r)}return o}},61677:(e,t,i)=>{i.d(t,{O3:()=>n,SG:()=>l,qZ:()=>a,ql:()=>r,vs:()=>c});var s=i(94098),o=i(11559);function r(e){if(!e.length)return null;if(1===e.length){let{x:t,y:i,w:o,h:r}=e[0];return new s.z(t,i,o,r)}let t=e[0];for(let i=1;i<e.length;i++)t=function(e,t){let i=Math.min(e.x,t.x),s=Math.min(e.y,t.y),o=Math.max(e.x+e.w,t.x+t.w),r=Math.max(e.y+e.h,t.y+t.h),a=Math.abs(o-i),n=Math.abs(r-s);return{x:i,y:s,w:a,h:n}}(t,e[i]);return new s.z(t.x,t.y,t.w,t.h)}function a(e){let t=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.forEach(e=>{let s=(0,o.e0)(e);t=Math.min(t,s.x),i=Math.min(i,s.y),r=Math.max(r,s.x+s.w),a=Math.max(a,s.y+s.h)}),new s.z(t,i,r-t,a-i)}function n(e){let{minX:t,minY:i,width:r,height:a}=(0,o.lK)(e);return new s.z(t,i,r,a)}function l(e,t){let i=t/2,o=new s.z(e.x-i,e.y-i,e.w+t,e.h+t);if(o.w<=0||o.h<=0)throw Error("Invalid delta range or bound size.");return o}function c(e,t,i,o,r){let a=2*i,n=2*r,l=Math.max(t.w-a,1),c=Math.max(t.h-a,1),d=Math.max(o.w-n,1),h=Math.max(o.h-n,1);return{points:e.map(e=>({...e,x:d*((e.x-i)/l)+r,y:h*((e.y-i)/c)+r})),bound:new s.z(o.x,o.y,d+n,h+n)}}},75510:(e,t,i)=>{i.d(t,{HY:()=>y,IV:()=>f,KV:()=>c,UV:()=>p,Vr:()=>h,ol:()=>u,rL:()=>d});var s=i(31716),o=i(94098),r=i(96458),a=i(71006),n=i(11559);function l(e,t,i,s){let o,r;if(null==t||t<0||t>1)return null;let a=e[0][0],l=e[0][1],c=e[3][0],d=e[3][1],h=e[1][0],u=e[1][1],p=e[2][0],f=e[2][1];(0,n.be)(h-a)&&(0,n.be)(u-l)&&(h=a,u=l),(0,n.be)(p-c)&&(0,n.be)(f-d)&&(p=c,f=d);let g=3*(h-a),m=3*(p-h)-g,v=c-a-g-m,y=3*(u-l),b=3*(f-u)-y,w=d-l-y-b;if(0===i)o=0===t?a:1===t?c:((v*t+m)*t+g)*t+a,r=0===t?l:1===t?d:((w*t+b)*t+y)*t+l;else{let e=n.ot,a=1-e;if(t<e?(o=g,r=y):t>a?(o=3*(c-p),r=3*(d-f)):(o=(3*v*t+2*m)*t+g,r=(3*w*t+2*b)*t+y),s){0===o&&0===r&&(t<e||t>a)&&(o=p-h,r=f-u);let i=Math.sqrt(o*o+r*r);i&&(o/=i,r/=i)}if(3===i){let e=Math.pow(o*o+r*r,1.5);o=0!==e?(o*(6*w*t+2*b)-r*(6*v*t+2*m))/e:0,r=0}}return 2===i?[r,-o]:[o,r]}function c(e,t){return l(e,t,0,!1)}function d(e,t){return l(e,t,1,!0)}function h(e,t){let i=1/0,o=0;function r(r){if(r>=0&&r<=1){let n=c(e,r);(0,a.Z1)(n);let l=s.l.dist2(t,n);if(l<i)return i=l,o=r,!0}return!1}for(let e=0;e<=100;e++)r(e/100);let l=.005;for(;l>n.ot;)r(o-l)||r(o+l)||(l/=2);return o}function u(e,t){let i=h(e,t),s=c(e,i);return(0,a.Z1)(s),s}function p(e){return[e[0],e[0].absOut,e[1].absIn,e[1]]}function f(e){let t,i,s,r,a,n,l,c,d,h,u;let[p,f,g,m]=e,[v,y]=p,[b,w]=f,[x,_]=g,[C,k]=m,S=[],M=[],E=[[],[]];for(let e=0;e<2;e+=1){if(0===e?(i=6*v-12*b+6*x,t=-3*v+9*b-9*x+3*C,s=3*b-3*v):(i=6*y-12*w+6*_,t=-3*y+9*w-9*_+3*k,s=3*w-3*y),1e-12>Math.abs(t)){if(1e-12>Math.abs(i))continue;(r=-s/i)>0&&r<1&&M.push(r);continue}c=Math.sqrt(l=i*i-4*s*t),!(l<0)&&((a=(-i+c)/(2*t))>0&&a<1&&M.push(a),(n=(-i-c)/(2*t))>0&&n<1&&M.push(n))}let I=M.length,B=I;for(;I;)I-=1,d=(u=1-(r=M[I]))*u*u*v+3*u*u*r*b+3*u*r*r*x+r*r*r*C,E[0][I]=d,h=u*u*u*y+3*u*u*r*w+3*u*r*r*_+r*r*r*k,E[1][I]=h,S[I]={X:d,Y:h};M[B]=0,M[B+1]=1,S[B]={X:v,Y:y},S[B+1]={X:C,Y:k},E[0][B]=v,E[1][B]=y,E[0][B+1]=C,E[1][B+1]=k,M.length=B+2,E[0].length=B+2,E[1].length=B+2,S.length=B+2;let $=Math.min.apply(null,E[0]),T=Math.min.apply(null,E[1]),O=Math.max.apply(null,E[0]),P=Math.max.apply(null,E[1]);return new o.z($,T,O-$,P-T)}function g(e){return e<0?-Math.pow(-e,1/3):Math.pow(e,1/3)}function m(e,t,i){return t<=e&&e<=i||v(e,t)||v(e,i)}function v(e,t,i,s=1e-6){return Math.abs(e-t)<=(i||s)}function y(e,t){let{minX:i,maxX:s,minY:a,maxY:n}=o.z.fromPoints(t),l=p(e),d=(function(e,t){let i,s;let o=e.length-1,r=function(e,[t,i]){let s=t[0],o=t[1],r=-Math.atan2(i[1]-o,i[0]-s);return e.map(function([e,t]){return[(e-s)*Math.cos(r)-(t-o)*Math.sin(r),(e-s)*Math.sin(r)+(t-o)*Math.cos(r)]})}(e,t),a=function(e){return 0<=e&&e<=1};if(2===o){let e=r[0][1],t=r[1][1],i=r[2][1],s=e-2*t+i;if(0!==s){let o=-Math.sqrt(t*t-e*i),r=-e+t;return[-(o+r)/s,-(-o+r)/s].filter(a)}return t!==i&&0===s?[(2*t-i)/(2*t-2*i)].filter(a):[]}let n=r[0][1],l=r[1][1],c=r[2][1],d=-n+3*l-3*c+r[3][1],h=3*n-6*l+3*c,u=-3*n+3*l,p=n;if(v(d,0)){if(v(h,0))return v(u,0)?[]:[-p/u].filter(a);let e=Math.sqrt(u*u-4*h*p),t=2*h;return[(e-u)/t,(-u-e)/t].filter(a)}h/=d;let f=(3*(u/=d)-h*h)/3,m=f/3,y=(2*h*h*h-9*h*u+27*(p/=d))/27,b=y/2,w=b*b+m*m*m;if(w<0){let e=-f/3,t=Math.sqrt(e*e*e),i=-y/(2*t),s=Math.acos(i<-1?-1:i>1?1:i),o=2*g(t);return[o*Math.cos(s/3)-h/3,o*Math.cos((s+2*Math.PI)/3)-h/3,o*Math.cos((s+2*Math.PI*2)/3)-h/3].filter(a)}if(0===w)return[2*(i=b<0?g(-b):-g(b))-h/3,-i-h/3].filter(a);{let e=Math.sqrt(w);return[(i=g(-b+e))-g(b+e)-h/3].filter(a)}})(l,t).map(e=>c(l,e)).filter(e=>!!e&&m(e[0],i,s)&&m(e[1],a,n)).map(e=>new r.S(e));return d.length>0?d:null}},21320:(e,t,i)=>{i.d(t,{AF:()=>r,e4:()=>n,s9:()=>o,yp:()=>a});var s=i(63820);function o(e){return`"${e}"`}let r=s.$M?()=>{let e=document.fonts.keys(),t=[],i=!1;for(;!i;){let s=e.next();i=!!s.done,s.value&&t.push(s.value)}return t}:()=>[...document.fonts.keys()],a=s.$M?e=>t=>t.family===`"${e}"`:e=>t=>t.family===e;function n(e){return r().filter(a(e)).filter((e,t,i)=>i.findIndex(t=>t.family===e.family&&t.weight===e.weight&&t.style===e.style)===t)}},11559:(e,t,i)=>{i.d(t,{$B:()=>b,$L:()=>_,BE:()=>S,Bn:()=>B,Cs:()=>E,DF:()=>P,Dx:()=>x,GT:()=>L,HY:()=>c,Hb:()=>I,Lo:()=>h,R$:()=>$,Rg:()=>k,Sp:()=>l,Vk:()=>w,W4:()=>C,_S:()=>M,a0:()=>f,be:()=>u,ct:()=>A,e0:()=>T,f3:()=>d,hr:()=>v,kO:()=>m,lK:()=>function e(t,i=0){let o=1/0,r=1/0,a=-1/0,n=-1/0;if(t.length<1)o=0,r=0,a=1,n=1;else for(let[e,i]of t)o=Math.min(e,o),r=Math.min(i,r),a=Math.max(e,a),n=Math.max(i,n);return 0!==i?e(t.map(e=>s.l.rotWith(e,[(o+a)/2,(r+n)/2],i))):{minX:o,minY:r,maxX:a,maxY:n,width:Math.max(1,a-o),height:Math.max(1,n-r)}},op:()=>y,ot:()=>a,pz:()=>Z,qE:()=>p,s3:()=>g,s5:()=>H,uA:()=>r,z:()=>O});var s=i(31716),o=i(96458);let r=2*Math.PI,a=1e-8;function n(e,t){var i,s;return(i=e[0]-t[0])*i+(s=e[1]-t[1])*s}function l(e,t,i){return e.x<=t&&t<=e.x+e.w&&e.y<=i&&i<=e.y+e.h}function c(e,t){return e.x<t.x+t.w&&e.x+e.w>t.x&&e.y<t.y+t.h&&e.y+e.h>t.y}function d(e,t,i=1e-4){return Math.abs(e-t)<i}function h(e){return e.every(e=>u(e))}function u(e){return e>=-.000000000001&&e<=1e-12}function p(e,t,i){return Math.max(t,void 0!==i?Math.min(e,i):e)}function f(e,t,i,o,r=0){let a=Math.cos(r),n=Math.sin(r),l=s.l.sub(e,t),c=a*l[0]+n*l[1],d=n*l[0]-a*l[1];return c*c/(i*i)+d*d/(o*o)<=1}function g(e,t){let i=0;return t.forEach((o,r)=>{let a=t[(r+1)%t.length];o[1]<=e[1]?a[1]>e[1]&&s.l.cross(o,a,e)>0&&(i+=1):a[1]<=e[1]&&0>s.l.cross(o,a,e)&&(i-=1)}),0!==i}function m(e,t,i){for(let s=0;s<t.length;++s){let o=s+1===t.length?0:s+1;if(Math.sqrt(function(e,t,i){let s=n(t,i);if(0==s)return n(e,t);let o=((e[0]-t[0])*(i[0]-t[0])+(e[1]-t[1])*(i[1]-t[1]))/s;return o=Math.max(0,Math.min(1,o)),n(e,[t[0]+o*(i[0]-t[0]),t[1]+o*(i[1]-t[1])])}(e,t[s],t[o]))<=i)return!0}return!1}function v(e,t=!0){let i=e.length;if(i<2)return"";let s=e[0],o=e[1],r=`M${s[0].toFixed(2)},${s[1].toFixed()}L${o[0].toFixed(2)},${o[1].toFixed()}`;for(let t=2;t<i;t++){let i=e[t];r+=`L${i[0].toFixed(2)},${i[1].toFixed()}`}return t&&(r+="Z"),r}function y(e,t=!0){var i,s;let o=e.length;if(o<4)return"";let r=e[0],a=e[1],n=e[2],l=`M${r[0].toFixed(2)},${r[1].toFixed(2)} Q${a[0].toFixed(2)},${a[1].toFixed(2)} ${(((i=a[0])+n[0])/2).toFixed(2)},${(((s=a[1])+n[1])/2).toFixed(2)} T`;for(let t=2,i=o-1;t<i;t++)r=e[t],a=e[t+1],l+=`${((r[0]+a[0])/2).toFixed(2)},${((r[1]+a[1])/2).toFixed(2)} `;return t&&(l+="Z"),l}function b(e,t,i,o,r=!1){let a=s.l.sub(t,e),n=s.l.sub(o,i),l=s.l.cpr(a,n);if(d(l,0,112e-18))return null;let c=s.l.sub(e,i),h=s.l.cpr(n,c)/l,u=s.l.cpr(a,c)/l;return r||-.000000000001<h&&h<1.000000000001&&-.000000000001<u&&u<1.000000000001?(r||(h=p(h,0,1)),s.l.lrp(e,t,h)):null}function w(e,t,i,r,a,n=0){e=s.l.rot(s.l.sub(e,i),-n),t=s.l.rot(s.l.sub(t,i),-n),r*=r,a*=a;let l=[],c=s.l.sub(t,e),d=r*c[1]*c[1]+a*c[0]*c[0],h=2*(r*e[1]*c[1]+a*e[0]*c[0]),u=h*h-4*d*(r*e[1]*e[1]+a*e[0]*e[0]-r*a);if(u>=0){let t=Math.sqrt(u),o=(-h+t)/(2*d),r=(-h-t)/(2*d);0<=o&&o<=1&&l.push(s.l.add(s.l.rot(s.l.add(s.l.mul(c,o),e),n),i)),0<=r&&r<=1&&Math.abs(o-r)>1e-16&&l.push(s.l.add(s.l.rot(s.l.add(s.l.mul(c,r),e),n),i))}return 0===l.length?null:l.map(e=>{let t=new o.S(e),n=s.l.uni(s.l.divV(s.l.sub(e,i),[r*r,a*a]));return t.tangent=[-n[1],n[0]],t})}function x(e,t,i){let r=[],a=i.length;for(let n=0;n<a;n++){let l=i[n],c=i[(n+1)%a],d=b(e,t,l,c);if(d){let e=new o.S(d);e.tangent=s.l.normalize(s.l.sub(c,l)),r.push(e)}}return r.length?r:null}function _(e,t){let i;let o=e.length,r=1/0;for(let a=0;a<o;a++){let n=e[a],l=e[(a+1)%o],c=s.l.nearestPointOnLineSegment(n,l,t,!0),d=s.l.dist(c,t);d<r&&(r=d,i=c)}return i}function C(e,t){let i=e.length;for(let o=0;o<i;o++){let r=e[o],a=e[(o+1)%i];if(function(e,t){let[i,o]=t,r=s.l.sub(e,i),a=s.l.sub(e,o);return d(s.l.cpr(r,a),0,.01)&&0>=s.l.dpr(r,a)}(t,[r,a]))return s.l.normalize(s.l.sub(a,r))}return[0,0]}function k(e,t,i){let r=[],a=i.length;for(let n=0;n<a-1;n++){let a=i[n],l=i[n+1],c=b(e,t,a,l);c&&r.push(new o.S(c,s.l.normalize(s.l.sub(l,a))))}return r.length?r:null}function S(e,t){let i;let o=e.length,r=1/0;for(let a=0;a<o-1;a++){let o=e[a],n=e[a+1],l=s.l.nearestPointOnLineSegment(o,n,t,!0),c=s.l.dist(l,t);c<r&&(r=c,i=l)}return i}function M(e){return e>0?1:-1}function E(e,t){let{x:i,y:s,w:o,h:r,rotate:a}=e;if(!a)return t;let n=i+o/2,l=s+r/2,c=new DOMMatrix().translateSelf(n,l).rotateSelf(a).translateSelf(-n,-l),d=new DOMPoint(...t).matrixTransform(c);return[d.x,d.y]}function I(e,t,i){let o=P(i);return e.map(e=>s.l.rotWith(e,t,o))}function B(e,t=({x:e,y:t,w:i,h:s})=>[[e,t],[e+i,t],[e+i,t+s],[e,t+s]]){let{rotate:i}=e,s=t(e);if(i){let{x:t,y:o,w:r,h:a}=e,n=t+r/2,l=o+a/2,c=new DOMMatrix().translateSelf(n,l).rotateSelf(i).translateSelf(-n,-l);s=s.map(e=>{let{x:t,y:i}=new DOMPoint(...e).matrixTransform(c);return[t,i]})}return s}function $(e){let{x:t,y:i,w:s,h:o,rotate:r}=e,a=new DOMRect(t,i,s,o);return r?new DOMQuad(...B(e).map(e=>new DOMPoint(...e))).getBounds():a}function T(e){let{x:t,y:i,width:s,height:o}=$(e);return{x:t,y:i,w:s,h:o}}function O(e){return e<0&&(e+=360),e%=360}function P(e){return e*Math.PI/180}function A(e){return 180*e/Math.PI}function H(e,t,i,s=!0){let o=s?(e,t)=>e<t:(e,t)=>e<=t;return!(o(Math.max(e[0][i],e[1][i]),Math.min(t[0][i],t[1][i]))||o(Math.max(t[0][i],t[1][i]),Math.min(e[0][i],e[1][i])))}function L(e,t){let{x:i,y:s,w:o,h:r,rotate:a}=e,n=o*t,l=r*t;return{x:i+o/2-n/2,y:s+r/2-l/2,w:n,h:l,rotate:a}}let D=(e,t,i,s)=>Math.hypot(i-e,s-t);function Z(e,t,i,o,r){let a,n,l;if(0===i)a=o[0]-e.x,n=o[1]-e.y;else{let{minX:t,minY:r,maxX:l,maxY:c}=e,d=function(e,t,i){let o=P(i);return s.l.add(t,s.l.rot(s.l.sub(e,t),o))}(o,[t+(l-t)/2,r+(c-r)/2],-i);a=d[0]-e.x,n=d[1]-e.y}let[c,d]=t;if(D(c[0],c[1],a,n)<r||D(d[0],d[1],a,n)<r)return!0;for(let e=0;e<t.length;e++){let i=[d[0]-c[0],d[1]-c[1]],s=Math.hypot(i[1],i[0]),o=[i[0]/s,i[1]/s],h=[a-c[0],n-c[1]],u=(h[0]*o[0]+h[1]*o[1])/Math.hypot(o[1],o[0]),p=D((l=[c[0]+o[0]*u,c[1]+o[1]*u])[0],l[1],c[0],c[1]),f=D(l[0],l[1],d[0],d[1]);if(Math.hypot(n-(l=f<p&&p>s?d:p<f&&f>s?c:l)[1],a-l[0])<r)return!0;c=d,d=t[e+1]}return!1}},14512:(e,t,i)=>{i.d(t,{H:()=>s});let s=(0,i(73711).A9)({flavour:"affine:surface-ref",props:()=>({reference:"",caption:""}),metadata:{version:1,role:"content",parent:["affine:note","affine:paragraph","affine:list"]}})},63820:(e,t,i)=>{i.d(t,{$M:()=>l,A_:()=>a,H8:()=>h,bE:()=>u,pz:()=>c,u2:()=>r,vL:()=>d});let s=globalThis.navigator?.userAgent??"",o=globalThis.navigator?.platform,r="undefined"!=typeof window&&"undefined"!=typeof document,a="undefined"!=typeof process&&!r,n=/Apple Computer/.test(globalThis.navigator?.vendor),l=r&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1;/Android \d/.test(s);let c=n&&(/Mobile\/\w+/.test(s)||globalThis.navigator?.maxTouchPoints>2),d=/Mac/i.test(o),h=/Win/.test(o),u="requestIdleCallback"in globalThis},73134:(e,t,i)=>{var s;i.d(t,{O:()=>s}),function(e){e[e.DefaultRuntimeError=1]="DefaultRuntimeError",e[e.ReactiveProxyError=2]="ReactiveProxyError",e[e.DocCollectionError=3]="DocCollectionError",e[e.ModelCRUDError=4]="ModelCRUDError",e[e.ValueNotExists=5]="ValueNotExists",e[e.ValueNotInstanceOf=6]="ValueNotInstanceOf",e[e.ValueNotEqual=7]="ValueNotEqual",e[e.MigrationError=8]="MigrationError",e[e.SchemaValidateError=9]="SchemaValidateError",e[e.TransformerError=10]="TransformerError",e[e.InlineEditorError=11]="InlineEditorError",e[e.TransformerNotImplementedError=12]="TransformerNotImplementedError",e[e.EdgelessExportError=13]="EdgelessExportError",e[e.CommandError=14]="CommandError",e[e.EventDispatcherError=15]="EventDispatcherError",e[e.SelectionError=16]="SelectionError",e[e.GfxBlockElementError=17]="GfxBlockElementError",e[e.MissingViewModelError=18]="MissingViewModelError",e[e.DatabaseBlockError=19]="DatabaseBlockError",e[e.DefaultFatalError=1e4]="DefaultFatalError",e[e.NoRootModelError=10001]="NoRootModelError",e[e.NoSurfaceModelError=10002]="NoSurfaceModelError",e[e.NoneSupportedSSRError=10003]="NoneSupportedSSRError"}(s||(s={}))},68419:(e,t,i)=>{i.d(t,{H4:()=>o,Ss:()=>s});class s extends Error{constructor(e,t){super(t),this.name="BlockSuiteError",this.code=e,this.isFatal=e>=1e4}}function o(e){if(!(e instanceof s))throw e;if(e.isFatal)throw Error("A fatal error for BlockSuite occurs, please contact the team if you find this.",{cause:e});console.error("A runtime error for BlockSuite occurs, you can ignore this error if it won't break the user experience."),console.error(e.stack)}},71006:(e,t,i)=>{i.d(t,{QV:()=>l,U2:()=>d,Z1:()=>n,j:()=>a,n4:()=>c,nn:()=>h});var s=i(73134),o=i(68419);function r(e){return e!==Object(e)}function a(e){}function n(e,t="val does not exist",i=s.O.ValueNotExists){if(null==e){if(t instanceof Error)throw t;throw new o.Ss(i,t)}}function l(e,t="val exists",i=s.O.ValueNotExists){if(null!=e)throw new o.Ss(i,t)}function c(e,t){let i=r(e),s=r(t);if(i&&s){if(!Object.is(e,t))return!1}else{if(i!==s)return!1;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((e,i)=>c(e,t[i]));if("object"==typeof e&&"object"==typeof t){let i=Object.entries(e),s=Object.entries(t);return i.length===s.length&&i.every((e,t)=>c(e,s[t]))}}return!0}function d(e,t,i="val is not same as expected",r=s.O.ValueNotEqual){if(!c(e,t))throw new o.Ss(r,i)}function h(e,t,i="val is not instance of expected",r=s.O.ValueNotInstanceOf){if(!(e instanceof t))throw new o.Ss(r,i)}},94098:(e,t,i)=>{i.d(t,{z:()=>r});var s=i(54702),o=i(43228);class r{constructor(e=0,t=0,i=0,s=0){this.x=e,this.y=t,this.w=i,this.h=s}static deserialize(e){let[t,i,s,a]=(0,o.W)(e);return new r(t,i,s,a)}static from(e){return new r(e.x,e.y,e.w,e.h)}static fromCenter(e,t,i){let[s,o]=e;return new r(s-t/2,o-i/2,t,i)}static fromDOMRect({left:e,top:t,width:i,height:s}){return new r(e,t,i,s)}static fromPoints(e){let{minX:t,minY:i,maxX:o,maxY:a}=(0,s.lK)(e);return new r(t,i,o-t,a-i)}static fromXYWH(e){return new r(e[0],e[1],e[2],e[3])}static serialize(e){return(0,o.P)(e.x,e.y,e.w,e.h)}clone(){return new r(this.x,this.y,this.w,this.h)}contains(e){return e.x>=this.x&&e.y>=this.y&&e.maxX<=this.maxX&&e.maxY<=this.maxY}containsPoint([e,t]){let{minX:i,minY:s,maxX:o,maxY:r}=this;return i<=e&&e<=o&&s<=t&&t<=r}expand(e,t=e,i=e,s=t){return new r(this.x-e,this.y-t,this.w+e+i,this.h+t+s)}getRelativePoint([e,t]){return[this.x+e*this.w,this.y+t*this.h]}getVerticesAndMidpoints(){return[...this.points,...this.midPoints]}horizontalDistance(e){return Math.min(Math.abs(this.minX-e.maxX),Math.abs(this.maxX-e.minX))}include(e){let t=Math.min(this.x,e[0]),i=Math.min(this.y,e[1]);return new r(t,i,Math.max(this.maxX,e[0])-t,Math.max(this.maxY,e[1])-i)}intersectLine(e,t,i=!1){let o=[];return[[this.tl,this.tr],[this.tl,this.bl],[this.tr,this.br],[this.bl,this.br]].forEach(([r,a])=>{let n=(0,s.$B)(e,t,r,a,i);n&&o.push(n)}),0===o.length?null:o}isHorizontalCross(e){return!(this.maxY<e.minY||this.minY>e.maxY)}isIntersectWithBound(e,t=s.p8){return e.maxX>this.minX-t&&e.maxY>this.minY-t&&e.minX<this.maxX+t&&e.minY<this.maxY+t&&!this.contains(e)&&!e.contains(this)}isOverlapWithBound(e,t=s.p8){return e.maxX>this.minX-t&&e.maxY>this.minY-t&&e.minX<this.maxX+t&&e.minY<this.maxY+t}isPointInBound([e,t],i=.01){return e>this.minX+i&&e<this.maxX-i&&t>this.minY+i&&t<this.maxY-i}isPointNearBound([e,t],i=.01){return(0,s.w)(this.points,[e,t])<i}isVerticalCross(e){return!(this.maxX<e.minX||this.minX>e.maxX)}serialize(){return(0,o.P)(this.x,this.y,this.w,this.h)}toRelative([e,t]){return[(e-this.x)/this.w,(t-this.y)/this.h]}toXYWH(){return[this.x,this.y,this.w,this.h]}unite(e){let t=Math.min(this.x,e.x),i=Math.min(this.y,e.y);return new r(t,i,Math.max(this.maxX,e.maxX)-t,Math.max(this.maxY,e.maxY)-i)}verticalDistance(e){return Math.min(Math.abs(this.minY-e.maxY),Math.abs(this.maxY-e.minY))}get bl(){return[this.x,this.y+this.h]}get br(){return[this.x+this.w,this.y+this.h]}get center(){return[this.x+this.w/2,this.y+this.h/2]}set center([e,t]){let[i,s]=this.center;this.x+=e-i,this.y+=t-s}get horizontalLine(){return[[this.x,this.y+this.h/2],[this.x+this.w,this.y+this.h/2]]}get leftLine(){return[[this.x,this.y],[this.x,this.y+this.h]]}get lowerLine(){return[[this.x,this.y+this.h],[this.x+this.w,this.y+this.h]]}get maxX(){return this.x+this.w}get maxY(){return this.y+this.h}get midPoints(){return[[this.x+this.w/2,this.y],[this.x+this.w,this.y+this.h/2],[this.x+this.w/2,this.y+this.h],[this.x,this.y+this.h/2]]}get minX(){return this.x}get minY(){return this.y}get points(){return[[this.x,this.y],[this.x+this.w,this.y],[this.x+this.w,this.y+this.h],[this.x,this.y+this.h]]}get rightLine(){return[[this.x+this.w,this.y],[this.x+this.w,this.y+this.h]]}get tl(){return[this.x,this.y]}get tr(){return[this.x+this.w,this.y]}get upperLine(){return[[this.x,this.y],[this.x+this.w,this.y]]}get verticalLine(){return[[this.x+this.w/2,this.y],[this.x+this.w/2,this.y+this.h]]}}},96509:(e,t,i)=>{i.d(t,{h:()=>r});var s=i(3531),o=i(30827);async function r(e){let t=void 0===crypto.subtle?(0,o.b)(new Uint8Array(e)):await crypto.subtle.digest("SHA-256",e);return(0,s.nk)(new Uint8Array(t)).replace(/\+/g,"-").replace(/\//g,"_")}},69050:(e,t,i)=>{i.d(t,{K:()=>s,O:()=>o});class s{constructor(){this._disposables=[],this._disposed=!1}add(e){"function"==typeof e?this._disposed?e():this._disposables.push({dispose:e}):this._disposed?e.dispose():this._disposables.push(e)}addFromEvent(e,t,i,s){this.add({dispose:()=>{e.removeEventListener(t,i,s)}}),e.addEventListener(t,i,s)}dispose(){r(this._disposables),this._disposables=[],this._disposed=!0}get disposed(){return this._disposed}}function o(e){return{dispose:()=>r(e)}}function r(e){for(let t of e)try{t.dispose()}catch(e){console.error(e)}}},64816:(e,t,i)=>{async function s(e,t){return new Promise(i=>{if(t?.aborted){i();return}let s=!1;t?.addEventListener("abort",()=>{s||(clearTimeout(o),i())});let o=setTimeout(()=>{s=!0,i()},e)})}function o(e){}function r(e,t,{leading:i=!0,trailing:s=!0}={}){let o=null,a=null,n=()=>{a&&s?(e(...a),a=null,o=setTimeout(n,t)):o=null};return function(...s){if(o){a=s;return}i&&e.apply(this,s),o=setTimeout(n,t)}}i.d(t,{lQ:()=>o,nF:()=>r,sg:()=>a,yy:()=>s});let a=(e,t,{leading:i=!0,trailing:s=!0}={})=>{let o=null,r=null,a=()=>{r&&s?(e(...r),r=null,o=setTimeout(a,t)):o=null};return function(...s){o&&(r=s,clearTimeout(o)),i&&!o&&e(...s),o=setTimeout(a,t)}}},54702:(e,t,i)=>{i.d(t,{$B:()=>c,$L:()=>d,Bn:()=>n,Dx:()=>m,Hb:()=>f,W4:()=>g,e0:()=>l,f3:()=>u,lK:()=>function e(t,i=0){let s=1/0,r=1/0,a=-1/0,n=-1/0;if(t.length<1)s=0,r=0,a=1,n=1;else for(let[e,i]of t)s=Math.min(e,s),r=Math.min(i,r),a=Math.max(e,a),n=Math.max(i,n);return 0!==i?e(t.map(e=>o.l.rotWith(e,[(s+a)/2,(r+n)/2],i))):{minX:s,minY:r,maxX:a,maxY:n,width:Math.max(1,a-s),height:Math.max(1,n-r)}},p8:()=>r,qE:()=>p,vo:()=>a,w:()=>h});var s=i(96458),o=i(31716);let r=1e-12;function a(){return Math.floor(2147483648*Math.random())}function n(e,t=({x:e,y:t,w:i,h:s})=>[[e,t],[e+i,t],[e+i,t+s],[e,t+s]]){let{rotate:i}=e,s=t(e);if(i){let{x:t,y:o,w:r,h:a}=e,n=t+r/2,l=o+a/2,c=new DOMMatrix().translateSelf(n,l).rotateSelf(i).translateSelf(-n,-l);s=s.map(e=>{let{x:t,y:i}=new DOMPoint(...e).matrixTransform(c);return[t,i]})}return s}function l(e){let{x:t,y:i,width:s,height:o}=function(e){let{x:t,y:i,w:s,h:o,rotate:r}=e,a=new DOMRect(t,i,s,o);return r?new DOMQuad(...n(e).map(e=>new DOMPoint(...e))).getBounds():a}(e);return{x:t,y:i,w:s,h:o}}function c(e,t,i,s,a=!1){let n=o.l.sub(t,e),l=o.l.sub(s,i),d=o.l.cpr(n,l);if(u(d,0,112e-18))return null;let h=o.l.sub(e,i),f=o.l.cpr(l,h)/d,g=o.l.cpr(n,h)/d,m=-r,v=1+r;return a||m<f&&f<v&&m<g&&g<v?(a||(f=p(f,0,1)),o.l.lrp(e,t,f)):null}function d(e,t){let i;let s=e.length,r=1/0;for(let a=0;a<s;a++){let n=e[a],l=e[(a+1)%s],c=o.l.nearestPointOnLineSegment(n,l,t,!0),d=o.l.dist(c,t);d<r&&(r=d,i=c)}return i}function h(e,t){let i=d(e,t);return o.l.dist(i,t)}function u(e,t,i=1e-4){return Math.abs(e-t)<i}function p(e,t,i){return Math.max(t,void 0!==i?Math.min(e,i):e)}function f(e,t,i){let s=i*Math.PI/180;return e.map(e=>o.l.rotWith(e,t,s))}function g(e,t){let i=e.length;for(let s=0;s<i;s++){let r=e[s],a=e[(s+1)%i];if(function(e,t){let[i,s]=t,r=o.l.sub(e,i),a=o.l.sub(e,s);return u(o.l.cpr(r,a),0,.01)&&0>=o.l.dpr(r,a)}(t,[r,a]))return o.l.normalize(o.l.sub(a,r))}return[0,0]}function m(e,t,i){let r=[],a=i.length;for(let n=0;n<a;n++){let l=i[n],d=i[(n+1)%a],h=c(e,t,l,d);if(h){let e=new s.S(h);e.tangent=o.l.normalize(o.l.sub(d,l)),r.push(e)}}return r.length?r:null}},96458:(e,t,i)=>{i.d(t,{S:()=>o});var s=i(31716);class o extends Array{constructor(e=[0,0],t=[0,0],i=[0,0],s=[0,0]){super(2),this._in=[0,0],this._out=[0,0],this._tangent=[0,0],this[0]=e[0],this[1]=e[1],this._tangent=t,this._in=i,this._out=s}static fromVec(e){let t=new o;return t[0]=e[0],t[1]=e[1],t}clone(){return new o(this,this._tangent,this._in,this._out)}setVec(e){return this[0]=e[0],this[1]=e[1],this}toVec(){return[this[0],this[1]]}get absIn(){return s.l.add(this,this._in)}get absOut(){return s.l.add(this,this._out)}get in(){return this._in}set in(e){this._in=e}get length(){return super.length}get out(){return this._out}set out(e){this._out=e}get tangent(){return this._tangent}set tangent(e){this._tangent=e}}},46427:(e,t,i)=>{i.d(t,{b:()=>o});var s=i(54702);class o{constructor(e=0,t=0){this.x=e,this.y=t}static clamp(e,t,i){return new o((0,s.qE)(e.x,t.x,i.x),(0,s.qE)(e.y,t.y,i.y))}static from(e,t){return Array.isArray(e)?new o(e[0],e[1]):"number"==typeof e?new o(e,t??e):new o(e.x,e.y)}static max(e,t){return new o(Math.max(e.x,t.x),Math.max(e.y,t.y))}static min(e,t){return new o(Math.min(e.x,t.x),Math.min(e.y,t.y))}add(e){return new o(this.x+e.x,this.y+e.y)}clone(){return new o(this.x,this.y)}cross(e){return this.x*e.y-this.y*e.x}equals({x:e,y:t}){return this.x===e&&this.y===t}lerp(e,t){return new o(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)}scale(e){return new o(this.x*e,this.y*e)}set(e,t){this.x=e,this.y=t}subtract(e){return new o(this.x-e.x,this.y-e.y)}toArray(){return[this.x,this.y]}}},50620:(e,t,i)=>{i.d(t,{D:()=>o});var s=i(69050);class o{constructor(){this._callbacks=[],this._disposables=[],this._emitting=!1,this.subscribe=(e,t,i)=>{let s;let{filter:o,equalityFn:r=Object.is}=i??{};return this.on(i=>{if(o&&!o(i))return;let a=e(i);void 0!==s&&r(s,a)||(t(a),s=a)})}}dispose(){(0,s.O)(this._disposables).dispose(),this._callbacks=[],this._disposables=[]}emit(e){let t=this._emitting;this._emitting=!0,this._callbacks.forEach(t=>{try{t(e)}catch(e){console.error(e)}}),this._emitting=t}filter(e){let t=new o;return this._disposables.push({dispose:()=>t.dispose()}),this.on(i=>{e(i)&&t.emit(i)}),t}flatMap(e){let t=new o;return this._disposables.push({dispose:()=>t.dispose()}),this.on(i=>{let s=e(i);Array.isArray(s)?s.forEach(e=>t.emit(e)):t.emit(s)}),t}on(e){if(this._emitting){let t=[...this._callbacks,e];this._callbacks=t}else this._callbacks.push(e);return{dispose:()=>{if(this._emitting)this._callbacks=this._callbacks.filter(t=>t!==e);else{let t=this._callbacks.indexOf(e);t>-1&&this._callbacks.splice(t,1)}}}}once(e){let t;let i=this.on(i=>{e(i),t&&t()});return t=i.dispose,i}pipe(e){return this._callbacks.push(t=>e.emit(t)),this}toDispose(e){return e.push(this),this}unshift(e){if(this._emitting){let t=[e,...this._callbacks];this._callbacks=t}else this._callbacks.unshift(e);return{dispose:()=>{if(this._emitting)this._callbacks=this._callbacks.filter(t=>t!==e);else{let t=this._callbacks.indexOf(e);t>-1&&this._callbacks.splice(t,1)}}}}}},31716:(e,t,i)=>{i.d(t,{l:()=>s});class s{static{this.abs=e=>[Math.abs(e[0]),Math.abs(e[1])]}static{this.add=(e,t)=>[e[0]+t[0],e[1]+t[1]]}static{this.addScalar=(e,t)=>[e[0]+t,e[1]+t]}static{this.ang=(e,t)=>Math.atan2(s.cpr(e,t),s.dpr(e,t))}static{this.ang3=(e,t,i)=>{let o=s.vec(t,e),r=s.vec(t,i);return s.ang(o,r)}}static{this.angle=(e,t)=>Math.atan2(t[1]-e[1],t[0]-e[0])}static{this.clockwise=(e,t,i)=>s.isLeft(e,t,i)>0}static{this.cpr=(e,t)=>e[0]*t[1]-t[0]*e[1]}static{this.dist=(e,t)=>Math.hypot(e[1]-t[1],e[0]-t[0])}static{this.dist2=(e,t)=>s.len2(s.sub(e,t))}static{this.distanceToBounds=(e,t)=>s.dist(t,s.nearestPointOnBounds(e,t))}static{this.distanceToLineSegment=(e,t,i,o=!0)=>s.dist(i,s.nearestPointOnLineSegment(e,t,i,o))}static{this.distanceToLineThroughPoint=(e,t,i)=>s.dist(i,s.nearestPointOnLineThroughPoint(e,t,i))}static{this.div=(e,t)=>[e[0]/t,e[1]/t]}static{this.divV=(e,t)=>[e[0]/t[0],e[1]/t[1]]}static{this.dpr=(e,t)=>e[0]*t[0]+e[1]*t[1]}static{this.fastDist=(e,t)=>{let i=[t[0]-e[0],t[1]-e[1]],s=[Math.abs(i[0]),Math.abs(i[1])],o=1/Math.max(s[0],s[1]);return[i[0]*(o*=1.29289-(s[0]+s[1])*o*.29289),i[1]*o]}}static{this.int=(e,t,i,o,r=1)=>{let a=(s.clamp(i,o)-i)/(o-i);return s.add(s.mul(e,1-a),s.mul(t,r))}}static{this.isEqual=(e,t)=>e[0]===t[0]&&e[1]===t[1]}static{this.isLeft=(e,t,i)=>(t[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(t[1]-e[1])}static{this.len=e=>Math.hypot(e[0],e[1])}static{this.len2=e=>e[0]*e[0]+e[1]*e[1]}static{this.lrp=(e,t,i)=>s.add(e,s.mul(s.sub(t,e),i))}static{this.max=(...e)=>[Math.max(...e.map(e=>e[0])),Math.max(...e.map(e=>e[1]))]}static{this.med=(e,t)=>s.mul(s.add(e,t),.5)}static{this.min=(...e)=>[Math.min(...e.map(e=>e[0])),Math.min(...e.map(e=>e[1]))]}static{this.mul=(e,t)=>[e[0]*t,e[1]*t]}static{this.mulV=(e,t)=>[e[0]*t[0],e[1]*t[1]]}static{this.nearestPointOnBounds=(e,t)=>[s.clamp(t[0],e.minX,e.maxX),s.clamp(t[1],e.minY,e.maxY)]}static{this.nearestPointOnLineSegment=(e,t,i,o=!0)=>{let r=s.uni(s.sub(t,e)),a=s.add(e,s.mul(r,s.pry(s.sub(i,e),r)));if(o){if(a[0]<Math.min(e[0],t[0]))return e[0]<t[0]?e:t;if(a[0]>Math.max(e[0],t[0]))return e[0]>t[0]?e:t;if(a[1]<Math.min(e[1],t[1]))return e[1]<t[1]?e:t;if(a[1]>Math.max(e[1],t[1]))return e[1]>t[1]?e:t}return a}}static{this.nearestPointOnLineThroughPoint=(e,t,i)=>s.add(e,s.mul(t,s.pry(s.sub(i,e),t)))}static{this.neg=e=>[-e[0],-e[1]]}static{this.normalize=e=>s.uni(e)}static{this.nudge=(e,t,i)=>s.isEqual(e,t)?e:s.add(e,s.mul(s.uni(s.sub(t,e)),i))}static{this.nudgeAtAngle=(e,t,i)=>[Math.cos(t)*i+e[0],Math.sin(t)*i+e[1]]}static{this.per=e=>[e[1],-e[0]]}static{this.pointOffset=(e,t,i)=>{let o=s.uni(s.sub(t,e));return s.isEqual(e,t)&&(o=e),s.add(e,s.mul(o,i))}}static{this.pointsBetween=(e,t,i=6)=>Array.from({length:i}).map((o,r)=>{let a=r/(i-1),n=Math.min(1,.5+Math.abs(.5-a));return[...s.lrp(e,t,a),n]})}static{this.pry=(e,t)=>s.dpr(e,t)/s.len(t)}static{this.rescale=(e,t)=>{let i=s.len(e);return[t*e[0]/i,t*e[1]/i]}}static{this.rot=(e,t=0)=>[e[0]*Math.cos(t)-e[1]*Math.sin(t),e[0]*Math.sin(t)+e[1]*Math.cos(t)]}static{this.rotWith=(e,t,i=0)=>{if(0===i)return e;let s=Math.sin(i),o=Math.cos(i),r=e[0]-t[0],a=e[1]-t[1];return[r*o-a*s+t[0],r*s+a*o+t[1]]}}static{this.slope=(e,t)=>e[0]===t[0]?NaN:(e[1]-t[1])/(e[0]-t[0])}static{this.sub=(e,t)=>[e[0]-t[0],e[1]-t[1]]}static{this.subScalar=(e,t)=>[e[0]-t,e[1]-t]}static{this.tangent=(e,t)=>s.uni(s.sub(e,t))}static{this.toFixed=e=>e.map(e=>Math.round(100*e)/100)}static{this.toPoint=e=>({x:e[0],y:e[1]})}static{this.toPrecision=(e,t=4)=>[+e[0].toPrecision(t),+e[1].toPrecision(t)]}static{this.toVec=e=>[e.x,e.y]}static{this.uni=e=>s.div(e,s.len(e))}static{this.vec=(e,t)=>[t[0]-e[0],t[1]-e[1]]}static clamp(e,t,i){return Math.max(t,void 0!==i?Math.min(e,i):e)}static clampV(e,t,i){return e.map(e=>void 0!==i?s.clamp(e,t,i):s.clamp(e,t))}static cross(e,t,i){return(t[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(t[1]-e[1])}static snap(e,t=1){return[Math.round(e[0]/t)*t,Math.round(e[1]/t)*t]}}},43228:(e,t,i)=>{function s(e,t,i,s){return`[${e},${t},${i},${s}]`}function o(e){try{return JSON.parse(e)}catch(t){return console.error("Failed to deserialize xywh",e),console.error(t),[0,0,0,0]}}i.d(t,{P:()=>s,W:()=>o})},46317:(e,t,i)=>{i.d(t,{jN:()=>d,hq:()=>er,gT:()=>A,rM:()=>P,GZ:()=>c,pe:()=>l,oe:()=>E,BS:()=>H,zA:()=>S});var s=i(68419),o=i(73134),r=i(91449),a=i(4564),n=i(54719);let l="​",c="‌",d="data-v-root";var h=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},u=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let p=(()=>{let e,t,i,c,p=[(0,a.EM)("v-element")],f=[],g=r.WF,m=[],v=[],y=[],b=[];return class extends g{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(g[Symbol.metadata]??null):void 0;i=[(0,a.MZ)({type:Object})],c=[(0,a.MZ)({attribute:!1})],h(this,null,i,{kind:"accessor",name:"delta",static:!1,private:!1,access:{has:e=>"delta"in e,get:e=>e.delta,set:(e,t)=>{e.delta=t}},metadata:s},m,v),h(this,null,c,{kind:"accessor",name:"selected",static:!1,private:!1,access:{has:e=>"selected"in e,get:e=>e.selected,set:(e,t)=>{e.selected=t}},metadata:s},y,b),h(null,e={value:t},p,{kind:"class",name:t.name,metadata:s},null,f),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s}),u(t,f)}createRenderRoot(){return this}render(){let e=function(e){let t=e.closest(`[${d}]`);return t?t.inlineEditor||(console.error("element must be inside a v-root with inline-editor"),null):(console.error("element must be inside a v-root"),null)}(this);if(!e)return r.s6;let t=e.attributeService.attributeRenderer;if(e.isEmbed(this.delta)){if(1!==this.delta.insert.length)throw new s.Ss(o.O.InlineEditorError,`The length of embed node should only be 1.
          This seems to be an internal issue with inline editor.
          Please go to https://github.com/toeverything/blocksuite/issues
          to report it.`);return(0,r.qy)`<span
        data-v-embed="true"
        data-v-element="true"
        contenteditable="false"
        style=${(0,n.W)({userSelect:"none"})}
        >${t(this.delta,this.selected)}</span
      >`}return(0,r.qy)`<span data-v-element="true"
      >${t(this.delta,this.selected)}</span
    >`}#W=u(this,m,{insert:l});get delta(){return this.#W}set delta(e){this.#W=e}#l_=(u(this,v),u(this,y,!1));get selected(){return this.#l_}set selected(e){this.#l_=e}constructor(){super(...arguments),u(this,b)}},t})();var f=i(71006);let g=(0,r.qy)`<span
  data-v-embed-gap="true"
  style=${(0,n.W)({userSelect:"text",padding:"0 0.5px",outline:"none"})}
  ><v-text></v-text
></span>`;var m=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},v=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let y=(()=>{let e,t,i,c,h=[(0,a.EM)("v-line")],u=[],p=r.WF,y=[],b=[],w=[],x=[];return class extends p{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(p[Symbol.metadata]??null):void 0;i=[(0,a.MZ)({attribute:!1})],c=[(0,a.MZ)({attribute:!1})],m(this,null,i,{kind:"accessor",name:"elements",static:!1,private:!1,access:{has:e=>"elements"in e,get:e=>e.elements,set:(e,t)=>{e.elements=t}},metadata:s},y,b),m(this,null,c,{kind:"accessor",name:"index",static:!1,private:!1,access:{has:e=>"index"in e,get:e=>e.index,set:(e,t)=>{e.index=t}},metadata:s},w,x),m(null,e={value:t},h,{kind:"class",name:t.name,metadata:s},null,u),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s}),v(t,u)}createRenderRoot(){return this}firstUpdated(){this.style.display="block",this.addEventListener("mousedown",e=>{if(e.detail>=3){e.preventDefault();let t=document.createRange();t.selectNodeContents(this);let i=window.getSelection();(0,f.Z1)(i),i.removeAllRanges(),i.addRange(t)}})}async getUpdateComplete(){let e=await super.getUpdateComplete();return await Promise.all(this.vElements.map(e=>e.updateComplete)),await Promise.all(this.vTexts.map(e=>e.updateComplete)),e}render(){if(this.isConnected)return this.inlineEditor.vLineRenderer?this.inlineEditor.vLineRenderer(this):this.renderVElements()}renderVElements(){if(0===this.elements.length)return(0,r.qy)`<div><v-text .str=${l}></v-text></div>`;let e=this.inlineEditor,t=this.elements.flatMap(([t,i],r)=>{if(e.isEmbed(i)){if(1!==i.insert.length)throw new s.Ss(o.O.InlineEditorError,`The length of embed node should only be 1.
            This seems to be an internal issue with inline editor.
            Please go to https://github.com/toeverything/blocksuite/issues
            to report it.`);if(0===r){let i=this.elements[r+1]?.[1];return!i||e.isEmbed(i)?[g,t,g]:[g,t]}{let i=this.elements[r+1]?.[1];return!i||e.isEmbed(i)?[t,g]:[t]}}return t});return(0,r.qy)`<div style=${(0,n.W)({padding:"0 0.5px",display:"inline-block"})}>${t}</div>`}get inlineEditor(){let e=this.closest(`[${d}]`);(0,f.Z1)(e,"v-line must be inside a v-root");let t=e.inlineEditor;return(0,f.Z1)(t,"v-line must be inside a v-root with inline-editor"),t}get vElements(){return Array.from(this.querySelectorAll("v-element"))}get vTextContent(){return this.vElements.reduce((e,t)=>e+t.delta.insert,"")}get vTextLength(){return this.vElements.reduce((e,t)=>e+t.delta.insert.length,0)}get vTexts(){return Array.from(this.querySelectorAll("v-text"))}#oH=v(this,y,[]);get elements(){return this.#oH}set elements(e){this.#oH=e}#i=(v(this,b),v(this,w,void 0));get index(){return this.#i}set index(e){this.#i=e}constructor(){super(...arguments),v(this,x)}},t})();var b=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},w=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,a.EM)("v-text")],s=[],o=r.WF,c=[],d=[];(class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;b(this,null,[(0,a.MZ)({attribute:!1})],{kind:"accessor",name:"str",static:!1,private:!1,access:{has:e=>"str"in e,get:e=>e.str,set:(e,t)=>{e.str=t}},metadata:r},c,d),b(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),w(t,s)}createRenderRoot(){return this}render(){return(0,r.qy)`<span
      style=${(0,n.W)({"word-break":"break-word","text-wrap":"wrap","white-space-collapse":"break-spaces",cursor:"text"})}
      data-v-text="true"
      >${this.str}</span
    >`}#cO=w(this,c,l);get str(){return this.#cO}set str(e){this.#cO=e}constructor(){super(...arguments),w(this,d)}})})();var x=i(69050),_=i(50620),C=i(16820);class k{constructor(e,t={}){this.editor=e,this.hooks=t}}let S=()=>e=>{let t=e.attributes?function(e){let t="";e.underline&&(t+="underline"),e.strike&&(t+=" line-through");let i={};return e.code&&(i={"font-family":'"SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace',"line-height":"normal",background:"rgba(135,131,120,0.15)",color:"#EB5757","border-radius":"3px","font-size":"85%",padding:"0.2em 0.4em"}),(0,n.W)({"font-weight":e.bold?"bold":"normal","font-style":e.italic?"italic":"normal","text-decoration":t.length>0?t:"none",...i})}(e.attributes):(0,n.W)({});return(0,r.qy)`<span style=${t}
      ><v-text .str=${e.insert}></v-text
    ></span>`};var M=i(67448);let E=M.z.object({bold:M.z.literal(!0).optional().nullable().catch(void 0),italic:M.z.literal(!0).optional().nullable().catch(void 0),underline:M.z.literal(!0).optional().nullable().catch(void 0),strike:M.z.literal(!0).optional().nullable().catch(void 0),code:M.z.literal(!0).optional().nullable().catch(void 0),link:M.z.string().optional().nullable().catch(void 0)});function I(e){let t=[],i=e.insert;for(;i.length>0;){let s=i.indexOf("\n");if(-1===s){t.push({insert:i,attributes:e.attributes});break}i.slice(0,s).length>0&&t.push({insert:i.slice(0,s),attributes:e.attributes}),t.push("\n"),i=i.slice(s+1)}return t}function B(e){return e instanceof Element?e instanceof p?null!==e.querySelector('[data-v-embed="true"]'):!!e.closest('[data-v-embed="true"]'):!!e.parentElement?.closest('[data-v-embed="true"]')}function $(e,t){let i=[];for(let s of t)if(e.isEmbed(s)){let e=[...s.insert].map(e=>({insert:e,attributes:s.attributes}));i.push(...e)}else i.push(s);return i}var T=i(63820);let O=T.pz||T.vL?"metaKey":"ctrlKey",P=!1,A=!0;function H(e,t){let i={};return Object.values(t).forEach(e=>{!function(e){let t=(e.shortKey&&(e[O]=e.shortKey,delete e.shortKey),e);(Array.isArray(t.key)?t.key:[t.key]).forEach(e=>{let s={...t,key:e};i[e]=i[e]??[],i[e].push(s)})}(e)}),function(t){let s,o;if(t.defaultPrevented||t.isComposing)return;let r=(i[t.key]??[]).filter(e=>!["altKey","ctrlKey","metaKey","shiftKey"].some(i=>Object.hasOwn(e,i)&&e[i]!==t[i])&&e.key===t.key);if(0===r.length)return;let a=e.getInlineRange();if(!a)return;let n=e.getTextPoint(a.index);if(!n)return;let[l,c]=n;if(0===a.length)s=l,o=c;else{let t=e.getTextPoint(a.index+a.length);if(!t)return;[s,o]=t}let d=l.textContent?l.textContent.slice(0,c):"",h=s.textContent?s.textContent.slice(o):"",u={inlineRange:a,inlineEditor:e,collapsed:0===a.length,prefixText:d,suffixText:h,raw:t};r.some(e=>(!e.prefix||!!e.prefix.test(u.prefixText))&&(!e.suffix||!!e.suffix.test(u.suffixText))&&e.handler(u)===P)&&t.preventDefault()}}function L(e){return e.wholeText===l?0:e.wholeText.length}function D(e){return Array.from(e.querySelectorAll('[data-v-text="true"]')).flatMap(e=>Array.from(e.childNodes).find(e=>e instanceof Text)||[])}function Z(e,t){if(e instanceof Text&&e.parentElement?.dataset.vText==="true")return[e,t];if(e instanceof HTMLElement&&("true"===e.dataset.vElement||e instanceof p)){let i=D(e),s=i[0].parentElement?.closest('[data-v-element="true"]');if(1===i.length&&s instanceof HTMLElement&&"true"===s.dataset.vEmbed)return[i[0],0];if(i.length>0)return i[t]?[i[t],0]:null}if(e instanceof HTMLElement&&(e instanceof y||e.parentElement instanceof y)||e instanceof HTMLElement&&"true"===e.dataset.vRoot)return V(e,t,!0);if(!(e instanceof Node))return null;let i=function(e){let t=e.parentElement?.closest("v-line");if(t)return Array.from(t.querySelectorAll("v-element"));let i=e instanceof Element?e.closest(`[${d}]`):e.parentElement?.closest(`[${d}]`);return i?Array.from(i.querySelectorAll("v-line")):null}(e);return i?function(e,t,i){let s=e[0];for(let o=0;o<e.length;o++){let r=e[o];if(0===o&&R(t,r))return V(s,i,!0);if(r.compareDocumentPosition(t)===Node.DOCUMENT_POSITION_CONTAINED_BY||r.compareDocumentPosition(t)===(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING))return V(s,i,!1);if(o===e.length-1&&z(t,r)||o<e.length-1&&z(t,r)&&R(t,e[o+1]))return function(e){let t=D(e);if(0===t.length)return null;let i=t[t.length-1];return[i,L(i)]}(r)}return null}(i,e,t):null}function j(e,t,i){if("true"!==i.dataset.vRoot)throw new s.Ss(o.O.InlineEditorError,"textRangeToDomPoint should be called with editor root element");if(!i.contains(e))return null;let r=D(i);if(0===r.length)return null;let a=r.indexOf(e),n=0;for(let e of r.slice(0,a))n+=L(e);e.wholeText!==l&&(n+=t);let c=e.parentElement;if(!c)throw new s.Ss(o.O.InlineEditorError,"text element parent not found");let d=c.closest("v-line");if(!d)throw new s.Ss(o.O.InlineEditorError,"line element not found");return{text:e,index:n+Array.from(i.querySelectorAll("v-line")).indexOf(d)}}function V(e,t,i){let s=D(e);if(0===s.length)return null;let o=i?s[0]:s[s.length-1];return[o,0===t?t:o.length]}function R(e,t){return e.compareDocumentPosition(t)===Node.DOCUMENT_POSITION_FOLLOWING}function z(e,t){return e.compareDocumentPosition(t)===Node.DOCUMENT_POSITION_PRECEDING}let F=({rootElement:e,startText:t,endText:i})=>e.contains(t)&&e.contains(i),N=({rootElement:e,startText:t,endText:i,startTextOffset:s,endTextOffset:o})=>{let r=j(t,s,e),a=j(i,o,e);return r&&a?{index:Math.min(r.index,a.index),length:Math.abs(r.index-a.index)}:null},q=({rootElement:e,startText:t,endText:i})=>!e.contains(t)&&e.contains(i),U=({rootElement:e,endText:t,endTextOffset:i})=>{let s=j(t,i,e);return s?{index:0,length:s.index}:null},W=({rootElement:e,startText:t,endText:i})=>e.contains(t)&&!e.contains(i),G=({yText:e,rootElement:t,startText:i,startTextOffset:s})=>{let o=j(i,s,t);return o?{index:o.index,length:e.length-o.index}:null},Y=({rootElement:e,startText:t,endText:i,range:s})=>!e.contains(t)&&!e.contains(i)&&s.intersectsNode(e),K=({yText:e})=>({index:0,length:e.length}),X=(e,t,i)=>{let{startContainer:s,startOffset:o,endContainer:r,endOffset:a}=e,n=Z(s,o),l=Z(r,a);if(!n||!l)return null;let[c,d]=n,[h,u]=l;return{rootElement:t,range:e,yText:i,startNode:s,startOffset:o,endNode:r,endOffset:a,startText:c,startTextOffset:d,endText:h,endTextOffset:u}};class Q{constructor(e){this.editor=e,this._attributeRenderer=S(),this._attributeSchema=E,this._marks=null,this.getFormat=(e,t=!1)=>{let i=this.editor.deltaService.getDeltasByInlineRange(e).filter(([t,i])=>i.index+i.length>e.index&&i.index<=e.index+e.length).map(([e])=>e.attributes);return t?i.reduce((e,t)=>({...e,...t}),{}):!i.length||i.some(e=>!e)?{}:i.reduce((e,t)=>{let i={};for(let s in e)e[s]===t[s]&&(i[s]=e[s]);return i})},this.normalizeAttributes=e=>{if(!e)return;let t=this._attributeSchema.safeParse(e);if(!t.success){console.error(t.error);return}return Object.fromEntries(Object.entries(t.data).filter(([e,t])=>t||null===t))},this.resetMarks=()=>{this._marks=null},this.setAttributeRenderer=e=>{this._attributeRenderer=e},this.setAttributeSchema=e=>{this._attributeSchema=e},this.setMarks=e=>{this._marks=e}}get attributeRenderer(){return this._attributeRenderer}get marks(){return this._marks}}var J=i(22805);class ee{constructor(e){this.editor=e,this.getDeltaByRangeIndex=e=>{let t=this.deltas,i=0;for(let s of t){if(i+s.insert.length>=e)return s;i+=s.insert.length}return null},this.getDeltasByInlineRange=e=>this.mapDeltasInInlineRange(e,(e,t)=>[e,{index:t,length:e.insert.length}]),this.mapDeltasInInlineRange=(e,t,i=!1)=>{let s=i?$(this.editor,this.deltas):this.deltas,o=[];return s.reduce((i,s,r)=>{let a=s.insert.length,n=e.index-a,l=e.index+e.length;if(i>=n&&(i<l||0===e.length&&i===e.index)){let e=t(s,i,r);o.push(e)}return i+a},0),o},this.render=async(e=!0)=>{if(!this.editor.mounted)return;this.editor.slots.render.emit();let t=this.editor.rootElement,i=function(e){return 0===e.length?[[]]:Array.from(function*(e){let t=0;for(let i=0;i<e.length;i++)if("\n"===e[i]){let s=e.slice(t,i);t=i+1,yield s}else i===e.length-1&&(yield e.slice(t));"\n"===e.at(-1)&&(yield[])}(e.flatMap(I)))}($(this.editor,this.deltas)),s=0,o=i.map((e,t)=>{if(!(e.length>0))return(0,r.qy)`<v-line .elements=${[]} .index=${t}></v-line>`;{let i=[];e.forEach(e=>{i.push([e,s]),s++});let o=i.map(([e,t])=>{let i=!1,s=this.editor.getInlineRange();return s&&(i=this.isNormalizedDeltaSelected(t,s)),[function(e,t,i){return(0,r.qy)`<v-element
    .selected=${i}
    .delta=${{insert:e.insert,attributes:t(e.attributes)}}
  ></v-element>`}(e,this.editor.attributeService.normalizeAttributes,i),e]});return(0,r.qy)`<v-line .elements=${o} .index=${t}></v-line>`}});try{(0,r.XX)((0,J.u)(o.map((e,t)=>({line:e,index:t})),e=>e.index,e=>e.line),t)}catch(e){this.editor.rerenderWholeEditor(),await this.editor.waitForUpdate()}await this.editor.waitForUpdate(),e&&this.editor.rangeService.syncInlineRange(),this.editor.slots.renderComplete.emit()}}isNormalizedDeltaSelected(e,t){let i=!1;return t.length>=1&&this.editor.mapDeltasInInlineRange(t,(s,o,r)=>{r===e&&o>=t.index&&(i=!0)},!0),i}get deltas(){return this.editor.yText.toDelta()}}function et(e,t){return e===t||!!e&&!!t&&e.index===t.index&&e.length===t.length}class ei{constructor(e){this.editor=e,this._compositionInlineRange=null,this._isComposing=!1,this._isRangeCompletelyInRoot=e=>{let t=this.editor.rootElement,i=document.createRange();return(i.selectNode(t),e.startContainer.compareDocumentPosition(e.endContainer)&Node.DOCUMENT_POSITION_FOLLOWING)?i.comparePoint(e.startContainer,e.startOffset)>=0&&0>=i.comparePoint(e.endContainer,e.endOffset):i.comparePoint(e.endContainer,e.startOffset)>=0&&0>=i.comparePoint(e.startContainer,e.endOffset)},this._onBeforeInput=e=>{let t=this.editor.rangeService.getNativeRange();if(this.editor.isReadonly||this._isComposing||!t||!this._isRangeCompletelyInRoot(t))return;let i=this.editor.toInlineRange(t);if(!i)return;let s=!0;if(e.inputType.startsWith("delete")&&(function(e){let t=e instanceof Element?e:e.parentElement;return!!t&&!!t.closest('[data-v-embed-gap="true"]')}(t.commonAncestorContainer)&&0===i.length&&i.index>0?(i={index:i.index-1,length:1},s=!1):function(e){let t=e instanceof Element?e:e.parentElement,i=t?.closest("v-line");return!!i&&0===i.vTextLength}(t.commonAncestorContainer)&&0===i.length&&i.index>0&&(i={index:i.index-1,length:1},s=!1)),s){let t=e.getTargetRanges();if(t.length>0){let e=t[0],s=document.createRange();s.setStart(e.startContainer,e.startOffset),s.setEnd(e.endContainer,e.endOffset);let o=this.editor.toInlineRange(s);et(i,o)||(i=o)}}if(!i)return;e.preventDefault();let o={inlineEditor:this.editor,raw:e,inlineRange:i,data:e.data??e.dataTransfer?.getData("text/plain")??null,attributes:{}};this.editor.hooks.beforeinput?.(o),function(e,t,i,s,o){if(o.isValidInlineRange(s)){var r;if("insertText"===e)t&&(o.insertText(s,t,i),o.setInlineRange({index:s.index+t.length,length:0}));else if("insertParagraph"===e||"insertLineBreak"===e)o.insertLineBreak(s),o.setInlineRange({index:s.index+1,length:0});else if(e.startsWith("delete"))o.deleteText(s),o.setInlineRange({index:s.index,length:0});else{if("insertReplacementText"!==e)return;r=i,o.getDeltasByInlineRange(s).forEach(e=>{r={...e[0].attributes,...r}}),t&&(o.insertText(s,t,r),o.setInlineRange({index:s.index+t.length,length:0}))}}}(o.raw.inputType,o.data,o.attributes,o.inlineRange,this.editor),this.editor.slots.inputting.emit()},this._onClick=e=>{if(e.target instanceof Node&&B(e.target)){let t=document.getSelection();if(t){if(e.target instanceof HTMLElement){let i=e.target.closest("v-element");i&&t.selectAllChildren(i)}else{let i=e.target.parentElement?.closest("v-element");i&&t.selectAllChildren(i)}}}},this._onCompositionEnd=async e=>{if(this._isComposing=!1,!this.editor.rootElement.isConnected)return;let t=this.editor.rangeService.getNativeRange();if(this.editor.isReadonly||!t||!this._isRangeCompletelyInRoot(t))return;this.editor.rerenderWholeEditor(),await this.editor.waitForUpdate();let i=this._compositionInlineRange;if(!i)return;e.preventDefault();let s={inlineEditor:this.editor,raw:e,inlineRange:i,data:e.data,attributes:{}};this.editor.hooks.compositionEnd?.(s);let{inlineRange:o,data:r}=s;r&&r.length>0&&(this.editor.insertText(o,r,s.attributes),this.editor.setInlineRange({index:o.index+r.length,length:0},!1)),this.editor.slots.inputting.emit()},this._onCompositionStart=()=>{this._isComposing=!0,this.editor.rootElement.querySelectorAll('[data-v-embed="true"]').forEach(e=>{e.removeAttribute("contenteditable")});let e=this.editor.rangeService.getNativeRange();e?this._compositionInlineRange=this.editor.toInlineRange(e):this._compositionInlineRange=null},this._onCompositionUpdate=()=>{if(!this.editor.rootElement.isConnected)return;let e=this.editor.rangeService.getNativeRange();!this.editor.isReadonly&&e&&this._isRangeCompletelyInRoot(e)&&this.editor.slots.inputting.emit()},this._onKeyDown=e=>{let t=this.editor.getInlineRange();if(t&&(this.editor.slots.keydown.emit(e),!e.shiftKey&&("ArrowLeft"===e.key||"ArrowRight"===e.key))){if(0!==t.length)return;let i=()=>{e.preventDefault(),e.stopPropagation()},s=this.editor.getDeltasByInlineRange(t);if(2===s.length)"ArrowLeft"===e.key&&this.editor.isEmbed(s[0][0])?(i(),this.editor.setInlineRange({index:t.index-1,length:1})):"ArrowRight"===e.key&&this.editor.isEmbed(s[1][0])&&(i(),this.editor.setInlineRange({index:t.index,length:1}));else if(1===s.length){let o=s[0][0];this.editor.isEmbed(o)&&("ArrowLeft"===e.key&&t.index-1>=0?(i(),this.editor.setInlineRange({index:t.index-1,length:1})):"ArrowRight"===e.key&&t.index+1<=this.editor.yTextLength&&(i(),this.editor.setInlineRange({index:t.index,length:1})))}}},this._onSelectionChange=()=>{let e=this.editor.rootElement,t=this.editor.getInlineRange();if(this._isComposing)return;let i=document.getSelection();if(!i)return;if(0===i.rangeCount){null!==t&&this.editor.setInlineRange(null,!1);return}let s=i.getRangeAt(0);if(!s.intersectsNode(e)){if(s.endContainer.contains(e)&&1===Array.from(s.endContainer.childNodes).filter(e=>e instanceof HTMLElement).length&&s.startContainer.contains(e)&&1===Array.from(s.startContainer.childNodes).filter(e=>e instanceof HTMLElement).length){this.editor.focusEnd();return}null!==t&&this.editor.setInlineRange(null,!1);return}this._previousAnchor=[s.startContainer,s.startOffset],this._previousFocus=[s.endContainer,s.endOffset];let o=this.editor.toInlineRange(i.getRangeAt(0));et(t,o)||this.editor.setInlineRange(o,!1),((s.startContainer.nodeType!==Node.TEXT_NODE||s.endContainer.nodeType!==Node.TEXT_NODE)&&s.startContainer!==this._previousAnchor[0]&&s.endContainer!==this._previousFocus[0]&&s.startOffset!==this._previousAnchor[1]&&s.endOffset!==this._previousFocus[1]||s.startContainer.nodeType===Node.COMMENT_NODE||s.endContainer.nodeType===Node.COMMENT_NODE)&&this.editor.syncInlineRange()},this._previousAnchor=null,this._previousFocus=null,this.mount=()=>{let e=this.editor.eventSource,t=this.editor.rootElement;if(this.inlineRangeProvider||this.editor.disposables.addFromEvent(document,"selectionchange",this._onSelectionChange),!e){console.error("Mount inline editor without event source ready");return}this.editor.disposables.addFromEvent(e,"beforeinput",this._onBeforeInput),this.editor.disposables.addFromEvent(e,"compositionstart",this._onCompositionStart),this.editor.disposables.addFromEvent(e,"compositionupdate",this._onCompositionUpdate),this.editor.disposables.addFromEvent(e,"compositionend",e=>{this._onCompositionEnd(e).catch(console.error)}),this.editor.disposables.addFromEvent(e,"keydown",this._onKeyDown),this.editor.disposables.addFromEvent(t,"click",this._onClick)}}get inlineRangeProvider(){return this.editor.inlineRangeProvider}get isComposing(){return this._isComposing}}class es{constructor(e){this.editor=e,this._applyInlineRange=e=>{let t=document.getSelection();if(t)try{let i=this.toDomRange(e);if(!i)return;t.removeAllRanges(),t.addRange(i),this.editor.slots.inlineRangeApply.emit(i)}catch(e){console.error("failed to apply inline range"),console.error(e)}},this._inlineRange=null,this._lastEndRelativePosition=null,this._lastStartRelativePosition=null,this.focusEnd=()=>{this.setInlineRange({index:this.editor.yTextLength,length:0})},this.focusIndex=e=>{this.setInlineRange({index:e,length:0})},this.focusStart=()=>{this.setInlineRange({index:0,length:0})},this.getInlineRange=()=>this.inlineRangeProvider?this.inlineRangeProvider.getInlineRange():this._inlineRange,this.getInlineRangeFromElement=e=>{let t=document.createRange(),i=e.querySelector("[data-v-text]");if(!i)return null;let s=i.childNodes[1];return(0,f.Z1)(s instanceof Text),t.setStart(s,0),t.setEnd(s,s.textContent?.length??0),this.toInlineRange(t)},this.isFirstLine=e=>{if(!e||e.length>0)return!1;let t=this.toDomRange(e);if(!t)return console.error("failed to convert inline range to domRange"),!1;if(this.editor.yTextString.slice(0,e.index).includes("\n"))return!1;let i=t.commonAncestorContainer.parentElement;(0,f.Z1)(i);let s=i.getBoundingClientRect(),o=t.getClientRects();return 1>Math.abs(o[o.length-1].top-s.top)},this.isLastLine=e=>{if(!e||e.length>0||this.editor.yTextString.slice(e.index).includes("\n"))return!1;let t=this.toDomRange(e);if(!t)return console.error("failed to convert inline range to domRange"),!1;let i=t.commonAncestorContainer.parentElement;(0,f.Z1)(i);let s=i.getBoundingClientRect(),o=t.getClientRects();return 1>Math.abs(o[o.length-1].bottom-s.bottom)},this.isValidInlineRange=e=>!(e&&(e.index<0||e.index+e.length>this.editor.yText.length)),this.onInlineRangeUpdated=async([e,t])=>{if(!et(this._inlineRange,e)&&(this._inlineRange=e,e?(this._lastStartRelativePosition=C.createRelativePositionFromTypeIndex(this.yText,e.index),this._lastEndRelativePosition=C.createRelativePositionFromTypeIndex(this.yText,e.index+e.length)):(this._lastStartRelativePosition=null,this._lastEndRelativePosition=null),this.editor.mounted&&(await this.editor.waitForUpdate(),T.bE?requestIdleCallback(()=>{this.editor.requestUpdate(!1)}):Promise.resolve().then(()=>{this.editor.requestUpdate(!1)}).catch(console.error)),t)){if(null===this._inlineRange){let e=document.getSelection();e&&e.rangeCount>0&&e.getRangeAt(0).intersectsNode(this.editor.rootElement)&&e.removeAllRanges();return}requestAnimationFrame(()=>{this.syncInlineRange()})}},this.selectAll=()=>{this.setInlineRange({index:0,length:this.editor.yTextLength})},this.setInlineRange=(e,t=!0)=>{if(!this.isValidInlineRange(e)){console.error("invalid inline range");return}if(this.inlineRangeProvider){this.inlineRangeProvider.setInlineRange(e,t);return}this.editor.slots.inlineRangeUpdate.emit([e,t])},this.syncInlineRange=()=>{let e=this.getInlineRange();e&&this.editor.mounted&&this._applyInlineRange(e)},this.toDomRange=e=>(function(e,t){let i=Array.from(e.querySelectorAll("v-line")),r=null,a=null,n=0,l=0,c=0;for(let e=0;e<i.length&&(!r||!a);e++){let d=D(i[e]);if(0===d.length)throw new s.Ss(o.O.InlineEditorError,"text node in v-text not found");for(let e of d){let i=L(e);if(!r&&c+i>=t.index&&(r=e,n=t.index-c),!a&&c+i>=t.index+t.length&&(a=e,l=t.index+t.length-c),r&&a)break;c+=i}c+=1}if(!r||!a)return null;if(B(r)){let e=r.parentElement?.closest("v-element");if(!e)throw new s.Ss(o.O.InlineEditorError,"failed to find vElement for a text note in an embed element");let t=e.nextElementSibling;if(!t)throw new s.Ss(o.O.InlineEditorError,"failed to find nextSibling sibling of an embed element");let i=D(t);if(0===i.length)throw new s.Ss(o.O.InlineEditorError,"text node in v-text not found");t instanceof p?n=L(r=i[i.length-1]):(r=i[0],n=0)}if(B(a)){let e=a.parentElement?.closest("v-element");if(!e)throw new s.Ss(o.O.InlineEditorError,"failed to find vElement for a text note in an embed element");let t=e.nextElementSibling;if(!t)throw new s.Ss(o.O.InlineEditorError,"failed to find nextSibling sibling of an embed element");let i=D(t);if(0===i.length)throw new s.Ss(o.O.InlineEditorError,"text node in v-text not found");a=i[0],l=0}let d=document.createRange();return d.setStart(r,n),d.setEnd(a,l),d})(this.editor.rootElement,e),this.toInlineRange=e=>{let{rootElement:t,yText:i}=this.editor;return function(e,t,i){let s=X(e,t,i);if(!s)return null;if(s.startNode&&s.startNode===s.endNode&&B(s.startNode)){let e=j(s.startText,s.startTextOffset,t);if(e)return{index:e.index,length:1}}return F(s)?N(s):q(s)?U(s):W(s)?G(s):Y(s)?K(s):null}(e,t,i)}}getLine(e){let t=Array.from(this.rootElement.querySelectorAll("v-line")),i=0;for(let[s,o]of t.entries()){if(e>=i&&e<i+o.vTextLength+1)return{line:o,lineIndex:s,rangeIndexRelatedToLine:e-i};i+=o.vTextLength+1}return console.error("failed to find line"),null}getNativeRange(){let e=this.getNativeSelection();return e?e.getRangeAt(0):null}getNativeSelection(){let e=document.getSelection();return e&&0!==e.rangeCount?e:null}getTextPoint(e){let t=Array.from(this.rootElement.querySelectorAll("v-line")),i=0;for(let s of t){let t=D(s);if(0===t.length)break;for(let s of t){if(!s.textContent)return null;if(i+s.textContent.length>=e)return[s,e-i];i+=L(s)}i+=1}return null}get inlineRangeProvider(){return this.editor.inlineRangeProvider}get lastEndRelativePosition(){return this._lastEndRelativePosition}get lastStartRelativePosition(){return this._lastStartRelativePosition}get rootElement(){return this.editor.rootElement}get yText(){return this.editor.yText}}class eo{constructor(e){this.editor=e,this.deleteText=e=>{this.editor.isReadonly||this.transact(()=>{this.yText.delete(e.index,e.length)})},this.formatText=(e,t,i={})=>{if(this.editor.isReadonly)return;let{match:s=()=>!0,mode:o="merge"}=i;this.editor.deltaService.getDeltasByInlineRange(e).filter(([e,t])=>s(e,t)).forEach(([i,s])=>{let r=this.editor.attributeService.normalizeAttributes(t);if(!r)return;let a=function(e,t){if(!(e.index<=t.index+t.length)||!(e.index+e.length>=t.index))return null;let i=Math.max(e.index,t.index),s=Math.min(e.index+e.length,t.index+t.length)-i;return{index:i,length:s}}(e,s);a&&("replace"===o&&this.resetText(a),this.transact(()=>{this.yText.format(a.index,a.length,r)}))})},this.insertLineBreak=e=>{this.editor.isReadonly||this.transact(()=>{this.yText.delete(e.index,e.length),this.yText.insert(e.index,"\n")})},this.insertText=(e,t,i={})=>{if(this.editor.isReadonly)return;this.editor.attributeService.marks&&(i={...i,...this.editor.attributeService.marks});let r=this.editor.attributeService.normalizeAttributes(i);if(!t||!t.length)throw new s.Ss(o.O.InlineEditorError,"text must not be empty");this.transact(()=>{this.yText.delete(e.index,e.length),this.yText.insert(e.index,t,r)})},this.resetText=e=>{if(this.editor.isReadonly)return;let t=[];for(let i=e.index;i<=e.index+e.length;i++){let e=this.editor.getDeltaByRangeIndex(i);e&&t.push(e)}let i=Object.fromEntries(t.flatMap(e=>e.attributes?Object.keys(e.attributes).map(e=>[e,null]):[]));this.transact(()=>{this.yText.format(e.index,e.length,{...i})})},this.setText=(e,t={})=>{this.editor.isReadonly||this.transact(()=>{this.yText.delete(0,this.yText.length),this.yText.insert(0,e,t)})},this.transact=this.editor.transact}get yText(){return this.editor.yText}}class er{static{this.getTextNodesFromElement=D}static{this.nativePointToTextPoint=Z}static{this.textPointToDomPoint=j}constructor(e,t={}){if(this._attributeService=new Q(this),this._deltaService=new ee(this),this._disposables=new x.K,this._eventService=new ei(this),this._eventSource=null,this._isReadonly=!1,this._mounted=!1,this._onYTextChange=(e,t)=>{if(this.yText.toString().includes("\r"))throw new s.Ss(o.O.InlineEditorError,'yText must not contain "\\r" because it will break the range synchronization');this.slots.textChange.emit(),Promise.resolve().then(()=>{if(this.deltaService.render().catch(console.error),!this.rangeService.getInlineRange()||t.local)return;let e=this.rangeService.lastStartRelativePosition,i=this.rangeService.lastEndRelativePosition;if(!e||!i)return;let s=this.yText.doc;(0,f.Z1)(s);let o=C.createAbsolutePositionFromRelativePosition(e,s),r=C.createAbsolutePositionFromRelativePosition(i,s),a=o?.index,n=r?.index;if(!a||!n)return;let l={index:a,length:n-a};this.isValidInlineRange(l)&&this.setInlineRange(l)}).catch(console.error)},this._rangeService=new es(this),this._rootElement=null,this._textService=new eo(this),this.deleteText=this._textService.deleteText,this.focusEnd=this.rangeService.focusEnd,this.focusIndex=this.rangeService.focusIndex,this.focusStart=this.rangeService.focusStart,this.formatText=this._textService.formatText,this.getDeltaByRangeIndex=this.deltaService.getDeltaByRangeIndex,this.getDeltasByInlineRange=this.deltaService.getDeltasByInlineRange,this.getFormat=this._attributeService.getFormat,this.getInlineRange=this.rangeService.getInlineRange,this.getInlineRangeFromElement=this.rangeService.getInlineRangeFromElement,this.getLine=this.rangeService.getLine,this.getNativeSelection=this.rangeService.getNativeSelection,this.getTextPoint=this.rangeService.getTextPoint,this.insertLineBreak=this._textService.insertLineBreak,this.insertText=this._textService.insertText,this.isFirstLine=this.rangeService.isFirstLine,this.isLastLine=this.rangeService.isLastLine,this.isNormalizedDeltaSelected=this.deltaService.isNormalizedDeltaSelected,this.isValidInlineRange=this.rangeService.isValidInlineRange,this.mapDeltasInInlineRange=this.deltaService.mapDeltasInInlineRange,this.resetMarks=this._attributeService.resetMarks,this.resetText=this._textService.resetText,this.selectAll=this.rangeService.selectAll,this.setAttributeRenderer=this._attributeService.setAttributeRenderer,this.setAttributeSchema=this._attributeService.setAttributeSchema,this.setInlineRange=this.rangeService.setInlineRange,this.setMarks=this._attributeService.setMarks,this.setText=this._textService.setText,this.slots={mounted:new _.D,unmounted:new _.D,textChange:new _.D,render:new _.D,renderComplete:new _.D,inlineRangeUpdate:new _.D,inlineRangeApply:new _.D,inputting:new _.D,keydown:new _.D},this.syncInlineRange=this.rangeService.syncInlineRange,this.toDomRange=this.rangeService.toDomRange,this.toInlineRange=this.rangeService.toInlineRange,!e.doc)throw new s.Ss(o.O.InlineEditorError,"yText must be attached to a Y.Doc");if(e.toString().includes("\r"))throw new s.Ss(o.O.InlineEditorError,'yText must not contain "\\r" because it will break the range synchronization');let{isEmbed:i=()=>!1,hooks:r={},inlineRangeProvider:a=null,vLineRenderer:n=null}=t;this._yText=e,this.isEmbed=i,this.vLineRenderer=n,this._hooksService=new k(this,r),this.inlineRangeProvider=a,a&&a.inlineRangeUpdated.on(e=>{this.slots.inlineRangeUpdate.emit(e)}),this.slots.inlineRangeUpdate.on(this.rangeService.onInlineRangeUpdated)}_bindYTextObserver(){this.yText.observe(this._onYTextChange),this.disposables.add({dispose:()=>{this.yText.unobserve(this._onYTextChange)}})}mount(e,t=e,i=!1){e.inlineEditor=this,this._rootElement=e,this._eventSource=t,this._eventSource.style.outline="none",this._rootElement.dataset.vRoot="true",this.setReadonly(i),(0,r.XX)(r.s6,this._rootElement),this._bindYTextObserver(),this._eventService.mount(),this._mounted=!0,this.slots.mounted.emit(),this._deltaService.render().catch(console.error)}requestUpdate(e=!0){this._deltaService.render(e).catch(console.error)}rerenderWholeEditor(){this.rootElement.isConnected&&((0,r.XX)(r.s6,this.rootElement),this._deltaService.render().catch(console.error))}setReadonly(e){let t=e?"false":"true";this.rootElement.contentEditable!==t&&(this.rootElement.contentEditable=t),this.eventSource&&this.eventSource.contentEditable!==t&&(this.eventSource.contentEditable=t),this._isReadonly=e}transact(e){let t=this.yText.doc;if(!t)throw new s.Ss(o.O.InlineEditorError,"yText is not attached to a doc");t.transact(e,t.clientID)}unmount(){this.rootElement.isConnected&&(0,r.XX)(r.s6,this.rootElement),this.rootElement.removeAttribute(d),this._rootElement=null,this._mounted=!1,this.disposables.dispose(),this.slots.unmounted.emit()}async waitForUpdate(){let e=Array.from(this.rootElement.querySelectorAll("v-line"));await Promise.all(e.map(e=>e.updateComplete))}get attributeService(){return this._attributeService}get deltaService(){return this._deltaService}get disposables(){return this._disposables}get eventService(){return this._eventService}get eventSource(){return this._eventSource}get hooks(){return this._hooksService.hooks}get isComposing(){return this._eventService.isComposing}get isReadonly(){return this._isReadonly}get marks(){return this._attributeService.marks}get mounted(){return this._mounted}get rangeService(){return this._rangeService}get rootElement(){return(0,f.Z1)(this._rootElement),this._rootElement}get yText(){return this._yText}get yTextDeltas(){return this.yText.toDelta()}get yTextLength(){return this.yText.length}get yTextString(){return this.yText.toString()}}},52153:(e,t,i)=>{i.d(t,{hJ:()=>N,Jy:()=>F,DX:()=>U,fh:()=>Y,Ct:()=>G,Ke:()=>A,H7:()=>ed,Lz:()=>ep,HB:()=>W,cX:()=>ee,oD:()=>ty,bP:()=>t2,Fj:()=>t3,$y:()=>eb});var s=i(91449),o=i(4564),r=i(83951),a=i(22805),n=i(53010);let l=(0,s.qy)`<svg
  width="21"
  height="21"
  viewBox="0 0 21 21"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M3.59593 7.38585C2.75058 6.62196 3.25841 5.16699 4.43763 5.16699H16.3017C17.2852 5.16699 17.8664 6.23248 17.3995 7.06491L11.5806 17.4378C11.0097 18.4556 9.51091 18.2189 9.25406 17.098L7.9249 11.2976L3.59593 7.38585ZM9.20223 11.2755L10.4725 16.8188C10.4742 16.8262 10.4759 16.8301 10.4767 16.8316C10.4777 16.8321 10.4796 16.8329 10.4827 16.8334C10.4839 16.8336 10.4849 16.8337 10.4857 16.8337C10.4869 16.8321 10.4885 16.8297 10.4904 16.8263L15.7266 7.492L9.20223 11.2755ZM15.0887 6.41699H4.43763C4.4362 6.41699 4.43499 6.41703 4.434 6.41709C4.43249 6.41912 4.43033 6.42258 4.42836 6.42784C4.42439 6.43845 4.42506 6.44624 4.42551 6.44838C4.42564 6.44898 4.42571 6.4491 4.42586 6.44937L4.42588 6.44939C4.42593 6.44949 4.42768 6.4527 4.434 6.45841L8.57091 10.1967L15.0887 6.41699Z"
  />
</svg>`,c=(0,s.qy)`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M11.2812 5.49104C11.2403 5.13024 10.9353 4.85751 10.5722 4.85714C10.2091 4.85677 9.90345 5.12887 9.86185 5.48959C9.59131 7.83515 8.89003 9.48448 7.75868 10.6158C6.62734 11.7472 4.97801 12.4485 2.63244 12.719C2.27173 12.7606 1.99963 13.0662 2 13.4293C2.00037 13.7924 2.2731 14.0975 2.63389 14.1383C4.94069 14.3996 6.62508 15.1006 7.78328 16.2379C8.93713 17.3709 9.65305 19.0198 9.85994 21.3489C9.89271 21.7178 10.2019 22.0004 10.5722 22C10.9425 21.9996 11.2511 21.7162 11.2831 21.3473C11.4813 19.0565 12.1966 17.3729 13.3562 16.2133C14.5157 15.0537 16.1994 14.3385 18.4902 14.1402C18.8591 14.1083 19.1424 13.7997 19.1429 13.4294C19.1433 13.0591 18.8606 12.7499 18.4918 12.7171C16.1627 12.5102 14.5137 11.7943 13.3807 10.6404C12.2435 9.48222 11.5425 7.79783 11.2812 5.49104Z"
  />
  <path
    d="M18.9427 2.24651C18.9268 2.1062 18.8082 2.00014 18.667 2C18.5257 1.99986 18.4069 2.10567 18.3907 2.24595C18.2855 3.15811 18.0128 3.79952 17.5728 4.23949C17.1329 4.67946 16.4914 4.95218 15.5793 5.05739C15.439 5.07356 15.3332 5.19241 15.3333 5.33362C15.3335 5.47482 15.4395 5.59345 15.5798 5.60935C16.4769 5.71096 17.132 5.98357 17.5824 6.42584C18.0311 6.86644 18.3095 7.50771 18.39 8.41347C18.4027 8.55691 18.523 8.66683 18.667 8.66667C18.811 8.6665 18.931 8.55632 18.9434 8.41284C19.0205 7.52199 19.2987 6.86723 19.7496 6.41629C20.2006 5.96534 20.8553 5.68719 21.7462 5.61008C21.8896 5.59766 21.9998 5.47765 22 5.33365C22.0002 5.18964 21.8902 5.06939 21.7468 5.05664C20.841 4.97619 20.1998 4.69777 19.7592 4.24905C19.3169 3.79864 19.0443 3.1436 18.9427 2.24651Z"
  />
</svg> `,d=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M2.1665 3.99984C2.1665 2.98732 2.98732 2.1665 3.99984 2.1665H11.9998C13.0124 2.1665 13.8332 2.98732 13.8332 3.99984V7.33317C13.8332 7.60931 13.6093 7.83317 13.3332 7.83317C13.057 7.83317 12.8332 7.60931 12.8332 7.33317V3.99984C12.8332 3.5396 12.4601 3.1665 11.9998 3.1665H3.99984C3.5396 3.1665 3.1665 3.5396 3.1665 3.99984V9.4594L5.37014 7.25576C6.0861 6.5398 7.2469 6.5398 7.96287 7.25576L8.35339 7.64628C8.54865 7.84155 8.54865 8.15813 8.35339 8.35339C8.15813 8.54865 7.84155 8.54865 7.64628 8.35339L7.25576 7.96287C6.93032 7.63743 6.40268 7.63743 6.07725 7.96287L3.1665 10.8736V11.9998C3.1665 12.4601 3.5396 12.8332 3.99984 12.8332H7.33317C7.60931 12.8332 7.83317 13.057 7.83317 13.3332C7.83317 13.6093 7.60931 13.8332 7.33317 13.8332H3.99984C2.98732 13.8332 2.1665 13.0124 2.1665 11.9998V3.99984Z"
    fill="currentColor"
    fill-opacity="0.6"
  />
  <path
    d="M9.99984 5.33317C9.99984 5.70136 9.70136 5.99984 9.33317 5.99984C8.96498 5.99984 8.6665 5.70136 8.6665 5.33317C8.6665 4.96498 8.96498 4.6665 9.33317 4.6665C9.70136 4.6665 9.99984 4.96498 9.99984 5.33317Z"
    fill="currentColor"
    fill-opacity="0.6"
  />
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M8.97962 8.97962C9.17488 8.78435 9.49146 8.78435 9.68672 8.97962L11.3332 10.6261L12.9796 8.97962C13.1749 8.78435 13.4915 8.78435 13.6867 8.97962C13.882 9.17488 13.882 9.49146 13.6867 9.68672L12.0403 11.3332L13.6867 12.9796C13.882 13.1749 13.882 13.4915 13.6867 13.6867C13.4915 13.882 13.1749 13.882 12.9796 13.6867L11.3332 12.0403L9.68672 13.6867C9.49146 13.882 9.17488 13.882 8.97962 13.6867C8.78435 13.4915 8.78435 13.1749 8.97962 12.9796L10.6261 11.3332L8.97962 9.68672C8.78435 9.49146 8.78435 9.17488 8.97962 8.97962Z"
    fill="currentColor"
    fill-opacity="0.6"
  />
</svg>`,h=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <style xmlns="http://www.w3.org/2000/svg">
    .spinner {
      transform-origin: center;
      animation: spinner_animate 0.75s infinite linear;
    }
    @keyframes spinner_animate {
      100% {
        transform: rotate(360deg);
      }
    }
  </style>
  <path
    d="M14.6666 8.00004C14.6666 11.6819 11.6818 14.6667 7.99992 14.6667C4.31802 14.6667 1.33325 11.6819 1.33325 8.00004C1.33325 4.31814 4.31802 1.33337 7.99992 1.33337C11.6818 1.33337 14.6666 4.31814 14.6666 8.00004ZM3.30003 8.00004C3.30003 10.5957 5.40424 12.6999 7.99992 12.6999C10.5956 12.6999 12.6998 10.5957 12.6998 8.00004C12.6998 5.40436 10.5956 3.30015 7.99992 3.30015C5.40424 3.30015 3.30003 5.40436 3.30003 8.00004Z"
    fill="black"
    fill-opacity="0.1"
  />
  <path
    d="M13.6833 8.00004C14.2263 8.00004 14.674 7.55745 14.5942 7.02026C14.5142 6.48183 14.3684 5.954 14.1591 5.44882C13.8241 4.63998 13.333 3.90505 12.714 3.286C12.0949 2.66694 11.36 2.17588 10.5511 1.84084C10.046 1.63159 9.51812 1.48576 8.9797 1.40576C8.44251 1.32595 7.99992 1.77363 7.99992 2.31671C7.99992 2.85979 8.44486 3.28974 8.9761 3.40253C9.25681 3.46214 9.53214 3.54746 9.79853 3.65781C10.3688 3.894 10.8869 4.2402 11.3233 4.67664C11.7598 5.11307 12.106 5.6312 12.3422 6.20143C12.4525 6.46782 12.5378 6.74315 12.5974 7.02386C12.7102 7.5551 13.1402 8.00004 13.6833 8.00004Z"
    fill="#1C9EE4"
    class="spinner"
  />
</svg>`;(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="currentColor"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M8.00008 3.16699C5.33071 3.16699 3.16675 5.33095 3.16675 8.00033C3.16675 10.6697 5.33071 12.8337 8.00008 12.8337C10.6695 12.8337 12.8334 10.6697 12.8334 8.00033C12.8334 5.33095 10.6695 3.16699 8.00008 3.16699ZM2.16675 8.00033C2.16675 4.77866 4.77842 2.16699 8.00008 2.16699C11.2217 2.16699 13.8334 4.77866 13.8334 8.00033C13.8334 11.222 11.2217 13.8337 8.00008 13.8337C4.77842 13.8337 2.16675 11.222 2.16675 8.00033ZM8.00008 5.12996C8.27622 5.12996 8.50008 5.35381 8.50008 5.62996V8.00033C8.50008 8.27647 8.27622 8.50033 8.00008 8.50033C7.72394 8.50033 7.50008 8.27647 7.50008 8.00033V5.62996C7.50008 5.35381 7.72394 5.12996 8.00008 5.12996ZM7.50008 10.3707C7.50008 10.0946 7.72394 9.8707 8.00008 9.8707H8.00601C8.28215 9.8707 8.50601 10.0946 8.50601 10.3707C8.50601 10.6468 8.28215 10.8707 8.00601 10.8707H8.00008C7.72394 10.8707 7.50008 10.6468 7.50008 10.3707Z"
    fill-opacity="0.6"
  />
</svg> `;var u=i(99971),p=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},f=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,r,a=[(0,o.EM)("image-placeholder")],n=[],l=s.WF,c=[],d=[],h=[],g=[];(class extends l{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,o.MZ)({attribute:!1})],r=[(0,o.MZ)({attribute:!1})],p(this,null,i,{kind:"accessor",name:"icon",static:!1,private:!1,access:{has:e=>"icon"in e,get:e=>e.icon,set:(e,t)=>{e.icon=t}},metadata:s},c,d),p(this,null,r,{kind:"accessor",name:"text",static:!1,private:!1,access:{has:e=>"text"in e,get:e=>e.text,set:(e,t)=>{e.text=t}},metadata:s},h,g),p(null,e={value:t},a,{kind:"class",name:t.name,metadata:s},null,n),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=(0,s.AH)`
    .placeholder-container {
      display: flex;
      width: 100%;
      height: 122px;
      padding: 12px;
      align-items: flex-start;
      border-radius: 8px;
      border: 1px solid var(--affine-background-tertiary-color);
      background: var(--affine-background-secondary-color);
      box-sizing: border-box;
    }

    .placeholder-title {
      display: flex;
      gap: 8px;
      align-items: center;
      color: var(--affine-placeholder-color, #c0bfc1);
      text-align: justify;
      /* light/smBold */
      font-family: ${(0,s.iz)(u.$7.fontSansFamily)};
      font-size: var(--affine-font-sm);
      font-style: normal;
      font-weight: 600;
      line-height: 22px; /* 157.143% */
      height: 22px;
    }

    .placeholder-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--affine-icon-color);
    }
  `}render(){return(0,s.qy)`<div class="placeholder-container">
      <div class="placeholder-title">
        <span class="placeholder-icon">${this.icon}</span>
        <span>${this.text}</span>
      </div>
    </div>`}#cP=f(this,c,void 0);get icon(){return this.#cP}set icon(e){this.#cP=e}#tu=(f(this,d),f(this,h,void 0));get text(){return this.#tu}set text(e){this.#tu=e}constructor(){super(...arguments),f(this,g)}static{f(t,n)}})})();var g=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},m=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,r,a=[(0,o.EM)("chat-image")],l=[],c=s.WF,u=[],p=[],f=[],v=[];(class extends c{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,o.MZ)({attribute:!1})],r=[(0,o.MZ)({attribute:!1})],g(this,null,i,{kind:"accessor",name:"imageUrl",static:!1,private:!1,access:{has:e=>"imageUrl"in e,get:e=>e.imageUrl,set:(e,t)=>{e.imageUrl=t}},metadata:s},u,p),g(this,null,r,{kind:"accessor",name:"status",static:!1,private:!1,access:{has:e=>"status"in e,get:e=>e.status,set:(e,t)=>{e.status=t}},metadata:s},f,v),g(null,e={value:t},a,{kind:"class",name:t.name,metadata:s},null,l),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=(0,s.AH)`
    .image-container {
      border-radius: 4px;
      overflow: hidden;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 70%;
      max-width: 200px;
      max-height: 122px;

      img {
        max-width: 100%;
        max-height: 100%;
        width: auto;
        height: auto;
      }
    }
  `}render(){return(0,n.S)(this.status,[["loading",()=>(0,s.qy)`<image-placeholder
            .text=${"Loading image"}
            .icon=${h}
          ></image-placeholder>`],["error",()=>(0,s.qy)`<image-placeholder
            .text=${"Image Loading Failed"}
            .icon=${d}
          ></image-placeholder>`],["success",()=>(0,s.qy)`<div class="image-container">
            <img src=${this.imageUrl} />
          </div>`]])}#cA=m(this,u,void 0);get imageUrl(){return this.#cA}set imageUrl(e){this.#cA=e}#cH=(m(this,p),m(this,f,void 0));get status(){return this.#cH}set status(e){this.#cH=e}constructor(){super(...arguments),m(this,v)}static{m(t,l)}})})(),(()=>{let e,t,i=[(0,o.EM)("chat-images")],r=[],n=s.WF,l=[],c=[];(class extends n{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;g(this,null,[(0,o.MZ)({attribute:!1})],{kind:"accessor",name:"attachments",static:!1,private:!1,access:{has:e=>"attachments"in e,get:e=>e.attachments,set:(e,t)=>{e.attachments=t}},metadata:s},l,c),g(null,e={value:t},i,{kind:"class",name:t.name,metadata:s},null,r),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=(0,s.AH)`
    .images-container {
      display: flex;
      width: 100%;
      gap: 8px;
      flex-wrap: wrap;
    }
  `}render(){return this.attachments&&0!==this.attachments.length?(0,s.qy)`<div class="images-container">
      ${(0,a.u)(this.attachments,e=>e,e=>(0,s.qy)`<chat-image
            .imageUrl=${e}
            .status=${"success"}
          ></chat-image>`)}
    </div>`:s.s6}#cL=m(this,l,void 0);get attachments(){return this.#cL}set attachments(e){this.#cL=e}constructor(){super(...arguments),m(this,c)}static{m(t,r)}})})();var v=i(7595),y=i(83904),b=i(73711),w=i(71323);async function x(e,t){let i=e.std.doc.collection.schema,s=new b.rl({schema:i});s.meta.initialize();let o=new b._O({collection:s,middlewares:[y.HzZ]}),r=new y.FNZ(o),a=await r.toDoc({file:t,assets:o.assetsManager});return a||console.error("Failed to convert markdown to doc"),a}var _=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},C=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let k=(0,s.AH)`
  ${y.DNe.styles}
  ${y.P5Y.styles}
  ${y.c8j.styles}
  ${y.CY.styles}
`,S=(0,s.AH)`
  .custom-heading {
    .h1 {
      font-size: calc(var(--affine-font-h-1) - 2px);
      code {
        font-size: calc(var(--affine-font-base) + 6px);
      }
    }
    .h2 {
      font-size: calc(var(--affine-font-h-2) - 2px);
      code {
        font-size: calc(var(--affine-font-base) + 4px);
      }
    }
    .h3 {
      font-size: calc(var(--affine-font-h-3) - 2px);
      code {
        font-size: calc(var(--affine-font-base) + 2px);
      }
    }
    .h4 {
      font-size: calc(var(--affine-font-h-4) - 2px);
      code {
        font-size: var(--affine-font-base);
      }
    }
    .h5 {
      font-size: calc(var(--affine-font-h-5) - 2px);
      code {
        font-size: calc(var(--affine-font-base) - 2px);
      }
    }
    .h6 {
      font-size: calc(var(--affine-font-h-6) - 2px);
      code {
        font-size: calc(var(--affine-font-base) - 4px);
      }
    }
  }
`;(()=>{let e,t,i,a,n,l,c,d=[(0,o.EM)("text-renderer")],h=[],u=(0,v.Tm)(s.WF),p=[],f=[],g=[],m=[],M=[],E=[],I=[],B=[],$=[],T=[];(class extends u{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;i=[(0,o.P)(".ai-answer-text-container")],a=[(0,o.MZ)({attribute:!1})],n=[(0,o.MZ)({attribute:!1})],l=[(0,o.MZ)({attribute:!1})],c=[(0,o.MZ)({attribute:!1})],_(this,null,i,{kind:"accessor",name:"_container",static:!1,private:!1,access:{has:e=>"_container"in e,get:e=>e._container,set:(e,t)=>{e._container=t}},metadata:s},p,f),_(this,null,a,{kind:"accessor",name:"answer",static:!1,private:!1,access:{has:e=>"answer"in e,get:e=>e.answer,set:(e,t)=>{e.answer=t}},metadata:s},g,m),_(this,null,n,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:s},M,E),_(this,null,l,{kind:"accessor",name:"options",static:!1,private:!1,access:{has:e=>"options"in e,get:e=>e.options,set:(e,t)=>{e.options=t}},metadata:s},I,B),_(this,null,c,{kind:"accessor",name:"state",static:!1,private:!1,access:{has:e=>"state"in e,get:e=>e.state,set:(e,t)=>{e.state=t}},metadata:s},$,T),_(null,e={value:t},d,{kind:"class",name:t.name,metadata:s},null,h),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=(0,s.AH)`
    .ai-answer-text-editor.affine-page-viewport {
      background: transparent;
      font-family: var(--affine-font-family);
      margin-top: 0;
      margin-bottom: 0;
    }

    .ai-answer-text-editor .affine-page-root-block-container {
      padding: 0;
      line-height: var(--affine-line-height);
      color: var(--affine-text-primary-color);
      font-weight: 400;
    }

    .affine-paragraph-block-container {
      line-height: 22px;
    }

    .ai-answer-text-editor {
      .affine-note-block-container {
        > .affine-block-children-container {
          > :first-child,
          > :first-child * {
            margin-top: 0 !important;
          }
          > :last-child,
          > :last-child * {
            margin-bottom: 0 !important;
          }
        }
      }
    }

    .ai-answer-text-container {
      overflow-y: auto;
      overflow-x: hidden;
      padding: 0;
      overscroll-behavior-y: none;
    }
    .ai-answer-text-container.show-scrollbar::-webkit-scrollbar {
      width: 5px;
      height: 100px;
    }
    .ai-answer-text-container.show-scrollbar::-webkit-scrollbar-thumb {
      border-radius: 20px;
    }
    .ai-answer-text-container.show-scrollbar:hover::-webkit-scrollbar-thumb {
      background-color: var(--affine-black-30);
    }
    .ai-answer-text-container.show-scrollbar::-webkit-scrollbar-corner {
      display: none;
    }

    .ai-answer-text-container {
      rich-text .nowrap-lines v-text span,
      rich-text .nowrap-lines v-element span {
        white-space: pre;
      }
      editor-host:focus-visible {
        outline: none;
      }
      editor-host * {
        box-sizing: border-box;
      }
    }

    ${k}
    ${S}
  `}_onWheel(e){e.stopPropagation(),"generating"===this.state&&e.preventDefault()}connectedCallback(){super.connectedCallback(),this._answers.push(this.answer),this._updateDoc(),"generating"===this.state&&(this._timer=setInterval(this._updateDoc,600))}disconnectedCallback(){super.disconnectedCallback(),this._clearTimer()}render(){if(!this._doc)return s.s6;let{maxHeight:e,customHeading:t}=this.options,i=y.fs6.getInstance().getSpec("page:preview"),o=(0,r.H)({"ai-answer-text-container":!0,"show-scrollbar":!!e,"custom-heading":!!t});return(0,s.qy)`
      <style>
        .ai-answer-text-container {
          max-height: ${e?Math.max(e,200)+"px":""};
        }
      </style>
      <div class=${o} @wheel=${this._onWheel}>
        ${(0,w.D)(this._doc,(0,s.qy)`<div class="ai-answer-text-editor affine-page-viewport">
            ${this.host.renderSpecPortal(this._doc,i.value)}
          </div>`)}
      </div>
    `}shouldUpdate(e){return!e.has("answer")||(this._answers.push(this.answer),!1)}updated(e){super.updated(e),requestAnimationFrame(()=>{this._container&&(this._container.scrollTop=this._container.scrollHeight)})}#ek;get _container(){return this.#ek}set _container(e){this.#ek=e}#R;get answer(){return this.#R}set answer(e){this.#R=e}#n;get host(){return this.#n}set host(e){this.#n=e}#ez;get options(){return this.#ez}set options(e){this.#ez=e}#oa;get state(){return this.#oa}set state(e){this.#oa=e}constructor(){super(...arguments),this._answers=[],this._clearTimer=()=>{this._timer&&(clearInterval(this._timer),this._timer=null)},this._doc=null,this._query={mode:"strict",match:["affine:page","affine:note","affine:surface","affine:paragraph","affine:code","affine:list","affine:divider"].map(e=>({flavour:e,viewType:b.lv.Display}))},this._timer=null,this._updateDoc=()=>{if(this._answers.length>0){let e=this._answers.pop();this._answers=[],e&&x(this.host,e).then(e=>{this._doc=e.blockCollection.getDoc({query:this._query}),this.disposables.add(()=>{e.blockCollection.clearQuery(this._query)}),this._doc.awarenessStore.setReadonly(this._doc.blockCollection,!0),this.requestUpdate(),"generating"!==this.state&&this._clearTimer()}).catch(console.error)}},this.#ek=C(this,p,void 0),this.#R=(C(this,f),C(this,g,void 0)),this.#n=(C(this,m),C(this,M,void 0)),this.#ez=(C(this,E),C(this,I,void 0)),this.#oa=(C(this,B),C(this,$,void 0)),C(this,T)}static{C(t,h)}})})();var M=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},E=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,r,a,n,l=[(0,o.EM)("user-info")],c=[],d=s.WF,h=[],p=[],f=[],g=[],m=[],v=[],y=[],b=[];(class extends d{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,o.MZ)({attribute:!1})],r=[(0,o.MZ)({attribute:!1})],a=[(0,o.MZ)({attribute:!1})],n=[(0,o.MZ)({attribute:!1})],M(this,null,i,{kind:"accessor",name:"avatarIcon",static:!1,private:!1,access:{has:e=>"avatarIcon"in e,get:e=>e.avatarIcon,set:(e,t)=>{e.avatarIcon=t}},metadata:s},h,p),M(this,null,r,{kind:"accessor",name:"avatarLoadedFailed",static:!1,private:!1,access:{has:e=>"avatarLoadedFailed"in e,get:e=>e.avatarLoadedFailed,set:(e,t)=>{e.avatarLoadedFailed=t}},metadata:s},f,g),M(this,null,a,{kind:"accessor",name:"avatarUrl",static:!1,private:!1,access:{has:e=>"avatarUrl"in e,get:e=>e.avatarUrl,set:(e,t)=>{e.avatarUrl=t}},metadata:s},m,v),M(this,null,n,{kind:"accessor",name:"userName",static:!1,private:!1,access:{has:e=>"userName"in e,get:e=>e.userName,set:(e,t)=>{e.userName=t}},metadata:s},y,b),M(null,e={value:t},l,{kind:"class",name:t.name,metadata:s},null,c),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=(0,s.AH)`
    .user-info-container {
      display: flex;
      width: 100%;
      height: 24px;
      flex-direction: row;
      gap: 10px;
      font-weight: 500;

      .user-avatar-container {
        width: 24px;
        height: 24px;
        color: var(--affine-brand-color);
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .default-avatar,
      .user-avatar-container img {
        width: 100%;
        height: 100%;
        border-radius: 50%;
      }

      .user-avatar-container img {
        object-fit: cover;
      }

      .default-avatar,
      .avatar-image {
        background-color: var(--affine-primary-color);
      }

      .user-name {
        color: var(--affine-text-primary-color);
        text-align: justify;
        font-family: ${(0,s.iz)(u.$7.fontSansFamily)};
        font-size: var(--affine-font-sm);
        font-style: normal;
        font-weight: 500;
        line-height: 22px;
        text-overflow: ellipsis;
      }
    }
  `}_handleAvatarLoadError(e){e.target.onerror=null,this.avatarLoadedFailed=!0}render(){return(0,s.qy)`<div class="user-info-container">
      <div class="user-avatar-container">
        ${this.avatarIcon?this.avatarIcon:this.avatarUrl&&!this.avatarLoadedFailed?(0,s.qy)`<img
                .src=${this.avatarUrl}
                @error=${this._handleAvatarLoadError}
              />`:(0,s.qy)`<span class="default-avatar"></span>`}
      </div>
      <span class="user-name">${this.userName}</span>
    </div>`}#cD=E(this,h,void 0);get avatarIcon(){return this.#cD}set avatarIcon(e){this.#cD=e}#cZ=(E(this,p),E(this,f,!1));get avatarLoadedFailed(){return this.#cZ}set avatarLoadedFailed(e){this.#cZ=e}#cj=(E(this,g),E(this,m,void 0));get avatarUrl(){return this.#cj}set avatarUrl(e){this.#cj=e}#cV=(E(this,v),E(this,y,void 0));get userName(){return this.#cV}set userName(e){this.#cV=e}constructor(){super(...arguments),E(this,b)}static{E(t,c)}})})();var I=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},B=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,a,n,l,d,h,u,p=[(0,o.EM)("ai-chat-message")],f=[],g=s.WF,m=[],v=[],y=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],$=[],T=[];(class extends g{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(g[Symbol.metadata]??null):void 0;i=[(0,o.MZ)({attribute:!1})],a=[(0,o.MZ)({attribute:!1})],n=[(0,o.MZ)({attribute:!1})],l=[(0,o.MZ)({attribute:!1})],d=[(0,o.MZ)({attribute:!1})],h=[(0,o.MZ)({attribute:!1})],u=[(0,o.MZ)({attribute:!1})],I(this,null,i,{kind:"accessor",name:"attachments",static:!1,private:!1,access:{has:e=>"attachments"in e,get:e=>e.attachments,set:(e,t)=>{e.attachments=t}},metadata:s},m,v),I(this,null,a,{kind:"accessor",name:"content",static:!1,private:!1,access:{has:e=>"content"in e,get:e=>e.content,set:(e,t)=>{e.content=t}},metadata:s},y,b),I(this,null,n,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:s},w,x),I(this,null,l,{kind:"accessor",name:"messageRole",static:!1,private:!1,access:{has:e=>"messageRole"in e,get:e=>e.messageRole,set:(e,t)=>{e.messageRole=t}},metadata:s},_,C),I(this,null,d,{kind:"accessor",name:"state",static:!1,private:!1,access:{has:e=>"state"in e,get:e=>e.state,set:(e,t)=>{e.state=t}},metadata:s},k,S),I(this,null,h,{kind:"accessor",name:"textRendererOptions",static:!1,private:!1,access:{has:e=>"textRendererOptions"in e,get:e=>e.textRendererOptions,set:(e,t)=>{e.textRendererOptions=t}},metadata:s},M,E),I(this,null,u,{kind:"accessor",name:"userInfo",static:!1,private:!1,access:{has:e=>"userInfo"in e,get:e=>e.userInfo,set:(e,t)=>{e.userInfo=t}},metadata:s},$,T),I(null,e={value:t},p,{kind:"class",name:t.name,metadata:s},null,f),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=(0,s.AH)`
    .ai-chat-message {
      display: flex;
      width: 100%;
      flex-direction: column;
      gap: 4px;
      box-sizing: border-box;
    }

    .ai-chat-content {
      display: block;
      width: calc(100% - 34px);
      padding-left: 34px;
      font-weight: 400;
    }

    .with-attachments {
      margin-top: 8px;
    }
  `}render(){let{host:e,textRendererOptions:t,state:i,content:o,attachments:a,messageRole:n,userInfo:l}=this,d=!!a&&a.length>0,h=(0,r.H)({"with-attachments":d});return(0,s.qy)`
      <div class="ai-chat-message">
        ${n&&"user"===n?(0,s.qy)`<user-info
        .userName=${l.userName??"You"}
        .avatarUrl=${l.avatarUrl}
      ></user-info>`:(0,s.qy)`<user-info
        .userName=${"AFFiNE AI"}
        .avatarIcon=${c}
      ></user-info>`}
        <div class="ai-chat-content">
          <chat-images .attachments=${a}></chat-images>
          <div class=${h}>
            <text-renderer
              .host=${e}
              .answer=${o}
              .options=${t}
              .state=${i}
            ></text-renderer>
          </div>
        </div>
      </div>
    `}#cL=B(this,m,void 0);get attachments(){return this.#cL}set attachments(e){this.#cL=e}#tM=(B(this,v),B(this,y,""));get content(){return this.#tM}set content(e){this.#tM=e}#n=(B(this,b),B(this,w,void 0));get host(){return this.#n}set host(e){this.#n=e}#cR=(B(this,x),B(this,_,void 0));get messageRole(){return this.#cR}set messageRole(e){this.#cR=e}#oa=(B(this,C),B(this,k,"finished"));get state(){return this.#oa}set state(e){this.#oa=e}#cz=(B(this,S),B(this,M,{}));get textRendererOptions(){return this.#cz}set textRendererOptions(e){this.#cz=e}#cF=(B(this,E),B(this,$,{}));get userInfo(){return this.#cF}set userInfo(e){this.#cF=e}constructor(){super(...arguments),B(this,T)}static{B(t,f)}})})(),(()=>{let e,t,i,r,n,l=[(0,o.EM)("ai-chat-messages")],c=[],d=s.WF,h=[],u=[],p=[],f=[],g=[],m=[];(class extends d{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,o.MZ)({attribute:!1})],r=[(0,o.MZ)({attribute:!1})],n=[(0,o.MZ)({attribute:!1})],I(this,null,i,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:s},h,u),I(this,null,r,{kind:"accessor",name:"messages",static:!1,private:!1,access:{has:e=>"messages"in e,get:e=>e.messages,set:(e,t)=>{e.messages=t}},metadata:s},p,f),I(this,null,n,{kind:"accessor",name:"textRendererOptions",static:!1,private:!1,access:{has:e=>"textRendererOptions"in e,get:e=>e.textRendererOptions,set:(e,t)=>{e.textRendererOptions=t}},metadata:s},g,m),I(null,e={value:t},l,{kind:"class",name:t.name,metadata:s},null,c),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=(0,s.AH)`
    :host {
      width: 100%;
      box-sizing: border-box;
    }

    .ai-chat-messages {
      display: flex;
      box-sizing: border-box;
      width: 100%;
      height: 100%;
      flex-direction: column;
      gap: 24px;
    }
  `}render(){return(0,s.qy)`<div class="ai-chat-messages">
      ${(0,a.u)(this.messages,e=>e.id,e=>{let{attachments:t,role:i,content:o}=e,r={userId:e.userId,userName:e.userName,avatarUrl:e.avatarUrl};return(0,s.qy)`
            <ai-chat-message
              .host=${this.host}
              .textRendererOptions=${this.textRendererOptions}
              .content=${o}
              .attachments=${t}
              .messageRole=${i}
              .userInfo=${r}
            ></ai-chat-message>
          `})}
    </div>`}#n=B(this,h,void 0);get host(){return this.#n}set host(e){this.#n=e}#cN=(B(this,u),B(this,p,[]));get messages(){return this.#cN}set messages(e){this.#cN=e}#cz=(B(this,f),B(this,g,{}));get textRendererOptions(){return this.#cz}set textRendererOptions(e){this.#cz=e}constructor(){super(...arguments),B(this,m)}static{B(t,c)}})})();var $=i(31980);let T=(0,s.AH)`
  .affine-ai-chat-block-container {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    width: 100%;
    height: 100%;
    box-sizing: border-box;
    padding: 16px;
    background: var(--affine-white);
    color: var(--affine-text-primary-color);
    line-height: 22px;
    font-size: var(--affine-font-sm);
    font-family: ${(0,s.iz)(u.$7.fontSansFamily)};
    border-radius: 8px;
    user-select: none;
    pointer-events: none;

    .ai-chat-messages-container {
      display: block;
      flex: 1 0 0;
      width: 100%;
      box-sizing: border-box;
      background: linear-gradient(to top, transparent, var(--affine-white));
      -webkit-mask-image: linear-gradient(
        to bottom,
        var(--affine-white) 25%,
        transparent
      );
      mask-image: linear-gradient(
        to bottom,
        var(--affine-white) 25%,
        transparent
      );
      overflow: hidden;
    }

    .ai-chat-block-button {
      display: flex;
      width: 100%;
      height: 22px;
      flex-direction: row;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      svg {
        color: var(--affine-icon-color);
      }
    }
  }
`;var O=i(67448);let P=O.z.object({id:O.z.string(),content:O.z.string(),role:O.z.union([O.z.literal("user"),O.z.literal("assistant")]),createdAt:O.z.string(),attachments:O.z.array(O.z.string()).optional(),userId:O.z.string().optional(),userName:O.z.string().optional(),avatarUrl:O.z.string().optional()}),A=O.z.array(P);var H=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},L=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let D=(()=>{let e,t,i=[(0,o.EM)("affine-ai-chat"),(0,y.YE2)({enableOn:({doc:e})=>!e.readonly})],r=[],a=v.p_;return class extends a{static{t=this}constructor(){super(...arguments),this._deserializeChatMessages=(0,$.EW)(()=>{let e=this.model.messages$.value;try{let t=A.safeParse(JSON.parse(e));if(t.success)return t.data;return[]}catch{return[]}})}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;H(null,e={value:t},i,{kind:"class",name:t.name,metadata:s},null,r),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=T}get _peekViewService(){return this._rootService.peekViewService}get _rootService(){return this.host.std.spec.getService("affine:page")}renderBlock(){let e=this._deserializeChatMessages.value.slice(-2);return(0,s.qy)`<div class="affine-ai-chat-block-container">
      <div class="ai-chat-messages-container">
        <ai-chat-messages
          .host=${this.host}
          .messages=${e}
          .textRendererOptions=${{customHeading:!0}}
          .withMask=${!0}
        ></ai-chat-messages>
      </div>
      <div class="ai-chat-block-button">
        ${l} <span>AI chat block</span>
      </div>
    </div> `}static{L(t,r)}},t})();var Z=i(94098),j=i(54719),V=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},R=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i=[(0,o.EM)("affine-edgeless-ai-chat")],r=[],a=(0,v.$K)(D);(class extends a{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;V(null,e={value:t},i,{kind:"class",name:t.name,metadata:s},null,r),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s}),R(t,r)}renderGfxBlock(){let e=Z.z.deserialize(this.model.xywh$.value),t=this.model.scale$.value,i=e.w/t,o=e.h/t,r={width:`${i}px`,height:`${o}px`,borderRadius:"8px",transformOrigin:"0 0",boxShadow:"var(--affine-shadow-1)",border:"1px solid var(--affine-border-color)",transform:`scale(${t})`};return(0,s.qy)`
      <div class="edgeless-ai-chat" style=${(0,j.W)(r)}>
        ${this.renderPageContent()}
      </div>
    `}})})();var z=i(1126);let F=(0,b.A9)({flavour:"affine:embed-ai-chat",props:()=>({xywh:"[0,0,0,0]",index:"a0",scale:1,messages:"",sessionId:"",rootWorkspaceId:"",rootDocId:""}),metadata:{version:1,role:"content",children:[]},toModel:()=>new N});class N extends(0,z.S5)(b.zg){}var q=i(3874);let U={schema:F,view:{component:(0,q.eu)`affine-ai-chat`}},W={schema:F,view:{component:(0,q.eu)`affine-edgeless-ai-chat`}},G=300,Y=320;var K=i(64816),X=i(45601),Q=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},J=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(0,K.lQ)(v.AE);let ee=(()=>{let e,t,i,r,a,n=[(0,o.EM)("edgeless-editor")],l=[],c=(0,v.Tm)(v.ao),d=[],h=[],u=[],p=[],f=[],g=[];return class extends c{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,o.MZ)({attribute:!1})],r=[(0,o.MZ)({attribute:!1})],a=[(0,o.MZ)({attribute:!1})],Q(this,null,i,{kind:"accessor",name:"doc",static:!1,private:!1,access:{has:e=>"doc"in e,get:e=>e.doc,set:(e,t)=>{e.doc=t}},metadata:s},d,h),Q(this,null,r,{kind:"accessor",name:"editor",static:!1,private:!1,access:{has:e=>"editor"in e,get:e=>e.editor,set:(e,t)=>{e.editor=t}},metadata:s},u,p),Q(this,null,a,{kind:"accessor",name:"specs",static:!1,private:!1,access:{has:e=>"specs"in e,get:e=>e.specs,set:(e,t)=>{e.specs=t}},metadata:s},f,g),Q(null,e={value:t},n,{kind:"class",name:t.name,metadata:s},null,l),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=(0,s.AH)`
    edgeless-editor {
      font-family: var(--affine-font-family);
      background: var(--affine-background-primary-color);
    }

    edgeless-editor * {
      box-sizing: border-box;
    }

    @media print {
      edgeless-editor {
        height: auto;
      }
    }

    .affine-edgeless-viewport {
      display: block;
      height: 100%;
      position: relative;
      overflow: clip;
      container-name: viewport;
      container-type: inline-size;
    }
  `}connectedCallback(){super.connectedCallback(),this._disposables.add(this.doc.slots.rootAdded.on(()=>this.requestUpdate()))}async getUpdateComplete(){let e=await super.getUpdateComplete();return await this.host?.updateComplete,e}render(){return this.doc.root?(0,s.qy)`
      <div class="affine-edgeless-viewport">
        <editor-host
          ${(0,X.K)(this._host)}
          .doc=${this.doc}
          .specs=${this.specs}
        ></editor-host>
      </div>
    `:s.s6}get host(){return this._host.value}#d;get doc(){return this.#d}set doc(e){this.#d=e}#cq;get editor(){return this.#cq}set editor(e){this.#cq=e}#h;get specs(){return this.#h}set specs(e){this.#h=e}constructor(){super(...arguments),this._host=(0,X._)(),this.#d=J(this,d,void 0),this.#cq=(J(this,h),J(this,u,void 0)),this.#h=(J(this,p),J(this,f,y.BH6)),J(this,g)}static{J(t,l)}},t})();var et=i(71006),ei=i(50620),es=i(94423);let eo="Untitled";var er=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ea=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let en=(()=>{let e,t,i=[(0,o.EM)("backlink-button")],r=[],a=(0,v.Tm)(s.WF),n=[],l=[];return class extends a{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;er(this,null,[(0,o.wk)()],{kind:"accessor",name:"_showPopover",static:!1,private:!1,access:{has:e=>"_showPopover"in e,get:e=>e._showPopover,set:(e,t)=>{e._showPopover=t}},metadata:s},n,l),er(null,e={value:t},i,{kind:"class",name:t.name,metadata:s},null,r),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=(0,s.AH)`
    :host {
      position: relative;
      display: flex;
    }

    .btn {
      padding: 0 12px;
      box-sizing: border-box;
      display: inline-flex;
      align-items: center;
      border: none;
      height: 30px;
      border-radius: 8px;
      gap: 4px;
      background: transparent;
      cursor: pointer;

      user-select: none;
      font-size: var(--affine-font-sm);
      font-family: ${(0,s.iz)(u.$7.fontSansFamily)};
      fill: var(--affine-text-secondary-color);
      color: var(--affine-text-secondary-color);
      pointer-events: auto;
    }

    .btn > span {
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
    }

    .btn:hover {
      background: var(--affine-hover-color);
    }

    .btn:active {
      background: var(--affine-hover-color);
    }

    .backlink-popover {
      position: absolute;
      left: 0;
      bottom: 0;
      transform: translateY(100%);
      z-index: 1;
      padding-top: 8px;
    }

    .menu {
      display: flex;
      flex-direction: column;
      padding: 8px 4px;
      background: var(--affine-white);
      box-shadow: var(--affine-menu-shadow);
      border-radius: 12px;
    }

    .backlink-popover .group-title {
      color: var(--affine-text-secondary-color);
      margin: 8px 12px;
    }

    .backlink-popover icon-button {
      padding: 8px;
      justify-content: flex-start;
      gap: 8px;
    }

    ${(0,y.kMM)(".backlink-popover .group")}
  `}constructor(e){super(),this._onClickAway=e=>{e.target!==this&&this._showPopover&&(this._showPopover=!1,document.removeEventListener("mousedown",this._onClickAway))},this.#cU=ea(this,n,!1),ea(this,l),this._backlinks=e}connectedCallback(){super.connectedCallback(),this.tabIndex=0}onClick(){this._showPopover=!this._showPopover,document.addEventListener("mousedown",this._onClickAway)}render(){let e=this._backlinks;return e.length?(0,s.qy)`
      <div class="btn" @click="${this.onClick}">
        ${y.BAN}<span>Backlinks (${e.length})</span>
        ${this._showPopover?(0,s.qy)`<div
    class="backlink-popover"
    @click=${e=>e.stopPropagation()}
  >
    <div class="menu">
      <div class="group-title">Linked to this doc</div>
      <div class="group" style="overflow-y: scroll; max-height: 372px;">
        ${e.map(e=>{let t=e.title||eo;return(0,s.qy)`<icon-button
            width="248px"
            height="32px"
            text="${t}"
            @mousedown="${e.jump}"
          >
            ${e.icon}
          </icon-button>`})}
      </div>
    </div>
  </div>`:null}
      </div>
    `:null}#cU;get _showPopover(){return this.#cU}set _showPopover(e){this.#cU=e}static{ea(t,r)}},t})();var el=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ec=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let ed=(()=>{let e,t,i,r,n,l,c=[(0,o.EM)("doc-meta-tags")],d=[],h=(0,v.Tm)(s.WF),p=[],f=[],g=[],m=[],b=[],w=[],x=[],_=[];return class extends h{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,o.wk)()],r=[(0,o.MZ)({attribute:!1})],n=[(0,o.wk)()],l=[(0,o.wk)()],el(this,null,i,{kind:"accessor",name:"backlinkList",static:!1,private:!1,access:{has:e=>"backlinkList"in e,get:e=>e.backlinkList,set:(e,t)=>{e.backlinkList=t}},metadata:s},p,f),el(this,null,r,{kind:"accessor",name:"doc",static:!1,private:!1,access:{has:e=>"doc"in e,get:e=>e.doc,set:(e,t)=>{e.doc=t}},metadata:s},g,m),el(this,null,n,{kind:"accessor",name:"expanded",static:!1,private:!1,access:{has:e=>"expanded"in e,get:e=>e.expanded,set:(e,t)=>{e.expanded=t}},metadata:s},b,w),el(this,null,l,{kind:"accessor",name:"showSelect",static:!1,private:!1,access:{has:e=>"showSelect"in e,get:e=>e.showSelect,set:(e,t)=>{e.showSelect=t}},metadata:s},x,_),el(null,e={value:t},c,{kind:"class",name:t.name,metadata:s},null,d),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=(0,s.AH)`
    .doc-meta-container {
      font-family: ${(0,s.iz)(u.$7.fontSansFamily)};
      font-size: var(--affine-font-base);
      line-height: var(--affine-line-height);
      color: var(--affine-text-primary-color);
      display: block;
      box-sizing: border-box;
      max-width: var(--affine-editor-width);
      margin-left: auto;
      margin-right: auto;
      padding-left: var(
        --affine-editor-side-padding,
        ${24}px
      );
      padding-right: var(
        --affine-editor-side-padding,
        ${24}px
      );
    }

    /* Extra small devices (phones, 640px and down) */
    @container viewport (width <= 640px) {
      .doc-meta-container {
        padding-left: ${24}px;
        padding-right: ${24}px;
      }
    }

    .meta-data {
      border-radius: 8px;
      display: flex;
      align-items: center;
      height: 30px;
      cursor: pointer;
      justify-content: space-between;
      margin: 0 -12px;
    }

    .meta-data-content {
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--affine-text-secondary-color);
    }

    .meta-data:hover {
      background-color: var(--affine-hover-color);
    }

    .tags-inline {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 14px;
    }

    .tags-inline .tag-list {
      display: flex;
      align-items: center;
    }

    .tag-inline {
      max-width: 100px;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
    }

    .expand {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
    }

    .expand svg {
      color: var(--affine-icon-color);
    }

    .meta-data-expanded {
      padding: 10px 12px 24px;
      margin: 0 -24px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      background-color: var(--affine-hover-color-filled);
      border-radius: 8px;
    }

    .meta-data-expanded-title {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 12px;
      font-weight: 600;
      font-size: 14px;
      color: var(--affine-text-secondary-color);
      border-radius: 4px;
      cursor: pointer;
    }

    .meta-data-expanded-title:hover {
      background-color: var(--affine-hover-color);
    }

    .meta-data-expanded-title .close {
      transform: rotate(180deg);
      border-radius: 4px;
      display: flex;
      align-items: center;
    }

    @media print {
      .meta-data-expanded-title .close {
        display: none;
      }

      .expand {
        display: none;
      }
    }

    .meta-data-expanded-title .close:hover {
      background-color: var(--affine-hover-color);
    }

    .meta-data-expanded-content {
      display: flex;
      flex-direction: column;
      gap: 24px;
      padding: 0 12px;
    }

    .meta-data-expanded-column-item {
      display: flex;
      flex-direction: column;
    }

    .meta-data-expanded-column-item .backlink-title {
      display: flex;
      align-items: center;
      gap: 8px;
      fill: var(--affine-icon-color);
    }

    .meta-data-expanded-column-item .backlinks {
      margin-left: 24px;
    }

    .meta-data-expanded-item {
      display: flex;
      gap: 8px;
    }

    .meta-data-expanded-item .value {
      flex: 1;
    }

    .add-tag {
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .add-tag svg {
      width: 16px;
      height: 16px;
      border-radius: 4px;
      fill: var(--affine-icon-color);
    }

    .add-tag:hover svg {
      background-color: var(--affine-hover-color);
    }

    .tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .tag {
      padding: 4px 10px;
      border-radius: 8px;
      color: var(--affine-text-primary-color);
      font-size: 13px;
      line-height: 13px;
      display: flex;
      align-items: center;
      font-weight: 400;
      cursor: pointer;
    }

    .backlinks {
      display: flex;
      gap: 8px;
      flex-direction: column;
    }

    .backlinks .title {
      height: 28px;
      color: var(--affine-text-secondary-color);
      font-size: var(--affine-font-sm);
    }

    .backlinks .link {
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 15px;
      cursor: pointer;
      width: max-content;
      border-radius: 4px;
      padding: 0 8px 0 4px;
      margin: 0 -8px 0 -4px;
    }

    .backlinks .link:hover {
      background-color: var(--affine-hover-color);
    }

    .backlinks .link svg {
      fill: var(--affine-icon-color);
    }

    .link-title {
      border-bottom: 0.5px solid var(--affine-divider-color);
    }

    .backlinks .link:hover .link-title {
      border-bottom-color: transparent;
    }
  `}connectedCallback(){super.connectedCallback(),this._listenBacklinkList(),this._disposables.add(this.meta.docMetaUpdated.on(()=>{this.requestUpdate()}))}render(){return this.expanded?(0,s.qy)`
      <div class="doc-meta-container caret-ignore">
        <div class="meta-data-expanded caret-ignore">
          <div class="meta-data-expanded-title" @click="${this._toggle}">
            <div>Doc info</div>
            <div class="close">${y.SAc}</div>
          </div>
          <div class="meta-data-expanded-content">
            ${this._renderBacklinkExpanded()} ${this._renderTagsExpanded()}
          </div>
        </div>
      </div>
    `:(0,s.qy)`
        <div class="doc-meta-container caret-ignore">
          <div class="meta-data caret-ignore" @click="${this._toggle}">
            <div class="meta-data-content">
              ${this._renderBacklinkInline()} ${this._renderTagsInline()}
            </div>
            <div class="expand">${y.SAc}</div>
          </div>
        </div>
      `}get meta(){return this.doc.collection.meta}get options(){return this.meta.properties.tags?.options??[]}set options(e){this.tags=this.tags.filter(t=>e.find(e=>e.id===t)),this.doc.collection.meta.setProperties({...this.meta.properties,tags:{...this.meta.properties.tags,options:e}})}get pageRoot(){let e=this.closest(".affine-page-viewport");(0,et.Z1)(e);let t=e.querySelector("affine-page-root");return(0,et.Z1)(t),t}get tags(){return this.doc.meta?.tags??[]}set tags(e){(0,et.Z1)(this.doc.meta),this.doc.meta.tags=e}#cW;get backlinkList(){return this.#cW}set backlinkList(e){this.#cW=e}#d;get doc(){return this.#d}set doc(e){this.#d=e}#cG;get expanded(){return this.#cG}set expanded(e){this.#cG=e}#cY;get showSelect(){return this.#cY}set showSelect(e){this.#cY=e}constructor(){super(...arguments),this._listenBacklinkList=()=>{let e=Object.fromEntries(this.doc.collection.meta.docMetas.map(e=>[e.id,e])),t=t=>{let i=e[t.pageId];return i||console.warn("Unexpected doc meta not found",t.pageId),{...t,...i,icon:"LinkedPage"===t.type?y.hhn:y.UdY,jump:()=>{t.pageId!==this.doc.id&&this.pageRoot.slots.docLinkClicked.emit({docId:t.pageId,blockId:t.blockId})}}},i=this.doc.collection.indexer.backlink;if(i){let e=()=>i.getBacklink(this.doc.id).filter(e=>"LinkedPage"===e.type).map(t);this.backlinkList=e(),this._disposables.add(i.slots.indexUpdated.on(()=>{this.backlinkList=e()}))}},this._renderBacklinkExpanded=()=>{let e=this.backlinkList;return e.length?(0,s.qy)`<div class="meta-data-expanded-column-item">
      <div class="backlink-title">
        ${y.BAN}
        <span class="title">Linked to this doc</span>
      </div>
      <div class="backlinks">
        ${(0,a.u)(e,e=>e.pageId,e=>(0,s.qy)` <div @click=${e.jump} class="link">
        ${e.icon}
        <div class="link-title">${e.title||eo}</div>
      </div>`)}
      </div>
    </div>`:null},this._renderBacklinkInline=()=>new en(this.backlinkList),this._renderTagsExpanded=()=>{let e=Object.fromEntries(this.options.map(e=>[e.id,e]));return(0,s.qy)` <div class="meta-data-expanded-item">
      <div class="type">${y.P3Z}</div>
      <div class="value">
        <div class="tags">
          ${(0,a.u)(this.tags,e=>e,t=>{let i=e[t];if(!i)return null;let o=(0,j.W)({backgroundColor:i.color});return(0,s.qy)` <div class="tag" @click=${()=>{this.pageRoot.slots.tagClicked.emit({tagId:i.id})}} style=${o}>
                ${i.value}
              </div>`})}
          ${this.doc.readonly?s.s6:(0,s.qy)`<div class="add-tag" @click="${this._selectTags}">
                ${y.c11}
              </div>`}
        </div>
      </div>
    </div>`},this._renderTagsInline=()=>{let e=this.tags,t=Object.fromEntries(this.options.map(e=>[e.id,e]));return(0,s.qy)` <div class="tags-inline">
      ${y.P3Z}
      ${e.length>0?(0,s.qy)` <div class="tag-list">
            ${(0,a.u)(e.slice(0,3),e=>e,(e,i)=>{let o=t[e];return o?(0,s.qy)` <div>${0!==i?(0,s.qy)`,&nbsp;`:""}</div>
                  <div class="tag-inline">${o.value}</div>`:null})}
            ${e.length>3?(0,s.qy)`, and ${e.length-3} more`:""}
          </div>`:"Tags"}
    </div>`},this._selectTags=()=>{this._disposables.add({dispose:(0,y.oVP)(this.shadowRoot?.querySelector(".tags")??this,{value:this.tags,onChange:e=>this.tags=e,options:this.options,onOptionsChange:e=>this.options=e})})},this._toggle=()=>{this.expanded=!this.expanded},this.#cW=ec(this,p,void 0),this.#d=(ec(this,f),ec(this,g,void 0)),this.#cG=(ec(this,m),ec(this,b,!1)),this.#cY=(ec(this,w),ec(this,x,!1)),ec(this,_)}static{ec(t,d)}},t})();var eh=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},eu=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let ep=(()=>{let e,t,i,r,a,n,l=[(0,o.EM)("doc-title")],c=[],d=(0,v.Tm)(v.ao),h=[],u=[],p=[],f=[],g=[],m=[],y=[],b=[];return class extends d{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,o.wk)()],r=[(0,o.wk)()],a=[(0,o.P)("rich-text")],n=[(0,o.MZ)({attribute:!1})],eh(this,null,i,{kind:"accessor",name:"_isComposing",static:!1,private:!1,access:{has:e=>"_isComposing"in e,get:e=>e._isComposing,set:(e,t)=>{e._isComposing=t}},metadata:s},h,u),eh(this,null,r,{kind:"accessor",name:"_isReadonly",static:!1,private:!1,access:{has:e=>"_isReadonly"in e,get:e=>e._isReadonly,set:(e,t)=>{e._isReadonly=t}},metadata:s},p,f),eh(this,null,a,{kind:"accessor",name:"_richTextElement",static:!1,private:!1,access:{has:e=>"_richTextElement"in e,get:e=>e._richTextElement,set:(e,t)=>{e._richTextElement=t}},metadata:s},g,m),eh(this,null,n,{kind:"accessor",name:"doc",static:!1,private:!1,access:{has:e=>"doc"in e,get:e=>e.doc,set:(e,t)=>{e.doc=t}},metadata:s},y,b),eh(null,e={value:t},l,{kind:"class",name:t.name,metadata:s},null,c),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=(0,s.AH)`
    .doc-title-container {
      box-sizing: border-box;
      font-family: var(--affine-font-family);
      font-size: var(--affine-font-base);
      line-height: var(--affine-line-height);
      color: var(--affine-text-primary-color);
      font-size: 40px;
      line-height: 50px;
      font-weight: 700;
      outline: none;
      resize: none;
      border: 0;
      width: 100%;
      max-width: var(--affine-editor-width);
      margin-left: auto;
      margin-right: auto;
      padding: 38px 0;

      padding-left: var(
        --affine-editor-side-padding,
        ${24}px
      );
      padding-right: var(
        --affine-editor-side-padding,
        ${24}px
      );
    }

    /* Extra small devices (phones, 640px and down) */
    @container viewport (width <= 640px) {
      .doc-title-container {
        padding-left: ${24}px;
        padding-right: ${24}px;
      }
    }

    .doc-title-container-empty::before {
      content: 'Title';
      color: var(--affine-placeholder-color);
      position: absolute;
      opacity: 0.5;
      pointer-events: none;
    }

    .doc-title-container:disabled {
      background-color: transparent;
    }
  `}get _inlineEditor(){return this._richTextElement.inlineEditor}get _pageRoot(){let e=this._viewport.querySelector("affine-page-root");return(0,et.Z1)(e),e}get _rootModel(){return this.doc.root}get _viewport(){let e=this.closest(".affine-page-viewport");return(0,et.Z1)(e),e}connectedCallback(){super.connectedCallback(),this._isReadonly=this.doc.readonly,this._disposables.add(this.doc.awarenessStore.slots.update.on(()=>{this._isReadonly!==this.doc.readonly&&(this._isReadonly=this.doc.readonly,this.requestUpdate())})),this._disposables.addFromEvent(this,"keydown",this._onTitleKeyDown),this._disposables.addFromEvent(this,"compositionstart",()=>this._isComposing=!0),this._disposables.addFromEvent(this,"compositionend",()=>this._isComposing=!1);let e=()=>{this._updateTitleInMeta(),this.requestUpdate()};this._rootModel.title.yText.observe(e),this._disposables.add(()=>{this._rootModel.title.yText.unobserve(e)})}render(){let e=!this._rootModel.title.length&&!this._isComposing;return(0,s.qy)`
      <div
        class="doc-title-container ${e?"doc-title-container-empty":""}"
        data-block-is-title="true"
      >
        <rich-text
          .yText=${this._rootModel.title.yText}
          .undoManager=${this.doc.history}
          .verticalScrollContainerGetter=${()=>this._viewport}
          .readonly=${this.doc.readonly}
          .enableFormat=${!1}
        ></rich-text>
      </div>
    `}#cK;get _isComposing(){return this.#cK}set _isComposing(e){this.#cK=e}#cX;get _isReadonly(){return this.#cX}set _isReadonly(e){this.#cX=e}#eo;get _richTextElement(){return this.#eo}set _richTextElement(e){this.#eo=e}#d;get doc(){return this.#d}set doc(e){this.#d=e}constructor(){super(...arguments),this._onTitleKeyDown=e=>{if(e.isComposing||this.doc.readonly)return;let t=!this.doc.isEmpty;if("Enter"===e.key&&t&&!e.isComposing){e.preventDefault();let t=this._inlineEditor;(0,et.Z1)(t);let i=t.getInlineRange();(0,et.Z1)(i);let s=this._rootModel.title.split(i.index);this._pageRoot.prependParagraphWithText(s)}else"ArrowDown"===e.key&&t?(e.preventDefault(),this._pageRoot.focusFirstParagraph()):"Tab"===e.key&&e.preventDefault()},this._updateTitleInMeta=()=>{this.doc.collection.setDocMeta(this.doc.id,{title:this._rootModel.title.toString()})},this.#cK=eu(this,h,!1),this.#cX=(eu(this,u),eu(this,p,!1)),this.#eo=(eu(this,f),eu(this,g,void 0)),this.#d=(eu(this,m),eu(this,y,void 0)),eu(this,b)}static{eu(t,c)}},t})();var ef=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},eg=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};function em(e,t){Object.entries(e).forEach(([e,i])=>{let s=t[e];s&&i.pipe(s)})}(0,K.lQ)(v.AE),(()=>{let e,t,i,r,a,n,l=[(0,o.EM)("affine-editor-container")],c=[],d=(0,$.Jb)((0,v.Tm)(v.ao)),h=[],u=[],p=[],f=[],g=[],m=[],b=[],x=[];(class extends d{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,o.P)("affine-edgeless-root")],r=[(0,o.P)("affine-page-root")],a=[(0,o.MZ)({attribute:!1})],n=[(0,o.MZ)({attribute:!1})],ef(this,null,i,{kind:"accessor",name:"_edgelessRoot",static:!1,private:!1,access:{has:e=>"_edgelessRoot"in e,get:e=>e._edgelessRoot,set:(e,t)=>{e._edgelessRoot=t}},metadata:s},h,u),ef(this,null,r,{kind:"accessor",name:"_pageRoot",static:!1,private:!1,access:{has:e=>"_pageRoot"in e,get:e=>e._pageRoot,set:(e,t)=>{e._pageRoot=t}},metadata:s},p,f),ef(this,null,a,{kind:"accessor",name:"autofocus",static:!1,private:!1,access:{has:e=>"autofocus"in e,get:e=>e.autofocus,set:(e,t)=>{e.autofocus=t}},metadata:s},g,m),ef(this,null,n,{kind:"accessor",name:"doc",static:!1,private:!1,access:{has:e=>"doc"in e,get:e=>e.doc,set:(e,t)=>{e.doc=t}},metadata:s},b,x),ef(null,e={value:t},l,{kind:"class",name:t.name,metadata:s},null,c),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=(0,s.AH)`
    .affine-page-viewport {
      position: relative;
      display: flex;
      flex-direction: column;
      overflow-x: hidden;
      overflow-y: auto;
      container-name: viewport;
      container-type: inline-size;
      font-family: var(--affine-font-family);
    }
    .affine-page-viewport * {
      box-sizing: border-box;
    }

    @media print {
      .affine-page-viewport {
        height: auto;
      }
    }

    .playground-page-editor-container {
      flex-grow: 1;
      font-family: var(--affine-font-family);
      background: var(--affine-background-primary-color);
      display: block;
    }

    .playground-page-editor-container * {
      box-sizing: border-box;
    }

    @media print {
      .playground-page-editor-container {
        height: auto;
      }
    }

    .edgeless-editor-container {
      font-family: var(--affine-font-family);
      background: var(--affine-background-primary-color);
      display: block;
      height: 100%;
      position: relative;
      overflow: clip;
    }

    .edgeless-editor-container * {
      box-sizing: border-box;
    }

    @media print {
      .edgeless-editor-container {
        height: auto;
      }
    }

    .affine-edgeless-viewport {
      display: block;
      height: 100%;
      position: relative;
      overflow: clip;
      container-name: viewport;
      container-type: inline-size;
    }
  `}connectedCallback(){super.connectedCallback(),this._disposables.add(this.doc.slots.rootAdded.on(()=>this.requestUpdate()))}firstUpdated(){"page"===this.mode&&setTimeout(()=>{if(this.autofocus){let e=this.querySelector("rich-text");(0,et.Z1)(e);let t=e.inlineEditor;(0,et.Z1)(t),t.focusEnd()}}),this._disposables.add((0,$.QZ)(()=>{let e=this._mode.value;this._forwardRef(e)}))}render(){let e=this._mode.value;return(0,s.qy)`${(0,w.D)(this.rootModel.id+e,(0,s.qy)`
        <div
          class=${"page"===e?"affine-page-viewport":"affine-edgeless-viewport"}
        >
          ${(0,es.z)("page"===e,()=>(0,s.qy)`
              <doc-title .doc=${this.doc}></doc-title>

              <doc-meta-tags .doc=${this.doc}></doc-meta-tags>
            `)}
          <div
            class=${"page"===e?"page-editor playground-page-editor-container":"edgeless-editor-container"}
          >
            <editor-host
              ${(0,X.K)(this._hostRef)}
              .doc=${this.doc}
              .specs=${this._specs.value}
            ></editor-host>
          </div>
        </div>
      `)}`}switchEditor(e){this.mode=e}updated(e){if(e.has("doc")&&(this.slots.docUpdated.emit({newDocId:this.doc.id}),this._forwardRef(this.mode)),!e.has("doc")&&!e.has("mode"))return}set edgelessSpecs(e){this._edgelessSpecs$.value=e}get host(){return this._hostRef.value}get mode(){return this._mode.value}set mode(e){this._mode.value=e}set pageSpecs(e){this._pageSpecs$.value=e}get rootModel(){return this.doc.root}#cQ;get _edgelessRoot(){return this.#cQ}set _edgelessRoot(e){this.#cQ=e}#cJ;get _pageRoot(){return this.#cJ}set _pageRoot(e){this.#cJ=e}#c1;get autofocus(){return this.#c1}set autofocus(e){this.#c1=e}#d;get doc(){return this.#d}set doc(e){this.#d=e}constructor(){super(...arguments),this._edgelessSpecs=(0,$.EW)(()=>[...this._edgelessSpecs$.value].map(e=>{if("affine:page"===e.schema.model.flavour){let t=e.setup;e={...e,setup:(e,i)=>{t?.(e,i),e.mounted.once(({service:e})=>{let{docModeService:t}=e;i.add(t.onModeChange(this.switchEditor.bind(this)))})}}}return e})),this._edgelessSpecs$=(0,$.vP)(y.BH6),this._forwardRef=e=>{requestAnimationFrame(()=>{"page"===e?this._pageRoot&&em(this._pageRoot.slots,this.slots):this._edgelessRoot&&em(this._edgelessRoot.slots,this.slots)})},this._hostRef=(0,X._)(),this._mode=(0,$.vP)("page"),this._pageSpecs=(0,$.EW)(()=>[...this._pageSpecs$.value].map(e=>{if("affine:page"===e.schema.model.flavour){let t=e.setup;e={...e,setup:(e,i)=>{t?.(e,i),e.mounted.once(({service:e})=>{let{docModeService:t}=e;i.add(t.onModeChange(this.switchEditor.bind(this)))})}}}return e})),this._pageSpecs$=(0,$.vP)(y.kbk),this._specs=(0,$.EW)(()=>"page"===this._mode.value?this._pageSpecs.value:this._edgelessSpecs.value),this.slots={docLinkClicked:new ei.D,editorModeSwitched:new ei.D,docUpdated:new ei.D,tagClicked:new ei.D},this.#cQ=eg(this,h,null),this.#cJ=(eg(this,u),eg(this,p,null)),this.#c1=(eg(this,f),eg(this,g,!1)),this.#d=(eg(this,m),eg(this,b,void 0)),eg(this,x)}static{eg(t,c)}})})();var ev=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ey=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(0,K.lQ)(v.AE);let eb=(()=>{let e,t,i,r,a,n,l=[(0,o.EM)("page-editor")],c=[],d=(0,v.Tm)(v.ao),h=[],u=[],p=[],f=[],g=[],m=[],b=[],w=[];return class extends d{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;i=[(0,o.MZ)({attribute:!1})],r=[(0,o.MZ)({attribute:!1})],a=[(0,o.MZ)({type:Boolean})],n=[(0,o.MZ)({attribute:!1})],ev(this,null,i,{kind:"accessor",name:"doc",static:!1,private:!1,access:{has:e=>"doc"in e,get:e=>e.doc,set:(e,t)=>{e.doc=t}},metadata:s},h,u),ev(this,null,r,{kind:"accessor",name:"editor",static:!1,private:!1,access:{has:e=>"editor"in e,get:e=>e.editor,set:(e,t)=>{e.editor=t}},metadata:s},p,f),ev(this,null,a,{kind:"accessor",name:"hasViewport",static:!1,private:!1,access:{has:e=>"hasViewport"in e,get:e=>e.hasViewport,set:(e,t)=>{e.hasViewport=t}},metadata:s},g,m),ev(this,null,n,{kind:"accessor",name:"specs",static:!1,private:!1,access:{has:e=>"specs"in e,get:e=>e.specs,set:(e,t)=>{e.specs=t}},metadata:s},b,w),ev(null,e={value:t},l,{kind:"class",name:t.name,metadata:s},null,c),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=(0,s.AH)`
    page-editor {
      font-family: var(--affine-font-family);
      background: var(--affine-background-primary-color);
    }

    page-editor * {
      box-sizing: border-box;
    }

    @media print {
      page-editor {
        height: auto;
      }
    }

    .affine-page-viewport {
      position: relative;
      height: 100%;
      overflow-x: hidden;
      overflow-y: auto;
      container-name: viewport;
      container-type: inline-size;
    }

    .page-editor-container {
      display: block;
      height: 100%;
    }
  `}connectedCallback(){super.connectedCallback(),this._disposables.add(this.doc.slots.rootAdded.on(()=>this.requestUpdate()))}async getUpdateComplete(){let e=await super.getUpdateComplete();return await this.host?.updateComplete,e}render(){return this.doc.root?(0,s.qy)`
      <div
        class=${this.hasViewport?"affine-page-viewport":"page-editor-container"}
      >
        <editor-host
          ${(0,X.K)(this._host)}
          .doc=${this.doc}
          .specs=${this.specs}
        ></editor-host>
      </div>
    `:s.s6}get host(){return this._host.value}#d;get doc(){return this.#d}set doc(e){this.#d=e}#cq;get editor(){return this.#cq}set editor(e){this.#cq=e}#c0;get hasViewport(){return this.#c0}set hasViewport(e){this.#c0=e}#h;get specs(){return this.#h}set specs(e){this.#h=e}constructor(){super(...arguments),this._host=(0,X._)(),this.#d=ey(this,h,void 0),this.#cq=(ey(this,u),ey(this,p,void 0)),this.#c0=(ey(this,f),ey(this,g,!0)),this.#h=(ey(this,m),ey(this,b,y.kbk)),ey(this,w)}static{ey(t,c)}},t})(),ew=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M2.11621 2.63482C2.11621 2.35056 2.34665 2.12012 2.63092 2.12012H3.39072H12.5084H13.2682C13.5524 2.12012 13.7829 2.35056 13.7829 2.63482C13.7829 2.91909 13.5524 3.14953 13.2682 3.14953H13.0231V9.71839H13.2682C13.5524 9.71839 13.7829 9.94884 13.7829 10.2331C13.7829 10.5174 13.5524 10.7478 13.2682 10.7478H8.46425V11.8554L11.0922 13.3571C11.339 13.4981 11.4247 13.8125 11.2837 14.0594C11.1427 14.3062 10.8282 14.3919 10.5814 14.2509L8.46425 13.0411V14.0321C8.46425 14.3164 8.23381 14.5468 7.94954 14.5468C7.66528 14.5468 7.43484 14.3164 7.43484 14.0321V13.0845L5.39364 14.2509C5.14683 14.3919 4.83241 14.3062 4.69138 14.0594C4.55035 13.8125 4.63609 13.4981 4.8829 13.3571L7.43484 11.8989V10.7478H2.63092C2.34665 10.7478 2.11621 10.5174 2.11621 10.2331C2.11621 9.94884 2.34665 9.71839 2.63092 9.71839H2.87601V3.14953H2.63092C2.34665 3.14953 2.11621 2.91909 2.11621 2.63482ZM3.90543 3.14953H11.9937V9.71815H3.90543V3.14953ZM6.18484 6.05396C6.18484 5.7697 5.9544 5.53926 5.67013 5.53926C5.38587 5.53926 5.15543 5.7697 5.15543 6.05396V7.57357C5.15543 7.85783 5.38587 8.08828 5.67013 8.08828C5.9544 8.08828 6.18484 7.85783 6.18484 7.57357V6.05396ZM7.94954 4.3996C8.23381 4.3996 8.46425 4.63004 8.46425 4.91431V7.57362C8.46425 7.85788 8.23381 8.08832 7.94954 8.08832C7.66528 8.08832 7.43484 7.85788 7.43484 7.57362V4.91431C7.43484 4.63004 7.66528 4.3996 7.94954 4.3996ZM10.7437 6.81396C10.7437 6.5297 10.5132 6.29925 10.229 6.29925C9.94469 6.29925 9.71425 6.5297 9.71425 6.81396V7.57376C9.71425 7.85803 9.94469 8.08847 10.229 8.08847C10.5132 8.08847 10.7437 7.85803 10.7437 7.57376V6.81396Z"
  />
</svg>`,ex=(0,s.qy)`
  <svg
    width="20"
    height="20"
    viewBox="0 0 20 20"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M7.9965 3.45031C8.50641 1.3499 11.4936 1.3499 12.0035 3.45031C12.1332 3.9845 12.7452 4.23801 13.2146 3.95198C15.0604 2.82733 17.1727 4.93958 16.048 6.78536C15.762 7.25479 16.0155 7.86681 16.5497 7.9965C18.6501 8.50641 18.6501 11.4936 16.5497 12.0035C16.0155 12.1332 15.762 12.7452 16.048 13.2146C17.1727 15.0604 15.0604 17.1727 13.2146 16.048C12.7452 15.762 12.1332 16.0155 12.0035 16.5497C11.4936 18.6501 8.50641 18.6501 7.9965 16.5497C7.86681 16.0155 7.25479 15.762 6.78536 16.048C4.93958 17.1727 2.82733 15.0604 3.95198 13.2146C4.23801 12.7452 3.9845 12.1332 3.45031 12.0035C1.3499 11.4936 1.3499 8.50641 3.45031 7.9965C3.9845 7.86681 4.23801 7.25479 3.95198 6.78536C2.82733 4.93958 4.93958 2.82733 6.78536 3.95198C7.25479 4.23801 7.86681 3.9845 7.9965 3.45031ZM10.7888 3.74521C10.588 2.91826 9.41197 2.91827 9.21121 3.7452C8.88182 5.10205 7.3273 5.74595 6.13495 5.01944C5.40826 4.57666 4.57666 5.40826 5.01944 6.13495C5.74595 7.3273 5.10205 8.88182 3.7452 9.21121C2.91827 9.41197 2.91826 10.588 3.74521 10.7888C5.10205 11.1182 5.74595 12.6727 5.01944 13.8651C4.57666 14.5917 5.40826 15.4233 6.13495 14.9806C7.3273 14.2541 8.88182 14.898 9.21121 16.2548C9.41197 17.0817 10.588 17.0817 10.7888 16.2548C11.1182 14.898 12.6727 14.2541 13.8651 14.9806C14.5917 15.4233 15.4233 14.5917 14.9806 13.8651C14.2541 12.6727 14.898 11.1182 16.2548 10.7888C17.0817 10.588 17.0817 9.41197 16.2548 9.21121C14.898 8.88182 14.2541 7.3273 14.9806 6.13495C15.4233 5.40826 14.5917 4.57666 13.8651 5.01944C12.6727 5.74595 11.1182 5.10205 10.7888 3.74521ZM10 8.125C8.96447 8.125 8.125 8.96447 8.125 10C8.125 11.0355 8.96447 11.875 10 11.875C11.0355 11.875 11.875 11.0355 11.875 10C11.875 8.96447 11.0355 8.125 10 8.125ZM6.875 10C6.875 8.27411 8.27411 6.875 10 6.875C11.7259 6.875 13.125 8.27411 13.125 10C13.125 11.7259 11.7259 13.125 10 13.125C8.27411 13.125 6.875 11.7259 6.875 10Z"
      fill="currentColor"
    />
  </svg>
`,e_=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M7.77623 1.55279C7.91699 1.4824 8.08268 1.4824 8.22344 1.55279L13.5568 4.21945C13.7262 4.30415 13.8332 4.47728 13.8332 4.66667V11.3333C13.8332 11.5227 13.7262 11.6959 13.5568 11.7805L8.22344 14.4472C8.08268 14.5176 7.91699 14.5176 7.77623 14.4472L2.4429 11.7805C2.27351 11.6959 2.1665 11.5227 2.1665 11.3333V4.66667C2.1665 4.47728 2.27351 4.30415 2.4429 4.21945L7.77623 1.55279ZM3.1665 5.47568L7.49984 7.64235V13.191L3.1665 11.0243V5.47568ZM8.49984 13.191L12.8332 11.0243V5.47568L8.49984 7.64235V13.191ZM7.99984 6.77432L12.2151 4.66667L7.99984 2.55902L3.78454 4.66667L7.99984 6.77432Z"
  />
</svg>`,eC=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M2.1665 2.66666C2.1665 2.39051 2.39036 2.16666 2.6665 2.16666H13.3332C13.6093 2.16666 13.8332 2.39051 13.8332 2.66666V4.44443C13.8332 4.72058 13.6093 4.94443 13.3332 4.94443C13.057 4.94443 12.8332 4.72058 12.8332 4.44443V3.16666H8.49984V12.8333H10.6665C10.9426 12.8333 11.1665 13.0572 11.1665 13.3333C11.1665 13.6095 10.9426 13.8333 10.6665 13.8333H5.33317C5.05703 13.8333 4.83317 13.6095 4.83317 13.3333C4.83317 13.0572 5.05703 12.8333 5.33317 12.8333H7.49984V3.16666H3.1665V4.44443C3.1665 4.72058 2.94265 4.94443 2.6665 4.94443C2.39036 4.94443 2.1665 4.72058 2.1665 4.44443V2.66666Z"
  />
</svg>`,ek=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M11.9501 4.38557V11.6509C11.9501 12.052 12.1707 12.2926 12.525 12.2926C12.8859 12.2926 13.0998 12.0587 13.0998 11.6509V3.81744C13.0998 3.36294 12.799 3.0488 12.3712 3.0488C12.1106 3.0488 11.8766 3.14906 11.4555 3.4632L10.1054 4.46578C9.83804 4.65961 9.71105 4.84007 9.71105 5.03391C9.71105 5.28789 9.91156 5.49509 10.1589 5.49509C10.3059 5.49509 10.4463 5.44162 10.6401 5.30126L11.8967 4.38557H11.9501ZM2.94643 3.26836C3.22993 3.26836 3.45975 3.49818 3.45975 3.78168V7.34927H7.57203V3.78168C7.57203 3.49818 7.80185 3.26836 8.08535 3.26836C8.36885 3.26836 8.59867 3.49818 8.59867 3.78168V7.86259V11.9435C8.59867 12.227 8.36885 12.4568 8.08535 12.4568C7.80185 12.4568 7.57203 12.227 7.57203 11.9435V8.37591H3.45975V11.9435C3.45975 12.227 3.22993 12.4568 2.94643 12.4568C2.66293 12.4568 2.43311 12.227 2.43311 11.9435V3.78168C2.43311 3.49818 2.66293 3.26836 2.94643 3.26836Z"
  />
</svg>`,eS=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M9.43899 10.6664C9.06418 11.092 8.95618 11.2699 8.95618 11.4986C8.95618 11.8671 9.24841 12.0894 9.71216 12.0894H13.905C14.2544 12.0894 14.4577 11.9052 14.4577 11.6066C14.4577 11.3017 14.2417 11.1174 13.905 11.1174H10.3792V11.0412L12.7297 8.35396C13.8732 7.05164 14.1972 6.44812 14.1972 5.62226C14.1972 4.22465 13.0982 3.23361 11.5354 3.23361C9.85828 3.23361 8.81007 4.36441 8.81007 5.44438C8.81007 5.78743 9.01336 6.02249 9.32464 6.02249C9.58511 6.02249 9.76298 5.85096 9.85192 5.51426C10.0425 4.6884 10.646 4.19924 11.4655 4.19924C12.4311 4.19924 13.0728 4.7964 13.0728 5.69214C13.0728 6.2893 12.7996 6.82294 12.0817 7.64245L9.43899 10.6664ZM2.27891 3.57571C2.54836 3.57571 2.7668 3.79415 2.7668 4.0636V7.45447H6.67536V4.0636C6.67536 3.79415 6.8938 3.57571 7.16326 3.57571C7.43271 3.57571 7.65115 3.79415 7.65115 4.0636V7.94236V11.8211C7.65115 12.0906 7.43271 12.309 7.16326 12.309C6.8938 12.309 6.67536 12.0906 6.67536 11.8211V8.43026H2.7668V11.8211C2.7668 12.0906 2.54836 12.309 2.27891 12.309C2.00945 12.309 1.79102 12.0906 1.79102 11.8211V4.0636C1.79102 3.79415 2.00945 3.57571 2.27891 3.57571Z"
  />
</svg>`,eM=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M2.69991 3.90388C2.69991 3.62782 2.47612 3.40402 2.20005 3.40402C1.92399 3.40402 1.7002 3.62782 1.7002 3.90388V11.8516C1.7002 12.1277 1.92399 12.3515 2.20005 12.3515C2.47612 12.3515 2.69991 12.1277 2.69991 11.8516V8.37761H6.70432V11.8516C6.70432 12.1277 6.92812 12.3515 7.20418 12.3515C7.48025 12.3515 7.70404 12.1277 7.70404 11.8516V7.87775V3.90388C7.70404 3.62782 7.48025 3.40402 7.20418 3.40402C6.92812 3.40402 6.70432 3.62782 6.70432 3.90388V7.37789H2.69991V3.90388ZM9.01949 10.06C8.74072 10.06 8.54431 10.2628 8.54431 10.5479C8.54431 11.5172 9.74177 12.5056 11.3764 12.5056C13.1377 12.5056 14.3669 11.4665 14.3669 9.98398C14.3669 8.89423 13.5496 7.95654 12.4788 7.83616V7.7728C13.3595 7.62074 14.0754 6.7084 14.0754 5.7517C14.0754 4.43386 12.9477 3.48984 11.3637 3.48984C9.80512 3.48984 8.74705 4.4402 8.74705 5.42224C8.74705 5.73903 8.93713 5.94811 9.22857 5.94811C9.47567 5.94811 9.63406 5.81506 9.76077 5.46659C10.0142 4.81401 10.5844 4.4402 11.3384 4.4402C12.3077 4.4402 12.9603 5.02309 12.9603 5.89108C12.9603 6.75908 12.2887 7.38632 11.3637 7.38632H10.6161C10.312 7.38632 10.1092 7.58273 10.1092 7.8615C10.1092 8.13394 10.3247 8.34302 10.6161 8.34302H11.4081C12.5105 8.34302 13.2518 8.9956 13.2518 9.96497C13.2518 10.9343 12.5295 11.5552 11.3954 11.5552C10.5337 11.5552 9.87482 11.1751 9.54536 10.4972C9.38063 10.174 9.24124 10.06 9.01949 10.06Z"
  />
</svg>`,eE=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M12.5287 10.5032V11.791C12.5287 12.1589 12.719 12.3682 13.0552 12.3682C13.3977 12.3682 13.588 12.1589 13.588 11.791V10.5032H14.2478C14.6093 10.5032 14.8123 10.3256 14.8123 10.0211C14.8123 9.71028 14.603 9.53267 14.2478 9.53267H13.588V4.46418C13.588 3.87424 13.2645 3.54437 12.6873 3.54437C12.2496 3.54437 11.9578 3.73468 11.5835 4.28657C10.1435 6.44337 9.57259 7.35683 8.66546 8.96175C8.44344 9.36773 8.36731 9.58976 8.36731 9.82447C8.36731 10.2431 8.69718 10.5032 9.19197 10.5032H12.5287ZM12.5287 9.53267H9.43303V9.46923C10.264 8.02925 11.3932 6.215 12.4716 4.62277H12.5287V9.53267ZM1.96619 3.80359C2.23525 3.80359 2.45337 4.02171 2.45337 4.29077V7.67669H6.35625V4.29077C6.35625 4.02171 6.57436 3.80359 6.84343 3.80359C7.11249 3.80359 7.33061 4.02171 7.33061 4.29077V8.16387V12.037C7.33061 12.306 7.11249 12.5242 6.84343 12.5242C6.57436 12.5242 6.35625 12.306 6.35625 12.037V8.65106H2.45337V12.037C2.45337 12.306 2.23525 12.5242 1.96619 12.5242C1.69712 12.5242 1.479 12.306 1.479 12.037V4.29077C1.479 4.02171 1.69712 3.80359 1.96619 3.80359Z"
  />
</svg>`,eI=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M9.07668 10.0351C8.804 10.0351 8.62427 10.2458 8.62427 10.5556C8.62427 11.4233 9.64684 12.4211 11.2829 12.4211C13.012 12.4211 14.2453 11.2064 14.2453 9.49589C14.2453 7.89076 13.136 6.76284 11.5618 6.76284C10.8491 6.76284 10.124 7.06031 9.84515 7.47554H9.78318L10.0187 4.7177H13.3591C13.7247 4.7177 13.9292 4.55037 13.9292 4.2529C13.9292 3.94922 13.7185 3.7695 13.3591 3.7695H9.88234C9.34936 3.7695 9.08288 3.98641 9.04569 4.44502L8.77301 7.91555C8.74202 8.39275 8.92175 8.67163 9.275 8.67163C9.47331 8.67163 9.59726 8.59727 10.0497 8.17584C10.4091 7.85358 10.8367 7.69245 11.3201 7.69245C12.3923 7.69245 13.1545 8.46092 13.1545 9.55166C13.1545 10.692 12.3675 11.4852 11.2396 11.4852C10.4959 11.4852 9.92572 11.1258 9.58486 10.4627C9.42373 10.1466 9.28739 10.0351 9.07668 10.0351ZM2.05457 3.9359C2.31743 3.9359 2.53053 4.14899 2.53053 4.41185V7.71977H6.34347V4.41185C6.34347 4.14899 6.55657 3.9359 6.81943 3.9359C7.0823 3.9359 7.29539 4.14899 7.29539 4.41185V8.19573V11.9796C7.29539 12.2425 7.0823 12.4556 6.81943 12.4556C6.55657 12.4556 6.34347 12.2425 6.34347 11.9796V8.67169H2.53053V11.9796C2.53053 12.2425 2.31743 12.4556 2.05457 12.4556C1.79171 12.4556 1.57861 12.2425 1.57861 11.9796V4.41185C1.57861 4.14899 1.79171 3.9359 2.05457 3.9359Z"
  />
</svg>`,eB=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M11.7668 3.6778C9.70114 3.6778 8.55013 5.339 8.55013 8.33165C8.55013 9.61955 8.76166 10.5839 9.19096 11.2683C9.70114 12.0709 10.5411 12.5064 11.5925 12.5064C13.3222 12.5064 14.4919 11.343 14.4919 9.632C14.4919 8.00812 13.3844 6.86955 11.8041 6.86955C10.8335 6.86955 9.94379 7.40461 9.65759 8.16367H9.60782C9.62648 5.83674 10.3606 4.61728 11.7481 4.61728C12.3018 4.61728 12.7684 4.81637 13.2164 5.25812C13.4404 5.47588 13.571 5.54432 13.7453 5.54432C14.0128 5.54432 14.2057 5.34522 14.2057 5.07769C14.2057 4.79149 13.9568 4.44929 13.5462 4.18176C13.0733 3.85823 12.4325 3.6778 11.7668 3.6778ZM11.6361 11.5732C10.5349 11.5732 9.76336 10.783 9.76336 9.66933C9.76336 8.56808 10.5162 7.79658 11.5925 7.79658C12.7 7.79658 13.4217 8.54319 13.4217 9.67555C13.4217 10.8203 12.7062 11.5732 11.6361 11.5732ZM2.30302 3.99417C2.56692 3.99417 2.78085 4.2081 2.78085 4.472V7.79291H6.60878V4.472C6.60878 4.2081 6.82271 3.99417 7.08661 3.99417C7.35051 3.99417 7.56444 4.2081 7.56444 4.472V8.27074V12.0695C7.56444 12.3334 7.35051 12.5473 7.08661 12.5473C6.82271 12.5473 6.60878 12.3334 6.60878 12.0695V8.74857H2.78085V12.0695C2.78085 12.3334 2.56692 12.5473 2.30302 12.5473C2.03913 12.5473 1.8252 12.3334 1.8252 12.0695V4.472C1.8252 4.2081 2.03913 3.99417 2.30302 3.99417Z"
  />
</svg>`,e$=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M1.5 3.99999C1.5 2.98747 2.32081 2.16666 3.33333 2.16666H12.6667C13.6792 2.16666 14.5 2.98747 14.5 3.99999V12C14.5 13.0125 13.6792 13.8333 12.6667 13.8333H3.33333C2.32081 13.8333 1.5 13.0125 1.5 12V3.99999ZM3.33333 3.16666C2.8731 3.16666 2.5 3.53975 2.5 3.99999V12C2.5 12.4602 2.8731 12.8333 3.33333 12.8333H12.6667C13.1269 12.8333 13.5 12.4602 13.5 12V3.99999C13.5 3.53975 13.1269 3.16666 12.6667 3.16666H3.33333ZM7.02022 6.24637C7.21548 6.44163 7.21548 6.75822 7.02022 6.95348L5.95956 8.01414L7.02022 9.0748C7.21548 9.27006 7.21548 9.58664 7.02022 9.78191C6.82496 9.97717 6.50838 9.97717 6.31311 9.78191L4.8989 8.36769C4.70364 8.17243 4.70364 7.85585 4.8989 7.66058L6.31311 6.24637C6.50838 6.05111 6.82496 6.05111 7.02022 6.24637ZM8.97978 6.95348C8.78452 6.75822 8.78452 6.44163 8.97978 6.24637C9.17504 6.05111 9.49162 6.05111 9.68689 6.24637L11.1011 7.66058C11.2964 7.85585 11.2964 8.17243 11.1011 8.36769L9.68689 9.78191C9.49162 9.97717 9.17504 9.97717 8.97978 9.78191C8.78452 9.58664 8.78452 9.27006 8.97978 9.0748L10.0404 8.01414L8.97978 6.95348Z"
  />
</svg>`,eT=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M3.3335 7.31033V7.39684V10.0405C3.3335 10.4175 3.63908 10.7231 4.01604 10.7231H6.74619C7.12315 10.7231 7.42873 10.4175 7.42873 10.0405V7.31033C7.42873 6.93337 7.12315 6.62779 6.74619 6.62779H4.46965C4.78293 5.77502 5.60225 5.16666 6.56365 5.16666V4.16666C4.83323 4.16666 3.42062 5.52736 3.33738 7.23713C3.33481 7.26118 3.3335 7.2856 3.3335 7.31033ZM8.66683 7.31033V7.39684V10.0405C8.66683 10.4175 8.97242 10.7231 9.34937 10.7231H12.0795C12.4565 10.7231 12.7621 10.4175 12.7621 10.0405V7.31033C12.7621 6.93337 12.4565 6.62779 12.0795 6.62779H9.80298C10.1163 5.77502 10.9356 5.16666 11.897 5.16666V4.16666C10.1666 4.16666 8.75396 5.52736 8.67071 7.23713C8.66815 7.26118 8.66683 7.2856 8.66683 7.31033Z"
  />
</svg>`,eO=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M2.75263 3.84138C2.7875 3.82966 2.81892 3.81149 2.85247 3.7882L3.02274 3.67024V5.09333C3.02274 5.21841 3.06494 5.32694 3.14381 5.40422C3.22253 5.48134 3.33201 5.52173 3.45631 5.52173C3.58061 5.52173 3.69008 5.48134 3.7688 5.40422C3.84767 5.32694 3.88988 5.21841 3.88988 5.09333V3.28924C3.88988 3.15004 3.84638 3.02903 3.75909 2.94279C3.67187 2.85661 3.54844 2.81259 3.40289 2.81259C3.25521 2.81259 3.11383 2.82725 2.95315 2.93437L2.50128 3.23619C2.38666 3.31397 2.3335 3.41753 2.3335 3.54254C2.3335 3.72466 2.46885 3.85721 2.643 3.85721C2.68225 3.85721 2.71723 3.85327 2.75263 3.84138ZM6.27061 3.73435C5.98781 3.73433 5.75855 3.96357 5.75853 4.24636C5.75851 4.52916 5.98775 4.75843 6.27055 4.75844L13.1548 4.75886C13.4375 4.75887 13.6668 4.52964 13.6668 4.24684C13.6668 3.96404 13.4376 3.73478 13.1548 3.73476L6.27061 3.73435ZM6.27061 7.48937C5.98781 7.48935 5.75855 7.71859 5.75853 8.00139C5.75851 8.28419 5.98775 8.51345 6.27055 8.51347L13.1548 8.51388C13.4375 8.5139 13.6668 8.28466 13.6668 8.00186C13.6668 7.71907 13.4376 7.4898 13.1548 7.48978L6.27061 7.48937ZM6.27061 11.2444C5.98781 11.2444 5.75855 11.4736 5.75853 11.7564C5.75851 12.0392 5.98775 12.2685 6.27055 12.2685L13.1548 12.2689C13.4375 12.2689 13.6668 12.0397 13.6668 11.7569C13.6668 11.4741 13.4376 11.2448 13.1548 11.2448L6.27061 11.2444ZM4.41634 7.40936C4.42422 7.36536 4.4281 7.31884 4.4281 7.26872C4.4281 6.81727 4.04212 6.51228 3.43732 6.51228C3.00309 6.51228 2.65331 6.69665 2.52235 6.99302C2.51378 7.0128 2.50697 7.03283 2.50184 7.05321C2.50698 7.03281 2.51379 7.01276 2.52237 6.99296C2.65332 6.69658 3.00311 6.51221 3.43733 6.51221C4.04214 6.51221 4.42811 6.8172 4.42811 7.26865C4.42811 7.3188 4.42423 7.36534 4.41634 7.40936ZM3.41666 8.50244L3.41664 8.50246V8.51624H4.20582C4.38847 8.51624 4.49185 8.6248 4.49185 8.79194C4.49185 8.81314 4.49012 8.83346 4.4867 8.8528C4.49013 8.83344 4.49187 8.81309 4.49187 8.79187C4.49187 8.62473 4.38848 8.51618 4.20583 8.51618H3.41666V8.50244ZM2.49348 8.6609C2.51659 8.5679 2.5776 8.48696 2.68261 8.39901L3.36669 7.81315C3.59238 7.6195 3.68741 7.51146 3.71552 7.39886C3.68743 7.51148 3.5924 7.61953 3.36667 7.81322L2.6826 8.39907C2.57761 8.487 2.5166 8.56793 2.49348 8.6609ZM3.00245 7.45443C3.06576 7.41681 3.11852 7.35977 3.16964 7.28495C3.21335 7.22183 3.25281 7.18128 3.29247 7.1562C3.33084 7.13193 3.37305 7.11981 3.42699 7.11981C3.50193 7.11981 3.55935 7.14261 3.59712 7.17634C3.63429 7.20954 3.65682 7.25704 3.65682 7.3169C3.65682 7.42985 3.60418 7.51941 3.32223 7.76134L2.63848 8.34692C2.49238 8.46935 2.41446 8.59008 2.41446 8.75224C2.41446 8.85608 2.44402 8.95426 2.51569 9.02649C2.58758 9.09893 2.69247 9.13584 2.82391 9.13584H4.20583C4.3113 9.13584 4.40151 9.10321 4.46551 9.03949C4.52944 8.97584 4.56014 8.88822 4.56014 8.79187C4.56014 8.69411 4.52962 8.60621 4.4653 8.54275C4.40102 8.47933 4.31071 8.4479 4.20583 8.4479H3.58427L3.91453 8.16286C4.10644 7.99664 4.25236 7.86448 4.34915 7.72979C4.44874 7.59122 4.49639 7.45023 4.49639 7.26865C4.49639 7.02144 4.38982 6.81248 4.20121 6.66707C4.01414 6.52284 3.75049 6.44394 3.43733 6.44394C2.98691 6.44394 2.6054 6.63612 2.45972 6.96581C2.43335 7.02666 2.42135 7.08939 2.42135 7.15493C2.42135 7.25795 2.45508 7.34823 2.52273 7.41249C2.58996 7.47636 2.68328 7.50751 2.78945 7.50751C2.86827 7.50751 2.93794 7.49275 3.00245 7.45443ZM2.44775 10.719C2.54915 10.4427 2.89358 10.1498 3.48551 10.1498C3.79028 10.1498 4.06201 10.2143 4.2587 10.3429C4.45674 10.4724 4.57779 10.6666 4.57779 10.9199C4.57779 11.2418 4.37235 11.4559 4.11613 11.5475C4.27228 11.5803 4.40301 11.6428 4.5004 11.7332C4.62307 11.8472 4.69016 12.003 4.69016 12.1916C4.69016 12.461 4.57389 12.6824 4.36382 12.8353C4.15486 12.9874 3.85534 13.0703 3.48925 13.0703C2.84939 13.0703 2.49302 12.7649 2.39522 12.4915C2.3769 12.4406 2.36887 12.3842 2.36887 12.3395C2.36887 12.2333 2.40451 12.144 2.47207 12.0815C2.53931 12.0193 2.63451 11.987 2.74761 11.987C2.82533 11.987 2.89225 11.9998 2.95092 12.0293C3.00974 12.0588 3.05785 12.1039 3.09973 12.1647C3.14935 12.2373 3.19619 12.2916 3.2569 12.3283C3.31713 12.3648 3.39437 12.3859 3.50798 12.3859C3.69342 12.3859 3.8147 12.276 3.8147 12.1335C3.8147 12.0471 3.78226 11.9841 3.7209 11.9412C3.65761 11.897 3.55985 11.8717 3.42558 11.8717H3.40685C3.30795 11.8717 3.22859 11.8442 3.1739 11.7906C3.11916 11.7369 3.09366 11.6617 3.09366 11.5754C3.09366 11.4925 3.11937 11.418 3.17378 11.3641C3.22823 11.3102 3.30745 11.281 3.40685 11.281H3.42558C3.54389 11.281 3.63283 11.2551 3.69126 11.2124C3.74841 11.1706 3.77911 11.1108 3.77911 11.0342C3.77911 10.9599 3.75194 10.902 3.70443 10.862C3.65624 10.8215 3.58381 10.7968 3.48925 10.7968C3.41343 10.7968 3.35069 10.8121 3.29851 10.8419C3.24639 10.8716 3.20271 10.9169 3.16682 10.9799C3.12025 11.0624 3.06988 11.122 3.00589 11.1606C2.94171 11.1992 2.86754 11.2144 2.77758 11.2144C2.66225 11.2144 2.57171 11.1804 2.50997 11.1187C2.44832 11.0571 2.41944 10.9717 2.41944 10.8769C2.41944 10.8202 2.42781 10.7749 2.44775 10.719Z"
  />
</svg>`,eP=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M2.86686 4.99999C3.23505 4.99999 3.53353 4.70151 3.53353 4.33332C3.53353 3.96513 3.23505 3.66666 2.86686 3.66666C2.49867 3.66666 2.2002 3.96513 2.2002 4.33332C2.2002 4.70151 2.49867 4.99999 2.86686 4.99999ZM5.55577 3.83381C5.27963 3.8338 5.05576 4.05764 5.05575 4.33378C5.05573 4.60993 5.27958 4.8338 5.55572 4.83381L13.5001 4.83425C13.7763 4.83427 14.0002 4.61042 14.0002 4.33428C14.0002 4.05814 13.7763 3.83427 13.5002 3.83425L5.55577 3.83381ZM5.55578 7.50051C5.27963 7.5005 5.05576 7.72434 5.05575 8.00048C5.05573 8.27662 5.27957 8.5005 5.55572 8.50051L13.5002 8.50099C13.7763 8.50101 14.0002 8.27716 14.0002 8.00102C14.0002 7.72488 13.7764 7.50101 13.5002 7.50099L5.55578 7.50051ZM5.55578 11.1672C5.27963 11.1672 5.05576 11.391 5.05575 11.6671C5.05573 11.9433 5.27957 12.1672 5.55571 12.1672L13.5002 12.1677C13.7763 12.1677 14.0002 11.9438 14.0002 11.6677C14.0002 11.3915 13.7764 11.1677 13.5002 11.1677L5.55578 11.1672ZM3.53353 7.99999C3.53353 8.36818 3.23505 8.66666 2.86686 8.66666C2.49867 8.66666 2.2002 8.36818 2.2002 7.99999C2.2002 7.6318 2.49867 7.33332 2.86686 7.33332C3.23505 7.33332 3.53353 7.6318 3.53353 7.99999ZM2.86686 12.3333C3.23505 12.3333 3.53353 12.0348 3.53353 11.6667C3.53353 11.2985 3.23505 11 2.86686 11C2.49867 11 2.2002 11.2985 2.2002 11.6667C2.2002 12.0348 2.49867 12.3333 2.86686 12.3333Z"
  />
</svg>`,eA=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M3.99984 2.16666C2.98732 2.16666 2.1665 2.98747 2.1665 3.99999V12C2.1665 13.0125 2.98732 13.8333 3.99984 13.8333H11.9998C13.0124 13.8333 13.8332 13.0125 13.8332 12V3.99999C13.8332 2.98747 13.0124 2.16666 11.9998 2.16666H3.99984ZM3.1665 3.99999C3.1665 3.53975 3.5396 3.16666 3.99984 3.16666H11.9998C12.4601 3.16666 12.8332 3.53975 12.8332 3.99999V12C12.8332 12.4602 12.4601 12.8333 11.9998 12.8333H3.99984C3.5396 12.8333 3.1665 12.4602 3.1665 12V3.99999ZM11.0201 6.35354C11.2153 6.15828 11.2153 5.8417 11.0201 5.64644C10.8248 5.45117 10.5082 5.45117 10.3129 5.64644L6.99984 8.95955L6.02006 7.97977C5.82479 7.78451 5.50821 7.78451 5.31295 7.97977C5.11769 8.17503 5.11769 8.49161 5.31295 8.68688L6.64628 10.0202C6.84155 10.2155 7.15813 10.2155 7.35339 10.0202L11.0201 6.35354Z"
  />
</svg>`,eH=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M3.33333 2.16669C2.32081 2.16669 1.5 2.9875 1.5 4.00002V8.66669C1.5 8.94283 1.72386 9.16669 2 9.16669C2.27614 9.16669 2.5 8.94283 2.5 8.66669V4.00002C2.5 3.53978 2.8731 3.16669 3.33333 3.16669H12.6667C13.1269 3.16669 13.5 3.53978 13.5 4.00002V12C13.5 12.4603 13.1269 12.8334 12.6667 12.8334H8C7.72386 12.8334 7.5 13.0572 7.5 13.3334C7.5 13.6095 7.72386 13.8334 8 13.8334H12.6667C13.6792 13.8334 14.5 13.0125 14.5 12V4.00002C14.5 2.9875 13.6792 2.16669 12.6667 2.16669H3.33333ZM6.07741 8.7441C6.40285 8.41866 6.93048 8.41866 7.25592 8.7441C7.58136 9.06953 7.58136 9.59717 7.25592 9.92261L5.92259 11.2559C5.59715 11.5814 5.06951 11.5814 4.74408 11.2559C4.54882 11.0607 4.23223 11.0607 4.03697 11.2559C3.84171 11.4512 3.84171 11.7678 4.03697 11.963C4.75293 12.679 5.91373 12.679 6.6297 11.963L7.96303 10.6297C8.67899 9.91375 8.67899 8.75295 7.96303 8.03699C7.24707 7.32103 6.08627 7.32103 5.3703 8.03699L5.00377 8.40353C4.80851 8.59879 4.80851 8.91537 5.00377 9.11063C5.19903 9.3059 5.51561 9.3059 5.71087 9.11063L6.07741 8.7441ZM4.07741 10.7441C4.40285 10.4187 4.93049 10.4187 5.25592 10.7441C5.45118 10.9394 5.76777 10.9394 5.96303 10.7441C6.15829 10.5488 6.15829 10.2323 5.96303 10.037C5.24707 9.32103 4.08627 9.32103 3.3703 10.037L2.03697 11.3703C1.32101 12.0863 1.32101 13.2471 2.03697 13.963C2.75293 14.679 3.91373 14.679 4.6297 13.963L4.99688 13.5959C5.19215 13.4006 5.19215 13.084 4.99688 12.8888C4.80162 12.6935 4.48504 12.6935 4.28978 12.8888L3.92259 13.2559C3.59715 13.5814 3.06951 13.5814 2.74408 13.2559C2.41864 12.9305 2.41864 12.4029 2.74408 12.0774L4.07741 10.7441Z"
  />
</svg>`,eL=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M3.99984 2.16669C2.98732 2.16669 2.1665 2.9875 2.1665 4.00002V10.6667V12C2.1665 13.0125 2.98732 13.8334 3.99984 13.8334H11.9998C13.0124 13.8334 13.8332 13.0125 13.8332 12V9.33335V4.00002C13.8332 2.9875 13.0124 2.16669 11.9998 2.16669H3.99984ZM3.1665 12V10.8738L6.07725 7.96305C6.40268 7.63761 6.93032 7.63761 7.25576 7.96305L8.97962 9.68691L10.313 11.0202C10.5082 11.2155 10.8248 11.2155 11.0201 11.0202C11.2153 10.825 11.2153 10.5084 11.0201 10.3131L10.0403 9.33335L10.7439 8.62972C11.0694 8.30428 11.597 8.30428 11.9224 8.62972L12.8332 9.54046V12C12.8332 12.4603 12.4601 12.8334 11.9998 12.8334H3.99984C3.5396 12.8334 3.1665 12.4603 3.1665 12ZM7.96287 7.25594L9.33317 8.62625L10.0368 7.92261C10.7528 7.20665 11.9136 7.20665 12.6295 7.92261L12.8332 8.12625V4.00002C12.8332 3.53978 12.4601 3.16669 11.9998 3.16669H3.99984C3.5396 3.16669 3.1665 3.53978 3.1665 4.00002V9.45958L5.37014 7.25594C6.0861 6.53998 7.2469 6.53998 7.96287 7.25594ZM9.33317 6.00002C9.70136 6.00002 9.99984 5.70154 9.99984 5.33335C9.99984 4.96516 9.70136 4.66669 9.33317 4.66669C8.96498 4.66669 8.6665 4.96516 8.6665 5.33335C8.6665 5.70154 8.96498 6.00002 9.33317 6.00002Z"
  />
</svg>`,eD=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M2.1665 4.00002C2.1665 2.9875 2.98732 2.16669 3.99984 2.16669H11.9998C13.0124 2.16669 13.8332 2.9875 13.8332 4.00002V12C13.8332 13.0125 13.0124 13.8334 11.9998 13.8334H3.99984C2.98732 13.8334 2.1665 13.0125 2.1665 12V4.00002ZM3.99984 3.16669C3.5396 3.16669 3.1665 3.53978 3.1665 4.00002V5.50002H12.8332V4.00002C12.8332 3.53978 12.4601 3.16669 11.9998 3.16669H3.99984ZM3.1665 12V6.50002H5.1665V12.8334H3.99984C3.5396 12.8334 3.1665 12.4603 3.1665 12ZM6.1665 12.8334H11.9998C12.4601 12.8334 12.8332 12.4603 12.8332 12V6.50002H6.1665V12.8334Z"
  />
</svg>`,eZ=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M3.66667 2.5C3.02233 2.5 2.5 3.02233 2.5 3.66667V12C2.5 12.6443 3.02233 13.1667 3.66667 13.1667H6.33333C6.97767 13.1667 7.5 12.6443 7.5 12V3.66667C7.5 3.02233 6.97767 2.5 6.33333 2.5H3.66667ZM3.5 3.66667C3.5 3.57462 3.57462 3.5 3.66667 3.5H6.33333C6.42538 3.5 6.5 3.57462 6.5 3.66667V12C6.5 12.092 6.42538 12.1667 6.33333 12.1667H3.66667C3.57462 12.1667 3.5 12.092 3.5 12V3.66667ZM9.66667 2.5C9.02233 2.5 8.5 3.02233 8.5 3.66667V8.33333C8.5 8.97767 9.02233 9.5 9.66667 9.5H12.3333C12.9777 9.5 13.5 8.97767 13.5 8.33333V3.66667C13.5 3.02233 12.9777 2.5 12.3333 2.5H9.66667ZM9.5 3.66667C9.5 3.57462 9.57462 3.5 9.66667 3.5H12.3333C12.4254 3.5 12.5 3.57462 12.5 3.66667V8.33333C12.5 8.42538 12.4254 8.5 12.3333 8.5H9.66667C9.57462 8.5 9.5 8.42538 9.5 8.33333V3.66667Z"
  />
</svg>`,ej=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M8.14486 3.73868L4.11805 7.76553C2.84936 9.00118 2.84933 10.9989 4.11802 12.2346C5.39409 13.4774 7.46833 13.4774 8.7444 12.2346L12.671 8.41922C12.8691 8.22678 13.1856 8.23133 13.378 8.42938C13.5705 8.62742 13.5659 8.94397 13.3679 9.13641L9.44212 12.9509C9.44204 12.951 9.44219 12.9509 9.44212 12.9509C7.77775 14.5717 5.08458 14.5719 3.4203 12.9509C1.74938 11.3235 1.74857 8.67989 3.41786 7.0515L7.44488 3.02445C8.61916 1.88075 10.5177 1.88078 11.692 3.02448C12.8729 4.17456 12.8737 6.04431 11.6945 7.1954L7.66745 11.2225C6.98324 11.8889 5.87921 11.8889 5.195 11.2225C4.50341 10.5489 4.50341 9.45119 5.195 8.77761L9.32726 4.75296C9.52508 4.56029 9.84163 4.56447 10.0343 4.76229C10.227 4.96011 10.2228 5.27666 10.025 5.46933L5.89272 9.49398C5.60417 9.77501 5.60417 10.2251 5.89272 10.5061C6.18796 10.7936 6.67153 10.7943 6.96765 10.5081L10.9943 6.48141C11.7729 5.72307 11.7729 4.49919 10.9943 3.74085C10.2091 2.97604 8.93105 2.97532 8.14486 3.73868Z"
  />
</svg>`,eV=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M2.8335 4.00002C2.8335 2.9875 3.65431 2.16669 4.66683 2.16669H11.3335C12.346 2.16669 13.1668 2.9875 13.1668 4.00002V8.00002C13.1668 8.27616 12.943 8.50002 12.6668 8.50002C12.3907 8.50002 12.1668 8.27616 12.1668 8.00002V4.00002C12.1668 3.53978 11.7937 3.16669 11.3335 3.16669H4.66683C4.20659 3.16669 3.8335 3.53978 3.8335 4.00002V12C3.8335 12.4603 4.20659 12.8334 4.66683 12.8334H8.00016C8.27631 12.8334 8.50016 13.0572 8.50016 13.3334C8.50016 13.6095 8.27631 13.8334 8.00016 13.8334H4.66683C3.65431 13.8334 2.8335 13.0125 2.8335 12V4.00002ZM5.50016 5.33335C5.50016 5.05721 5.72402 4.83335 6.00016 4.83335H8.00016C8.27631 4.83335 8.50016 5.05721 8.50016 5.33335C8.50016 5.6095 8.27631 5.83335 8.00016 5.83335H6.00016C5.72402 5.83335 5.50016 5.6095 5.50016 5.33335ZM6.00016 7.16669C5.72402 7.16669 5.50016 7.39054 5.50016 7.66669C5.50016 7.94283 5.72402 8.16669 6.00016 8.16669H10.0002C10.2763 8.16669 10.5002 7.94283 10.5002 7.66669C10.5002 7.39054 10.2763 7.16669 10.0002 7.16669H6.00016ZM5.50016 10C5.50016 9.72388 5.72402 9.50002 6.00016 9.50002H7.66683C7.94297 9.50002 8.16683 9.72388 8.16683 10C8.16683 10.2762 7.94297 10.5 7.66683 10.5H6.00016C5.72402 10.5 5.50016 10.2762 5.50016 10ZM10.3335 9.50002C10.0574 9.50002 9.8335 9.72388 9.8335 10C9.8335 10.2762 10.0574 10.5 10.3335 10.5H12.1264L9.64661 12.9798C9.45135 13.1751 9.45135 13.4916 9.64661 13.6869C9.84187 13.8822 10.1585 13.8822 10.3537 13.6869L12.8335 11.2071V13C12.8335 13.2762 13.0574 13.5 13.3335 13.5C13.6096 13.5 13.8335 13.2762 13.8335 13V10C13.8335 9.86741 13.7808 9.74023 13.687 9.64647C13.5933 9.5527 13.4661 9.50002 13.3335 9.50002H10.3335Z"
  />
</svg>`,eR=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.33334 1.5C6.32082 1.5 5.50001 2.32081 5.50001 3.33333V4.09994H2.66667C2.35371 4.09994 2.10001 4.35364 2.10001 4.6666C2.10001 4.97956 2.35371 5.23327 2.66667 5.23327H2.87254L3.41282 12.7973C3.48135 13.7567 4.27966 14.5 5.2415 14.5H10.7585C11.7204 14.5 12.5187 13.7567 12.5872 12.7973L13.1275 5.23327H13.3333C13.6463 5.23327 13.9 4.97956 13.9 4.6666C13.9 4.35364 13.6463 4.09994 13.3333 4.09994H10.5V3.33333C10.5 2.32081 9.67919 1.5 8.66667 1.5H7.33334ZM9.50001 4.09994V3.33333C9.50001 2.8731 9.12691 2.5 8.66667 2.5H7.33334C6.8731 2.5 6.50001 2.8731 6.50001 3.33333V4.09994H9.50001ZM12.1249 5.23327H3.87508L4.41028 12.726C4.44143 13.1621 4.8043 13.5 5.2415 13.5H10.7585C11.1957 13.5 11.5586 13.1621 11.5897 12.726L12.1249 5.23327ZM7.16667 7.33333C7.16667 7.05719 6.94281 6.83333 6.66667 6.83333C6.39053 6.83333 6.16667 7.05719 6.16667 7.33333V11.3333C6.16667 11.6095 6.39053 11.8333 6.66667 11.8333C6.94281 11.8333 7.16667 11.6095 7.16667 11.3333V7.33333ZM9.33334 6.83333C9.60948 6.83333 9.83334 7.05719 9.83334 7.33333V11.3333C9.83334 11.6095 9.60948 11.8333 9.33334 11.8333C9.0572 11.8333 8.83334 11.6095 8.83334 11.3333V7.33333C8.83334 7.05719 9.0572 6.83333 9.33334 6.83333Z"
    fill="currentColor"
  />
</svg>`,ez=(0,s.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M14.7916 13.9062C14.7916 14.2514 14.5118 14.5312 14.1666 14.5312C13.8214 14.5312 13.5416 14.2514 13.5416 13.9062V5.10263L10.8585 7.78569C10.6144 8.02977 10.2187 8.02977 9.97464 7.78569C9.73057 7.54161 9.73057 7.14589 9.97464 6.90181L13.7246 3.15181C13.9687 2.90773 14.3644 2.90773 14.6085 3.15181L18.3585 6.90181C18.6026 7.14589 18.6026 7.54161 18.3585 7.78569C18.1144 8.02977 17.7187 8.02977 17.4746 7.78569L14.7916 5.10263V13.9062ZM6.45825 6.09375C6.45825 5.74857 6.17843 5.46875 5.83325 5.46875C5.48807 5.46875 5.20825 5.74857 5.20825 6.09375V14.8974L2.52519 12.2143C2.28112 11.9702 1.88539 11.9702 1.64131 12.2143C1.39723 12.4584 1.39723 12.8541 1.64131 13.0982L5.39131 16.8482C5.63539 17.0923 6.03112 17.0923 6.27519 16.8482L10.0252 13.0982C10.2693 12.8541 10.2693 12.4584 10.0252 12.2143C9.78112 11.9702 9.38539 11.9702 9.14131 12.2143L6.45825 14.8974V6.09375Z"
  />
</svg>`,eF=(0,s.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M13.0265 9.4584C13.4358 9.69904 13.4358 10.3006 13.0265 10.5413L8.42122 13.2485C8.01186 13.4891 7.50016 13.1883 7.50016 12.707L7.50016 7.29264C7.50016 6.81136 8.01186 6.51056 8.42122 6.7512L13.0265 9.4584Z"
    fill="#77757D"
  />
</svg> `,eN=(0,s.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_3398_22894)">
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M10.8359 5.4105C10.6024 5.66474 10.6192 6.06011 10.8735 6.29359L14.2287 9.37492L4.16658 9.37492C3.82141 9.37492 3.54158 9.65474 3.54158 9.99992C3.54158 10.3451 3.82141 10.6249 4.16658 10.6249L14.2287 10.6249L10.8735 13.7063C10.6192 13.9397 10.6024 14.3351 10.8359 14.5893C11.0694 14.8436 11.4647 14.8604 11.719 14.6269L16.256 10.4603C16.3849 10.3419 16.4583 10.1749 16.4583 9.99992C16.4583 9.82493 16.3849 9.65796 16.256 9.53959L11.719 5.37292C11.4647 5.13944 11.0694 5.15627 10.8359 5.4105Z"
      fill="#77757D"
      fill-opacity="0.6"
    />
  </g>
  <defs>
    <clipPath id="clip0_3398_22894">
      <rect width="20" height="20" fill="white" />
    </clipPath>
  </defs>
</svg> `,eq=(0,s.qy)`<svg
  width="20"
  height="20"
  viewBox="0 0 20 20"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    fill="currentColor"
    d="M3.83277 6.29118C3.62547 6.01519 3.23368 5.9595 2.95769 6.16681C2.68169 6.37411 2.62601 6.76591 2.83331 7.0419C3.50188 7.93198 4.33282 8.69373 5.28223 9.28306L3.64659 11.7365C3.45512 12.0237 3.53273 12.4118 3.81994 12.6032C4.10714 12.7947 4.49519 12.7171 4.68666 12.4299L6.35332 9.92989C6.36688 9.90956 6.37909 9.88872 6.38997 9.86748C7.31361 10.2747 8.31912 10.5306 9.37496 10.6034V14.5832C9.37496 14.9284 9.65478 15.2082 9.99996 15.2082C10.3451 15.2082 10.625 14.9284 10.625 14.5832V10.6035C11.6808 10.5307 12.6864 10.2749 13.6101 9.86776C13.6209 9.8889 13.6331 9.90965 13.6466 9.92989L15.3133 12.4299C15.5047 12.7171 15.8928 12.7947 16.18 12.6032C16.4672 12.4118 16.5448 12.0237 16.3533 11.7365L14.7179 9.2834C15.6675 8.69402 16.4987 7.93215 17.1674 7.0419C17.3747 6.76591 17.319 6.37411 17.043 6.16681C16.767 5.9595 16.3752 6.01519 16.1679 6.29118C14.7605 8.16488 12.5218 9.3749 10.0003 9.3749C7.47885 9.3749 5.24015 8.16488 3.83277 6.29118Z"
  />
</svg>`,eU=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.31344 6.31295C4.5087 6.11769 4.82528 6.11769 5.02055 6.31295L7.76462 9.05703C7.8948 9.1872 8.10585 9.1872 8.23603 9.05703L10.9801 6.31295C11.1754 6.11769 11.492 6.11769 11.6872 6.31295C11.8825 6.50821 11.8825 6.8248 11.6872 7.02006L8.94313 9.76414C8.42244 10.2848 7.57822 10.2848 7.05752 9.76414L4.31344 7.02006C4.11818 6.8248 4.11818 6.50821 4.31344 6.31295Z"
    fill="currentColor"
  />
</svg>`,eW=(0,s.qy)`<svg
  width="16"
  height="16"
  viewBox="0 0 16 16"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M3.64645 3.64645C3.84171 3.45118 4.15829 3.45118 4.35355 3.64645L8 7.29289L11.6464 3.64645C11.8417 3.45118 12.1583 3.45118 12.3536 3.64645C12.5488 3.84171 12.5488 4.15829 12.3536 4.35355L8.70711 8L12.3536 11.6464C12.5488 11.8417 12.5488 12.1583 12.3536 12.3536C12.1583 12.5488 11.8417 12.5488 11.6464 12.3536L8 8.70711L4.35355 12.3536C4.15829 12.5488 3.84171 12.5488 3.64645 12.3536C3.45118 12.1583 3.45118 11.8417 3.64645 11.6464L7.29289 8L3.64645 4.35355C3.45118 4.15829 3.45118 3.84171 3.64645 3.64645Z"
    fill="currentColor"
  />
</svg>`,eG=(0,s.qy)`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    width="1em"
    height="1em"
    fill="none"
    style="user-select:none;flex-shrink:0;"
  >
    <path
      fill="#7A7A7A"
      fill-rule="evenodd"
      d="M3.25 6A.75.75 0 0 1 4 5.25h13a.75.75 0 0 1 0 1.5H4A.75.75 0 0 1 3.25 6ZM3.25 12a.75.75 0 0 1 .75-.75h13a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75ZM3.25 18a.75.75 0 0 1 .75-.75h13a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75Z"
      clip-rule="evenodd"
    />
    <path
      fill="#7A7A7A"
      d="M20.8 12a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM20.8 18a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM20.8 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"
    />
  </svg>
`;var eY=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},eK=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(0,K.lQ)(y.sDQ);let{matchFlavours:eX}=y.yYJ;(()=>{let e,t,i,r,n,l,c=[(0,o.EM)("bi-directional-link-panel")],d=[],h=(0,v.Tm)(s.WF),u=[],p=[],f=[],g=[],m=[],b=[],w=[],x=[];(class extends h{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,o.wk)()],r=[(0,o.wk)()],n=[(0,o.MZ)({attribute:!1})],l=[(0,o.MZ)({attribute:!1})],eY(this,null,i,{kind:"accessor",name:"_backLinkShow",static:!1,private:!1,access:{has:e=>"_backLinkShow"in e,get:e=>e._backLinkShow,set:(e,t)=>{e._backLinkShow=t}},metadata:s},u,p),eY(this,null,r,{kind:"accessor",name:"_show",static:!1,private:!1,access:{has:e=>"_show"in e,get:e=>e._show,set:(e,t)=>{e._show=t}},metadata:s},f,g),eY(this,null,n,{kind:"accessor",name:"doc",static:!1,private:!1,access:{has:e=>"doc"in e,get:e=>e.doc,set:(e,t)=>{e.doc=t}},metadata:s},m,b),eY(this,null,l,{kind:"accessor",name:"pageRoot",static:!1,private:!1,access:{has:e=>"pageRoot"in e,get:e=>e.pageRoot,set:(e,t)=>{e.pageRoot=t}},metadata:s},w,x),eY(null,e={value:t},c,{kind:"class",name:t.name,metadata:s},null,d),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=(0,s.AH)`
    :host {
      width: 100%;
      max-width: var(--affine-editor-width);
      margin-left: auto;
      margin-right: auto;
      padding-left: var(
        --affine-editor-side-padding,
        ${24}
      );
      padding-right: var(
        --affine-editor-side-padding,
        ${24}
      );
      font-size: var(--affine-font-base);
    }

    /* Extra small devices (phones, 640px and down) */
    @container viewport (width <= 640px) {
      :host {
        padding-left: ${24}px;
        padding-right: ${24}px;
      }
    }

    .title-line {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .back-links-title,
    .links-title {
      color: var(--affine-text-secondary-color);
      height: 32px;
      line-height: 32px;
    }

    .links,
    .back-links {
      margin-bottom: 16px;
    }

    .back-link-title {
      width: 100%;
      height: 32px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .back-link-title div {
      display: flex;
      align-items: center;
      gap: 4px;
      color: var(--affine-text-primary-color);
    }

    .back-links-container {
      height: auto;
      display: flex;
    }

    .back-links-container-left-divider {
      width: 20px;
      display: flex;
      justify-content: center;
    }
    .back-links-container-left-divider div {
      width: 1px;
      height: 100%;
      background-color: var(--affine-border-color);
    }

    .link {
      width: 100%;
      height: 32px;
      display: flex;
      align-items: center;
      gap: 4px;
      white-space: nowrap;
      cursor: pointer;
    }

    .link svg {
      flex: none;
    }

    .link div {
      width: fit-content;
      height: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      line-height: 32px;
      border-bottom: 0.5px solid var(--affine-divider-color);
    }

    .link.deleted {
      color: var(--affine-text-disable-color);
      text-decoration: line-through;
      fill: var(--affine-text-disable-color);
    }

    .arrow {
      cursor: pointer;
      transition: transform 0.2s;
    }

    .back-links-blocks-container {
      width: 100%;
      display: flex;
      flex-direction: column;
      padding-left: 8px;
      position: relative;
    }

    .rich-text-container {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: start;
      cursor: pointer;
      border-radius: 4px;
      padding: 0px 8px;
      padding-top: 8px;
    }

    .rich-text {
      max-width: 96%;
      padding-bottom: 8px;
    }

    .arrow-link {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      display: none;
    }

    .rich-text-container:hover {
      background-color: var(--affine-hover-color);
    }

    .rich-text-container:hover .arrow-link {
      display: flex;
    }
    .arrow-link:hover {
      background-color: var(--affine-hover-color);
    }

    .quote {
      padding-left: 24px;
    }
    .quote::after {
      content: '';
      width: 2px;
      height: 24px;
      position: absolute;
      left: 16px;
      background: var(--affine-quote-color);
      border-radius: 18px;
    }

    .linked-doc-container {
      display: flex;
      align-items: center;
      padding-left: 2px;
      gap: 2px;
    }
    .linked-doc-container svg {
      scale: 1.2;
    }
  `}get _backLinks(){let{doc:e}=this,{collection:t}=e,i=new Map;return t.indexer.backlink?.getBacklink(e.id).reduce((e,t)=>{let{pageId:i}=t;return e.has(i)?e.get(i).push(t.blockId):e.set(i,[t.blockId]),e},i),i}_backlink(e,t,i){if(!eX(e,["affine:paragraph","affine:list","affine:embed-linked-doc","affine:embed-synced-doc"]))return s.s6;let o=null;eX(e,["affine:list"])&&(o=this._host.spec.getService("affine:list").styles.icon(e,!1,()=>{}));let r=eX(e,["affine:embed-linked-doc","affine:embed-synced-doc"])?"":e.type;return(0,s.qy)` <div
      class=${`rich-text-container ${r}`}
      @click=${e=>{this._handleLinkClick(e,t,i)}}
    >
      <div class="rich-text">
        ${r?(0,s.qy)`${o??s.s6}
              <rich-text
                .yText=${e.text}
                .readonly=${!0}
                .attributesSchema=${this._inlineManager.getSchema()}
                .attributeRenderer=${this._inlineManager.getRenderer()}
              ></rich-text>`:(0,s.qy)`<div class="linked-doc-container">
              ${eV}
              ${this.doc.meta?.title?this.doc.meta?.title:"Untitled"}
            </div>`}
      </div>

      <div class="arrow-link">${eN}</div>
    </div>`}_divider(e){return(0,s.qy)`
      <style>
        .divider-container {
          height: 16px;
          width: 100%;
          display: flex;
          justify-content: center;
          align-items: center;
        }
        .divider {
          background: var(--affine-border-color);
          height: 0.5px;
          width: 100%;
        }
      </style>
      <div
        style=${(0,j.W)({visibility:e?"visible":"hidden"})}
        class="divider-container"
      >
        <div class="divider"></div>
      </div>
    `}_handleLinkClick(e,t,i){e.shiftKey&&this._rootService.peekViewService?this._rootService.peekViewService.peek({docId:t,blockId:i}).catch(console.error):this.pageRoot.slots.docLinkClicked.emit({docId:t,blockId:i})}get _host(){return this.pageRoot.host}get _links(){let{doc:e}=this,t=new Set;return e.getBlockByFlavour(["affine:paragraph","affine:list","affine:embed-linked-doc","affine:embed-synced-doc"]).forEach(e=>{e.text?e.text.yText.toDelta().forEach(e=>{e.attributes?.reference?.pageId&&t.add(e.attributes.reference.pageId)}):eX(e,["affine:embed-linked-doc","affine:embed-synced-doc"])&&t.add(e.pageId)}),Array.from(t)}_renderBackLinks(e){let{doc:t}=this,{collection:i}=t,o=e.size;return(0,s.qy)` <div class="back-links">
      <div class="back-links-title">${`Backlinks \xb7 ${o}`}</div>
      ${(0,a.u)(e.keys(),e=>e,(t,o)=>{let r=i.getDoc(t),n=e.get(t);(0,et.Z1)(r);let l=this._backLinkShow[o]??!1,c=this._host.spec.getService("affine:list");return(0,s.qy)`<style>
              .affine-list-block__prefix{
                display: flex;
                align-items: center;
              }

              .rich-text{
                display: flex;
                align-items: center;
              }

              ${c.styles.prefix}
              ${c.styles.toggle}
            </style>
            <div class="back-link">
              <div class="back-link-title">
                <div
                  class="arrow"
                  style=${(0,j.W)({transform:`rotate(${l?90:0}deg)`})}
                  @click=${()=>{this._backLinkShow[o]=!l,this.requestUpdate()}}
                >
                  ${eF}
                </div>
                <div>
                  ${eV}${r.meta?.title?r.meta.title:"Untitled"}
                </div>
              </div>
              <div class="back-links-container">
                <div class="back-links-container-left-divider">
                  <div></div>
                </div>
                <div class="back-links-blocks-container">
                  ${l?(0,a.u)(n,e=>e,e=>{let i=r.getBlockById(e);return i?this._backlink(i,t,e):s.s6}):s.s6}
                </div>
              </div>
            </div>`})}
    </div>`}_renderLinks(e){let{collection:t}=this.doc;return(0,s.qy)`<div class="links">
      <div class="links-title">Outgoing links · ${e.length}</div>
      ${(0,a.u)(e,e=>e,e=>{let i=t.getDoc(e),o=!i,r=o?"Deleted doc":i.meta?i.meta.title:"Untitled";return(0,s.qy)`<div
            class=${`link ${o?"deleted":""}`}
            @click=${t=>{this._handleLinkClick(t,e)}}
          >
            ${o?eR:eV}
            <div>${r}</div>
          </div>`})}
    </div> `}get _rootService(){return this._host.spec.getService("affine:page")}_toggleShow(){this._show=!this._show,this._rootService.editPropsStore.setStorage("showBidirectional",this._show)}connectedCallback(){super.connectedCallback();let e=new y.Edk;if(e.setInteractable(!1),e.setDoc(this.doc),e.setCustomContent(e=>{let t=e.doc.meta?.title?e.doc.meta.title:"Untitled";return(0,s.qy)`<style>
          .custom-reference-content svg {
            position: relative;
            top: 2px;
          }
        </style>
        <span class="custom-reference-content">
          ${eV} ${t}
        </span> `}),this._inlineManager.registerSpecs((0,y.UNy)(e)),this.doc.collection.indexer.backlink){let{_disposables:e}=this;e.add(this.doc.collection.indexer.backlink.slots.indexUpdated.on(()=>{this.requestUpdate()}))}this._show=!!this._rootService.editPropsStore.getStorage("showBidirectional")}render(){let e=this._links,t=this._backLinks;return e.length+t.size===0?s.s6:(0,s.qy)`<style>
        .title {
          font-weight: 500;
          font-size: 15px;
          line-height: 24px;
          color: ${this._show?"var(--affine-text-primary-color)":"var(--affine-text-disable-color)"};
        }
        .show-button {
          width: 56px;
          height: 28px;
          border-radius: 8px;
          border: 1px solid var(--affine-border-color);
          background-color: var(--affine-white);
          text-align: center;
          font-size: 12px;
          line-height: 28px;
          font-weight: 500;
          color: var(--affine-text-primary-color);
          cursor: pointer;
        }
      </style>
      ${this._divider(!this._show)}
      <div class="title-line">
        <div class="title text">Bi-directional links</div>
        <div class="show-button" @click=${this._toggleShow}>
          ${this._show?"Hide":"Show"}
        </div>
      </div>
      ${this._divider(this._show)}
      ${this._show?(0,s.qy)`${this._renderBackLinks(t)} ${this._renderLinks(e)} `:s.s6} `}#c2;get _backLinkShow(){return this.#c2}set _backLinkShow(e){this.#c2=e}#iF;get _show(){return this.#iF}set _show(e){this.#iF=e}#d;get doc(){return this.#d}set doc(e){this.#d=e}#c5;get pageRoot(){return this.#c5}set pageRoot(e){this.#c5=e}constructor(){super(...arguments),this._inlineManager=new y.fA2,this.#c2=eK(this,u,[]),this.#iF=(eK(this,p),eK(this,f,!1)),this.#d=(eK(this,g),eK(this,m,void 0)),this.#c5=(eK(this,b),eK(this,w,void 0)),eK(this,x)}static{eK(t,d)}})})();class eQ{constructor(e){this.host=e}get _command(){return this.host.command}addComment(e,t){let i=this.parseTextSelection(e);if(!i)throw Error("Invalid selection");let{quote:s,range:o}=i,r=this.host.doc.collection.idGenerator(),a={id:r,date:Date.now(),start:o.start,end:o.end,quote:s,...t};return this.commentsMap.set(r,new b.rl.Y.Map(Object.entries(a))),a}getComments(){let e=[];return this.commentsMap.forEach((t,i)=>{let s=t.get("start"),o=t.get("end"),r=b.rl.Y.createAbsolutePositionFromRelativePosition(s.index,this.host.doc.spaceDoc),a=this.host.view.viewFromPath("block",s.path),n=b.rl.Y.createAbsolutePositionFromRelativePosition(o.index,this.host.doc.spaceDoc),l=this.host.view.viewFromPath("block",o.path);if(!r||!a||!n||!l){this.commentsMap.delete(i);return}let c={id:t.get("id"),date:t.get("date"),start:s,end:o,quote:t.get("quote"),author:t.get("author"),text:t.get("text")};e.push(c)}),e}parseTextSelection(e){let[t,i]=this._command.chain().getSelectedBlocks({currentTextSelection:e,types:["text"]}).run(),s=i.selectedBlocks;if(!s||0===s.length)return null;let{from:o,to:r}=e,a=s[0],n=a.model.text,l=a.path;(0,et.Z1)(n),(0,et.Z1)(l);let c=s[s.length-1],d=c.model.text,h=c.path;(0,et.Z1)(d),(0,et.Z1)(h);let u=b.rl.Y.createRelativePositionFromTypeIndex(n.yText,o.index),p=b.rl.Y.createRelativePositionFromTypeIndex(d.yText,r?r.index+r.length:o.index+o.length);return{quote:s.reduce((e,t,i)=>{let a=t.model.text;return a?0===i?e+a.yText.toString().slice(o.index,o.index+o.length):i===s.length-1&&r?e+" "+a.yText.toString().slice(0,r.index+r.length):e+" "+a.yText.toString():e},""),range:{start:{path:l,index:u},end:{path:h,index:p}}}}get commentsMap(){return this.host.doc.spaceDoc.getMap("comments")}}var eJ=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},e1=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let e0=(()=>{let e,t,i,r,a,n=[(0,o.EM)("comment-input")],l=[],c=(0,v.Tm)(v.ao),d=[],h=[],u=[],p=[],f=[],g=[];return class extends c{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,o.P)("rich-text")],r=[(0,o.MZ)({attribute:!1})],a=[(0,o.MZ)({attribute:!1})],eJ(this,null,i,{kind:"accessor",name:"_editor",static:!1,private:!1,access:{has:e=>"_editor"in e,get:e=>e._editor,set:(e,t)=>{e._editor=t}},metadata:s},d,h),eJ(this,null,r,{kind:"accessor",name:"manager",static:!1,private:!1,access:{has:e=>"manager"in e,get:e=>e.manager,set:(e,t)=>{e.manager=t}},metadata:s},u,p),eJ(this,null,a,{kind:"accessor",name:"onSubmit",static:!1,private:!1,access:{has:e=>"onSubmit"in e,get:e=>e.onSubmit,set:(e,t)=>{e.onSubmit=t}},metadata:s},f,g),eJ(null,e={value:t},n,{kind:"class",name:t.name,metadata:s},null,l),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=(0,s.AH)`
    .comment-input-container {
      padding: 16px;
    }

    .comment-quote {
      font-size: 10px;
      color: var(--affine-text-secondary-color);
      padding-left: 8px;
      border-left: 2px solid var(--affine-text-secondary-color);
      margin-bottom: 8px;
    }

    .comment-author {
      font-size: 12px;
    }

    .comment-editor {
      white-space: pre-wrap;
      overflow-wrap: break-word;
      min-height: 24px;
      margin-top: 16px;
      margin-bottom: 16px;
    }

    .comment-control {
      display: flex;
      gap: 8px;
      margin-top: 8px;
    }
  `}render(){let e=this.host.selection.find("text");if(!e)return this.remove(),s.s6;let t=this.manager.parseTextSelection(e);if(!t)return this.remove(),s.s6;let{quote:i}=t,o=new b.rl.Y.Doc().getText("comment");return(0,s.qy)`<div class="comment-input-container">
      <div class="comment-state">
        <div class="comment-quote">${i}</div>
        <div class="comment-author">Anonymous</div>
      </div>
      <rich-text
        @blur=${()=>this._submit(e)}
        .yText=${o}
        class="comment-editor"
      ></rich-text>
      <div class="comment-control">
        <button
          @click=${()=>this._submit(e)}
          class="comment-submit"
        >
          Submit
        </button>
        <button @click=${this._cancel} class="comment-cancel">Cancel</button>
      </div>
    </div>`}get host(){return this.manager.host}#c7;get _editor(){return this.#c7}set _editor(e){this.#c7=e}#c3;get manager(){return this.#c3}set manager(e){this.#c3=e}#c4;get onSubmit(){return this.#c4}set onSubmit(e){this.#c4=e}constructor(){super(...arguments),this._cancel=()=>{this.remove()},this._submit=e=>{let t=this._editor.inlineEditor?.yTextDeltas;if(!t){this.remove();return}let i=new b.rl.Y.Text;i.applyDelta(t);let s=this.manager.addComment(e,{author:"Anonymous",text:i});this.onSubmit?.(s),this.remove()},this.#c7=e1(this,d,void 0),this.#c3=(e1(this,h),e1(this,u,void 0)),this.#c4=(e1(this,p),e1(this,f,void 0)),e1(this,g)}static{e1(t,l)}},t})();var e2=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},e5=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};(()=>{let e,t,i,r,a=[(0,o.EM)("comment-panel")],n=[],l=(0,v.Tm)(v.ao),c=[],d=[],h=[],u=[];(class extends l{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,o.P)(".comment-panel-container")],r=[(0,o.MZ)({attribute:!1})],e2(this,null,i,{kind:"accessor",name:"_container",static:!1,private:!1,access:{has:e=>"_container"in e,get:e=>e._container,set:(e,t)=>{e._container=t}},metadata:s},c,d),e2(this,null,r,{kind:"accessor",name:"editor",static:!1,private:!1,access:{has:e=>"editor"in e,get:e=>e.editor,set:(e,t)=>{e.editor=t}},metadata:s},h,u),e2(null,e={value:t},a,{kind:"class",name:t.name,metadata:s},null,n),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=(0,s.AH)`
    comment-panel {
      position: absolute;
      top: 0;
      right: 0;
      border: 1px solid var(--affine-border-color, #e3e2e4);
      background-color: var(--affine-background-primary-color);
      height: 100vh;
      width: 320px;
      box-sizing: border-box;
      padding-top: 16px;
    }

    .comment-panel-container {
      width: 100%;
      height: 100%;
      padding: 16px;
    }

    .comment-panel-head {
      display: flex;
      gap: 8px;
    }

    .comment-panel-comments {
      margin-top: 16px;
    }

    .comment-panel-comment {
      margin-bottom: 16px;
    }

    .comment-panel-comment-quote {
      font-size: 10px;
      color: var(--affine-text-secondary-color);
      padding-left: 8px;
      border-left: 2px solid var(--affine-text-secondary-color);
      margin-bottom: 8px;
    }

    .comment-panel-comment-author {
      font-size: 12px;
    }

    .comment-panel-comment-text {
      margin-top: 8px;
    }
  `}_addComment(){if(!this.editor.host?.selection.find("text"))return;let e=new e0;this.commentManager&&(e.manager=this.commentManager,e.onSubmit=()=>{this.requestUpdate()},this._container.append(e))}connectedCallback(){super.connectedCallback(),this.editor.host&&(this.commentManager=new eQ(this.editor.host))}render(){if(!this.commentManager)return;let e=this.commentManager.getComments();return(0,s.qy)`<div class="comment-panel-container">
      <div class="comment-panel-head">
        <button @click=${this._addComment}>Add Comment</button>
      </div>
      <div class="comment-panel-comments">
        ${e.map(e=>(0,s.qy)`<div class="comment-panel-comment">
            <div class="comment-panel-comment-quote">${e.quote}</div>
            <div class="comment-panel-comment-author">${e.author}</div>
            <div class="comment-panel-comment-text">
              <rich-text .yText=${e.text} .readonly=${!0}></rich-text>
            </div>
          </div>`)}
      </div>
    </div>`}#ek;get _container(){return this.#ek}set _container(e){this.#ek=e}#cq;get editor(){return this.#cq}set editor(e){this.#cq=e}constructor(){super(...arguments),this.commentManager=null,this.#ek=e5(this,c,void 0),this.#cq=(e5(this,d),e5(this,h,void 0)),e5(this,u)}static{e5(t,n)}})})();var e7=i(69050),e3=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},e4=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let e6=(0,s.AH)`
  frame-card-title-editor rich-text .nowrap-lines::-webkit-scrollbar {
    display: none;
  }
`,e8=(()=>{let e,t,i,r,a,n,l,c=[(0,o.EM)("affine-frame-card-title-editor")],d=[],h=(0,v.Tm)(v.ao),u=[],p=[],f=[],g=[],m=[],y=[],b=[],w=[],x=[],_=[];return class extends h{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,o.MZ)({attribute:!1})],r=[(0,o.MZ)({attribute:!1})],a=[(0,o.MZ)({attribute:!1})],n=[(0,o.P)("rich-text")],l=[(0,o.MZ)({attribute:!1})],e3(this,null,i,{kind:"accessor",name:"frameModel",static:!1,private:!1,access:{has:e=>"frameModel"in e,get:e=>e.frameModel,set:(e,t)=>{e.frameModel=t}},metadata:s},u,p),e3(this,null,r,{kind:"accessor",name:"left",static:!1,private:!1,access:{has:e=>"left"in e,get:e=>e.left,set:(e,t)=>{e.left=t}},metadata:s},f,g),e3(this,null,a,{kind:"accessor",name:"maxWidth",static:!1,private:!1,access:{has:e=>"maxWidth"in e,get:e=>e.maxWidth,set:(e,t)=>{e.maxWidth=t}},metadata:s},m,y),e3(this,null,n,{kind:"accessor",name:"richText",static:!1,private:!1,access:{has:e=>"richText"in e,get:e=>e.richText,set:(e,t)=>{e.richText=t}},metadata:s},b,w),e3(this,null,l,{kind:"accessor",name:"titleContentElement",static:!1,private:!1,access:{has:e=>"titleContentElement"in e,get:e=>e.titleContentElement,set:(e,t)=>{e.titleContentElement=t}},metadata:s},x,_),e3(null,e={value:t},c,{kind:"class",name:t.name,metadata:s},null,d),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=e6}_unmount(){this.disposables.dispose(),this.remove(),this.titleContentElement.style.display="block"}firstUpdated(){this.updateComplete.then(()=>{if(null===this.inlineEditor)return;this.titleContentElement.style.display="none",this.inlineEditor.selectAll(),this.inlineEditor.slots.renderComplete.on(()=>{this.requestUpdate()});let e=this.inlineEditor.rootElement;this.disposables.addFromEvent(e,"blur",()=>{this._unmount()}),this.disposables.addFromEvent(e,"click",e=>{e.stopPropagation()}),this.disposables.addFromEvent(e,"dblclick",e=>{e.stopPropagation()}),this.disposables.addFromEvent(e,"keydown",e=>{e.stopPropagation(),"Enter"!==e.key||this._isComposing||this._unmount()})}).catch(console.error)}async getUpdateComplete(){let e=await super.getUpdateComplete();return await this.richText?.updateComplete,e}render(){let e=(0,j.W)({transformOrigin:"top left",borderRadius:"4px",maxWidth:`${this.maxWidth}px`,maxHeight:"20px",width:"fit-content",height:"20px",fontSize:"var(--affine-font-sm)",lineHeight:"20px",position:"absolute",left:`${this.left}px`,top:"0px",minWidth:"8px",background:"var(--affine-background-primary-color)",border:"1px solid var(--affine-primary-color)",color:"var(--affine-text-primary-color)",boxShadow:"0px 0px 0px 2px rgba(30, 150, 235, 0.30)",zIndex:"1",display:"block"});return(0,s.qy)`<rich-text
      .yText=${this.frameModel.title.yText}
      .enableFormat=${!1}
      .enableAutoScrollHorizontally=${!0}
      .enableUndoRedo=${!1}
      .wrapText=${!1}
      style=${e}
    ></rich-text>`}get inlineEditor(){return this.richText.inlineEditor}#iB;get frameModel(){return this.#iB}set frameModel(e){this.#iB=e}#tG;get left(){return this.#tG}set left(e){this.#tG=e}#cS;get maxWidth(){return this.#cS}set maxWidth(e){this.#cS=e}#iI;get richText(){return this.#iI}set richText(e){this.#iI=e}#c6;get titleContentElement(){return this.#c6}set titleContentElement(e){this.#c6=e}constructor(){super(...arguments),this._isComposing=!1,this.#iB=e4(this,u,void 0),this.#tG=(e4(this,p),e4(this,f,void 0)),this.#cS=(e4(this,g),e4(this,m,void 0)),this.#iI=(e4(this,y),e4(this,b,void 0)),this.#c6=(e4(this,w),e4(this,x,void 0)),e4(this,_)}static{e4(t,d)}},t})();var e9=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},te=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let tt=(0,s.AH)`
  .frame-card-title-container {
    display: flex;
    white-space: nowrap;
    display: flex;
    justify-content: start;
    align-items: center;
    width: 100%;
    height: 20px;
    box-sizing: border-box;
    gap: 6px;
    font-size: var(--affine-font-sm);
    cursor: default;
    position: relative;
  }

  .frame-card-title-container .card-index {
    display: flex;
    align-self: center;
    align-items: center;
    justify-content: center;
    min-width: 18px;
    height: 18px;
    box-sizing: border-box;
    border-radius: 2px;
    background: var(--affine-black);
    margin-left: 2px;

    color: var(--affine-white);
    text-align: center;
    font-weight: 500;
    line-height: 18px;
  }

  .frame-card-title-container .card-title {
    height: 20px;
    color: var(--affine-text-primary-color);
    font-weight: 400;
    line-height: 20px;

    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    flex: 1;
  }
`;(()=>{let e,t,i,r,a,n,l,c=[(0,o.EM)("affine-frame-card-title")],d=[],h=(0,v.Tm)(v.ao),u=[],p=[],f=[],g=[],m=[],y=[],b=[],w=[],x=[],_=[];(class extends h{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,o.MZ)({attribute:!1})],r=[(0,o.MZ)({attribute:!1})],a=[(0,o.P)(".frame-card-title-container")],n=[(0,o.P)(".frame-card-title-container .card-title")],l=[(0,o.P)(".frame-card-title-container .card-index")],e9(this,null,i,{kind:"accessor",name:"cardIndex",static:!1,private:!1,access:{has:e=>"cardIndex"in e,get:e=>e.cardIndex,set:(e,t)=>{e.cardIndex=t}},metadata:s},u,p),e9(this,null,r,{kind:"accessor",name:"frame",static:!1,private:!1,access:{has:e=>"frame"in e,get:e=>e.frame,set:(e,t)=>{e.frame=t}},metadata:s},f,g),e9(this,null,a,{kind:"accessor",name:"titleContainer",static:!1,private:!1,access:{has:e=>"titleContainer"in e,get:e=>e.titleContainer,set:(e,t)=>{e.titleContainer=t}},metadata:s},m,y),e9(this,null,n,{kind:"accessor",name:"titleContentElement",static:!1,private:!1,access:{has:e=>"titleContentElement"in e,get:e=>e.titleContentElement,set:(e,t)=>{e.titleContentElement=t}},metadata:s},b,w),e9(this,null,l,{kind:"accessor",name:"titleIndexElement",static:!1,private:!1,access:{has:e=>"titleIndexElement"in e,get:e=>e.titleIndexElement,set:(e,t)=>{e.titleIndexElement=t}},metadata:s},x,_),e9(null,e={value:t},c,{kind:"class",name:t.name,metadata:s},null,d),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=tt}_setFrameDisposables(e){this._clearTitleDisposables(),e.observe(this._updateElement),this._titleDisposables=new e7.K,this._titleDisposables.add({dispose:()=>{e.unobserve(this._updateElement)}})}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this._clearTitleDisposables()}render(){return(0,s.qy)`<div class="frame-card-title-container">
      <div
        class="card-index"
        @click=${e=>e.stopPropagation()}
        @dblclick=${e=>e.stopPropagation()}
      >
        ${this.cardIndex+1}
      </div>
      <div class="card-title">
        <span
          @click=${e=>e.stopPropagation()}
          @dblclick=${this._mountTitleEditor}
          >${this.frame.title}</span
        >
      </div>
    </div>`}updated(e){e.has("frame")&&this._setFrameDisposables(this.frame.title.yText)}#c8;get cardIndex(){return this.#c8}set cardIndex(e){this.#c8=e}#af;get frame(){return this.#af}set frame(e){this.#af=e}#c9;get titleContainer(){return this.#c9}set titleContainer(e){this.#c9=e}#c6;get titleContentElement(){return this.#c6}set titleContentElement(e){this.#c6=e}#de;get titleIndexElement(){return this.#de}set titleIndexElement(e){this.#de=e}constructor(){super(...arguments),this._clearTitleDisposables=()=>{this._titleDisposables?.dispose(),this._titleDisposables=null},this._mountTitleEditor=e=>{e.stopPropagation();let t=new e8;t.frameModel=this.frame,t.titleContentElement=this.titleContentElement;let i=this.titleIndexElement.offsetWidth+6;t.left=i,t.maxWidth=this.titleContainer.offsetWidth-i-6,this.titleContainer.append(t)},this._titleDisposables=null,this._updateElement=()=>{this.requestUpdate()},this.#c8=te(this,u,void 0),this.#af=(te(this,p),te(this,f,void 0)),this.#c9=(te(this,g),te(this,m,void 0)),this.#c6=(te(this,y),te(this,b,void 0)),this.#de=(te(this,w),te(this,x,void 0)),te(this,_)}static{te(t,d)}})})();var ti=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},ts=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let to=(0,s.AH)`
  :host {
    display: block;
  }

  .frame-card-container {
    display: flex;
    flex-direction: column;
    width: 284px;
    height: 198px;
    gap: 8px;

    position: relative;
  }

  .frame-card-body {
    display: flex;
    width: 100%;
    height: 170px;
    box-sizing: border-box;
    justify-content: center;
    align-items: center;
    border-radius: 8px;
    border: 1px solid var(--affine-border-color);
    background: var(--affine-background-primary-color);
    box-shadow: 0px 0px 12px 0px rgba(66, 65, 73, 0.18);
    cursor: pointer;
    position: relative;
  }

  .frame-card-container.selected .frame-card-body {
    border: 2px solid var(--light-brand-color, #1e96eb);
  }

  .frame-card-container.dragging {
    pointer-events: none;
    transform-origin: 16px 8px;
    position: fixed;
    top: 0;
    left: 0;
    z-index: calc(var(--affine-z-index-popover, 0) + 3);
  }

  .frame-card-container.dragging frame-card-title {
    display: none;
  }

  .frame-card-container.dragging .dragging-card-number {
    position: absolute;
    bottom: 0;
    left: 0;
    transform: translate(-30%, 30%);

    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 24px;
    height: 24px;
    border-radius: 50%;
    background: var(--affine-black);
    color: var(--affine-white);
    font-size: 15px;
    line-height: 24px;
    text-align: center;
    font-weight: 400;
  }

  .frame-card-container.placeholder {
    opacity: 0.5;
  }
`,tr=(()=>{let e,t,i,r,a,n,l,c,d,h,u,p,f,g,m=[(0,o.EM)("affine-frame-card")],b=[],w=(0,v.Tm)(v.ao),x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[],O=[],P=[],A=[],H=[],L=[],D=[],Z=[],V=[],R=[],z=[],F=[],N=[],q=[];return class extends w{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(w[Symbol.metadata]??null):void 0;i=[(0,o.MZ)({attribute:!1})],r=[(0,o.P)(".frame-card-container")],a=[(0,o.MZ)({attribute:!1})],n=[(0,o.MZ)({attribute:!1})],l=[(0,o.MZ)({attribute:!1})],c=[(0,o.MZ)({attribute:!1})],d=[(0,o.MZ)({attribute:!1})],h=[(0,o.MZ)({attribute:!1})],u=[(0,o.MZ)({attribute:!1})],p=[(0,o.MZ)({attribute:!1})],f=[(0,o.MZ)({attribute:!1})],g=[(0,o.MZ)({attribute:!1})],ti(this,null,i,{kind:"accessor",name:"cardIndex",static:!1,private:!1,access:{has:e=>"cardIndex"in e,get:e=>e.cardIndex,set:(e,t)=>{e.cardIndex=t}},metadata:s},x,_),ti(this,null,r,{kind:"accessor",name:"containerElement",static:!1,private:!1,access:{has:e=>"containerElement"in e,get:e=>e.containerElement,set:(e,t)=>{e.containerElement=t}},metadata:s},C,k),ti(this,null,a,{kind:"accessor",name:"doc",static:!1,private:!1,access:{has:e=>"doc"in e,get:e=>e.doc,set:(e,t)=>{e.doc=t}},metadata:s},S,M),ti(this,null,n,{kind:"accessor",name:"draggingCardNumber",static:!1,private:!1,access:{has:e=>"draggingCardNumber"in e,get:e=>e.draggingCardNumber,set:(e,t)=>{e.draggingCardNumber=t}},metadata:s},E,I),ti(this,null,l,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:s},B,$),ti(this,null,c,{kind:"accessor",name:"frame",static:!1,private:!1,access:{has:e=>"frame"in e,get:e=>e.frame,set:(e,t)=>{e.frame=t}},metadata:s},T,O),ti(this,null,d,{kind:"accessor",name:"frameIndex",static:!1,private:!1,access:{has:e=>"frameIndex"in e,get:e=>e.frameIndex,set:(e,t)=>{e.frameIndex=t}},metadata:s},P,A),ti(this,null,h,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:e=>"host"in e,get:e=>e.host,set:(e,t)=>{e.host=t}},metadata:s},H,L),ti(this,null,u,{kind:"accessor",name:"pos",static:!1,private:!1,access:{has:e=>"pos"in e,get:e=>e.pos,set:(e,t)=>{e.pos=t}},metadata:s},D,Z),ti(this,null,p,{kind:"accessor",name:"stackOrder",static:!1,private:!1,access:{has:e=>"stackOrder"in e,get:e=>e.stackOrder,set:(e,t)=>{e.stackOrder=t}},metadata:s},V,R),ti(this,null,f,{kind:"accessor",name:"status",static:!1,private:!1,access:{has:e=>"status"in e,get:e=>e.status,set:(e,t)=>{e.status=t}},metadata:s},z,F),ti(this,null,g,{kind:"accessor",name:"width",static:!1,private:!1,access:{has:e=>"width"in e,get:e=>e.width,set:(e,t)=>{e.width=t}},metadata:s},N,q),ti(null,e={value:t},m,{kind:"class",name:t.name,metadata:s},null,b),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=to}_DraggingCardNumber(){return void 0===this.draggingCardNumber?s.s6:(0,s.qy)`<div class="dragging-card-number">
      ${this.draggingCardNumber}
    </div>`}_dispatchDragEvent(e){if(e.preventDefault(),0!==e.button)return;let{clientX:t,clientY:i}=e,s=(0,y.on)(this.ownerDocument,"mousemove",e=>{if(5>Math.abs(t-e.clientX)&&5>Math.abs(i-e.clientY))return;"selected"!==this.status&&this._dispatchSelectEvent(e);let o=new CustomEvent("drag",{detail:{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}});this.dispatchEvent(o),s()});(0,y.OoU)(this.ownerDocument,"mouseup",()=>{s()})}_dispatchFitViewEvent(e){e.stopPropagation();let t=new CustomEvent("fitview",{detail:{block:this.frame}});this.dispatchEvent(t)}_dispatchSelectEvent(e){e.stopPropagation();let t=new CustomEvent("select",{detail:{id:this.frame.id,selected:"selected"!==this.status,index:this.cardIndex,multiselect:e.shiftKey}});this.dispatchEvent(t)}_setFrameDisposables(e){this._clearFrameDisposables(),this._frameDisposables=new e7.K,this._frameDisposables.add(e.propsUpdated.on(this._updateElement))}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this._clearFrameDisposables()}render(){let{pos:e,stackOrder:t,width:i}=this,o="dragging"===this.status?(0,j.W)({transform:`${0===t?`translate(${e.x-16}px, ${e.y-8}px)`:`translate(${e.x-10}px, ${e.y-16}px) scale(0.96)`}`,width:i?`${i}px`:void 0}):{};return(0,s.qy)`<div
      class="frame-card-container ${this.status??""}"
      style=${o}
    >
      ${"dragging"===this.status?s.s6:(0,s.qy)`<affine-frame-card-title
            .cardIndex=${this.cardIndex}
            .frame=${this.frame}
          ></affine-frame-card-title>`}
      <div
        class="frame-card-body"
        @click=${this._dispatchSelectEvent}
        @dblclick=${this._dispatchFitViewEvent}
        @mousedown=${this._dispatchDragEvent}
      >
        ${"dragging"===this.status&&0!==t?s.s6:(0,s.qy)`<frame-preview
              .edgeless=${this.edgeless}
              .doc=${this.doc}
              .host=${this.host}
              .frame=${this.frame}
            ></frame-preview>`}
        ${this._DraggingCardNumber()}
      </div>
    </div>`}updated(e){e.has("frame")&&this._setFrameDisposables(this.frame)}#c8;get cardIndex(){return this.#c8}set cardIndex(e){this.#c8=e}#dt;get containerElement(){return this.#dt}set containerElement(e){this.#dt=e}#d;get doc(){return this.#d}set doc(e){this.#d=e}#di;get draggingCardNumber(){return this.#di}set draggingCardNumber(e){this.#di=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#af;get frame(){return this.#af}set frame(e){this.#af=e}#ds;get frameIndex(){return this.#ds}set frameIndex(e){this.#ds=e}#n;get host(){return this.#n}set host(e){this.#n=e}#dr;get pos(){return this.#dr}set pos(e){this.#dr=e}#da;get stackOrder(){return this.#da}set stackOrder(e){this.#da=e}#cH;get status(){return this.#cH}set status(e){this.#cH=e}#tQ;get width(){return this.#tQ}set width(e){this.#tQ=e}constructor(){super(...arguments),this._clearFrameDisposables=()=>{this._frameDisposables?.dispose(),this._frameDisposables=null},this._frameDisposables=null,this._updateElement=()=>{this.requestUpdate()},this.#c8=ts(this,x,void 0),this.#dt=(ts(this,_),ts(this,C,void 0)),this.#d=(ts(this,k),ts(this,S,void 0)),this.#di=(ts(this,M),ts(this,E,void 0)),this.#iE=(ts(this,I),ts(this,B,null)),this.#af=(ts(this,$),ts(this,T,void 0)),this.#ds=(ts(this,O),ts(this,P,void 0)),this.#n=(ts(this,A),ts(this,H,void 0)),this.#dr=(ts(this,L),ts(this,D,void 0)),this.#da=(ts(this,Z),ts(this,V,void 0)),this.#cH=(ts(this,R),ts(this,z,"none")),this.#tQ=(ts(this,F),ts(this,N,void 0)),ts(this,q)}static{ts(t,b)}},t})();var ta=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},tn=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let tl=(0,s.AH)`
  .frame-list-container {
    display: flex;
    align-items: start;
    box-sizing: border-box;
    flex-direction: column;
    width: 100%;
    gap: 16px;
    position: relative;
    margin: 0 8px;
  }

  .no-frame-container {
    display: flex;
    flex-direction: column;
    width: 100%;
    min-width: 300px;
  }

  .no-frame-placeholder {
    margin-top: 240px;
    align-self: center;
    width: 230px;
    height: 48px;
    color: var(--affine-text-secondary-color, #8e8d91);
    text-align: center;

    /* light/base */
    font-size: 15px;
    font-style: normal;
    font-weight: 400;
    line-height: 24px;
  }

  .insert-indicator {
    height: 2px;
    border-radius: 1px;
    background-color: var(--affine-blue-600);
    position: absolute;
    contain: layout size;
    width: 284px;
    left: 0;
  }
`;(()=>{let e,t,i,r,n,l,c,d,h,u,p,f=[(0,o.EM)("affine-frame-panel-body")],g=[],m=(0,v.Tm)(v.ao),b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[],$=[],T=[],O=[],P=[],A=[],H=[],L=[];(class extends m{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(m[Symbol.metadata]??null):void 0;i=[(0,o.wk)()],r=[(0,o.wk)()],n=[(0,o.MZ)({attribute:!1})],l=[(0,o.MZ)({attribute:!1})],c=[(0,o.MZ)({attribute:!1})],d=[(0,o.MZ)({attribute:!1})],h=[(0,o.MZ)({attribute:!1})],u=[(0,o.P)(".frame-list-container")],p=[(0,o.MZ)({attribute:!1})],ta(this,null,i,{kind:"accessor",name:"_dragging",static:!1,private:!1,access:{has:e=>"_dragging"in e,get:e=>e._dragging,set:(e,t)=>{e._dragging=t}},metadata:s},b,w),ta(this,null,r,{kind:"accessor",name:"_selected",static:!1,private:!1,access:{has:e=>"_selected"in e,get:e=>e._selected,set:(e,t)=>{e._selected=t}},metadata:s},x,_),ta(this,null,n,{kind:"accessor",name:"doc",static:!1,private:!1,access:{has:e=>"doc"in e,get:e=>e.doc,set:(e,t)=>{e.doc=t}},metadata:s},C,k),ta(this,null,l,{kind:"accessor",name:"domHost",static:!1,private:!1,access:{has:e=>"domHost"in e,get:e=>e.domHost,set:(e,t)=>{e.domHost=t}},metadata:s},S,M),ta(this,null,c,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:s},E,I),ta(this,null,d,{kind:"accessor",name:"editorHost",static:!1,private:!1,access:{has:e=>"editorHost"in e,get:e=>e.editorHost,set:(e,t)=>{e.editorHost=t}},metadata:s},B,$),ta(this,null,h,{kind:"accessor",name:"fitPadding",static:!1,private:!1,access:{has:e=>"fitPadding"in e,get:e=>e.fitPadding,set:(e,t)=>{e.fitPadding=t}},metadata:s},T,O),ta(this,null,u,{kind:"accessor",name:"frameListContainer",static:!1,private:!1,access:{has:e=>"frameListContainer"in e,get:e=>e.frameListContainer,set:(e,t)=>{e.frameListContainer=t}},metadata:s},P,A),ta(this,null,p,{kind:"accessor",name:"insertIndex",static:!1,private:!1,access:{has:e=>"insertIndex"in e,get:e=>e.insertIndex,set:(e,t)=>{e.insertIndex=t}},metadata:s},H,L),ta(null,e={value:t},f,{kind:"class",name:t.name,metadata:s},null,g),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=tl}_drag(e){if(!this._selected.length)return;this._dragging=!0;let t=this._frameItems.reduce((e,t)=>(e.set(t.frame.id,{...t}),e),new Map),i=this._selected.slice(),s=i.map(e=>{let i=t.get(e);return{frame:i.frame,element:this.renderRoot.querySelector(`[data-frame-id="${i.frame.id}"]`),cardIndex:i.cardIndex,frameIndex:i.frameIndex}}),o=s[0].element.clientWidth;this._frameElementHeight=s[0].element.offsetHeight,function(e,t){let i,s;let{document:o,domHost:r,container:a,onDragMove:n,onDragEnd:l,frameElementHeight:c,framePanelBody:d,frameListContainer:h,start:u,edgeless:p,doc:f,editorHost:g}=t,m=e.slice(e.length-2,e.length).map((i,s,o)=>{let r=new tr;return r.edgeless=p,r.doc=f,r.host=g,r.frame=i.frame,r.cardIndex=i.cardIndex,r.frameIndex=i.frameIndex,r.status="dragging",r.stackOrder=o.length-1-s,r.pos=u,r.width=t.width,e.length>1&&0===r.stackOrder&&(r.draggingCardNumber=e.length),r}),v=function(e){let t=e.createElement("div");return t.style.height="100vh",t.style.width="100vw",t.style.position="fixed",t.style.left="0",t.style.top="0",t.style.zIndex="calc(var(--affine-z-index-popover, 0) + 3)",t.style.cursor="grabbing",t}(o),b=d.getBoundingClientRect(),w=Array.from(h.children),x=parseInt(getComputedStyle(h).getPropertyValue("gap"))??16;a.renderRoot.append(v),a.renderRoot.append(...m);let _=e=>e.clientX>=b.left&&e.clientX<=b.right&&e.clientY>=b.top&&e.clientY<=b.bottom,C=(0,y.on)(a,"mousemove",e=>{if(m.forEach(t=>{t.pos={x:e.clientX,y:e.clientY}}),!_(e)){i=void 0,n?.(i,0);return}for(let t of(i=0,w)){if(!t.frame)break;let o=b.top+t.offsetTop-d.scrollTop-x/2,r=o+t.offsetHeight/2,a=o+t.offsetHeight+x;if(e.clientY>=o&&e.clientY<=a){s=(i=e.clientY>r?i+1:i)*(c+x)-x/2,n?.(i,s);return}++i}n?.(i)}),k=!1;(0,y.OoU)(r,"mouseup",()=>{k||(k=!0,m.forEach(e=>e.remove()),v.remove(),C(),l?.(i))})}(s,{width:o,container:this,document:this.ownerDocument,domHost:this.domHost??this.ownerDocument,start:{x:e.detail.clientX,y:e.detail.clientY},framePanelBody:this,frameListContainer:this.frameListContainer,frameElementHeight:this._frameElementHeight,edgeless:this.edgeless,doc:this.doc,editorHost:this.editorHost,onDragEnd:e=>{this._dragging=!1,this.insertIndex=void 0,void 0!==e&&this._reorderFrames(i,t,e)},onDragMove:(e,t)=>{this.insertIndex=e,this._indicatorTranslateY=t??0}})}_fitToElement(e){let{block:t}=e.detail,i=Z.z.deserialize(t.xywh);if(this.edgeless)this.edgeless.service.viewport.setViewportByBound(i,this.viewportPadding,!0);else{let e={xywh:t.xywh,referenceId:t.id,padding:this.viewportPadding},i=this.editorHost.spec.getService("affine:page");i.editPropsStore.setStorage("viewport",e),i.docModeService.setMode("edgeless")}}_renderEmptyContent(){return(0,s.qy)` <div class="no-frame-container">
      <div class="no-frame-placeholder">
        Add frames to organize and present your Edgeless
      </div>
    </div>`}_renderFrameList(){let e=new Set(this._selected),t=(0,s.qy)`${(0,a.u)(this._frameItems,e=>[e.frame.id,e.cardIndex].join("-"),t=>{let{frame:i,frameIndex:o,cardIndex:r}=t;return(0,s.qy)`<affine-frame-card
          data-frame-id=${i.id}
          .edgeless=${this.edgeless}
          .doc=${this.doc}
          .host=${this.editorHost}
          .frame=${i}
          .cardIndex=${r}
          .frameIndex=${o}
          .status=${e.has(i.id)?this._dragging?"placeholder":"selected":"none"}
          @select=${this._selectFrame}
          @fitview=${this._fitToElement}
          @drag=${this._drag}
        ></affine-frame-card>`})}`;return(0,s.qy)` <div class="frame-list-container">
      ${void 0!==this.insertIndex?(0,s.qy)`<div
            class="insert-indicator"
            style=${`transform: translateY(${this._indicatorTranslateY}px)`}
          ></div>`:s.s6}
      ${t}
    </div>`}_reorderFrames(e,t,i){if(i>=0&&i<=this._frameItems.length){let s=Array.from(t.values()).map(e=>e.frame),o=e.map(e=>t.get(e)).map(e=>e.frame).sort(this.compare),r=s[i-1]?.index||null,a=s[i]?.index||null;o.forEach(e=>{let t=(0,y.TUT)(r,a);e.doc.updateBlock(e,{index:t}),r=t}),this.doc.captureSync(),this._updateFrames()}}_setDocDisposables(e){this._clearDocDisposables(),this._docDisposables=new e7.K,this._docDisposables.add(e.slots.blockUpdated.on(({flavour:e})=>{"affine:frame"===e&&requestAnimationFrame(()=>{this._updateFrames()})}))}_updateFrames(){if(this._dragging)return;if(!this.frames.length){this._selected=[],this._frameItems=[];return}let e=[],t=new Set(this._selected),i=[];this.frames.sort(this.compare).forEach((s,o)=>{let r={frame:s,frameIndex:s.index,cardIndex:o};e.push(r),t.has(s.id)&&i.push(s.id)}),this._frameItems=e,this._selected=i,this.requestUpdate()}compare(e,t){return e.index<t.index?-1:e.index>t.index?1:0}connectedCallback(){super.connectedCallback(),this._updateFrameItems(),this.edgeless&&(this._lastEdgelessRootId=this.edgeless.model.id)}disconnectedCallback(){super.disconnectedCallback(),this._clearDocDisposables()}firstUpdated(){this.disposables.addFromEvent(this,"click",this._clickBlank)}render(){return this._updateFrameItems(),(0,s.qy)` ${this._frameItems.length?this._renderFrameList():this._renderEmptyContent()}`}updated(e){(e.has("doc")||e.has("edgeless"))&&this._setDocDisposables(this.doc),e.has("edgeless")&&this.edgeless&&(this.edgeless.model.id===this._lastEdgelessRootId?this.edgeless.service.selection.set({elements:this._selected,editing:!1}):this._selected=[],this._lastEdgelessRootId=this.edgeless.model.id)}get frames(){return this.doc.getBlockByFlavour("affine:frame").sort(this.compare)}get viewportPadding(){return this.fitPadding?[0,0,0,0].map((e,t)=>Number.isFinite(this.fitPadding[t])?this.fitPadding[t]:e):[0,0,0,0]}#sX;get _dragging(){return this.#sX}set _dragging(e){this.#sX=e}#dn;get _selected(){return this.#dn}set _selected(e){this.#dn=e}#d;get doc(){return this.#d}set doc(e){this.#d=e}#dl;get domHost(){return this.#dl}set domHost(e){this.#dl=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#dc;get editorHost(){return this.#dc}set editorHost(e){this.#dc=e}#dd;get fitPadding(){return this.#dd}set fitPadding(e){this.#dd=e}#dh;get frameListContainer(){return this.#dh}set frameListContainer(e){this.#dh=e}#du;get insertIndex(){return this.#du}set insertIndex(e){this.#du=e}constructor(){super(...arguments),this._clearDocDisposables=()=>{this._docDisposables?.dispose(),this._docDisposables=null},this._clickBlank=e=>{e.stopPropagation(),e.target.closest("frame-card")||0===this._selected.length||(this._selected=[],this.edgeless?.service.selection.set({elements:this._selected,editing:!1}))},this._docDisposables=null,this._frameElementHeight=0,this._frameItems=[],this._indicatorTranslateY=0,this._lastEdgelessRootId="",this._selectFrame=e=>{let{selected:t,id:i,multiselect:s}=e.detail;t?s?this._selected=[...this._selected,i]:this._selected=[i]:this._selected=this._selected.filter(e=>e!==i),this.edgeless?.service.selection.set({elements:this._selected,editing:!1})},this._updateFrameItems=()=>{this._frameItems=this.frames.map((e,t)=>({frame:e,frameIndex:e.index,cardIndex:t}))},this.#sX=tn(this,b,!1),this.#dn=(tn(this,w),tn(this,x,[])),this.#d=(tn(this,_),tn(this,C,void 0)),this.#dl=(tn(this,k),tn(this,S,void 0)),this.#iE=(tn(this,M),tn(this,E,null)),this.#dc=(tn(this,I),tn(this,B,void 0)),this.#dd=(tn(this,$),tn(this,T,void 0)),this.#dh=(tn(this,O),tn(this,P,void 0)),this.#du=(tn(this,A),tn(this,H,void 0)),tn(this,L)}static{tn(t,g)}})})();var tc=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},td=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let th=(0,s.AH)`
  :host {
    display: block;
    box-sizing: border-box;
    padding: 8px;
    width: 220px;
  }

  .frames-setting-menu-container {
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
    width: 100%;
  }

  .frames-setting-menu-item {
    display: flex;
    box-sizing: border-box;
    width: 100%;
    height: 28px;
    padding: 4px 12px;
    align-items: center;
  }

  .frames-setting-menu-item .setting-label {
    font-size: 12px;
    font-weight: 500;
    line-height: 20px;
    color: var(--affine-text-secondary-color);
    padding: 0 4px;
  }

  .frames-setting-menu-divider {
    width: 100%;
    height: 1px;
    box-sizing: border-box;
    background: var(--affine-border-color);
    margin: 8px 0;
  }

  .frames-setting-menu-item.action {
    gap: 4px;
  }

  .frames-setting-menu-item .action-label {
    width: 138px;
    height: 20px;
    padding: 0 4px;
    font-size: 12px;
    font-weight: 500;
    line-height: 20px;
    color: var(--affine-text-primary-color);
  }

  .frames-setting-menu-item .toggle-button {
    display: flex;
  }

  menu-divider {
    height: 16px;
  }
`;(()=>{let e,t,i,r,a,n,l,c=[(0,o.EM)("affine-frames-setting-menu")],d=[],h=(0,v.Tm)(s.WF),u=[],p=[],f=[],g=[],m=[],y=[],b=[],w=[],x=[],_=[];(class extends h{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,o.wk)()],r=[(0,o.MZ)({attribute:!1})],a=[(0,o.MZ)({attribute:!1})],n=[(0,o.wk)()],l=[(0,o.wk)()],tc(this,null,i,{kind:"accessor",name:"blackBackground",static:!1,private:!1,access:{has:e=>"blackBackground"in e,get:e=>e.blackBackground,set:(e,t)=>{e.blackBackground=t}},metadata:s},u,p),tc(this,null,r,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:s},f,g),tc(this,null,a,{kind:"accessor",name:"editorHost",static:!1,private:!1,access:{has:e=>"editorHost"in e,get:e=>e.editorHost,set:(e,t)=>{e.editorHost=t}},metadata:s},m,y),tc(this,null,n,{kind:"accessor",name:"fillScreen",static:!1,private:!1,access:{has:e=>"fillScreen"in e,get:e=>e.fillScreen,set:(e,t)=>{e.fillScreen=t}},metadata:s},b,w),tc(this,null,l,{kind:"accessor",name:"hideToolbar",static:!1,private:!1,access:{has:e=>"hideToolbar"in e,get:e=>e.hideToolbar,set:(e,t)=>{e.hideToolbar=t}},metadata:s},x,_),tc(null,e={value:t},c,{kind:"class",name:t.name,metadata:s},null,d),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=th}get _rootService(){return this.editorHost.spec.getService("affine:page")}_tryRestoreSettings(){let{editPropsStore:e}=this._rootService,t=e.getStorage("presentBlackBackground");this.blackBackground=t??!0,this.fillScreen=e.getStorage("presentFillScreen")??!1,this.hideToolbar=e.getStorage("presentHideToolbar")??!1}connectedCallback(){super.connectedCallback(),this._tryRestoreSettings()}disconnectedCallback(){super.disconnectedCallback()}render(){return(0,s.qy)`<div
      class="frames-setting-menu-container"
      @click=${e=>{e.stopPropagation()}}
    >
      <div class="frames-setting-menu-item">
        <div class="setting-label">Preview Settings</div>
      </div>
      <div class="frames-setting-menu-item action">
        <div class="action-label">Fill Screen</div>
        <div class="toggle-button">
          <toggle-switch
            .on=${this.fillScreen}
            .onChange=${this._onFillScreenChange}
          ></toggle-switch>
        </div>
      </div>

      <menu-divider></menu-divider>

      <div class="frames-setting-menu-item">
        <div class="setting-label">Playback Settings</div>
      </div>
      <div class="frames-setting-menu-item action">
        <div class="action-label">Dark background</div>
        <div class="toggle-button">
          <toggle-switch
            .on=${this.blackBackground}
            .onChange=${this._onBlackBackgroundChange}
          ></toggle-switch>
        </div>
      </div>
      <div class="frames-setting-menu-item action">
        <div class="action-label">Hide toolbar</div>
        <div class="toggle-button">
          <toggle-switch
            .on=${this.hideToolbar}
            .onChange=${this._onHideToolBarChange}
          ></toggle-switch>
        </div>
      </div>
    </div>`}updated(e){e.has("edgeless")&&(this.edgeless?this.disposables.add(this.edgeless.slots.navigatorSettingUpdated.on(({blackBackground:e,hideToolbar:t})=>{void 0!==e&&e!==this.blackBackground&&(this.blackBackground=e),void 0!==t&&t!==this.hideToolbar&&(this.hideToolbar=t)})):this.disposables.dispose())}#a9;get blackBackground(){return this.#a9}set blackBackground(e){this.#a9=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#dc;get editorHost(){return this.#dc}set editorHost(e){this.#dc=e}#lH;get fillScreen(){return this.#lH}set fillScreen(e){this.#lH=e}#ne;get hideToolbar(){return this.#ne}set hideToolbar(e){this.#ne=e}constructor(){super(...arguments),this._onBlackBackgroundChange=e=>{this.blackBackground=e,this.edgeless?.slots.navigatorSettingUpdated.emit({blackBackground:this.blackBackground})},this._onFillScreenChange=e=>{this.fillScreen=e,this.edgeless?.slots.navigatorSettingUpdated.emit({fillScreen:this.fillScreen}),this._rootService.editPropsStore.setStorage("presentFillScreen",this.fillScreen)},this._onHideToolBarChange=e=>{this.hideToolbar=e,this.edgeless?.slots.navigatorSettingUpdated.emit({hideToolbar:this.hideToolbar}),this._rootService.editPropsStore.setStorage("presentHideToolbar",this.hideToolbar)},this.#a9=td(this,u,!1),this.#iE=(td(this,p),td(this,f,void 0)),this.#dc=(td(this,g),td(this,m,void 0)),this.#lH=(td(this,y),td(this,b,!1)),this.#ne=(td(this,w),td(this,x,!1)),td(this,_)}static{td(t,d)}})})();var tu=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},tp=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let tf=(0,s.AH)`
  :host {
    display: flex;
    width: 100%;
    justify-content: start;
  }

  .frame-panel-header {
    display: flex;
    width: 100%;
    height: 36px;
    align-items: center;
    justify-content: space-between;
    box-sizing: border-box;
    padding: 0 8px;
  }

  .all-frames-setting {
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100px;
    height: 24px;
    margin: 8px 4px;
  }

  .all-frames-setting-button svg {
    color: var(--affine-icon-secondary);
  }

  .all-frames-setting-button:hover svg,
  .all-frames-setting-button.active svg {
    color: var(--affine-icon-color);
  }

  .all-frames-setting-label {
    width: 68px;
    height: 22px;
    font-size: var(--affine-font-sm);
    font-weight: 500;
    line-height: 22px;
    color: var(--light-text-color-text-secondary-color, #8e8d91);
  }

  .frames-setting-container {
    display: none;
    justify-content: center;
    align-items: center;
    background: var(--affine-background-overlay-panel-color);
    box-shadow: var(--affine-shadow-2);
    border-radius: 8px;
  }

  .frames-setting-container[data-show] {
    display: flex;
  }

  .presentation-button {
    display: flex;
    align-items: center;
    gap: 4px;
    box-sizing: border-box;
    width: 117px;
    height: 28px;
    padding: 4px 8px;
    border-radius: 8px;
    margin: 4px 0;
    border: 1px solid var(--affine-border-color);
    background: var(--affine-white);
  }

  .presentation-button:hover {
    background: var(--affine-hover-color);
    cursor: pointer;
  }

  .presentation-button svg {
    fill: var(--affine-icon-color);
    margin-right: 4px;
  }

  .presentation-button-label {
    font-size: 12px;
    font-weight: 500;
    line-height: 20px;
  }
`;(()=>{let e,t,i,r,a,n,l,c=[(0,o.EM)("affine-frame-panel-header")],d=[],h=(0,v.Tm)(s.WF),u=[],p=[],f=[],g=[],m=[],b=[],w=[],x=[],_=[],C=[];(class extends h{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,o.P)(".all-frames-setting-button")],r=[(0,o.P)(".frames-setting-container")],a=[(0,o.wk)()],n=[(0,o.MZ)({attribute:!1})],l=[(0,o.MZ)({attribute:!1})],tu(this,null,i,{kind:"accessor",name:"_frameSettingButton",static:!1,private:!1,access:{has:e=>"_frameSettingButton"in e,get:e=>e._frameSettingButton,set:(e,t)=>{e._frameSettingButton=t}},metadata:s},u,p),tu(this,null,r,{kind:"accessor",name:"_frameSettingMenu",static:!1,private:!1,access:{has:e=>"_frameSettingMenu"in e,get:e=>e._frameSettingMenu,set:(e,t)=>{e._frameSettingMenu=t}},metadata:s},f,g),tu(this,null,a,{kind:"accessor",name:"_settingPopperShow",static:!1,private:!1,access:{has:e=>"_settingPopperShow"in e,get:e=>e._settingPopperShow,set:(e,t)=>{e._settingPopperShow=t}},metadata:s},m,b),tu(this,null,n,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:s},w,x),tu(this,null,l,{kind:"accessor",name:"editorHost",static:!1,private:!1,access:{has:e=>"editorHost"in e,get:e=>e.editorHost,set:(e,t)=>{e.editorHost=t}},metadata:s},_,C),tu(null,e={value:t},c,{kind:"class",name:t.name,metadata:s},null,d),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=tf}_tryLoadNavigatorStateLocalRecord(){this._navigatorMode=this.editorHost.spec.getService("affine:page").editPropsStore.getStorage("presentFillScreen")?"fill":"fit"}connectedCallback(){super.connectedCallback(),this._tryLoadNavigatorStateLocalRecord()}disconnectedCallback(){super.disconnectedCallback(),this._edgelessDisposables&&this._clearEdgelessDisposables()}firstUpdated(){let e=this.disposables;this._framesSettingMenuPopper=(0,y.j0U)(this._frameSettingButton,this._frameSettingMenu,({display:e})=>{this._settingPopperShow="show"===e},{mainAxis:14,crossAxis:-100}),e.add(this._framesSettingMenuPopper)}render(){return(0,s.qy)`<div class="frame-panel-header">
      <div class="all-frames-setting">
        <span class="all-frames-setting-label">All frames</span>
        <edgeless-tool-icon-button
          class="all-frames-setting-button ${this._settingPopperShow?"active":""}"
          .tooltip=${this._settingPopperShow?"":"All Frames Settings"}
          .tipPosition=${"top"}
          .active=${this._settingPopperShow}
          .activeMode=${"background"}
          @click=${()=>this._framesSettingMenuPopper?.toggle()}
        >
          ${ex}
        </edgeless-tool-icon-button>
      </div>
      <div class="frames-setting-container">
        <affine-frames-setting-menu
          .edgeless=${this.edgeless}
          .editorHost=${this.editorHost}
        ></affine-frames-setting-menu>
      </div>
      <div class="presentation-button" @click=${this._enterPresentationMode}>
        ${ew}<span class="presentation-button-label"
          >Presentation</span
        >
      </div>
    </div>`}updated(e){e.has("edgeless")&&(this.edgeless?this._setEdgelessDisposables():this._clearEdgelessDisposables())}get rootService(){return this.editorHost.spec.getService("affine:page")}#dp;get _frameSettingButton(){return this.#dp}set _frameSettingButton(e){this.#dp=e}#df;get _frameSettingMenu(){return this.#df}set _frameSettingMenu(e){this.#df=e}#dg;get _settingPopperShow(){return this.#dg}set _settingPopperShow(e){this.#dg=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#dc;get editorHost(){return this.#dc}set editorHost(e){this.#dc=e}constructor(){super(...arguments),this._clearEdgelessDisposables=()=>{this._edgelessDisposables?.dispose(),this._edgelessDisposables=null},this._edgelessDisposables=null,this._enterPresentationMode=()=>{this.edgeless||this.rootService.docModeService.setMode("edgeless"),setTimeout(()=>{this.edgeless?.updateComplete.then(()=>{this.edgeless?.tools.setEdgelessTool({type:"frameNavigator",mode:this._navigatorMode})}).catch(console.error)},100)},this._framesSettingMenuPopper=null,this._navigatorMode="fit",this._setEdgelessDisposables=()=>{this.edgeless&&(this._clearEdgelessDisposables(),this._edgelessDisposables=new e7.K,this._edgelessDisposables.add(this.edgeless.slots.navigatorSettingUpdated.on(({fillScreen:e})=>{this._navigatorMode=e?"fill":"fit"})))},this.#dp=tp(this,u,void 0),this.#df=(tp(this,p),tp(this,f,void 0)),this.#dg=(tp(this,g),tp(this,m,!1)),this.#iE=(tp(this,b),tp(this,w,void 0)),this.#dc=(tp(this,x),tp(this,_,void 0)),tp(this,C)}static{tp(t,d)}})})();var tg=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},tm=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let tv=(0,s.AH)`
  frame-panel {
    display: block;
    width: 100%;
    height: 100%;
  }

  .frame-panel-container {
    background-color: var(--affine-background-primary-color);
    box-sizing: border-box;

    display: flex;
    flex-direction: column;
    align-items: stretch;

    height: 100%;
    font-family: ${(0,s.iz)(u.$7.fontSansFamily)};
    padding: 8px;
  }

  .frame-panel-body {
    padding-top: 12px;
    flex-grow: 1;
    width: 100%;

    overflow: auto;
    overflow-x: hidden;
    scrollbar-width: thin; /* For Firefox */
    scrollbar-color: transparent transparent; /* For Firefox */
  }

  .frame-panel-body::-webkit-scrollbar {
    width: 4px;
  }

  .frame-panel-body::-webkit-scrollbar-thumb {
    border-radius: 2px;
  }

  .frame-panel-body:hover::-webkit-scrollbar-thumb {
    background-color: var(--affine-black-30);
  }

  .frame-panel-body::-webkit-scrollbar-track {
    background-color: transparent;
  }

  .frame-panel-body::-webkit-scrollbar-corner {
    display: none;
  }
`,ty=(()=>{let e,t,i,r,a=[(0,o.EM)("affine-frame-panel")],n=[],l=(0,v.Tm)(v.ao),c=[],d=[],h=[],u=[];return class extends l{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,o.MZ)({attribute:!1})],r=[(0,o.MZ)({attribute:!1})],tg(this,null,i,{kind:"accessor",name:"editor",static:!1,private:!1,access:{has:e=>"editor"in e,get:e=>e.editor,set:(e,t)=>{e.editor=t}},metadata:s},c,d),tg(this,null,r,{kind:"accessor",name:"fitPadding",static:!1,private:!1,access:{has:e=>"fitPadding"in e,get:e=>e.fitPadding,set:(e,t)=>{e.fitPadding=t}},metadata:s},h,u),tg(null,e={value:t},a,{kind:"class",name:t.name,metadata:s},null,n),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=tv}_clearEditorDisposables(){this._editorDisposables?.dispose(),this._editorDisposables=null}_setEditorDisposables(){this._clearEditorDisposables(),this._editorDisposables=new e7.K,this._editorDisposables.add(this.editor.slots.editorModeSwitched.on(()=>{this.editor.updateComplete.then(()=>this.requestUpdate()).catch(console.error)})),this._editorDisposables.add(this.editor.slots.docUpdated.on(()=>{this.editor.updateComplete.then(()=>{this.requestUpdate()}).catch(console.error)}))}connectedCallback(){super.connectedCallback(),customElements.get("frame-preview")||customElements.define("frame-preview",y.irK)}disconnectedCallback(){super.disconnectedCallback(),this._clearEditorDisposables()}render(){return(0,s.qy)`<div class="frame-panel-container">
      <affine-frame-panel-header
        .edgeless=${this.edgeless}
        .editorHost=${this.host}
      ></affine-frame-panel-header>
      <affine-frame-panel-body
        class="frame-panel-body"
        .edgeless=${this.edgeless}
        .doc=${this.doc}
        .editorHost=${this.host}
        .fitPadding=${this.fitPadding}
      ></affine-frame-panel-body>
    </div>`}updated(e){e.has("editor")&&this._setEditorDisposables()}get doc(){return this.editor.doc}get edgeless(){return this.editor.querySelector("affine-edgeless-root")}get host(){return this.editor.host}#cq;get editor(){return this.#cq}set editor(e){this.#cq=e}#dd;get fitPadding(){return this.#dd}set fitPadding(e){this.#dd=e}constructor(){super(...arguments),this._editorDisposables=null,this.#cq=tm(this,c,void 0),this.#dd=(tm(this,d),tm(this,h,[50,380,50,50])),tm(this,u)}static{tm(t,n)}},t})();var tb=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},tw=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let tx=(0,s.AH)`
  :host {
    width: 100%;
    box-sizing: border-box;
    position: absolute;
    left: 0;
    bottom: 8px;
    padding: 0 8px;
  }
  .outline-notice-container {
    display: flex;
    width: 100%;
    box-sizing: border-box;
    gap: 14px;
    padding: 10px;
    font-style: normal;
    font-size: 12px;
    flex-direction: column;
    border-radius: 8px;
    background-color: var(--affine-background-overlay-panel-color);
  }
  .outline-notice-header {
    display: flex;
    width: 100%;
    height: 20px;
    align-items: center;
    justify-content: space-between;
  }
  .outline-notice-label {
    font-weight: 600;
    line-height: 20px;
    color: var(--affine-text-secondary-color);
  }
  .outline-notice-close-button {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    cursor: pointer;
    color: var(--affine-icon-color);
  }
  .outline-notice-body {
    display: flex;
    width: 100%;
    gap: 2px;
    flex-direction: column;
  }
  .outline-notice-item {
    display: flex;
    height: 20px;
    align-items: center;
    line-height: 20px;
    color: var(--affine-text-primary-color);
  }
  .outline-notice-item.notice {
    font-weight: 400;
  }
  .outline-notice-item.button {
    display: flex;
    gap: 2px;
    font-weight: 500;
    text-decoration: underline;
    cursor: pointer;
  }
  .outline-notice-item.button span {
    display: flex;
    align-items: center;
    line-height: 20px;
  }
  .outline-notice-item.button svg {
    scale: 0.8;
  }
`;(()=>{let e,t,i,r,a,n=[(0,o.EM)("affine-outline-notice")],l=[],c=(0,v.Tm)(s.WF),d=[],h=[],u=[],p=[],f=[],g=[];(class extends c{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(0,o.MZ)({attribute:!1})],r=[(0,o.MZ)({attribute:!1})],a=[(0,o.MZ)({attribute:!1})],tb(this,null,i,{kind:"accessor",name:"noticeVisible",static:!1,private:!1,access:{has:e=>"noticeVisible"in e,get:e=>e.noticeVisible,set:(e,t)=>{e.noticeVisible=t}},metadata:s},d,h),tb(this,null,r,{kind:"accessor",name:"setNoticeVisibility",static:!1,private:!1,access:{has:e=>"setNoticeVisibility"in e,get:e=>e.setNoticeVisibility,set:(e,t)=>{e.setNoticeVisibility=t}},metadata:s},u,p),tb(this,null,a,{kind:"accessor",name:"toggleNotesSorting",static:!1,private:!1,access:{has:e=>"toggleNotesSorting"in e,get:e=>e.toggleNotesSorting,set:(e,t)=>{e.toggleNotesSorting=t}},metadata:s},f,g),tb(null,e={value:t},n,{kind:"class",name:t.name,metadata:s},null,l),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=tx}_handleNoticeButtonClick(){this.toggleNotesSorting(),this.setNoticeVisibility(!1)}render(){return this.noticeVisible?(0,s.qy)`<div class="outline-notice-container">
      <div class="outline-notice-header">
        <span class="outline-notice-label">SOME CONTENTS HIDDEN</span>
        <span
          class="outline-notice-close-button"
          @click=${()=>this.setNoticeVisibility(!1)}
          >${eW}</span
        >
      </div>
      <div class="outline-notice-body">
        <div class="outline-notice-item notice">
          Some contents are not visible on edgeless.
        </div>
        <div
          class="outline-notice-item button"
          @click=${this._handleNoticeButtonClick}
        >
          <span>Click here or</span>
          <span>${ez}</span>
          <span>to organize content.</span>
        </div>
      </div>
    </div>`:s.s6}#dm=tw(this,d,void 0);get noticeVisible(){return this.#dm}set noticeVisible(e){this.#dm=e}#dv=(tw(this,h),tw(this,u,void 0));get setNoticeVisibility(){return this.#dv}set setNoticeVisibility(e){this.#dv=e}#dy=(tw(this,p),tw(this,f,void 0));get toggleNotesSorting(){return this.#dy}set toggleNotesSorting(e){this.#dy=e}constructor(){super(...arguments),tw(this,g)}static{tw(t,l)}})})();let t_={quote:eT,text:eC,h1:ek,h2:eS,h3:eM,h4:eE,h5:eI,h6:eB,code:e$,numbered:eO,bulleted:eP,todo:eA,toggle:e_,bookmark:eH,image:eL,table:eD,kanban:eZ,attachment:ej},tC={quote:"Quote",text:"Text Block",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},tk={code:"Code Block",bulleted:"Bulleted List",numbered:"Numbered List",toggle:"Toggle List",todo:"Todo",bookmark:"Bookmark",image:"Image",database:"Database",attachment:"Attachment",...tC},tS=new Set(Object.keys(tC).filter(e=>e.startsWith("h"))),tM="outlinePanelSettings";function tE(e,t){let i=e.root;if(!i)return[];let s=[];return i.children.forEach((e,i)=>{["affine:note"].includes(e.flavour)&&t.includes(e.displayMode)&&s.push({note:e,index:i,number:i+1})}),s}function tI(e){return y.yYJ.matchFlavours(e,["affine:paragraph"])&&tS.has(e.type$.value)}function tB(e,t,i=!1){return tE(e,t).map(({note:e})=>(function(e,t=!1){return e.children.filter(e=>{let i=e.text&&e.text.length>0;return tI(e)&&(!t||i)})})(e,i)).flat()}var t$=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},tT=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};function tO(e){(0,K.lQ)(e)}let tP=(0,s.AH)`
  :host {
    display: block;
    width: 100%;
    font-family: var(--affine-font-family);
  }

  :host(:hover) {
    cursor: pointer;
    background: var(--affine-hover-color);
  }

  :host(.active) {
    color: var(--affine-text-emphasis-color);
  }

  .outline-block-preview {
    width: 100%;
    box-sizing: border-box;
    padding: 6px 8px;
    white-space: nowrap;
    display: flex;
    justify-content: start;
    align-items: center;
    gap: 8px;
  }

  .icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    box-sizing: border-box;
    padding: 4px;
    background: var(--affine-background-secondary-color);
    border-radius: 4px;
    color: var(--affine-icon-color);
  }

  .icon.disabled {
    color: var(--affine-disabled-icon-color);
  }

  .text {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    flex: 1;

    font-size: var(--affine-font-sm);
    line-height: 24px;
    height: 24px;
  }

  .text.general,
  .subtype.text,
  .subtype.quote {
    font-weight: 400;
    padding-left: 28px;
  }

  .subtype.title,
  .subtype.h1,
  .subtype.h2,
  .subtype.h3,
  .subtype.h4,
  .subtype.h5,
  .subtype.h6 {
    font-weight: 600;
  }

  .subtype.title {
    padding-left: 0;
  }
  .subtype.h1 {
    padding-left: 0;
  }
  .subtype.h2 {
    padding-left: 4px;
  }
  .subtype.h3 {
    padding-left: 12px;
  }
  .subtype.h4 {
    padding-left: 16px;
  }
  .subtype.h5 {
    padding-left: 20px;
  }
  .subtype.h6 {
    padding-left: 24px;
  }

  .outline-block-preview:not(:has(span)) {
    display: none;
  }

  .text span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .linked-doc-preview svg {
    width: 1.1em;
    height: 1.1em;
    vertical-align: middle;
    font-size: inherit;
    margin-bottom: 0.1em;
  }

  .linked-doc-text {
    font-size: inherit;
    border-bottom: 0.5px solid var(--affine-divider-color);
    white-space: break-spaces;
    margin-right: 2px;
  }

  .linked-doc-preview.unavailable svg {
    color: var(--affine-text-disable-color);
  }

  .linked-doc-preview.unavailable .linked-doc-text {
    color: var(--affine-text-disable-color);
    text-decoration: line-through;
  }
`;(()=>{let e,t,i,r,a,n,l,c=[(0,o.EM)("affine-outline-block-preview")],d=[],h=(0,$.Jb)((0,v.Tm)(s.WF)),u=[],p=[],f=[],g=[],m=[],b=[],w=[],x=[],_=[],C=[];(class extends h{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,o.MZ)({attribute:!1})],r=[(0,o.MZ)({attribute:!1})],a=[(0,o.MZ)({attribute:!1})],n=[(0,o.MZ)({attribute:!1})],l=[(0,o.MZ)({attribute:!1})],t$(this,null,i,{kind:"accessor",name:"block",static:!1,private:!1,access:{has:e=>"block"in e,get:e=>e.block,set:(e,t)=>{e.block=t}},metadata:s},u,p),t$(this,null,r,{kind:"accessor",name:"cardNumber",static:!1,private:!1,access:{has:e=>"cardNumber"in e,get:e=>e.cardNumber,set:(e,t)=>{e.cardNumber=t}},metadata:s},f,g),t$(this,null,a,{kind:"accessor",name:"disabledIcon",static:!1,private:!1,access:{has:e=>"disabledIcon"in e,get:e=>e.disabledIcon,set:(e,t)=>{e.disabledIcon=t}},metadata:s},m,b),t$(this,null,n,{kind:"accessor",name:"enableNotesSorting",static:!1,private:!1,access:{has:e=>"enableNotesSorting"in e,get:e=>e.enableNotesSorting,set:(e,t)=>{e.enableNotesSorting=t}},metadata:s},w,x),t$(this,null,l,{kind:"accessor",name:"showPreviewIcon",static:!1,private:!1,access:{has:e=>"showPreviewIcon"in e,get:e=>e.showPreviewIcon,set:(e,t)=>{e.showPreviewIcon=t}},metadata:s},_,C),t$(null,e={value:t},c,{kind:"class",name:t.name,metadata:s},null,d),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=tP}_TextBlockPreview(e){let t=e.text.yText.toDelta();if(!e.text.length)return s.s6;let i=this.disabledIcon?"icon disabled":"icon",o=t.map(t=>{if(!t.attributes?.reference)return t.insert.toString().trim().length>0?(0,s.qy)`<span>${t.insert.toString()}</span>`:s.s6;{let i=t.attributes.reference,o=e.doc.collection.meta.docMetas.find(e=>e.id===i.pageId),r=!o,a=r?"Deleted doc":o.title;return(0,s.qy)`<span
          class="linked-doc-preview ${r?"unavailable":""}"
          >${eV}
          <span class="linked-doc-text"
            >${a.length?a:"Untitled"}</span
          ></span
        >`}});return(0,s.qy)`<span class="text subtype ${e.type}">${o}</span>
      ${this.showPreviewIcon?(0,s.qy)`<span class=${i}>${t_[e.type]}</span>`:s.s6}`}render(){return(0,s.qy)`<div class="outline-block-preview">
      ${this.renderBlockByFlavour()}
    </div>`}renderBlockByFlavour(){let{block:e}=this,t=this.disabledIcon?"icon disabled":"icon";if(!this.enableNotesSorting&&!tI(e)&&!y.yYJ.matchFlavours(e,["affine:page"]))return s.s6;switch(e.flavour){case"affine:page":return tO(e),e.title.length>0?(0,s.qy)`<span class="text subtype title">
              ${e.title$.value}
            </span>`:s.s6;case"affine:paragraph":case"affine:list":return tO(e),this._TextBlockPreview(e);case"affine:bookmark":return tO(e),(0,s.qy)`
          <span class="text general"
            >${e.title||e.url||tk.bookmark}</span
          >
          ${this.showPreviewIcon?(0,s.qy)`<span class=${t}
                >${t_.bookmark}</span
              >`:s.s6}
        `;case"affine:code":return tO(e),(0,s.qy)`
          <span class="text general"
            >${e.language??tk.code}</span
          >
          ${this.showPreviewIcon?(0,s.qy)`<span class=${t}>${t_.code}</span>`:s.s6}
        `;case"affine:database":return tO(e),(0,s.qy)`
          <span class="text general"
            >${e.title.toString().length?e.title.toString():tk.database}</span
          >
          ${this.showPreviewIcon?(0,s.qy)`<span class=${t}>${t_.table}</span>`:s.s6}
        `;case"affine:image":return tO(e),(0,s.qy)`
          <span class="text general"
            >${e.caption?.length?e.caption:tk.image}</span
          >
          ${this.showPreviewIcon?(0,s.qy)`<span class=${t}>${t_.image}</span>`:s.s6}
        `;case"affine:attachment":return tO(e),(0,s.qy)`
          <span class="text general"
            >${e.name?.length?e.name:tk.attachment}</span
          >
          ${this.showPreviewIcon?(0,s.qy)`<span class=${t}
                >${t_.attachment}</span
              >`:s.s6}
        `;default:return s.s6}}#e$=tT(this,u,void 0);get block(){return this.#e$}set block(e){this.#e$=e}#db=(tT(this,p),tT(this,f,void 0));get cardNumber(){return this.#db}set cardNumber(e){this.#db=e}#dw=(tT(this,g),tT(this,m,!1));get disabledIcon(){return this.#dw}set disabledIcon(e){this.#dw=e}#dx=(tT(this,b),tT(this,w,void 0));get enableNotesSorting(){return this.#dx}set enableNotesSorting(e){this.#dx=e}#d_=(tT(this,x),tT(this,_,void 0));get showPreviewIcon(){return this.#d_}set showPreviewIcon(e){this.#d_=e}constructor(){super(...arguments),tT(this,C)}static{tT(t,d)}})})();var tA=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},tH=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let tL=(0,s.AH)`
  :host {
    display: block;
    position: relative;
  }

  .card-container {
    position: relative;

    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
  }

  .card-preview {
    position: relative;

    width: 100%;

    border-radius: 4px;

    cursor: default;
    user-select: none;
  }

  .card-preview.edgeless:hover {
    background: var(--affine-hover-color);
  }

  .card-header-container {
    padding: 0 8px;
    width: 100%;
    min-height: 28px;
    display: none;
    align-items: center;
    gap: 8px;
    box-sizing: border-box;
  }

  .card-header-container.enable-sorting {
    display: flex;
  }

  .card-header-container .card-number {
    text-align: center;
    font-size: var(--affine-font-sm);
    font-family: ${(0,s.iz)(u.$7.fontSansFamily)};
    color: var(--affine-brand-color, #1e96eb);
    font-weight: 500;
    line-height: 14px;
    line-height: 20px;
  }

  .card-header-container .card-header-icon {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .card-header-container .card-divider {
    height: 1px;
    flex: 1;
    border-top: 1px dashed var(--affine-border-color);
    transform: translateY(50%);
  }

  .display-mode-button-group {
    display: none;
    align-items: center;
    gap: 4px;
    padding: 2px;
    font-size: 12px;
    font-weight: 500;
    line-height: 20px;
    position: relative;
  }

  .card-preview:hover .display-mode-button-group {
    display: flex;
  }

  .display-mode-button-label {
    color: var(--affine-text-primary-color);
  }

  .display-mode-button {
    display: flex;
    border-radius: 4px;
    background-color: var(--affine-hover-color);
    align-items: center;
  }

  .current-mode-label {
    display: flex;
    padding: 2px 0px 2px 4px;
    align-items: center;
  }

  note-display-mode-panel {
    position: absolute;
    display: none;
    background: var(--affine-background-overlay-panel-color);
    border-radius: 8px;
    box-shadow: var(--affine-shadow-2);
    box-sizing: border-box;
    padding: 8px;
    font-size: var(--affine-font-sm);
    color: var(--affine-text-primary-color);
    line-height: 22px;
    font-weight: 400;
    font-family: ${(0,s.iz)(u.$7.fontSansFamily)};
  }

  note-display-mode-panel[data-show] {
    display: flex;
  }

  .card-content {
    font-family: ${(0,s.iz)(u.$7.fontSansFamily)};
    user-select: none;
    color: var(--affine-text-primary-color);
  }

  .card-preview.edgeless .card-content:hover {
    cursor: pointer;
  }

  .card-preview.edgeless .card-header-container:hover {
    cursor: grab;
  }

  .card-container.placeholder {
    pointer-events: none;
    opacity: 0.5;
  }

  .card-container.selected .card-preview.edgeless {
    background: var(--affine-hover-color);
  }

  .card-container.placeholder .card-preview.edgeless {
    background: var(--affine-hover-color);
    opacity: 0.9;
  }

  .card-container[data-sortable='true'] {
    padding: 2px 0;
  }

  .card-container[data-invisible='true'] .card-header-container .card-number,
  .card-container[data-invisible='true']
    .card-header-container
    .card-header-icon,
  .card-container[data-invisible='true'] .card-preview .card-content {
    color: var(--affine-text-disable-color);
    pointer-events: none;
  }

  .card-preview.page outline-block-preview:hover {
    color: var(--affine-brand-color);
  }
`;(()=>{let e,t,i,a,n,l,c,d,h,u,p,f,g,m,b,w=[(0,o.EM)("affine-outline-note-card")],x=[],_=(0,$.Jb)((0,v.Tm)(s.WF)),C=[],k=[],S=[],M=[],E=[],I=[],B=[],T=[],O=[],P=[],A=[],H=[],L=[],D=[],Z=[],j=[],V=[],R=[],z=[],F=[],N=[],q=[],U=[],W=[],G=[],Y=[];(class extends _{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(_[Symbol.metadata]??null):void 0;i=[(0,o.P)(".display-mode-button-group")],a=[(0,o.P)("note-display-mode-panel")],n=[(0,o.wk)()],l=[(0,o.MZ)({attribute:!1})],c=[(0,o.MZ)({attribute:!1})],d=[(0,o.MZ)({attribute:!1})],h=[(0,o.MZ)({attribute:!1})],u=[(0,o.MZ)({attribute:!1})],p=[(0,o.MZ)({attribute:!1})],f=[(0,o.MZ)({attribute:!1})],g=[(0,o.MZ)({attribute:!1})],m=[(0,o.MZ)({attribute:!1})],b=[(0,o.MZ)({attribute:!1})],tA(this,null,i,{kind:"accessor",name:"_displayModeButtonGroup",static:!1,private:!1,access:{has:e=>"_displayModeButtonGroup"in e,get:e=>e._displayModeButtonGroup,set:(e,t)=>{e._displayModeButtonGroup=t}},metadata:s},C,k),tA(this,null,a,{kind:"accessor",name:"_displayModePanel",static:!1,private:!1,access:{has:e=>"_displayModePanel"in e,get:e=>e._displayModePanel,set:(e,t)=>{e._displayModePanel=t}},metadata:s},S,M),tA(this,null,n,{kind:"accessor",name:"_showPopper",static:!1,private:!1,access:{has:e=>"_showPopper"in e,get:e=>e._showPopper,set:(e,t)=>{e._showPopper=t}},metadata:s},E,I),tA(this,null,l,{kind:"accessor",name:"activeHeadingId",static:!1,private:!1,access:{has:e=>"activeHeadingId"in e,get:e=>e.activeHeadingId,set:(e,t)=>{e.activeHeadingId=t}},metadata:s},B,T),tA(this,null,c,{kind:"accessor",name:"doc",static:!1,private:!1,access:{has:e=>"doc"in e,get:e=>e.doc,set:(e,t)=>{e.doc=t}},metadata:s},O,P),tA(this,null,d,{kind:"accessor",name:"editorMode",static:!1,private:!1,access:{has:e=>"editorMode"in e,get:e=>e.editorMode,set:(e,t)=>{e.editorMode=t}},metadata:s},A,H),tA(this,null,h,{kind:"accessor",name:"enableNotesSorting",static:!1,private:!1,access:{has:e=>"enableNotesSorting"in e,get:e=>e.enableNotesSorting,set:(e,t)=>{e.enableNotesSorting=t}},metadata:s},L,D),tA(this,null,u,{kind:"accessor",name:"index",static:!1,private:!1,access:{has:e=>"index"in e,get:e=>e.index,set:(e,t)=>{e.index=t}},metadata:s},Z,j),tA(this,null,p,{kind:"accessor",name:"invisible",static:!1,private:!1,access:{has:e=>"invisible"in e,get:e=>e.invisible,set:(e,t)=>{e.invisible=t}},metadata:s},V,R),tA(this,null,f,{kind:"accessor",name:"note",static:!1,private:!1,access:{has:e=>"note"in e,get:e=>e.note,set:(e,t)=>{e.note=t}},metadata:s},z,F),tA(this,null,g,{kind:"accessor",name:"number",static:!1,private:!1,access:{has:e=>"number"in e,get:e=>e.number,set:(e,t)=>{e.number=t}},metadata:s},N,q),tA(this,null,m,{kind:"accessor",name:"showPreviewIcon",static:!1,private:!1,access:{has:e=>"showPreviewIcon"in e,get:e=>e.showPreviewIcon,set:(e,t)=>{e.showPreviewIcon=t}},metadata:s},U,W),tA(this,null,b,{kind:"accessor",name:"status",static:!1,private:!1,access:{has:e=>"status"in e,get:e=>e.status,set:(e,t)=>{e.status=t}},metadata:s},G,Y),tA(null,e={value:t},w,{kind:"class",name:t.name,metadata:s},null,x),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=tL}_dispatchClickBlockEvent(e){let t=new CustomEvent("clickblock",{detail:{blockId:e.id}});this.dispatchEvent(t)}_dispatchDisplayModeChangeEvent(e,t){let i=new CustomEvent("displaymodechange",{detail:{note:e,newMode:t}});this.dispatchEvent(i)}_dispatchDragEvent(e){if(e.preventDefault(),0!==e.button||"page"===this.editorMode||!this.enableNotesSorting)return;let{clientX:t,clientY:i}=e,s=(0,y.on)(this.ownerDocument,"mousemove",e=>{if(5>Math.abs(t-e.clientX)&&5>Math.abs(i-e.clientY))return;"selected"!==this.status&&this._dispatchSelectEvent(e);let o=new CustomEvent("drag");this.dispatchEvent(o),s()});(0,y.OoU)(this.ownerDocument,"mouseup",()=>{s()})}_dispatchFitViewEvent(e){e.stopPropagation();let t=new CustomEvent("fitview",{detail:{block:this.note}});this.dispatchEvent(t)}_dispatchSelectEvent(e){e.stopPropagation();let t=new CustomEvent("select",{detail:{id:this.note.id,selected:"selected"!==this.status,number:this.number,multiselect:e.shiftKey}});this.dispatchEvent(t)}_getCurrentModeLabel(e){switch(e){case y.ko3.DocAndEdgeless:return"Both";case y.ko3.EdgelessOnly:return"Edgeless";case y.ko3.DocOnly:return"Page";default:return"Both"}}connectedCallback(){super.connectedCallback();let e=new MutationObserver(()=>this.requestUpdate());e.observe(this.ownerDocument.documentElement,{subtree:!1,childList:!1,attributes:!0,attributeFilter:["data-theme"]}),this._disposables.add(()=>e.disconnect())}firstUpdated(){this._displayModePopper=(0,y.j0U)(this._displayModeButtonGroup,this._displayModePanel,({display:e})=>{this._showPopper="show"===e},{mainAxis:8,crossAxis:-60}),this.disposables.add(this._displayModePopper)}render(){if(this.note.isEmpty.peek())return s.s6;let e=y.Qtn.mode,{children:t,displayMode:i}=this.note,o=this._getCurrentModeLabel(i),a=(0,r.H)({"card-header-container":!0,"enable-sorting":this.enableNotesSorting});return(0,s.qy)`
      <div
        data-invisible="${this.invisible?"true":"false"}"
        data-sortable="${this.enableNotesSorting?"true":"false"}"
        class="card-container ${this.status??""} ${e}"
      >
        <div
          class="card-preview ${this.editorMode}"
          @mousedown=${this._dispatchDragEvent}
          @click=${this._dispatchSelectEvent}
          @dblclick=${this._dispatchFitViewEvent}
        >
        ${(0,s.qy)`<div class=${a}>
          ${this.invisible?(0,s.qy)`<span class="card-header-icon">${eq}</span>`:(0,s.qy)`<span class="card-number">${this.number}</span>`}
          <span class="card-divider"></span>
          <div class="display-mode-button-group">
            <span class="display-mode-button-label">Show in</span>
            <edgeless-tool-icon-button
              .tooltip=${this._showPopper?"":"Display Mode"}
              .tipPosition=${"left-start"}
              .iconContainerPadding=${0}
              @click=${e=>{e.stopPropagation(),this._displayModePopper?.toggle()}}
              @dblclick=${e=>e.stopPropagation()}
            >
              <div class="display-mode-button">
                <span class="current-mode-label">${o}</span>
                ${eU}
              </div>
            </edgeless-tool-icon-button>
          </div>
          <note-display-mode-panel
            .displayMode=${i}
            .panelWidth=${220}
            .onSelect=${e=>{this._dispatchDisplayModeChangeEvent(this.note,e),this._displayModePopper?.hide()}}
          >
          </note-display-mode-panel>
        </div>`}
          <div class="card-content">
            ${t.map(e=>(0,s.qy)`<affine-outline-block-preview
                .block=${e}
                .className=${this.activeHeadingId===e.id?"active":""}
                .showPreviewIcon=${this.showPreviewIcon}
                .disabledIcon=${this.invisible}
                .cardNumber=${this.number}
                .enableNotesSorting=${this.enableNotesSorting}
                @click=${()=>{"edgeless"===this.editorMode||this.invisible||this._dispatchClickBlockEvent(e)}}
              ></affine-outline-block-preview>`)}
            </div>
          </div>
        </div>
      </div>
    `}#dC;get _displayModeButtonGroup(){return this.#dC}set _displayModeButtonGroup(e){this.#dC=e}#dk;get _displayModePanel(){return this.#dk}set _displayModePanel(e){this.#dk=e}#iU;get _showPopper(){return this.#iU}set _showPopper(e){this.#iU=e}#dS;get activeHeadingId(){return this.#dS}set activeHeadingId(e){this.#dS=e}#d;get doc(){return this.#d}set doc(e){this.#d=e}#dM;get editorMode(){return this.#dM}set editorMode(e){this.#dM=e}#dx;get enableNotesSorting(){return this.#dx}set enableNotesSorting(e){this.#dx=e}#i;get index(){return this.#i}set index(e){this.#i=e}#dE;get invisible(){return this.#dE}set invisible(e){this.#dE=e}#dI;get note(){return this.#dI}set note(e){this.#dI=e}#dB;get number(){return this.#dB}set number(e){this.#dB=e}#d_;get showPreviewIcon(){return this.#d_}set showPreviewIcon(e){this.#d_=e}#cH;get status(){return this.#cH}set status(e){this.#cH=e}constructor(){super(...arguments),this._displayModePopper=null,this.#dC=tH(this,C,void 0),this.#dk=(tH(this,k),tH(this,S,void 0)),this.#iU=(tH(this,M),tH(this,E,!1)),this.#dS=(tH(this,I),tH(this,B,null)),this.#d=(tH(this,T),tH(this,O,void 0)),this.#dM=(tH(this,P),tH(this,A,"page")),this.#dx=(tH(this,H),tH(this,L,void 0)),this.#i=(tH(this,D),tH(this,Z,void 0)),this.#dE=(tH(this,j),tH(this,V,!1)),this.#dI=(tH(this,R),tH(this,z,void 0)),this.#dB=(tH(this,F),tH(this,N,void 0)),this.#d_=(tH(this,q),tH(this,U,void 0)),this.#cH=(tH(this,W),tH(this,G,void 0)),tH(this,Y)}static{tH(t,x)}})})();var tD=i(54702);function tZ(e,t){let{host:i,mode:s}=e;if("edgeless"!==s&&i){if(e.doc.root?.id===t){let e=function(e){let t=e.closest(".affine-page-viewport");return t?t.querySelector("doc-title"):null}(i);if(!e)return;e.scrollIntoView({behavior:"smooth",block:"start"})}else{let e=i.view.getBlock(t);if(!e)return;e.scrollIntoView({behavior:"smooth",block:"center"})}}}let tj=(e,t)=>{let i=e();t.value=i.doc.root?.id??null;let s=new e7.K;return s.addFromEvent(window,"scroll",()=>{let{host:i}=e();if(!i)return;let s=tB(i.doc,[y.ko3.DocAndEdgeless,y.ko3.DocOnly],!0),o=i.doc.root?.id??null;s.forEach(e=>{(function(e,t){let i=t.view.getBlock(e);if(!i)return!1;let s=(t.parentElement??t).getBoundingClientRect(),o=i.getBoundingClientRect(),r=(0,tD.qE)(s.top,0,document.documentElement.clientHeight)+Math.min(s.height,document.documentElement.clientHeight)/2;return o.top+o.height/2<r+o.height})(e.id,i)&&(o=e.id)}),t.value=o},!0),s},tV=null,tR=null,tz=null;async function tF(e,t,i=3e3){tZ(e,t);let s=0;return new Promise(o=>{null!==tz&&clearInterval(tz),tz=setInterval(()=>{if(null===tz){console.error("unreachable code");return}if(s>i){clearInterval(tz),o(()=>{});return}let{host:r}=e;if(!r){clearInterval(tz),o(()=>{});return}let a=r.view.getBlock(t);if(!a){clearInterval(tz),o(()=>{});return}let{top:n,bottom:l}=a.getBoundingClientRect();if(n<0||l>window.innerHeight){s+=100;return}clearInterval(tz),o(function(e,t){let i=()=>{},{host:s}=e;if(!s)return i;let o=s.querySelector("affine-page-root");if(!o)return i;if(!o.viewport)return console.error("viewport should exist"),i;let{top:r,left:a,scrollTop:n,scrollLeft:l}=o.viewport,c=s.view.getBlock(t);if(!c)return i;let{top:d,left:h,width:u,height:p}=c.getBoundingClientRect();return tV||(tV=document.createElement("div"),o.append(tV)),Object.assign(tV.style,{position:"absolute",top:`${d-r+n}px`,left:`${h-a+l}px`,width:`${u}px`,height:`${p}px`,background:"var(--affine-hover-color)",borderRadius:"4px",display:"block"}),null!==tR&&clearTimeout(tR),tR=setTimeout(()=>{tV&&(tV.style.display="none")},1e3),()=>{null!==tV&&(tV.remove(),tV=null),null!==tR&&(clearTimeout(tR),tR=null)}}(e,t))},100)})}var tN=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},tq=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let tU=(0,s.AH)`
  .outline-panel-body-container {
    position: relative;
    display: flex;
    align-items: start;
    box-sizing: border-box;
    flex-direction: column;
    width: 100%;
    height: 100%;
    padding: 0 8px;
  }

  .panel-list {
    position: relative;
    width: 100%;
  }

  .panel-list .hidden-title {
    width: 100%;
    font-size: 14px;
    line-height: 24px;
    font-weight: 500;
    color: var(--affine-text-secondary-color);
    padding-left: 8px;
    height: 40px;
    box-sizing: border-box;
    padding: 6px 8px;
    margin-top: 8px;
  }

  .insert-indicator {
    height: 2px;
    border-radius: 1px;
    background-color: var(--affine-brand-color);
    border-radius: 1px;
    position: absolute;
    contain: layout size;
    width: 100%;
  }

  .no-note-container {
    display: flex;
    flex-direction: column;
    width: 100%;
  }

  .note-placeholder {
    margin-top: 240px;
    align-self: center;
    width: 190px;
    height: 48px;
    color: var(--affine-text-secondary-color, #8e8d91);
    text-align: center;
    /* light/base */
    font-size: 15px;
    font-style: normal;
    font-weight: 400;
    line-height: 24px;
  }
`;(()=>{let e,t,i,n,l,c,d,h,u,p,f,g,m,b,w,x,_,C,k,S,M,E=[(0,o.EM)("affine-outline-panel-body")],I=[],B=(0,$.Jb)((0,v.Tm)(s.WF)),T=[],O=[],P=[],A=[],H=[],L=[],D=[],j=[],V=[],R=[],z=[],F=[],N=[],q=[],U=[],W=[],G=[],Y=[],K=[],X=[],Q=[],J=[],ee=[],et=[],ei=[],es=[],eo=[],er=[],ea=[],en=[],el=[],ec=[],ed=[],eh=[],eu=[],ep=[],ef=[],eg=[];(class extends B{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(B[Symbol.metadata]??null):void 0;i=[(0,o.wk)()],n=[(0,o.wk)()],l=[(0,o.wk)()],c=[(0,o.wk)()],d=[(0,o.P)(".outline-panel-body-container")],h=[(0,o.MZ)({attribute:!1})],u=[(0,o.MZ)({attribute:!1})],p=[(0,o.MZ)({attribute:!1})],f=[(0,o.MZ)({attribute:!1})],g=[(0,o.MZ)({attribute:!1})],m=[(0,o.MZ)({attribute:!1})],b=[(0,o.MZ)({attribute:!1})],w=[(0,o.MZ)({attribute:!1})],x=[(0,o.MZ)({attribute:!1})],_=[(0,o.P)(".panel-list")],C=[(0,o.MZ)({attribute:!1})],k=[(0,o.MZ)({attribute:!1})],S=[(0,o.MZ)({attribute:!1})],M=[(0,o.MZ)({attribute:!1})],tN(this,null,i,{kind:"accessor",name:"_dragging",static:!1,private:!1,access:{has:e=>"_dragging"in e,get:e=>e._dragging,set:(e,t)=>{e._dragging=t}},metadata:s},T,O),tN(this,null,n,{kind:"accessor",name:"_edgelessOnlyNotes",static:!1,private:!1,access:{has:e=>"_edgelessOnlyNotes"in e,get:e=>e._edgelessOnlyNotes,set:(e,t)=>{e._edgelessOnlyNotes=t}},metadata:s},P,A),tN(this,null,l,{kind:"accessor",name:"_pageVisibleNotes",static:!1,private:!1,access:{has:e=>"_pageVisibleNotes"in e,get:e=>e._pageVisibleNotes,set:(e,t)=>{e._pageVisibleNotes=t}},metadata:s},H,L),tN(this,null,c,{kind:"accessor",name:"_selected",static:!1,private:!1,access:{has:e=>"_selected"in e,get:e=>e._selected,set:(e,t)=>{e._selected=t}},metadata:s},D,j),tN(this,null,d,{kind:"accessor",name:"OutlinePanelContainer",static:!1,private:!1,access:{has:e=>"OutlinePanelContainer"in e,get:e=>e.OutlinePanelContainer,set:(e,t)=>{e.OutlinePanelContainer=t}},metadata:s},V,R),tN(this,null,h,{kind:"accessor",name:"activeHeadingId",static:!1,private:!1,access:{has:e=>"activeHeadingId"in e,get:e=>e.activeHeadingId,set:(e,t)=>{e.activeHeadingId=t}},metadata:s},z,F),tN(this,null,u,{kind:"accessor",name:"doc",static:!1,private:!1,access:{has:e=>"doc"in e,get:e=>e.doc,set:(e,t)=>{e.doc=t}},metadata:s},N,q),tN(this,null,p,{kind:"accessor",name:"domHost",static:!1,private:!1,access:{has:e=>"domHost"in e,get:e=>e.domHost,set:(e,t)=>{e.domHost=t}},metadata:s},U,W),tN(this,null,f,{kind:"accessor",name:"edgeless",static:!1,private:!1,access:{has:e=>"edgeless"in e,get:e=>e.edgeless,set:(e,t)=>{e.edgeless=t}},metadata:s},G,Y),tN(this,null,g,{kind:"accessor",name:"editor",static:!1,private:!1,access:{has:e=>"editor"in e,get:e=>e.editor,set:(e,t)=>{e.editor=t}},metadata:s},K,X),tN(this,null,m,{kind:"accessor",name:"enableNotesSorting",static:!1,private:!1,access:{has:e=>"enableNotesSorting"in e,get:e=>e.enableNotesSorting,set:(e,t)=>{e.enableNotesSorting=t}},metadata:s},Q,J),tN(this,null,b,{kind:"accessor",name:"fitPadding",static:!1,private:!1,access:{has:e=>"fitPadding"in e,get:e=>e.fitPadding,set:(e,t)=>{e.fitPadding=t}},metadata:s},ee,et),tN(this,null,w,{kind:"accessor",name:"insertIndex",static:!1,private:!1,access:{has:e=>"insertIndex"in e,get:e=>e.insertIndex,set:(e,t)=>{e.insertIndex=t}},metadata:s},ei,es),tN(this,null,x,{kind:"accessor",name:"noticeVisible",static:!1,private:!1,access:{has:e=>"noticeVisible"in e,get:e=>e.noticeVisible,set:(e,t)=>{e.noticeVisible=t}},metadata:s},eo,er),tN(this,null,_,{kind:"accessor",name:"panelListElement",static:!1,private:!1,access:{has:e=>"panelListElement"in e,get:e=>e.panelListElement,set:(e,t)=>{e.panelListElement=t}},metadata:s},ea,en),tN(this,null,C,{kind:"accessor",name:"renderEdgelessOnlyNotes",static:!1,private:!1,access:{has:e=>"renderEdgelessOnlyNotes"in e,get:e=>e.renderEdgelessOnlyNotes,set:(e,t)=>{e.renderEdgelessOnlyNotes=t}},metadata:s},el,ec),tN(this,null,k,{kind:"accessor",name:"setNoticeVisibility",static:!1,private:!1,access:{has:e=>"setNoticeVisibility"in e,get:e=>e.setNoticeVisibility,set:(e,t)=>{e.setNoticeVisibility=t}},metadata:s},ed,eh),tN(this,null,S,{kind:"accessor",name:"showPreviewIcon",static:!1,private:!1,access:{has:e=>"showPreviewIcon"in e,get:e=>e.showPreviewIcon,set:(e,t)=>{e.showPreviewIcon=t}},metadata:s},eu,ep),tN(this,null,M,{kind:"accessor",name:"toggleNotesSorting",static:!1,private:!1,access:{has:e=>"toggleNotesSorting"in e,get:e=>e.toggleNotesSorting,set:(e,t)=>{e.toggleNotesSorting=t}},metadata:s},ef,eg),tN(null,e={value:t},E,{kind:"class",name:t.name,metadata:s},null,I),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=tU}_EmptyPanel(){return(0,s.qy)`<div class="no-note-container">
      <div class="note-placeholder">
        Use headings to create a table of contents.
      </div>
    </div>`}_PanelList(e){let t=new Set(this._selected);return(0,s.qy)`<div class="panel-list">
      ${void 0!==this.insertIndex?(0,s.qy)`<div
            class="insert-indicator"
            style=${`transform: translateY(${this._indicatorTranslateY}px)`}
          ></div>`:s.s6}
      ${this._renderDocTitle()}
      ${this._pageVisibleNotes.length?(0,a.u)(this._pageVisibleNotes,e=>e.note.id,(e,i)=>(0,s.qy)`
              <affine-outline-note-card
                data-note-id=${e.note.id}
                .note=${e.note}
                .number=${i+1}
                .index=${e.index}
                .doc=${this.doc}
                .editorMode=${this.editor.mode}
                .activeHeadingId=${this.activeHeadingId.value}
                .status=${t.has(e.note.id)?this._dragging?"placeholder":"selected":void 0}
                .showPreviewIcon=${this.showPreviewIcon}
                .enableNotesSorting=${this.enableNotesSorting}
                @select=${this._selectNote}
                @drag=${this._drag}
                @fitview=${this._fitToElement}
                @clickblock=${this._scrollToBlock}
                @displaymodechange=${this._handleDisplayModeChange}
              ></affine-outline-note-card>
            `):(0,s.qy)`${s.s6}`}
      ${e?(0,s.qy)`<div class="hidden-title">Hidden Contents</div>
            ${(0,a.u)(this._edgelessOnlyNotes,e=>e.note.id,(e,t)=>(0,s.qy)`<affine-outline-note-card
                  data-note-id=${e.note.id}
                  .note=${e.note}
                  .number=${t+1}
                  .index=${e.index}
                  .doc=${this.doc}
                  .activeHeadingId=${this.activeHeadingId.value}
                  .invisible=${!0}
                  .showPreviewIcon=${this.showPreviewIcon}
                  .enableNotesSorting=${this.enableNotesSorting}
                  @fitview=${this._fitToElement}
                  @displaymodechange=${this._handleDisplayModeChange}
                ></affine-outline-note-card>`)} `:s.s6}
    </div>`}_clearDocDisposables(){this._docDisposables?.dispose(),this._docDisposables=null}_clickHandler(e){e.stopPropagation(),e.target.closest("outline-note-card")||0===this._selected.length||(this._selected=[],this.edgeless?.service.selection.set({elements:this._selected,editing:!1}))}_deSelectNoteInEdgelessMode(e){if(!this._isEdgelessMode()||!this.edgeless)return;let{selection:t}=this.edgeless.service;if(!t.has(e.id))return;let i=t.selectedIds.filter(t=>t!==e.id);t.set({elements:i,editing:!1})}_doubleClickHandler(e){e.stopPropagation(),e.target.closest("outline-note-card")||!this.enableNotesSorting||this.toggleNotesSorting()}_drag(){if(!this._selected.length||!this._pageVisibleNotes.length||!this.doc.root)return;this._dragging=!0;let e=this.doc.root.children.slice(),t=this._pageVisibleNotes,i=this._pageVisibleNotes.reduce((e,t,i)=>(e.set(t.note.id,{...t,number:i+1}),e),new Map),s=this._selected.slice();!function(e){let t,i;let{document:s,host:o,container:r,onDragMove:a,onDragEnd:n,outlineListContainer:l}=e,c=function(e){let t=e.createElement("div");return t.style.height="100vh",t.style.width="100vw",t.style.position="fixed",t.style.left="0",t.style.top="0",t.style.zIndex="calc(var(--affine-z-index-popover, 0) + 3)",t.style.cursor="grabbing",t}(s),d=l.getBoundingClientRect(),h=Array.from(l.children);r.renderRoot.append(c);let u=e=>e.clientX>=d.left&&e.clientX<=d.right&&e.clientY>=d.top&&e.clientY<=d.bottom,p=(0,y.on)(r,"mousemove",e=>{if(!u(e)){t=void 0,a?.(t,0);return}for(let s of(t=0,h)){if(s.invisible||!s.note)break;let o=d.top+s.offsetTop-l.scrollTop,r=o+s.offsetHeight/2,n=o+s.offsetHeight;if(e.clientY>=o&&e.clientY<=n){t=e.clientY>r?t+1:t,i=(e.clientY>r?n:o)-d.top,a?.(t,i);return}++t}a?.(t)}),f=!1;(0,y.OoU)(o,"mouseup",()=>{f||(f=!0,c.remove(),p(),n?.(t))})}({container:this,document:this.ownerDocument,host:this.domHost??this.ownerDocument,doc:this.doc,outlineListContainer:this.panelListElement,onDragEnd:o=>{this._dragging=!1,this.insertIndex=void 0,void 0!==o&&this._moveNotes(o,s,i,t,e)},onDragMove:(e,t)=>{this.insertIndex=e,this._indicatorTranslateY=t??0}})}_fitToElement(e){let t=this.edgeless;if(!t)return;let{block:i}=e.detail,s=Z.z.deserialize(i.xywh);t.service.viewport.setViewportByBound(s,this.viewportPadding,!0)}_handleDisplayModeChange(e){let{note:t,newMode:i}=e.detail,{displayMode:s}=t;if(i===s)return;this.doc.updateBlock(t,{displayMode:i});let o=this.doc.getParent(t);if(null===o){console.error(`Failed to get parent of note(id:${t.id})`);return}let r=o.children.filter(e=>y.yYJ.matchFlavours(e,["affine:note"])),a=r[r.length-1];s===y.ko3.EdgelessOnly&&t!==a&&this.doc.moveBlocks([t],o,a,!1),i===y.ko3.DocOnly&&this._deSelectNoteInEdgelessMode(t)}_isEdgelessMode(){return"edgeless"===this.editor.mode}_moveNotes(e,t,i,s,o){if(!this._isEdgelessMode()||!o.length||!this.doc.root)return;let r=t.map(e=>i.get(e).note),a=new Set(r),n=e===s.length?s[e-1].index+1:s[e].index,l=[...o.slice(0,n).filter(e=>!a.has(e)),...r,...o.slice(n).filter(e=>!a.has(e))];this._changedFlag=!0,this.doc.updateBlock(this.doc.root,{children:l})}_renderDocTitle(){return this.doc.root&&tB(this.doc,[y.ko3.DocOnly,y.ko3.DocAndEdgeless],!0).length>0?(0,s.qy)`<affine-outline-block-preview
      class=${(0,r.H)({active:this.doc.root.id===this.activeHeadingId.value})}
      .block=${this.doc.root}
      .className=${this.doc.root?.id===this.activeHeadingId.value?"active":""}
      .cardNumber=${1}
      .enableNotesSorting=${!1}
      .showPreviewIcon=${this.showPreviewIcon}
      @click=${()=>{this.doc.root&&(tZ(this.editor,this.doc.root.id),this.activeHeadingId.value=this.doc.root.id)}}
    ></affine-outline-block-preview>`:s.s6}async _scrollToBlock(e){this._clearHighlightMask=await tF(this.editor,e.detail.blockId),this.activeHeadingId.value=e.detail.blockId}_selectNote(e){if(!this._isEdgelessMode())return;let{selected:t,id:i,multiselect:s}=e.detail;t?s?this._selected=[...this._selected,i]:this._selected=[i]:this._selected=this._selected.filter(e=>e!==i);let o=this._pageVisibleNotes.reduce((e,t)=>{let i=t.note;return this._selected.includes(i.id)&&(!i.displayMode||i.displayMode===y.ko3.DocAndEdgeless)&&e.push(i.id),e},[]);this.edgeless?.service.selection.set({elements:o,editing:!1})}_setDocDisposables(){this._clearDocDisposables(),this._docDisposables=new e7.K,this._docDisposables.add((0,$.QZ)(()=>{this._updateNotes(),this._updateNoticeVisibility()}))}_shouldRenderNoteList(e){if(!e.length)return!1;let t=!1,i=!1;for(let s of e){for(let e of s.note.children)if(i=!0,tI(e)){t=!0;break}if(t)break}return t||this.enableNotesSorting&&i}_updateNotes(){let e=this.doc.root;if(this._dragging)return;if(!e){this._pageVisibleNotes=[];return}let t=this._selected.reduce((e,t)=>(e.add(t),e),new Set),i=[];e.children.forEach(e=>{["affine:note"].includes(e.flavour)&&e.displayMode!==y.ko3.EdgelessOnly&&t.has(e.id)&&i.push(e.id)}),this._pageVisibleNotes=tE(this.doc,[y.ko3.DocAndEdgeless,y.ko3.DocOnly]),this._edgelessOnlyNotes=tE(this.doc,[y.ko3.EdgelessOnly]),this._selected=i}_updateNoticeVisibility(){if(this.enableNotesSorting){this.noticeVisible&&this.setNoticeVisibility(!1);return}this._pageVisibleNotes.some(e=>e.note.displayMode===y.ko3.DocOnly)&&!this.noticeVisible&&this.setNoticeVisibility(!0)}_zoomToFit(){let e=this.edgeless;if(!e)return;let t=e.getElementsBound();t&&(this._oldViewport={zoom:e.service.viewport.zoom,center:{x:e.service.viewport.center.x,y:e.service.viewport.center.y}},e.service.viewport.setViewportByBound(new Z.z(t.x,t.y,t.w,t.h),this.viewportPadding,!0))}connectedCallback(){super.connectedCallback()}disconnectedCallback(){if(super.disconnectedCallback(),!this._changedFlag&&this._oldViewport){let e=this.edgeless;if(!e)return;e.service.viewport.setViewport(this._oldViewport.zoom,[this._oldViewport.center.x,this._oldViewport.center.y],!0)}this._clearDocDisposables(),this._clearHighlightMask()}firstUpdated(){this.disposables.addFromEvent(this,"click",this._clickHandler),this.disposables.addFromEvent(this,"dblclick",this._doubleClickHandler)}render(){let e=this._shouldRenderNoteList(this._pageVisibleNotes),t=this.renderEdgelessOnlyNotes&&this._shouldRenderNoteList(this._edgelessOnlyNotes),i=!e&&!t;return(0,s.qy)`
      <div class="outline-panel-body-container">
        ${i?this._EmptyPanel():this._PanelList(t)}
      </div>
    `}willUpdate(e){(e.has("doc")||e.has("edgeless"))&&this._setDocDisposables(),e.has("mode")&&this.edgeless&&this._isEdgelessMode()&&(this._clearHighlightMask(),void 0!==e.get("mode"))&&requestAnimationFrame(()=>this._zoomToFit())}get viewportPadding(){return this.fitPadding?[0,0,0,0].map((e,t)=>Number.isFinite(this.fitPadding[t])?this.fitPadding[t]:e):[0,0,0,0]}#sX;get _dragging(){return this.#sX}set _dragging(e){this.#sX=e}#d$;get _edgelessOnlyNotes(){return this.#d$}set _edgelessOnlyNotes(e){this.#d$=e}#dT;get _pageVisibleNotes(){return this.#dT}set _pageVisibleNotes(e){this.#dT=e}#dn;get _selected(){return this.#dn}set _selected(e){this.#dn=e}#dO;get OutlinePanelContainer(){return this.#dO}set OutlinePanelContainer(e){this.#dO=e}#dS;get activeHeadingId(){return this.#dS}set activeHeadingId(e){this.#dS=e}#d;get doc(){return this.#d}set doc(e){this.#d=e}#dl;get domHost(){return this.#dl}set domHost(e){this.#dl=e}#iE;get edgeless(){return this.#iE}set edgeless(e){this.#iE=e}#cq;get editor(){return this.#cq}set editor(e){this.#cq=e}#dx;get enableNotesSorting(){return this.#dx}set enableNotesSorting(e){this.#dx=e}#dd;get fitPadding(){return this.#dd}set fitPadding(e){this.#dd=e}#du;get insertIndex(){return this.#du}set insertIndex(e){this.#du=e}#dm;get noticeVisible(){return this.#dm}set noticeVisible(e){this.#dm=e}#dP;get panelListElement(){return this.#dP}set panelListElement(e){this.#dP=e}#dA;get renderEdgelessOnlyNotes(){return this.#dA}set renderEdgelessOnlyNotes(e){this.#dA=e}#dv;get setNoticeVisibility(){return this.#dv}set setNoticeVisibility(e){this.#dv=e}#d_;get showPreviewIcon(){return this.#d_}set showPreviewIcon(e){this.#d_=e}#dy;get toggleNotesSorting(){return this.#dy}set toggleNotesSorting(e){this.#dy=e}constructor(){super(...arguments),this._changedFlag=!1,this._clearHighlightMask=()=>{},this._docDisposables=null,this._indicatorTranslateY=0,this.#sX=tq(this,T,!1),this.#d$=(tq(this,O),tq(this,P,[])),this.#dT=(tq(this,A),tq(this,H,[])),this.#dn=(tq(this,L),tq(this,D,[])),this.#dO=(tq(this,j),tq(this,V,void 0)),this.#dS=(tq(this,R),tq(this,z,void 0)),this.#d=(tq(this,F),tq(this,N,void 0)),this.#dl=(tq(this,q),tq(this,U,void 0)),this.#iE=(tq(this,W),tq(this,G,void 0)),this.#cq=(tq(this,Y),tq(this,K,void 0)),this.#dx=(tq(this,X),tq(this,Q,void 0)),this.#dd=(tq(this,J),tq(this,ee,void 0)),this.#du=(tq(this,et),tq(this,ei,void 0)),this.#dm=(tq(this,es),tq(this,eo,void 0)),this.#dP=(tq(this,er),tq(this,ea,void 0)),this.#dA=(tq(this,en),tq(this,el,!0)),this.#dv=(tq(this,ec),tq(this,ed,void 0)),this.#d_=(tq(this,eh),tq(this,eu,void 0)),this.#dy=(tq(this,ep),tq(this,ef,void 0)),tq(this,eg)}static{tq(t,I)}})})();var tW=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},tG=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let tY=(0,s.AH)`
  :host {
    display: block;
    box-sizing: border-box;
    padding: 8px;
    width: 220px;
  }

  .note-preview-setting-menu-container {
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
    width: 100%;
  }

  .note-preview-setting-menu-item {
    display: flex;
    box-sizing: border-box;
    width: 100%;
    height: 28px;
    padding: 4px 12px;
    align-items: center;
  }

  .note-preview-setting-menu-item .setting-label {
    font-family: sans-serif;
    font-size: 12px;
    font-weight: 500;
    line-height: 20px;
    color: var(--affine-text-secondary-color);
    padding: 0 4px;
  }

  .note-preview-setting-menu-item.action {
    gap: 4px;
  }

  .note-preview-setting-menu-item .action-label {
    width: 138px;
    height: 20px;
    padding: 0 4px;
    font-size: 12px;
    font-weight: 500;
    line-height: 20px;
    color: var(--affine-text-primary-color);
  }

  .note-preview-setting-menu-item .toggle-button {
    display: flex;
  }
`;(()=>{let e,t,i,r,a=[(0,o.EM)("affine-outline-note-preview-setting-menu")],n=[],l=(0,v.Tm)(s.WF),c=[],d=[],h=[],u=[];(class extends l{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(0,o.MZ)({attribute:!1})],r=[(0,o.MZ)({attribute:!1})],tW(this,null,i,{kind:"accessor",name:"showPreviewIcon",static:!1,private:!1,access:{has:e=>"showPreviewIcon"in e,get:e=>e.showPreviewIcon,set:(e,t)=>{e.showPreviewIcon=t}},metadata:s},c,d),tW(this,null,r,{kind:"accessor",name:"toggleShowPreviewIcon",static:!1,private:!1,access:{has:e=>"toggleShowPreviewIcon"in e,get:e=>e.toggleShowPreviewIcon,set:(e,t)=>{e.toggleShowPreviewIcon=t}},metadata:s},h,u),tW(null,e={value:t},a,{kind:"class",name:t.name,metadata:s},null,n),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=tY}render(){return(0,s.qy)`<div
      class="note-preview-setting-menu-container"
      @click=${e=>e.stopPropagation()}
    >
      <div class="note-preview-setting-menu-item">
        <div class="setting-label">Settings</div>
      </div>
      <div class="note-preview-setting-menu-item action">
        <div class="action-label">Show type icon</div>
        <div class="toggle-button">
          <toggle-switch
            .on=${this.showPreviewIcon}
            .onChange=${this.toggleShowPreviewIcon}
          ></toggle-switch>
        </div>
      </div>
    </div>`}#d_=tG(this,c,void 0);get showPreviewIcon(){return this.#d_}set showPreviewIcon(e){this.#d_=e}#dH=(tG(this,d),tG(this,h,void 0));get toggleShowPreviewIcon(){return this.#dH}set toggleShowPreviewIcon(e){this.#dH=e}constructor(){super(...arguments),tG(this,u)}static{tG(t,n)}})})();var tK=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},tX=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let tQ=(0,s.AH)`
  :host {
    display: flex;
    width: 100%;
    height: 40px;
    align-items: center;
    justify-content: space-between;
    box-sizing: border-box;
    padding: 8px 16px;
  }

  .outline-panel-header-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    height: 100%;
    box-sizing: border-box;
    padding-right: 6px;
  }

  .note-setting-container {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .outline-panel-header-label {
    width: 119px;
    height: 22px;
    font-size: 14px;
    font-weight: 500;
    line-height: 22px;
    color: var(--affine-text-secondary-color, #8e8d91);
  }

  .note-sorting-button {
    justify-self: end;
  }

  .note-setting-button svg,
  .note-sorting-button svg {
    color: var(--affine-icon-secondary);
  }

  .note-setting-button:hover svg,
  .note-setting-button.active svg,
  .note-sorting-button:hover svg {
    color: var(--affine-icon-color);
  }

  .note-sorting-button.active svg {
    color: var(--affine-primary-color);
  }

  .note-preview-setting-container {
    display: none;
    justify-content: center;
    align-items: center;
    background: var(--affine-background-overlay-panel-color);
    box-shadow: var(--affine-shadow-2);
    border-radius: 8px;
  }

  .note-preview-setting-container[data-show] {
    display: flex;
  }
`;(()=>{let e,t,i,r,a,n,l,c,d,h=[(0,o.EM)("affine-outline-panel-header")],u=[],p=(0,v.Tm)(s.WF),f=[],g=[],m=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[],B=[];(class extends p{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(p[Symbol.metadata]??null):void 0;i=[(0,o.P)(".note-preview-setting-container")],r=[(0,o.P)(".note-setting-button")],a=[(0,o.wk)()],n=[(0,o.MZ)({attribute:!1})],l=[(0,o.MZ)({attribute:!1})],c=[(0,o.MZ)({attribute:!1})],d=[(0,o.MZ)({attribute:!1})],tK(this,null,i,{kind:"accessor",name:"_notePreviewSettingMenu",static:!1,private:!1,access:{has:e=>"_notePreviewSettingMenu"in e,get:e=>e._notePreviewSettingMenu,set:(e,t)=>{e._notePreviewSettingMenu=t}},metadata:s},f,g),tK(this,null,r,{kind:"accessor",name:"_noteSettingButton",static:!1,private:!1,access:{has:e=>"_noteSettingButton"in e,get:e=>e._noteSettingButton,set:(e,t)=>{e._noteSettingButton=t}},metadata:s},m,b),tK(this,null,a,{kind:"accessor",name:"_settingPopperShow",static:!1,private:!1,access:{has:e=>"_settingPopperShow"in e,get:e=>e._settingPopperShow,set:(e,t)=>{e._settingPopperShow=t}},metadata:s},w,x),tK(this,null,n,{kind:"accessor",name:"enableNotesSorting",static:!1,private:!1,access:{has:e=>"enableNotesSorting"in e,get:e=>e.enableNotesSorting,set:(e,t)=>{e.enableNotesSorting=t}},metadata:s},_,C),tK(this,null,l,{kind:"accessor",name:"showPreviewIcon",static:!1,private:!1,access:{has:e=>"showPreviewIcon"in e,get:e=>e.showPreviewIcon,set:(e,t)=>{e.showPreviewIcon=t}},metadata:s},k,S),tK(this,null,c,{kind:"accessor",name:"toggleNotesSorting",static:!1,private:!1,access:{has:e=>"toggleNotesSorting"in e,get:e=>e.toggleNotesSorting,set:(e,t)=>{e.toggleNotesSorting=t}},metadata:s},M,E),tK(this,null,d,{kind:"accessor",name:"toggleShowPreviewIcon",static:!1,private:!1,access:{has:e=>"toggleShowPreviewIcon"in e,get:e=>e.toggleShowPreviewIcon,set:(e,t)=>{e.toggleShowPreviewIcon=t}},metadata:s},I,B),tK(null,e={value:t},h,{kind:"class",name:t.name,metadata:s},null,u),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=tQ}firstUpdated(){let e=this._disposables;this._notePreviewSettingMenuPopper=(0,y.j0U)(this._noteSettingButton,this._notePreviewSettingMenu,({display:e})=>{this._settingPopperShow="show"===e},{mainAxis:14,crossAxis:-30}),e.add(this._notePreviewSettingMenuPopper)}render(){return(0,s.qy)`<div class="outline-panel-header-container">
        <div class="note-setting-container">
          <span class="outline-panel-header-label">Table of Contents</span>
          <edgeless-tool-icon-button
            class="note-setting-button ${this._settingPopperShow?"active":""}"
            .tooltip=${this._settingPopperShow?"":"Preview Settings"}
            .tipPosition=${"bottom"}
            .active=${this._settingPopperShow}
            .activeMode=${"background"}
            @click=${()=>this._notePreviewSettingMenuPopper?.toggle()}
          >
            ${ex}
          </edgeless-tool-icon-button>
        </div>
        <edgeless-tool-icon-button
          class="note-sorting-button ${this.enableNotesSorting?"active":""}"
          .tooltip=${"Note Sort Options"}
          .tipPosition=${"left"}
          .iconContainerPadding=${0}
          .active=${this.enableNotesSorting}
          .activeMode=${"color"}
          @click=${()=>this.toggleNotesSorting()}
        >
          ${ez}
        </edgeless-tool-icon-button>
      </div>
      <div class="note-preview-setting-container">
        <affine-outline-note-preview-setting-menu
          .showPreviewIcon=${this.showPreviewIcon}
          .toggleShowPreviewIcon=${this.toggleShowPreviewIcon}
        ></affine-outline-note-preview-setting-menu>
      </div>`}#dL;get _notePreviewSettingMenu(){return this.#dL}set _notePreviewSettingMenu(e){this.#dL=e}#dD;get _noteSettingButton(){return this.#dD}set _noteSettingButton(e){this.#dD=e}#dg;get _settingPopperShow(){return this.#dg}set _settingPopperShow(e){this.#dg=e}#dx;get enableNotesSorting(){return this.#dx}set enableNotesSorting(e){this.#dx=e}#d_;get showPreviewIcon(){return this.#d_}set showPreviewIcon(e){this.#d_=e}#dy;get toggleNotesSorting(){return this.#dy}set toggleNotesSorting(e){this.#dy=e}#dH;get toggleShowPreviewIcon(){return this.#dH}set toggleShowPreviewIcon(e){this.#dH=e}constructor(){super(...arguments),this._notePreviewSettingMenuPopper=null,this.#dL=tX(this,f,void 0),this.#dD=(tX(this,g),tX(this,m,void 0)),this.#dg=(tX(this,b),tX(this,w,!1)),this.#dx=(tX(this,x),tX(this,_,void 0)),this.#d_=(tX(this,C),tX(this,k,void 0)),this.#dy=(tX(this,S),tX(this,M,void 0)),this.#dH=(tX(this,E),tX(this,I,void 0)),tX(this,B)}static{tX(t,u)}})})();var tJ=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},t1=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let t0=(0,s.AH)`
  :host {
    display: block;
    width: 100%;
    height: 100%;
  }

  .outline-panel-container {
    background-color: var(--affine-background-primary-color);
    box-sizing: border-box;

    display: flex;
    flex-direction: column;
    align-items: stretch;

    height: 100%;
    font-family: ${(0,s.iz)(u.$7.fontSansFamily)};
    padding-top: 8px;
    position: relative;
  }

  .outline-panel-body {
    flex-grow: 1;
    width: 100%;

    overflow-y: scroll;
  }
  .outline-panel-body::-webkit-scrollbar {
    width: 4px;
  }
  .outline-panel-body::-webkit-scrollbar-thumb {
    border-radius: 2px;
  }
  .outline-panel-body:hover::-webkit-scrollbar-thumb {
    background-color: var(--affine-black-30);
  }
  .outline-panel-body::-webkit-scrollbar-track {
    background-color: transparent;
  }
  .outline-panel-body::-webkit-scrollbar-corner {
    display: none;
  }
`,t2=(()=>{let e,t,i,r,a,n,l,c=[(0,o.EM)("affine-outline-panel")],d=[],h=(0,$.Jb)((0,v.Tm)(s.WF)),u=[],p=[],f=[],g=[],m=[],y=[],b=[],w=[],x=[],_=[];return class extends h{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;i=[(0,o.wk)()],r=[(0,o.wk)()],a=[(0,o.wk)()],n=[(0,o.MZ)({attribute:!1})],l=[(0,o.MZ)({attribute:!1})],tJ(this,null,i,{kind:"accessor",name:"_enableNotesSorting",static:!1,private:!1,access:{has:e=>"_enableNotesSorting"in e,get:e=>e._enableNotesSorting,set:(e,t)=>{e._enableNotesSorting=t}},metadata:s},u,p),tJ(this,null,r,{kind:"accessor",name:"_noticeVisible",static:!1,private:!1,access:{has:e=>"_noticeVisible"in e,get:e=>e._noticeVisible,set:(e,t)=>{e._noticeVisible=t}},metadata:s},f,g),tJ(this,null,a,{kind:"accessor",name:"_showPreviewIcon",static:!1,private:!1,access:{has:e=>"_showPreviewIcon"in e,get:e=>e._showPreviewIcon,set:(e,t)=>{e._showPreviewIcon=t}},metadata:s},m,y),tJ(this,null,n,{kind:"accessor",name:"editor",static:!1,private:!1,access:{has:e=>"editor"in e,get:e=>e.editor,set:(e,t)=>{e.editor=t}},metadata:s},b,w),tJ(this,null,l,{kind:"accessor",name:"fitPadding",static:!1,private:!1,access:{has:e=>"fitPadding"in e,get:e=>e.fitPadding,set:(e,t)=>{e.fitPadding=t}},metadata:s},x,_),tJ(null,e={value:t},c,{kind:"class",name:t.name,metadata:s},null,d),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.styles=t0}_clearEditorDisposables(){this._editorDisposables?.dispose(),this._editorDisposables=null}_loadSettingsFromLocalStorage(){let e=localStorage.getItem(tM);e&&(this._settings=JSON.parse(e),this._showPreviewIcon=this._settings.showIcons,this._enableNotesSorting=this._settings.enableSorting)}_saveSettingsToLocalStorage(){localStorage.setItem(tM,JSON.stringify(this._settings))}_setEditorDisposables(){this._clearEditorDisposables(),this._editorDisposables=new e7.K,this._editorDisposables.add(this.editor.slots.editorModeSwitched.on(()=>{this.editor.updateComplete.then(()=>{this.requestUpdate()}).catch(console.error)})),this._editorDisposables.add(this.editor.slots.docUpdated.on(()=>{this.editor.updateComplete.then(()=>{this.requestUpdate()}).catch(console.error)}))}_updateAndSaveSettings(e){this._settings={...this._settings,...e},this._saveSettingsToLocalStorage()}connectedCallback(){super.connectedCallback(),this._loadSettingsFromLocalStorage(),this.disposables.add(tj(()=>this.editor,this._activeHeadingId$))}disconnectedCallback(){super.disconnectedCallback(),this._clearEditorDisposables()}render(){if(this.host)return(0,s.qy)`
      <div class="outline-panel-container">
        <affine-outline-panel-header
          .showPreviewIcon=${this._showPreviewIcon}
          .enableNotesSorting=${this._enableNotesSorting}
          .toggleShowPreviewIcon=${this._toggleShowPreviewIcon}
          .toggleNotesSorting=${this._toggleNotesSorting}
        ></affine-outline-panel-header>
        <affine-outline-panel-body
          class="outline-panel-body"
          .doc=${this.doc}
          .fitPadding=${this.fitPadding}
          .edgeless=${this.edgeless}
          .editor=${this.editor}
          .activeHeadingId=${this._activeHeadingId$}
          .mode=${this.mode}
          .showPreviewIcon=${this._showPreviewIcon}
          .enableNotesSorting=${this._enableNotesSorting}
          .toggleNotesSorting=${this._toggleNotesSorting}
          .noticeVisible=${this._noticeVisible}
          .setNoticeVisibility=${this._setNoticeVisibility}
        >
        </affine-outline-panel-body>
        <affine-outline-notice
          .noticeVisible=${this._noticeVisible}
          .toggleNotesSorting=${this._toggleNotesSorting}
          .setNoticeVisibility=${this._setNoticeVisibility}
        ></affine-outline-notice>
      </div>
    `}updated(e){e.has("editor")&&this._setEditorDisposables()}get doc(){return this.editor.doc}get edgeless(){return this.editor.querySelector("affine-edgeless-root")}get host(){return this.editor.host}get mode(){return this.editor.mode}#dZ;get _enableNotesSorting(){return this.#dZ}set _enableNotesSorting(e){this.#dZ=e}#dj;get _noticeVisible(){return this.#dj}set _noticeVisible(e){this.#dj=e}#dV;get _showPreviewIcon(){return this.#dV}set _showPreviewIcon(e){this.#dV=e}#cq;get editor(){return this.#cq}set editor(e){this.#cq=e}#dd;get fitPadding(){return this.#dd}set fitPadding(e){this.#dd=e}constructor(){super(...arguments),this._activeHeadingId$=(0,$.vP)(null),this._editorDisposables=null,this._setNoticeVisibility=e=>{this._noticeVisible=e},this._settings={showIcons:!1,enableSorting:!1},this._toggleNotesSorting=()=>{this._enableNotesSorting=!this._enableNotesSorting,this._updateAndSaveSettings({enableSorting:this._enableNotesSorting})},this._toggleShowPreviewIcon=e=>{this._showPreviewIcon=e,this._updateAndSaveSettings({showIcons:e})},this.#dZ=t1(this,u,!1),this.#dj=(t1(this,p),t1(this,f,!1)),this.#dV=(t1(this,g),t1(this,m,!1)),this.#cq=(t1(this,y),t1(this,b,void 0)),this.#dd=(t1(this,w),t1(this,x,void 0)),t1(this,_)}static{t1(t,d)}},t})();var t5=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},t7=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let t3=(()=>{let e,t,i,n,l,c,d,h,u=[(0,o.EM)("affine-outline-viewer")],p=[],f=(0,$.Jb)((0,v.Tm)(s.WF)),g=[],m=[],b=[],w=[],x=[],_=[],C=[],k=[],S=[],M=[],E=[],I=[];var B=class extends f{static{t=this}static{let s="function"==typeof Symbol&&Symbol.metadata?Object.create(f[Symbol.metadata]??null):void 0;i=[(0,o.wk)()],n=[(0,o.P)(".outline-viewer-indicator.active")],l=[(0,o.P)(".outline-viewer-root")],c=[(0,o.wk)()],d=[(0,o.MZ)({attribute:!1})],h=[(0,o.MZ)({attribute:!1})],t5(this,null,i,{kind:"accessor",name:"_activeHeadingId",static:!1,private:!1,access:{has:e=>"_activeHeadingId"in e,get:e=>e._activeHeadingId,set:(e,t)=>{e._activeHeadingId=t}},metadata:s},g,m),t5(this,null,n,{kind:"accessor",name:"_activeIndicator",static:!1,private:!1,access:{has:e=>"_activeIndicator"in e,get:e=>e._activeIndicator,set:(e,t)=>{e._activeIndicator=t}},metadata:s},b,w),t5(this,null,l,{kind:"accessor",name:"_root",static:!1,private:!1,access:{has:e=>"_root"in e,get:e=>e._root,set:(e,t)=>{e._root=t}},metadata:s},x,_),t5(this,null,c,{kind:"accessor",name:"_showViewer",static:!1,private:!1,access:{has:e=>"_showViewer"in e,get:e=>e._showViewer,set:(e,t)=>{e._showViewer=t}},metadata:s},C,k),t5(this,null,d,{kind:"accessor",name:"editor",static:!1,private:!1,access:{has:e=>"editor"in e,get:e=>e.editor,set:(e,t)=>{e.editor=t}},metadata:s},S,M),t5(this,null,h,{kind:"accessor",name:"toggleOutlinePanel",static:!1,private:!1,access:{has:e=>"toggleOutlinePanel"in e,get:e=>e.toggleOutlinePanel,set:(e,t)=>{e.toggleOutlinePanel=t}},metadata:s},E,I),t5(null,e={value:t},u,{kind:"class",name:t.name,metadata:s},null,p),B=t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}static{this.animationDuration=400}static{this.styles=(0,s.AH)`
    :host {
      display: flex;
    }

    .outline-viewer-root {
      --timing: cubic-bezier(0.2, 1.2, 0.41, 1);
      --duration: ${B.animationDuration}ms;

      position: relative;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 16px;
      max-height: 100%;
      box-sizing: border-box;
      border: 1px solid transparent;
      overflow-y: hidden;

      transition: all var(--duration) var(--timing);
    }

    .outline-viewer-indicator {
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 20px;
      height: 2px;
      border-radius: 1px;
      overflow: hidden;
      background: var(--affine-black-10, rgba(0, 0, 0, 0.1));
      transition:
        all var(--duration) var(--timing),
        background 0.8s var(--timing);
    }

    .outline-viewer-content {
      display: flex;
      transition: all var(--duration) var(--timing);
      width: 184px;
      opacity: 0;
    }

    .outline-viewer-indicator.header {
      background-color: transparent;
    }

    .outline-viewer-indicator.header {
      .outline-viewer-content {
        gap: 4px;
        padding: 6px 8px;

        span {
          flex: 1;
          overflow: hidden;
          color: var(--affine-text-secondary-color, #8e8d91);
          text-overflow: ellipsis;
          text-wrap: nowrap;

          font-family: var(--affine-font-family);
          font-size: 12px;
          font-style: normal;
          font-weight: 500;
          line-height: 20px;
        }
      }
    }

    .outline-viewer-indicator.active {
      width: 24px;
      background: var(--affine-text-primary-color);
    }

    .outline-viewer-root:hover {
      gap: 0px;
      padding: 8px 4px 8px 8px;
      background: var(--affine-background-overlay-panel-color);
      border-radius: 8px;
      border-color: var(--affine-border-color);
      box-shadow: 0px 6px 16px 0px rgba(0, 0, 0, 0.14);
      overflow-y: auto;

      transition:
        all var(--duration) var(--timing),
        max-height 0.1s ease;

      .outline-viewer-indicator {
        background: transparent;
        width: 180px;
        height: 30px;
        transition:
          all var(--duration) var(--timing),
          background 0.2s var(--timing);
      }

      .outline-viewer-content {
        opacity: 1;
      }
    }

    ${(0,y.kMM)(".outline-viewer-root:hover")}
  `}async _scrollToBlock(e){this._lockIndicatorsScroll=!0,this._unlockIndicatorsScrollTimeout&&clearTimeout(this._unlockIndicatorsScrollTimeout),this._unlockIndicatorsScrollTimeout=setTimeout(()=>{this._lockIndicatorsScroll=!1},1e3),this._clearHighlightMask=await tF(this.editor,e)}_toggleOutlinePanel(){this.toggleOutlinePanel&&(this._showViewer=!1,this.toggleOutlinePanel())}connectedCallback(){super.connectedCallback(),this.disposables.add(tj(()=>this.editor,this._activeHeadingId$)),this.disposables.add((0,$.QZ)(()=>{this._activeHeadingId=this._activeHeadingId$.value}))}disconnectedCallback(){super.disconnectedCallback(),this._clearHighlightMask(),this._unlockIndicatorsScrollTimeout&&clearTimeout(this._unlockIndicatorsScrollTimeout)}render(){if(!this.editor||!this.editor.doc.root||"edgeless"===this.editor.mode)return s.s6;let e=tB(this.editor.doc,[y.ko3.DocAndEdgeless,y.ko3.DocOnly],!0);if(0===e.length)return s.s6;let t=[...this.editor.doc.meta?.title!==""?[this.editor.doc.root]:[],...e],i=()=>{setTimeout(this._scrollIndicator,B.animationDuration)};return(0,s.qy)`<div
      class="outline-viewer-root"
      @mouseenter=${i}
      @mouseleave=${i}
    >
      <div class="outline-viewer-indicator header">
        <div class="outline-viewer-content">
          <span>Table of Contents</span>
          <edgeless-tool-icon-button
            .tooltip=${"Open in sidebar"}
            .tipPosition=${"top-end"}
            .activeMode=${"background"}
            @click=${this._toggleOutlinePanel}
          >
            ${eG}
          </edgeless-tool-icon-button>
        </div>
      </div>
      ${(0,a.u)(t,e=>e.id,e=>{let t=this._activeHeadingId===e.id;return(0,s.qy)`<div
            class=${(0,r.H)({"outline-viewer-indicator":!0,active:t})}
          >
            <div class="outline-viewer-content">
              <affine-outline-block-preview
                class=${(0,r.H)({active:t})}
                .block=${e}
                @click=${()=>{this._scrollToBlock(e.id).catch(console.error)}}
              >
              </affine-outline-block-preview>
            </div>
          </div>`})}
    </div>`}updated(e){e.has("_activeHeadingId")&&this._scrollIndicator()}#dR;get _activeHeadingId(){return this.#dR}set _activeHeadingId(e){this.#dR=e}#dz;get _activeIndicator(){return this.#dz}set _activeIndicator(e){this.#dz=e}#dF;get _root(){return this.#dF}set _root(e){this.#dF=e}#dN;get _showViewer(){return this.#dN}set _showViewer(e){this.#dN=e}#cq;get editor(){return this.#cq}set editor(e){this.#cq=e}#dq;get toggleOutlinePanel(){return this.#dq}set toggleOutlinePanel(e){this.#dq=e}constructor(){super(...arguments),this._activeHeadingId$=(0,$.vP)(null),this._clearHighlightMask=()=>{},this._lockIndicatorsScroll=!1,this._scrollIndicator=()=>{if(this._lockIndicatorsScroll||!this._root)return;if(!this._activeIndicator){this._root.scrollTop=0;return}let{top:e,bottom:t}=this._activeIndicator.getBoundingClientRect(),{top:i,bottom:s}=this._root.getBoundingClientRect();e<i?this._root.scrollTop-=i-e+5:t>s&&(this._root.scrollTop+=t-s+5)},this._unlockIndicatorsScrollTimeout=null,this.#dR=t7(this,g,null),this.#dz=(t7(this,m),t7(this,b,null)),this.#dF=(t7(this,w),t7(this,x,null)),this.#dN=(t7(this,_),t7(this,C,!1)),this.#cq=(t7(this,k),t7(this,S,void 0)),this.#dq=(t7(this,M),t7(this,E,null)),t7(this,I)}static{t7(t,p)}};return B=t})();i(77955);let t4="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t6="__ $BLOCKSUITE_EDITOR$ __";if(!0===t4[t6]&&console.error("@blocksuite/presets was already imported. This breaks constructor checks and will lead to issues!"),"undefined"==typeof window)throw Error("Seems like you are importing @blocksuite/presets in SSR mode. Which is not supported for now.");t4[t6]=!0},73711:(e,t,i)=>{i.d(t,{PV:()=>m,Dy:()=>g,S4:()=>tB,zg:()=>U,T1:()=>tP,lv:()=>o,J5:()=>k,JA:()=>eF,rl:()=>tE,gE:()=>tD,jH:()=>n,_O:()=>tZ,Sj:()=>eY,Ji:()=>tO,DX:()=>H.D,EY:()=>M,O6:()=>A,A9:()=>F,yf:()=>h,rS:()=>tI,wm:()=>u,Ak:()=>t_,uS:()=>t$});var s,o,r,a,n,l=i(68419),c=i(73134);let d=new Map([["application/epub+zip","epub"],["application/gzip","gz"],["application/java-archive","jar"],["application/json","json"],["application/ld+json","jsonld"],["application/msword","doc"],["application/octet-stream","bin"],["application/ogg","ogx"],["application/pdf","pdf"],["application/rtf","rtf"],["application/vnd.amazon.ebook","azw"],["application/vnd.apple.installer+xml","mpkg"],["application/vnd.mozilla.xul+xml","xul"],["application/vnd.ms-excel","xls"],["application/vnd.ms-fontobject","eot"],["application/vnd.ms-powerpoint","ppt"],["application/vnd.oasis.opendocument.presentation","odp"],["application/vnd.oasis.opendocument.spreadsheet","ods"],["application/vnd.oasis.opendocument.text","odt"],["application/vnd.openxmlformats-officedocument.presentationml.presentation","pptx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","xlsx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.document","docx"],["application/vnd.rar","rar"],["application/vnd.visio","vsd"],["application/x-7z-compressed","7z"],["application/x-abiword","abw"],["application/x-bzip","bz"],["application/x-bzip2","bz2"],["application/x-cdf","cda"],["application/x-csh","csh"],["application/x-freearc","arc"],["application/x-httpd-php","php"],["application/x-sh","sh"],["application/x-tar","tar"],["application/xhtml+xml","xhtml"],["application/xml","xml"],["application/zip","zip"],["application/zstd","zst"],["audio/3gpp","3gp"],["audio/3gpp2","3g2"],["audio/aac","aac"],["audio/midi","mid"],["audio/mpeg","mp3"],["audio/ogg","oga"],["audio/opus","opus"],["audio/wav","wav"],["audio/webm","weba"],["audio/x-midi","midi"],["font/otf","otf"],["font/ttf","ttf"],["font/woff","woff"],["font/woff2","woff2"],["image/apng","apng"],["image/avif","avif"],["image/bmp","bmp"],["image/gif","gif"],["image/jpeg","jpeg"],["image/png","png"],["image/svg+xml","svg"],["image/tiff","tiff"],["image/vnd.microsoft.icon","ico"],["image/webp","webp"],["text/calendar","ics"],["text/css","css"],["text/csv","csv"],["text/html","html"],["text/javascript","js"],["text/plain","txt"],["text/xml","xml"],["video/3gpp","3gp"],["video/3gpp2","3g2"],["video/mp2t","ts"],["video/mp4","mp4"],["video/mpeg","mpeg"],["video/ogg","ogv"],["video/webm","webm"],["video/x-msvideo","avi"]]),h=new Map(Array.from(d.entries()).map(([e,t])=>[t,e]));function u(e,t){var i;let s=e.get(t);if(!s)throw new l.Ss(c.O.TransformerError,`blob not found for blobId: ${t}`);let o=s.name??void 0,r=void 0!==o&&o.includes(".")?o.split(".").at(-1):""===(i=s.type)?"blob":d.get(i)||(i.split("/").at(-1)??"blob");return`${o?.split(".").at(0)??t}.${r}`}var p=i(71006);class f{constructor(){this._defaultProp="children",this._globalContext=Object.create(null),this._skip=!1,this._skipChildrenNum=0,this._stack=[],this.setDefaultProp=e=>{this._defaultProp=e}}current(){return this._stack[this._stack.length-1]}closeNode(){let e=this._stack.pop();if(!e)return this;let t=this._stack.pop();return t?(t.node[e.prop]instanceof Array&&t.node[e.prop].push(e.node),this._stack.push(t)):this._stack.push(e),this}currentNode(){return this.current()?.node}getGlobalContext(e){return this._globalContext[e]}getGlobalContextStack(e){let t=this._globalContext[e];return t instanceof Array?t:[]}getNodeContext(e){return this.current().context[e]}getPreviousNodeContext(e){return this._stack[this._stack.length-2]?.context[e]}openNode(e,t){return this._stack.push({node:e,prop:t??this._defaultProp,context:Object.create(null)}),this}previousNode(){return this._stack[this._stack.length-2]?.node}pushGlobalContextStack(e,t){let i=this._globalContext[e];i instanceof Array?i.push(t):this._globalContext[e]=[t]}setGlobalContext(e,t){return this._globalContext[e]=t,this}setGlobalContextStack(e,t){this._globalContext[e]=t}setNodeContext(e,t){return this._stack[this._stack.length-1].context[e]=t,this}skipAllChildren(){this._skip=!0}skipChildren(e=1){this._skipChildrenNum=e}get stack(){return this._stack}}class g{constructor(e){this.job=e}async fromBlock(e){try{let t=await this.job.blockToSnapshot(e);if(!t)return;return await this.fromBlockSnapshot({snapshot:t,assets:this.job.assetsManager})}catch(e){console.error("Cannot convert block to snapshot"),console.error(e);return}}async fromDoc(e){try{let t=await this.job.docToSnapshot(e);if(!t)return;return await this.fromDocSnapshot({snapshot:t,assets:this.job.assetsManager})}catch(e){console.error("Cannot convert doc to snapshot"),console.error(e);return}}async fromSlice(e){try{let t=await this.job.sliceToSnapshot(e);if(!t)return;return await this.fromSliceSnapshot({snapshot:t,assets:this.job.assetsManager})}catch(e){console.error("Cannot convert slice to snapshot"),console.error(e);return}}async toBlock(e,t,i,s){try{let o=await this.toBlockSnapshot(e);if(!o)return;return await this.job.snapshotToBlock(o,t,i,s)}catch(e){console.error("Cannot convert block snapshot to block"),console.error(e);return}}async toDoc(e){try{let t=await this.toDocSnapshot(e);if(!t)return;return await this.job.snapshotToDoc(t)}catch(e){console.error("Cannot convert doc snapshot to doc"),console.error(e);return}}async toSlice(e,t,i,s){try{let o=await this.toSliceSnapshot(e);if(!o)return;return await this.job.snapshotToSlice(o,t,i,s)}catch(e){console.error("Cannot convert slice snapshot to slice"),console.error(e);return}}get configs(){return this.job.adapterConfigs}}class m{constructor(){this._visit=async e=>{if(e.node&&(this.context._skipChildrenNum=0,this.context._skip=!1,this._enter&&await this._enter(e,this.context),!this.context._skip)){for(let t in e.node){let i=e.node[t];if(i&&"object"==typeof i){if(Array.isArray(i))for(let s=this.context._skipChildrenNum;s<i.length;s+=1){let o=i[s];if(null!==o&&"object"==typeof o&&this._isONode(o)){let r=i[s+1]??null;await this._visit({node:o,next:r,parent:e,prop:t,index:s})}}else 0===this.context._skipChildrenNum&&this._isONode(i)&&await this._visit({node:i,next:null,parent:e,prop:t,index:null})}}this._leave&&await this._leave(e,this.context)}},this.setEnter=e=>{this._enter=e},this.setLeave=e=>{this._leave=e},this.setONodeTypeGuard=e=>{this._isONode=e},this.walk=async(e,t)=>(this.context.openNode(t),await this._visit({node:e,parent:null,prop:null,index:null}),(0,p.U2)(this.context.stack.length,1,"There are unclosed nodes"),this.context.currentNode()),this.walkONode=async e=>{await this._visit({node:e,parent:null,prop:null,index:null})},this.context=new f}}let v=[{desc:"add pageVersion in meta",condition:e=>2>e.getMap("meta").get("workspaceVersion"),migrate:e=>{let t=e.getMap("meta");t.set("pageVersion",1),t.set("workspaceVersion",2)}}];var y=i(16820);let b=[{desc:"frame element --> frame block (doc v1 --> v2)",condition:e=>e<2,migrate:(e,t)=>{let i,s;let o=t.getMap("blocks");o.forEach(e=>{let t=e.get("sys:flavour");"affine:page"===t&&(i=e),"affine:surface"===t&&(s=e)}),(0,p.Z1)(i),(0,p.Z1)(s);let r=s.get("prop:elements").get("value");r.forEach(e=>{if("frame"===e.get("type")){let t=new y.Map,s=e.get("id");t.set("sys:flavour","affine:frame"),t.set("sys:id",s),t.set("sys:children",new y.Array),t.set("prop:title",e.get("title").clone()),t.set("prop:xywh",e.get("xywh")),t.set("prop:index",e.get("index")),o.set(s,t),i.get("sys:children").push([s]),r.delete(s)}})}}],w="Schema not found. The block flavour may not be registered.",x="$blocksuite:internal:text$",_="$blocksuite:internal:native$",C=new Set(["id","flavour","children"]);class k{static{this.from=(e,t)=>new k(e.get("value"),t)}static{this.is=e=>e instanceof y.Map&&e.get("type")===_}constructor(e,t){this.getValue=()=>this._map.get("value"),this.setValue=e=>this._map.set("value",e),this._onChange=t,e instanceof y.Map&&e.get("type")===_?this._map=e:(this._map=new y.Map,this._map.set("type",_),this._map.set("value",e)),this._map.observeDeep(()=>{this._onChange?.(this.getValue())})}bind(e){this._onChange=e}get yMap(){return this._map}}var S=i(65282);class M{constructor(e,t){this._onChange=t;let i=0;if("string"==typeof e){let t=e.replaceAll("\r\n","\n");i=t.length,this._yText=new y.Text(t)}else if(e instanceof y.Text)this._yText=e,i=e.length;else if(e instanceof Array){for(let t of e)t.insert&&(t.insert=t.insert.replaceAll("\r\n","\n"),i+=t.insert.length);let t=new y.Text;t.applyDelta(e),this._yText=t}else this._yText=new y.Text;this._length$=(0,S.vP)(i),this._yText.observe(()=>{this._length$.value=this._yText.length,this._onChange?.(this._yText)})}static fromDelta(e,t){let i=new y.Text;return i.applyDelta(e),new M(i,t)}_transact(e){let t=this._yText.doc;if(!t)throw new l.Ss(c.O.ReactiveProxyError,"Failed to transact text! yText is not attached to a doc");t.transact(()=>{e()},t.clientID)}applyDelta(e){this._transact(()=>{this._yText?.applyDelta(e)})}bind(e){this._onChange=e}clear(){this._yText.length&&this._transact(()=>{this._yText.delete(0,this._yText.length)})}clone(){return new M(this._yText.clone(),this._onChange)}delete(e,t){if(0!==t){if(e<0||t<0||e+t>this._yText.length)throw new l.Ss(c.O.ReactiveProxyError,"Failed to delete text! Index or length out of range, index: "+e+", length: "+t+", text length: "+this._yText.length);this._transact(()=>{this._yText.delete(e,t)})}}format(e,t,i){if(0!==t){if(e<0||t<0||e+t>this._yText.length)throw new l.Ss(c.O.ReactiveProxyError,"Failed to format text! Index or length out of range, index: "+e+", length: "+t+", text length: "+this._yText.length);this._transact(()=>{this._yText.format(e,t,i)})}}insert(e,t,i){if(e.length){if(t<0||t>this._yText.length)throw new l.Ss(c.O.ReactiveProxyError,"Failed to insert text! Index or length out of range, index: "+t+", length: "+length+", text length: "+this._yText.length);this._transact(()=>{this._yText.insert(t,e,i)})}}join(e){e&&e.toDelta().length&&this._transact(()=>{let t=e._yText.toDelta();t.unshift({retain:this._yText.length}),this._yText.applyDelta(t)})}replace(e,t,i,s){if(e<0||t<0||e+t>this._yText.length)throw new l.Ss(c.O.ReactiveProxyError,"Failed to replace text! The length of the text is"+this._yText.length+", but you are trying to replace from"+e+"to"+e+t);this._transact(()=>{this._yText.delete(e,t),this._yText.insert(e,i,s)})}sliceToDelta(e,t){let i=[];if(t&&e>=t)return i;if(0===e&&0===t)return[];let s=this.toDelta();if(e<1&&!t)return s;if(s&&s instanceof Array){let o=0;for(let r=0;r<s.length;r++){let a=s[r],n=a.insert||"",l=n.length,c=t&&o+l>t,d=o+l>e&&0===i.length;if(d&&c){n=n.slice(e-o,t-o),i.push({...a,insert:n});break}if(d||c?(n=c?n.slice(0,t-o):n.slice(e-o),i.push({...a,insert:n})):i.length>0&&i.push(a),t&&o+l>t)break;o+=l}}return i}split(e,t=0){if(e<0||t<0||e+t>this._yText.length)throw new l.Ss(c.O.ReactiveProxyError,"Failed to split text! Index or length out of range, index: "+e+", length: "+t+", text length: "+this._yText.length);let i=this._yText.toDelta();if(!(i instanceof Array))throw new l.Ss(c.O.ReactiveProxyError,"This text cannot be split because we failed to get the deltas of it.");let s=0,o=[];for(let r=0;r<i.length;r++){let a=i[r].insert;if("string"==typeof a){if(s+a.length>=e+t){let n=a.slice(e+t-s);o.push({insert:n,attributes:i[r].attributes}),o.push(...i.slice(r+1));break}s+=a.length}else throw new l.Ss(c.O.ReactiveProxyError,"This text cannot be split because it contains non-string insert.")}this.delete(e,this.length-e);let r=new y.Text;return r.applyDelta(o),new M(r,this._onChange)}toDelta(){return this._yText?.toDelta()||[]}toString(){return this._yText?.toString()||""}get length(){return this._length$.value}get yText(){return this._yText}}function E(e){return null!==e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&[Object,void 0,null].some(t=>t===e.constructor)}function I(e,{deep:t=!0,transform:i=e=>e}={}){if(e instanceof k)return e.yMap;if(e instanceof M)return e.yText.doc?e.yText.clone():e.yText;if(Array.isArray(e)){let s=new y.Array,o=e.map(e=>t?I(e,{deep:t,transform:i}):e);return s.insert(0,o),s}if(E(e)){let s=new y.Map;return Object.entries(e).forEach(([e,o])=>{s.set(e,t?I(o,{deep:t,transform:i}):o)}),s}return e}function B(e,{deep:t=!0,transform:i=e=>e}={}){if(k.is(e))return i(new k(e),e);if(e instanceof y.Text)return i(new M(e),e);if(e instanceof y.Array){let s=e.toArray().map(e=>t?B(e,{deep:t,transform:i}):e);return i(s,e)}if(e instanceof y.Map){let s=Object.fromEntries(Array.from(e.entries()).map(([e,s])=>[e,t?B(s,{deep:t,transform:i}):s]));return i(s,e)}return i(e,e)}class ${constructor(){this._getOrigin=e=>({doc:e,proxy:!0,target:this}),this._onObserve=(e,t)=>{e.transaction.origin?.proxy!==!0&&(!e.transaction.local||e.transaction.origin instanceof y.UndoManager)&&t(),this._options.onChange?.(this._proxy)},this._skipNext=!1,this._stashed=new Set,this._transact=(e,t)=>{e.transact(t,this._getOrigin(e))},this._updateWithSkip=e=>{this._skipNext=!0,e(),this._skipNext=!1}}get proxy(){return this._proxy}}let T=new WeakMap;class O extends ${constructor(e,t,i){super(),this._source=e,this._ySource=t,this._options=i,this._getProxy=()=>new Proxy(this._source,{has:(e,t)=>Reflect.has(e,t),set:(e,t,i,s)=>{if("string"!=typeof t)throw new l.Ss(c.O.ReactiveProxyError,"key cannot be a symbol");let o=Number(t);if(this._skipNext||Number.isNaN(o))return Reflect.set(e,t,i,s);if(this._stashed.has(o)){let o=Reflect.set(e,t,i,s);return this._options.onChange?.(this._proxy),o}if(!T.get(this._ySource))throw new l.Ss(c.O.ReactiveProxyError,"YData is not subscribed before changes");let r=this._ySource.doc;if(!r)throw new l.Ss(c.O.ReactiveProxyError,"YData is not bound to a Y.Doc");let a=I(i);return this._transact(r,()=>{o<this._ySource.length&&this._ySource.delete(o,1),this._ySource.insert(o,[a])}),Reflect.set(e,t,A(a,this._options),s)},get:(e,t,i)=>Reflect.get(e,t,i),deleteProperty:(e,t)=>{if("string"!=typeof t)throw new l.Ss(c.O.ReactiveProxyError,"key cannot be a symbol");if(!T.get(this._ySource))throw new l.Ss(c.O.ReactiveProxyError,"YData is not subscribed before changes");let i=this._ySource.doc;if(!i)throw new l.Ss(c.O.ReactiveProxyError,"YData is not bound to a Y.Doc");let s=Number(t);return this._skipNext||Number.isNaN(s)||this._transact(i,()=>{this._ySource.delete(s,1)}),Reflect.deleteProperty(e,t)}}),this._observer=e=>{this._onObserve(e,()=>{let t=0;e.changes.delta.forEach(e=>{if(e.retain){t+=e.retain;return}if(e.delete){this._updateWithSkip(()=>{this._source.splice(t,e.delete)});return}if(e.insert){let i=[e.insert].flat().map(e=>A(e));this._updateWithSkip(()=>{this._source.splice(t,0,...i)}),t+=e.insert.length}})})},this._proxy=this._getProxy(),T.set(t,this),t.observe(this._observer)}pop(e){let t=this._source[e];this._stashed.delete(e),this._proxy[e]=t}stash(e){this._stashed.add(e)}}class P extends ${constructor(e,t,i){super(),this._source=e,this._ySource=t,this._options=i,this._getProxy=()=>new Proxy(this._source,{has:(e,t)=>Reflect.has(e,t),set:(e,t,i,s)=>{if("string"!=typeof t)throw new l.Ss(c.O.ReactiveProxyError,"key cannot be a symbol");if(this._skipNext)return Reflect.set(e,t,i,s);if(this._stashed.has(t)){let o=Reflect.set(e,t,i,s);return this._options.onChange?.(this._proxy),o}if(!T.get(this._ySource))throw new l.Ss(c.O.ReactiveProxyError,"YData is not subscribed before changes");let o=this._ySource.doc;if(!o)throw new l.Ss(c.O.ReactiveProxyError,"YData is not bound to a Y.Doc");let r=I(i);return this._transact(o,()=>{this._ySource.set(t,r)}),Reflect.set(e,t,A(r,this._options),s)},get:(e,t,i)=>Reflect.get(e,t,i),deleteProperty:(e,t)=>{if("string"!=typeof t)throw new l.Ss(c.O.ReactiveProxyError,"key cannot be a symbol");if(this._skipNext)return Reflect.deleteProperty(e,t);if(!T.get(this._ySource))throw new l.Ss(c.O.ReactiveProxyError,"YData is not subscribed before changes");let i=this._ySource.doc;if(!i)throw new l.Ss(c.O.ReactiveProxyError,"YData is not bound to a Y.Doc");return this._transact(i,()=>{this._ySource.delete(t)}),Reflect.deleteProperty(e,t)}}),this._observer=e=>{this._onObserve(e,()=>{e.keysChanged.forEach(t=>{let i=e.changes.keys.get(t);if(i){if("delete"===i.action)this._updateWithSkip(()=>{delete this._source[t]});else if("add"===i.action||"update"===i.action){let e=this._ySource.get(t);this._updateWithSkip(()=>{this._source[t]=T.has(e)?T.get(e):A(e,this._options)})}}})})},this._proxy=this._getProxy(),T.set(t,this),t.observe(this._observer)}pop(e){let t=this._source[e];this._stashed.delete(e),this._proxy[e]=t}stash(e){this._stashed.add(e)}}function A(e,t={}){return T.has(e)?T.get(e).proxy:B(e,{transform:(e,i)=>e instanceof M||k.is(i)?(e.bind(t.onChange),e):i instanceof y.Array?new O(e,i,t).proxy:i instanceof y.Map?new P(e,i,t).proxy:e})}var H=i(50620),L=i(67448);let D=L.z.string(),Z=L.z.array(L.z.string()).optional(),j=L.z.array(L.z.string()).optional(),V=L.z.enum(["root","hub","content"]),R=Object.freeze({Text:(e="")=>new M(e),Boxed:e=>new k(e)}),z=L.z.object({version:L.z.number(),model:L.z.object({role:V,flavour:D,parent:Z,children:j,props:L.z.function().args(L.z.custom()).returns(L.z.record(L.z.any())).optional(),toModel:L.z.function().args().returns(L.z.custom()).optional()}),transformer:L.z.function().args().returns(L.z.custom()).optional(),onUpgrade:L.z.function().args(L.z.any(),L.z.number(),L.z.number()).returns(L.z.void()).optional()});function F({flavour:e,props:t,metadata:i,onUpgrade:s,toModel:o,transformer:r}){let a={version:i.version,model:{role:i.role,parent:i.parent,children:i.children,flavour:e,props:t,toModel:o},onUpgrade:s,transformer:r};return z.parse(a),a}function N(){return class{}}let q=Symbol("model_label");class U extends N(){constructor(){super(),this._childModels=(0,S.EW)(()=>{let e=[];return this._children.value.map(t=>{let i=this.page.getBlock$(t);i&&e.push(i.model)}),e}),this._children=(0,S.vP)([]),this.childMap=(0,S.EW)(()=>this._children.value.reduce((e,t,i)=>(e.set(t,i),e),new Map)),this.created=new H.D,this.deleted=new H.D,this.isEmpty=(0,S.EW)(()=>0===this._children.value.length),this[s]="type_info_label",this.propsUpdated=new H.D,this._onCreated=this.created.once(()=>{this._children.value=this.yBlock.get("sys:children").toArray(),this.yBlock.get("sys:children").observe(e=>{this._children.value=e.target.toArray()}),this.yBlock.observe(e=>{e.keysChanged.has("sys:children")&&(this._children.value=this.yBlock.get("sys:children").toArray())})}),this._onDeleted=this.deleted.once(()=>{this._onCreated.dispose()})}[(s=q,Symbol.dispose)](){this._onCreated.dispose(),this._onDeleted.dispose()}dispose(){this.created.dispose(),this.deleted.dispose(),this.propsUpdated.dispose()}firstChild(){return this.children[0]||null}lastChild(){return this.children.length?this.children[this.children.length-1].lastChild():this}get children(){return this._childModels.value}get doc(){return this.page}set doc(e){this.page=e}}var W=i(56278);let G=e=>{if("string"!=typeof e)throw TypeError("invalid pattern");if(e.length>65536)throw TypeError("pattern is too long")},Y={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},K=e=>e.replace(/[[\]\\-]/g,"\\$&"),X=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Q=e=>e.join(""),J=(e,t)=>{if("["!==e.charAt(t))throw Error("not in a brace expression");let i=[],s=[],o=t+1,r=!1,a=!1,n=!1,l=!1,c=t,d="";e:for(;o<e.length;){let h=e.charAt(o);if(("!"===h||"^"===h)&&o===t+1){l=!0,o++;continue}if("]"===h&&r&&!n){c=o+1;break}if(r=!0,"\\"===h&&!n){n=!0,o++;continue}if("["===h&&!n){for(let[r,[n,l,c]]of Object.entries(Y))if(e.startsWith(r,o)){if(d)return["$.",!1,e.length-t,!0];o+=r.length,c?s.push(n):i.push(n),a=a||l;continue e}}if(n=!1,d){h>d?i.push(K(d)+"-"+K(h)):h===d&&i.push(K(h)),d="",o++;continue}if(e.startsWith("-]",o+1)){i.push(K(h+"-")),o+=2;continue}if(e.startsWith("-",o+1)){d=h,o+=2;continue}i.push(K(h)),o++}if(c<o)return["",!1,0,!1];if(!i.length&&!s.length)return["$.",!1,e.length-t,!0];if(0===s.length&&1===i.length&&/^\\?.$/.test(i[0])&&!l)return[X(2===i[0].length?i[0].slice(-1):i[0]),!1,c-t,!1];let h="["+(l?"^":"")+Q(i)+"]",u="["+(l?"":"^")+Q(s)+"]";return[i.length&&s.length?"("+h+"|"+u+")":i.length?h:u,a,c-t,!0]},ee=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),et=new Set(["!","?","+","*","@"]),ei=e=>et.has(e),es="(?!\\.)",eo=new Set(["[","."]),er=new Set(["..","."]),ea=new Set("().*{}+?[]^$\\!"),en=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),el="[^/]",ec=el+"*?",ed=el+"+?";class eh{type;#S;#M;#E=!1;#I=[];#B;#$;#T;#O=!1;#P;#A;#H=!1;constructor(e,t,i={}){this.type=e,e&&(this.#M=!0),this.#B=t,this.#S=this.#B?this.#B.#S:this,this.#P=this.#S===this?i:this.#S.#P,this.#T=this.#S===this?[]:this.#S.#T,"!"!==e||this.#S.#O||this.#T.push(this),this.#$=this.#B?this.#B.#I.length:0}get hasMagic(){if(void 0!==this.#M)return this.#M;for(let e of this.#I)if("string"!=typeof e&&(e.type||e.hasMagic))return this.#M=!0;return this.#M}toString(){return void 0!==this.#A?this.#A:this.type?this.#A=this.type+"("+this.#I.map(e=>String(e)).join("|")+")":this.#A=this.#I.map(e=>String(e)).join("")}#L(){let e;if(this!==this.#S)throw Error("should only call on root");if(this.#O)return this;for(this.toString(),this.#O=!0;e=this.#T.pop();){if("!"!==e.type)continue;let t=e,i=t.#B;for(;i;){for(let s=t.#$+1;!i.type&&s<i.#I.length;s++)for(let t of e.#I){if("string"==typeof t)throw Error("string part in extglob AST??");t.copyIn(i.#I[s])}i=(t=i).#B}}return this}push(...e){for(let t of e)if(""!==t){if("string"!=typeof t&&!(t instanceof eh&&t.#B===this))throw Error("invalid part: "+t);this.#I.push(t)}}toJSON(){let e=null===this.type?this.#I.slice().map(e=>"string"==typeof e?e:e.toJSON()):[this.type,...this.#I.map(e=>e.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#S||this.#S.#O&&this.#B?.type==="!")&&e.push({}),e}isStart(){if(this.#S===this)return!0;if(!this.#B?.isStart())return!1;if(0===this.#$)return!0;let e=this.#B;for(let t=0;t<this.#$;t++){let i=e.#I[t];if(!(i instanceof eh&&"!"===i.type))return!1}return!0}isEnd(){if(this.#S===this||this.#B?.type==="!")return!0;if(!this.#B?.isEnd())return!1;if(!this.type)return this.#B?.isEnd();let e=this.#B?this.#B.#I.length:0;return this.#$===e-1}copyIn(e){"string"==typeof e?this.push(e):this.push(e.clone(this))}clone(e){let t=new eh(this.type,e);for(let e of this.#I)t.copyIn(e);return t}static #D(e,t,i,s){let o=!1,r=!1,a=-1,n=!1;if(null===t.type){let l=i,c="";for(;l<e.length;){let i=e.charAt(l++);if(o||"\\"===i){o=!o,c+=i;continue}if(r){l===a+1?("^"===i||"!"===i)&&(n=!0):"]"!==i||l===a+2&&n||(r=!1),c+=i;continue}if("["===i){r=!0,a=l,n=!1,c+=i;continue}if(!s.noext&&ei(i)&&"("===e.charAt(l)){t.push(c),c="";let o=new eh(i,t);l=eh.#D(e,o,l,s),t.push(o);continue}c+=i}return t.push(c),l}let l=i+1,c=new eh(null,t),d=[],h="";for(;l<e.length;){let i=e.charAt(l++);if(o||"\\"===i){o=!o,h+=i;continue}if(r){l===a+1?("^"===i||"!"===i)&&(n=!0):"]"!==i||l===a+2&&n||(r=!1),h+=i;continue}if("["===i){r=!0,a=l,n=!1,h+=i;continue}if(ei(i)&&"("===e.charAt(l)){c.push(h),h="";let t=new eh(i,c);c.push(t),l=eh.#D(e,t,l,s);continue}if("|"===i){c.push(h),h="",d.push(c),c=new eh(null,t);continue}if(")"===i)return""===h&&0===t.#I.length&&(t.#H=!0),c.push(h),h="",t.push(...d,c),l;h+=i}return t.type=null,t.#M=void 0,t.#I=[e.substring(i-1)],l}static fromGlob(e,t={}){let i=new eh(null,void 0,t);return eh.#D(e,i,0,t),i}toMMPattern(){if(this!==this.#S)return this.#S.toMMPattern();let e=this.toString(),[t,i,s,o]=this.toRegExpSource();return s||this.#M||this.#P.nocase&&!this.#P.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()?Object.assign(RegExp(`^${t}$`,(this.#P.nocase?"i":"")+(o?"u":"")),{_src:t,_glob:e}):i}get options(){return this.#P}toRegExpSource(e){let t=e??!!this.#P.dot;if(this.#S===this&&this.#L(),!this.type){let i=this.isStart()&&this.isEnd(),s=this.#I.map(t=>{let[s,o,r,a]="string"==typeof t?eh.#Z(t,this.#M,i):t.toRegExpSource(e);return this.#M=this.#M||r,this.#E=this.#E||a,s}).join(""),o="";if(this.isStart()&&"string"==typeof this.#I[0]&&!(1===this.#I.length&&er.has(this.#I[0]))){let i=t&&eo.has(s.charAt(0))||s.startsWith("\\.")&&eo.has(s.charAt(2))||s.startsWith("\\.\\.")&&eo.has(s.charAt(4)),r=!t&&!e&&eo.has(s.charAt(0));o=i?"(?!(?:^|/)\\.\\.?(?:$|/))":r?es:""}let r="";return this.isEnd()&&this.#S.#O&&this.#B?.type==="!"&&(r="(?:$|\\/)"),[o+s+r,ee(s),this.#M=!!this.#M,this.#E]}let i="*"===this.type||"+"===this.type,s="!"===this.type?"(?:(?!(?:":"(?:",o=this.#j(t);if(this.isStart()&&this.isEnd()&&!o&&"!"!==this.type){let e=this.toString();return this.#I=[e],this.type=null,this.#M=void 0,[e,ee(this.toString()),!1,!1]}let r=!i||e||t||!es?"":this.#j(!0);return r===o&&(r=""),r&&(o=`(?:${o})(?:${r})*?`),["!"===this.type&&this.#H?(this.isStart()&&!t?es:"")+ed:s+o+("!"===this.type?"))"+(!this.isStart()||t||e?"":es)+ec+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&r?")":"*"===this.type&&r?")?":`)${this.type}`),ee(o),this.#M=!!this.#M,this.#E]}#j(e){return this.#I.map(t=>{if("string"==typeof t)throw Error("string type in extglob ast??");let[i,s,o,r]=t.toRegExpSource(e);return this.#E=this.#E||r,i}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static #Z(e,t,i=!1){let s=!1,o="",r=!1;for(let a=0;a<e.length;a++){let n=e.charAt(a);if(s){s=!1,o+=(ea.has(n)?"\\":"")+n;continue}if("\\"===n){a===e.length-1?o+="\\\\":s=!0;continue}if("["===n){let[i,s,n,l]=J(e,a);if(n){o+=i,r=r||s,a+=n-1,t=t||l;continue}}if("*"===n){i&&"*"===e?o+=ed:o+=ec,t=!0;continue}if("?"===n){o+=el,t=!0;continue}o+=en(n)}return[o,ee(e),!!t,r]}}let eu=(e,t,i={})=>(G(t),(!!i.nocomment||"#"!==t.charAt(0))&&new eR(t,i).match(e)),ep=/^\*+([^+@!?\*\[\(]*)$/,ef=e=>t=>!t.startsWith(".")&&t.endsWith(e),eg=e=>t=>t.endsWith(e),em=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),ev=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),ey=/^\*+\.\*+$/,eb=e=>!e.startsWith(".")&&e.includes("."),ew=e=>"."!==e&&".."!==e&&e.includes("."),ex=/^\.\*+$/,e_=e=>"."!==e&&".."!==e&&e.startsWith("."),eC=/^\*+$/,ek=e=>0!==e.length&&!e.startsWith("."),eS=e=>0!==e.length&&"."!==e&&".."!==e,eM=/^\?+([^+@!?\*\[\(]*)?$/,eE=([e,t=""])=>{let i=eT([e]);return t?(t=t.toLowerCase(),e=>i(e)&&e.toLowerCase().endsWith(t)):i},eI=([e,t=""])=>{let i=eO([e]);return t?(t=t.toLowerCase(),e=>i(e)&&e.toLowerCase().endsWith(t)):i},eB=([e,t=""])=>{let i=eO([e]);return t?e=>i(e)&&e.endsWith(t):i},e$=([e,t=""])=>{let i=eT([e]);return t?e=>i(e)&&e.endsWith(t):i},eT=([e])=>{let t=e.length;return e=>e.length===t&&!e.startsWith(".")},eO=([e])=>{let t=e.length;return e=>e.length===t&&"."!==e&&".."!==e},eP="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",eA={win32:{sep:"\\"},posix:{sep:"/"}},eH="win32"===eP?eA.win32.sep:eA.posix.sep;eu.sep=eH;let eL=Symbol("globstar **");eu.GLOBSTAR=eL,eu.filter=(e,t={})=>i=>eu(i,e,t);let eD=(e,t={})=>Object.assign({},e,t);eu.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return eu;let t=eu;return Object.assign((i,s,o={})=>t(i,s,eD(e,o)),{Minimatch:class extends t.Minimatch{constructor(t,i={}){super(t,eD(e,i))}static defaults(i){return t.defaults(eD(e,i)).Minimatch}},AST:class extends t.AST{constructor(t,i,s={}){super(t,i,eD(e,s))}static fromGlob(i,s={}){return t.AST.fromGlob(i,eD(e,s))}},unescape:(i,s={})=>t.unescape(i,eD(e,s)),escape:(i,s={})=>t.escape(i,eD(e,s)),filter:(i,s={})=>t.filter(i,eD(e,s)),defaults:i=>t.defaults(eD(e,i)),makeRe:(i,s={})=>t.makeRe(i,eD(e,s)),braceExpand:(i,s={})=>t.braceExpand(i,eD(e,s)),match:(i,s,o={})=>t.match(i,s,eD(e,o)),sep:t.sep,GLOBSTAR:eL})};let eZ=(e,t={})=>(G(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e))?[e]:W(e);eu.braceExpand=eZ,eu.makeRe=(e,t={})=>new eR(e,t).makeRe(),eu.match=(e,t,i={})=>{let s=new eR(t,i);return e=e.filter(e=>s.match(e)),s.options.nonull&&!e.length&&e.push(t),e};let ej=/[?*]|[+@!]\(.*?\)|\[|\]/,eV=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class eR{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){G(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||eP,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==t.windowsNoMagicRoot?t.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let t of e)if("string"!=typeof t)return!0;return!1}debug(...e){}make(){let e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0)){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,this.globSet);let i=this.globSet.map(e=>this.slashSplit(e));this.globParts=this.preprocess(i),this.debug(this.pattern,this.globParts);let s=this.globParts.map((e,t,i)=>{if(this.isWindows&&this.windowsNoMagicRoot){let t=""===e[0]&&""===e[1]&&("?"===e[2]||!ej.test(e[2]))&&!ej.test(e[3]),i=/^[a-z]:/i.test(e[0]);if(t)return[...e.slice(0,4),...e.slice(4).map(e=>this.parse(e))];if(i)return[e[0],...e.slice(1).map(e=>this.parse(e))]}return e.map(e=>this.parse(e))});if(this.debug(this.pattern,s),this.set=s.filter(e=>-1===e.indexOf(!1)),this.isWindows)for(let e=0;e<this.set.length;e++){let t=this.set[e];""===t[0]&&""===t[1]&&"?"===this.globParts[e][2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])&&(t[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let t=0;t<e.length;t++)for(let i=0;i<e[t].length;i++)"**"===e[t][i]&&(e[t][i]="*");let{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=t>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(e=>{let t=-1;for(;-1!==(t=e.indexOf("**",t+1));){let i=t;for(;"**"===e[i+1];)i++;i!==t&&e.splice(t,i-t)}return e})}levelOneOptimize(e){return e.map(e=>0===(e=e.reduce((e,t)=>{let i=e[e.length-1];return"**"===t&&"**"===i||(".."===t&&i&&".."!==i&&"."!==i&&"**"!==i?e.pop():e.push(t)),e},[])).length?[""]:e)}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let s=e[i];(1!==i||""!==s||""!==e[0])&&("."===s||""===s)&&(t=!0,e.splice(i,1),i--)}"."===e[0]&&2===e.length&&("."===e[1]||""===e[1])&&(t=!0,e.pop())}let i=0;for(;-1!==(i=e.indexOf("..",i+1));){let s=e[i-1];s&&"."!==s&&".."!==s&&"**"!==s&&(t=!0,e.splice(i-1,2),i-=2)}}while(t)return 0===e.length?[""]:e}firstPhasePreProcess(e){let t=!1;do for(let i of(t=!1,e)){let s=-1;for(;-1!==(s=i.indexOf("**",s+1));){let o=s;for(;"**"===i[o+1];)o++;o>s&&i.splice(s+1,o-s);let r=i[s+1],a=i[s+2],n=i[s+3];if(".."!==r||!a||"."===a||".."===a||!n||"."===n||".."===n)continue;t=!0,i.splice(s,1);let l=i.slice(0);l[s]="**",e.push(l),s--}if(!this.preserveMultipleSlashes){for(let e=1;e<i.length-1;e++){let s=i[e];(1!==e||""!==s||""!==i[0])&&("."===s||""===s)&&(t=!0,i.splice(e,1),e--)}"."===i[0]&&2===i.length&&("."===i[1]||""===i[1])&&(t=!0,i.pop())}let o=0;for(;-1!==(o=i.indexOf("..",o+1));){let e=i[o-1];if(e&&"."!==e&&".."!==e&&"**"!==e){t=!0;let e=1===o&&"**"===i[o+1]?["."]:[];i.splice(o-1,2,...e),0===i.length&&i.push(""),o-=2}}}while(t)return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let i=t+1;i<e.length;i++){let s=this.partsMatch(e[t],e[i],!this.preserveMultipleSlashes);if(s){e[t]=[],e[i]=s;break}}return e.filter(e=>e.length)}partsMatch(e,t,i=!1){let s=0,o=0,r=[],a="";for(;s<e.length&&o<t.length;)if(e[s]===t[o])r.push("b"===a?t[o]:e[s]),s++,o++;else if(i&&"**"===e[s]&&t[o]===e[s+1])r.push(e[s]),s++;else if(i&&"**"===t[o]&&e[s]===t[o+1])r.push(t[o]),o++;else if("*"===e[s]&&t[o]&&(this.options.dot||!t[o].startsWith("."))&&"**"!==t[o]){if("b"===a)return!1;a="a",r.push(e[s]),s++,o++}else{if("*"!==t[o]||!e[s]||!this.options.dot&&e[s].startsWith(".")||"**"===e[s]||"a"===a)return!1;a="b",r.push(t[o]),s++,o++}return e.length===t.length&&r}parseNegate(){if(this.nonegate)return;let e=this.pattern,t=!1,i=0;for(let s=0;s<e.length&&"!"===e.charAt(s);s++)t=!t,i++;i&&(this.pattern=e.slice(i)),this.negate=t}matchOne(e,t,i=!1){let s=this.options;if(this.isWindows){let i="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),s=!i&&""===e[0]&&""===e[1]&&"?"===e[2]&&/^[a-z]:$/i.test(e[3]),o="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),r=!o&&""===t[0]&&""===t[1]&&"?"===t[2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3]),a=s?3:i?0:void 0,n=r?3:o?0:void 0;if("number"==typeof a&&"number"==typeof n){let[i,s]=[e[a],t[n]];i.toLowerCase()===s.toLowerCase()&&(t[n]=i,n>a?t=t.slice(n):a>n&&(e=e.slice(a)))}}let{optimizationLevel:o=1}=this.options;o>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var r=0,a=0,n=e.length,l=t.length;r<n&&a<l;r++,a++){let o;this.debug("matchOne loop");var c=t[a],d=e[r];if(this.debug(t,c,d),!1===c)return!1;if(c===eL){this.debug("GLOBSTAR",[t,c,d]);var h=r,u=a+1;if(u===l){for(this.debug("** at the end");r<n;r++)if("."===e[r]||".."===e[r]||!s.dot&&"."===e[r].charAt(0))return!1;return!0}for(;h<n;){var p=e[h];if(this.debug("\nglobstar while",e,h,t,u,p),this.matchOne(e.slice(h),t.slice(u),i))return this.debug("globstar found match!",h,n,p),!0;if("."===p||".."===p||!s.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,h,t,u);break}this.debug("globstar swallow a segment, and continue"),h++}if(i&&(this.debug("\n>>> no match, partial?",e,h,t,u),h===n))return!0;return!1}if("string"==typeof c?(o=d===c,this.debug("string match",c,d,o)):(o=c.test(d),this.debug("pattern match",c,d,o)),!o)return!1}if(r===n&&a===l)return!0;if(r===n)return i;if(a===l)return r===n-1&&""===e[r];throw Error("wtf?")}braceExpand(){return eZ(this.pattern,this.options)}parse(e){let t;G(e);let i=this.options;if("**"===e)return eL;if(""===e)return"";let s=null;(t=e.match(eC))?s=i.dot?eS:ek:(t=e.match(ep))?s=(i.nocase?i.dot?ev:em:i.dot?eg:ef)(t[1]):(t=e.match(eM))?s=(i.nocase?i.dot?eI:eE:i.dot?eB:e$)(t):(t=e.match(ey))?s=i.dot?ew:eb:(t=e.match(ex))&&(s=e_);let o=eh.fromGlob(e,this.options).toMMPattern();return s&&"object"==typeof o&&Reflect.defineProperty(o,"test",{value:s}),o}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let t=this.options,i=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",s=new Set(t.nocase?["i"]:[]),o=e.map(e=>{let t=e.map(e=>{if(e instanceof RegExp)for(let t of e.flags.split(""))s.add(t);return"string"==typeof e?eV(e):e===eL?eL:e._src});return t.forEach((e,s)=>{let o=t[s+1],r=t[s-1];e===eL&&r!==eL&&(void 0===r?void 0!==o&&o!==eL?t[s+1]="(?:\\/|"+i+"\\/)?"+o:t[s]=i:void 0===o?t[s-1]=r+"(?:\\/|"+i+")?":o!==eL&&(t[s-1]=r+"(?:\\/|\\/"+i+"\\/)"+o,t[s+1]=eL))}),t.filter(e=>e!==eL).join("/")}).join("|"),[r,a]=e.length>1?["(?:",")"]:["",""];o="^"+r+o+a+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...s].join(""))}catch(e){this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;let i=this.options;this.isWindows&&(e=e.split("\\").join("/"));let s=this.slashSplit(e);this.debug(this.pattern,"split",s);let o=this.set;this.debug(this.pattern,"set",o);let r=s[s.length-1];if(!r)for(let e=s.length-2;!r&&e>=0;e--)r=s[e];for(let e=0;e<o.length;e++){let a=o[e],n=s;if(i.matchBase&&1===a.length&&(n=[r]),this.matchOne(n,a,t)){if(i.flipNegate)return!0;return!this.negate}}return!i.flipNegate&&this.negate}static defaults(e){return eu.defaults(e).Minimatch}}eu.AST=eh,eu.Minimatch=eR,eu.escape=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),eu.unescape=ee;var ez=i(40901);!function(e){e.Bypass="bypass",e.Display="display",e.Hidden="hidden"}(o||(o={}));class eF{constructor({schema:e,blockCollection:t,crud:i,readonly:s,query:r}){this._blocks=(0,S.vP)({}),this._query={match:[],mode:"loose"},this._runQuery=e=>{!function(e,t){let i=function(e,t){let i=t.model.flavour,s=t.model.id,r=e.mode,a=t.model.keys.reduce((e,i)=>({...e,[i]:t.model[i]}),{}),n="loose"===r?o.Display:o.Hidden;return e.match.some(e=>{let{id:t,flavour:o,props:r,viewType:l}=e,c=null==r||ez(a,r);return(null==t||t===s)&&(null==o||o===i)&&!!c&&(n=l,!0)}),n}(e,t);t.blockViewType=i,i!==o.Hidden&&function(e,t){let i=t.model.doc,s=i.getParent(t.model);for(;s;){let t=i.getBlock(s.id);t&&t.blockViewType===o.Hidden&&(t.blockViewType="include"===e?o.Display:o.Bypass),s=i.getParent(s)}}(e.mode,t)}(this._query,e)},this._blockCollection=t,this.slots={ready:new H.D,rootAdded:new H.D,rootDeleted:new H.D,blockUpdated:new H.D,historyUpdated:this._blockCollection.slots.historyUpdated,yBlockUpdated:this._blockCollection.slots.yBlockUpdated},this._crud=i,this._schema=e,this._readonly=s,r&&(this._query=r),this._yBlocks.forEach((e,t)=>{t in this._blocks.peek()||this._onBlockAdded(t,!0)}),this._disposeBlockUpdated=this._blockCollection.slots.yBlockUpdated.on(({type:e,id:t})=>{switch(e){case"add":this._onBlockAdded(t);return;case"delete":this._onBlockRemoved(t);return}})}_getSiblings(e,t){let i=this.getParent(e);if(!i)return null;let s="string"==typeof e?this.getBlock(e)?.model:e;if(!s)return null;let o=i.children.indexOf(s);return -1===o?null:t(i,o)}_onBlockAdded(e,t=!1){try{if(e in this._blocks.peek())return;let i=this._yBlocks.get(e);if(!i){console.warn(`Could not find block with id ${e}`);return}let s=new eU(this._schema,i,this,{onChange:(t,i)=>{i&&t.model.propsUpdated.emit({key:i}),this.slots.blockUpdated.emit({type:"update",id:e,flavour:t.flavour,props:{key:i}})}});this._runQuery(s),this._blocks.value={...this._blocks.value,[e]:s},s.model.created.emit(),"root"===s.model.role&&this.slots.rootAdded.emit(e),this.slots.blockUpdated.emit({type:"add",id:e,init:t,flavour:s.model.flavour,model:s.model})}catch(e){console.error("An error occurred while adding block:"),console.error(e)}}_onBlockRemoved(e){try{let t=this.getBlock(e);if(!t)return;"root"===t.model.role&&this.slots.rootDeleted.emit(e),this.slots.blockUpdated.emit({type:"delete",id:e,flavour:t.model.flavour,parent:this.getParent(t.model)?.id??"",model:t.model});let{[e]:i,...s}=this._blocks.peek();this._blocks.value=s,t.model.deleted.emit(),t.model.dispose()}catch(e){console.error("An error occurred while removing block:"),console.error(e)}}get _yBlocks(){return this._blockCollection.yBlocks}addBlock(e,t={},i,s){if(this.readonly)throw new l.Ss(c.O.ModelCRUDError,"cannot modify data in readonly mode");let o=t.id??this._blockCollection.generateBlockId();return this.transact(()=>{this._crud.addBlock(o,e,{...t},"string"==typeof i?i:i?.id,s)}),o}addBlocks(e,t,i){let s=[];return e.forEach(e=>{let o=this.addBlock(e.flavour,e.blockProps??{},t,i);s.push(o),"number"==typeof i&&i++}),s}addSiblingBlocks(e,t,i="after"){if(!t.length)return[];let s=this.getParent(e);if(!s)return[];let o=s.children.findIndex(({id:t})=>t===e.id)??0,r="before"===i?o:o+1;if(t.length<=1){if(!t[0]?.flavour)return[];let{flavour:e,...i}=t[0];return[this.addBlock(e,i,s.id,r)]}let a=[];return t.forEach(e=>{let{flavour:t,...i}=e;t&&a.push({flavour:t,blockProps:i})}),this.addBlocks(a,s.id,r)}deleteBlock(e,t={deleteChildren:!0}){if(this.readonly){console.error("cannot modify data in readonly mode");return}let i=t&&t.bringChildrenTo?{...t,bringChildrenTo:t.bringChildrenTo.id}:t;this.transact(()=>{this._crud.deleteBlock(e.id,i)})}dispose(){this._disposeBlockUpdated.dispose(),this.slots.ready.dispose(),this.slots.blockUpdated.dispose(),this.slots.rootAdded.dispose(),this.slots.rootDeleted.dispose()}getBlock(e){return this._blocks.peek()[e]}getBlock$(e){return this._blocks.value[e]}getBlockByFlavour(e){return this.getBlocksByFlavour(e).map(e=>e.model)}getBlockById(e){return this.getBlock(e)?.model??null}getBlocks(){return Object.values(this._blocks.peek()).map(e=>e.model)}getBlocksByFlavour(e){let t="string"==typeof e?[e]:e;return Object.values(this._blocks.peek()).filter(({flavour:e})=>t.includes(e))}getNext(e){return this._getSiblings(e,(e,t)=>e.children[t+1]??null)}getNexts(e){return this._getSiblings(e,(e,t)=>e.children.slice(t+1))??[]}getParent(e){let t="string"==typeof e?e:e.id,i=this._crud.getParent(t);if(!i)return null;let s=this._blocks.peek()[i];return s?s.model:null}getPrev(e){return this._getSiblings(e,(e,t)=>e.children[t-1]??null)}getPrevs(e){return this._getSiblings(e,(e,t)=>e.children.slice(0,t))??[]}getSchemaByFlavour(e){return this._schema.flavourSchemaMap.get(e)}hasBlock(e){return e in this._blocks.peek()}hasBlockById(e){return this.hasBlock(e)}load(e){return this._blockCollection.load(e),this.slots.ready.emit(),this}moveBlocks(e,t,i=null,s=!0){if(this.readonly){console.error("Cannot modify data in read-only mode");return}this.transact(()=>{this._crud.moveBlocks(e.map(e=>e.id),t.id,i?.id??null,s)})}updateBlock(e,t){if(this.readonly){console.error("cannot modify data in readonly mode");return}let i="function"==typeof t;if(!i){let i=this.getParent(e);this.schema.validate(e.flavour,i?.flavour,t.children?.map(e=>e.flavour))}let s=this._yBlocks.get(e.id);if(!s)throw new l.Ss(c.O.ModelCRUDError,`updating block: ${e.id} not found`);let o=this.getBlock(e.id);this.transact(()=>{if(i){t(),this._runQuery(o);return}t.children&&this._crud.updateBlockChildren(e.id,t.children.map(e=>e.id));let r=this.schema.flavourSchemaMap.get(e.flavour);if(!r)throw new l.Ss(c.O.ModelCRUDError,`schema for flavour: ${e.flavour} not found`);!function(e,t,i,s){let o=e.model.props?.(R)??{};Object.entries(s).forEach(([e,i])=>{C.has(e)||void 0===i||(t[e]=i)}),Object.entries(o).forEach(([e,s])=>{i.has(`prop:${e}`)&&void 0!==i.get(`prop:${e}`)||(t[e]=I(s))})}(r,e,s,t),this._runQuery(o)})}get Text(){return this._blockCollection.Text}get awarenessStore(){return this._blockCollection.awarenessStore}get awarenessSync(){return this.collection.awarenessSync}get blobSync(){return this.collection.blobSync}get blockCollection(){return this._blockCollection}get blockSize(){return Object.values(this._blocks.peek()).length}get blocks(){return this._blocks}get canRedo(){return this._blockCollection.canRedo}get canUndo(){return this._blockCollection.canUndo}get captureSync(){return this._blockCollection.captureSync.bind(this._blockCollection)}get clear(){return this._blockCollection.clear.bind(this._blockCollection)}get collection(){return this._blockCollection.collection}get docSync(){return this.collection.docSync}get generateBlockId(){return this._blockCollection.generateBlockId.bind(this._blockCollection)}get history(){return this._blockCollection.history}get id(){return this._blockCollection.id}get isEmpty(){return 0===Object.values(this._blocks.peek()).length}get loaded(){return this._blockCollection.loaded}get meta(){return this._blockCollection.meta}get readonly(){return!!this._blockCollection.readonly||!0===this._readonly}get ready(){return this._blockCollection.ready}get redo(){return this._blockCollection.redo.bind(this._blockCollection)}get resetHistory(){return this._blockCollection.resetHistory.bind(this._blockCollection)}get root(){let e=this._crud.root;return e?this.getBlock(e)?.model??null:null}get rootDoc(){return this._blockCollection.rootDoc}get schema(){return this._schema}get spaceDoc(){return this._blockCollection.spaceDoc}get transact(){return this._blockCollection.transact.bind(this._blockCollection)}get undo(){return this._blockCollection.undo.bind(this._blockCollection)}get withoutTransact(){return this._blockCollection.withoutTransact.bind(this._blockCollection)}}var eN=i(41149);class eq{constructor(e,t,i,s){this.schema=e,this.yBlock=t,this.doc=i,this.onChange=s,this._byPassProxy=!1,this._byPassUpdate=e=>{this._byPassProxy=!0,e(),this._byPassProxy=!1},this._mutex=(0,eN.i)(),this._observeYBlockChanges=()=>{this.yBlock.observe(e=>{e.keysChanged.forEach(t=>{let i=e.changes.keys.get(t);if(i){if("update"===i.action||"add"===i.action){let e=this.yBlock.get(t),i=t.replace("prop:",""),s=this._getPropsProxy(i,e);this._byPassUpdate(()=>{this.model[i]=s;let t=`${i}$`;this._mutex(()=>{t in this.model&&(this.model[t].value=B(e))})}),this.onChange?.(i,e);return}if("delete"===i.action){let e=t.replace("prop:","");this._byPassUpdate(()=>{delete this.model[e],`${e}$` in this.model&&(this.model[`${e}$`].value=void 0)}),this.onChange?.(e,void 0);return}}})})},this._stashed=new Set,this.pop=e=>{this._stashed.has(e)&&this._popProp(e)},this.stash=e=>{this._stashed.has(e)||(this._stashed.add(e),this._stashProp(e))};let{id:o,flavour:r,version:a,yChildren:n,props:l}=this._parseYBlock();this.id=o,this.flavour=r,this.yChildren=n,this.version=a,this.model=this._createModel(l),this._observeYBlockChanges()}_createModel(e){let t=this._mutex,i=this.schema.flavourSchemaMap.get(this.flavour);if(!i)throw new l.Ss(c.O.ModelCRUDError,`schema for flavour: ${this.flavour} not found`);let s=i.model.toModel?.()??new U,o=Object.entries(e).reduce((e,[i,o])=>{let r=(0,S.vP)(o),a=(0,S.QZ)(()=>{let e=r.value;this.model&&t(()=>{this.model[i]=e})});return s.deleted.once(a),{...e,[`${i}$`]:r,[i]:o}},{});function r(e,i,s){t(()=>{e[`${i}$`].value=s})}return Object.assign(s,o),s.id=this.id,s.version=this.version,s.keys=Object.keys(e),s.flavour=i.model.flavour,s.role=i.model.role,s.yBlock=this.yBlock,s.stash=this.stash,s.pop=this.pop,this.doc&&(s.doc=this.doc),new Proxy(s,{has:(e,t)=>Reflect.has(e,t),set:(e,t,i,o)=>{if(!this._byPassProxy&&"string"==typeof t&&s.keys.includes(t)){if(this._stashed.has(t)){r(e,t,i);let s=Reflect.set(e,t,i,o);return this.onChange?.(t,i),s}let s=I(i);this.yBlock.set(`prop:${t}`,s);let a=this._getPropsProxy(t,s);return r(e,t,i),Reflect.set(e,t,a,o)}return Reflect.set(e,t,i,o)},get:(e,t,i)=>Reflect.get(e,t,i),deleteProperty:(e,t)=>(!this._byPassProxy&&"string"==typeof t&&s.keys.includes(t)&&(this.yBlock.delete(`prop:${t}`),r(e,t,void 0)),Reflect.deleteProperty(e,t))})}_getPropsProxy(e,t){return A(t,{onChange:()=>{this.onChange?.(e,t);let i=`${e}$`;i in this.model&&this._mutex(()=>{this.model[i].value=this.model[e]})}})}_parseYBlock(){let e,t,i,s;let o={};if(this.yBlock.forEach((r,a)=>{if(a.startsWith("prop:")){let e=a.replace("prop:","");o[e]=this._getPropsProxy(e,r);return}if("sys:id"===a&&"string"==typeof r){e=r;return}if("sys:flavour"===a&&"string"==typeof r){t=r;return}if("sys:children"===a&&r instanceof y.Array){s=r;return}if("sys:version"===a&&"number"==typeof r){i=r;return}}),!e)throw new l.Ss(c.O.ModelCRUDError,"block id is not found when creating model");if(!t)throw new l.Ss(c.O.ModelCRUDError,"block flavour is not found when creating model");if(!s)throw new l.Ss(c.O.ModelCRUDError,"block children is not found when creating model");let r=this.schema.flavourSchemaMap.get(t);if(!r)throw new l.Ss(c.O.ModelCRUDError,`schema for flavour: ${t} not found`);let a=r.model.props?.(R);return"number"!=typeof i&&(i=r.version),a&&Object.entries(a).forEach(([e,t])=>{if(e in o)return;let i=I(t);this.yBlock.set(`prop:${e}`,i),o[e]=this._getPropsProxy(e,i)}),{id:e,flavour:t,version:i,props:o,yChildren:s}}_popProp(e){let t=this.model,i=t[e];this._stashed.delete(e),t[e]=i}_stashProp(e){this.model[e]=B(this.yBlock.get(`prop:${e}`),{transform:(t,i)=>k.is(i)?t:i instanceof y.Map?new Proxy(t,{get:(e,t,i)=>Reflect.get(e,t,i),set:(t,i,s,o)=>{let r=Reflect.set(t,i,s,o);return this.onChange?.(e,s),r},deleteProperty:(t,i)=>{let s=Reflect.deleteProperty(t,i);return this.onChange?.(e,void 0),s}}):i instanceof y.Array?new Proxy(t,{get:(e,t,i)=>Reflect.get(e,t,i),set:(t,i,s,o)=>{if(Number.isNaN(Number(i)))return Reflect.set(t,i,s,o);let r=Reflect.set(t,i,s,o);return this.onChange?.(e,s),r},deleteProperty:(e,t)=>{let i=Reflect.deleteProperty(e,t);return this.onChange?.(t,void 0),i}}):t})}}class eU{constructor(e,t,i,s={}){this.schema=e,this.yBlock=t,this.doc=i,this.options=s,this.blockViewType=o.Display;let r=s.onChange?(e,t)=>{s.onChange?.(this,e,t)}:void 0;this._syncController=new eq(e,t,i,r)}get flavour(){return this._syncController.flavour}get id(){return this._syncController.id}get model(){return this._syncController.model}get pop(){return this._syncController.pop}get stash(){return this._syncController.stash}get version(){return this._syncController.version}}class eW extends l.Ss{constructor(e){super(c.O.MigrationError,`Migration failed. Please report to https://github.com/toeverything/blocksuite/issues
          ${e}`)}}class eG extends l.Ss{constructor(e,t){super(c.O.SchemaValidateError,`Invalid schema for ${e}: ${t}`)}}class eY{constructor(){this._upgradeBlockVersions=e=>{let t=e.getMap("meta").get("blockVersions");t&&t.forEach((e,i)=>{let s=this.flavourSchemaMap.get(i);s&&e!==s.version&&t.set(i,s.version)})},this.flavourSchemaMap=new Map,this.upgradeBlock=(e,t,i)=>{try{let s=this.flavourSchemaMap.get(e);if(!s)throw new eW(`schema for flavour: ${e} not found`);let{onUpgrade:o,version:r}=s;if(!o)return;let a=new eU(this,i);return o(a.model,t,r)}catch(t){throw new eW(`upgrade block ${e} failed.
          ${t}`)}},this.upgradeCollection=e=>{this._upgradeBlockVersions(e),v.forEach(t=>{try{t.condition(e)&&t.migrate(e)}catch(e){throw console.error(e),new eW(t.desc)}})},this.upgradeDoc=(e,t,i)=>{Array.from(i.getMap("blocks").values()).forEach(e=>{let i=e.get("sys:flavour"),s=e.get("sys:version")??t[i]??0;if(null==s)throw new eW(`version for flavour ${i} not found in block`);this.upgradeBlock(i,s,e)}),b.forEach(t=>{try{t.condition(e,i)&&t.migrate(e,i)}catch(e){throw new eW(`${t.desc}
            ${e}`)}})},this.validate=(e,t,i)=>{let s=this.flavourSchemaMap.get(e);if(!s)throw new eG(e,w);let o=()=>{i?.forEach(e=>{let t=this.flavourSchemaMap.get(e);if(!t)throw new eG(e,w);this.validateSchema(t,s)})};if("root"===s.model.role){if(t)throw new eG(s.model.flavour,"Root block cannot have parent.");o();return}if(!t)throw new eG(s.model.flavour,"Hub/Content must have parent.");let r=this.flavourSchemaMap.get(t);if(!r)throw new eG(t,w);this.validateSchema(s,r),o()}}_matchFlavour(e,t){return eu(e,t)||eu(t,e)}_validateParent(e,t){let i=e.model.flavour,s=t.model.flavour,o=e.model.parent||["*"];return(t.model.children||["*"]).some(e=>o.some(t=>"*"===e&&"*"===t||("*"===e?this._matchFlavour(t,s):"*"===t?this._matchFlavour(i,e):this._matchFlavour(i,e)&&this._matchFlavour(t,s))))}_validateRole(e,t){let i=e.model.role,s=t.model.role,o=e.model.flavour,r=t.model.flavour;if("root"===i)throw new eG(o,`Root block cannot have parent: ${r}.`);if("hub"===i&&"content"===s)throw new eG(o,`Hub block cannot be child of content block: ${r}.`);if("content"===i&&"root"===s)throw new eG(o,`Content block can only be child of hub block or itself. But get: ${r}.`)}register(e){return e.forEach(e=>{z.parse(e),this.flavourSchemaMap.set(e.model.flavour,e)}),this}toJSON(){return Object.fromEntries(Array.from(this.flavourSchemaMap.values()).map(e=>[e.model.flavour,{role:e.model.role,parent:e.model.parent,children:e.model.children}]))}validateSchema(e,t){if(this._validateRole(e,t),!this._validateParent(e,t))throw new eG(e.model.flavour,`Block cannot have parent: ${t.model.flavour}.`)}get versions(){return Object.fromEntries(Array.from(this.flavourSchemaMap.values()).map(e=>[e.model.flavour,e.version]))}}class eK{debug(){}error(){}info(){}warn(){}}class eX{constructor(e,t){this.awareness=e,this.sources=t}connect(){this.sources.forEach(e=>e.connect(this.awareness))}disconnect(){this.sources.forEach(e=>e.disconnect())}}var eQ=i(61382),eJ=i(96509);class e1{constructor(e,t,i){this.main=e,this.shadows=t,this.logger=i,this._abort=null}async delete(e){this.logger.error("You are trying to delete a blob. We do not support this feature yet. We need to wait until we implement the indexer, which will inform us which doc is using a particular blob so that we can safely delete it.")}async get(e){for(let t of(this.logger.debug("get blob",e),this.sources)){let i=await t.get(e);if(i)return i}return null}async list(){let e=new Set;for(let t of this.sources)for(let i of(await t.list()))e.add(i);return Array.from(e)}async set(e,t){if(this.main.readonly)throw Error("main peer is readonly");let i="string"==typeof e?e:await (0,eJ.h)(await e.arrayBuffer()),s="string"==typeof e?t:e;if(!s)throw Error("value is empty");return await this.main.set(i,s),Promise.allSettled(this.shadows.filter(e=>!e.readonly).map(e=>e.set(i,s).catch(e=>{this.logger.error("Error when uploading to peer",e)}))).then(e=>{e.some(({status:e})=>"rejected"===e)?this.logger.error(`blob ${i} update finish, but some peers failed to update`):this.logger.debug(`blob ${i} update finish`)}).catch(()=>{}),i}start(){if(this._abort)return;this._abort=new AbortController;let e=this._abort.signal,t=()=>{e.aborted||this.sync().catch(e=>{this.logger.error("sync blob error",e)}).finally(()=>{setTimeout(t,6e4)})};t()}stop(){this._abort?.abort(),this._abort=null}async sync(){if(!this.main.readonly){for(let e of(this.logger.debug("start syncing blob..."),this.shadows)){let t=[],i=[];if(!e.readonly){try{t=await this.main.list(),i=await e.list()}catch(e){this.logger.error("error when sync",e);continue}for(let s of t.filter(e=>!i.includes(e)))try{let t=await this.main.get(s);t?await e.set(s,t):this.logger.error("data not found when trying upload from main to shadow")}catch(t){this.logger.error(`error when sync ${s} from [${this.main.name}] to [${e.name}]`,t)}}for(let s of i.filter(e=>!t.includes(e)))try{let t=await e.get(s);t?await this.main.set(s,t):this.logger.error("data not found when trying download from shadow to main")}catch(t){this.logger.error(`error when sync ${s} from [${e.name}] to [${this.main.name}]`,t)}}this.logger.debug("finish syncing blob")}}get sources(){return[this.main,...this.shadows]}}class e0{constructor(){this.map=new Map,this.name="memory",this.readonly=!1}delete(e){return this.map.delete(e),Promise.resolve()}get(e){return Promise.resolve(this.map.get(e)??null)}list(){return Promise.resolve(Array.from(this.map.keys()))}set(e,t){return this.map.set(e,t),Promise.resolve(e)}}!function(e){e[e.Stopped=0]="Stopped",e[e.Synced=2]="Synced",e[e.Syncing=1]="Syncing"}(r||(r={})),function(e){e[e.Loaded=4.5]="Loaded",e[e.LoadingRootDoc=2]="LoadingRootDoc",e[e.LoadingSubDoc=3]="LoadingSubDoc",e[e.Retrying=1]="Retrying",e[e.Stopped=0]="Stopped",e[e.Synced=6]="Synced",e[e.Syncing=5]="Syncing"}(a||(a={}));class e2{constructor(e=[]){this._resolveUpdate=null,this._waitForUpdate=null,this._queue=e}clear(){this._queue=[]}find(e){return this._queue.find(e)}async next(e,t=e=>e.shift()){return t(this._queue)||(this._waitForUpdate||(this._waitForUpdate=new Promise(e=>{this._resolveUpdate=e})),await Promise.race([this._waitForUpdate,new Promise((t,i)=>{e?.aborted&&i(e?.reason),e?.addEventListener("abort",()=>{i(e.reason)})})]),this.next(e,t))}push(...e){if(this._queue.push(...e),this._resolveUpdate){let e=this._resolveUpdate;this._resolveUpdate=null,this._waitForUpdate=null,e()}}remove(e){let t=this._queue.findIndex(e);-1!==t&&this._queue.splice(t,1)}get length(){return this._queue.length}}class e5 extends e2{constructor(e=[],t=new e7){super(e),this.priorityTarget=t}next(e){return super.next(e,e=>{if(null!==this.priorityTarget.priorityRule){let t=e.findIndex(e=>this.priorityTarget.priorityRule?.(e.id));if(-1!==t)return e.splice(t,1)[0]}return e.shift()})}}class e7{constructor(){this.priorityRule=null}}function e3(e){if(e?.aborted)throw Error(e.reason);return!0}let e4="manually-stop";class e6{constructor(e,t,i=new e7,s){this.rootDoc=e,this.source=t,this.priorityTarget=i,this.logger=s,this._status={step:a.LoadingRootDoc,totalDocs:1,loadedDocs:0,pendingPullUpdates:0,pendingPushUpdates:0},this.abort=new AbortController,this.handleStorageUpdates=(e,t)=>{this.state.pullUpdatesQueue.push({id:e,data:t}),this.updateSyncStatus()},this.handleSubdocsUpdate=({added:e,removed:t})=>{for(let t of e)this.state.subdocsLoadQueue.push({id:t.guid,doc:t});for(let e of t)this.disconnectDoc(e),this.state.subdocsLoadQueue.remove(t=>t.doc===e);this.updateSyncStatus()},this.handleYDocUpdates=(e,t,i)=>{if(t===this.name)return;let s=this.state.pushUpdatesQueue.find(({id:e})=>e===i.guid);s?s.data.push(e):this.state.pushUpdatesQueue.push({id:i.guid,data:[e]}),this.updateSyncStatus()},this.onStatusChange=new H.D,this.state={connectedDocs:new Map,pushUpdatesQueue:new e5([],this.priorityTarget),pushingUpdate:!1,pullUpdatesQueue:new e5([],this.priorityTarget),subdocLoading:!1,subdocsLoadQueue:new e5([],this.priorityTarget)},this.logger.debug(`doc-peer:${this.name} start`),this.syncRetryLoop(this.abort.signal).catch(e=>{console.error(e)})}set status(e){(0,p.n4)(e,this._status)||(this.logger.debug(`doc-peer:${this.name} status change`,e),this._status=e,this.onStatusChange.emit(e))}async connectDoc(e,t){let{data:i,state:s}=await this.source.pull(e.guid,(0,y.encodeStateVector)(e))??{};e3(t),i&&i.length>0&&(0,y.applyUpdate)(e,i,"load"),this.state.pushUpdatesQueue.push({id:e.guid,data:[(0,y.encodeStateAsUpdate)(e,s)]}),this.state.connectedDocs.set(e.guid,e),e.on("update",this.handleYDocUpdates),e.emit("sync",[!0,e]),this.updateSyncStatus()}disconnectDoc(e){e.off("update",this.handleYDocUpdates),this.state.connectedDocs.delete(e.guid),this.updateSyncStatus()}initState(){this.state.connectedDocs.clear(),this.state.pushUpdatesQueue.clear(),this.state.pullUpdatesQueue.clear(),this.state.subdocsLoadQueue.clear(),this.state.pushingUpdate=!1,this.state.subdocLoading=!1}stop(){this.logger.debug(`doc-peer:${this.name} stop`),this.abort.abort(e4)}async sync(e){this.initState();let t=new AbortController;e.addEventListener("abort",e=>{t.abort(e)});let i=null;try{this.updateSyncStatus(),i=await this.source.subscribe(this.handleStorageUpdates,e=>{t.abort("subscribe disconnect:"+e)}),e3(t.signal),await this.connectDoc(this.rootDoc,t.signal),this.state.subdocsLoadQueue.push(...Array.from(this.rootDoc.getSubdocs()).map(e=>({id:e.guid,doc:e}))),this.updateSyncStatus(),this.rootDoc.on("subdocs",this.handleSubdocsUpdate),await Promise.all([(async()=>{for(;e3(t.signal);){let e=await this.state.subdocsLoadQueue.next(t.signal);this.state.subdocLoading=!0,this.updateSyncStatus(),await this.connectDoc(e.doc,t.signal),this.state.subdocLoading=!1,this.updateSyncStatus()}})(),(async()=>{for(;e3(t.signal);){let{id:e,data:i}=await this.state.pullUpdatesQueue.next(t.signal);if(!(0===i.byteLength||2===i.byteLength&&0===i[0]&&0===i[1])){let t=this.state.connectedDocs.get(e);t&&(0,y.applyUpdate)(t,i,this.name)}this.updateSyncStatus()}})(),(async()=>{for(;e3(t.signal);){let{id:e,data:i}=await this.state.pushUpdatesQueue.next(t.signal);this.state.pushingUpdate=!0,this.updateSyncStatus();let s=(0,y.mergeUpdates)(i);0===s.byteLength||2===s.byteLength&&0===s[0]&&0===s[1]||await this.source.push(e,s),this.state.pushingUpdate=!1,this.updateSyncStatus()}})()])}finally{for(let e of(i?.(),this.state.connectedDocs.values()))this.disconnectDoc(e);this.rootDoc.off("subdocs",this.handleSubdocsUpdate)}}async syncRetryLoop(e){for(;!1===e.aborted;){try{await this.sync(e)}catch(t){if(t===e4||e.aborted)return;this.logger.error(`doc-peer:${this.name} sync error`,t)}try{this.logger.error(`doc-peer:${this.name} retry after 5 seconds`),this.status={step:a.Retrying,totalDocs:1,loadedDocs:0,pendingPullUpdates:0,pendingPushUpdates:0},await Promise.race([new Promise(e=>{setTimeout(e,5e3)}),new Promise((t,i)=>{e.aborted&&i(e.reason),e.addEventListener("abort",()=>{i(e.reason)})})])}catch(t){if(t===e4||e.aborted)return;throw t}}}updateSyncStatus(){let e;e=0===this.state.connectedDocs.size?a.LoadingRootDoc:this.state.subdocsLoadQueue.length||this.state.subdocLoading?a.LoadingSubDoc:this.state.pullUpdatesQueue.length||this.state.pushUpdatesQueue.length||this.state.pushingUpdate?a.Syncing:a.Synced,this.status={step:e,totalDocs:this.state.connectedDocs.size+this.state.subdocsLoadQueue.length,loadedDocs:this.state.connectedDocs.size,pendingPullUpdates:this.state.pullUpdatesQueue.length+(this.state.subdocLoading?1:0),pendingPushUpdates:this.state.pushUpdatesQueue.length+(this.state.pushingUpdate?1:0)}}async waitForLoaded(e){if(!(this.status.step>a.Loaded))return Promise.race([new Promise(e=>{this.onStatusChange.on(t=>{t.step>a.Loaded&&e()})}),new Promise((t,i)=>{e?.aborted&&i(e?.reason),e?.addEventListener("abort",()=>{i(e.reason)})})])}async waitForSynced(e){if(!(this.status.step>=a.Synced))return Promise.race([new Promise(e=>{this.onStatusChange.on(t=>{t.step>=a.Synced&&e()})}),new Promise((t,i)=>{e?.aborted&&i(e?.reason),e?.addEventListener("abort",()=>{i(e.reason)})})])}get name(){return this.source.name}get status(){return this._status}}class e8{constructor(e,t,i,s){this.rootDoc=e,this.main=t,this.shadows=i,this.logger=s,this._abort=new AbortController,this.onStatusChange=new H.D,this.priorityTarget=new e7,this._status={step:r.Stopped,main:null,shadows:i.map(()=>null),retrying:!1},this.logger.debug(`syne-engine:${this.rootDocId} status init`,this.status)}setStatus(e){this.logger.debug(`syne-engine:${this.rootDocId} status change`,e),this._status=e,this.onStatusChange.emit(e)}canGracefulStop(){return!!this.status.main&&0===this.status.main.pendingPushUpdates}forceStop(){this._abort.abort(e4),this.setStatus({step:r.Stopped,main:null,shadows:this.shadows.map(()=>null),retrying:!1})}setPriorityRule(e){this.priorityTarget.priorityRule=e}start(){this.status.step!==r.Stopped&&this.forceStop(),this._abort=new AbortController,this.sync(this._abort.signal).catch(e=>{this.logger.error(`syne-engine:${this.rootDocId}`,e)})}async sync(e){let t={mainPeer:null,shadowPeers:this.shadows.map(()=>null)},i=[];try{t.mainPeer=new e6(this.rootDoc,this.main,this.priorityTarget,this.logger),i.push(t.mainPeer.onStatusChange.on(()=>{e.aborted||this.updateSyncingState(t.mainPeer,t.shadowPeers)}).dispose),this.updateSyncingState(t.mainPeer,t.shadowPeers),await t.mainPeer.waitForLoaded(e),t.shadowPeers=this.shadows.map(s=>{let o=new e6(this.rootDoc,s,this.priorityTarget,this.logger);return i.push(o.onStatusChange.on(()=>{e.aborted||this.updateSyncingState(t.mainPeer,t.shadowPeers)}).dispose),o}),this.updateSyncingState(t.mainPeer,t.shadowPeers),await new Promise((t,i)=>{e.aborted&&i(e.reason),e.addEventListener("abort",()=>{i(e.reason)})})}catch(t){if(t===e4||e.aborted)return;throw t}finally{for(let e of(t.mainPeer?.stop(),t.shadowPeers))e?.stop();for(let e of i)e()}}updateSyncingState(e,t){let i=r.Synced,s=[e,...t];for(let e of s)if(!e||e.status.step!==a.Synced){i=r.Syncing;break}this.setStatus({step:i,main:e?.status??null,shadows:t.map(e=>e?.status??null),retrying:s.some(e=>e?.status.step===a.Retrying)})}async waitForGracefulStop(e){await Promise.race([new Promise((t,i)=>{e?.aborted&&i(e?.reason),e?.addEventListener("abort",()=>{i(e.reason)})}),new Promise(e=>{this.onStatusChange.on(()=>{this.canGracefulStop()&&e()})})]),e3(e),this.forceStop()}async waitForLoadedRootDoc(e){function t(e){return![e.main,...e.shadows].some(e=>!e||e.step<=a.LoadingRootDoc)}if(!t(this.status))return Promise.race([new Promise(e=>{this.onStatusChange.on(i=>{t(i)&&e()})}),new Promise((t,i)=>{e?.aborted&&i(e?.reason),e?.addEventListener("abort",()=>{i(e.reason)})})])}async waitForSynced(e){if(this.status.step!==r.Synced)return Promise.race([new Promise(e=>{this.onStatusChange.on(t=>{t.step===r.Synced&&e()})}),new Promise((t,i)=>{e?.aborted&&i(e?.reason),e?.addEventListener("abort",()=>{i(e.reason)})})])}get rootDocId(){return this.rootDoc.guid}get status(){return this._status}}i(48862);class e9{constructor(){this.name="noop"}pull(e,t){return null}push(e,t){}subscribe(e,t){return()=>{}}}var te=i(79996);class tt{constructor(e,t){this._onAwarenessChange=e=>{this._flags.value=this.awareness.getLocalState()?.flags??{};let{added:t,removed:i,updated:s}=e,o=this.awareness.getStates();t.forEach(e=>{this.slots.update.emit({id:e,type:"add",state:o.get(e)})}),s.forEach(e=>{this.slots.update.emit({id:e,type:"update",state:o.get(e)})}),i.forEach(e=>{this.slots.update.emit({id:e,type:"remove"})})},this.slots={update:new H.D},this._flags=(0,S.vP)(t),this.awareness=e,this.awareness.on("change",this._onAwarenessChange),this.awareness.setLocalStateField("selectionV2",{}),this._initFlags(t)}_initFlags(e){let t=this.awareness.getLocalState()?.flags,i=t?(0,te.merge)(!0,e,t):{...e};this.awareness.setLocalStateField("flags",i)}destroy(){this.awareness&&(this.awareness.off("change",this._onAwarenessChange),this.slots.update.dispose())}getFlag(e){return this._flags.value[e]}getLocalSelection(e){return(this.awareness.getLocalState()?.selectionV2??{})[e.id]??[]}getStates(){return this.awareness.getStates()}isReadonly(e){let t=this.getFlag("readonly");return!!t&&"object"==typeof t&&!!t[e.id]}setFlag(e,t){let i=this.awareness.getLocalState()?.flags??{};this.awareness.setLocalStateField("flags",{...i,[e]:t})}setLocalSelection(e,t){let i=this.awareness.getLocalState()?.selectionV2??{};this.awareness.setLocalStateField("selectionV2",{...i,[e.id]:t})}setReadonly(e,t){let i=this.getFlag("readonly")??{};this.setFlag("readonly",{...i,[e.id]:t})}}class ti extends y.Doc{constructor(){super(...arguments),this._spaces=this.getMap("spaces")}getArrayProxy(e){return A(super.getArray(e))}getMapProxy(e){return A(super.getMap(e))}toJSON(){let e=super.toJSON();delete e.spaces;let t={};return this.spaces.forEach((e,i)=>{t[i]=e.toJSON()}),{...e,spaces:t}}transact(e,t){return super.transact(e,t)}get spaces(){return this._spaces}}var ts=i(69050);class to{constructor(e){this._backlinkIndexMapCache=null,this._disposables=new ts.K,this._linkIndexMap={},this.slots={indexUpdated:new H.D},this._disposables.add(e.slots.refreshIndex.on(()=>this._onRefreshIndex())),this._disposables.add(e.slots.docRemoved.on(e=>this._onDocRemoved(e))),this._disposables.add(e.slots.blockUpdated.on(e=>this._onBlockUpdated(e))),this.slots.indexUpdated.on(()=>{this._backlinkIndexMapCache=null})}_indexDelta({action:e,docId:t,blockId:i,links:s}){(function(e,t,i=(e,t)=>e===t){let s=[],o=[],r=[];for(let s of e)t.some(e=>i(e,s))?r.push(s):o.push(s);for(let o of t)e.some(e=>i(e,o))||s.push(o);return{changed:s.length||o.length,add:s,remove:o,unchanged:r}})(this._linkIndexMap[t]?.[i]??[],s).changed&&(this._linkIndexMap[t]={...this._linkIndexMap[t],[i]:s},this.slots.indexUpdated.emit({action:e,docId:t,blockId:i}))}_onBlockUpdated({action:e,docId:t,block:i,blockId:s}){switch(e){case"add":case"update":{let o=[],r=i.get("prop:text");r&&(r instanceof y.Text?o=[...o,...r.toDelta().filter(e=>e.attributes&&e.attributes.reference).map(e=>({...e.attributes.reference,blockId:s}))]:console.warn("Unexpected prop:text type",r));let a=i.get("sys:flavour");if("affine:embed-linked-doc"===a||"affine:embed-synced-doc"===a){let e=i.get("prop:pageId");"string"==typeof e?o=[...o,{pageId:e,blockId:s,type:"LinkedPage"}]:console.warn("Unexpected prop:pageId type",e)}this._indexDelta({action:e,docId:t,blockId:s,links:o});return}case"delete":this._removeIndex(t,s)}}_onDocRemoved(e){this._linkIndexMap[e]&&(this._linkIndexMap[e]={},this.slots.indexUpdated.emit({action:"delete",docId:e}))}_onRefreshIndex(){this._linkIndexMap={}}_removeIndex(e,t){if(!this._linkIndexMap[e]||!this._linkIndexMap[e][t])return;let i=this._linkIndexMap[e][t];delete this._linkIndexMap[e][t],i.length&&this.slots.indexUpdated.emit({action:"delete",docId:e,blockId:t})}dispose(){this._disposables.dispose()}getBacklink(e){if(this._backlinkIndexMapCache)return this._backlinkIndexMapCache[e]??[];let t={};for(let[e,i]of Object.entries(this._linkIndexMap))for(let[s,o]of Object.entries(i))o.forEach(({pageId:i,type:o})=>{i in t||(t[i]=[]),t[i].push({pageId:e,blockId:s,type:o})});return this._backlinkIndexMapCache=t,this._backlinkIndexMapCache[e]??[]}get linkIndexMap(){return this._linkIndexMap}}class tr{constructor(e,{immediately:t=!1,slots:i}){if(this._disposables=new ts.K,this._yDocObserver=(e,t,{docId:i,yDoc:s})=>{e.forEach(e=>{if(!(e instanceof y.YArrayEvent)){if(e instanceof y.YMapEvent){if(e.target!==e.currentTarget){if(e.keysChanged.has("prop:text")){let t=e.path[0],o=s.get(t);(0,p.Z1)(o),this._indexBlock({action:"update",docId:i,blockId:t,block:o})}return}Array.from(e.changes.keys.entries()).forEach(([e,{action:t}])=>{if("delete"===t){this._indexBlock({action:t,docId:i,blockId:e});return}let o=s.get(e);(0,p.Z1)(o),this._indexBlock({action:t,docId:i,blockId:e,block:o})});return}if(e instanceof y.YTextEvent){let t=e.path[0];if(!t||"string"!=typeof t)throw Error("Failed to update index! Unexpected YText Event!");let o=s.get(t);(0,p.Z1)(o),this._indexBlock({action:"update",docId:i,blockId:t,block:o});return}}})},this.slots={docRemoved:new H.D,blockUpdated:new H.D,refreshIndex:new H.D},this._doc=e,this._collectionSlots=i,t){this._initIndex();return}setTimeout(()=>{this._initIndex()},0)}_getDoc(e){return this._doc.spaces.get(e)}_indexBlock(e){this.slots.blockUpdated.emit(e)}_indexDoc(e,t){let i=t.getMap("blocks");i.forEach((t,i)=>{this._indexBlock({action:"add",docId:e,blockId:i,block:t})});let s=(t,s)=>this._yDocObserver(t,s,{docId:e,yDoc:i});return i.observeDeep(s),()=>{i.unobserveDeep(s)}}_initIndex(){let e=this._doc;if(!e.share.has("meta"))throw Error("Failed to initialize indexer: collection meta not found");let t={};this._disposables.add(()=>{Object.values(t).forEach(e=>e?.()),t={}}),Array.from(e.spaces.keys()).map(e=>({docId:e,doc:this._getDoc(e)})).forEach(({docId:e,doc:i})=>{if((0,p.Z1)(i,`Failed to find doc '${e}'`),t[e]){console.warn(`Duplicated docAdded event! ${e} already observed`,t);return}let s=this._indexDoc(e,i);t[e]=s}),this._collectionSlots.docAdded.on(e=>{let i=this._getDoc(e);if((0,p.Z1)(i,`Failed to find doc '${e}'`),t[e])return;let s=this._indexDoc(e,i);t[e]=s}),this._collectionSlots.docRemoved.on(e=>{t[e]?.(),t[e]=null,this.slots.docRemoved.emit(e)})}dispose(){this._disposables.dispose()}refreshIndex(){this.slots.refreshIndex.emit(),this._initIndex()}}var ta=i(63820),tn=i(97880);let tl=tn.A.Document,tc=tn.A.Index;class td{constructor(e,t="en-US"){this._reindex=()=>{if(this._reindexMap){for(let e of this._reindexMap.keys()){let t=this._reindexMap.get(e);t&&(this._reindexMap.delete(e),this._indexer.add(e,t))}setTimeout(()=>{this._reindexMap&&(ta.bE?requestIdleCallback(this._reindex,{timeout:1e3}):setTimeout(this._reindex,1e3))},200)}},this._reindexMap=null,this._doc=e,this._indexer=new tl({document:{id:"id",index:["content","reference","space"],tag:"tags",store:["space","content"]},encode:function(e){let t=Intl.Segmenter;if(t){let i=new tc({charset:"latin:advanced"}),s=i.encode.bind(i),o=/^[\p{Script=Latin}\p{Mark}\d]+$/u,r=new t([e],{granularity:"word"});return e=>{let t=[];return[...Array.from(r.segment(e)).filter(e=>{if(e.isWordLike){if(!o.test(e.segment))return!0;t.push(e.segment)}return!1}).map(e=>e.segment),...s(t.join(" "))]}}return e=>e.replace(/[\x00-\x7F]/g,"").split("")}(t),tokenize:"forward",context:!0}),this._reindexMap=new Map,this._reindex(),e.spaces.observe(e=>{e.keysChanged.forEach(e=>{let t=this._getDoc(e);null!=t&&this._handleDocIndexing(e,t)})}),ta.u2&&window.addEventListener("beforeunload",()=>{this._reindexMap=null}),ta.A_&&process.on("exit",()=>{this._reindexMap=null})}_getDoc(e){try{return this._doc.spaces.get(e)}catch(e){return}}_handleDocIndexing(e,t){if(!t)return;let i=t.getMap("blocks");this.refreshDocIndex(e,t),i.observeDeep(t=>{let s=t.flatMap(e=>(e.path?.length|0)>0?[[e.path[0],"update"]]:Array.from(e.changes.keys.entries()).map(([e,{action:t}])=>[e,t]));s.length&&s.forEach(([t,s])=>{this._refreshIndex(e,t,s,i.get(t))})})}_refreshIndex(e,t,i,s){switch(i){case"add":case"update":if(s){let i=this._toContent(s.get("prop:title")||s.get("prop:text"));i&&this._reindexMap?.set(t,{content:i,space:e,tags:[e]})}break;case"delete":this._reindexMap?.delete(t),this._indexer.remove(t)}}_search(e){return"object"==typeof e?this._indexer.search({...e,enrich:!0}):this._indexer.search(e,{enrich:!0})}_toContent(e){if(e){if("string"==typeof e)return e;if(e instanceof y.Text)return e.toJSON()}}refreshDocIndex(e,t){let i=t.getMap("blocks");i.forEach((t,s)=>{this._refreshIndex(e,s,"add",i.get(s))})}search(e){return new Map(this._search(e).flatMap(({result:e})=>e.map(e=>[e.id,{space:e.doc.space,content:e.doc.content}])))}}let th=e=>class extends e{constructor(e){super(e);let t=new tr(this.doc,{slots:this.slots});this.indexer={search:e.disableSearchIndex?null:new td(this.doc),backlink:new to(t)}}search(e){return this.indexer.search?.search(e)??new Map}},tu=Symbol.for("react.test.json"),tp=["sys:id","sys:version","sys:flavour","sys:children","prop:xywh","prop:cells","prop:elements"];function tf(e){return e.length?1!==e.length||e[0].attributes?{$$typeof:tu,type:"",props:{},children:e?.map(({insert:e,attributes:t})=>({$$typeof:tu,type:"text",props:{insert:e,...t}}))}:e[0].insert:void 0}let tg=e=>class extends e{exportJSX(e,t=this.meta.docMetas.at(0)?.id){(0,p.Z1)(t);let i=this.doc.spaces.get(t);(0,p.Z1)(i);let s=function e(t){let i={};return t.share.forEach((t,s)=>{t instanceof y.Map?i[s]=function t(i){let s={};return i.forEach((i,o)=>{s[o]=function i(s){return s instanceof y.Doc?e(s):s instanceof y.Map?t(s):s instanceof y.Text?s.toDelta():s instanceof y.Array?s.toArray().map(e=>i(e)):s instanceof y.AbstractType?s.toJSON():s}(i)}),s}(t):i[s]=t.toJSON()}),i}(i);if(!s)throw Error(`Doc ${t} doesn't exist`);let o=s.blocks;if(!e){let t=Object.keys(o).at(0);if(!t)return null;e=t}return o[e]?function e(t,i){if(!("object"==typeof t&&null!==t))throw Error("Failed to parse doc record! Invalid data.");let s=t[i];if(!s)throw Error(`Failed to parse doc record! Node not found! id: ${i}.`);let o=s["sys:flavour"],r=s["sys:children"],a=Object.fromEntries(Object.entries(s).filter(([e])=>!tp.includes(e)));return"prop:text"in a&&a["prop:text"]instanceof Array&&(a["prop:text"]=tf(a["prop:text"])),"prop:title"in a&&a["prop:title"]instanceof Array&&(a["prop:title"]=tf(a["prop:title"])),"prop:columns"in a&&a["prop:columns"]instanceof Array&&(a["prop:columns"]=`Array [${a["prop:columns"].length}]`),"prop:views"in a&&a["prop:views"]instanceof Array&&(a["prop:views"]=`Array [${a["prop:views"].length}]`),{$$typeof:tu,type:o,props:a,children:r?.map(i=>e(t,i))??[]}}(o,e):null}};class tm{}var tv=i(47754);class ty{constructor(e,t){this._yBlocks=e,this._schema=t}_getSiblings(e,t){let i=this.getParent(e);if(!i)return null;let s=this._yBlocks.get(i);if(!s)return null;let o=s.get("sys:children").toArray().indexOf(e);return -1===o?null:t(o,s)}addBlock(e,t,i={},s,o){let r=this._schema.flavourSchemaMap.get(t);if(!r)throw new l.Ss(c.O.ModelCRUDError,`schema for flavour: ${t} not found`);let a=s?this._yBlocks.get(s)?.get("sys:flavour"):void 0;this._schema.validate(t,a);let n=new y.Map;this._yBlocks.set(e,n);let d=r.version,h=i.children?.map(e=>"string"==typeof e?e:e.id);n.set("sys:id",e),n.set("sys:flavour",t),n.set("sys:version",d),n.set("sys:children",y.Array.from(h??[]));let u={...r.model.props?.(R)??{},...i};delete u.id,delete u.flavour,delete u.children,Object.entries(u).forEach(([e,t])=>{void 0!==t&&n.set(`prop:${e}`,I(t))});let p=s??("root"===r.model.role?null:this.root);if(!p)return;let f=this._yBlocks.get(p);if(!f)return;let g=f.get("sys:children"),m=o??g.length;g.insert(m,[e])}deleteBlock(e,t={deleteChildren:!0}){let{bringChildrenTo:i,deleteChildren:s}=t;if(i&&s){console.error("Cannot bring children to another block and delete them at the same time");return}let o=this._yBlocks.get(e);if(!o)return;let r=o.get("sys:children"),a=this.getParent(e);if(!a)return;let n=this._yBlocks.get(a).get("sys:children"),d=n.toArray().indexOf(e);d>-1&&n.delete(d,1),(()=>{if(i){(()=>{if(!i)throw new l.Ss(c.O.ModelCRUDError,"bringChildrenTo is not provided when deleting block");let e=this._yBlocks.get(i);if(!e)return;let t=e.get("sys:flavour");if(r.forEach(e=>{let i=this._yBlocks.get(e);i&&this._schema.validate(i.get("sys:flavour"),t)}),i===a){n.insert(d,r.toArray());return}let s=this._yBlocks.get(i);s&&s.get("sys:children").push(r.toArray())})();return}if(s){let e=t=>{this._yBlocks.get(t).get("sys:children").forEach(t=>e(t)),this._yBlocks.delete(t)};r.forEach(t=>e(t))}})(),this._yBlocks.delete(e)}getNext(e){return this._getSiblings(e,(e,t)=>t.get("sys:children").toArray().at(e+1)??null)}getParent(e){let t=this.root;if(!t||t===e)return null;let i=t=>{let s=this._yBlocks.get(t);if(!s)return null;for(let o of s.get("sys:children").toArray()){if(o===e)return t;let s=i(o);if(null!=s)return s}return null};return i(t)}getPrev(e){return this._getSiblings(e,(e,t)=>t.get("sys:children").toArray().at(e-1)??null)}moveBlocks(e,t,i=null,s=!0){let o=new Map,r=this._yBlocks.get(t);if(!r)return;let a=r.get("sys:flavour");e.forEach(e=>{let t=this.getParent(e);if(!t)return;let i=this._yBlocks.get(e);if(!i)return;this._schema.validate(i.get("sys:flavour"),a);let s=o.get(t);if(!s){o.set(t,[e]);return}let r=s[s.length-1];if(this.getNext(r)!==e)throw new l.Ss(c.O.ModelCRUDError,"The blocks to move are not contiguous under their parent");s.push(e)});let n=0;Array.from(o.entries()).forEach(([e,o],r)=>{let a=this._yBlocks.get(t);if(!a)return;let d=a.get("sys:children"),h=this._yBlocks.get(e);if(!h)return;let u=h.get("sys:children"),p=u.toArray().findIndex(e=>e===o[0]);u.delete(p,o.length),(()=>{if(0!==r){n++;return}if(!i){n=d.length;return}let e=d.toArray().findIndex(e=>e===i);if(-1===e)throw new l.Ss(c.O.ModelCRUDError,"Target sibling not found");n=s?e:e+1})(),d.insert(n,o)})}updateBlockChildren(e,t){let i=this._yBlocks.get(e);if(!i)return;let s=i.get("sys:children");s.delete(0,s.length),s.push(t)}get root(){let e=null;return this._yBlocks.forEach(t=>{let i=t.get("sys:flavour"),s=this._schema.flavourSchemaMap.get(i);s&&"root"===s.model.role&&(e=t.get("sys:id"))}),e}}class tb{constructor({id:e,collection:t,doc:i,awarenessStore:s,idGenerator:o=tv.gZ}){this._docMap={undefined:new Map,true:new Map,false:new Map},this._handleYEvents=e=>{e.forEach(e=>this._handleYEvent(e))},this._historyObserver=()=>{this.slots.historyUpdated.emit()},this._initSubDoc=()=>{let e=this.rootDoc.spaces.get(this.id);return e?(this._loaded=!1,this.rootDoc.on("subdocs",this._onSubdocEvent)):(e=new y.Doc({guid:this.id}),this.rootDoc.spaces.set(this.id,e),this._loaded=!0,this._onLoadSlot.emit()),e},this._onLoadSlot=new H.D,this._onSubdocEvent=({loaded:e})=>{Array.from(e).find(e=>e.guid===this._ySpaceDoc.guid)&&(this.rootDoc.off("subdocs",this._onSubdocEvent),this._loaded=!0,this._onLoadSlot.emit())},this._ready=!1,this._shouldTransact=!0,this.slots={historyUpdated:new H.D,yBlockUpdated:new H.D},this.id=e,this.rootDoc=i,this.awarenessStore=s,this._ySpaceDoc=this._initSubDoc(),this._yBlocks=this._ySpaceDoc.getMap("blocks"),this._collection=t,this._idGenerator=o,this._docCRUD=new ty(this._yBlocks,t.schema)}_getReadonlyKey(e){return e?.toString()??"undefined"}_handleVersion(){this.collection.meta.hasVersion?this.awarenessStore.getFlag("enable_legacy_validation")&&this.collection.meta.validateVersion(this.collection):this.collection.meta.writeVersion(this.collection)}_handleYBlockAdd(e){this.slots.yBlockUpdated.emit({type:"add",id:e})}_handleYBlockDelete(e){this.slots.yBlockUpdated.emit({type:"delete",id:e})}_handleYEvent(e){e.target===this._yBlocks&&e.keys.forEach((e,t)=>{try{if("add"===e.action){this._handleYBlockAdd(t);return}if("delete"===e.action){this._handleYBlockDelete(t);return}}catch(e){console.error("An error occurred while handling Yjs event:"),console.error(e)}})}_initYBlocks(){let{_yBlocks:e}=this;e.observeDeep(this._handleYEvents),this._history=new y.UndoManager([e],{trackedOrigins:new Set([this._ySpaceDoc.clientID])}),this._history.on("stack-cleared",this._historyObserver),this._history.on("stack-item-added",this._historyObserver),this._history.on("stack-item-popped",this._historyObserver),this._history.on("stack-item-updated",this._historyObserver)}captureSync(){this._history.stopCapturing()}clear(){this._yBlocks.clear()}clearQuery(e,t){let i=this._getReadonlyKey(t);this._docMap[i].delete(JSON.stringify(e))}destroy(){this._ySpaceDoc.destroy(),this._onLoadSlot.dispose(),this._loaded=!1}dispose(){this.slots.historyUpdated.dispose(),this.ready&&(this._yBlocks.unobserveDeep(this._handleYEvents),this._yBlocks.clear())}generateBlockId(){return this._idGenerator()}getDoc({readonly:e,query:t}={}){let i=this._getReadonlyKey(e),s=JSON.stringify(t);if(this._docMap[i].has(s))return this._docMap[i].get(s);let o=new eF({blockCollection:this,crud:this._docCRUD,schema:this.collection.schema,readonly:e,query:t});return this._docMap[i].set(s,o),o}load(e){return this.ready||(this._ySpaceDoc.load(),(this.collection.meta.docs?.length??0)<=1&&this._handleVersion(),this._initYBlocks(),this._yBlocks.forEach((e,t)=>{this._handleYBlockAdd(t)}),e?.(),this._ready=!0),this}redo(){if(this.readonly){console.error("cannot modify data in readonly mode");return}this._history.redo()}remove(){this.destroy(),this.rootDoc.spaces.delete(this.id)}resetHistory(){this._history.clear()}transact(e,t=this._shouldTransact){this._ySpaceDoc.transact(()=>{try{e()}catch(e){console.error(`An error occurred while Y.doc ${this._ySpaceDoc.guid} transacting:`),console.error(e)}},t?this.rootDoc.clientID:null)}undo(){if(this.readonly){console.error("cannot modify data in readonly mode");return}this._history.undo()}withoutTransact(e){this._shouldTransact=!1,e(),this._shouldTransact=!0}get Text(){return M}get awarenessSync(){return this.collection.awarenessSync}get blobSync(){return this.collection.blobSync}get canRedo(){return!this.readonly&&this._history.canRedo()}get canUndo(){return!this.readonly&&this._history.canUndo()}get collection(){return this._collection}get crud(){return this._docCRUD}get docSync(){return this.collection.docSync}get history(){return this._history}get isEmpty(){return 0===this._yBlocks.size}get loaded(){return this._loaded}get meta(){return this.collection.meta.getDocMeta(this.id)}get readonly(){return this.awarenessStore.isReadonly(this)}get ready(){return this._ready}get schema(){return this.collection.schema}get spaceDoc(){return this._ySpaceDoc}get yBlocks(){return this._yBlocks}}var tw=i(30397);let tx=()=>(0,tv.gZ)(),t_=()=>(0,tw.Ak)(10);!function(e){e.AutoIncrement="autoIncrement",e.AutoIncrementByClientId="autoIncrementByClientId",e.NanoID="nanoID",e.UUIDv4="uuidV4"}(n||(n={}));class tC{constructor(e){this._handleDocCollectionMetaEvents=e=>{e.forEach(e=>{let t=t=>e.target===this._yMap&&e.changes.keys.has(t);(e.target===this.yDocs||e.target.parent===this.yDocs||t("pages"))&&this._handleDocMetaEvent(),(t("name")||t("avatar"))&&this._handleCommonFieldsEvent()})},this._prevDocs=new Set,this.commonFieldsUpdated=new H.D,this.docMetaAdded=new H.D,this.docMetaRemoved=new H.D,this.docMetaUpdated=new H.D,this.id="meta",this.doc=e,this._yMap=e.getMap(this.id),this._proxy=e.getMapProxy(this.id),this._yMap.observeDeep(this._handleDocCollectionMetaEvents)}_handleCommonFieldsEvent(){this.commonFieldsUpdated.emit()}_handleDocMetaEvent(){let{docMetas:e,_prevDocs:t}=this,i=new Set;e.forEach(e=>{t.has(e.id)||this.docMetaAdded.emit(e.id),i.add(e.id)}),t.forEach(e=>{!1===i.has(e)&&this.docMetaRemoved.emit(e)}),this._prevDocs=i,this.docMetaUpdated.emit()}addDocMeta(e,t){this.doc.transact(()=>{if(!this.docs)return;let i=this.docs;void 0===t?i.push(e):i.splice(t,0,e)},this.doc.clientID)}getDocMeta(e){return this.docMetas.find(t=>t.id===e)}initialize(){this._proxy.pages||(this._proxy.pages=[])}removeDocMeta(e){if(!this.docs)return;let t=this.docMetas.findIndex(t=>e===t.id);-1!==t&&this.doc.transact(()=>{this.docs&&this.docs.splice(t,1)},this.doc.clientID)}setAvatar(e){this.doc.transact(()=>{this._proxy.avatar=e},this.doc.clientID)}setDocMeta(e,t){let i=(this.docs??[]).findIndex(t=>e===t.id);this.doc.transact(()=>{if(!this.docs||-1===i)return;let e=this.docs[i];Object.entries(t).forEach(([t,i])=>{e[t]=i})},this.doc.clientID)}setName(e){this.doc.transact(()=>{this._proxy.name=e},this.doc.clientID)}setProperties(e){this._proxy.properties=e,this.docMetaUpdated.emit()}updateVersion(e){this._proxy.workspaceVersion=2,this._proxy.pageVersion=2;let t={};e.schema.flavourSchemaMap.forEach((e,i)=>{t[i]=e.version}),this._proxy.blockVersions=t}validateVersion(e){let t=this._proxy.workspaceVersion;if(!t)throw new l.Ss(c.O.DocCollectionError,"Invalid workspace data, workspace version is missing. Please make sure the data is valid.");if(t<2)throw new l.Ss(c.O.DocCollectionError,`Workspace version ${t} is outdated. Please upgrade the editor.`);let i=this._proxy.pageVersion;if(!i)throw new l.Ss(c.O.DocCollectionError,"Invalid workspace data, page version is missing. Please make sure the data is valid.");if(i<2)throw new l.Ss(c.O.DocCollectionError,`Doc version ${i} is outdated. Please upgrade the editor.`);let s={...this._proxy.blockVersions};if(!s)throw new l.Ss(c.O.DocCollectionError,"Invalid workspace data, versions data is missing. Please make sure the data is valid");let o=Object.keys(s);if(0===o.length)throw new l.Ss(c.O.DocCollectionError,"Invalid workspace data, missing versions field. Please make sure the data is valid.");o.forEach(t=>{let i=s[t],o=e.schema.flavourSchemaMap.get(t)?.version;if(o){if(i>o)throw new l.Ss(c.O.DocCollectionError,`Editor doesn't support ${t}@${i}. Please upgrade the editor.`);if(i<o)throw new l.Ss(c.O.DocCollectionError,`In workspace data, the block flavour ${t}@${i} is outdated. Please downgrade the editor or try data migration.`)}else throw new l.Ss(c.O.DocCollectionError,`Editor missing ${t} flavour. Please make sure this block flavour is registered.`)})}writeVersion(e){let{blockVersions:t,pageVersion:i,workspaceVersion:s}=this._proxy;if(s?console.error("Workspace version is already set"):this._proxy.workspaceVersion=2,i?console.error("Doc version is already set"):this._proxy.pageVersion=2,t)console.error("Block versions is already set");else{let t={};e.schema.flavourSchemaMap.forEach((e,i)=>{t[i]=e.version}),this._proxy.blockVersions=t}}get avatar(){return this._proxy.avatar}get blockVersions(){return this._proxy.blockVersions}get docMetas(){return this._proxy.pages?this._proxy.pages:[]}get docs(){return this._proxy.pages}get hasVersion(){return!!this.blockVersions&&!!this.pageVersion&&!!this.workspaceVersion&&Object.keys(this.blockVersions).length>0}get name(){return this._proxy.name}get pageVersion(){return this._proxy.pageVersion}get properties(){return this._proxy.properties||{tags:{options:[]}}}get workspaceVersion(){return this._proxy.workspaceVersion}get yDocs(){return this._yMap.get("pages")}}var tk=function(e,t,i,s,o,r){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var n,l=s.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var f={};for(var g in s)f[g]="access"===g?{}:s[g];for(var g in s.access)f.access[g]=s.access[g];f.addInitializer=function(e){if(u)throw TypeError("Cannot add initializers after decoration has completed");r.push(a(e||null))};var m=(0,i[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(n=a(m.get))&&(h.get=n),(n=a(m.set))&&(h.set=n),(n=a(m.init))&&o.unshift(n)}else(n=a(m))&&("field"===l?o.unshift(n):h[c]=n)}d&&Object.defineProperty(d,s.name,h),u=!0},tS=function(e,t,i){for(var s=arguments.length>2,o=0;o<t.length;o++)i=s?t[o].call(e,i):t[o].call(e);return s?i:void 0};let tM={enable_synced_doc_block:!1,enable_pie_menu:!1,enable_database_number_formatting:!1,enable_database_statistics:!1,enable_database_attachment_note:!1,enable_legacy_validation:!0,enable_expand_database_block:!1,enable_block_query:!1,enable_lasso_tool:!1,enable_edgeless_text:!0,enable_ai_onboarding:!1,enable_ai_chat_block:!1,enable_color_picker:!1,readonly:{}},tE=(()=>{let e,t,i=[th,tg],s=[],o=tm;return class extends o{static{t=this}static{let r="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;tk(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,s),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}static{this.Y=y}constructor({id:e,schema:t,idGenerator:i,defaultFlags:s,awarenessSources:o=[],docSources:r={main:new e9},blobSources:a={main:new e0},logger:l=new eK}){super(),this.blockCollections=new Map,this.slots={docAdded:new H.D,docUpdated:new H.D,docRemoved:new H.D},this._schema=t,this.id=e||"",this.doc=new ti({guid:e}),this.awarenessStore=new tt(new eQ.ww(this.doc),(0,te.merge)(!0,tM,s)),this.awarenessSync=new eX(this.awarenessStore.awareness,o),this.docSync=new e8(this.doc,r.main,r.shadows??[],l),this.blobSync=new e1(a.main,a.shadows??[],l),this.idGenerator=function(e,t){if("function"==typeof e)return e;switch(e){case n.AutoIncrement:let i;return i=0,()=>(i++).toString();case n.AutoIncrementByClientId:let s;return s=0,()=>`${t}:${s++}`;case n.UUIDv4:return tx;case n.NanoID:default:return t_}}(i,this.doc.clientID),this.meta=new tC(this.doc),this._bindDocMetaEvents()}_bindDocMetaEvents(){this.meta.docMetaAdded.on(e=>{let t=new tb({id:e,collection:this,doc:this.doc,awarenessStore:this.awarenessStore,idGenerator:this.idGenerator});this.blockCollections.set(t.id,t),this.slots.docAdded.emit(t.id)}),this.meta.docMetaUpdated.on(()=>this.slots.docUpdated.emit()),this.meta.docMetaRemoved.on(e=>{let t=this.getBlockCollection(e);t&&(this.blockCollections.delete(e),t.remove(),this.slots.docRemoved.emit(e))})}_hasDoc(e){return this.docs.has(e)}canGracefulStop(){this.docSync.canGracefulStop()}createDoc(e={}){let{id:t=this.idGenerator(),query:i}=e;if(this._hasDoc(t))throw new l.Ss(c.O.DocCollectionError,"doc already exists");return this.meta.addDocMeta({id:t,title:"",createDate:Date.now(),tags:[]}),this.getDoc(t,{query:i})}forceStop(){this.docSync.forceStop(),this.blobSync.stop(),this.awarenessSync.disconnect()}getBlockCollection(e){return this.docs.get(e)??null}getDoc(e,t){let i=this.getBlockCollection(e);return i?.getDoc(t)??null}removeDoc(e){if(!this.meta.getDocMeta(e))throw new l.Ss(c.O.DocCollectionError,`doc meta not found: ${e}`);let t=this.getBlockCollection(e);t&&(t.dispose(),this.meta.removeDocMeta(e),this.blockCollections.delete(e))}setDocMeta(e,t){this.meta.setDocMeta(e,t)}start(){this.docSync.start(),this.blobSync.start(),this.awarenessSync.connect()}waitForGracefulStop(e){return this.docSync.waitForGracefulStop(e)}waitForSynced(){return this.docSync.waitForSynced()}get docs(){return this.blockCollections}get isEmpty(){if(0===this.doc.store.clients.size)return!0;let e=!1;return 1===this.doc.store.clients.size&&Array.from(this.doc.store.clients.values())[0].length<=2&&(e=!0),e}get schema(){return this._schema}static{tS(t,s)}},t})();function tI(e){return Array.isArray(e)?e.map(tI):"object"==typeof e&&null!=e?Reflect.has(e,_)?new k(Reflect.get(e,"value")):Reflect.has(e,x)?new M(Reflect.get(e,"delta")):Object.fromEntries(Object.entries(e).map(([e,t])=>[e,tI(t)])):e}class tB{constructor(){this._internal=R}_propsFromSnapshot(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,tI(t)]))}_propsToSnapshot(e){return Object.fromEntries(e.keys.map(t=>{let i=e[t];return[t,function e(t){return t instanceof k?{[_]:!0,value:t.getValue()}:t instanceof M?{[x]:!0,delta:t.yText.toDelta()}:Array.isArray(t)?t.map(e):E(t)?Object.fromEntries(Object.entries(t).map(([t,i])=>[t,e(i)])):t}(i)]}))}fromSnapshot({json:e}){let{flavour:t,id:i,version:s,props:o}=e;return{id:i,flavour:t,version:s??-1,props:this._propsFromSnapshot(o)}}toSnapshot({model:e}){let{id:t,flavour:i,version:s}=e;return{id:t,flavour:i,version:s,props:this._propsToSnapshot(e)}}}function t$(e){let{id:t,version:i,flavour:s,role:o,keys:r,text:a,children:n}=e,l=e.keys.reduce((t,i)=>({...t,[i]:e[i]}),{});return{id:t,version:i,flavour:s,role:o,keys:r,text:a,children:n.map(t$),...l}}class tT{constructor(e){this._assetsMap=new Map,this._blob=e.blob}cleanup(){this._assetsMap.clear()}getAssets(){return this._assetsMap}isEmpty(){return 0===this._assetsMap.size}async readFromBlob(e){let t=await this._blob.get(e);(0,p.Z1)(t,`Blob ${e} not found in blob manager`),this._assetsMap.set(e,t)}async writeToBlob(e){let t=this._assetsMap.get(e);(0,p.Z1)(t),await this._blob.get(e)===null&&await this._blob.set(e,t)}}class tO{constructor(e){this.data=e}static fromModels(e,t){let{pageVersion:i,workspaceVersion:s}=e.collection.meta;if(!i||!s)throw new l.Ss(c.O.ModelCRUDError,"pageVersion or workspaceVersion not found when creating slice");return new tO({content:t,workspaceId:e.collection.id,pageId:e.id,pageVersion:i,workspaceVersion:s})}get content(){return this.data.content}get docId(){return this.data.pageId}get pageVersion(){return this.data.pageVersion}get workspaceId(){return this.data.workspaceId}get workspaceVersion(){return this.data.workspaceVersion}}let tP=L.z.object({type:L.z.literal("block"),id:L.z.string(),flavour:L.z.string(),version:L.z.number().optional(),props:L.z.record(L.z.unknown()),children:L.z.lazy(()=>tP.array())}),tA=L.z.object({type:L.z.literal("slice"),content:tP.array(),pageVersion:L.z.number(),workspaceVersion:L.z.number(),workspaceId:L.z.string(),pageId:L.z.string()}),tH=L.z.object({id:L.z.string(),type:L.z.literal("info"),pageVersion:L.z.number(),workspaceVersion:L.z.number(),properties:L.z.record(L.z.any())}),tL=L.z.object({id:L.z.string(),title:L.z.string(),createDate:L.z.number(),tags:L.z.array(L.z.string())}),tD=L.z.object({type:L.z.literal("page"),meta:tL,blocks:tP});class tZ{constructor({collection:e,middlewares:t=[]}){this._adapterConfigs=new Map,this._batchCounter=0,this._pendingOperations=[],this._slots={beforeImport:new H.D,afterImport:new H.D,beforeExport:new H.D,afterExport:new H.D},this.blockToSnapshot=async e=>{try{let t=await this._blockToSnapshot(e);return tP.parse(t),t}catch(e){console.error("Error when transforming block to snapshot:"),console.error(e);return}},this.collectionInfoToSnapshot=()=>{try{this._slots.beforeExport.emit({type:"info"});let e=this._getCollectionMeta(),t={type:"info",id:this._collection.id,...e};return this._slots.afterExport.emit({type:"info",snapshot:t}),tH.parse(t),t}catch(e){console.error("Error when transforming collection info to snapshot:"),console.error(e);return}},this.docToSnapshot=async e=>{try{this._slots.beforeExport.emit({type:"page",page:e});let t=e.root,i=this._exportDocMeta(e);if(!t)throw new l.Ss(c.O.TransformerError,"Root block not found in doc");let s=await this.blockToSnapshot(t);if(!s)return;let o={type:"page",meta:i,blocks:s};return this._slots.afterExport.emit({type:"page",page:e,snapshot:o}),tD.parse(o),o}catch(e){console.error("Error when transforming doc to snapshot:"),console.error(e);return}},this.sliceToSnapshot=async e=>{try{this._slots.beforeExport.emit({type:"slice",slice:e});let{content:t,pageVersion:i,workspaceVersion:s,pageId:o,workspaceId:r}=e.data,a=[];for(let e of t){let t=await this.blockToSnapshot(e);if(!t)return;a.push(t)}let n={type:"slice",workspaceId:r,pageId:o,pageVersion:i,workspaceVersion:s,content:a};return this._slots.afterExport.emit({type:"slice",slice:e,snapshot:n}),tA.parse(n),n}catch(e){console.error("Error when transforming slice to snapshot:"),console.error(e);return}},this.snapshotToBlock=async(e,t,i,s)=>{try{return tP.parse(e),await this._batchSnapshotToBlock(e,t,i,s)}catch(e){console.error("Error when transforming snapshot to block:"),console.error(e);return}},this.snapshotToDoc=async e=>{try{this._slots.beforeImport.emit({type:"page",snapshot:e}),tD.parse(e);let{meta:t,blocks:i}=e,s=this._collection.createDoc({id:t.id});return s.load(),await this.snapshotToBlock(i,s),this._slots.afterImport.emit({type:"page",snapshot:e,page:s}),s}catch(e){console.error("Error when transforming snapshot to doc:"),console.error(e);return}},this.snapshotToModelData=async e=>{try{let{children:t,flavour:i,props:s,id:o}=e,r=this._getSchema(i),a=this._getTransformer(r);return await a.fromSnapshot({json:{id:o,flavour:i,props:s},assets:this._assetsManager,children:t})}catch(e){console.error("Error when transforming snapshot to model data:"),console.error(e);return}},this.snapshotToSlice=async(e,t,i,s)=>{try{this._slots.beforeImport.emit({type:"slice",snapshot:e}),tA.parse(e);let{content:o,pageVersion:r,workspaceVersion:a,workspaceId:n,pageId:l}=e,c=[];for(let[e,r]of o.entries())c.push(await this._batchSnapshotToBlock(r,t,i,(s??0)+e));let d=new tO({content:c.map(e=>t$(e)),pageVersion:r,workspaceVersion:a,workspaceId:n,pageId:l});return this._slots.afterImport.emit({type:"slice",snapshot:e,slice:d}),d}catch(e){console.error("Error when transforming snapshot to slice:"),console.error(e);return}},this.walk=(e,t)=>{let i=e=>{try{t(e)}catch(e){console.error("Error when walking snapshot:"),console.error(e)}e.children&&e.children.forEach(i)};i(e.blocks)},this._collection=e,this._assetsManager=new tT({blob:e.blobSync}),t.forEach(e=>{e({slots:this._slots,assetsManager:this._assetsManager,collection:this._collection,adapterConfigs:this._adapterConfigs})})}_batchSnapshotToBlock(e,t,i,s){return new Promise(o=>{this._batchCounter<100?o(this._snapshotToBlock(e,t,i,s)):this._pendingOperations.push(()=>o(this._snapshotToBlock(e,t,i,s))),this._batchCounter++,clearTimeout(this._unblockTimer),this._unblockTimer=setTimeout(()=>{for(;this._pendingOperations.length>0;)this._pendingOperations.shift()?.();this._unblockTimer=void 0,this._batchCounter=0},10)})}async _blockToSnapshot(e){this._slots.beforeExport.emit({type:"block",model:e});let t=this._getSchema(e.flavour),i=this._getTransformer(t),s=await i.toSnapshot({model:e,assets:this._assetsManager}),o=await Promise.all(e.children.map(e=>this._blockToSnapshot(e))),r={type:"block",...s,children:o};return this._slots.afterExport.emit({type:"block",model:e,snapshot:r}),r}_exportDocMeta(e){let t=e.meta;if(!t)throw new l.Ss(c.O.TransformerError,"Doc meta not found");return{id:t.id,title:t.title,createDate:t.createDate,tags:[]}}_getCollectionMeta(){let{meta:e}=this._collection,{pageVersion:t,workspaceVersion:i,docs:s}=e;if(!t)throw new l.Ss(c.O.TransformerError,"Page version not found");if(!i)throw new l.Ss(c.O.TransformerError,"Workspace version not found");if(!s)throw new l.Ss(c.O.TransformerError,"Docs not found");return{pageVersion:t,workspaceVersion:i,properties:{},pages:JSON.parse(JSON.stringify(s))}}_getSchema(e){let t=this._collection.schema.flavourSchemaMap.get(e);if(!t)throw new l.Ss(c.O.TransformerError,`Flavour schema not found for ${e}`);return t}_getTransformer(e){return e.transformer?.()??new tB}async _snapshotToBlock(e,t,i,s){this._slots.beforeImport.emit({type:"block",snapshot:e,parent:i,index:s});let{children:o,flavour:r,props:a,id:n}=e,d=this._getSchema(r),h=this._getTransformer(d),u=await h.fromSnapshot({json:{id:n,flavour:r,props:a},assets:this._assetsManager,children:o}),p="undefined"!=typeof window?window.requestAnimationFrame:setImmediate;for(let[e,r]of(await new Promise(e=>p(()=>e(void 0))),t.addBlock(u.flavour,{...u.props,id:u.id},i,s),o.entries()))await this._batchSnapshotToBlock(r,t,n,e);let f=t.getBlockById(n);if(!f)throw new l.Ss(c.O.TransformerError,`Block not found by id ${n}`);return this._slots.afterImport.emit({type:"block",snapshot:e,model:f,parent:i,index:s}),f}reset(){this._assetsManager.cleanup()}get adapterConfigs(){return this._adapterConfigs}get assets(){return this._assetsManager.getAssets()}get assetsManager(){return this._assetsManager}get collection(){return this._collection}}let tj="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},tV="__ $BLOCKSUITE_STORE$ __";!0===tj[tV]&&console.error("@blocksuite/store was already imported. This breaks constructor checks and will lead to issues!"),tj[tV]=!0}}]);
//# sourceMappingURL=npm-blocksuite.1dff9efd.js.map